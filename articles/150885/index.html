<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic connection of css and js files in Yii</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. 

 This time I want to talk about how to automatically connect css and js files in Yii. The idea is to bind the appropriate folder with reso...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic connection of css and js files in Yii</h1><div class="post__text post__text-html js-mediator-article">  Good day. <br><br>  This time I want to talk about how to automatically connect css and js files in Yii.  The idea is to bind the appropriate folder with resources (css, js, images) to each file of the form.  This is convenient because  in most cases, specific ‚Äúassets‚Äù are used for specific files of the form. <br><a name="habracut"></a><br>  And so, closer to the code.  Expand the Controller class (which is probably in your ‚Äúcomponents‚Äù folder :), adding the following functionality to it: <br><br><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Array of paths of assets * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_assetsPaths = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-comment"><span class="hljs-comment">/** * Array of asset Url * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_assetsUrl = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-comment"><span class="hljs-comment">/** * Name of directory for css files * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> strign */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_cssDirName = <span class="hljs-string"><span class="hljs-string">'css'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Default file name of css * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_defaultCssFile = <span class="hljs-string"><span class="hljs-string">'index.css'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Name of directory for script files * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> strign */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_scriptDirName = <span class="hljs-string"><span class="hljs-string">'js'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Default file name of script * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_defaultScriptFile = <span class="hljs-string"><span class="hljs-string">'index.js'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Name of directory for images * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> strign */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_imageDirName = <span class="hljs-string"><span class="hljs-string">'images'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * This method is invoked at the beginning of {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> render()}. * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view the view to be rendered * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> boolean whether the view should be rendered. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">beforeRender</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_setupScript($view); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_setupCss($view); $viewCamelCase = preg_replace_callback( <span class="hljs-string"><span class="hljs-string">'/_([a-z0-9])/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($char)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strtoupper($char[<span class="hljs-number"><span class="hljs-number">1</span></span>]); }, ucfirst($view) ); $methodScript = <span class="hljs-string"><span class="hljs-string">'_setupScript'</span></span> . $viewCamelCase; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (method_exists(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>, $methodScript)) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;$methodScript($view); } $methodCss = <span class="hljs-string"><span class="hljs-string">'_setupCss'</span></span> . $viewCamelCase; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (method_exists(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>, $methodCss)) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;$methodCss($view); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Setup script files * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_setupScript</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span><span class="hljs-function"> </span></span>{ $scriptRealPath = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getScriptPath($view, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_defaultScriptFile); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_file($scriptRealPath)) { $scriptPublishedUrl = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getScriptUrl($view, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_defaultScriptFile); Yii::app()-&gt;clientScript-&gt;registerScriptFile($scriptPublishedUrl); } } <span class="hljs-comment"><span class="hljs-comment">/** * Setup css files * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_setupCss</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span><span class="hljs-function"> </span></span>{ $cssRealPath = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getCssPath($view, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_defaultCssFile); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_file($cssRealPath)) { $cssPublishedUrl = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getCssUrl($view, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_defaultCssFile); Yii::app()-&gt;clientScript-&gt;registerCssFile($cssPublishedUrl); } } <span class="hljs-comment"><span class="hljs-comment">/** * Returns the published script URL * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $fileName * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string|false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getScriptUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view, $fileName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($publishedUrl = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getPublishedAssetsUrl($view))) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $publishedUrl . <span class="hljs-string"><span class="hljs-string">'/'</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_scriptDirName . <span class="hljs-string"><span class="hljs-string">'/'</span></span> . $fileName; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns the real script Path * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $fileName * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string|false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getScriptPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view, $fileName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($path = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getAssetsPath($view))) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $path . DIRECTORY_SEPARATOR . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_scriptDirName . DIRECTORY_SEPARATOR . $fileName; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns the published css URL * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $fileName * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string|false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCssUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view, $fileName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($publishedUrl = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getPublishedAssetsUrl($view))) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $publishedUrl . <span class="hljs-string"><span class="hljs-string">'/'</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_cssDirName . <span class="hljs-string"><span class="hljs-string">'/'</span></span> . $fileName; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns the real css path * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $fileName * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string|false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCssPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view, $fileName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($path = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getAssetsPath($view))) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $path . DIRECTORY_SEPARATOR . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_cssDirName . DIRECTORY_SEPARATOR . $fileName; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns the published image URL * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $fileName * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string|false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getImageUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view, $fileName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($publishedUrl = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getPublishedAssetsUrl($view))) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $publishedUrl . <span class="hljs-string"><span class="hljs-string">'/'</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_imageDirName . <span class="hljs-string"><span class="hljs-string">'/'</span></span> . $fileName; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns the real image path * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $fileName * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string|false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getImagePath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view, $fileName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($path = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getAssetsPath($view))) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $path . DIRECTORY_SEPARATOR . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_imageDirName . DIRECTORY_SEPARATOR . $fileName; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns alias of assets * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string|false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAssetsPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!array_key_exists($view, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_assetsPaths)) { $assetPath = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; $viewPath = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getViewFile($view); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($viewPath) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($pos = strrpos($viewPath, DIRECTORY_SEPARATOR . <span class="hljs-string"><span class="hljs-string">'views'</span></span> . DIRECTORY_SEPARATOR)) !== <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) { $extension = ($renderer=Yii::app()-&gt;getViewRenderer()) !== <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? $renderer-&gt;fileExtension : <span class="hljs-string"><span class="hljs-string">'.php'</span></span>; $assetPath = substr($viewPath, <span class="hljs-number"><span class="hljs-number">0</span></span>, $pos) . DIRECTORY_SEPARATOR . <span class="hljs-string"><span class="hljs-string">'assets'</span></span> . substr($viewPath, $pos + <span class="hljs-number"><span class="hljs-number">1</span></span> + strlen(<span class="hljs-string"><span class="hljs-string">'views'</span></span>)); $assetPath = dirname($assetPath) . DIRECTORY_SEPARATOR . basename($assetPath, $extension); } } <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_assetsPaths[$view] = $assetPath; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_assetsPaths[$view]; } <span class="hljs-comment"><span class="hljs-comment">/** * Returns the published asset URL * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string|false */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPublishedAssetsUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!array_key_exists($view, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_assetsUrl)) { $assetsUrl = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; $assetsPath = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getAssetsPath($view); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($assetsPath) { $assetsUrl = Yii::app()-&gt;assetManager-&gt;publish($assetsPath); } <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_assetsUrl[$view] = $assetsUrl; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_assetsUrl[$view]; }</code> </pre> <br>  Let us see how this works.  In the "beforeRender ($ view)" methods are called before rendering: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   (      assets/{controllerName}/{viewName}/js/index.js) _setupScript($view) //   (      assets/{controllerName}/{viewName}/css/index.css) _setupCss($view)</span></span></code> </pre><br>  They automatically connect the corresponding css and js files for the specified view file. <br><br>  Further, here in "beforeRender ()" additional methods are launched for connecting styles and scripts (if defined).  The difference of these methods from the previous ones is that they are tied to a specific file of the form.  Those.  the name of the file of the form participates in the formation of the name of the corresponding method; for example, the name of the method for scripts is made up of the rule: "_setupScript" + "Name of the file in camel notation", for styles: "_setupCss" + "Name of the file in camel notation". <br><br>  Also now the following methods are available to us: <br><br>  Methods that return URLs to published resources: <br><pre> <code class="php hljs">getScriptUrl($view, $fileName) <span class="hljs-comment"><span class="hljs-comment">//  URL   js  getCssUrl($view, $fileName) //  URL   css  getImageUrl($view, $fileName) //  URL    </span></span></code> </pre><br>  Methods that return real resource paths (in the assets in protected folder): <br><pre> <code class="php hljs">getScriptPath($view, $fileName) <span class="hljs-comment"><span class="hljs-comment">//    js  getCssPath($view, $fileName) //    css  getImagePath($view, $fileName) //     </span></span></code> </pre><br>  And common methods: <br><pre> <code class="php hljs">getAssetsAlias($view) <span class="hljs-comment"><span class="hljs-comment">//     "assets",    protected getPublishedAssetsUrl($view) //  URL     "assets"</span></span></code> </pre><br>  Directory names (for js, css files and images) and default files are defined in the controller class properties. <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_cssDirName = <span class="hljs-string"><span class="hljs-string">'css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_defaultCssFile = <span class="hljs-string"><span class="hljs-string">'index.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_scriptDirName = <span class="hljs-string"><span class="hljs-string">'js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_defaultScriptFile = <span class="hljs-string"><span class="hljs-string">'index.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_imageDirName = <span class="hljs-string"><span class="hljs-string">'images'</span></span>;</code> </pre><br>  Accordingly, you can change them to the ones you need.  Optionally, you can put them in the application configuration by making simple modifications in the code. <br><br><h5>  Using. </h5><br>  You can either override the "_setupCss ($ view)" method if you need to include css files for all possible controller type files: <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Setup css files * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_setupCss</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::_setupCss($view); <span class="hljs-comment"><span class="hljs-comment">//   my_css_file.css     Yii::app()-&gt;clientScript-&gt;registerCssFile($this-&gt;getCssUrl($view, 'my_css_file.css')); }</span></span></code> </pre><br>  Or define the method "_setupCss" + "The name of the file in the camel notation", if you need to include css files for a specific file of the form: <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Setup css files * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $view * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_setupCssRegistration</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span><span class="hljs-function"> </span></span>{ Yii::app()-&gt;clientScript-&gt;registerCssFile(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getCssUrl($view, <span class="hljs-string"><span class="hljs-string">'my_css_file.css'</span></span>)); }</code> </pre><br>  This method will be called only when rendering ‚Äúregistration‚Äù <br><br>  Pictures can be obtained as follows: <br><pre> <code class="php hljs">CHtml::image(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getImageUrl($view));</code> </pre><br><br>  This is all.  Thank you all for your attention. </div><p>Source: <a href="https://habr.com/ru/post/150885/">https://habr.com/ru/post/150885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150879/index.html">Co-founder of The Pirate Bay will be given to Sweden</a></li>
<li><a href="../150881/index.html">Withdraw money from PayPal to the card: Instructions for Dummies</a></li>
<li><a href="../150882/index.html">Levels for Sokoban</a></li>
<li><a href="../150883/index.html">Who owns the downloaded music after your death?</a></li>
<li><a href="../150884/index.html">GoDaddy's radical decision to fight conservatives</a></li>
<li><a href="../150887/index.html">Setting up equipment at an early stage of booting with ACPI (using FreeBSD as an example)</a></li>
<li><a href="../150888/index.html">ASN.1 in simple terms (part 3, final)</a></li>
<li><a href="../150890/index.html">Wicked Good XPath: Fast Xpath on Javascript</a></li>
<li><a href="../150892/index.html">Delphi Ecosystem</a></li>
<li><a href="../150894/index.html">Anatomy of public procurement legislation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>