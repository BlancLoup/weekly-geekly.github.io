<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Moving a physical server to a virtual one - how to manage in 1 day</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you do not want to read the prefaces and the rationale for the transfer of data to a virtual server , you can go directly to the instructions . 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Moving a physical server to a virtual one - how to manage in 1 day</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/ly/0o/tl/ly0otlld0oudtedkrhlevi1_iwo.jpeg"><br><br><img src="https://habrastorage.org/webt/gr/30/tk/gr30tkmei2drn3spsfwktvbpovs.jpeg" align="left"><br>  If you do not want to read the prefaces and the rationale for the transfer of data to a <a href="https://vps.house/">virtual server</a> , you can <b><a href="https://habr.com/company/vps_house/blog/358076/">go</a></b> directly <b><a href="https://habr.com/company/vps_house/blog/358076/">to the instructions</a></b> . <br><br>  Keeping your own equipment or its fleet is not cheap and almost always has nothing to do with the direct flow of money into the organization.  Own server, which can even stand in its own small room in the office - a relic of the past, it is increasingly annoying modern managers. <br>  Business needs a functioning service, not a fleet of equipment and its maintenance staff. <a name="habracut"></a>  What problems are faced by small and medium businesses, deciding to purchase your own server: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  High initial investment cost </li><li>  Rapid depreciation of equipment </li><li>  The need to have on staff a specialist who could assemble, configure and continue to serve the server </li><li>  Constant fears that something will fail while this specialist is not in place </li><li>  It is not always possible to quickly get to the place of equipment placement at night or on a day off for the replacement of components </li><li>  You will have to accept the promises of a system administrator on the subject of data integrity in the event of a disk failure. </li><li>  If something on the server fails, it will take several days to find out the reasons, to purchase a new component and install it.  Or, at best, 1 day if, of course, you keep all spare parts in advance in close proximity to the server itself - this time while your business and all employees do not work! </li><li>  During the operation of a ready-made server, unscrupulous system administrators can simulate the failure of one or another part of the server to replace it and then assign it to a written off </li><li>  At the time of purchasing the equipment, the recommendations of the system administrator at the place of purchase may include his own interest. </li></ol><br>  The attentive reader will wonder, why not rent a physical server, and not a virtual one in the cloud?  And here are a number of reasons: <br><br><ol><li>  Physical servers (especially those that are often offered for rent) are not fault-tolerant machines, they are essentially home PCs in server cases. </li><li>  If something fails on such a server, at best, components will be replaced during the day, and at worst you will lose all your data if, for example, the hard drive fails (they just break more often than the rest) </li><li>  When something fails on a leased physical server, the one who leases this server can only learn about the problem from you.  If it happened at night, you will only find out in the morning that your server is already unavailable for several hours. </li><li>  If you decide to rent a professional-level server, it will be incredibly expensive per month (comparable to the costs described above when maintaining your own equipment) </li><li>  When you finally get tired of being the ‚Äúowner of rented iron‚Äù and you decide to transfer it to virtual, it may be more difficult to do it from someone else‚Äôs equipment, as the provider can create artificial obstacles to this. </li><li>  The further you postpone the transfer to the cloud infrastructure, the more data you accumulate and the longer the transfer process will take. </li></ol><br><img src="https://habrastorage.org/webt/tv/rc/fi/tvrcfiftoi2nkyanloaz8lnfrzs.jpeg"><br><br>  Nowadays, almost no modern business can do without its own, even if minimal, IT infrastructure.  It can be a website, a business process management system, any kind of services that require constant stable operation and constant availability: from accounting to exchange trading - this is the infrastructure of the cloud service provider, for example, ours with the highest degree of fault tolerance. <br><br>  <b>Why is a virtual server on a foreign infrastructure more reliable than its own physical?</b> <br>  The first thing you need to understand is that not all <b>VPS</b> / <b><a href="https://vps.house/">VDS</a></b> servers are equally good, often representatives of the low-cost segment offer a virtual server in terms of reliability that is no better than what you would have in your house under the table.  This is precisely because they are going to be without reservation.  However, there is also a demand for such servers: there are many tasks for which several hours of downtime or complete data loss are not critical - these are usually servers for VPN, proxy or one-time mailings (most often SPAM). <br>  If we talk about reliability, choosing a segment at least a little above the minimum bar, then you should count on: <br><br><ol><li>  24-hour technical support </li><li>  Reservation of communication channels with the outside world and duplication of network equipment inside the data center </li><li>  Availability of fault-tolerant data storage systems and regular backups to independent systems </li><li>  In case of technical work or failures, the implementation of automatic or manual transfer of client resources to other equipment inside the data center without stopping the operation of client virtual servers </li><li>  Constant monitoring of the state of the entire fleet of equipment: its performance and total load </li><li>  If something fails, you almost never feel it, and repair work will begin immediately and without your participation. </li><li>  Elementary responsibility for its reputation in a highly competitive market. </li></ol><br>  And, of course, you can freely change the configuration of your server at any time, increasing the parameters when it is needed and reducing it to save money when large capacities are not needed. <br><br>  It is worth noting that all of the above applies to <b><a href="https://vps.house/">VPS.house</a></b> <br><a name="how"></a><br>  To transfer a physical server to a virtual one is a very simple task and the most common ‚ÄúPC user‚Äù can handle it.  The main time is spent on taking the image of the data from the current disk and then copying it to the server of the future provider.  If there is really a lot of data, the process may take a day or even more, but you may not necessarily be at the computer - you can do any other things in parallel. <br><br><h3>  1. Create a disk image of the current physical server </h3><br>  To create a disk image, we suggest using the binder utility Disk2vhd.  It does not require installation and can be downloaded directly from the Microsoft website: <br>  <a href="https://docs.microsoft.com/en-us/sysinternals/downloads/disk2vhd">https://docs.microsoft.com/en-us/sysinternals/downloads/disk2vhd</a> <br><br>  VHD / VHDX is a disk image format that is used in Hyper-V hardware virtualization environments.  Such an environment is used on the <b><a href="https://vps.house/">VPS.house</a></b> service and on many providers that offer services for renting virtual servers running Windows Server. <br><br>  Unzip the downloaded zip archive and run the file <b>disk2vhd.exe</b> <br><br><img src="https://habrastorage.org/webt/22/hz/pn/22hzpnsiy3ldpbwy6cd4zhbwnlm.png" title="Moving a physical server to a virtual one"><br><br>  Before you start creating an image, make sure that the Use Vhdx box is checked, this is important in order to get a disk image in the modern VHDX format that supports volume expansion to 64TB. <br><br>  In the file name field, specify the location where the final image file should be saved.  Pay attention to the required amount of free space to create an image! <br><br>  Check only those drives that you need to work in the cloud.  If you have a large backup disk in the same server, it may not always be reasonable to spend time preparing the image and transferring data with it. <br><br><img src="https://habrastorage.org/webt/qv/gl/cl/qvglcloawbgh30gmnvf1wixfmzy.png" title="Moving a physical server to a virtual one"><br><br>  Depending on the amount of data and the speed of your current disk system, the process of preparing an image can take up to several hours. <br><br>  In the end, you will see your ready-made image in the chosen place - the most difficult thing ends there. <br><br><h3>  2. We send the disk image to the cloud provider </h3><br>  What properties should have a good cloud service provider, we have described above, you can choose anyone who appeals to you, or create an account and server automatically in 1-2 minutes on <b><a href="https://vps.house/">VPS.house</a></b> <br><br> <a href="https://vps.house/"><img src="https://habrastorage.org/webt/db/0-/xv/db0-xva5iscieafdj0j0lvvjqdw.png" title="Creating a virtual server VPS / VDS"></a> <br><br>  Choosing the configuration, pay attention to the size of the hard drive, it should not be less than the size of the file of your image and the volume that you need for normal further work. <br><br>  After creating an account and a virtual server, you need to write a request to the hosting support service with a request to provide data for downloading your disk image - in response, you will be given data to access an isolated FTP directory where you can copy your image. <br><br>  Depending on the size of the file and the speed of the communication channels in your current data center or office, the transfer may take several hours.  For our part, we provide space on a temporary server that is connected to the network at a constant speed of <b>2 Gb / s</b> to download client images <b>.</b>  This speed allows you to transfer, for example, a large file server or a database server of <b>1 TB in just an hour and a half</b> . <br><br>  As soon as you upload a file, you just have to write a repeat support request to connect this image to the working hosting architecture - the provider will do the rest for you and put the server into operation.  It will be immediately available at the new IP address allocated to you, which you will see in your account in advance. <br><br><img src="https://habrastorage.org/webt/71/qc/lh/71qclhdqxrbpz52dypba9syqcmo.png" title="Virtual server"><br><br>  <i>PS: this instruction works not only to transfer a physical server to a virtual one, it is also perfect <u>for moving from one cloud to another</u> .</i> <i><br></i>  <i>If you already have a working <a href="https://vps.house/">virtual server</a> , for setting up which you spent a lot of time and you do not want to repeat everything again in another place, but you are not completely satisfied with the quality of services provided or their cost - use the suggested instructions and the identical configured server will work in a new cloud in less than 1 day with minimal effort on your part.</i> <i><br></i> </div><p>Source: <a href="https://habr.com/ru/post/358076/">https://habr.com/ru/post/358076/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358060/index.html">Service Workers: transparent cache update</a></li>
<li><a href="../358064/index.html">Issue # 21: IT training - current issues and challenges from leading companies</a></li>
<li><a href="../358066/index.html">The mountains</a></li>
<li><a href="../358068/index.html">50 announcements of Build 2018. Part 1. Hardware & Dev Tools</a></li>
<li><a href="../358072/index.html">Pension interview programmer</a></li>
<li><a href="../358078/index.html">How to automate the development of a team of various sizes</a></li>
<li><a href="../358080/index.html">11 backlog optimization tips</a></li>
<li><a href="../358082/index.html">The influence of a small window on the user's memory, and what to do about it</a></li>
<li><a href="../358084/index.html">Three main principles for rapid product growth from Head of Growth Recruitee</a></li>
<li><a href="../358086/index.html">Not a single code: what affects the operation of blockchain systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>