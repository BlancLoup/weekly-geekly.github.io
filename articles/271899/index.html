<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing a tactical game about numbers for Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When I just started programming (3 months ago), I quickly realized that it was better to start doing my projects right away. It‚Äôs impossible to sit at...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing a tactical game about numbers for Android</h1><div class="post__text post__text-html js-mediator-article">  When I just started programming (3 months ago), I quickly realized that it was better to start doing my projects right away.  It‚Äôs impossible to sit at books or courses from morning till night, but if you start doing something special, then you will easily sit at work from morning till morning. <br><br>  This article is a small tutorial on how to make a logic game with a bot.  The game will look like this: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/SOnbB5cw-eg%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhg-UWfazS7rsLXcziamkVriv5vAcA" frameborder="0" allowfullscreen=""></iframe><br>  <i>* I will describe the rules in detail again in the section on AI.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Readers of the article are divided into three groups. <br><ol><li>  Started programming a few hours ago. <br>  It will be difficult for you, it is better to first go through some small course on introduction to Android development, deal with two-dimensional arrays and interfaces.  And then download the project from the <a href="https://github.com/Liverm0r/PlusMinus">githab</a> .  Comments and this article will help you figure out what works and how. </li><li>  Already know how to program, but still can not call themselves experienced. <br>  You will be interested, because you can quickly make your game.  I took the dirty job of building the logic of the game and the ui-component, I leave the creative part to you.  You can make another game mode (2 on 2, online, etc.), change the bot's algorithms, create levels, etc. </li><li>  Experienced. <br>  You may be interested to think about AI - it is not as easy to write as it seems at first glance.  I would also be very happy to receive comments on the code from you - I am sure that I did not do everything optimally. </li></ol><br><a name="habracut"></a><br><h4>  <b>Prelude</b> </h4><br>  Now I will re-create the project (not to miss anything) and will consistently describe all the steps.  I will try to write code in a good tone, but there will be bad places that I went to in order to reduce the volume. <br><br>  We will follow the following plan: <br><ul><li>  Create a project </li><li>  Write bot </li><li>  Let's write a class for the game </li><li>  Let's do ui </li></ul><br><h4>  <b>Create a project</b> </h4><br>  Everything is as usual: we create a new project, further, further and further, finish.  Considering that a part of the audience can be represented by the group ‚ÄúBegan to program a few hours ago,‚Äù I will give a detailed instruction. <br><br><div class="spoiler">  <b class="spoiler_title">Instruction</b> <div class="spoiler_text">  Pay attention, the project is done in Android Studio. <br>  Instead of ‚Äúlivermor‚Äù in <b>Company Domain,</b> indicate something of your own <br><img src="https://habrastorage.org/files/40d/3e3/ba8/40d3e3ba8e184f0a81c90f0d3af112b3.png"><br><br><img src="https://habrastorage.org/files/d0d/6a7/dcb/d0d6a7dcbfad42f6aea50b8d46014d0a.png"><br><br><img src="https://habrastorage.org/files/102/895/281/102895281d30411eaef758042a87e6e6.png"><br><br>  Change at the top of Android on the Project.  The screenshot shows an example of how and where to create classes. <br><img src="https://habrastorage.org/files/0b2/945/100/0b2945100c2f4c5d8dca359ca29af333.png"><br></div></div><br><h4>  <b>Write bot</b> </h4><br>  Let's start with the most difficult and most interesting task - we will write a class for the bot. <br>  You can watch the video again and think about how you would implement the algorithms. <br>  Just in case, I will give the rules again: <br><div class="spoiler">  <b class="spoiler_title">regulations</b> <div class="spoiler_text">  rivals take turns.  One plays for the strings, the other for the rows.  The number chosen by one player is added to his points and determines the row (line) of moves for another.  You cannot go to the same place twice in a row.  The winner is the one who has the most points at the end of the game (when there are no possible moves left). <br></div></div><br>  The first idea that came to me was to calculate all the moves to the end.  Or to the n-th move.  But how to calculate the moves?  Let's introduce the concept of a <b><i>better move</i></b> .  Surely, this is a move that maximizes the difference between your move and the opponent's <b><i>best move</i></b> .  That is, you calculate your best move, based on the fact that your opponent will calculate your best move, expecting that you calculate your best move, based on ... And so to n.  The most recent move will simply be the maximum number in the row. <br><br>  Do you think this is a normal bot algorithm? <br><br>  In fact, it is even worse than simply choosing the maximum. <br>  Have you guessed what the problem is? <br><br>  The fact is that we assume that the opponent <b>will</b> make this <b><i>best move</i></b> .  We can choose -2, expecting the opponent to take -3 (his <i><b>best move</b></i> , which will be justified at the end of the game), but the opponent will take and will go to +6.  Then we will count all of them and go to -5, expecting the opponent to go to -4, and he will again take and will choose +8.  And so on - we always make long-term moves, and always lose here and now. <br><br>  The easiest way to make this algorithm workable is to set n = 2. That is, suppose that the opponent simply chooses the maximum from his row, and look for such a move that maximizes the difference between our moves.  By the way, this will make the bot quite competitive. <br><br>  I went a little further and tried to make the bot more human - gave him greed.  In other words, I ordered the bot to make short-term moves, if you can extract the difference in the specified number of points.  In the code, I called this difference a jackpot, and the bot breaks the jackpot, if on the planning horizon it does not lead to early defeat (in the comments to the code I described everything in more detail). <br><br>  And finally, before you create a class for the bot, I will describe in more detail what it is like. <br>  A bot is needed by the <b>Game</b> class in order to obtain a move number (in a row or in a row).  All data that changes during the game - player points, a boolean matrix with allowed moves, the number of the last perfect move - will be stored in the <b>Game</b> class.  Accordingly, creating the essence of the class Bot, we need to transfer to it only things that cannot be changed during one game: whether the bot plays for strings or for rows and a matrix with numbers. <br><br>  Bot has one public method - to make a move to which we turn every time we want to get a move.  Respectively, in this method we transfer all changeable values. <br><br><div class="spoiler">  <b class="spoiler_title">appeal to those who program a few hours</b> <div class="spoiler_text">  What I called protected can be used for inheritance ‚Äî that is, creating bot children, <br>  public - to use other classes, <br>  private is an internal kitchen that other classes should not know about. <br><br>  If you practically understand nothing - this is normal, I also went through my first tutorials. <br>  Class for Bot - the most difficult, it will be easier further. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">bot code</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.livermor.plusminus; <span class="hljs-comment"><span class="hljs-comment">//   "livermor"   Company Domain public class Bot { protected int[][] mMatrix; //digits for buttons protected boolean[][] mAllowedMoves; //,     protected int mSize; //  protected int mPlayerPoints = 0, mAiPoints = 0; //  protected boolean mIsVertical; //     protected int mCurrentActiveNumb; //   ( 0   (mSize)) //   private final static int CANT_GO_THERE = -1000; //  ,    -1000 private final static int WORST_MOVE = -500; // ,     private final static int VICTORY_MOVE = 500; // ,     private final static int JACKPOT_INCREASE = 9; //  ,     private static final int GOOD_ADVANTAGE = 6;// (),    6    int depth = 3; //    3   public Bot( int[][] matrix, boolean vertical ) { mMatrix = matrix; mSize = matrix.length; mIsVertical = vertical; } //,    public int move( int playerPoints, int botPoints, boolean[][] moves, int activeNumb ) { mPlayerPoints = playerPoints; mAiPoints = botPoints; mCurrentActiveNumb = activeNumb; mAllowedMoves = moves; return calcMove(); } //     public void setDepth(int depth) { this.depth = depth; } protected int calcMove() { //      return calcBestMove(depth, mAllowedMoves, mCurrentActiveNumb, mIsVertical, mAiPoints, mPlayerPoints); } private int calcBestMove(int depth, boolean[][] moves, int lastMove, boolean isVert, int myPoints, int hisPoints) { int result = mSize; //  ,     int[] moveRatings = new int[mSize]; //      //  ,     () if (depth == 1) return findMaxInRow(lastMove, isVert); else { int yMe, xMe; //     int yHe, xHe; //    for (int i = 0; i &lt; mSize; i++) { //   ,     (i)   (lastMove) yMe = isVert ? i : lastMove; xMe = isVert ? lastMove : i; //  ,     if (!mAllowedMoves[yMe][xMe]) { moveRatings[i] = CANT_GO_THERE; continue; //    } int myNewP = myPoints + mMatrix[yMe][xMe];//    moves[yMe][xMe] = false;//   ,    //     int hisBestMove = calcBestMove(depth - 1, moves, i, !isVert, hisPoints, myPoints); //  ,      (..   ), .. if (hisBestMove == mSize) { if (myNewP &gt; hisPoints) //    ,     moveRatings[i] = VICTORY_MOVE; else // ,     moveRatings[i] = WORST_MOVE; moves[yMe][xMe] = true;// ,     continue; } //   ,        yHe = isVert ? i : hisBestMove; xHe = isVert ? hisBestMove : i; int hisNewP = hisPoints + mMatrix[yHe][xHe]; moveRatings[i] = myNewP - hisNewP; //        ,     //    1,        if (depth - 1 != 1) { //        hisBestMove = findMaxInRow(i, !isVert); yHe = isVert ? i : hisBestMove; xHe = isVert ? hisBestMove : i; hisNewP = hisPoints + mMatrix[yHe][xHe]; int jackpot = myNewP - hisNewP;//      if (jackpot &gt;= GOOD_ADVANTAGE) { // ,    moveRatings[i] = moveRatings[i] + JACKPOT_INCREASE; } } moves[yMe][xMe] = true;// ,     } //   ,     .  //  ,   ‚Äî     (  ) int max = CANT_GO_THERE; for (int i = 0; i &lt; mSize; i++) { if (moveRatings[i] &gt; max) { max = moveRatings[i];//   ,      result = i; } } } //     return result; } // ,      () private int findMaxInRow(int lastM, boolean isVert) { int currentMax = -10; int move = mSize; int y = 0, x = 0; for (int i = 0; i &lt; mSize; i++) { y = isVert ? i : lastM; x = isVert ? lastM : i; int temp = mMatrix[y][x]; if (mAllowedMoves[y][x] &amp;&amp; currentMax &lt;= temp) { currentMax = temp; move = i; } } return move; } }</span></span></code> </pre> <br></div></div><br><h4>  <b>We write a class for the game</b> </h4><br>  At first I warned that there would be bad places in the code.  And here is one of them.  Instead of first writing the parent class to control the game, and then expanding it to a specific game class with a bot, I will immediately write a game class with a bot.  I do this to shorten the tutorial. <br><br>  The game class, let's call it Game, needs two things: <br>  1. Interface for working with ui-elements; <br>  2. The size of the matrix. <br><br><div class="spoiler">  <b class="spoiler_title">appeal to those who program a few hours</b> <div class="spoiler_text">  Carefully, the Game class uses AsyncTask and Handler - either deal with them beforehand, or just ignore them.  In a nutshell, these are classes for working with threads.  Android cannot change interface elements from the main stream.  The above classes solve this problem. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">game code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.livermor.plusminus; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.AsyncTask; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Handler; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Random; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    ,   public static final int mTimeToWait = 800; protected MyAnimation mAnimation; // AsyncTask   //      protected int[][] mMatrix; //digits for buttons protected volatile boolean[][] mAllowedMoves; protected int mSize; //  protected int playerOnePoints = 0, playerTwoPoints = 0;//  protected volatile boolean isRow = true; //       protected volatile int currentActiveNumb; //     protected ResultsCallback mResults;//,    MainActivity protected volatile Bot bot;//   Random rnd; //          public Game(ResultsCallback results, int size) { mResults = results; //   mSize = size; rnd = new Random(); generateMatrix(); //    // ,      currentActiveNumb = rnd.nextInt(mSize); isRow = true; //         (  ) for (int yPos = 0; yPos &lt; mSize; yPos++) { for (int xPos = 0; xPos &lt; mSize; xPos++) { //         mResults.setButtonText(yPos, xPos, mMatrix[yPos][xPos]); if (yPos == currentActiveNumb) //    mResults.changeButtonBg(yPos, xPos, isRow, true); } } bot = new Bot(mMatrix, true); } public void startGame() { activateRawOrColumn(true); } protected void generateMatrix() { mMatrix = new int[mSize][mSize]; mAllowedMoves = new boolean[mSize][mSize]; for (int i = 0; i &lt; mSize; i++) { for (int j = 0; j &lt; mSize; j++) { mMatrix[i][j] = rnd.nextInt(19) - 9; // -9  9 mAllowedMoves[i][j] = true; //     } } } //    MainActivity,         public void OnUserTouchDigit(int y, int x) { mResults.onClick(y, x, true); activateRawOrColumn(false);//      mAllowedMoves[y][x] = false; //       playerOnePoints += mMatrix[y][x]; //    mResults.changeLabel(false, playerOnePoints);//   mAnimation = new MyAnimation(y, x, true, isRow);//    mAnimation.execute(); isRow = !isRow; //      currentActiveNumb = x; //     ,     } //       protected void onAnimationFinished() { if (!isRow) {//        () // Handler,      ui,    //   . Handel       Handler handler = new Handler(); handler.postDelayed(new Runnable() { @Override public void run() { botMove(); // } }, mTimeToWait / 2); } else //   ,    activateRawOrColumn(true); } private void botMove() { //   int botMove = bot.move(playerOnePoints, playerTwoPoints, mAllowedMoves, currentActiveNumb); if (botMove == mSize) {//    ,    onResult(); //    return; //    } int y = botMove; //     int x = currentActiveNumb; mAllowedMoves[y][x] = false; playerTwoPoints += mMatrix[y][x]; mResults.onClick(y, x, false); //    mResults.changeLabel(true, playerTwoPoints); //   mAnimation = new MyAnimation(y, x, true, isRow); //   mAnimation.execute(); isRow = !isRow; //    currentActiveNumb = botMove; //   ,     } protected void activateRawOrColumn(final boolean active) { int countMovesAllowed = 0; //  ,     int y, x; for (int i = 0; i &lt; mMatrix.length; i++) { y = isRow ? currentActiveNumb : i; x = isRow ? i : currentActiveNumb; if (mAllowedMoves[y][x]) { //  ,  mResults.changeButtonClickable(y, x, active); //,    countMovesAllowed++; //   ,    } } if (active &amp;&amp; countMovesAllowed == 0) onResult(); } //:      //    ‚Äî    protected class MyAnimation extends AsyncTask&lt;Void, Integer, Void&gt; { int timeToWait = 35; //    int y, x; boolean activate; boolean row; protected MyAnimation(int y, int x, boolean activate, boolean row) { this.activate = activate; this.row = !row; this.y = y; this.x = x; } @Override protected Void doInBackground(Void... params) { int downInc = row ? x - 1 : y - 1; int uppInc = row ? x : y; if (activate) sleep(Game.mTimeToWait);//     if (activate) { //  ,        while (downInc &gt;= 0 || uppInc &lt; mSize) { //Log.i(TAG, "while in Animation"); sleep(timeToWait); if (downInc &gt;= 0) publishProgress(downInc--); // AsyncTask    sleep(timeToWait); if (uppInc &lt; mSize) publishProgress(uppInc++); } } else {//  ,        int downInc2 = 0; int uppInc2 = mSize - 1; while (downInc2 &lt;= downInc || uppInc2 &gt; uppInc) { sleep(timeToWait); if (downInc2 &lt;= downInc) publishProgress(downInc2++); sleep(timeToWait); if (uppInc2 &gt; uppInc) publishProgress(uppInc2--); } } return null; } @Override protected void onProgressUpdate(Integer... values) { int numb = values[0]; int yPos = row ? y : numb; int xPos = row ? numb : x; //         () if (activate) mResults.changeButtonBg(yPos, xPos, row, activate); else mResults.changeButtonBg(yPos, xPos, row, activate); } @Override protected void onPostExecute(Void aVoid) { if (activate) //   ,      new MyAnimation(y, x, false, row).execute(); else //,   ,     onAnimationFinished(); } //    private void sleep(int time) { try { Thread.sleep(time); } catch (InterruptedException e) { e.printStackTrace(); } } } protected void onResult() { //     mResults.onResult(playerOnePoints, playerTwoPoints); } //  MainActivity,    ui  //********************************************************************************* public interface ResultsCallback { //       void changeLabel(boolean upLabel, int points); //    void changeButtonBg(int y, int x, boolean row, boolean active); //    void setButtonText(int y, int x, int text); // /  void changeButtonClickable(int y, int x, boolean clickable); //   void onResult(int one, int two); //    void onClick(int y, int x, boolean flyDown); } }</span></span></code> </pre><br></div></div><br><h4>  <b>We work on the user interface</b> </h4><br>  The final part remains - to connect the logic of the game with the user interface.  There will be fewer comments and explanations, we will simply take all the necessary things step by step <br><div class="spoiler">  <b class="spoiler_title">Mark for those who program a few hours</b> <div class="spoiler_text">  Make sure you have a Project at the top, not Android. <br>  At the moment we have 3 classes: the Bot and Game created by us and the already existing MainActivity class.  Now we have to change several xml documents (circled in red), create another class for the number buttons, and create a drawable element (I show with a black arrow how this is done). <br><img src="https://habrastorage.org/files/096/de2/f93/096de2f93efa48adbf59199729d5aee8.png"><br></div></div><br><h6>  <b>1. Forbidding the screen to turn:</b> </h6><br>  In AndroidManifest we add under MainActivity - android: screenOrientation = "portrait" <br>  We do this in order to prohibit turning the screen (to simplify the tutorial). <br><div class="spoiler">  <b class="spoiler_title">AndroidManifest.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   ,     package  . , ,      &gt;&gt;&gt; android:screenOrientation="portrait" --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">package</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.livermor.plusminus"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:allowBackup</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:icon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@mipmap/ic_launcher"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/app_name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:supportsRtl</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:theme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/AppTheme"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".MainActivity"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:screenOrientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"portrait"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.action.MAIN"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">category</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.category.LAUNCHER"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><h6>  <b>2. Add the colors we need:</b> </h6><br>  Go to colors.xml, delete the existing colors, add these: <br><div class="spoiler">  <b class="spoiler_title">colors.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span><span class="hljs-tag"> &gt;</span></span>#7C7B7B<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryDark"</span></span></span><span class="hljs-tag"> &gt;</span></span>#424242<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"colorAccent"</span></span></span><span class="hljs-tag"> &gt;</span></span>#FF4081<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bgGrey"</span></span></span><span class="hljs-tag"> &gt;</span></span>#C4C4C4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bgRed"</span></span></span><span class="hljs-tag"> &gt;</span></span>#FC5C70<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bgBlue"</span></span></span><span class="hljs-tag"> &gt;</span></span>#4A90E2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"black"</span></span></span><span class="hljs-tag"> &gt;</span></span>#000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lightGreyBg"</span></span></span><span class="hljs-tag"> &gt;</span></span>#DFDFDF<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"white"</span></span></span><span class="hljs-tag"> &gt;</span></span>#fff<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><h6>  <b>3. Change the application theme:</b> </h6><br>  In styles.xml, replace <i>Theme.AppCompat.Light.DarkActionBar</i> with <i>Theme.AppCompat.Light.NoActionBar</i> : <br><div class="spoiler">  <b class="spoiler_title">styles.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AppTheme"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.AppCompat.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorPrimary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryDark"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorPrimaryDark</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorAccent"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorAccent</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><h6>  <b>4. Set the dimensions:</b> </h6><br>  Replace sizes in dimens.xml with the following: <br><div class="spoiler">  <b class="spoiler_title">dimens.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button.radius"</span></span></span><span class="hljs-tag">&gt;</span></span>10dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sides"</span></span></span><span class="hljs-tag">&gt;</span></span>10dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"up_bottom"</span></span></span><span class="hljs-tag">&gt;</span></span>20dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"label_height"</span></span></span><span class="hljs-tag">&gt;</span></span>55dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"label_text_size"</span></span></span><span class="hljs-tag">&gt;</span></span>40dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"label_padding_sides"</span></span></span><span class="hljs-tag">&gt;</span></span>6dp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dimen</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><h6>  <b>5. Create backgrounds for buttons:</b> </h6><br>  You need to create three xml in the drawable folder: <br><div class="spoiler">  <b class="spoiler_title">bg_blue.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">shape</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">solid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/bgBlue"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">corners</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:bottomRightRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:bottomLeftRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:topLeftRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:topRightRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">shape</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">bg_red.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">shape</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">solid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/bgRed"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">corners</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:bottomRightRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:bottomLeftRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:topLeftRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:topRightRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">shape</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">bg_grey.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">shape</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">solid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/bgGrey"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">corners</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:bottomRightRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:bottomLeftRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:topLeftRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:topRightRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/button_radius"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">shape</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><h6>  <b>6. Change screen layout:</b> </h6><br>  For the matrix, I will use GridLayout - perhaps not the best solution, but it seemed to me rather simple and short. <br><br>  Just replace the existing code with mine - there is an empty GridLayout (fill it with the code in MainActivity) and two TextView-elements for indicators of player points (RelativeLayout inside another RelativeLayout - in order to center everything vertically. points score to the center horizontally). <br><br>  Yes, and do not worry, in the preview you will not see anything, except for the top Bot, it should be so. <br><div class="spoiler">  <b class="spoiler_title">activity_main.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RelativeLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:tools</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/tools"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:background</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tools:context</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.livermor.myapplication.MainActivity"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RelativeLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_centerVertical</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:background</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/lightGreyBg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">View</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_centerInParent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/upper_scoreboard"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:background</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@drawable/bg_red"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"55dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_alignParentLeft</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_alignParentTop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginLeft</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/sides"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginTop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"15dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_toLeftOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@id/center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center_vertical|center_horizontal"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:paddingLeft</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/label_padding_sides"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:paddingRight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/label_padding_sides"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">": 0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/white"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textSize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/label_text_size"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">GridLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/my_grid"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_below</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/upper_scoreboard"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:foregroundGravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginLeft</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/sides"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginRight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/sides"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginBottom</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/up_bottom"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginTop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/up_bottom"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/lower_scoreboard"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:background</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@drawable/bg_blue"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/label_height"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_alignParentRight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_alignParentEnd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_below</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/my_grid"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginBottom</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"15dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginRight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"15dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_toRightOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@id/center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center_vertical|center_horizontal"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:paddingLeft</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/label_padding_sides"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:paddingRight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/label_padding_sides"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">": 0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/white"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textSize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/label_text_size"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RelativeLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RelativeLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><h6>  <b>7. Create the MyButton class that inherits the Button:</b> </h6><br>  We create our own class for the buttons so that it is more convenient to get the coordinates of each button in the matrix. <br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.livermor.plusminus; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.Context; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.util.AttributeSet; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Button; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyButton</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Button</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MyOnClickListener mClickListener;<span class="hljs-comment"><span class="hljs-comment">//     MainActivity int idX = 0; int idY = 0; //,         public MyButton(Context context, int x, int y) { super(context); idX = x; idY = y; } public MyButton(Context context) { super(context); } public MyButton(Context context, AttributeSet attrs) { super(context, attrs); } public MyButton(Context context, AttributeSet attrs, int defStyleAttr) { super(context, attrs, defStyleAttr); } @Override // View    public boolean performClick() { super.performClick(); mClickListener.OnTouchDigit(this);//    return true; } public void setOnClickListener(MyOnClickListener listener){ mClickListener = listener; } public int getIdX(){ return idX; } public int getIdY(){ return idY; } //  MainActivity //************************************ public interface MyOnClickListener { void OnTouchDigit(MyButton v); } }</span></span></code> </pre><br></div></div><br><h6>  <b>8. And finally, edit the MainActivity class:</b> </h6><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.livermor.plusminus; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.graphics.Typeface; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Handler; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v4.content.ContextCompat; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.ViewGroup; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.ViewTreeObserver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.animation.AlphaAnimation; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.animation.AnimationSet; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.animation.TranslateAnimation; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Button; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.GridLayout; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.TextView; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Toast; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ResultsCallback</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyButton</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyOnClickListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> MATRIX_SIZE = <span class="hljs-number"><span class="hljs-number">5</span></span>;<span class="hljs-comment"><span class="hljs-comment">//    2  20)) //ui private TextView mUpText, mLowText; GridLayout mGridLayout; private MyButton[][] mButtons; private Game game; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); mGridLayout = (GridLayout) findViewById(R.id.my_grid); mGridLayout.setColumnCount(MATRIX_SIZE); mGridLayout.setRowCount(MATRIX_SIZE); mButtons = new MyButton[MATRIX_SIZE][MATRIX_SIZE];//5   5  //    for (int yPos = 0; yPos &lt; MATRIX_SIZE; yPos++) { for (int xPos = 0; xPos &lt; MATRIX_SIZE; xPos++) { MyButton mBut = new MyButton(this, xPos, yPos); mBut.setTextSize(30-MATRIX_SIZE); Typeface boldTypeface = Typeface.defaultFromStyle(Typeface.BOLD); mBut.setTypeface(boldTypeface); mBut.setTextColor(ContextCompat.getColor(this, R.color.white)); mBut.setOnClickListener(this); mBut.setPadding(1, 1, 1, 1); //      mBut.setAlpha(1); mBut.setClickable(false); mBut.setBackgroundResource(R.drawable.bg_grey); mButtons[yPos][xPos] = mBut; mGridLayout.addView(mBut); } } mUpText = (TextView) findViewById(R.id.upper_scoreboard); mLowText = (TextView) findViewById(R.id.lower_scoreboard); //      mGridLayout mGridLayout.getViewTreeObserver().addOnGlobalLayoutListener( new ViewTreeObserver.OnGlobalLayoutListener() { @Override public void onGlobalLayout() { setButtonsSize(); //    OnGlobalLayoutListener mGridLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this); } }); game = new Game(this, MATRIX_SIZE); //   game.startGame(); //   }//onCreate private void setButtonsSize() { int pLength; final int MARGIN = 6; int pWidth = mGridLayout.getWidth(); int pHeight = mGridLayout.getHeight(); int numOfCol = MATRIX_SIZE; int numOfRow = MATRIX_SIZE; // mGridLayout  if (pWidth &gt;= pHeight) pLength = pHeight; else pLength = pWidth; ViewGroup.LayoutParams pParams = mGridLayout.getLayoutParams(); pParams.width = pLength; pParams.height = pLength; mGridLayout.setLayoutParams(pParams); int w = pLength / numOfCol; int h = pLength / numOfRow; for (int yPos = 0; yPos &lt; MATRIX_SIZE; yPos++) { for (int xPos = 0; xPos &lt; MATRIX_SIZE; xPos++) { GridLayout.LayoutParams params = (GridLayout.LayoutParams) mButtons[yPos][xPos].getLayoutParams(); params.width = w - 2 * MARGIN; params.height = h - 2 * MARGIN; params.setMargins(MARGIN, MARGIN, MARGIN, MARGIN); mButtons[yPos][xPos].setLayoutParams(params); //Log.w(TAG, "process goes in customizeMatrixSize"); } } } //MyButton.MyOnClickListener  //************************************************************************* @Override public void OnTouchDigit(MyButton v) { game.OnUserTouchDigit(v.getIdY(), v.getIdX()); } //Game.ResultsCallback  //************************************************************************* @Override public void changeLabel(boolean upLabel, int points) { if (upLabel) mUpText.setText(String.format(": %d", points)); else mLowText.setText(String.valueOf(String.format(": %d", points))); } @Override public void changeButtonBg(int y, int x, boolean row, boolean active) { if (active) { if (row) mButtons[y][x].setBackgroundResource(R.drawable.bg_blue); else mButtons[y][x].setBackgroundResource(R.drawable.bg_red); } else { mButtons[y][x].setBackgroundResource(R.drawable.bg_grey); } } @Override public void setButtonText(int y, int x, int text) { mButtons[y][x].setText(String.valueOf(text)); } @Override public void changeButtonClickable(int y, int x, boolean clickable) { mButtons[y][x].setClickable(clickable); } @Override public void onResult(int playerOnePoints, int playerTwoPoints) { String text; if (playerOnePoints &gt; playerTwoPoints) text = " "; else if (playerOnePoints &lt; playerTwoPoints) text = " "; else text = ""; Toast.makeText(this, text, Toast.LENGTH_SHORT).show(); // 1500    run new Handler().postDelayed(new Runnable() { @Override public void run() { recreate(); //   ‚Äî   MainActivity } }, 1500); } @Override public void onClick(final int y, final int x, final boolean flyDown) { final Button currentBut = mButtons[y][x]; currentBut.setAlpha(0.7f); currentBut.setClickable(false); AnimationSet sets = new AnimationSet(false); int direction = flyDown ? 400 : -400; TranslateAnimation animTr = new TranslateAnimation(0, 0, 0, direction); animTr.setDuration(810); AlphaAnimation animAl = new AlphaAnimation(0.4f, 0f); animAl.setDuration(810); sets.addAnimation(animTr); sets.addAnimation(animAl); currentBut.startAnimation(sets); new Handler().postDelayed(new Runnable() { @Override public void run() { currentBut.clearAnimation(); currentBut.setAlpha(0); } }, 800); } }</span></span></code> </pre><br></div></div><br><h4>  <b>The finish</b> </h4><br>  You can run the project.  If something goes wrong, write in the comments or in PM.  Just in case, once again I give a link to the <a href="https://github.com/Liverm0r/PlusMinus">githab</a> .  I will be glad to hear ideas on the bot and comments on the code. </div><p>Source: <a href="https://habr.com/ru/post/271899/">https://habr.com/ru/post/271899/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271887/index.html">‚ÄúIT is a rather poor industry‚Äù - an interview with Dmitry Nesteruk from JetBrains</a></li>
<li><a href="../271889/index.html">sin 1 ¬∞ on calculator</a></li>
<li><a href="../271891/index.html">asm.js</a></li>
<li><a href="../271895/index.html">Why email will never die</a></li>
<li><a href="../271897/index.html">Creating unique themes for ExtJS 6 applications</a></li>
<li><a href="../271901/index.html">Is it possible to develop on the iPad?</a></li>
<li><a href="../271903/index.html">AltegroSIM: we are upgrading the mobile communication service delivery</a></li>
<li><a href="../271905/index.html">Meet loop fracking</a></li>
<li><a href="../271909/index.html">QCTF Starter: computer security for four or how we made a tournament for beginners in 19 cities simultaneously</a></li>
<li><a href="../271911/index.html">Equivalent transformations of Maxwell equations (ps)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>