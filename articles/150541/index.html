<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Space Engine - Universe in the palm of your hand</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="My God, it's full of stars!  Arthur C. Clarke 

 As a child, how many of us never dreamed of ‚Äúplowing the expanses of the universe,‚Äù like Captain Pica...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Space Engine - Universe in the palm of your hand</h1><div class="post__text post__text-html js-mediator-article"><blockquote><img src="https://habrastorage.org/storage2/8cb/18e/5e7/8cb18e5e76cb7a5a56d1f3d669a54138.jpg" align="right">  My God, it's full of stars! </blockquote>  <i>Arthur C. Clarke</i> <br><br>  As a child, how many of us never dreamed of ‚Äúplowing the expanses of the universe,‚Äù like Captain Picard, strolling around uncharted planets of distant worlds, seeing dawns of double or triple stars, diving into the atmospheres of gas giants, dropping ships into black holes?  And I, too, is no exception.  Of course, part of this dream embodied books, movies and "Elite" -nye games.  But all the romance in them was destroyed by the banal buy-sell and pi-piu in the ‚Äúliquid‚Äù space at the speeds of the aircraft of the First World War.  And those few virtual worlds lacked the freedom, detail and scale of the real universe. <br><br>  At the beginning of the millennium, I met MojoWorld and was shocked by its capabilities.  Finally, it was possible to wander around other planets and photograph local sights.  He became the first swallow, which gave hope that the full-scale cosmic worlds are technically possible.  But, unfortunately, the performance of a decade-old iron was not enough to transfer all the beauties in real time.  Yes, and the planets were just dead landscapes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But now, just over a year ago, I accidentally stumbled upon the Space Engine universe, and it just blew my brain and spread it across the floor with my scale and incredible detail. <br><a name="habracut"></a><br><br><h4>  How does all this look? </h4><br>  The first thing that catches your eye is the real size of our universe.  What are hundreds of billions of galaxies and hundreds of billions of stars in each of them?  - just dry numbers in an astronomy textbook.  But here, all this is felt in its own skin.  And you begin to understand how our humanity, with all its petty problems and mouse wars, is insignificant in comparison with the magnitude and incomprehensibility of the Universe.  No, we are not grains of sand, or even dust, we are nothing at all.  And no one will even notice if our sun suddenly goes out tomorrow and another civilization will sink into oblivion, without leaving any heritage behind. <br><br>  In addition, the absolute freedom of movement is surprising.  You can fly anywhere with seamless transitions between the surface of the planets, the orbit, the stars and galaxies. <br><img src="https://habrastorage.org/storage2/e2a/98b/e81/e2a98be819e0305d9f2396a42278d7a4.jpg"><br><br>  Yes, this is not a ‚Äúthrough the universe‚Äù screensaver; here every flying star can be visited, wandered around its planets, their satellites and asteroids. <br><br>  Of course, in the Space Engine, as in any other self-respecting planetarium (for example, the recently mentioned Celestia), there is a display of the orbits of space bodies and detailed information on them, and time management, and various eclipses (including from the planetary rings), and the ability to render in fisheye projection for planetarium projectors.  But the most important thing is that it is not limited to the catalogs of HIPPARCOS stars and NGC / IC galaxies (which also exist), but generates in general the entire visible universe with all types of objects that can be found in it.  But this is based solely on scientific data and current theories and models, which allows the Space Engine to be used as a complete (and incredibly beautiful) manual on astronomy. <br><br>  Here you can see with your own eyes the cosmic pac-man.  Although in reality, this is a black hole with a gravitational lens against the background of the blue supergiant: <br><img src="https://habrastorage.org/storage2/926/cf7/4fc/926cf74fc7562e602069fd78a49e6b59.jpg"><br><br>  Meet the rise of a double star (there are even eightfold stars): <br><img src="https://habrastorage.org/storage2/94f/a47/d33/94fa47d33347f56f0d88ede5dad576c0.jpg"><br><br>  Visit neighboring and not very galaxies, nebulae, star clusters.  Learn what red giants, neutron stars, and more look like.  I will not spoil much, just leave a few pictures. <br><br><img src="https://habrastorage.org/storage2/9df/45a/4e5/9df45a4e5f5a9e82fa202d7904b0346e.jpg"><br><br><img src="https://habrastorage.org/storage2/1b0/7f7/04a/1b07f704a0a5a747d178a4f7efbcde84.jpg"><br><br><img src="https://habrastorage.org/storage2/337/0ed/fc2/3370edfc2369609345b52629005d61b0.jpg"><br><br><img src="https://habrastorage.org/storage2/e21/442/042/e21442042dcbb6653e669f26d8c64151.jpg"><br><br><img src="https://habrastorage.org/storage2/f0f/46b/8fd/f0f46b8fdd504978bfa7ff0b39be1175.jpg"><br><br>  By the way, what do you think the planet will look like, which is always facing one of its sides to the star?  Meet the tidal-synchronized (it turns out that way) desert.  On the one hand, the night and the permafrost, on the other - the surface burned by a star and a huge super-cyclone that never stops. <br><img src="https://habrastorage.org/storage2/887/a20/5bc/887a205bce2d0a34ac024280a7d14fcb.jpg"><br><br>  As in Celestia, the Space Engine can be downloaded official additions to the textures of the planets of the solar system and some of their satellites in high resolution.  For example, the basic configuration "weighs" 500 MB, and the full size of all add-ons is about 10 GB. <br><br><h4>  What else is missing? </h4><br>  Unfortunately, a lot more.  Space is much more diverse and amazing than everything that has already been implemented in the Space Engine, but with each version the author carefully transfers a piece of this into his universe.  For example, in the picture with a black hole and a blue giant for complete happiness, there is not enough accretion disk and jets, which are still in the plans.  Also, while the plans are comets tails, quasars, individual stones in planetary rings and dozens of other details that will make the universe even more complete, accurate and beautiful.  So there is still a lot of work. <br><br><h4>  What else can you do? </h4><br>  At the moment, the program is a free interactive planetarium with the beginnings of a space simulator (that is, you can fly on the shuttle over the surfaces of the planets and drop ships into black holes now). <br><br><img src="https://habrastorage.org/storage2/d4e/a93/e44/d4ea93e444ffb364121d6db14bfa4629.jpg"><br><br>  In the future, based on the same engine, it is planned to develop an MMO game with a focus on space exploration, searching for artifacts, building and developing colonies and bases on planets, asteroids, or gas giants orbits.  No teleportation, "liquid" space and Hollywood "pi-piu".  And what to share in such a huge universe? <br><br>  In order to fly between planets and stars, you have to remember at least the basics of astronomy, the trajectories of celestial bodies, what is the first, second, third cosmic velocity, characteristic velocity, specific impulse and other attributes of real space travel.  You will also have to monitor the fuel and reactive mass consumption (yes, these are potentially different things) in order not to stay ‚Äúsuddenly‚Äù in open space without the possibility of returning to habitable systems.  Planned and ship designer, as in the Kerbal Space Program, with calculations of the basic dynamic characteristics, as well as the strength and stability of the structure.  The only ‚Äúfantastic‚Äù assumption is the hyper-drive providing superluminal overflights.  Without it, IMO will be impossible. <br><br><h4>  How is all this possible? </h4><br>  The Space Engine universe is created by almost one person, our compatriot from St. Petersburg, Vladimir Romanyuk ( <a href="http://habrahabr.ru/users/spaceengineer/" class="user_link">SpaceEngineer</a> ).  He is an astronomer by education and profession, so that you can be sure of the scientific credibility of all simulated objects and processes.  The community that has developed around its program helps to keep the catalogs of galaxies, stars and exoplanets up to date, as they are opened almost every day.  Also, fans create models of ships, shuttles and other trifles to fill the universe. <br><br>  The creator does not make secrets from the technical component of his world and shares his findings with the forum users.  I will list some of the main points and problems that needed to be solved for the implementation of the engine. <br><br><h5>  Coordinates </h5><br>  One of the problems was the representation of the coordinates of objects within the universe.  Who worked closely with floating-point numbers, knows how quickly they lose accuracy with distance from zero.  And the accuracy of a few kiloparsec on the edge of the universe is not at all.  Therefore, to store the coordinates, 64-bit fixed-point numbers and a hierarchical representation of objects are used.  That is, the coordinates of galaxies are described absolutely, the stars - relative to the center of the galaxy, and the planets - relative to the star.  Of course, when rendering everything has to be translated into floating point numbers, but the conversion to coordinates relative to the camera is calculated in integers.  And the rendering itself takes place in layers, since no z-buffer accuracy is enough to take into account the size of the universe. <br><br><h5>  Stars and galaxies </h5><br>  The second problem is the generation of stars and galaxies.  There are hundreds of billions of stars in the galaxy, which means that in order to display them all, you will need to generate and render terabytes of data.  Of course, this is not suitable for real time.  It would seem, well, we will limit the distance to the camera and we will generate and render stars only in a small volume.  But then there are two more problems.  Firstly, the algorithm must be deterministic, that is, despite the fact that the stars are created randomly, they must always appear in the same place.  Otherwise it will be strange if we fly away from the star, and then there will be emptiness in its place.  Secondly, the stars have different brightness and are visible at different distances.  Dull brown dwarfs quickly disappear from sight, and bright blue giants are visible almost across the galaxy.  To solve both problems, an octree tree (octree) is used, the nodes of which store the seed to generate the underlying levels, as well as the extreme brightness of the stars in this cell.  In this case, brighter stars are generated at higher levels of the hierarchy, since there are significantly fewer of them than less bright ones.  Thus, the generation of stars becomes absolutely deterministic and depends only on the root of the tree and the distribution of stars in the galaxy.  It also allows you to quickly generate stars with the specified maximum visible brightness (which depends on the distance and absolute brightness) at any distance from the camera. <br><br>  The technology of rendering galaxies and nebulae is similar to rendering volumetric clouds.  That is, this is a set of sprites, which, to speed up, will be prerendered to imposters or sky boxes, depending on whether we are inside or outside. <br><br><h5>  Planets </h5><br>  The principle of modeling is similar to MojoWorld.  His ideas were picked up by many projects with procedural planets, such as Outerra and Infinity.  How it works?  We take an ordinary cube, divide each of its faces into several segments, and then spherizuem, that is, as if we inflate from the inside.  It turns out a ball with a cube topology.  This allows the use of square textures with maximum efficiency and minimal distortion. <br><br><img src="https://habrastorage.org/storage2/6a3/313/a67/6a3313a67c0b1b3908faf81417a1210d.jpg"><br><br>  But evenly divide the cube into segments is not enough.  Since the planet is large and it will not be possible to generate it with maximum detail for flights over the surface (again, terabytes of data will be required).  LODs come to the rescue.  They are implemented as follows.  Each face of the cube is a quad tree root.  Each tree node is a square with a fixed grid and texture resolution.  If necessary (when approaching the camera), the node is divided into four, thereby increasing the detail in half.  And so on until the required detail is achieved at this point. <br><br><img src="https://habrastorage.org/storage2/114/e53/b4e/114e53b4e84d9d8dc198c86d9c0b16dd.jpg"><br><br>  The height map and texture for each node of the tree are created entirely on the GPU using pixel shaders of the 3rd version (therefore, it will not work to run SE on video cards that do not support them).  Generation algorithms are remarkably described in the book from the creators of MojoWorld - ‚Äú <a href="http://books.google.ru/books/about/Texturing_and_Modeling.html%3Fid%3DbDlSJd8GfMcC%26redir_esc%3Dy">Texturing and Modeling: A Procedural Approach</a> ‚Äù.  That is, they are familiar to most of the noise of Perlin and Vorleya, as well as their variations and various methods of fractalization.  A separate algorithm creates large cyclones for tidal-synchronized planets. <br><br>  But, purely procedural landscapes usually look too artificial.  The fact is that on the planets with the atmosphere, they are subject to significant erosion, which significantly changes the outlines of mountains and valleys.  Unfortunately, the classical iterative erosion algorithms are quite difficult to scale between LODs, and at the moment they are not yet implemented.  But there is a simpler (positional) way to imitate this phenomenon.  These are special types of noise, described in detail in the <a href="http://www.decarpentier.nl/scape-procedural-extensions">article</a> .  In short, to generate the landscape, not only Perlin noise is used, but also its derivative, which allows you to construct a gradient at each point of the landscape and simulate leaching or, on the contrary, ground inflows by shifting the base noise coordinates along this gradient.  This approach already allows you to create pretty cute planets. <br><br><img src="https://habrastorage.org/storage2/0eb/8d0/965/0eb8d0965dc3a39193602fd3b8342218.jpg"><br><br>  To simulate the atmosphere, the method used is <a href="http://www-ljk.imag.fr/Publications/Basilic/com.lmc.publi.PUBLI_Article%4011e7cdda2f7_f64b69/article.pdf">Eric Bruneton</a> , which was adapted for other planets with different pressures and composition. <br><br><h4>  Instead of conclusion </h4><br>  Already, the Space Engine is sticking the majority of planetariums and realistic space simulators (Celestia, Stellarium, Orbiter) into the belt according to the richness and beauty of space.  And this is just the beginning.  If at least half of what <a href="http://spaceengine.org/forum/14-29-1">is planned</a> will be implemented, the Space Engine will become the most complete model of our universe, aggregating all the modern knowledge of humankind from the field of astronomy.  And, despite the fact that the author plans to keep the code closed, everyone can make his own contribution to the creation of the largest virtual world in existence. <br><br>  PS: all thanks to the author of the program <a href="http://habrahabr.ru/users/spaceengineer/" class="user_link">SpaceEngineer</a> .  I think he will be able to answer some questions on the engine, if any. <br><br><h5>  Links </h5><br><ul><li>  <a href="http://spaceengine.org/">Space Engine</a> - planetarium, space simulator; </li><li>  <a href="http://www.shatters.net/celestia/">Celestia</a> - Planetarium; </li><li>  <a href="http://www.stellarium.org/">Stellarium</a> - Planetarium; </li><li>  <a href="http://orbit.medphys.ucl.ac.uk/">Orbiter</a> - planetarium, space simulator; </li><li>  <a href="http://www.pandromeda.com/">MojoWorld</a> - generator of procedural planets; </li><li>  <a href="http://kerbalspaceprogram.com/">Kerbal Space Program</a> - arcade space simulator with a ship designer; </li><li>  <a href="http://www.infinity-universe.com/">Infinity</a> - MMO with procedural planets; </li><li>  <a href="http://outerra.com/">Outerra</a> is a planetary engine with the possibility of procedural detailing over real textures. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/150541/">https://habr.com/ru/post/150541/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150535/index.html">The creator of Super Meat Boy about games as a special kind of art</a></li>
<li><a href="../150536/index.html">nanoCAD 3.7 vs 4.0 - work optimization (part ‚Ññ2)</a></li>
<li><a href="../150537/index.html">Geeks On A Plane Moscow - startups unite!</a></li>
<li><a href="../150538/index.html">Communication factories and what they eat</a></li>
<li><a href="../150539/index.html">Feelings that were confirmed by numbers</a></li>
<li><a href="../150542/index.html">Host and Request_Uri in the list of Oracle sessions</a></li>
<li><a href="../150543/index.html">SQLite and UNICODE</a></li>
<li><a href="../150544/index.html">Drupal as a gaming platform (part 1)</a></li>
<li><a href="../150547/index.html">Technologies, techniques, attacks and research on ZeroNights 2012</a></li>
<li><a href="../150548/index.html">Sifteo Cubes. Board games of new generation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>