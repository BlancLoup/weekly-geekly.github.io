<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using STP to create p2p channels</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In networks where switches are used with limited memory resources used to store mac-addresses, or the time of convergence of the STP protocol does not...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using STP to create p2p channels</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/0c/sk/gc/0cskgcozxzyv1fbwcyw_q3akpdy.jpeg" alt="image"><br>  In networks where switches are used with limited memory resources used to store mac-addresses, or the time of convergence of the STP protocol does not suit you, you can use a simple technique. <br><br>  It is based on building p2p communication channels between L3 routers using STP ( <a href="https://www.cisco.com/c/en/us/support/docs/lan-switching/spanning-tree-protocol/24062-146.html">more precisely RSTP</a> ) and <a href="https://yandex.ru/search/touch/%3Ftext%3Dmac%2520learning%2520disable%2520vlan%26lr%3D213">disabling MAC address memory</a> on intermediate switches. <br><br>  <b>The advantage of</b> this solution is that the time for determining the malfunction and the time for restoring work are determined by the level 3 routing protocol used and do not depend on the convergence time of the STP protocol. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  About STP is written quite a lot, <a href="https://habr.com/post/143768/">for example in Habr√©</a> , I will not describe the details. <br><br>  To reserve communication channels between routers, you can use the appropriate dynamic routing protocols. <br><br><ol><li>  On routers on two parallel logical links, suitable dynamic routing protocols are configured (do not forget to specify the type of link p2p, if necessary;)). </li><li>  On the switches for each of the two parallel p2p-channels (VLAN) is built a netless STP tree.  The topology of each VLAN should be built in such a way that in case of failure of any of the network components between the two end routers, the second p2p channel continues to work. </li><li>  On all intermediate switches, for VLANs involved in the organization of p2p links, you can disable MAC address memorization.  This allows you to simplify the requirements for the parameters of intermediate switches when the traffic of a large number of devices with unique MAC addresses passes through them. </li></ol><br><br>  <b>An example of use</b> in real life <a href="https://habr.com/post/427433/">is here.</a> <br><br>  PS You can try to do without STP, using only the manipulation of the VLAN ID on the interfaces.  But, in case of an error (when planning, implementing or making changes), the network will no longer work correctly. <br><br>  UPD: Added a few explanations, without pictures (before NG, there is no time, alas).  Perhaps later will make an update). </div><p>Source: <a href="https://habr.com/ru/post/432186/">https://habr.com/ru/post/432186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../432176/index.html">How we doubled the speed of working with Float in Mono</a></li>
<li><a href="../432178/index.html">... and a guarantee for projectors - enlarge</a></li>
<li><a href="../432180/index.html">How to pump your career through GitHub</a></li>
<li><a href="../432182/index.html">We take away mail without sms and registration</a></li>
<li><a href="../432184/index.html">Problem personalities among testers</a></li>
<li><a href="../432188/index.html">Hackers from the APT28 group attacked email-boxes of hundreds of employees of the Czech ministries</a></li>
<li><a href="../432190/index.html">Underside client-side physics prediction</a></li>
<li><a href="../432192/index.html">4 signs that you are not ready to implement a project management solution</a></li>
<li><a href="../432196/index.html">About the composition of functions in JavaScript</a></li>
<li><a href="../432198/index.html">Delivery Manager - a new role in the world of Agile</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>