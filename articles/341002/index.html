<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing FlexLM on Ubuntu Server 16</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This guide will detail how to install FlexLM security on Ubuntu Server 16.04. Installation on the desktop version is also possible (version 17.10 is p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing FlexLM on Ubuntu Server 16</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/vt/w_/8b/vtw_8bu2ica7x0b_fphudt6mcsi.png"><br><br>  This guide will detail how to install FlexLM security on Ubuntu Server 16.04.  Installation on the desktop version is also possible (version 17.10 is personally verified). <br>  As servers will act as specially designed for Linux (Autodesk), and existing only for Windows (Nanosoft / CSoft). <br><a name="habracut"></a><br>  Read more about licensing <a href="https://habrahabr.ru/post/341002/">below</a> . <br><br><h3>  Install Autodesk NLM </h3><br>  Ubuntu in the <a href="https://knowledge.autodesk.com/customer-service/network-license-administration/get-ready-network-license/review-the-network-license-manager-system-requirements">list of supported OS is</a> not, but it is fixable. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      0) Install the OS for you. <br><br>  1) Download the current <a href="https://knowledge.autodesk.com/search-result/caas/downloads/content/autodesk-network-license-manager-for-linux.html">NLM from Autodesk</a> . <br><br>  At the time of writing, this is 11.13.1.2 <br><br><pre><code class="bash hljs">wget http://download.autodesk.com/us/support/files/network_license_manager/11_13_1_2_v2/Linux/nlm11.13.1.2_ipv4_ipv6_linux64.tar.gz</code> </pre> <br>  2) Unzip the archive. <br><br><pre> <code class="bash hljs">tar -xvzf nlm11.13.1.2_ipv4_ipv6_linux64.tar.gz</code> </pre> <br>  The output is an rpm package. <br><br>  3) Install the necessary packages for work. <br><br><pre> <code class="bash hljs">sudo apt-get install alien lsb -y</code> </pre> <br>  4) Convert the package to deb. <br><br><pre> <code class="bash hljs">sudo alien nlm11.13.1.2_ipv4_ipv6_linux64.rpm</code> </pre> <br>  The output is <i>adlmflexnetserver_12.0.36-1_amd64.deb</i> . <br><br>  5) Install the resulting package. <br><br><pre> <code class="bash hljs">sudo dpkg -i adlmflexnetserver_12.0.36-1_amd64.deb</code> </pre> <br>  Installation takes place in <i>/ opt / flexnetserver</i> <br><br>  6) Place your license for Autodesk products on the server.  How to get a license read <a href="https://habrahabr.ru/post/341002/">below</a> . <br><br>  7) Create a folder for the logs and set the necessary rights. <br><br><pre> <code class="bash hljs">sudo mkdir /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/flex sudo chmod 777 /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/flex</code> </pre> <br>  8) Test the license operation. <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/flexnetserver ./lmgrd -c /opt/flexnetserver/adskflex.lic -l /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/flex/flex.log ./lmutil lmstat -a</code> </pre> <br>  The path to your license may differ. <br>  If the server performs correctly, then go to the next item.  If not, then read the log and proceed to debug. <br><br>  9) To start the license server in automatic mode, you need to register it in <u>rc.local</u> .  It is desirable to run on behalf of an unprivileged user and through <i>nohup</i> .  This utility allows the process to work even when the user exits. <br><br><pre> <code class="bash hljs">sudo nano /etc/rc.local</code> </pre> <br>  and specify the line before <i>exit 0</i> <br>  <i>su user -c 'nohup / opt / flexnetserver / lmgrd -c /opt/flexnetserver/adskflex.lic -l /var/log/flex/flex.log'</i> <br><br>  10) Reboot the server and check the operation (point 8). <br><br>  Everything is quite simple when there is a native server.  And what if the vendor ignores Linux? <br><br><h3>  Install Nanosoft NLM </h3><br>  Or any other Windows NLM server.  It works of course through Wine. <br><br>  0) Install the OS for you. <br><br>  1) Install wine.  I recommend to put according to the <a href="https://wiki.winehq.org/Ubuntu">instructions from the official site</a> . <br><br><pre> <code class="bash hljs">wget -nc https://dl.winehq.org/wine-builds/Release.key sudo apt-key add Release.key sudo apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/ sudo apt-get update &amp;&amp; sudo apt-get install --install-recommends winehq-stable -y</code> </pre> <br>  2) Configure wine.  This is done <u>strictly</u> on behalf of the user. <br><br><pre> <code class="bash hljs">winecfg</code> </pre> <br>  Warn warnings, ignore them. <br><br>  3) Install Nanosoft NLM on any Windows machine and transfer the folder with the executive files to the target server.  Installation can be done without a license file.  In accordance with the structure, you need to transfer files to <i>/home/user/.wine/drive_c/Program Files (x86) / Nanosoft / Nanosoft License Server /</i> .  Instead of <i>user</i> specify the name of your user. <br><blockquote>  Strictly speaking, this path is optional.  It is enough for it to be inside <i>drive_c</i> or another mounted disk (see instructions). </blockquote>  Also transfer the license file. <br><br>  4) Test server operation. <br><br><pre> <code class="bash hljs">wine <span class="hljs-string"><span class="hljs-string">"C:\Program Files (x86)\Nanosoft\Nanosoft License Server\lmgrd.exe"</span></span> -z -c <span class="hljs-string"><span class="hljs-string">"___"</span></span></code> </pre> <br>  If the terminal freezes on the <u>NANOSOFT using TCP-port *</u> command <u>(lmgrd)</u> , then the server is operational.  Break the execution as usual using Ctrl + C. <br>  Errors are possible if you have already installed some kind of software.  For example, in the case of MC, you need to fix the rights to the <i>.local / share</i> folder. <br><br>  I also advise you to enable logging.  You can do this by simply adding the appropriate argument. <br><br><pre> <code class="bash hljs">wine <span class="hljs-string"><span class="hljs-string">"C:\Program Files (x86)\Nanosoft\Nanosoft License Server\lmgrd.exe"</span></span> -z -c <span class="hljs-string"><span class="hljs-string">"___"</span></span> -l +<span class="hljs-string"><span class="hljs-string">"__-"</span></span></code> </pre> <br>  In this case, monitor the working state by log (the file is created automatically). <br><br>  Other arguments can be found <a href="http://download.autodesk.com/us/support/files/network_license_manager/readmes/LicenseAdministration.pdf">in the administration guide</a> [p.103]. <br><br>  5) For <b>lmutil.exe to</b> work <b>correctly,</b> list the vendor and the path to the license file. <br><br><pre> <code class="bash hljs">wine <span class="hljs-string"><span class="hljs-string">"C:\Program Files (x86)\Nanosoft\Nanosoft License Server\lmutil.exe"</span></span> lmpath -add nanocad <span class="hljs-string"><span class="hljs-string">"___"</span></span></code> </pre> <br>  6) To start the license server in automatic mode, you need to register it in <u>rc.local</u> . <br><br><pre> <code class="bash hljs">sudo nano /etc/rc.local</code> </pre> <br>  and specify the line before <i>exit 0</i> <br>  <i>su user -c 'nohup wine "C: \ Program Files (x86) \ Nanosoft \ Nanosoft License Server \ lmgrd.exe" -z -c "path_to_to_ your_Licency" -l + "path_to__log-file"'</i> <br><br>  7) Reboot the machine and check the server operation. <br><br><pre> <code class="bash hljs">wine <span class="hljs-string"><span class="hljs-string">"C:\Program Files (x86)\Nanosoft\Nanosoft License Server\lmutil.exe"</span></span> lmstat -a</code> </pre> <br><a name="licmore"></a><h3>  More about licensing </h3><br>  Licensing of FlexLM can be of 2 types: linked to a MAC address or to a USB key.  The second in the era of mass implementation of hypervisors, in my opinion, less flexible in terms of infrastructure.  After all, it is much easier to raise the selected VM with the necessary MAC, than to suffer with key forwarding.  In the case of Ubuntu Server to get a license online will not work.  You will have to raise another VM from another OS with the same MAC. <br>  By the way, on Ubuntu 17.10 to get a license via the Internet is possible :). <br><br><h3>  Change the type of licensing </h3><br>  If you have already purchased software with key protection, like mine, for example, then do not worry!  Usually the vendor allows for the exchange of licensing type. <br>  In most cases, contacting the TP is sufficient. <br><br>  For example, Nanosoft requires a scan of a letter signed / stamped with a request for re-issuance using MAC, besides you should specify S / N and login.  After obtaining a new license, you must destroy the old one. <br><br>  <a href="https://habrahabr.ru/post/336570/">And of course, FlexLM licenses can be monitored by Zabbiks!</a> </div><p>Source: <a href="https://habr.com/ru/post/341002/">https://habr.com/ru/post/341002/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340992/index.html">Blockchain: how it works, and why this technology will change the world</a></li>
<li><a href="../340994/index.html">Crawler for crawler</a></li>
<li><a href="../340996/index.html">Building projects with GitLab CI: one .gitlab-ci.yml for hundreds of applications</a></li>
<li><a href="../340998/index.html">UI Solitaire: Making Your StackView in Android</a></li>
<li><a href="../341000/index.html">Digest of IT events for November</a></li>
<li><a href="../341004/index.html">Computer predicted the victory of the United States in Vietnam</a></li>
<li><a href="../341006/index.html">Super expressive code involving levels of abstractions</a></li>
<li><a href="../341008/index.html">Interview with Pavel Golubev (Appodeal) about publishers, monetization and advertising mediation</a></li>
<li><a href="../341014/index.html">Swift 4 - weak links</a></li>
<li><a href="../341016/index.html">[SOA] Service Oriented Ansible</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>