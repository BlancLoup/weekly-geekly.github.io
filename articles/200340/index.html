<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a module for Drupal 7. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 I recently received a task to learn how to write modules for Drupal 7. I started scouring in search of various articles and manuals, and I ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a module for Drupal 7. Part 1</h1><div class="post__text post__text-html js-mediator-article"><h4>  Foreword </h4><br>  I recently received a task to learn how to write modules for Drupal 7. I started scouring in search of various articles and manuals, and I realized that there are quite a few of them, and the information is very minimal.  Official documentation also did not give me comprehensive information.  Hardly collected some information from several sources and decided to share it with you. <br><br>  I will not tell you what Drupal is, its structure.  The article is designed for those who know the minimum principle of the hooks and display Drupal.  All this can be read on the official website of the <a href="https://api.drupal.org/api/drupal">API Drupal</a> . <br><br><h4>  Begin development of the module </h4><br>  I will show how to create a module that allows you to add RSS feeds and display their content on a separate page. <br><a name="habracut"></a><br>  First you need to select the "short name" of the module.  It will be used in all files and function names of the module.  It must begin only with a letter and contain only lowercase characters and the "_" character.  I called my module "rss_feeds". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Create a folder: <i>sites / all / modules / rss_feeds</i> (all new modules that you want to add must be in this folder).  In it we create a file <i>rss_feeds.info</i> , which contains META-information about our module: <br><br>  <i>name = RSS Feeds</i> <i><br></i>  <i>description = Makes a compact page to navigate on RSS feeds.</i> <i><br></i>  <i>package = "RSS"</i> <i><br></i>  <i>core = 7.x</i> <i><br></i>  <i>version = "7.x-1.0"</i> <i><br></i>  <i>configure = admin / config / content / rss_feeds</i> <i><br></i>  <i>files [] = rss_feeds.module</i> <i><br></i> <br><br><ul><li>  name - the name of the module that will be displayed in the admin panel; </li><li>  description - the description of the module, which tells the administrator what the module does; </li><li>  package - specifies the category in which the module will be displayed on the modules page; </li><li>  core - the version of Drupal for which it was developed; </li><li>  version - the version of our module; </li><li>  configure is the path by which the module settings page will be available; </li><li>  files [] - an array of files connected by the module; </li></ul><br><br>  There are some more fields you can read about <a href="https://drupal.org/node/542202">here</a> . <br><br>  Our module will use a database in which it will store data about RSS (its name and URL).  Create the <i>rss_feeds.install</i> file: <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_uninstall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ cache_clear_all(<span class="hljs-string"><span class="hljs-string">'rss_feeds'</span></span>, <span class="hljs-string"><span class="hljs-string">'cache'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>); drupal_uninstall_schema(<span class="hljs-string"><span class="hljs-string">'rssfeeds'</span></span>); menu_rebuild(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_schema</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $schema[<span class="hljs-string"><span class="hljs-string">'rssfeeds'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'fields'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'serial'</span></span>, <span class="hljs-string"><span class="hljs-string">'size'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'normal'</span></span>, <span class="hljs-string"><span class="hljs-string">'not null'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>), <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'varchar'</span></span>, <span class="hljs-string"><span class="hljs-string">'length'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-string"><span class="hljs-string">'not null'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>), <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'varchar'</span></span>, <span class="hljs-string"><span class="hljs-string">'length'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-string"><span class="hljs-string">'not null'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>), <span class="hljs-string"><span class="hljs-string">'created_at'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'int'</span></span>, <span class="hljs-string"><span class="hljs-string">'not null'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>), <span class="hljs-string"><span class="hljs-string">'updated_at'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'int'</span></span>, <span class="hljs-string"><span class="hljs-string">'not null'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>), ), <span class="hljs-string"><span class="hljs-string">'primary key'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'id'</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $schema; }</code> </pre> <br><br>  In the <i>schema ()</i> hook, we create the table we need.  The <i>uninstall ()</i> hook <i>clears the</i> cache, deletes the table and rebuilds the menu when removing a module (closing the "?&gt;" Tag in Drupal is not to be set). <br><br><h4>  Creating a .module File </h4><br>  Next, create the module file itself - <i>rss_feeds.module</i> : <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_block_info</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $blocks[<span class="hljs-string"><span class="hljs-string">'rss_feeds'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'info'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'RSS Feeds'</span></span>), <span class="hljs-string"><span class="hljs-string">'cache'</span></span> =&gt; DRUPAL_CACHE_PER_ROLE, <span class="hljs-comment"><span class="hljs-comment">//   ); return $blocks; }</span></span></code> </pre><br><br>  In this hook we describe the blocks used.  We will only have one and be called <i>'rss_feeds'</i> .  <i>'info'</i> is brief information about the block, and <i>'cache'</i> is the caching rule.  For details, see <a href="https://api.drupal.org/api/drupal/modules!block!block.api.php/function/hook_block_info/7"><i>hook_block_info ()</i></a> . <br><br>  Next, we describe <i>hook_menu ()</i> : <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_menu</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $items = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); $items[<span class="hljs-string"><span class="hljs-string">'admin/config/content/rss_feeds'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'RSS Feeds'</span></span>, <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Configure the RSS feeds list.'</span></span>, <span class="hljs-string"><span class="hljs-string">'page callback'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'rss_list'</span></span>, <span class="hljs-string"><span class="hljs-string">'access arguments'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'administer site configuration'</span></span>), ); $items[<span class="hljs-string"><span class="hljs-string">'admin/config/content/rss_feeds/list'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'RSS feeds list'</span></span>, <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; MENU_DEFAULT_LOCAL_TASK, <span class="hljs-string"><span class="hljs-string">'weight'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, ); <span class="hljs-comment"><span class="hljs-comment">// rss add form $items['admin/config/content/rss_feeds/add'] = array( 'title' =&gt; 'Add rss', 'page callback' =&gt; 'drupal_get_form', 'page arguments' =&gt; array('rss_feeds_form'), 'access arguments' =&gt; array('administer site configuration'), 'type' =&gt; MENU_LOCAL_TASK, 'weight' =&gt; 2, ); // rss edit form $items['admin/config/content/rss_feeds/%rss/edit'] = array( 'title' =&gt; 'Edit RSS', 'page callback' =&gt; 'drupal_get_form', 'page arguments' =&gt; array('rss_feeds_form', 4), 'access arguments' =&gt; array('administer site configuration'), 'type' =&gt; MENU_CALLBACK, ); // rss delete $items['admin/config/content/rss_feeds/%rss/delete'] = array( 'title' =&gt; 'Delete RSS', 'page callback' =&gt; 'rss_feeds_delete', 'page arguments' =&gt; array(4), 'access arguments' =&gt; array('administer site configuration'), 'type' =&gt; MENU_CALLBACK, ); $items['rss_feeds'] = array( 'title' =&gt; 'RSS feeds', 'page callback' =&gt; '_rss_feeds_page', 'access arguments' =&gt; array('access content'), ); $items['rss_feeds/%rss/items'] = array( 'title' =&gt; 'RSS feed content', 'page callback' =&gt; 'rss_content', 'page arguments' =&gt; array(1), 'access callback' =&gt; TRUE, 'access arguments' =&gt; array('access content'), 'type' =&gt; MENU_CALLBACK, ); return $items; }</span></span></code> </pre><br><br>  In items, we specify the URL, its title (title), description (description), processing function (page callback), passed arguments (page arguments), access parameters (access arguments), type (type) and "weight" (weight).  I would like to highlight <i>page callback</i> - <i>drupal_get_from</i> .  This function takes a form as a parameter and outputs it.  In <i>‚Äúpage arguments =&gt; array (1)‚Äù</i> , we pass the 1st element of the URL as an argument (counting from 0). <br><br>  Read more about <a href="https://api.drupal.org/api/drupal/modules%2521system%2521system.api.php/function/hook_menu/7">hook_menu ()</a> . <br><br>  Next, we describe the form through which we will add and edit our RSS feeds: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_form</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($form, &amp;$form_state, $rss = null)</span></span></span><span class="hljs-function"> </span></span>{ $form[<span class="hljs-string"><span class="hljs-string">'name'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'#title'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'RSS feed name.'</span></span>), <span class="hljs-string"><span class="hljs-string">'#description'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'Insert RSS shortcut name'</span></span>), <span class="hljs-string"><span class="hljs-string">'#type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'textfield'</span></span>, <span class="hljs-string"><span class="hljs-string">'#default_value'</span></span> =&gt; $rss ? $rss[<span class="hljs-string"><span class="hljs-string">'name'</span></span>] : <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'#required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, ); $form[<span class="hljs-string"><span class="hljs-string">'url'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'#title'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'RSS feed url.'</span></span>), <span class="hljs-string"><span class="hljs-string">'#description'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'Insert RSS url'</span></span>), <span class="hljs-string"><span class="hljs-string">'#type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'textfield'</span></span>, <span class="hljs-string"><span class="hljs-string">'#default_value'</span></span> =&gt; $rss ? $rss[<span class="hljs-string"><span class="hljs-string">'url'</span></span>] : <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'#required'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, ); $form[<span class="hljs-string"><span class="hljs-string">'submit'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'#type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'submit'</span></span>, <span class="hljs-string"><span class="hljs-string">'#value'</span></span> =&gt; $rss ? t(<span class="hljs-string"><span class="hljs-string">'Save'</span></span>) : t(<span class="hljs-string"><span class="hljs-string">'Add'</span></span>), ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($rss) { $form[<span class="hljs-string"><span class="hljs-string">'id'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'#type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'value'</span></span>, <span class="hljs-string"><span class="hljs-string">'#value'</span></span> =&gt; $rss[<span class="hljs-string"><span class="hljs-string">'id'</span></span>], ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $form; }</code> </pre><br><br>  As you can see, if we pass the <i>$ rss</i> parameter into the form, the form will understand, add a new tape, or edit an existing one.  The function <i>t ()</i> (translate), allows you to localize the module (I will discuss this later).  Learn more about <a href="https://api.drupal.org/api/drupal/modules%2521node%2521node.api.php/function/hook_form/7"><i>hook_form ()</i></a> . <br><br>  Next, you need to describe <i>hook_form_validate ()</i> , which will process the data entered into the form: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_form_validate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($form, &amp;$form_state)</span></span></span><span class="hljs-function"> </span></span>{ $url = $form_state[<span class="hljs-string"><span class="hljs-string">'values'</span></span>][<span class="hljs-string"><span class="hljs-string">'url'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fopen($url, <span class="hljs-string"><span class="hljs-string">"r"</span></span>)) { libxml_use_internal_errors(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); $rss_feed = simplexml_load_file($url); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($rss_feed)) { form_set_error(<span class="hljs-string"><span class="hljs-string">'url'</span></span>, t(<span class="hljs-string"><span class="hljs-string">'URL is invalid!'</span></span>)); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { form_set_error(<span class="hljs-string"><span class="hljs-string">'url'</span></span>, t(<span class="hljs-string"><span class="hljs-string">'URL is invalid!'</span></span>)); } }</code> </pre><br><br>  First we get the data from <i>$ form_state</i> , and then we process it.  If something is wrong, the standard <i>form_set_error ()</i> is thrown out, in which we specify the name of the form field and the message. <br><br>  When the form is validated, <i>hook_form_submit ()</i> is <i>called</i> : <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_form_submit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($form, &amp;$form_state)</span></span></span><span class="hljs-function"> </span></span>{ $rss = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; $form_state[<span class="hljs-string"><span class="hljs-string">'values'</span></span>][<span class="hljs-string"><span class="hljs-string">'name'</span></span>], <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; $form_state[<span class="hljs-string"><span class="hljs-string">'values'</span></span>][<span class="hljs-string"><span class="hljs-string">'url'</span></span>], <span class="hljs-string"><span class="hljs-string">'created_at'</span></span> =&gt; time(), <span class="hljs-string"><span class="hljs-string">'updated_at'</span></span> =&gt; time(), ); <span class="hljs-comment"><span class="hljs-comment">// save edit data if (isset($form_state['values']['id'])) { $rss['id'] = $form_state['values']['id']; drupal_write_record('rssfeeds', $rss, 'id'); drupal_set_message(t('RSS Feed saved!')); } // add new data else { drupal_write_record('rssfeeds', $rss); drupal_set_message(t('RSS Feed added!')); } drupal_goto('admin/config/content/rss_feeds'); }</span></span></code> </pre><br><br>  I think everything is clear.  <i>drupal_write_record ()</i> makes an entry in the database, <i>drupal_set_message ()</i> shows the system message, <i>drupal_goto ()</i> flips to the specified URL. <br><br>  In order for a form to accept not just a tape ID ( <i>$ rss</i> ), but its data, you need to define <i>hool_load ()</i> : <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_load</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id)</span></span></span><span class="hljs-function"> </span></span>{ $rss = db_select(<span class="hljs-string"><span class="hljs-string">'rssfeeds'</span></span>, <span class="hljs-string"><span class="hljs-string">'n'</span></span>) -&gt;fields(<span class="hljs-string"><span class="hljs-string">'n'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'id'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'url'</span></span>, <span class="hljs-string"><span class="hljs-string">'created_at'</span></span>, <span class="hljs-string"><span class="hljs-string">'updated_at'</span></span>)) -&gt;condition(<span class="hljs-string"><span class="hljs-string">'n.id'</span></span>, $id) -&gt;execute()-&gt;fetchAssoc(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $rss; }</code> </pre><br><br>  Now, as <i>$ rss</i> , the form will be passed not a number, but an object with data. <br><br>  Next, you should implement the function of displaying the page where we can edit our RSS feeds table - <i>rss_list ()</i> : <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_list</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $header = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'data'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'Name'</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'data'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'URL'</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'data'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'Actions'</span></span>)) ); $rss = db_select(<span class="hljs-string"><span class="hljs-string">'rssfeeds'</span></span>, <span class="hljs-string"><span class="hljs-string">'n'</span></span>) -&gt;fields(<span class="hljs-string"><span class="hljs-string">'n'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'id'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'url'</span></span>)) -&gt;execute()-&gt;fetchAll(); $row = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($rss) { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($rss <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $rss_feed) { $actions = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( l(t(<span class="hljs-string"><span class="hljs-string">'edit'</span></span>), <span class="hljs-string"><span class="hljs-string">'admin/config/content/rss_feeds/'</span></span> . $rss_feed-&gt;id . <span class="hljs-string"><span class="hljs-string">'/edit'</span></span>), l(t(<span class="hljs-string"><span class="hljs-string">'delete'</span></span>), <span class="hljs-string"><span class="hljs-string">'admin/config/content/rss_feeds/'</span></span> . $rss_feed-&gt;id . <span class="hljs-string"><span class="hljs-string">'/delete'</span></span>), ); $row [] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'data'</span></span> =&gt; $rss_feed-&gt;name), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'data'</span></span> =&gt; $rss_feed-&gt;url), <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'data'</span></span> =&gt; implode(<span class="hljs-string"><span class="hljs-string">' | '</span></span>, $actions)), ); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> theme(<span class="hljs-string"><span class="hljs-string">'table'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'header'</span></span> =&gt; $header, <span class="hljs-string"><span class="hljs-string">'rows'</span></span> =&gt; $row, )); }</code> </pre><br><br>  Function <i>l ()</i> (link) - creates a link.  But the main function is <i><a href="https://api.drupal.org/api/drupal/includes!theme.inc/function/theme/7">theme ()</a></i> .  You will meet with her separately, because  It is very extensive and has many useful options. <br><br>  Below, we will create a function for deleting the <i>rss_feeds_delete ()</i> entries: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($rss)</span></span></span><span class="hljs-function"> </span></span>{ $rss_deleted = db_delete(<span class="hljs-string"><span class="hljs-string">'rssfeeds'</span></span>) -&gt;condition(<span class="hljs-string"><span class="hljs-string">'id'</span></span>, $rss[<span class="hljs-string"><span class="hljs-string">'id'</span></span>]) -&gt;execute(); drupal_set_message(t(<span class="hljs-string"><span class="hljs-string">'RSS Feed deleted!'</span></span>)); drupal_goto(<span class="hljs-string"><span class="hljs-string">'admin/config/content/rss_feeds'</span></span>); }</code> </pre><br><br>  No comments. <br><br>  For convenience, I added a function that will return data, depending on the parameter (block or page).  Here are its contents: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_contents</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($display)</span></span></span><span class="hljs-function"> </span></span>{ $query = db_select(<span class="hljs-string"><span class="hljs-string">'rssfeeds'</span></span>, <span class="hljs-string"><span class="hljs-string">'n'</span></span>) -&gt;fields(<span class="hljs-string"><span class="hljs-string">'n'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'id'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'url'</span></span>)) -&gt;orderBy(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'DESC'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($display == <span class="hljs-string"><span class="hljs-string">'block'</span></span>) { $query-&gt;range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $query-&gt;execute(); }</code> </pre><br><br>  If we specify <i>'block'</i> as a parameter, we will display only 5 entries. <br><br>  Next, we implement the output hook of the block - <a href="https://api.drupal.org/api/drupal/modules!block!block.api.php/function/hook_block_view/7"><i>hook_block_view ()</i></a> : <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_block_view</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($delta = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ $blocks = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> ($delta) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'rss_feeds'</span></span>: $select = db_select(<span class="hljs-string"><span class="hljs-string">'rssfeeds'</span></span>, <span class="hljs-string"><span class="hljs-string">'tc'</span></span>); $select-&gt;addField(<span class="hljs-string"><span class="hljs-string">'tc'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>); $select-&gt;addField(<span class="hljs-string"><span class="hljs-string">'tc'</span></span>, <span class="hljs-string"><span class="hljs-string">'url'</span></span>); $entries = $select-&gt;execute()-&gt;fetchAll(); $blocks[<span class="hljs-string"><span class="hljs-string">'subject'</span></span>] = t(<span class="hljs-string"><span class="hljs-string">'List of URLs'</span></span>); $blocks[<span class="hljs-string"><span class="hljs-string">'content'</span></span>] = theme(<span class="hljs-string"><span class="hljs-string">'rssfeeds_block'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'urls'</span></span> =&gt; $entries)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $blocks; }</code> </pre><br><br>  This unit will be available in the administration panel. <br><br>  Now we will write the function of displaying the page, on which there will be a list of tapes, when clicked, the content will be displayed (in a new tab): <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_rss_feeds_page</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ drupal_set_title(t(<span class="hljs-string"><span class="hljs-string">'RSS Feeds'</span></span>)); $result = rss_contents(<span class="hljs-string"><span class="hljs-string">'page'</span></span>)-&gt;fetchAll(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$result) { $page_array[<span class="hljs-string"><span class="hljs-string">'rss_feeds_arguments'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'#title'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'RSS Feeds page'</span></span>), <span class="hljs-string"><span class="hljs-string">'#markup'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'No RSS feeds available'</span></span>), ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $page_array; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $page_array = theme(<span class="hljs-string"><span class="hljs-string">'rssfeeds_page'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'urls'</span></span> =&gt; $result)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $page_array; } }</code> </pre><br><br>  ... and the content display page: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_content</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($rss)</span></span></span><span class="hljs-function"> </span></span>{ $url = $rss[<span class="hljs-string"><span class="hljs-string">'url'</span></span>]; libxml_use_internal_errors(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); $rss_feed = simplexml_load_file($url); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($rss_feed)) { drupal_set_title($rss_feed-&gt;channel-&gt;title); $page_array = theme(<span class="hljs-string"><span class="hljs-string">'rssfeeds_content'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'items'</span></span> =&gt; $rss_feed)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $page_array; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $page_array[<span class="hljs-string"><span class="hljs-string">'rss_feeds_arguments'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'#title'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'All posts from the last week'</span></span>), <span class="hljs-string"><span class="hljs-string">'#markup'</span></span> =&gt; t(<span class="hljs-string"><span class="hljs-string">'No posts available.'</span></span>), ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $page_array; } }</code> </pre><br><br>  You may have noticed, but the pages will not be displayed.  I specified the <i>'rssfeeds_block'</i> and <i>'rssfeeds_content'</i> parameters in the <i>theme ()</i> function.  These are the templates I created.  We make <a href="https://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_theme/7"><i>hook_theme ()</i></a> to initialize them: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rss_feeds_theme</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'rssfeeds_block'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'variables'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'urls'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span> ), <span class="hljs-string"><span class="hljs-string">'template'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'rssfeeds-block'</span></span>, ), <span class="hljs-string"><span class="hljs-string">'rssfeeds_page'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'variables'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'urls'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span> ), <span class="hljs-string"><span class="hljs-string">'template'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'rssfeeds-page'</span></span>, ), <span class="hljs-string"><span class="hljs-string">'rssfeeds_content'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'variables'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'items'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span> ), <span class="hljs-string"><span class="hljs-string">'template'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'rssfeeds-content'</span></span>, ) ); }</code> </pre><br><br>  In the <i>'template'</i> field specify the name of the template. <br><br>  Now create the template files themselves.  Namely: <i>rssfeeds-block.tpl.php</i> , <i>rssfeeds-page.tpl.php</i> and <i>rssfeeds-content.tpl.php</i> . <br><br>  Content of the first file: <br><br><pre> <code class="php hljs">&lt;div id=<span class="hljs-string"><span class="hljs-string">"rssfeeds-pager"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($urls <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $url): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;span&gt; &lt;a target=<span class="hljs-string"><span class="hljs-string">"_blank"</span></span> href=<span class="hljs-string"><span class="hljs-string">"http://&lt;?php echo $url-&gt;url; ?&gt;"</span></span>&gt;<span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $url-&gt;url; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/a&gt;&lt;br&gt; &lt;/span&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endforeach</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/div&gt;</code> </pre><br><br>  ... second: <br><br><pre> <code class="php hljs">&lt;div id=<span class="hljs-string"><span class="hljs-string">"rssfeeds-pager"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($urls <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $url): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;span&gt; &lt;a target=<span class="hljs-string"><span class="hljs-string">"_blank"</span></span> href=<span class="hljs-string"><span class="hljs-string">"rss_feeds/&lt;?php echo $url-&gt;id; ?&gt;/items"</span></span>&gt;<span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $url-&gt;name; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/a&gt;&lt;br&gt; &lt;/span&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endforeach</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/div&gt;</code> </pre><br><br>  ... and third, respectively: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($items-&gt;channel-&gt;item <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $item): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">title</span></span></span><span class="hljs-class">"&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">item</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">link</span></span></span><span class="hljs-class">; ?&gt;"&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">item</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">title</span></span></span><span class="hljs-class">; ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">br</span></span></span><span class="hljs-class">&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">br</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">item</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">description</span></span></span><span class="hljs-class">; ?&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">br</span></span></span><span class="hljs-class">&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">br</span></span></span><span class="hljs-class">&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">item</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pubDate</span></span></span><span class="hljs-class">; ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hr</span></span></span><span class="hljs-class">&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">br</span></span></span><span class="hljs-class">&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">br</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endforeach</span></span></span><span class="hljs-class">; ?&gt;</span></span></code> </pre><br><br>  Now our module will function.  However, you probably noticed that classes are defined for elements.  Now we attach a CSS style file to our module.  To do this, add this line to the .info file: <br><br>  <i>stylesheets [all] [] = main.css</i> <br><br>  And create the <i>main.css</i> file: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">16px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">1px</span></span> black; <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>: bold; } <span class="hljs-selector-class"><span class="hljs-selector-class">.title</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">text-decoration</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#B81007</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.title</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">text-decoration</span></span>: underline; }</code> </pre><br><br><h4>  Conclusion </h4><br>  That's actually the finished module.  If you like this article, I will write how to add js-files to the modules and make localization files.  I hope she helps someone. <br><br>  Thanks for attention! <br><br><h4>  PS </h4><br><br>  Wrote the <a href="http://habrahabr.ru/post/200382/">second part</a> . </div><p>Source: <a href="https://habr.com/ru/post/200340/">https://habr.com/ru/post/200340/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../200328/index.html">Automation of reset of a router of CISCO RVS4000</a></li>
<li><a href="../200330/index.html">Unambiguous tty for USB devices on FreeBSD</a></li>
<li><a href="../200332/index.html">Project self-organizing company</a></li>
<li><a href="../200336/index.html">Let's build an autonomous drone!</a></li>
<li><a href="../200338/index.html">The Principles of Reactive Programming course at coursera.org</a></li>
<li><a href="../200344/index.html">The reasons and advantages of the third baihuist way of using SQLite in Node.js</a></li>
<li><a href="../200346/index.html">Hypervisor Vulnerabilities - Threat to Virtual Infrastructure and Cloud</a></li>
<li><a href="../200348/index.html">pacemaker: how to finish off lying</a></li>
<li><a href="../200350/index.html">Cognitive and MISiS held a school competition</a></li>
<li><a href="../200352/index.html">RESTful web API</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>