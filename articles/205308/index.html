<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Continuous Integration for Android using Jenkins + Gradle</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to share my work on the automatic assembly of the Android application. In this article I will give an example of a build for two types of appli...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Continuous Integration for Android using Jenkins + Gradle</h1><div class="post__text post__text-html js-mediator-article">  I want to share my work on the automatic assembly of the Android application.  In this article I will give an example of a build for two types of applications, the first is a simple application containing unit-tests in a separate folder, the second is an application using the project library (android library project). <br><br>  In the end, we will receive a report on completed tests as well as a signed apk file, available for download from Jenkins build artifacts. <br><a name="habracut"></a><br><h4>  Requirements for configuring automatic builds </h4><br><ol><li>  <b>Required Jenkins Plugins</b> <ul><li>  Android Emulator Plugin </li><li>  Git Plugin (if you use git) </li><li>  Multiple SCMs Plugin (for the ability to work with multiple repositories) </li><li>  Xvnc Plugin (to be able to start the emulator if the X server is not installed on the server) </li></ul></li><li>  <b>Android SDK</b> <br>  Download <a href="http://developer.android.com/intl/ru/sdk/index.html">from here</a> .  Section DOWNLOAD FOR OTHER PLATFORMS -&gt; SDK Tools only </li><li>  <b>Gradle</b> <br>  It is better to download the archive <a href="http://www.gradle.org/downloads">here</a> (gradle - ** - bin.zip) and unpack it in / usr / local / lib </li><li>  <b>Environment variables</b> <br>  ANDROID_HOME = / usr / local / lib / android / sdk <br>  GRADLE_HOME = / usr / local / lib / gradle-1.8 <br>  JAVA_HOME = / usr / lib / jvm / jdk1.7.0_03 <br>  PATH = $ PATH: $ ANDROID_HOME / tools: $ ANDROID_HOME / platform-tools: $ JAVA_HOME / bin: $ GRADLE_HOME / bin <br></li><li>  <b>Library to run the emulator</b> <br>  In case Jenkins works on a 64-bit OS, you need to add the library ia32-libs, otherwise the emulator will not start <br>  <i>sudo apt-get install ia32-libs</i> </li></ol><br>  When all the requirements are met, proceed to the setup <br><br>  In my work, I use Eclipse, so the projects have, so to speak, an old structure, not typical for gradle projects (such as it creates androidStudio).  Further examples will be given based on the fact that the project looks like this: <br><pre>  Project
  | -res
  | -src
  | -assets
  | -libs
  | -tests (folder containing the project with unit tests)
      | -src
      | -res
      | -AndroidManifest.xml
  | -AndroidManifest.xml
  | -build.gradle
  | -gradle.properties </pre><br><h4>  Customization </h4><br>  To begin with we will configure the normal project.  The first step is to create the build.gradle file in the project root. <br><div class="spoiler">  <b class="spoiler_title">buile.gradle</b> <div class="spoiler_text"><pre><code class="hljs pgsql">buildscript { repositories { mavenCentral() } dependencies { classpath <span class="hljs-string"><span class="hljs-string">'com.android.tools.build:gradle:0.6+'</span></span> } } apply plugin: <span class="hljs-string"><span class="hljs-string">'android'</span></span> android { compileSdkVersion <span class="hljs-number"><span class="hljs-number">18</span></span> buildToolsVersion "18.1.1" defaultConfig { minSdkVersion <span class="hljs-number"><span class="hljs-number">8</span></span> targetSdkVersion <span class="hljs-number"><span class="hljs-number">18</span></span> testPackageName "com.project.tests" testInstrumentationRunner "android.test.InstrumentationTestRunner" } sourceSets { main { manifest.srcFile file(<span class="hljs-string"><span class="hljs-string">'AndroidManifest.xml'</span></span>) java.srcDirs = [<span class="hljs-string"><span class="hljs-string">'src'</span></span>] resources.srcDirs = [<span class="hljs-string"><span class="hljs-string">'src'</span></span>] res.srcDirs = [<span class="hljs-string"><span class="hljs-string">'res'</span></span>] assets.srcDirs = [<span class="hljs-string"><span class="hljs-string">'assets'</span></span>] } instrumentTest { java.srcDirs = [<span class="hljs-string"><span class="hljs-string">'tests/src'</span></span>] manifest.srcFile file(<span class="hljs-string"><span class="hljs-string">'tests/AndroidManifest.xml'</span></span>) java.srcDirs = [<span class="hljs-string"><span class="hljs-string">'tests/src'</span></span>] resources.srcDirs = [<span class="hljs-string"><span class="hljs-string">'tests/src'</span></span>] res.srcDirs = [<span class="hljs-string"><span class="hljs-string">'tests/res'</span></span>] assets.srcDirs = [<span class="hljs-string"><span class="hljs-string">'tests/assets'</span></span>] } } dependencies { compile fileTree(dir: <span class="hljs-string"><span class="hljs-string">'libs'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>: <span class="hljs-string"><span class="hljs-string">'*.jar'</span></span>) } //     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(project.hasProperty("debugSigningPropertiesPath") &amp;&amp; project.hasProperty("releaseSigningPropertiesPath")) { //       File debugPropsFile = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> File(<span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.getenv(<span class="hljs-string"><span class="hljs-string">'HOME'</span></span>) + "/" + project.property("debugSigningPropertiesPath")) File releasePropsFile = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> File(<span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.getenv(<span class="hljs-string"><span class="hljs-string">'HOME'</span></span>) + "/" + project.property("releaseSigningPropertiesPath")) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(debugPropsFile.<span class="hljs-keyword"><span class="hljs-keyword">exists</span></span>() &amp;&amp; releasePropsFile.<span class="hljs-keyword"><span class="hljs-keyword">exists</span></span>()) { Properties debugProps = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Properties() debugProps.<span class="hljs-keyword"><span class="hljs-keyword">load</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> FileInputStream(debugPropsFile)) Properties releaseProps = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Properties() releaseProps.<span class="hljs-keyword"><span class="hljs-keyword">load</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> FileInputStream(releasePropsFile)) //     signingConfigs { <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> { storeFile file(debugPropsFile.getParent() + "/" + debugProps[<span class="hljs-string"><span class="hljs-string">'keystore'</span></span>]) storePassword debugProps[<span class="hljs-string"><span class="hljs-string">'keystore.password'</span></span>] keyAlias debugProps[<span class="hljs-string"><span class="hljs-string">'keyAlias'</span></span>] keyPassword debugProps[<span class="hljs-string"><span class="hljs-string">'keyPassword'</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">release</span></span> { storeFile file(releasePropsFile.getParent() + "/" + releaseProps[<span class="hljs-string"><span class="hljs-string">'keystore'</span></span>]) storePassword releaseProps[<span class="hljs-string"><span class="hljs-string">'keystore.password'</span></span>] keyAlias releaseProps[<span class="hljs-string"><span class="hljs-string">'keyAlias'</span></span>] keyPassword releaseProps[<span class="hljs-string"><span class="hljs-string">'keyPassword'</span></span>] } } buildTypes { <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> { signingConfig signingConfigs.<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">release</span></span> { signingConfig signingConfigs.<span class="hljs-keyword"><span class="hljs-keyword">release</span></span> } } } } }</code> </pre> </div></div>  To run the tests, it is enough to specify the instrumentTest section in android.sourceSets, which will indicate the paths to the folders in the test project.  When I understood Gradle I saw more than one article in which it was written that to run unit tests you need to create a separate task, create a separate entry for it in the sourceSets and add junit dependencies.  In general, only wasted time on this, everything is much simpler. <br>  The part of the config responsible for signing the application will be described below.  After creating the config, let's start configuring Jenkins. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Jenkins setup </h4><br>  The first step is to specify the repository with the project.  Then you need to select the <b>Run an Android emulator during build</b> item in which you need to choose one of two options - either specify the name of an existing emulator, or specify the parameters for starting a new one.  In this case, leave a tick on the <b>Show emulator window</b> <br>  The next step is to add an <b>Invoke Gradle script</b> build step and specify the necessary commands for the Gradle.  To build and run tests, it is enough to specify build and connectedCheck <br><img src="https://habrastorage.org/getpro/habr/post_images/402/e3b/b6e/402e3bb6e4a48812cf65be9a7a328470.jpg" alt="image"><br><br>  The last thing you need to add actions performed after the assembly. <br>  <b>1. Publish JUnit test result report</b> (we publish reports on the execution of unit tests).  In the line for the xml file, with a report on the tests performed, you must write the following path: <br> <code>**/build/instrumentTest-results/*/*.xml</code> <br>  Gradle creates 2 report types - html and xml.  HTML reports can be found in the folder build / reports / instrumentTests / connected /, but for Jenkins you need to specify the xml report. <br>  <b>2. Archive artifacts</b> (give the opportunity to download the compiled signed application directly from the artifacts).  Path to archive file: <br> <code>**/build/apk/workspace-release.apk</code> <br>  Now back to signing the app <br><br><h4>  Signature of the application </h4><br>  To sign an application, you must have a key created using the keytool utility, which stores information about the application developer.  Standard command to create: <br> <code>keytool -genkey -v -alias appAlias -keyalg RSA -keysize 2048 -keystore release.keystore -validity 10000</code> <br>  The alias parameter must be used for each application, its own, then it will need to be specified when signing the application. <br><br>  For security reasons, the key should not be kept under a version control system, since  having this key, you can sign any other application, but the system will recognize it as one and the same.  Therefore, the file must be stored directly on the CI server. <br>  Based on these considerations, I added the file gradle.properties to the project root, in which I indicated only a couple of settings: <br><pre> <code class="hljs">releaseSigningPropertiesPath=.androidSigning/releaseProperties debugSigningPropertiesPath=.androidSigning/debugProperties</code> </pre>  The value of releaseSigningPropertiesPath indicates the path (relative to the home directory, ~ / .androidSigning /) where the file with the parameters for the keys (passwords and alias) is located.  For a project, 4 files should be stored in this folder: <br>  release.keystore is the key for the release build of the application <br>  releaseProperties - parameters for the release key <br>  debug.keystore is the key for building the application <br>  debugProperties - parameters for debug key <br><br>  Each of the * Properties files should have the following structure: <br><pre> <code class="hljs pgsql">keystore=- (   ) keystore.<span class="hljs-keyword"><span class="hljs-keyword">password</span></span>=    keyAlias=<span class="hljs-keyword"><span class="hljs-keyword">alias</span></span>     keyPassword=  </code> </pre> <br>  Example: <br><pre> <code class="hljs pgsql">keystore=<span class="hljs-keyword"><span class="hljs-keyword">release</span></span>.keystore keystore.<span class="hljs-keyword"><span class="hljs-keyword">password</span></span>=mypassword keyAlias=appAlias keyPassword=mypassword</code> </pre>  All these parameters are specified when creating the key. <br><br>  All other actions were specified in the build.gradle file.  What is convenient to Gradle, so that inside the config you can also execute regular java code, which made it possible to make a similar signature mechanism.  Everything, now you can safely run the assembly and get a signed and tested application. <br>  Now let's look at the second example of building an application that uses a library application. <br><br><h4>  Building an application using android-library </h4><br>  In my case, the project and the library project are in different repositories.  To be able to work with multiple repositories for Jenkins, you must install the Multiple SCMs Plugin plugin.  First of all, you need to create configs for gradle again.  The first file is in the library project. <br><div class="spoiler">  <b class="spoiler_title">library build.gradle</b> <div class="spoiler_text"><pre> <code class="hljs cs">buildscript { repositories { mavenCentral() } dependencies { classpath <span class="hljs-string"><span class="hljs-string">'com.android.tools.build:gradle:0.6.3'</span></span> } } apply plugin: <span class="hljs-string"><span class="hljs-string">'android-library'</span></span> android { compileSdkVersion <span class="hljs-number"><span class="hljs-number">18</span></span> buildToolsVersion <span class="hljs-string"><span class="hljs-string">"19.0.0"</span></span> defaultConfig { minSdkVersion <span class="hljs-number"><span class="hljs-number">8</span></span> targetSdkVersion <span class="hljs-number"><span class="hljs-number">18</span></span> testPackageName <span class="hljs-string"><span class="hljs-string">"com.project.tests"</span></span> testInstrumentationRunner <span class="hljs-string"><span class="hljs-string">"android.test.InstrumentationTestRunner"</span></span> } sourceSets { main { manifest.<span class="hljs-function"><span class="hljs-function">srcFile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">file</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'AndroidManifest.xml'</span></span></span></span></span><span class="hljs-function">) java.srcDirs</span></span> = [<span class="hljs-string"><span class="hljs-string">'src'</span></span>] resources.srcDirs = [<span class="hljs-string"><span class="hljs-string">'src'</span></span>] res.srcDirs = [<span class="hljs-string"><span class="hljs-string">'res'</span></span>] assets.srcDirs = [<span class="hljs-string"><span class="hljs-string">'assets'</span></span>] } instrumentTest { manifest.<span class="hljs-function"><span class="hljs-function">srcFile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">file</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'tests/AndroidManifest.xml'</span></span></span></span></span><span class="hljs-function">) java.srcDirs</span></span> = [<span class="hljs-string"><span class="hljs-string">'tests/src'</span></span>] resources.srcDirs = [<span class="hljs-string"><span class="hljs-string">'tests/src'</span></span>] res.srcDirs = [<span class="hljs-string"><span class="hljs-string">'tests/res'</span></span>] assets.srcDirs = [<span class="hljs-string"><span class="hljs-string">'tests/assets'</span></span>] } } dependencies { <span class="hljs-function"><span class="hljs-function">compile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fileTree</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dir: </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'libs'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, include: </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'*.jar'</span></span></span></span></span><span class="hljs-function">) } }</span></span></code> </pre> </div></div>  The main difference of the library project is the plugin used: apply plugin: 'android-library' <br><br>  The second config is already inside the project <br><div class="spoiler">  <b class="spoiler_title">project build.gradle</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">buildscript { repositories { mavenCentral() } dependencies { classpath <span class="hljs-string"><span class="hljs-string">'com.android.tools.build:gradle:0.6.3'</span></span> } } apply plugin: <span class="hljs-string"><span class="hljs-string">'android'</span></span> android { compileSdkVersion <span class="hljs-number"><span class="hljs-number">18</span></span> buildToolsVersion "19.0.0" defaultConfig { minSdkVersion <span class="hljs-number"><span class="hljs-number">8</span></span> targetSdkVersion <span class="hljs-number"><span class="hljs-number">18</span></span> } sourceSets { main { manifest.srcFile file(<span class="hljs-string"><span class="hljs-string">'AndroidManifest.xml'</span></span>) java.srcDirs = [<span class="hljs-string"><span class="hljs-string">'src'</span></span>] resources.srcDirs = [<span class="hljs-string"><span class="hljs-string">'src'</span></span>] res.srcDirs = [<span class="hljs-string"><span class="hljs-string">'res'</span></span>] assets.srcDirs = [<span class="hljs-string"><span class="hljs-string">'assets'</span></span>] } } dependencies { compile fileTree(dir: <span class="hljs-string"><span class="hljs-string">'libs'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>: <span class="hljs-string"><span class="hljs-string">'*.jar'</span></span>) compile project(<span class="hljs-string"><span class="hljs-string">':MyLibrary'</span></span>) } //     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(project.hasProperty("debugSigningPropertiesPath") &amp;&amp; project.hasProperty("releaseSigningPropertiesPath")) { //       File debugPropsFile = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> File(<span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.getenv(<span class="hljs-string"><span class="hljs-string">'HOME'</span></span>) + "/" + project.property("debugSigningPropertiesPath")) File releasePropsFile = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> File(<span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.getenv(<span class="hljs-string"><span class="hljs-string">'HOME'</span></span>) + "/" + project.property("releaseSigningPropertiesPath")) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(debugPropsFile.<span class="hljs-keyword"><span class="hljs-keyword">exists</span></span>() &amp;&amp; releasePropsFile.<span class="hljs-keyword"><span class="hljs-keyword">exists</span></span>()) { Properties debugProps = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Properties() debugProps.<span class="hljs-keyword"><span class="hljs-keyword">load</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> FileInputStream(debugPropsFile)) Properties releaseProps = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Properties() releaseProps.<span class="hljs-keyword"><span class="hljs-keyword">load</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> FileInputStream(releasePropsFile)) //     signingConfigs { <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> { storeFile file(debugPropsFile.getParent() + "/" + debugProps[<span class="hljs-string"><span class="hljs-string">'keystore'</span></span>]) storePassword debugProps[<span class="hljs-string"><span class="hljs-string">'keystore.password'</span></span>] keyAlias debugProps[<span class="hljs-string"><span class="hljs-string">'keyAlias'</span></span>] keyPassword debugProps[<span class="hljs-string"><span class="hljs-string">'keyPassword'</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">release</span></span> { storeFile file(releasePropsFile.getParent() + "/" + releaseProps[<span class="hljs-string"><span class="hljs-string">'keystore'</span></span>]) storePassword releaseProps[<span class="hljs-string"><span class="hljs-string">'keystore.password'</span></span>] keyAlias releaseProps[<span class="hljs-string"><span class="hljs-string">'keyAlias'</span></span>] keyPassword releaseProps[<span class="hljs-string"><span class="hljs-string">'keyPassword'</span></span>] } } buildTypes { <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> { signingConfig signingConfigs.<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">release</span></span> { signingConfig signingConfigs.<span class="hljs-keyword"><span class="hljs-keyword">release</span></span> } } } } }</code> </pre> </div></div><br>  Now you need to correctly specify the repositories in Jenkins. <br>  Unlike the previous example, in this case, in the ‚ÄúSource Code Management‚Äù section, it is necessary to choose not some specific version control system but ‚ÄúMultiple SCMs‚Äù.  After that there will be an opportunity to add your system and specify the path to the repository.  The first is to specify the repository with the project, the second - with the library, while for the repository with the library, specify the additional setting ‚ÄúCheck out to a sub-directory‚Äù, containing the name of the folder in which the code will be located.  The name of this folder must match the name of the project that we specified in the dependencies inside the build.gradle file (in the example, this is MyLibrary) <br> <code>compile project(':MyLibrary')</code> <br>  Thus, the working directory will look like a normal project, with only one additional folder MyLibrary, in which the library will be located. <br><br>  All other settings are exactly the same as for a regular project. <br><br><h4>  As a bonus </h4><br>  In my project I have to work with various environments.  For example, for a test version of an application, you need to send requests, in order to get any data, to a test server, during development, to a local server.  Thus, we can distinguish 3 typical dev, stage and prod environments.  I placed the settings depending on the environment in the application's resources, in the res / values ‚Äã‚Äã/ environment.xml file, which contains the URL where you need to access the data.  I made the configuration files for specific environments in a separate environment folder, in which there are 3 configuration files: dev.xml, stage.xml, and prod.xml.  In order for the application to work with the necessary environment, you just need to substitute one of these files instead of environment.xml. <br>  To do this, you need to add the start of the shell command to the Jenkins first step of the assembly and specify the following: <br> <code>cp $WORKSPACE/environment/prod.xml $WORKSPACE/res/values/environment.xml</code> <br> <br>  Useful links <br>  <a href="http://www.gradle.org/docs/current/javadoc/">www.gradle.org/docs/current/javadoc</a> - Gradle documentation <br>  <a href="http://tools.android.com/tech-docs/new-build-system/user-guide">tools.android.com/tech-docs/new-build-system/user-guide</a> technical documentation <br>  <a href="http://tools.android.com/recent/updatingsdkfromcommand-line">tools.android.com/recent/updatingsdkfromcommand-line</a> - update the Android SDK through the console (in case there are no X) <br>  <a href="http://vimeo.com/34436402">vimeo.com/34436402</a> - video explaining the work of gradle wrapper </div><p>Source: <a href="https://habr.com/ru/post/205308/">https://habr.com/ru/post/205308/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../205290/index.html">Fast, economical, steady ...</a></li>
<li><a href="../205294/index.html">Designer - project manager. Reality or Utopia?</a></li>
<li><a href="../205296/index.html">Today is a holiday for the guys</a></li>
<li><a href="../205298/index.html">Zoiper saves our passwords from SIP on their servers - and lost this base?</a></li>
<li><a href="../205300/index.html">The impact of the organization of the software development process on the quality of programs and on personal productivity in the Individual development process</a></li>
<li><a href="../205310/index.html">Three in color. Littlesnake Alternative</a></li>
<li><a href="../205312/index.html">How long can you make a browser game without having a huge budget in your pocket?</a></li>
<li><a href="../205314/index.html">How to make autoloading screenshots on FTP in OS X or history, about how we are not looking for easy ways</a></li>
<li><a href="../205316/index.html">Object pool and fast creation of heap objects</a></li>
<li><a href="../205318/index.html">Simplicity Algorithm for O (log N)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>