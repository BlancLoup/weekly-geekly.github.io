<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Monitoring of Cisco network equipment in the Observium system</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Observium is a system focused on the collection and analysis of information, allowing to identify the underlying problems in the network. If you are f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Monitoring of Cisco network equipment in the Observium system</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/230/704/a47/230704a474754b03a4555529b52377cb.jpg"><br><br>  Observium is a system focused on the collection and analysis of information, allowing to identify the underlying problems in the network.  If you are faced with the task of conducting an audit of network equipment, chart an IP plan of an unfamiliar network - Observium is one of the best free tools for this.  The article provides an overview of the main features of the system - primarily with respect to Cisco equipment, as well as several real-life examples of identifying problems with the customer‚Äôs network using Observium (many pictures). <br><a name="habracut"></a><br>  In this article I will try to describe the main features of the system, without affecting the installation and configuration process. <br><br>  Observium is available in two versions - the free Community and the moderately paid Professional (¬£ 150 for a one-year subscription).  Below will be considered only the Community version. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The device is polled via the SNMP protocol.  To add a Cisco router, just set the SNMP community: <br><pre><code class="bash hljs">snmp-server community public RO</code> </pre>  Adding devices to the Observium is done either through the menu of the web interface (Devices-&gt; Add device), or from the server command line: <br><pre> <code class="bash hljs">./add_device.php hostname</code> </pre>  On the Devices tab, a list of added devices is available, with the ability to filter by platform type and software version, which is convenient, for example, when preparing for an upgrade: <br><br><img src="https://habrastorage.org/files/fa8/44d/f37/fa844df374034c6e9be50ed18a69757d.jpg"><br><br>  The device information contains data on CPU usage, memory, and a graph of the total traffic from all ports: <br><br><img src="https://habrastorage.org/files/635/9b9/2c7/6359b92c758e4ac8a8ea8bde3da4098e.jpg"><br><br>  Of greatest interest is the Ports tab, which displays a list of available interfaces with IP and MAC addresses, the current download traffic Unicast Up / Down Link, Broadcast Up / Down Link and other useful information.  The last column indicates neighboring devices (provided that they are also added to the monitoring), which is very convenient when drawing up a network map. <br><br><img src="https://habrastorage.org/files/bdd/95b/21b/bdd95b21b596490393566e9809912b02.jpg"><br><br>  If CDP / LLDP is enabled on devices, you can see the neighbor map: <br><br><img src="https://habrastorage.org/files/c84/bac/958/c84bac9587b14908ad8fe75c43d00b5f.jpg"><br><br>  Information is also available on enabled routing protocols (OSPF example): <br><br><img src="https://habrastorage.org/files/fd9/d2c/5c4/fd9d2c5c4caa4d17abd8f7bf8b9b40a2.jpg"><br><br>  The Inventory tab contains a list of boards and serials, up to the SFP modules (here some of the information is displayed incorrectly, because the GNS3 emulator was used instead of the real router) <br><br><img src="https://habrastorage.org/files/d6b/642/a4c/d6b642a4cd924b5e97b5e2f4b740d5fe.jpg"><br><br>  Observium can be used to view Syslog messages (integration with RSyslog): <br><br><img src="https://habrastorage.org/files/769/506/8a1/7695068a1b1444ffb62d90175ae5a0b0.jpg"><br><br>  From third-party applications, the RANCID configs collector is also supported, which allows you to view the saved config: <br><br><img src="https://habrastorage.org/files/a7e/f82/690/a7ef8269057443b7b2c89469f9009544.jpg"><br><br>  In addition to the network hardware, Observium can monitor Windows servers and workstations.  You do not need to install the agent, just start and configure the SNMP service.  As for routers, information on network cards is available - IP, MAC, the port of connection of the neighboring device.  Here the disk space D ended: <br><br><img src="https://habrastorage.org/files/564/22b/2ec/56422b2ec8bf45b49a71978acb869dea.jpg"><br><br>  Opportunities for monitoring Linux servers more.  In the simplest case, snmpd installation is sufficient: <br><br><img src="https://habrastorage.org/files/be3/c0a/10f/be3c0a10f8b7411fa4cdb01f6b477c15.jpg"><br><br>  When installing additional Unix Agent scripts, you can monitor individual applications, such as Apache: <br><br><img src="https://habrastorage.org/files/c4b/992/dce/c4b992dcebb64f5d8a791b86197bacab.jpg"><br><br>  Actually, monitoring the Observium Community is suitable only for non-response time critical services, since  SNMP devices are polled once every 5 minutes.  In the paid version the module Alarms is provided. <br><br>  The disadvantages can still be attributed not very conveniently implemented map with devices - it is tied to google maps, which requires an internet connection.  Custom maps, as in the same zabbix, are not provided.  An example of a home page with a disabled map: <br><br><img src="https://habrastorage.org/files/49e/c40/7c0/49ec407c0c5b48bd8d8c4aed38f0c3d5.jpg"><br><br>  At the bottom of the Syslog main page: <br><br><img src="https://habrastorage.org/files/e77/8ef/ce3/e778efce3aec4e30833ecf17932bb400.jpg"><br><br>  And finally, 2 examples of problems solved with the help of Observium. <br><br>  1. The customer complains about the loss of packets in the channel between the central hub and the branch. <br>  Interface loading graph on the central node (purple color - outgoing traffic): <br><br><img src="https://habrastorage.org/files/1f3/15b/040/1f315b04077d4f60b4090e3959e27fc6.jpg"><br><br>  Interface loading schedule in the branch (green color - incoming traffic): <br><br><img src="https://habrastorage.org/files/5fc/153/e85/5fc153e856f74702a0f76b5ba447d996.jpg"><br><br>  As it turned out, the provider instead of the stated 10Mbit / s provided the service in the branch at a speed of 2Mbit / s.  Also, the download schedules made it possible to properly configure QoS policies - it was necessary to shape outgoing traffic at the central site up to the branch rate of 10Mbit / s <br><br>  2. The customer complains about the delay in obtaining an IP address via DHCP. <br>  An abnormal CPU usage on the switch has been detected: <br><br><img src="https://habrastorage.org/files/743/55b/60c/74355b60c54f4dd5b1a3c095b22ff16b.jpg"><br><br>  Which immediately suggests thoughts of a Broadcast storm.  The Broadcast traffic graph confirms the guess - the time activity coincides with the CPU load: <br><br><img src="https://habrastorage.org/files/70c/8a8/56c/70c8a856cc7e42d6a8f0aa7601ff1446.jpg"><br><br>  Charts for all ports allow you to identify the source (purple): <br><br><img src="https://habrastorage.org/files/92c/8eb/c76/92c8ebc766114133a434ca5281038e38.jpg"><br><br>  That's all, there will be time, I will try to write an article on configuring Observium. </div><p>Source: <a href="https://habr.com/ru/post/249549/">https://habr.com/ru/post/249549/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249537/index.html">Heartbleed on Rust</a></li>
<li><a href="../249541/index.html">Running OpenWRT 14.07 on Mikrotik and an Askerk Build Example with an Additional Module</a></li>
<li><a href="../249543/index.html">‚ÄúDifficulties‚Äù of translating applications for Windows Store</a></li>
<li><a href="../249545/index.html">Everything you wanted to know about GOPATH and GOROOT</a></li>
<li><a href="../249547/index.html">Two-factor authentication, which is convenient to use</a></li>
<li><a href="../249553/index.html">How to create a website using YouTube videos as a background?</a></li>
<li><a href="../249555/index.html">What's new in C # 6.0?</a></li>
<li><a href="../249559/index.html">The concept of "fold" is still relevant</a></li>
<li><a href="../249563/index.html">Scapy Might</a></li>
<li><a href="../249565/index.html">IBM Research announced the launch of an innovative cloud technology to protect personal data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>