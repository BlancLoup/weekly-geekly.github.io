<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>rholang - programming language for distributed systems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RChain is a distributed computing blockchain platform. As ethereum, only much faster. In theory, it can be scaled to infinity, the first implementatio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>rholang - programming language for distributed systems</h1><div class="post__text post__text-html js-mediator-article"><p>  <a href="https://developer.rchain.coop/">RChain</a> is a distributed computing blockchain platform.  As ethereum, only much faster.  In theory, it can be scaled to infinity, the first implementation in practice can handle up to 40 thousand transactions per second.  Technical details - in the document about the <a href="http://rchain-architecture.readthedocs.io/en/latest/">architecture</a> . </p><br><p><img src="https://habrastorage.org/webt/ob/6d/cv/ob6dcv_vhdgltsbrifrdruwi-je.png"></p><br><p>  Contracts on the RChain platform are written in the <a href="https://github.com/rchain/rchain/tree/master/rholang">rholang</a> language, with which I would like to introduce the habr audience.  You can try to write and execute programs in this language either by downloading and running the <a href="https://hub.docker.com/r/rchain/rnode/">Rchain node</a> through the docker, or by using the <a href="http://rchain.cloud/">interpreter on the site</a> . </p><a name="habracut"></a><br><h1 id="polnyy-tutorialhttpsgithubcomrchainrchainblobmasterrholangdocrholangtut-02md">  Full <a href="">tutorial</a> </h1><br><p>  Rolang (or simply <em><em>po</em></em> ) is a process-oriented language.  All calculations on it are performed using the transfer of messages between the " <em>channels</em> ".  <em>Channels</em> stored many messages.  Ro is a completely asynchronous language, so the order in which messages are sent to <em>channels</em> does not play any role.  For example, you can read a message from a <em>channel</em> and then perform some operation on this message.  However, you can not send a message and then do something after the message is received.  At the very least, without registering in a separate way the expectation of a delivery confirmation message.  It should be noted that in this tutorial we will use the terms <em>name</em> and <em>channel</em> as synonyms.  AT <math> <a href="http://www.sciencedirect.com/science/article/pii/S1571066105051893"></a></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mi>h</mi><mi>o</mi><mo>&amp;#x2212;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.323ex" height="2.178ex" viewBox="0 -780.1 2292 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/354398/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjnP6J83oqTaxHo4exehwhbtSBIOA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/354398/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjnP6J83oqTaxHo4exehwhbtSBIOA#MJMATHI-68" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/354398/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjnP6J83oqTaxHo4exehwhbtSBIOA#MJMATHI-6F" x="1028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/354398/&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhjnP6J83oqTaxHo4exehwhbtSBIOA#MJMAIN-2212" x="1513" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mi>h</mi><mi>o</mi><mo>‚àí</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> rho- </script>   <a href="http://www.sciencedirect.com/science/article/pii/S1571066105051893">the algebra</a> on which rholang is based uses the term <em>name</em> , but since we can send and receive data with their help, they are semantically similar to <em>channels</em> . </p><br><h2 id="kontrakty-i-otpravka-dannyh">  Contracts and data submission </h2><br><pre><code class="hljs kotlin"><span class="hljs-number"><span class="hljs-number">1</span></span> contract @<span class="hljs-string"><span class="hljs-string">"HelloWorld"</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">return</span></span>) = { <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>!(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) <span class="hljs-number"><span class="hljs-number">3</span></span> } | <span class="hljs-number"><span class="hljs-number">4</span></span> new myChannel <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> { <span class="hljs-number"><span class="hljs-number">5</span></span> @<span class="hljs-string"><span class="hljs-string">"HelloWorld"</span></span>!(*myChannel) <span class="hljs-number"><span class="hljs-number">6</span></span> }</code> </pre> <br><ul><li>  A ro program is a single process consisting of several parts that are executed synchronously.  This process is started by creating a contract with the name @ "HelloWorld".  Creating a contract starts a process that causes a copy of its ‚Äúbody‚Äù every time it receives a message.  It is worth noting that in the rolang all processes can be "quoted" using the @ operator and turn into a <em>channel</em> .  Strings are just special processes, and we can cite any process and create a <em>channel</em> in this way.  For storage of data on the RChain platform, the rspace library written in Scala is responsible. </li><li>  On the <code>return</code> channel, we send the string "Hello, World!" </li><li>  The <code>new ... in</code> construction allows you to create a new private channel.  No other process can send or receive messages from this channel.  Each exception must be specified separately, sending the <em>channel_name to</em> another process. </li><li>  We send <em>the</em> myChannel <em>channel</em> to the contract at @ "HelloWorld".  The <code>*</code> operator means "reverse quoting" ("unquoting") the <em>channel</em> and returns the original process.  You can only send processes through channels to po, you cannot directly send <em>channels</em> to <em>channels</em> .  In this way, we turn a private channel into a process before sending it. </li></ul><br><h2 id="poluchenie-dannyh">  Data acquisition </h2><br><pre> <code class="hljs go"><span class="hljs-number"><span class="hljs-number">1</span></span> contract @<span class="hljs-string"><span class="hljs-string">"HelloAgain"</span></span>(_) = { <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> in { <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">chan</span></span>!(<span class="hljs-string"><span class="hljs-string">"Hello again, world!"</span></span>) | <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (@text &lt;- <span class="hljs-keyword"><span class="hljs-keyword">chan</span></span>) { Nil } <span class="hljs-number"><span class="hljs-number">5</span></span> } <span class="hljs-number"><span class="hljs-number">6</span></span> } | @<span class="hljs-string"><span class="hljs-string">"HelloAgain"</span></span>!(Nil)</code> </pre> <br><ul><li>  Contracts have at least one parameter, but we can bypass it by specifying the wildcard symbol <code>_</code> . </li><li>  We are creating a new <code>chan</code> channel. </li><li>  We send the string process "Hello again, world!"  on the new <em>channel</em> . </li><li>  We are listening to a new channel and are waiting for a single message.  The <code>for</code> operation remains blocked until there is a message on the <code>chan</code> channel.  You can receive only <em>names</em> in the po through <em>channels</em> , but you can also send the cited processes.  The assignment to the left of the expression <code>&lt;-</code> is a pattern of names. In this example, it is <code>@text</code> , which means that the resulting name is a quoted process and we want to link this process to a free text variable.  The <code>for</code> operation behaves in a similar way: it can read only one message and then becomes a body, and does not invoke a copy of itself in each message.  In this case, we do nothing in <code>for</code> and turn it into a stopped <code>Nil</code> process, in principle, we can perform with the text on the <code>chan</code> channel and other operations. </li></ul><br><h2 id="izmenenie-sostoyaniy">  State change </h2><br><pre> <code class="hljs coffeescript"> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MakeCell <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> { <span class="hljs-number"><span class="hljs-number">2</span></span> // Makes a single cell <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> which you can store values <span class="hljs-number"><span class="hljs-number">3</span></span> contract MakeCell(@init, get, set) = { <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> valueStore <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> { <span class="hljs-number"><span class="hljs-number">5</span></span> valueStore!(init) | <span class="hljs-number"><span class="hljs-number">6</span></span> contract get(ack) = { <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(@value &lt;- valueStore) { <span class="hljs-number"><span class="hljs-number">8</span></span> valueStore!(value) | ack!(value) <span class="hljs-number"><span class="hljs-number">9</span></span> } <span class="hljs-number"><span class="hljs-number">10</span></span> } | <span class="hljs-number"><span class="hljs-number">11</span></span> contract set(@newValue, ack) = { <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(_ &lt;- valueStore) { <span class="hljs-number"><span class="hljs-number">13</span></span> valueStore!(newValue) | ack!(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-number"><span class="hljs-number">14</span></span> } <span class="hljs-number"><span class="hljs-number">15</span></span> } <span class="hljs-number"><span class="hljs-number">16</span></span> } <span class="hljs-number"><span class="hljs-number">17</span></span> } | <span class="hljs-number"><span class="hljs-number">18</span></span> // Cell usage. <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> myGet, mySet <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> { <span class="hljs-number"><span class="hljs-number">20</span></span> MakeCell!(<span class="hljs-number"><span class="hljs-number">123</span></span>, *myGet, *mySet) | <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ack <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> { <span class="hljs-number"><span class="hljs-number">22</span></span> myGet!(*ack) | <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (@result &lt;- ack) { <span class="hljs-number"><span class="hljs-number">24</span></span> /<span class="hljs-regexp"><span class="hljs-regexp">/result now contains the value 123 25 mySet!(456, *ack) | 26 for (_ &lt;- ack) { 27 myGet!(*ack) | 28 for (@result &lt;- ack) { 29 /</span></span>/result now contains the value <span class="hljs-number"><span class="hljs-number">456</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> Nil <span class="hljs-number"><span class="hljs-number">31</span></span> } <span class="hljs-number"><span class="hljs-number">32</span></span> } <span class="hljs-number"><span class="hljs-number">33</span></span> } <span class="hljs-number"><span class="hljs-number">34</span></span> } <span class="hljs-number"><span class="hljs-number">35</span></span> } <span class="hljs-number"><span class="hljs-number">36</span></span> }</code> </pre> <br><ol><li>  We create a new <code>MakeCell</code> channel and then use it on line 3 as the name of the internal contract.  No other process besides code in this lexical environment can invoke it. </li><li>  The <code>MakeCell</code> contract needs three arguments.  The first argument is the value that this cell will contain.  The second and third are the channels through which the cell will receive read and write requests.  Note that the first argument should be a process, and the second and third should be names.  Since the names are always sent through the channels, the first argument will be a pattern starting with <code>@</code> , which indicates that the resulting name is a quoted process and we want to associate this process with a variable. </li><li>  To save the value, we create a new channel.  This channel will contain at most one value, the current value of the cell. </li><li>  There are no messages on this <code>valueStore</code> channel before this line.  After we set the initial value, this value will be the only one on this channel. </li><li>  We run a contract that listens on the reading channel.  Every time a message is received, the body of the contract is executed. </li><li>  We are blocking a contract until you receive a message on the <code>valueStore</code> channel.  Since the channel <code>valueStore</code> can expect no more than one message, reading the message is a kind of lock. </li><li>  We again transmit the current <code>valueStore</code> value channel, opening the processing of other messages and removing the block.  Now we pass the current value back to the client on the <code>ack</code> channel. </li><li>  In sync with the get contract, we run a contract that listens to set. </li><li>  We block it until a message appears on the <code>valueStore</code> , and then we read it.  We discard the message we read. </li><li>  We send a new value to the repository on the <code>valueStore</code> channel and give a signal that the operation has completed. </li></ol><br><ul><li>  18-36) The code that shows the creation of a cell, the setting of the initial value <code>123</code> , the reading of this value, the setting of the value <code>456</code> , the retrieval of this value. </li></ul><br><p>  Note the depth of the layers to which the call applies.  Ro is designed specifically to describe synchronous computations and therefore it is necessary to explicitly indicate the order of actions where in other languages ‚Äã‚Äãthis goes without saying. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Ro is a language that is designed to be used on blockchains, but we have not yet reached the device of nodes, namespaces, wallets, Rev and phlogiston, network structure, or the Casper consensus algorithm. </p><br><p>  Full <a href="">tutorial</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/354398/">https://habr.com/ru/post/354398/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354388/index.html">Backend optimization when switching to api-based architecture</a></li>
<li><a href="../354390/index.html">Ubuntu 18.04 LTS: what's new?</a></li>
<li><a href="../354392/index.html">Solar JSOC Forensics: mining case on 32 non-existent hypervisors</a></li>
<li><a href="../354394/index.html">How to improve performance using serverless architecture</a></li>
<li><a href="../354396/index.html">Open source and mentoring: writing code that saves lives</a></li>
<li><a href="../354400/index.html">Epic Growth Story with Denis Pushkin: how does Growth Hacking work in Skyeng?</a></li>
<li><a href="../354406/index.html">You can not leave: about the difficult and often false choice</a></li>
<li><a href="../354408/index.html">Communication channels L2 and L3 VPN - Differences between physical and virtual channels of different levels</a></li>
<li><a href="../354410/index.html">The last step to the "Spring"</a></li>
<li><a href="../354412/index.html">7 best reports Mobius: version of EastBanc Technologies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>