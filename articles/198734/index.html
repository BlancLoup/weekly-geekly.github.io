<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Concrete5 Development: The Simplest Module</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this lesson, I propose to consider how the minimum module for Concrete5 CMS is made (in the terminology of the system, modules are called blocks) u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Concrete5 Development: The Simplest Module</h1><div class="post__text post__text-html js-mediator-article">  In this lesson, I propose to consider how the minimum module for Concrete5 CMS is made (in the terminology of the system, modules are called blocks) using the example of the ‚ÄúSeparator‚Äù module. <br><br>  I‚Äôll allow myself a small digression and mention that when developing extensions for Concrete5, the <a href="http://ru.wikipedia.org/wiki/Model-View-Controller">MVC</a> scheme is widely used, for this reason I would recommend to those unfamiliar with it, first decide what it is and only then continue reading. <br><a name="habracut"></a><br>  In the simplest module, we need only 3 files in the blocks / horizintal_line directory: <br><ul><li>  controller.php </li><li>  view.php </li><li>  icon.png </li></ul><br><h5>  controller.php </h5><br>  By the name it is already clear that this is a controller file.  Everyone who is familiar with MVC, I think, understand that without him we can not do.  The controller contains the control code of the module, which is responsible for processing all actions performed by the module.  Specifically, this controller contains the HorizintalLineBlockController class inherited from the BlockController base class, which performs all the actions we need in this case (installation, output, etc.).  Our class contains definitions for the required class fields, such as the module name, description, and caching settings. <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> defined(<span class="hljs-string"><span class="hljs-string">'C5_EXECUTE'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">"Access Denied."</span></span>); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HorizintalLineBlockController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlockController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      protected $btName = ''; //    protected $btDescription = '   HR       '; //       protected $btCacheBlockOutput = true; //       protected $btCacheBlockOutputForRegisteredUsers = true; //    protected $btCacheBlockOutputLifetime = CACHE_LIFETIME; }</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Please note that the name of the directory with the module and the name of the controller must match each other because these are the naming conventions.  Compliance is determined by: <br><ol><li>  take the directory name </li><li>  capitalize the first letter and all the first letters after the underscore character, if there is one, like this Horizintal_Line </li><li>  remove underscores, we get a HorizintalLine </li><li>  at the end, add the class name of the BlockController parent controller and get the HorizintalLineBlockController </li></ol><br>  If you do not comply with the agreement, the system simply will not find our module and will not be able to install it. <br><br><h5>  view.php </h5><br>  This file contains PHP and HTML, which are responsible for building the output of the module content on the default page.  In our example, the file is extremely simple and contains only two lines. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> defined(<span class="hljs-string"><span class="hljs-string">'C5_EXECUTE'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">"Access Denied."</span></span>);<span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;hr /&gt;</code> </pre><br><br>  For any module, you can make an unlimited number of analogues view.php in the templates subdirectory of our module, to change its appearance.  These "mappings" can be connected to the module directly through the CMS interface without having to get into the code. <br><br><h5>  icon.png </h5><br>  The icon of the module, which is entered in the list of modules when it is added to the page. <br><br>  Note: in all PHP files that are made to work under the control of this CMS, it is necessary to include the following code in the first line: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> defined(<span class="hljs-string"><span class="hljs-string">'C5_EXECUTE'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">"Access Denied."</span></span>);<span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><br>  This concludes the first lesson, if the community has an interest, I will continue. <br><br><h5>  Links for interested </h5><br>  CMS website: <a href="http://www.concrete5.org/">concrete5.org</a> <br>  Russian community: <a href="http://forum.concrete5russia.ru/">forum.concrete5russia.ru</a> <br>  Russian assembly: the <a href="http://www.concrete5russia.ru/%25D1%2581%25D0%25BA%25D0%25B0%25D1%2587%25D0%25B0%25D1%2582%25D1%258C/concrete5-%25D1%2580%25D1%2583%25D1%2581%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F-%25D0%25B2%25D0%25B5%25D1%2580%25D1%2581%25D0%25B8%25D1%258F/">first</a> and <a href="http://peredelka-saitov.ru/peredelka-sayta/concrete5-russian-edition/">second</a> <br>  This module on GitHub: <a href="https://github.com/ktarasov/horizintal_line">horizintal_line</a> </div><p>Source: <a href="https://habr.com/ru/post/198734/">https://habr.com/ru/post/198734/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198722/index.html">Who lives in social networks?</a></li>
<li><a href="../198726/index.html">How to choose features for your application: use the Kano model</a></li>
<li><a href="../198728/index.html">DevExtreme: Quickly create a cross-platform HTML5 business application in Visual Studio</a></li>
<li><a href="../198730/index.html">The most useful Google Analytics updates in 2013</a></li>
<li><a href="../198732/index.html">Add QI Wireless Charging to Your Smartphone</a></li>
<li><a href="../198738/index.html">Outdoor facilities for MySQL drivers in Node.js</a></li>
<li><a href="../198740/index.html">Restoring PlexConnect for Apple TV</a></li>
<li><a href="../198750/index.html">Why do startups need a good "felling"?</a></li>
<li><a href="../198762/index.html">Chicken or egg: what before, prototypes or TK?</a></li>
<li><a href="../198764/index.html">A record for the speed of data transmission through lasers to the moon and back</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>