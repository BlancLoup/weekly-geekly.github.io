<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to Ruby / Tk. Part one</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 Introduction 
 Looking into my ToDo list today, I realized that I have no work for today. Sitting on the Internet and reading the news al...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to Ruby / Tk. Part one</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br><br><h4>  Introduction </h4><br>  Looking into my ToDo list today, I realized that I have no work for today.  Sitting on the Internet and reading the news all day, too, you know, even the pleasure.  We had to do something, namely, to write an application.  Next weekend I wanted to introduce you to a bunch of Ruby + Qt, but since I did not install Qt binding yet, I had to look for a replacement.  And I found it.  Because  together with Ruby supplied by Tk, it was my choice that fell on him. <br><br><h4>  We get acquainted with the patient </h4><br>  <s>Full name: Davydenko, Mikhail Yuryevich</s> <s><br></s>  <s>Place of Birth:</s> <br>  In fact, it will not be about me, but about <b>Tk</b> . <br>  <b>Tk</b> (from the English. <i>Toolkit</i> - ‚Äútoolkit‚Äù, ‚Äútoolkit‚Äù) is a cross-platform library of basic GUI elements that is distributed with open source. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  The doctor is already here </h4><br>  <b>Ruby</b> (from the English. <i>Ruby</i> - "Ruby") is a dynamic, reflective, interpreted high-level programming language for fast and convenient object-oriented programming.  The language has a multithreading implementation independent of the operating system, strict dynamic typing, garbage collector and many other features.  In general, what we need now. <br><a name="habracut"></a><br><h4>  Spread the fingers </h4><br>  Namely, write Hello World.  Where are we without him? <br>  Its code will look something like this: <br><pre><code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'tk'</span></span> app = TkRoot.new { title <span class="hljs-string"><span class="hljs-string">"Hello Tk!"</span></span>; padx <span class="hljs-number"><span class="hljs-number">50</span></span>; pady <span class="hljs-number"><span class="hljs-number">15</span></span> } TkLabel.new(app) { text <span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span> pack { padx <span class="hljs-number"><span class="hljs-number">100</span></span>; pady <span class="hljs-number"><span class="hljs-number">100</span></span>; side <span class="hljs-string"><span class="hljs-string">"left"</span></span> } } Tk.mainloop</code> </pre> <br><br><h4>  Debriefing </h4><br>  Now let's look at what is what. <br><br>  First, we imported a library to work with it: <br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'tk'</span></span></code> </pre><br>  Next, we created a new window titled <i>Hello Tk!</i>  , 50 pixels high and 15 pixels wide: <br><pre> <code class="ruby hljs">app = TkRoot.new { title <span class="hljs-string"><span class="hljs-string">"Hello Tk!"</span></span>; padx <span class="hljs-number"><span class="hljs-number">50</span></span>; pady <span class="hljs-number"><span class="hljs-number">15</span></span> }</code> </pre><br>  Then create an inscription with the text <i>Hello World!</i>  with coordinates 100x100: <br><pre> <code class="ruby hljs">TkLabel.new(app) { text <span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span> pack { padx <span class="hljs-number"><span class="hljs-number">100</span></span>; pady <span class="hljs-number"><span class="hljs-number">100</span></span>; side <span class="hljs-string"><span class="hljs-string">"left"</span></span> } }</code> </pre><br>  Here we met a <b>pack</b> unfamiliar to us.  What is it? <br>  <b>A pack</b> is a packer that arranges elements (in this case, a <b>Label</b> widget) in the parent window.  There are also two more packers: <br><ul><li>  <b>grid</b> , which places widgets in a grid.  This packer will be useful, for example, to create a table or buttons for a calculator, which we will write with you, but a little later; </li><li>  <b>place</b> , which allows you to place widgets in the specified coordinates, with the dimensions specified by us. </li></ul><br>  And, I completely forgot, that's what we did.  It turned out the same? <br><br><img src="https://habrastorage.org/storage1/fe604e04/02af5966/f443d8e6/f8df6484.png"><br><br><h4>  Developments </h4><br>  Now I would like to touch on the topic of trapping events.  Whether it is pressing a button or aiming the cursor on any of the widgets.  There are several typical types of events in Tk, namely eight!  Here they are: <br><ul><li>  " <b>1</b> " or " <b>ButtonPress-1</b> ", indicating that the widget was clicked with the left mouse button; </li><li>  " <b>Enter</b> " when the cursor hovers over our widget; </li><li>  " <b>Leave</b> " - the cursor was removed from our widget (works only after " <b>Enter</b> "; </li><li>  " <b>Double-1</b> " - double click was made; </li><li>  " <b>B3-Motion</b> " - moved the cursor by pressing the right mouse button, from one position to another; </li><li>  " <b>Control-ButtonPress-3</b> " - the right mouse button was pressed together with <i>Ctrl</i> ; </li><li>  " <b>Alt-ButtonPress-1</b> " - the left mouse button was pressed together with <i>Alt</i> . </li></ul><br>  I translated the types of events, not the events themselves.  By saying this, I mean that we can use both the <b>ButtonPress-1</b> event (clicking the left mouse button) and <b>ButtonRelease-1</b> (release the left mouse button).  It is also worth noting that we can use two mouse buttons (left and right).  For example: " <b>ButtonPress-1</b> " (left) and " <b>ButtonPress-2</b> " (right). <br><br>  Here, in fact, all available to us to intercept events. <br><br>  You can catch an event like this: <br><pre> <code class="ruby hljs">wdgt.bind(<span class="hljs-string"><span class="hljs-string">'ButtonPress-1'</span></span>) { puts <span class="hljs-string"><span class="hljs-string">"LBM: I was pressed..."</span></span> }</code> </pre><br><br>  Or so: <br><pre> <code class="ruby hljs">wdgt.bind(<span class="hljs-string"><span class="hljs-string">'Control-ButtonPress-3'</span></span>, proc { puts <span class="hljs-string"><span class="hljs-string">"RBM + Ctrl: We was clicked..."</span></span> })</code> </pre><br><br>  And also inside the ad itself widget.  Like this: <br><pre> <code class="ruby hljs">wdgt = TkButton.new(app) { text <span class="hljs-string"><span class="hljs-string">"Click me!"</span></span> command proc { puts <span class="hljs-string"><span class="hljs-string">"Button of nowhere: I was clicked..."</span></span> } }</code> </pre><br><br>  Let's consolidate our knowledge in practice and write just such a program: <br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'tk'</span></span> app = TkRoot.new { title <span class="hljs-string"><span class="hljs-string">"Hello Tk!"</span></span>; padx <span class="hljs-number"><span class="hljs-number">50</span></span>; pady <span class="hljs-number"><span class="hljs-number">15</span></span> } but = TkButton.new(app) { text <span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span> pack { padx <span class="hljs-number"><span class="hljs-number">100</span></span>; pady <span class="hljs-number"><span class="hljs-number">100</span></span>; side <span class="hljs-string"><span class="hljs-string">"left"</span></span> } } but.bind(<span class="hljs-string"><span class="hljs-string">"Enter"</span></span>, proc { but.text <span class="hljs-string"><span class="hljs-string">"Welcome!"</span></span> }) but.bind(<span class="hljs-string"><span class="hljs-string">"Leave"</span></span>, proc { but.text <span class="hljs-string"><span class="hljs-string">"Bye!"</span></span> }) Tk.mainloop</code> </pre><br><br>  When you start anything new for yourself, we will not find. <br><img src="https://habrastorage.org/storage1/fe604e04/02af5966/f443d8e6/f8df6484.png"><br><br>  Until we move the cursor to our button.  This is what we should get: <br><img src="https://habrastorage.org/storage1/692ff623/b694ea51/1a875149/4ecef2d6.png"><br><br>  Now let's move the cursor and see that the button has said goodbye to us: <br><img src="https://habrastorage.org/storage1/962ace8b/9779e52a/ea34d679/5ab42624.png"><br><br><h4>  Menu, please </h4><br>  Now I propose to consolidate our knowledge of catching events and to get acquainted with the <b>Menu</b> widget that is new for us.  The purpose of this application will be that we have to choose our favorite programming language in the menu.  Further I will provide the code with nested comments.  I think understanding the code will not cause you any difficulties.  So, here it is: <br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'tk'</span></span> <span class="hljs-comment"><span class="hljs-comment">#   app = TkRoot.new { #   title "Hello Tk!"; padx 50; pady 15 #     } lbl = TkLabel.new(app) { #   text "Something wasn't clicked yet..." #     pack { padx 100; pady 100; side "left" } #    } java_clicked = Proc.new { #   "Java"   lbl.text "Java was liked..." } cs_clicked = Proc.new { #   "C#"   lbl.text "C# was liked..." } cpp_clicked = Proc.new { #   "C++"   lbl.text "C++ was liked..." } py_clicked = Proc.new { #   "Python"   lbl.text "Python was liked..." } rb_clicked = Proc.new { #   "Ruby"   lbl.text "Ruby was liked..." } menu = TkMenu.new(app) #   menu.add('command', 'label' =&gt; "Java", 'command' =&gt; java_clicked) #   "Java" menu.add('command', 'label' =&gt; "C#", 'command' =&gt; cs_clicked) #   "C#" menu.add('separator') #   menu.add('command', 'label' =&gt; "C++", 'command' =&gt; cpp_clicked) #   "C++" menu.add('separator') #   menu.add('command', 'label' =&gt; "Python", 'command' =&gt; py_clicked) #   "Python" menu.add('command', 'label' =&gt; "Ruby", 'command' =&gt; rb_clicked) #   "Ruby" bar = TkMenu.new #      bar.add('cascade', 'menu' =&gt; menu, 'label' =&gt; "Click me, I want you!") #     app.menu(bar) #       Tk.mainloop #   ,     ?</span></span></code> </pre><br>  Indeed, it is time to launch our program.  Actually, here: <br><img src="https://habrastorage.org/storage1/c02ba779/d6eb2d01/888eb479/e1251c5f.png"><br><br>  Now open our menu and click on ‚ÄúJava‚Äù.  Here is what we will see: <br><img src="https://habrastorage.org/storage1/135fc2fd/cc93c5d0/811ec545/69033991.png"><br><br><h4>  Conclusion </h4><br>  That's all for today.  The goal of this topic was to introduce you to the Tk graphic library, which, in my opinion, was successful, at least a little and superficially. <br><br>  <b>PS</b> Next weekend we will delve into studying the typical and specific properties of widgets in Tk, find out what widgets are in Tk and consolidate our knowledge by writing a Jabber client that I wrote in 30 minutes. <br><br>  See you soon! <br><br>  Materials used: <br>  <a href="http://ru.wikipedia.org/wiki/Ruby">Ruby - Wikipedia</a> <br>  <a href="http://ru.wikipedia.org/wiki/Tk">Tk - Wikipedia</a> <br>  <a href="http://www.tutorialspoint.com/ruby/ruby_tk_guide.htm">Ruby / TK Guide</a> <br><br>  Also, I would like to express my deep gratitude to my t3ns0r <a href="http://habrahabr.ru/users/t3ns0r/" class="user_link">haberer</a> for his <a href="http://habrahabr.ru/blogs/python/133337/">introduction to Tkinter</a> . </div><p>Source: <a href="https://habr.com/ru/post/133931/">https://habr.com/ru/post/133931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133924/index.html">SSD reliability statistics</a></li>
<li><a href="../133925/index.html">The best things 2.0</a></li>
<li><a href="../133926/index.html">Correct badge for IT conference</a></li>
<li><a href="../133927/index.html">Apotheosis of copywriting or the beginning of the end of YouTube</a></li>
<li><a href="../133930/index.html">Operation Robin Hood: the redistribution of global finance in favor of 99%</a></li>
<li><a href="../133933/index.html">About mass addition of monitoring objects in Zabbix</a></li>
<li><a href="../133934/index.html">Experience creating a distributed office</a></li>
<li><a href="../133935/index.html">ExtJS / Rails CRUD application in 7 minutes</a></li>
<li><a href="../133936/index.html">Solving the problem of installing Openfire on CentOS 64-bit</a></li>
<li><a href="../133938/index.html">Windows 8: New Sidebar and App Store Interface</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>