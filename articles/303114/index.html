<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a blog on symfony 2.8 lts [Part 5]</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Navigation in parts of the manual  Part 1 - Configuring Symfony2 and Templates 
 Part 2 - Contact page: validators, forms, and email 
 Part 3 - Doctri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a blog on symfony 2.8 lts [Part 5]</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/post/303114/"><img src="https://habrastorage.org/files/641/e2f/00c/641e2f00c3f347999dfe9779cedd63d7.jpg"></a> <br><a name="habracut"></a><br><br><div class="spoiler">  <b class="spoiler_title">Navigation in parts of the manual</b> <div class="spoiler_text"><blockquote>  <a href="https://habrahabr.ru/post/301760/">Part 1 - Configuring Symfony2 and Templates</a> <br>  <a href="https://habrahabr.ru/post/302032/">Part 2 - Contact page: validators, forms, and email</a> <br>  <a href="https://habrahabr.ru/post/302438/">Part 3 - Doctrine 2 and Data Fixtures</a> <br>  <a href="https://habrahabr.ru/post/302602/">Part 4 - Comment Model, Repository and Migrations of Doctrine 2</a> <br>  <a href="https://habrahabr.ru/post/303578/">Part 6 - Modular and Functional Testing</a> <br></blockquote><br></div></div><br><br>  Project on <a href="">Github</a> <br><blockquote>  You can find out how to install the part of the manual you need in the description of the repository by the <a href="https://github.com/AntoscencoVladimir/symfony-blog">link</a> .  (For example, if you want to start with this lesson without going through the previous one) <br></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Homepage.  Records and comments. </h4><br><br>  Now the main page displays a list of recent posts, but there is no information regarding the comments on these posts.  We have a Comment Entity due to which we can return to the main page to provide this information.  Since we established a connection between Blog and Comment entities, we know that Doctrine 2 will be able to receive comments on the post (remember, we added the <b>$ comments</b> object to the Blog entity).  Let's update the main page template <br><div class="spoiler">  <b class="spoiler_title">src / Blogger / BlogBundle / Resources / views / Page / index.html.twig</b> <div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/Page/index.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
&lt;footer <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">meta</span></span></span><span class="hljs-class">"&gt;
    &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comments</span></span></span><span class="hljs-class">: </span></span>{{ blog.comments|length }}&lt;/p&gt;
    &lt;p&gt;Posted by &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">highlight</span></span></span><span class="hljs-class">"&gt;</span></span>{{ blog.author }}&lt;/span&gt; at {{ blog.created|date(<span class="hljs-string"><span class="hljs-string">'h:iA'</span></span>) }}&lt;/p&gt;
    &lt;p&gt;Tags: &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">highlight</span></span></span><span class="hljs-class">"&gt;</span></span>{{ blog.tags }}&lt;/span&gt;&lt;/p&gt;
&lt;/footer&gt;

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
</code></pre><br>
</div></div><br>
<br>
  comments getter   ,      <b>Twig length</b> .       ,    <a href="http://localhost:8000/">http://localhost:8000/</a>       .<br>
<br>
  ,    Doctrine 2   <b>$comments</b>  Blog      Comment.            Blog.<br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Entity/Blog.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Entity/Blog.php</span></span>

<span class="hljs-comment"><span class="hljs-comment">/**
 * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\OneToMany(targetEntity="Comment", mappedBy="blog")
 */</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $comments;

</code></pre><br>
</div></div><br>
<br>
,  ,  Doctrine 2       ,      <b>$comments </b>  Comment?      BlogRepository,    ( )     ,        Comment .<br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Repository/BlogRepository.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Repository/BlogRepository.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLatestBlogs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($limit = null)</span></span></span><span class="hljs-function">
</span></span>{
    $qb = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createQueryBuilder(<span class="hljs-string"><span class="hljs-string">'b'</span></span>)
               -&gt;select(<span class="hljs-string"><span class="hljs-string">'b'</span></span>)
               -&gt;addOrderBy(<span class="hljs-string"><span class="hljs-string">'b.created'</span></span>, <span class="hljs-string"><span class="hljs-string">'DESC'</span></span>);

    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> === is_null($limit))
        $qb-&gt;setMaxResults($limit);

    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $qb-&gt;getQuery()
              -&gt;getResult();
}
</code></pre><br>
</div></div><br>
<br>
, Doctrine 2  ,   ,   Comment       ,   ,  <b> {{blog.comments | length}}</b>.     ,     .           ,        , Doctrine 2 . Doctrine 2   ,      ‚Ä¶        ,       HTTP-.<br>
<br>
<img src="https://habrastorage.org/files/e24/4ff/0fd/e244ff0fd2394a83af2c967ecf4d0075.jpg"><br>
<br>
   Doctrine 2      ,    Doctrine 2       HTTP.<br>
<br>
<img src="https://habrastorage.org/files/e0d/a37/21a/e0da3721a90a4ff184e77d2ab4077919.png"><br>
<br>
       ,           .  ,            <b>getLatestBlogs()</b>  <i>BlogRepository</i>.       ,      ,     .      <b>WHERE t0.blog_id = ?</b>    ,  <b>?</b>     (<b>id </b>).        <b>{{blog.comments}}</b>    .  ,    , Doctrine 2  (lazily)   Comment,     Blog.<br>
<br>
              ,           . Doctrine2      ,      .  ,     Blog      Comment      .   QueryBuilder  BlogRepository.<br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Repository/BlogRepository.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Repository/BlogRepository.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLatestBlogs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($limit = null)</span></span></span><span class="hljs-function">
</span></span>{
    $qb = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createQueryBuilder(<span class="hljs-string"><span class="hljs-string">'b'</span></span>)
               -&gt;select(<span class="hljs-string"><span class="hljs-string">'b, c'</span></span>)
               -&gt;leftJoin(<span class="hljs-string"><span class="hljs-string">'b.comments'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>)
               -&gt;addOrderBy(<span class="hljs-string"><span class="hljs-string">'b.created'</span></span>, <span class="hljs-string"><span class="hljs-string">'DESC'</span></span>);

    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> === is_null($limit))
        $qb-&gt;setMaxResults($limit);

    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $qb-&gt;getQuery()
              -&gt;getResult();
}
</code></pre><br>
</div></div><br>
<br>
,          Doctrine 2      ,    .   ,   comment     blog.<br>
<br>
         ,      .    2      ,     ,    .           ,                   .   ,         ,     Doctrine 2.       ,      .<br>
<br>
            ,   ,     .    <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/Page/index.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/Page/index.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

&lt;footer <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">meta</span></span></span><span class="hljs-class">"&gt;
    &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comments</span></span></span><span class="hljs-class">: &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="</span></span>{{ path(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle_blog_show'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: blog.id }) }}<span class="hljs-comment"><span class="hljs-comment">#comments"&gt;{{ blog.comments|length }}&lt;/a&gt;&lt;/p&gt;</span></span>
    &lt;p&gt;Posted by &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">highlight</span></span></span><span class="hljs-class">"&gt;</span></span>{{ blog.author }}&lt;/span&gt; at {{ blog.created|date(<span class="hljs-string"><span class="hljs-string">'h:iA'</span></span>) }}&lt;/p&gt;
    &lt;p&gt;Tags: &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">highlight</span></span></span><span class="hljs-class">"&gt;</span></span>{{ blog.tags }}&lt;/span&gt;&lt;/p&gt;
&lt;/footer&gt;

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
</code></pre><br>
</div></div><br>
           .<br>
<br>
<h4>  (sidebar) </h4><br>
     symblog  .          <b> </b>  <b> </b>.<br>
<br>
<h5><b> </b></h5><br>
            ,      .              .        BlogRepository  .   BlogRepository<br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Repository/BlogRepository.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Repository/BlogRepository.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTags</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{
    $blogTags = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createQueryBuilder(<span class="hljs-string"><span class="hljs-string">'b'</span></span>)
                     -&gt;select(<span class="hljs-string"><span class="hljs-string">'b.tags'</span></span>)
                     -&gt;getQuery()
                     -&gt;getResult();

    $tags = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>();
    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($blogTags <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $blogTag)
    {
        $tags = array_merge(explode(<span class="hljs-string"><span class="hljs-string">","</span></span>, $blogTag[<span class="hljs-string"><span class="hljs-string">'tags'</span></span>]), $tags);
    }

    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($tags <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> &amp;$tag)
    {
        $tag = trim($tag);
    }

    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $tags;
}

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTagWeights</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($tags)</span></span></span><span class="hljs-function">
</span></span>{
    $tagWeights = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>();
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($tags))
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $tagWeights;

    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($tags <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $tag)
    {
        $tagWeights[$tag] = (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($tagWeights[$tag])) ? $tagWeights[$tag] + <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>;
    }
    <span class="hljs-comment"><span class="hljs-comment">// Shuffle the tags</span></span>
    uksort($tagWeights, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rand() &gt; rand();
    });

    $max = max($tagWeights);

    <span class="hljs-comment"><span class="hljs-comment">// Max of 5 weights</span></span>
    $multiplier = ($max &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ? <span class="hljs-number"><span class="hljs-number">5</span></span> / $max : <span class="hljs-number"><span class="hljs-number">1</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($tagWeights <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> &amp;$tag)
    {
        $tag = ceil($tag * $multiplier);
    }

    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $tagWeights;
}
</code></pre><br>
</div></div><br>
         ,   (CSV)   ,        .      <b>getTags()</b>.  <b>getTagWeights()</b>    ,   ¬´¬ª      ,  .  ,       .<br>
<br>
      ,     .      <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Controller/PageController.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Controller/PageController.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sidebarAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{
    $em = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getDoctrine()
               -&gt;getManager();

    $tags = $em-&gt;getRepository(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle:Blog'</span></span>)
               -&gt;getTags();

    $tagWeights = $em-&gt;getRepository(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle:Blog'</span></span>)
                     -&gt;getTagWeights($tags);

    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle:Page:sidebar.html.twig'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(
        <span class="hljs-string"><span class="hljs-string">'tags'</span></span> =&gt; $tagWeights
    ));
}
</code></pre><br>
</div></div><br>
  ,   2   BlogRepository    ,     .     <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/Page/sidebar.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/Page/sidebar.html.twig #}</span></span>

&lt;section <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">section</span></span></span><span class="hljs-class">"&gt;
    &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">header</span></span></span><span class="hljs-class">&gt;
        &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tag</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cloud</span></span></span><span class="hljs-class">&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;
    &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">header</span></span></span><span class="hljs-class">&gt;
    &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tags</span></span></span><span class="hljs-class">"&gt;
        </span></span>{% <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> tag, weight in tags %}
            &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">weight</span></span></span><span class="hljs-class">-</span></span>{{ weight }}<span class="hljs-string"><span class="hljs-string">"&gt;{{ tag }}&lt;/span&gt;
        {% else %}
            &lt;p&gt;There are no tags&lt;/p&gt;
        {% endfor %}
    &lt;/p&gt;
&lt;/section&gt;
</span></span></code></pre><br>
</div></div><br>
<br>
   .            ¬´¬ª .  <b>for </b>,         ,  <b>tag</b>  ,  <b>weight</b> .      <b>for</b>,   <a href="http://twig.sensiolabs.org/doc/templates.html"> Twig</a>.<br>
<br>
       BloggerBlogBundle,  <b>src/Blogger/BlogBundle/Resources/views/layout.html.twig</b>  ,    (placeholder)    .          .    ,   Twig <i>render</i>     ,     sidebar  Page.<br>
<br>
<pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/layout.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

{% block sidebar %}
    {{ render(controller(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle:Page:sidebar'</span></span> ))}} 
{% endblock %}

</code></pre><br>
<br>
     <b> </b>.     <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/public/css/sidebar.css</b><div class="spoiler_text"><pre><code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.section</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h3</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">1.2em</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>: normal; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#eee</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">5px</span></span>;  }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">1.5em</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">list-style</span></span>: none }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">1.5em</span></span> }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.small</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">12px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.comment</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">5px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.comment</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.tags</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>: bold; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.tags</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">span</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">12px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.tags</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.weight-1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">12px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.tags</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.weight-2</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">15px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.tags</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.weight-3</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">18px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.tags</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.weight-4</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">21px</span></span>; }
<span class="hljs-selector-class"><span class="hljs-selector-class">.sidebar</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.tags</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.weight-5</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">24px</span></span>; }
</code></pre><br>
</div></div><br>
     ,   .  BloggerBlogBundle<b> main</b> <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/layout.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/layout.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

{% block stylesheets %}
    {{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>() }}
    &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset('bundles/bloggerblog/css/blog.css') }}"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/css"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> /&gt;
    &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset('bundles/bloggerblog/css/sidebar.css') }}"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/css"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> /&gt;
{% endblock %}

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
</code></pre><br>
</div></div><br>
<br>
<blockquote><b><i></i></b><br>
<br>
          assets    web,       assets.<br>
<pre><code class="bash hljs">$ php app/console assets:install web
</code></pre><br>
</blockquote><br>
<br>
         <b> </b>   .  ,      ¬´¬ª (),      .<br>
<br>
<h5><b> </b></h5><br>
<br>
    <b> </b>,    <b> </b>   .<br>
<br>
-,         .        CommentRepository <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Repository/CommentRepository.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span>
<span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Repository/CommentRepository.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLatestComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($limit = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">
</span></span>{
    $qb = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createQueryBuilder(<span class="hljs-string"><span class="hljs-string">'c'</span></span>)
                -&gt;select(<span class="hljs-string"><span class="hljs-string">'c'</span></span>)
                -&gt;addOrderBy(<span class="hljs-string"><span class="hljs-string">'c.id'</span></span>, <span class="hljs-string"><span class="hljs-string">'DESC'</span></span>);

    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> === is_null($limit))
        $qb-&gt;setMaxResults($limit);

    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $qb-&gt;getQuery()
              -&gt;getResult();
}
</code></pre><br>
</div></div><br>
<br>
   sidebar         <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Controller/PageController.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Controller/PageController.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sidebarAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// ..</span></span>

    $commentLimit   = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container
                           -&gt;getParameter(<span class="hljs-string"><span class="hljs-string">'blogger_blog.comments.latest_comment_limit'</span></span>);
    $latestComments = $em-&gt;getRepository(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle:Comment'</span></span>)
                         -&gt;getLatestComments($commentLimit);

    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle:Page:sidebar.html.twig'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(
        <span class="hljs-string"><span class="hljs-string">'latestComments'</span></span>    =&gt; $latestComments,
        <span class="hljs-string"><span class="hljs-string">'tags'</span></span>              =&gt; $tagWeights
    ));
}
</code></pre><br>
</div></div><br>
<br>
       <b>blogger_blog.comments.latest_comment_limit</b>     .    ,   <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/config/config.yml</b><div class="spoiler_text"><pre><code class="php hljs">
<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/config/config.yml</span></span>

parameters:
    <span class="hljs-comment"><span class="hljs-comment"># ..</span></span>

    <span class="hljs-comment"><span class="hljs-comment"># Blogger max latest comments</span></span>
    blogger_blog.comments.latest_comment_limit: <span class="hljs-number"><span class="hljs-number">10</span></span>

</code></pre><br>
</div></div><br>
<br>
,         .   <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/Page/sidebar.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/Page/sidebar.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

&lt;section <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">section</span></span></span><span class="hljs-class">"&gt;
    &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">header</span></span></span><span class="hljs-class">&gt;
        &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Latest</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comments</span></span></span><span class="hljs-class">&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;
    &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">header</span></span></span><span class="hljs-class">&gt;
    </span></span>{% <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> comment in latestComments %}
        &lt;article <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">comment</span></span></span><span class="hljs-class">"&gt;
            &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">header</span></span></span><span class="hljs-class">&gt;
                &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">small</span></span></span><span class="hljs-class">"&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">highlight</span></span></span><span class="hljs-class">"&gt;</span></span>{{ comment.user }}&lt;/span&gt; commented on
                    &lt;a href=<span class="hljs-string"><span class="hljs-string">"{{ path('BloggerBlogBundle_blog_show', { 'id': comment.blog.id }) }}#comment-{{ comment.id }}"</span></span>&gt;
                        {{ comment.blog.title }}
                    &lt;/a&gt;
                    [&lt;em&gt;&lt;time datetime=<span class="hljs-string"><span class="hljs-string">"{{ comment.created|date('c') }}"</span></span>&gt;{{ comment.created|date(<span class="hljs-string"><span class="hljs-string">'Y-m-d h:iA'</span></span>) }}&lt;/time&gt;&lt;/em&gt;]
                &lt;/p&gt;
            &lt;/header&gt;
            &lt;p&gt;{{ comment.comment }}&lt;/p&gt;
            &lt;/p&gt;
        &lt;/article&gt;
    {% <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> %}
        &lt;p&gt;There are no recent comments&lt;/p&gt;
    {% <span class="hljs-keyword"><span class="hljs-keyword">endfor</span></span> %}
&lt;/section&gt;
</code></pre><br>
</div></div><br>
<br>
        ,     <b> </b>.<br>
<br>
<img src="https://habrastorage.org/files/fe1/7c0/031/fe17c00312ee427b8beacb45815b637f.png"><br>
<br>
<h4> Twig</h4><br>
<br>
   ,         , <i>2011-04-21</i>.       ,    ,  ,      , , <b> 3  </b>.        Comment       ,      <b> {{comment.created|date (' h:iA Y-m-d')}}</b>.<br>
<br>
              ,     Comment.       ,      Twig. Twig    ,   Extension.<br>
<br>
    extension  Twig    ,     .     Twig  ,      .<br>
<b>{{ comment.created|created_ago }}</b>.       , <b> 2  </b>.<br>
<br>
<h5></h5><br>
<br>
    Twig    <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Twig/Extensions/BloggerBlogExtension.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span>
<span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Twig/Extensions/BloggerBlogExtension.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Blogger</span></span>\<span class="hljs-title"><span class="hljs-title">BlogBundle</span></span>\<span class="hljs-title"><span class="hljs-title">Twig</span></span>\<span class="hljs-title"><span class="hljs-title">Extensions</span></span>;

<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BloggerBlogExtension</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Twig_Extension</span></span></span><span class="hljs-class">
</span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFilters</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
    </span></span>{
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(
<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \Twig_SimpleFilter(<span class="hljs-string"><span class="hljs-string">'created_ago'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>, <span class="hljs-string"><span class="hljs-string">'createdAgo'</span></span>)),        
);
    }

    <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createdAgo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\DateTime $dateTime)</span></span></span><span class="hljs-function">
    </span></span>{
        $delta = time() - $dateTime-&gt;getTimestamp();
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($delta &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)
            <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \InvalidArgumentException(<span class="hljs-string"><span class="hljs-string">"createdAgo is unable to handle dates in the future"</span></span>);

        $duration = <span class="hljs-string"><span class="hljs-string">""</span></span>;
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($delta &lt; <span class="hljs-number"><span class="hljs-number">60</span></span>)
        {
            <span class="hljs-comment"><span class="hljs-comment">// Seconds</span></span>
            $time = $delta;
            $duration = $time . <span class="hljs-string"><span class="hljs-string">" second"</span></span> . (($time &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) ? <span class="hljs-string"><span class="hljs-string">"s"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>) . <span class="hljs-string"><span class="hljs-string">" ago"</span></span>;
        }
        <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($delta &lt;= <span class="hljs-number"><span class="hljs-number">3600</span></span>)
        {
            <span class="hljs-comment"><span class="hljs-comment">// Mins</span></span>
            $time = floor($delta / <span class="hljs-number"><span class="hljs-number">60</span></span>);
            $duration = $time . <span class="hljs-string"><span class="hljs-string">" minute"</span></span> . (($time &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) ? <span class="hljs-string"><span class="hljs-string">"s"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>) . <span class="hljs-string"><span class="hljs-string">" ago"</span></span>;
        }
        <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($delta &lt;= <span class="hljs-number"><span class="hljs-number">86400</span></span>)
        {
            <span class="hljs-comment"><span class="hljs-comment">// Hours</span></span>
            $time = floor($delta / <span class="hljs-number"><span class="hljs-number">3600</span></span>);
            $duration = $time . <span class="hljs-string"><span class="hljs-string">" hour"</span></span> . (($time &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) ? <span class="hljs-string"><span class="hljs-string">"s"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>) . <span class="hljs-string"><span class="hljs-string">" ago"</span></span>;
        }
        <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>
        {
            <span class="hljs-comment"><span class="hljs-comment">// Days</span></span>
            $time = floor($delta / <span class="hljs-number"><span class="hljs-number">86400</span></span>);
            $duration = $time . <span class="hljs-string"><span class="hljs-string">" day"</span></span> . (($time &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) ? <span class="hljs-string"><span class="hljs-string">"s"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>) . <span class="hljs-string"><span class="hljs-string">" ago"</span></span>;
        }

        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $duration;
    }

    <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
    </span></span>{
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'blogger_blog_extension'</span></span>;
    }
}
</code></pre><br>
</div></div><br>
<br>
    .    getFilters()     ,   .       <b>created_ago</b>.       <b>createdAgo</b>,     DateTime  ,           DateTime.<br>
<br>
<h5> </h5><br>
<br>
 ,   Twig   ,    <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/config/services.yml</b><div class="spoiler_text"><pre><code class="php hljs">services:
    blogger_blog.twig.extension:
        <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Blogger</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogBundle</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Twig</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Extensions</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BloggerBlogExtension</span></span></span><span class="hljs-class">
        </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tags</span></span></span><span class="hljs-class">:
            - </span></span>{ name: twig.extension }

</code></pre><br>
</div></div><br>
<br>
         BloggerBlogExtension Twig     .<br>
<br>
<h4></h4><br>
<br>
  Twig    .    <b> </b>     <b>created_at</b> .     <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/Page/sidebar.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/Page/sidebar.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

&lt;section <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">section</span></span></span><span class="hljs-class">"&gt;
    &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">header</span></span></span><span class="hljs-class">&gt;
        &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Latest</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comments</span></span></span><span class="hljs-class">&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;
    &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">header</span></span></span><span class="hljs-class">&gt;
    </span></span>{% <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> comment in latestComments %}
        {<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
        &lt;em&gt;&lt;time datetime=<span class="hljs-string"><span class="hljs-string">"{{ comment.created|date('c') }}"</span></span>&gt;{{ comment.created|created_ago }}&lt;/time&gt;&lt;/em&gt;
        {<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
    {% <span class="hljs-keyword"><span class="hljs-keyword">endfor</span></span> %}
&lt;/section&gt;

</code></pre><br>
</div></div><br>
<br>
       <a href="http://localhost:8000/">http://localhost:8000/ </a>    ,    Twig.<br>
<br>
          .     <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/Comment/index.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/Comment/index.html.twig #}</span></span>

{% <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> comment in comments %}
    &lt;article <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">comment</span></span></span><span class="hljs-class"> </span></span>{{ cycle([<span class="hljs-string"><span class="hljs-string">'odd'</span></span>, <span class="hljs-string"><span class="hljs-string">'even'</span></span>], loop.index0) }}<span class="hljs-string"><span class="hljs-string">" id="</span></span>comment-{{ comment.id }}<span class="hljs-string"><span class="hljs-string">"&gt;
        &lt;header&gt;
            &lt;p&gt;&lt;span class="</span></span>highlight<span class="hljs-string"><span class="hljs-string">"&gt;{{ comment.user }}&lt;/span&gt; commented &lt;time datetime="</span></span>{{ comment.created|date(<span class="hljs-string"><span class="hljs-string">'c'</span></span>) }}<span class="hljs-string"><span class="hljs-string">"&gt;{{ comment.created|created_ago }}&lt;/time&gt;&lt;/p&gt;
        &lt;/header&gt;
        &lt;p&gt;{{ comment.comment }}&lt;/p&gt;
    &lt;/article&gt;
{% else %}
    &lt;p&gt;There are no comments for this post. Be the first to comment...&lt;/p&gt;
{% endfor %}
</span></span></code></pre><br>
</div></div><br>
<br>
<blockquote><b><i></i></b><br>
<br>
     Twig,    <a href="https://github.com/twigphp/Twig-extensions">Twig-Extensions</a>  GitHub.         pull request   ,     ,      .<br>
</blockquote><br>
<br>
<h4>Url</h4><br>
   URL        id .        ,       SEO. , URL <a href="http://localhost:8000/1">http://localhost:8000/1 </a>      , -  <a href="http://localhost:8000/1/a-day-with-symfony2">http://localhost:8000/1/a-day-with-symfony2</a>    .       slug          URL.  slug   ,   ASCII     <b> ‚Äî </b>.<br>
<br>
<h5> </h5><br>
<br>
          slug.    <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/config/routing.yml</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/config/routing.yml</span></span>

BloggerBlogBundle_blog_show:
    path:  /{id}/{slug}
    defaults: { _controller: <span class="hljs-string"><span class="hljs-string">"BloggerBlogBundle:Blog:show"</span></span> }
    requirements:
        methods:  GET
        id: \d+

</code></pre><br>
</div></div><br>
<br>
<h5></h5><br>
      <b>id</b>,   <b>slug</b>        ,     <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Controller/BlogController.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Controller/BlogController.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id, $slug)</span></span></span><span class="hljs-function">
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// ..</span></span>
}

</code></pre><br>
</div></div><br>
  .<br>
<br>
<blockquote><b><i></i></b><br>
<br>
,          ,    . Symfony2       .          ,    .                   <b>defaults</b>.<br>
<br>
<pre><code class="php hljs">BloggerBlogBundle_blog_show:
    path:  /{id}/{slug}
    defaults: { _controller: <span class="hljs-string"><span class="hljs-string">"BloggerBlogBundle:Blog:show"</span></span>, comments: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }
    requirements:
        methods:  GET
        id: \d+
</code></pre><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id, $slug, $comments)</span></span></span><span class="hljs-function">
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// ..</span></span>
}
</code></pre><br>
  ,   <a href="http://localhost:8000/1/symfony2-blog">http://localhost:8000/1/symfony2-blog</a>      <b>$comments</b>    <i>true</i>   showAction<br>
</blockquote><br>
<br>
<h4>Slug</h4><br>
  ,  slug   ,      slug.            ,       slug   Blog     .<br>
<br>
<h5>  Blog</h5><br>
      Blog   slug.   <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Entity/Blog.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Entity/Blog.php</span></span>

<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Blog</span></span></span><span class="hljs-class">
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// ..</span></span>

    <span class="hljs-comment"><span class="hljs-comment">/**
     * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@ORM</span></span></span><span class="hljs-comment">\Column(type="string")
     */</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $slug;

    <span class="hljs-comment"><span class="hljs-comment">// ..</span></span>
}
</code></pre><br>
</div></div><br>
<br>
      <b> $slug</b>.     .<br>
<br>
<pre><code class="bash hljs">$ php app/console doctrine:generate:entities Blogger
</code></pre><br>
<br>
    .<br>
<br>
<pre><code class="bash hljs">$ php app/console doctrine:migrations:diff

$ php app/console doctrine:migrations:migrate
</code></pre><br>
<br>
   slug     slugify  symfony1 <a href="http://symfony.com/legacy/doc/jobeet/1_4/en/08%3Form%3DPropel">Jobeet</a> .   slugify   Blog <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Entity/Blog.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Entity/Blog.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">slugify</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($text)</span></span></span><span class="hljs-function">
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// replace non letter or digits by -</span></span>
    $text = preg_replace(<span class="hljs-string"><span class="hljs-string">'#[^\\pL\d]+#u'</span></span>, <span class="hljs-string"><span class="hljs-string">'-'</span></span>, $text);

    <span class="hljs-comment"><span class="hljs-comment">// trim</span></span>
    $text = trim($text, <span class="hljs-string"><span class="hljs-string">'-'</span></span>);

    <span class="hljs-comment"><span class="hljs-comment">// transliterate</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (function_exists(<span class="hljs-string"><span class="hljs-string">'iconv'</span></span>))
    {
        $text = iconv(<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>, <span class="hljs-string"><span class="hljs-string">'us-ascii//TRANSLIT'</span></span>, $text);
    }

    <span class="hljs-comment"><span class="hljs-comment">// lowercase</span></span>
    $text = strtolower($text);

    <span class="hljs-comment"><span class="hljs-comment">// remove unwanted characters</span></span>
    $text = preg_replace(<span class="hljs-string"><span class="hljs-string">'#[^-\w]+#'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, $text);

    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($text))
    {
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'n-a'</span></span>;
    }

    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $text;
}
</code></pre><br>
</div></div><br>
<br>
  ,  slug        slug,    .       <i>setTitle</i>     slug.   Blog<br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Entity/Blog.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Entity/Blog.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTitle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($title)</span></span></span><span class="hljs-function">
</span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title = $title;

    <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;setSlug(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title);
}
</code></pre><br>
</div></div><br>
<br>
   <i>setSlug</i>.<br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Entity/Blog.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Entity/Blog.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSlug</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($slug)</span></span></span><span class="hljs-function">
</span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;slug = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;slugify($slug);
}

</code></pre><br>
</div></div><br>
<br>
      slug.<br>
<br>
<pre><code class="bash hljs">$ php app/console doctrine:fixtures:load
</code></pre><br>
<br>
<h4> </h4><br>
<br>
,           .        .<br>
      <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/Page/index.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/Page/index.html.twig #}</span></span>

{% extends <span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle::layout.html.twig'</span></span> %}

{% block body %}
    {% <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> blog in blogs %}
        &lt;article <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blog</span></span></span><span class="hljs-class">"&gt;
            &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">date</span></span></span><span class="hljs-class">"&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">time</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">datetime</span></span></span><span class="hljs-class">="</span></span>{{ blog.created|date(<span class="hljs-string"><span class="hljs-string">'c'</span></span>) }}<span class="hljs-string"><span class="hljs-string">"&gt;{{ blog.created|date('l, F j, Y') }}&lt;/time&gt;&lt;/div&gt;
            &lt;header&gt;
                &lt;h2&gt;&lt;a href="</span></span>{{ path(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle_blog_show'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: blog.id, <span class="hljs-string"><span class="hljs-string">'slug'</span></span>: blog.slug }) }}<span class="hljs-string"><span class="hljs-string">"&gt;{{ blog.title }}&lt;/a&gt;&lt;/h2&gt;
            &lt;/header&gt;

            &lt;img src="</span></span>{{ asset([<span class="hljs-string"><span class="hljs-string">'images/'</span></span>, blog.image]|join) }}<span class="hljs-string"><span class="hljs-string">" /&gt;
            &lt;div class="</span></span>snippet<span class="hljs-string"><span class="hljs-string">"&gt;
                &lt;p&gt;{{ blog.blog(500) }}&lt;/p&gt;
                &lt;p class="</span></span><span class="hljs-keyword"><span class="hljs-keyword">continue</span></span><span class="hljs-string"><span class="hljs-string">"&gt;&lt;a href="</span></span>{{ path(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle_blog_show'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: blog.id, <span class="hljs-string"><span class="hljs-string">'slug'</span></span>: blog.slug }) }}<span class="hljs-string"><span class="hljs-string">"&gt;Continue reading...&lt;/a&gt;&lt;/p&gt;
            &lt;/div&gt;

            &lt;footer class="</span></span>meta<span class="hljs-string"><span class="hljs-string">"&gt;
                &lt;p&gt;Comments: &lt;a href="</span></span>{{ path(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle_blog_show'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: blog.id, <span class="hljs-string"><span class="hljs-string">'slug'</span></span>: blog.slug }) }}<span class="hljs-comment"><span class="hljs-comment">#comments"&gt;{{ blog.comments|length }}&lt;/a&gt;&lt;/p&gt;</span></span>
                &lt;p&gt;Posted by &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">highlight</span></span></span><span class="hljs-class">"&gt;</span></span>{{ blog.author }}&lt;/span&gt; at {{ blog.created|date(<span class="hljs-string"><span class="hljs-string">'h:iA'</span></span>) }}&lt;/p&gt;
                &lt;p&gt;Tags: &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">highlight</span></span></span><span class="hljs-class">"&gt;</span></span>{{ blog.tags }}&lt;/span&gt;&lt;/p&gt;
            &lt;/footer&gt;
        &lt;/article&gt;
    {% <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> %}
        &lt;p&gt;There are no blog entries <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> symblog&lt;/p&gt;
    {% <span class="hljs-keyword"><span class="hljs-keyword">endfor</span></span> %}
{% endblock %}
</code></pre><br>
</div></div><br>
 ,        <b>  </b>   <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/Page/sidebar.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/Page/sidebar.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

&lt;a href=<span class="hljs-string"><span class="hljs-string">"{{ path('BloggerBlogBundle_blog_show', { 'id': comment.blog.id, 'slug': comment.blog.slug }) }}#comment-{{ comment.id }}"</span></span>&gt;
    {{ comment.blog.title }}
&lt;/a&gt;

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

</code></pre><br>
</div></div><br>
<br>
     <i>createAction</i>  Comment          .   Comment <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Controller/CommentController.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// src/Blogger/BlogBundle/Controller/CommentController.php</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($blog_id)</span></span></span><span class="hljs-function">
</span></span>{
    <span class="hljs-comment"><span class="hljs-comment">// ..</span></span>

    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($form-&gt;isValid()) {
        <span class="hljs-comment"><span class="hljs-comment">// ..</span></span>

        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;redirect(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;generateUrl(<span class="hljs-string"><span class="hljs-string">'BloggerBlogBundle_blog_show'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(
            <span class="hljs-string"><span class="hljs-string">'id'</span></span>    =&gt; $comment-&gt;getBlog()-&gt;getId(),
            <span class="hljs-string"><span class="hljs-string">'slug'</span></span>  =&gt; $comment-&gt;getBlog()-&gt;getSlug())) .
            <span class="hljs-string"><span class="hljs-string">'#comment-'</span></span> . $comment-&gt;getId()
        );
    }

    <span class="hljs-comment"><span class="hljs-comment">// ..</span></span>
}
</code></pre><br>
</div></div><br>
,       <a href="http://localhost:8000/">http://localhost:8000/ </a>        ,  slug      URL.<br>
<br>
<h4></h4><br>
           Symfony2.         Symfony2        -      .   Symfony2    3- :<br>
<br>
<b>dev</b> ‚Äî <br>
<b>test</b> ‚Äî <br>
<b>prod</b> ‚Äî <br>
<br>
     ,  ,       -     .            ,            .   ,                     .              ,          .      ,     .        ‚Äî             ,       ..<br>
 test   .     ,   unit   .     ,      ‚Ä¶<br>
<br>
<h5>Front </h5><br>
<br>
       .     -   web/app_dev.php    :<br>
<pre><code class="php hljs">$kernel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AppKernel(<span class="hljs-string"><span class="hljs-string">'dev'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);
</code></pre><br>
  ,     -   ,   web/app.php   :<br>
<pre><code class="php hljs">$kernel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AppKernel(<span class="hljs-string"><span class="hljs-string">'prod'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>);
</code></pre><br>
  ,      AppKernel   .<br>
           - app_test.php.<br>
<br>
<h5> </h5><br>
  ,  -      ,  .   ,          .       <b>app/config</b>     <i>config.yml</i>.  ,    <b>config.yml</b>  3    ; <i>config_dev.yml, config_test.yml  config_prod.yml</i>.          .     <b>config_dev.yml</b>       .<br>
<br>
<pre><code class="php hljs">imports:
    - { resource: config.yml }
</code></pre><br>
<br>
<b> imports</b>   <i>config.yml</i>,       imports       2    , <i>config_test.yml </i> <i>config_prod.yml</i>.     ,   config.yml         .       development,  <b>app/config/config_dev.yml</b>  ,     .<br>
<pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment"># app/config/config_dev.yml</span></span>
web_profiler:
    toolbar: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>
</code></pre><br>
            ,     .<br>
<br>
<h5>  </h5><br>
      ,         .<br>
-,          Symfony2.<br>
<br>
<pre><code class="bash hljs">$ php app/console cache:clear --env=prod
</code></pre><br>
<br>
    <a href="http://localhost:8000/app.php"> http://localhost:8000/app.php</a>. <br>
<br>
 ,     ,     .           ,   <a href="http://localhost:8000/app.php/999">http://localhost:8000/app.php/999</a>.<br>
<br>
<img src="https://habrastorage.org/files/50b/e85/25c/50be8525cbbd44cdb6e5336d4f3db1e9.png"><br>
<br>
       ,    .            . <br>
<br>
 ,    <b> app/logs/prod.log</b>    .   ,          ,          .<br>
<br>
<blockquote><b><i></i></b><br>
<br>
   <a href="http://localhost:8000/app.php">http://localhost:8000/app.php</a>       <b>app.php</b>?  ,    ,   index.html  index.php,     ,   app.php   ?     RewriteRule   <b>web/.htaccess</b><br>
<br>
RewriteRule ^(.*)$ app.php [QSA,L]<br>
  ,     <b> </b>,    , ^(.*)$    app.php.<br>
<br>
    Apache,     mod_rewrite.c,     app.php  URL, <a href="http://localhost:8000/app.php/">http://localhost:8000/app.php/</a>.<br>
</blockquote><br>
<br>
<h5>  </h5><br>
<br>
    Symfony2  , ,      ,      ,       .          ,          .<br>
       ,      .  <a href="http://symfony.com/doc/current/cookbook/configuration/environments.html"> </a>  cookbook Symfony2,    .<br>
<br>
<h4>Assetic</h4><br>
<br>
     Symfony2.8  <b><a href="https://github.com/kriswallsmith/assetic">Asseti</a></b>    ,      assetic.     <b>composer.json</b>   <br>
<br>
<pre><code class="php hljs"><span class="hljs-string"><span class="hljs-string">"require"</span></span>: {
      <span class="hljs-comment"><span class="hljs-comment">//...</span></span>
       <span class="hljs-string"><span class="hljs-string">"symfony/assetic-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>
    },
</code></pre><br>
   <br>
<pre><code class="bash hljs">composer update 
</code></pre><br>
 . <br>
<br>
    <br>
<div class="spoiler"><b class="spoiler_title">app/AppKernel.php</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//app/AppKernel.php</span></span>

  <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">registerBundles</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
    </span></span>{
        $bundles = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(
            <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Symfony\Bundle\AsseticBundle\AsseticBundle(),
        );

        <span class="hljs-comment"><span class="hljs-comment">// ...</span></span>
    }
</code></pre><br>
</div></div><br>
<br>
         <br>
<div class="spoiler"><b class="spoiler_title">app/config/config.yml</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment"># app/config/config.yml</span></span>
assetic:
    debug:          <span class="hljs-string"><span class="hljs-string">'%kernel.debug%'</span></span>
    use_controller: <span class="hljs-string"><span class="hljs-string">'%kernel.debug%'</span></span>
    filters:
        cssrewrite: ~

<span class="hljs-comment"><span class="hljs-comment"># ...</span></span>
</code></pre><br>
</div></div><br>
<br>
   <a href="https://twitter.com/kriswallsmith">Kris Wallsmith</a>   Python  webassets.<br>
<br>
Assetic    2-   assets, assets   ,  , JavaScript  ,      .      ,     CSS  JavaScript,   CoffeeScript   CoffeeScript   assets  ,     HTTP   .<br>
<br>
     Twig asset    assets    .<br>
<pre><code class="php hljs">&lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset('bundles/bloggerblog/css/blog.css') }}"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/css"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> /&gt;
</code></pre><br>
<br>
<h4>Assets</h4><br>
Assetic   asset  :<br>
Assetic asset  -   ,    . Asset     ,     .<br>
 , assets      , ,    .<br>
  Assetic  BloggerBlogBundle    <br>
<div class="spoiler"><b class="spoiler_title">app/config/config.yml</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment"># ..</span></span>
assetic:
    bundles:    [BloggerBlogBundle]
    <span class="hljs-comment"><span class="hljs-comment"># ..</span></span>

</code></pre><br>
</div></div><br>
<br>
   Assetic   BloggerBlogBundle     ,      Assetic.      bundles       .<br>
<br>
<h4> </h4><br>
      asset       BloggerBlogBundle.     <div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/layout.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/layout.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

{% block stylesheets %}
    {{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span> () }}

    {% stylesheets
        <span class="hljs-string"><span class="hljs-string">'@BloggerBlogBundle/Resources/public/css/*'</span></span>
    %}
        &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset_url }}"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
    {% endstylesheets %}
{% endblock %}

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
</code></pre><br>
</div></div><br>
<br>
   2   CSS-,  Assetic .     Assetic  ,   CSS   <b>src/Blogger/BlogBundle/Resources/public/css</b>     1 ,   .     ,            .       HTTP-  .       <b>* </b>      css         .<br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/layout.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

{% block stylesheets %}
    {{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span> () }}

    {% stylesheets
        <span class="hljs-string"><span class="hljs-string">'@BloggerBlogBundle/Resources/public/css/blog.css'</span></span>
        <span class="hljs-string"><span class="hljs-string">'@BloggerBlogBundle/Resources/public/css/sidebar.css'</span></span>
    %}
        &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset_url }}"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
    {% endstylesheets %}
{% endblock %}

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
</code></pre><br>
</div></div><br>
<br>
     .     <b>*</b> , ,   CSS    ,        CSS Assetic.        ,           .<br>
<br>
     HTML <a href="http://localhost:8000/">http://localhost:8000/</a>  ,  CSS       (,     ).<br>
<br>
<pre><code class="php hljs">&lt;link href=<span class="hljs-string"><span class="hljs-string">"/css/d8f44a4_part_1_blog_1.css"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
&lt;link href=<span class="hljs-string"><span class="hljs-string">"/css/d8f44a4_part_1_sidebar_2.css"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
</code></pre><br>
<br>
   ,   2 .    ,  Assetic     1 CSS .   ,    symblog   .    Assetic     ,     <b>false</b><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/layout.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

{% stylesheets
    <span class="hljs-string"><span class="hljs-string">'@BloggerBlogBundle/Resources/public/css/*'</span></span>
    debug=<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>
%}
    &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset_url }}"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
{% endstylesheets %}

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
</code></pre><br>
</div></div><br>
<br>
,     HTML    -  .<br>
<pre><code class="php hljs">&lt;link href=<span class="hljs-string"><span class="hljs-string">"/css/3c7da45.css"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
</code></pre><br>
      ,  2 CSS ,<b> blog.css</b>  <b>sidebar.css</b>    1 .    CSS   .     ,     <b>output</b>  <br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="php hljs">{% stylesheets
    <span class="hljs-string"><span class="hljs-string">'@BloggerBlogBundle/Resources/public/css/*'</span></span>
    output=<span class="hljs-string"><span class="hljs-string">'css/blogger.css'</span></span>
%}
    &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset_url }}"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
{% endstylesheets %}
</code></pre><br>
</div></div><br>
<br>
 ,        ,    ,      assets.<br>
      <br>
<div class="spoiler"><b class="spoiler_title">app/Resources/views/base.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># app/Resources/views/base.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

{% block stylesheets %}
    &lt;link href=<span class="hljs-string"><span class="hljs-string">'http://fonts.googleapis.com/css?family=Irish+Grover'</span></span> rel=<span class="hljs-string"><span class="hljs-string">'stylesheet'</span></span> type=<span class="hljs-string"><span class="hljs-string">'text/css'</span></span>&gt;
    &lt;link href=<span class="hljs-string"><span class="hljs-string">'http://fonts.googleapis.com/css?family=La+Belle+Aurore'</span></span> rel=<span class="hljs-string"><span class="hljs-string">'stylesheet'</span></span> type=<span class="hljs-string"><span class="hljs-string">'text/css'</span></span>&gt;
    {% stylesheets
        <span class="hljs-string"><span class="hljs-string">'css/*'</span></span>
    %}
        &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset_url }}"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
    {% endstylesheets %}
{% endblock %}

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>
</code></pre><br>
</div></div><br>
<br>
<h5>JavaScripts</h5><br>
      -  JavaScript   ,    Assetic   ,    <div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="php hljs">{% javascripts
    <span class="hljs-string"><span class="hljs-string">'@BloggerBlogBundle/Resources/public/js/*'</span></span>
%}
    &lt;script type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span> src=<span class="hljs-string"><span class="hljs-string">"{{ asset_url }}"</span></span>&gt;&lt;/script&gt;
{% endjavascripts %}

</code></pre><br>
</div></div><br>
<br>
<h4></h4><br>
<br>
  Assetic ‚Äî  .      assets   assets.    ,    ,  :<br>
<br>
CssMinFilter:  CSS<br>
JpegoptimFilter:    JPEG<br>
Yui\CssCompressorFilter:  CSS   YUI <br>
Yui\JsCompressorFilter:  JavaScript   YUI <br>
CoffeeScriptFilter:  CoffeeScript  JavaScript<br>
<br>
     <a href="https://github.com/kriswallsmith/assetic">Assetic Readme</a>.<br>
<br>
          ,   YUI ,   , ,  /  ,     .<br>
<br>
<a href="https://github.com/yui/yuicompressor/downloads"> YUI   2.4.7</a> ( ,        ,   2.4.8   ),      yuicompressor-2.4.7.jar   <b>build</b>   <b>app/Resources/java/</b>. <br>
<br>
<blockquote><b><i></i></b><br>
<br>
        Java    <a href="https://www.java.com/ru/download/"></a><br>
</blockquote><br>
<br>
   Assetic    CSS   YUI .   <br>
<div class="spoiler"><b class="spoiler_title">app/config/config.yml</b><div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment"># app/config/config.yml</span></span>

<span class="hljs-comment"><span class="hljs-comment"># ..</span></span>

assetic:
    filters:
        cssrewrite: ~
        yui_css:
            jar: <span class="hljs-string"><span class="hljs-string">"%kernel.root_dir%/Resources/java/yuicompressor-2.4.7.jar"</span></span>

<span class="hljs-comment"><span class="hljs-comment"># ..</span></span>

</code></pre><br>
</div></div><br>
<br>
    <b> yui_css</b>,      YUI Compressor Java       .          assets  ,   .     yui_css <br>
<div class="spoiler"><b class="spoiler_title">src/Blogger/BlogBundle/Resources/views/layout.html.twig</b><div class="spoiler_text"><pre><code class="php hljs">{<span class="hljs-comment"><span class="hljs-comment"># src/Blogger/BlogBundle/Resources/views/layout.html.twig #}</span></span>

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

{% stylesheets
    <span class="hljs-string"><span class="hljs-string">'@BloggerBlogBundle/Resources/public/css/*'</span></span>
    output=<span class="hljs-string"><span class="hljs-string">'css/blogger.css'</span></span>
    filter=<span class="hljs-string"><span class="hljs-string">'yui_css'</span></span>
%}
    &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset_url }}"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
{% endstylesheets %}

{<span class="hljs-comment"><span class="hljs-comment"># .. #}</span></span>

</code></pre><br>
</div></div><br>
<br>
,         Assetic  ,    .          ,     ,    JavaScript.         ,      <b>?</b> <br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="php hljs">
{% stylesheets
    <span class="hljs-string"><span class="hljs-string">'@BloggerBlogBundle/Resources/public/css/*'</span></span>
    output=<span class="hljs-string"><span class="hljs-string">'css/blogger.css'</span></span>
    filter=<span class="hljs-string"><span class="hljs-string">'?yui_css'</span></span>
%}
    &lt;link href=<span class="hljs-string"><span class="hljs-string">"{{ asset_url }}"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> media=<span class="hljs-string"><span class="hljs-string">"screen"</span></span> /&gt;
{% endstylesheets %}

</code></pre><br>
</div></div><br>
<br>
<h4> assets   </h4><br>
<br>
  , Assetic    css  javascript      .    ,  ,     Symfony        (   ).<br>
     assets ,   ,          assets   .   ,      .     ,      .<br>
 , Assetic     assets   ,     .<br>
       asset.<br>
<pre><code class="bash hljs">$ php app/console assetic:dump
</code></pre><br>
<br>
 ,     CSS-  <b>web/css</b>    blogger.css. ,    - symblog    <a href="http://localhost:8000/app.php">http://localhost:8000/app.php</a>       .<br>
<br>
<blockquote><b><i></i></b><br>
<br>
     asset        ,       asset  <b>web/</b>,   Assetic  .<br>
</blockquote><br>
<br>
<h4></h4><br>
<br>
      Symfony2,   Symfony2    Assetic asset .            .<br>
<br>
      .     unit .  ,  Symfony2    ,      ,   -,    ,   ,     .<br>
<br>
   :<br>
<br>
<a href="https://symfony.com/">https://symfony.com/</a><br>
<a href="http://tutorial.symblog.co.uk/">http://tutorial.symblog.co.uk/</a><br>
<a href="http://twig.sensiolabs.org/">http://twig.sensiolabs.org/</a><br>
<a href="http://symfony.com/doc/current/cookbook/assetic/asset_management.html">How to Use Assetic for Asset Management</a><br>
<a href="http://symfony.com/doc/current/cookbook/assetic/yuicompressor.html">How to Minify JavaScripts and Stylesheets with YUI Compressor</a><br>
<a href="http://symfony.com/doc/current/cookbook/assetic/jpeg_optimize.html">How to Use Assetic For Image Optimization with Twig Functions</a><br>
<a href="http://symfony.com/doc/current/cookbook/assetic/apply_to_option.html">How to Apply an Assetic Filter to a Specific File Extension</a><br>
<br>
<div class="spoiler"><b class="spoiler_title">Post Scriptum</b><div class="spoiler_text"><blockquote>        ,       ,      ,   .</blockquote><br>
</div></div><br>
<blockquote><a href="https://habrahabr.ru/post/301760/"> 1 ‚Äî  Symfony2   </a><br>
<a href="https://habrahabr.ru/post/302032/"> 2 ‚Äî    : ,    </a><br>
<a href="https://habrahabr.ru/post/302438/"> 3 ‚Äî Doctrine 2    </a><br>
<a href="https://habrahabr.ru/post/302602/"> 4 ‚Äî  ,    Doctrine 2 </a><br>
<a href="https://habrahabr.ru/post/303578/"> 6 ‚Äî     </a><br>
</blockquote><br>
<br>
,         <a href="https://github.com/AntoscencoVladimir/symfony-blog"> </a>  . .</div><p>Source: <a href="https://habr.com/ru/post/303114/">https://habr.com/ru/post/303114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../303098/index.html">Creating a blog on symfony 2.8 lts [Part 5.1]</a></li>
<li><a href="../303100/index.html">Carefully, redesign: "voice of the people" vs "eye of the designer"</a></li>
<li><a href="../303104/index.html">RDS, how does it work? We get down to the lowest level of the OSI model</a></li>
<li><a href="../303108/index.html">PHPixie Social - easy integration with social networks</a></li>
<li><a href="../303110/index.html">[Letter to young] Dream. Dreams Come True. And I do not know why</a></li>
<li><a href="../303116/index.html">Preparing for PHP interviews using tests (phpt) from PHP source</a></li>
<li><a href="../303118/index.html">Automate the deployment of Docker containers on arbitrary infrastructure</a></li>
<li><a href="../303120/index.html">At Startup Village 2016 in the Skolkovo Technopark distributed to startups 13.8 million rubles</a></li>
<li><a href="../303124/index.html">World Automated Technocommunism System</a></li>
<li><a href="../303130/index.html">PHP Digest number 87 - interesting news, materials and tools (May 29 - June 12, 2016)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>