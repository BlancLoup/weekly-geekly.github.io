<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Photogram without photo paper</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The photogram is a very interesting art, at one time it was even promoted in television programs. You place objects on photographic paper, you exhibit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Photogram without photo paper</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/gn/66/tx/gn66txouuabz7ovdztolvjzi6ac.jpeg"><br><br>  The photogram is a very interesting art, at one time it was even promoted in television programs.  You place objects on photographic paper, you exhibit from the direction at which the most interesting silhouette is obtained, you manifest, fix - and the work is ready.  But now photo paper at every step does not buy.  And what if the photogram after the photo to make digital? <a name="habracut"></a><br><br>  For this, a long-known scanner with a running beam is suitable, only today, instead of a CRT, it will be more convenient to use an LED array in it.  It is even better: the tube has a slight afterglow, the LEDs do not.  The sensor will be a TIL78 phototransistor, outwardly indistinguishable from the LED (the output of the base is not displayed outside, but it is not needed).  This phototransistor is discontinued, it can be replaced by many similar ones. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The phototransistor must be connected to the common wire with an emitter, a collector to the A5 input of the Arduino UNO, then fill in and run a small debugging sketch: <br><br><pre><code class="plaintext hljs">#define SENSOR A5 void setup() { Serial.begin(9600); pinMode(SENSOR, INPUT_PULLUP); } void loop() { // Read analog value continuously and print it Serial.println(analogRead(SENSOR)); }</code> </pre> <br>  The program, in particular, activates the pull-up resistor built into the Arduino, so an external one is not needed.  In the Arduino IDE menu, select Tools - Serial Plotter, and observe the illumination graph.  Since the pin of the phototransistor is not marked on it, the polarity of its connection is determined experimentally. <br><br>  32x32 LED matrix with built-in control device is connected as follows: <br><br><img src="https://habrastorage.org/webt/1s/qv/yb/1sqvybfcpaxxnbv_xv6nrplsuw8.jpeg"><br><br>  The matrix cannot be powered by the Arduino, it needs an external source of 5 V, 4 A. We connect it as follows: <br><br><img src="https://habrastorage.org/webt/gs/y0/nb/gsy0nblk7oiclpnpi3ehxgipqps.jpeg"><br><br>  We always supply power first to the matrix, then to the Arduino, remove power in the reverse order.  We ‚Äúpump‚Äù the Arduino IDE with the necessary libraries and check the matrix as described <a href="https://learn.adafruit.com/32x16-32x32-rgb-led-matrix/test-example-code">here</a> .  When everything works, fill in the <a href="">sketch</a> for photograms. <br><br>  You can try to vary the parameters in it: <br><br><pre> <code class="plaintext hljs">static constexpr uint8_t READINGS_PER_PIXELS = 1; static constexpr uint8_t THRESHOLD = 15; static constexpr bool INVERT = false; static constexpr bool CLEAR = true;</code> </pre> <br>  The first two parameters can be used to adjust the sensitivity, the third - to switch between positive and negative, the fourth - to enable the imposition of each subsequent image on the previous one.  Enjoying a <a href="">large animated GIF</a> . <br><br>  The best way to determine if the light on the phototransistor was from the matrix turned out to be this: to compare the results with the LED turned off and on.  If the LED above the point of the object being read at the moment is blocked, they will be the same, if not blocked, they will be different.  The LED turns on and off several times by switching the OE line (output enable), the reading results are summed up in two batteries: in one - when the LED is off, in the other - when it is turned on.  The result of subtracting these amounts is compared with the threshold value. <br><br>  The matrix contains six shift registers corresponding to whole rows of red, green, and blue LEDs in the upper and lower halves.  The LAT (latch) line controls the buffer transferring the values ‚Äã‚Äãfrom the shift registers to the LED drivers.  Four address lines A, B, C, D allow you to select the active line in the upper and lower halves, and the OE line allows you to disable and enable drivers. <br><br>  Usually, the previous data is stored in the buffer and sent to the LED drivers, while the new ones are written to the shift registers at this time.  After the line has been completely written, they are transferred to the buffer, and the process is repeated for the next line.  Even if you need to change the state of only one pixel, you will have to overwrite the entire line. <br><br>  Here, the matrix is ‚Äã‚Äãnot used as intended - for scanning, so the author used the shift registers in this mode, but not the buffer.  We feed one to the LAT line, and the contents of the shift register is transferred to the buffer immediately after each pulse on the CLK line.  And after each rewrite, we blink several times with an LED through OE in order to read the results with a phototransistor and add up two batteries, as described above.  Finally, after determining whether the LED is blocked, we write the result to the framebuffer provided in the library. <br><br>  When the entire photogram has been scanned, it will be sufficient to enable the interrupts again - and the picture from the framebuffer will be recorded in the matrix in the standard way and displayed, after which it will remain there until the beginning of the next scan. <br><br>  Video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9F9EUaXhj5M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/454462/">https://habr.com/ru/post/454462/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454450/index.html">How Edison Invented Wireless and Did Not Understand It</a></li>
<li><a href="../454456/index.html">Training Cisco 200-125 CCNA v3.0. Day 7. FAQ</a></li>
<li><a href="../454458/index.html">Metamorphic testing: why almost no one knows about this promising method</a></li>
<li><a href="../45446/index.html">Opera Mini 4.2</a></li>
<li><a href="../454460/index.html">The digest of interesting materials for the mobile developer # 300 (May 27 - June 2)</a></li>
<li><a href="../454464/index.html">Development of visual tests based on Gemini and Storybook</a></li>
<li><a href="../45447/index.html">Google search on Odnoklassniki</a></li>
<li><a href="../454470/index.html">Life to runtime. Yandex report</a></li>
<li><a href="../454472/index.html">What you need to know about the latest Cisco patch for routers</a></li>
<li><a href="../454474/index.html">Digital events in Moscow from 3 to 9 June</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>