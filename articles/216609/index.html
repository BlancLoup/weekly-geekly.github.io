<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The history of the creation of a torrent render for 3ds max</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, I want to tell Habra about one unusual network service and the process of its development. But first, a few words about me directly - ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The history of the creation of a torrent render for 3ds max</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/c29/ceb/511/c29ceb51129ede3a4c8c8532d22fd8ff.gif"><br><br>  Hello everyone, I want to tell Habra about one unusual network service and the process of its development.  But first, a few words about me directly - I‚Äôm an application programmer for MAXScript (this is a scripting language embedded in 3ds max), and 3ds max is one of the most popular packages for creating various 3d graphics and in it, of course, there is such a thing as rendering, for which everything was actually written below. <br><br><h4>  Idea </h4><br>  The process began with one idea that came to my mind quite suddenly late at night on November 30, 2010 and spilled out the following day into such a post on the <a href="http://3dcenter.ru/forum/index.php%3Fshowtopic%3D106869">3dcenter.ru</a> forum: <br><blockquote>  12/01/2010 12:49 PM <br>  This thought came to mind and not climbs.  I want to discuss with the community the usefulness and feasibility.  I‚Äôll omit the main part of the technical details, but it‚Äôs quite realistic to do this either as a plug-in (SDK) or even a script (MAXScript). <br>  So, the point is to use other people's computers for rendering your scenes for free (or not).  There is a rating system, i.e.  you can‚Äôt render your own for a long time (‚Äúdownload‚Äù), but not render someone else‚Äôs (‚Äúdistribute‚Äù).  For those who are afraid that his scenes or textures will be used by bad people, protection is provided - the coordinates of all objects of the scene are initially zeroed, the correct coordinates are encrypted and transferred to the render as a separate file, the textures are broken into small squares and are collected into the same one just before the render .  The display of the visualization itself (VFB) can be disabled, i.e.  the person does not even see that he is rendering.  Similar actions occur after the render - the image is automatically broken into pieces (or the pixels are simply mixed up according to some law) and can be correctly assembled only on the side of the author of the scene.  For altruists, it is possible to disable protection, i.e.  the junk scene is freely available.  The protection may be different, and in general everything that I am writing is not fully thought out - only options. <br>  ... <br>  Well, in general, somehow, I ask you not to throw tomatoes, and if I didn‚Äôt invent a bicycle, then we will discuss how viable this idea is. <br></blockquote><a name="habracut"></a><br>  Our community of 3D Schnics took the idea with enthusiasm, it turned out that it was already five years old, i.e.  many similar thoughts occurred to me, of course there were skeptics who also doubted technical issues, and generally the feasibility of such a project in comparison with existing render farms and various services for remote rendering, but on a global scale no one succeeded prove that the service torrent rendering is technically impossible or will become useless when implemented.  In short, in the course of a two-month forum discussion, Internet searches and research of various technical details, I came to the conclusion that everything is possible and necessary to do, and posted on the forum: <br><blockquote>  08/02/2011 22:11 <br>  I finally decided on the concept and dug out all the theory that I need in the process, I will not say the details, because  decided to keep the implementation myself.  Thank you all for participating. </blockquote><br><h4>  Concept </h4><br>  The main conclusion I made in the research process is to learn PHP.  At that time, my experience in network development was limited to my own simple HTML website plus a bit of css and javascript.  And since PHP was the easiest and shortest way from zero to the server part of the project and was supported by all potential hosting providers, I decided to stop there and chose the classic Apache + PHP + MySQL bundle.  In addition, it turned out that many torrent trackers (if not most) are also written in PHP, this fact has put the final point in the choice of technology. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Learning the basics of PHP and self-indulgence with home lokalkhost alternately with freelancing and fooling around lasted about a year and a half, during which time the general concept of service matured in my head definitively, which was what the post read: <br><blockquote>  09/22/2012, 19:53 <br>  development in the code has begun! </blockquote><br><h4>  Implementation, First Phase: Connect </h4><br>  At the beginning of the implementation, everything went pretty smoothly, I created the first version of the client base, adapted several PHP training lessons on the registration scripts for myself and created a connection directly from 3ds max to the MySQL base via a PHP script.  Technically, all this works as follows - the client, written in MAXScript, works inside 3ds max and sends using dotnet (the max script with the dotnet is very good friends) various http-requests with POST queries to the server-side PHP script, which is already connected to the database, adds and modifies the data in it and issues echo or exit responses that are returned to the client for processing.  For the user, it looked like this: after login from the client, the parameters of its node (version 3ds max, number of processor cores and gigabytes of memory) were automatically added to the database and posted on the Internet to the public on the page of registered nodes.  All this was hung on offsite: <br><blockquote>  04/01/2013, 18:04 <br>  The project has an offsite: <a href="http://torrender.net/">torrender.net</a> </blockquote><br>  People began to register slowly, and I tightly engaged in the client part, namely the torrent files.  It was decided to give scene files and render results in password-protected WinRAR archives, I already had experience managing winrar from a max script via the command line, but it turned out to be more difficult with torrents, since  the max script to create a torrent file was unreal (and if real, it was very slow), but you can't say that I didn‚Äôt try, I just rather quickly gave up on this idea.  Fortunately, we managed to download the mktorrent program, which, like Winrar, was controlled by a max script from the command line and made torrent files from the archives as an automatic machine.  Finally I got it to the tracker. <br><br><h4>  Implementation, second phase: TBdev </h4><br>  In search of a suitable tracker, I had to google quite a lot, I stopped at TBdev again because of the simplicity, popularity and availability of information on the Internet on various issues: <br><blockquote>  04/17/2013 07:51 <br>  I fasten the tracker, registration is stopped, login does not work for anyone. </blockquote><br>  And here I was waiting for a global catch, because  TBdev had its own database and it was easier to add my tables to it than to shovel the entire tracker engine together with the anounser, since  distribution of torrents tracker is just what I myself would not do: <br><blockquote>  04/24/2013 14:03 <br>  There are two news, good and bad. <br>  Good - the tracker is screwed, distributions and downloads - everything works.  I finish the remnants of the lich, the base of the tracker and begin to make seeds. <br>  Bad - you all have to re-register.  Then I will say where and when. </blockquote><br>  Finally, a bunch of client-tracker earned as it should, i.e.  the user loads the scene, and then the client works and automatically does the following things: <br><ol><li>  Creates a winrar archive </li><li>  Creates a torrent file for the archive </li><li>  Uploads a torrent file to the tracker </li><li>  Unloads the same torrent file from the tracker, but with a user-defined passkey </li><li>  Puts a torrent file for distribution in uTorrent (also controlled by the command line) </li></ol><br><h4>  Implementation, third phase: alpha release </h4><br>  After the second phase, my enthusiasm subsided a bit and I broke off with the project for more than six months, I had to earn money, all sorts of freelancing orders had fallen, in short, there was a pause in the torrenter, which I still regret.  But nevertheless, after some time I again leaned on the torrender and released alpha, despite the fact that TBdev podgadil me a little base: <br><blockquote>  02/19/2014 01:18 <br>  WORKING ALPHA RELEASE! <br>  The client is updated, download there. <br><br>  Render-lich is available - you can create "Jobs", i.e.  render tasks, upload them to the server and receive render results from other users <br>  Render-cider is available - you can go to the Render Seed tab and click the Find Job button to download and render the job from other users, and then send the results to the person <br>  All the details in the readme <br><br>  And also, there is not very good news.  It turns out there was an installation in the tracker - delete inactive users a month later offline, so the entire user base was dropped, except for the last two lucky ones, so most will have to overload. <br>  I apologize for this moment, but it was impossible to learn in advance about this setting. <br></blockquote><br><h4>  The final </h4><br>  After alpha, I didn‚Äôt release the project from myself, it was beta, then the client‚Äôs release with the already added rating system, and now the development is slowly continuing towards improving the service, users are slowly but surely registered, the nodes are added to the database and no one knows ... <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/5eiOva1SNgU%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhi4b5YgNw1LdbOjANK3FTuQd6lyOg" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/216609/">https://habr.com/ru/post/216609/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../216597/index.html">The defeat of robots: the ups and downs of high-frequency trading (Part 2)</a></li>
<li><a href="../216599/index.html">Short life and one game adventures</a></li>
<li><a href="../216601/index.html">We ride the floppy and study the promising router. (In this article, not a single TP-Link MR3020 and TL-WR703N were injured, and HAME MPR A100 (A2) got off lightly)</a></li>
<li><a href="../216603/index.html">Oculus presented the Rift Development Kit 2 at the GDC 2014 conference</a></li>
<li><a href="../216605/index.html">Yii connection many to many</a></li>
<li><a href="../216615/index.html">Cubieboard A10. Learning to control the system from a remote control</a></li>
<li><a href="../216619/index.html">Volvo makes sure you don't fall asleep</a></li>
<li><a href="../216621/index.html">Competition from Veeam! The main prize is a $ 25,000 round-the-world trip for two, and not only</a></li>
<li><a href="../216623/index.html">Managing JavaScript UI stream using WinJS scheduler</a></li>
<li><a href="../216625/index.html">Force Majeure with Alexei Kibkalo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>