<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Second billing, marketplace and sandboxes for Big Data: what can test environments in the cloud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Any software development company needs test environments that are close to the production environment. This is especially true for boxed software, whi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Second billing, marketplace and sandboxes for Big Data: what can test environments in the cloud</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/9s/5h/y3/9s5hy3r8qtfcs7grnxisqaq2k0q.jpeg" width="600"></div><br>  Any software development company needs test environments that are close to the production environment.  This is especially true for boxed software, which has a long release cycle. <br>  Many problems building test environments solves their placement in the cloud.  We will tell you about the testing capabilities on our <a href="https://mcs.mail.ru/">Mail.Ru Cloud Solutions</a> (MCS) cloud platform.  But part of what we tell is true for any cloud. <br><a name="habracut"></a><br><h2>  The complexity of setting up a test environment </h2><br>  Before we talk about the possibilities of test environments in the cloud, we will talk about the difficulties that companies face in the process of software testing. <br><br><h4>  Different Git branches - different environments </h4><br>  Most software development companies use version control systems.  The most common of these is <a href="https://ru.wikipedia.org/wiki/Git">Git</a> , which is used by 87% of developers (a RhodeCode survey <a href="https://twitter.com/rhodecode/status/755006893182025728">on Twitter</a> ). <br><br>  The best practice in Git are the so-called feature-branches (branches), when for each new functionality a separate branch in the repository is allocated.  This approach allows developers not to be ‚Äúpushed by elbows‚Äù and makes changes more independent, but requires the deployment of many dedicated environments for testing individual features. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Underutilization of computing resources </h4><br>  <a href="https://www.computerworld.com/article/3196355/servers/a-third-of-virtual-servers-are-zombies.html">25% of physical servers</a> are ‚Äúzombies‚Äù who consume electricity but do nothing useful.  And many IT specialists <a href="https://www.nrdc.org/sites/default/files/data-center-efficiency-assessment-IP.pdf">cannot say</a> what 15‚Äì30% of the servers installed in their company are doing. <br><br>  So here.  On-premise iron for test environments here is no different from any other and, as a rule, poorly disposed of.  And there can be no other way.  When you buy a fleet of server hardware, you reload on resources in case of increased consumption and number of test environments.  As a result, test environments are idle at night and on weekends ‚Äújust in case‚Äù, and you just pay for the electricity and cooling consumed. <br>  Simple application of virtualization in your private cloud does not solve the problem of inflexible scalability and under-utilization of equipment. <br><br><h4>  Difficulty setting </h4><br>  The test and development environments are not just a few virtual machines.  It typically includes an application server, a database server, plus message queue servers and cache servers. <br><br>  Developers find it difficult to raise and configure such infrastructure on their own, if they do not have the appropriate expertise, it may take several days.  For experienced admins this is easy, but not interesting at all.  Plus, bureaucracy is superimposed, and the process of allocating resources to creating a test environment can be very long. <br><br>  Another problem is that a full-time system administrator often does not have expertise in deploying specific test environments, and the company is forced to attract expensive consultants from outside.  An example is a sandbox for big data based on Hadoop, Spark, HDFS or Airflow.  Deployment of such an environment takes at least a week for a specialist qualified in the BigData area and not less than a month for an ordinary system administrator.  A similar story with Kubernetes clusters: building a test cluster close to the production configuration takes at least a few days. <br><br>  As a result, the company is forced to turn to a third party - to attract consultants.  However, it <a href="https://bigdataldn.com/understanding-the-big-data-devops-shortage/">is quite difficult to find specialists in big data</a> , and administrators of such systems can be counted almost on one hand.  Yes, the DevOps engineer can cope with all the tasks for deploying test environments, but he also doesn‚Äôt have it in every company, and finding a good expert in this area is no easier than a BigData specialist.  In 2016, the job search site indeed.com <a href="https://mashable.com/2016/05/12/top-ten-hardest-hires-tech">noted</a> that companies are looking for a DevOps engineer longer than any other specialists. <br><br><h2>  How the cloud solves these problems </h2><br><h4>  Second billing only for consumed resources and instant scaling </h4><br>  The most obvious advantage of cloud services is the ability to rent the cloud infrastructure of any configuration (one server or a whole cluster) for any period.  On our <a href="https://mcs.mail.ru/">Mail.Ru Cloud Solutions</a> (MCS) platform, billing is per second - you only need to pay for the computing resources that were actually used. <br><br>  Unlike bare metal, private cloud and most Russian cloud providers, MCS does not rate the resources of stopped virtual machines (RAM, CPU): you only need to pay for the occupied disk space.  For example, a test configuration of 20 CPU, 40 GB RAM and 1 TB HDD costs 24,800 ‚ÇΩ / month, and payment for disk space - 7,000 ‚ÇΩ / month.  For example, if automation means to stop such an environment at 9:00 pm and deploy at 9:00 am, you will pay $ 15,900 - one and a half times less than with a round-the-clock lease. <br><br>  In our experience, the total savings from testing in the cloud can reach 60‚Äì70% compared to testing in the on-premise infrastructure. <br><br>  The ability to instantly scale resources in the cloud up and down allows you to quickly deploy environments only at the right time and dispose of leased capacity by almost 100%.  The deployment time of the test environment is reduced by several days, or even months, compared to on-premise. <br><br><h4>  Resources are allocated by the developers themselves. </h4><br>  Using self-service portals, developers can set up test environments in the cloud and allocate resources for them without asking the administrators.  Even this simple action can shorten the time-to-market product by several weeks. <br><br><h4>  API for automatic creation and destruction of test environments </h4><br>  The cloud allows you to create short-lived environments on the model " <u>just in time</u> ".  <a href="https://developer.openstack.org/api-guide/quick-start/">Using the REST API</a> and CLI, you can massively deploy test environments, stop, update, and delete them.  In this way, you can configure the full life cycle for test environments and keep hundreds of environments running.  Thanks to instant cloud scaling and per-second billing, flexibility and reduced operating costs are achieved. <br><br><div class="spoiler">  <b class="spoiler_title">Here is an example from our experience.</b> <div class="spoiler_text">  The company is developing software for 150 banks.  Each bank has its own branch in Git with additional functions built on top of the boxed solution.  The company has to raise two or three parallel working test environments for each client: testing with the current version, testing with the new version, checking for updates from the current to the new one.  In total, for 150 clients, it is necessary to deploy and maintain up to 450 test environments at the same time, which is without regard to development environments. <br><br>  In the private cloud mode (they use virtualization in their own data center) it is almost impossible to work with such a load, since there is often not enough available hardware for parallel work of all media.  As a result, developers are waiting for their turn to test and can not quickly check the operation of the new version of the application. <br><br>  Automated deployment and management of test environments in a public cloud removes the limit in testing speed and ultimately reduces time to market.  In addition, cost management in the rental of cloud resources is more predictable, and the costs themselves are lower than when using their own specialized equipment for test benches. <br></div></div><br>  Another advantage of cloud test environments is the integration with CI / CD tools.  These solutions (for example, Jenkins) contain plug-ins that allow you to dynamically create test environments in the MCS cloud during the build.  The test environment can be activated right before running functional or regression tests.  If the tests were successful, the environment will collapse automatically, if something is wrong - the environment will continue, so that developers can reconnect and understand the cause of the regression. <br><br><h4>  Ready building blocks for test environments </h4><br>  Quickly deploy a test environment to the Mail.Ru Cloud Solutions platform <br>  help PaaS, for example - <a href="https://mcs.mail.ru/containers">containers Kubernetes</a> and Databases in the cloud.  Kubernetes is developing a service directory with hundreds of applications. <br><br>  From the catalog, you can deploy ActiveMQ, RabbitMQ, Kafka clusters, log monitoring and analysis systems, various CMS and databases in a few minutes.  Unlike the popular <a href="https://hub.docker.com/">Docker Hub</a> , which contains only individual application templates, <a href="https://hub.kubeapps.com/">Kubernetes Service Catalog</a> has high-level templates that simplify integration.  From templates, you can deploy pre-configured application components (message queue, service discovery, databases, application servers, CI / CD tools, caching servers, blockchain tools, and more), without having to configure the virtual machines on which they are deployed. <br><br><img src="https://habrastorage.org/webt/gj/kc/gb/gjkcgbque7j7a5qzoy6sn5-u2xk.gif"><br>  <i>Applications available in the Kubeapps marketplace.</i> <br><br><h4>  Sandbox for Big Data </h4><br>  On MCS, you can deploy test environments for big data applications.  Using the <a href="https://mcs.mail.ru/bigdata">PaaS Big Data service,</a> you can create Hadoop, Spark, HBase and Airflow clusters.  The deployment process is fully automated, and it saves weeks of time compared to self-tuning. <br><br>  An additional advantage here is given by second billing and instant scaling.  The ability to create scalable test environments for short periods reduces the company's costs of maintaining an analytical IT infrastructure.  Savings can reach 80% compared to on-premise. <br><br><h4>  Integration with Infrastructure-as-a-Code </h4><br>  Unlike proprietary solutions based on VMWare, the MCS cloud platform is based on OpenStack open source software, which has full integration with various tools: Terraform, Ansible, Puppet, Chef. <br><br>  Terraform is built in the spirit of Infrastructure-as-Code (IaC), when the process of setting up the infrastructure is designed like writing code and is more familiar to developers.  Terraform is difficult to use in a private cloud because it does not have full integration with VMware.  In the MCS cloud, companies can use ready-made examples of working with Terraform (they are in <a href="https://github.com/MailRuCloudSolutions/terraform-demo">this GitHub repository</a> ). <br><br><img src="https://habrastorage.org/webt/be/gg/1c/begg1c5ptsbqxm20w97a_x57w54.gif"><br>  <i>Create a test environment using Terraform.</i> <br><br><h2>  Remember </h2><br><ul><li>  Testing in the cloud is becoming a natural practice in the IT industry and has already been applied by a wide variety of organizations: <a href="https://blog.zhaw.ch/icclab/the-cloud-for-testing-environments/">from state universities</a> to <a href="https://www.rightscale.com/blog/cloud-management-best-practices/continuous-testing-cloud">large IT companies</a> . </li><li>  Building test environments in the cloud helps to save due to the possibility of instant scaling and automation through APIs, which provide almost 100% utilization of rented infrastructure. </li><li>  Additional services on a cloud platform and templates on Kuberntetes containers are ready-made building blocks that do not need to be customized. </li><li>  Services that are difficult to set up, such as Big Data processing tools, are easier to rent in the cloud in the form of pre-configured templates.  You will save weeks by avoiding diving into settings. </li><li>  MCS is built on OpenStack and fully integrated with Terraform and other DevOps tools. </li></ul><br>  All these tools can be tried for free in the Mail.Ru Cloud Solutions platform.  Until the end of November <a href="https://mcs.mail.ru/bonus-devops/">, this link</a> with the ILOVEHABR promo code can add 1000 rubles to the account and test-test-test. </div><p>Source: <a href="https://habr.com/ru/post/429154/">https://habr.com/ru/post/429154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../429144/index.html">Bending smartphones and other information with Android Dev Summit</a></li>
<li><a href="../429146/index.html">Pulse power unit for teletype from the 1940s (with luminous mercury thyratrons!)</a></li>
<li><a href="../429148/index.html">How "effective managers" drowned Flickr</a></li>
<li><a href="../429150/index.html">Manage your CMS modules using composer</a></li>
<li><a href="../429152/index.html">Android navigation component. Simple things you have to do yourself.</a></li>
<li><a href="../429156/index.html">The whole truth about the RTOS. Article # 19. Semaphores: introduction and basic services</a></li>
<li><a href="../429158/index.html">The impostor syndrome affects men no less than women ... and other findings from 10,000 technical interviews</a></li>
<li><a href="../429160/index.html">Nintendo DS console GPU and its interesting features</a></li>
<li><a href="../429162/index.html">‚ÄúTo achieve change, understand why people resist them‚Äù: Jim Holmes on the culture of testing</a></li>
<li><a href="../429166/index.html">Multicrystal: from history to speculation about the future</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>