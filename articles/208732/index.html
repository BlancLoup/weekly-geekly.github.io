<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing Atlassian STASH, rake when installing on CentOS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 

 Due to the fact that not many, as it turned out, they know about Stash a little about him. On the manufacturer‚Äôs website the following...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing Atlassian STASH, rake when installing on CentOS</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br><br>  Due to the fact that not many, as it turned out, they know about Stash a little about him.  On the manufacturer‚Äôs website the following description is given: <br><blockquote>  The Stash interface makes it easy to perform administrative and management tasks.  Stash keeps your growing Git repositories safe within firewall range.  Add users and user groups, set detailed rules directly from the UI (user interface).  Create and manage repositories within Stash.  To be aware of all the team cases and bring them to a single list is a matter of a couple of minutes. </blockquote><br><br>  Roughly say Stash from Atlassian - this is your local Githab.  The special beauty of this tool is that it is very closely integrated with the same JIRA from Atlassian, which provides a much more convenient revision of the code for the task being performed and a single interface for this. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Installation </h5><br>  Installation of the specified product is quite simple.  But I still found a rake for myself. <br>  This was partly due to the fact that I put on CentOS.  Until recently, I had almost no experience with this distribution. <br><br>  In fact, this article is a free translation of the <a href="https://confluence.atlassian.com/display/STASH/Getting%2BStarted">Getting Started</a> manual from the Atlassian website in the installation section of Linux. <br><br>  It is useful for beginners. <br><a name="habracut"></a><br>  <em>Note:</em> <em><br></em>  <em>All commands below are entered in the command line as root.</em> <em><br></em>  <em>This installation option is recommended <b>for test operation</b> !</em>  <em>To start the server in commercial operation, you must perform a number of additional measures.</em>  <em>This is all <a href="https://confluence.atlassian.com/display/STASH/Installing%2BStash%2Bon%2BLinux%2Band%2BMac">described in the installation article</a> .</em> <em><br></em>  <em>Later I will try to supplement the article with the order of transferring the server to the combat mode.</em> <br><br>  First, we need to check the availability of the required versions of additional software.  <a href="https://confluence.atlassian.com/display/STASH/Supported%2Bplatforms">Here</a> we can see the supported versions. <br><br><h6>  <b>1. Java</b> </h6><br>  First we are invited to check the Java version installed on your server. <br><blockquote>  java -version </blockquote><br>  <b>The rake number 1: JAVA version</b> <br>  I installed OpenJDK version 1.7.0 (java-1.7.0-openjdk.x86_64), everything was fine, except that for how long I did not wait for access to the web page was missing.  Just a white blank page was displayed.  As it turned out, it was best to put Java from Oracle - thanks to <a href="https://habrahabr.ru/users/vsb/" class="user_link">vsb</a> for the recommendation, I found the same recommendations somewhere on the forums when I solved this problem.  Slightly more deployed under the spoiler. <br><div class="spoiler">  <b class="spoiler_title">Solution Rake ‚Ññ1</b> <div class="spoiler_text">  I had to demolish OpenJDK and install OracleJDK.  Download it <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html">from here</a> . <br>  Through magical Google dug up a curious remark: <br><blockquote>  <b>Stash Fails to Startup after installation when Running on OpenJDK</b> <br>  <i>Symptoms</i> <br>  The following exception is reported when starting up Stash: <br>  A fatal error has occurred <br>  Atlassian Stash from starting correctly: <br>  OpenJDK 64-Bit Server VM is an unsupported JVM. <br>  <i>Cause</i> <br>  OpenJDK is not a supported environment for Stash. <br>  <i>Resolution</i> <br>  Switch to the latest version of Oracle JDK to help resolve the problem. <br></blockquote><br>  True, I have everything started with OpenJDK and did not curse at all, but it still did not work.  Strange in general. <br></div></div><br><br><h6>  <b>2. Git</b> </h6><br>  Also check the version of the installed package: <br><blockquote>  git --version </blockquote><br>  Here I was waiting for <b>Rake number 2</b> . <br>  In CentOs 6.5, git 1.7.1 is in the base repository, and the minimum requirement is 1.7.6+ <br>  Everything would be great, but here all factors of my small experience with CentOS and yum came together at once.  Prior to that, my entire administration experience was focused on Debian distributions.  If this is not a problem for you, you can not look under the spoiler. <br><div class="spoiler">  <b class="spoiler_title">solution Rake ‚Ññ2</b> <div class="spoiler_text">  You need to add an additional <b>rpmforge</b> repository, there is <a href="http://centos.name/%3Fpage/additionalresources/RPMForge">such a</a> <b>thing</b> about how to add it.  In short, then: <br><blockquote>  rpm --import <a href="http://apt.sw.be/RPM-GPG-KEY.dag.txt">apt.sw.be/RPM-GPG-KEY.dag.txt</a> <br>  rpm -K rpmforge-release-0.5.3-1.el6.rf. *. rpm <br>  rpm -i rpmforge-release-0.5.3-1.el6.rf. *. rpm <br></blockquote><br>  Wherever I found recommendations for adding it, it is indicated that you need to translate rpmforge into enable. <br>  Made. <br> <code>yum update</code> <br>  and nothing has been updated. <br> <code>yum install git</code> <br>  git has remained the old version. <br><br>  The solution turned out to be simple, but I was looking for it, for some reason, for a long time. <br>  just activate the repository <b>[rpmforge-extras]</b> in the /etc/yum.repos.d/rpmforge.repo file <br>  We set enable = 1, and here is the luck: <br><blockquote>  # git --version <br>  git version 1.7.12.4 <br></blockquote><br></div></div><br><br><h4>  3.Perl </h4><br>  With this, CentOS 6.5 turned out to be all right. <br><blockquote>  # perl --version <br>  This is perl, v5.10.1 (*) built for x86_64-linux-thread-multi <br></blockquote><br>  minimum requirements:&gt; = 5.8.8 <br><br><h4>  4.Stash </h4><br>  Now we put Stash himself. <br>  Download the archive distribution from <a href="https://www.atlassian.com/software/stash/download">this</a> page.  And we deploy the archive to the desired installation location.  For example, in <b><i>/ usr / local / stash</i></b> This will be our <b>\ &lt;Stash installation directory \&gt;</b> <br><br>  Before starting, we need to fix the file <b>\ &lt;Stash installation directory \&gt; <i>/bin/setenv.sh</i></b> <br>  Uncomment the parameter STASH_HOME and specify the location for stash data <br>  eg <br><blockquote>  STASH_HOME = "/ home / stash-home-data" </blockquote><br>  <em>!!!</em>  <em>IMPORTANT!!!</em> <em><br></em>  <em>Developers advise not to put data in the \ &lt;Stash installation directory \&gt; folder</em> <em><br></em>  <em>This is due to the fact that when you need to update STASH, the data in the <b>\ &lt;Stash installation directory \&gt;</b> folder will be overwritten.</em> <em><br></em> <br>  Everything, installation is complete.  Now just run stash. <br>  go to the folder where the stash is installed (this is our <b>\ &lt;Stash installation directory \&gt;</b> ) <br><blockquote>  bin / start-stash.sh </blockquote><br>  If everything started correctly, we will see <br><blockquote>  # bin / start-stash.sh <br>  To run Stash in the foreground, start the server with start-stash.sh -fg <br>  Starting Atlassian Stash as current user <br><br>  Detecting JVM PermGen support ... <br>  PermGen switch is supported.  Setting to 256m \ n <br>  Using STASH_HOME: / home / stash-home-data <br>  Using CATALINA_BASE: /usr/local/etc/stash/atlassian-stash-2.10.1 <br>  Using CATALINA_HOME: /usr/local/etc/stash/atlassian-stash-2.10.1 <br>  Using CATALINA_TMPDIR: /usr/local/etc/stash/atlassian-stash-2.10.1/temp <br>  Using JRE_HOME: / usr <br>  Using CLASSPATH: /usr/local/etc/stash/atlassian-stash-2.10.1/bin/bootstrap.jar:/usr/local/etc/stash/atlassian-stash-2.10.1/bin/tomcat-juli.jar <br>  Using CATALINA_PID: /usr/local/etc/stash/atlassian-stash-2.10.1/work/catalina.pid <br><br>  Success!  You can now use Stash at the following address: <br><br>  <a href="http://localhost/">localhost</a> : 7990 / <br><br>  If you cannot access Atlassian Stash, please read the troubleshooting guide at: <br><br>  <a href="https://confluence.atlassian.com/display/STASHKB/Troubleshooting%2BInstallation">confluence.atlassian.com/display/STASHKB/Troubleshooting+Installation</a> <br></blockquote><br><br>  As indicated, access to the web interface does not appear immediately, but within a few minutes.  This is due to the preparation of data. <br>  Next we open http: // &lt;ip (dns) of your server&gt;: 7990 / and follow through the installation wizard.  I will not describe this process, since  everything is elementary there. <br><br>  PS: Discussion of the article and comments are waiting in the comments. <br><br>  UPD: made some adjustments to the article, added a description. </div><p>Source: <a href="https://habr.com/ru/post/208732/">https://habr.com/ru/post/208732/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../208718/index.html">C ++ idioms. Static visitor</a></li>
<li><a href="../208722/index.html">How to increase the conversion and the average check site search</a></li>
<li><a href="../208726/index.html">We program Raspberry Pi on bare iron</a></li>
<li><a href="../208728/index.html">Smart home based on the controller AMX NI-3100</a></li>
<li><a href="../208730/index.html">Guy arrested for inviting to join Google+</a></li>
<li><a href="../208734/index.html">Browser development - concept level</a></li>
<li><a href="../208736/index.html">Why subscribers leave you</a></li>
<li><a href="../208744/index.html">Virgin Galactic conducted the third supersonic flight, reaching a new height</a></li>
<li><a href="../208746/index.html">LXC (Linux Containers) - is everything really good?</a></li>
<li><a href="../208748/index.html">How to use Memcached with Ruby on Rails in Ubuntu 12.04 LTS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>