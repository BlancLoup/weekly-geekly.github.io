<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Adding sorting animation to jQuery UI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I understand, perhaps, there is a feeling that the article was late for the year by 2, now it is fashionable to write about es6, react, redux or other...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Adding sorting animation to jQuery UI</h1><div class="post__text post__text-html js-mediator-article">  I understand, perhaps, there is a feeling that the article was late for the year by 2, now it is fashionable to write about es6, react, redux or other fashionable things in the world of frontend. <br><br>  However, I think many still have projects that use jQuery + jQuery UI.  And in one of the projects, using jQuery UI for sorting the list items, I needed a sorting animation, which in jQuery UI is not out of the box.  Googling and stackoverflow search only led to strange solutions through standard jquery-ui callbacks, and since there were several places where sorting was used, such solutions did not suit me. <br><br>  In addition, the project used the jQuery UI Touch Punch library, which allows for an elegant way to force jQuery UI to work on touch devices, I thought, why not do the same. <br><a name="habracut"></a><br>  Having begun to understand how sortable works, it became clear that when sorting the elements that are being dragged and in which place we want to put it, simply change places in the DOM tree.  In this situation, of the possible implementations of my task, only one idea came to mind. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After the element has been moved to a new place in the DOM tree, depending on the sorting direction, move it in the opposite direction to its height (or width, depending on the axis of the sorting direction) and immediately start the animation.  Perhaps the diagram will be a little clearer: <br><br><img src="https://habrastorage.org/files/6d9/857/0c4/6d98570c49b148af93545a7be507f632.jpg"><br><br>  Consider each step: <br><br><ol><li>  the user starts dragging <b>Item 4</b> into <b>Item 3</b> ; </li><li>  jQuery UI sorting works in native ways; </li><li>  the plugin shifts the element using the translateY transformation back to its old position, without changing the position of the element in the DOM tree; </li><li>  immediately starts the animation through css-transition. </li></ol><br>  Voila, without affecting the basic logic of the sortable widget, we added animation to it.  I implemented it as a sortable widget extension, so to add animation to an existing project that uses sortable, you just need to connect the script and add the animation property to the sortable parameters: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jquery.ui.sortable-animation.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#sortable'</span></span></span><span class="javascript">).sortable({ </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">// ... //    axis: 'y', //  ( 'x',  'y'),      animation: 200, //   (0 -   ) }); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  <a href="https://github.com/egorshar/jquery-ui-sortable-animation">GitHub source code</a> <br>  <a href="https://egorshar.github.io/jquery-ui-sortable-animation/ru.html">Demo</a> <br><br>  <b>Pros:</b> <br><br><ul><li>  enabled by one parameter, even for a long-existing code; </li><li>  does not affect the logic of work, adds only the visual effect; </li><li>  for browsers that do not support css-transitions will animate using jQuery.animate. </li></ul><br><br>  <b>And, of course, cons:</b> <br><br><ul><li>  works only when specifying the axis property in the sortable parameters. </li></ul><br><br>  At the moment, the library solves its problems, but it would be nice, at least, to get rid of the necessity of specifying the axis property.  If you have ideas and time, pool requests are welcome. </div><p>Source: <a href="https://habr.com/ru/post/273923/">https://habr.com/ru/post/273923/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273907/index.html">Great overview of beautiful multi-level menus with codepen</a></li>
<li><a href="../273915/index.html">Chaos generators on FPGA</a></li>
<li><a href="../273917/index.html">What is landing</a></li>
<li><a href="../273919/index.html">Non-standard top events in the field of IT-security 2015</a></li>
<li><a href="../273921/index.html">The return of the prodigal hubs</a></li>
<li><a href="../273929/index.html">Unique Setun based on ternary code</a></li>
<li><a href="../273931/index.html">Digest of the game industry: November</a></li>
<li><a href="../273933/index.html">PostgreSQL Partitioning - What? What for? How?</a></li>
<li><a href="../273937/index.html">Fintech and Blockchain: sum up the year and make a forecast for the next</a></li>
<li><a href="../273939/index.html">How flash memory will change the structure of data centers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>