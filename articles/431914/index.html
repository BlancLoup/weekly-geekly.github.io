<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Technical interakty on fantastic conventions. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part, I talked about a laptop from a Gravity Falls fan stand, with which I participated in several science fiction festivals 2-3 years ag...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Technical interakty on fantastic conventions. Part 2</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/ks/fq/ns/ksfqns7m_ubsdsjdepgudspe7k8.png"><br><br>  In the <a href="https://habr.com/post/431832/">first part,</a> I talked about a laptop from a <b>Gravity Falls</b> fan stand, with which I participated in several science fiction festivals 2-3 years ago.  This year the team was inspired by a new film on <b>Jumanji</b> and decided to make a stand in this universe.  My attitude towards him is not so unambiguous, but the old film and the series were very good.  When it came time to start working on the interactive, I decided to make a mobile counterpart of the board game for festival visitors, with the possibility of playing together on the stand and solving riddles.  Under the cut - what came out of my implementation and how it looked at the <b>Starcon</b> 2018 festival. <br><a name="habracut"></a><br><h3>  Board game Jumanji (Jumanji) </h3><br>  In the original film, the players (up to 4, according to the number of figures in the game) threw the cubes, their figures moved to the corresponding value, and in the center of the game a mystery arose.  They had a few seconds to understand what it was about, after which the writing began to be executed.  Bats flew in, wild animals sprang up ‚Äî all of this came into our world from the game. <br><br><div class="spoiler">  <b class="spoiler_title">Moment of doubt</b> <div class="spoiler_text">  Theoretically, players could immediately make the next move in turn and quickly finish the game.  In fact, each puzzle brought with it new difficulties to continue the process.  There was another principle in the series, and there was no such problem. <br></div></div><br>  In the series, the game behaved differently - even though the same figures and the field appeared there, in practice it did not matter.  No matter how many people (or other creatures) were present next to the field at the time of the game, they were all drawn inward after the riddle appeared - until they solved it in the game world, saying the answer out loud. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Implementation of the board game </h4><br>  The idea was simple - to combine these options.  The player rolls a die, makes a move, after which a riddle appears in the center of the field.  Until the answer is given, the next player cannot walk.  Since I am more a programmer than a crafter, I decided to make the game as an application for mobile devices. <br><br>  I understood that such an interactive entails certain inconveniences for visitors.  If at each festival booth a visitor downloads a new application, spends traffic, batteries, space on the device, then he will get tired of it very soon.  And in the end, not everyone has a mobile device, and it would be unfair to deprive people of potential entertainment.  Therefore, I decided to make two versions, mobile (online) and stationary (offline), with the input of the answer directly on our tablet.  Mobile was supposed to be used only as an additional interactive, although I had high hopes for it. <br><br><h4>  Offline version </h4><br>  With the offline version of the client, everything was pretty simple.  My wife drew graphics, I made a prototype in Unity - a figurine moves on a board, a riddle is displayed.  Beauty!  I was not going to spend a lot of effort on the interface, after all, the application had to work for only two days and perform primarily the function of bringing questions to the visitors, but I could not leave it completely raw.  Added the creation of players (up to four) with the name, approximation of the camera, various trivia.  In the first version, questions from the film were rigidly sewn.  Knowing the policy of the app stores, I decided to post this version in advance so that I could slowly fix any jambs - the game was made after a famous film, albeit without any monetization and advertising, but the copyright still belongs to the publishing company.  Then my fears were not justified - first <b>Google Play</b> , and later the <b>App Store</b> confirmed the application without any problems, and in the meantime I began to refine the server and client for working online. <br><br><img src="https://habrastorage.org/webt/qi/2e/m6/qi2em6to7ukz_7w77sifrs8he_8.png"><br><br><h4>  First ratings from Google Play </h4><br>  I did not add localization, because  I did not expect to use the application by anyone else, except as a festival visitor, but, bearing in mind that guests from different countries could not add regional restrictions on the game.  I did not post links to the first version anywhere (except for the test among our stand team), but to my surprise, reviews from <b>Google Play</b> began to appear.  Among the first reviews were foreign in the spirit of ‚Äúwhat to answer questions?  I can not pass the game "and with low ratings.  I was afraid that the low rating would scare away even those visitors who could install the application at the festival, and decided in the next version to add the game mode <b>No questions</b> and make it active by default if the device language is different from Russian.  In this mode, the game turned into the simplest board game in the spirit of ‚Äú <i>roll a cube, go forward N cells, who quickly came to the finish - won</i> ‚Äù, but there were fewer such reviews (others appeared, more on this below). <br><br><h4>  Online version </h4><br>  I started the work on the server part even before the offline version.  I was aware that <b>Laravel</b> is not the most suitable platform for the game server, but it seemed to me easier to make a prototype on it and fill the database of questions through the site.  The site had closed sections, where I could add questions, create an online game and manage its process (start the game after all the participants select the figures, confirm the answers to the questions, finish the game). <br><br><img src="https://habrastorage.org/webt/xm/a_/km/xma_kmnkugxskwczdricd4tukhm.png"><br><br>  Implemented API for connecting to the game, selecting shapes, throwing dice.  Tested via <b>Postman</b> and went to the client side. <br><br>  Poll server client every N seconds - of course, not the implementation, which should be proud of in 2018, but this simple mechanism worked as it should.  Made a saving system based on a small asset, added settings for the application, where you can select the game mode and download the actual database of questions from the server.  There are several lists - a basic list of questions (questions from the film that were present in the first version), a list of questions for the stationary version, and a list of questions for the online version.  A question can be in several lists at once, but usually only in one.  Also on the button you can download the current version of questions from the site.  Of the 4 game modes, 3 work on the basis of the offline version (with two different lists of questions + mode without questions), and the last one requires prior creation of the game by the presenter from the stand and cannot be started automatically.  Those who want to learn more about the principle of operation of the online version can read the following spoiler, where I have tried as much as possible (perhaps even unnecessarily) to describe everything in detail. <br><br><div class="spoiler">  <b class="spoiler_title">The principle of the online version</b> <div class="spoiler_text">  First, visitors (group from 1 to 4 people) come to the leader with their devices with installed applications.  In the settings, select the game mode <b>On the stand online</b> .  Now, when the game starts on the client, a window for entering the 4-digit code appears.  The host of the game from his device enters the site and in the closed section creates the game on the server, after which the unique code of the game is displayed to him.  Normally, this is the only code that players will need to enter (except for the name).  So, all the players enter the code of the game, and on the client displays the box for selecting a figure and entering the player's name.  At the same time, the server is polled (based on the game code) for the presence of occupied pieces ‚Äî for example, if player <b>Peter</b> chooses a monkey, the next server polls only the remaining three pieces will be available to <b>Judy</b> .  If <b>Judy</b> tries to choose a monkey after <b>Peter has</b> chosen her, but before the list of available figures is updated, she will be given an error and will need to try again. <br><br><img src="https://habrastorage.org/webt/-s/6b/sw/-s6bsw3blouym-8_1jpcmr-rggq.png"><br><br>  After selecting a piece, the players enter the standby mode, and a unique 7-digit identifier is returned to the client, which is not displayed anywhere, but is used to identify the requests sent by the player.  Here the server polling begins again, but not for the presence of free pieces, but for receiving detailed information about the game, including its status.  And this continues as long as the status <b>is pending</b> .  Also, the game information includes the field with the last update date.  This field is also transmitted in the request to the server so that it will give out full information only when the date changes, and in other cases sent only a notification that everything is still.  Finally, when all the players have chosen the pieces, the presenter from his device changes the game status to <b>active</b> . <br><br>  The next time the visitors update the information, the playing field opens.  Players move in the order of sequence (who chose the figure before), if a double fell on the dice - the turn remains with the current player.  There are two kinds of questions in the online version. <br><br><ul><li>  <i>The first type</i> - questions with input of the answer in the corresponding field, just as it happens in the stationary version.  When you click the <b>Answer</b> button, a request to the server occurs, where it is determined if the answer is correct.  Most often there may be several correct case-insensitive variants. </li><li>  <i>The second type</i> - questions that require confirmation.  There are no buttons here except for re-displaying the question.  It is necessary for the presenter himself to click <b>Calculate the answer</b> on the game page on the site after the players fulfill the relevant conditions from the puzzle and tell the facilitator about it.  After that, the turn becomes available to the next player in order of priority, and so on until someone reaches the center of the field.  Formally, after that the presenter will have to click the <b>Finish</b> button on the site, after which the game will disappear from the list of active, and attempts to reconnect from the client with this code will return a warning that the game is already finished. </li></ul><br><img src="https://habrastorage.org/webt/tz/t9/de/tzt9de9t0rttkeltatq0kcy7evq.png"><br><br>  The ability to reconnect to the game was also implemented.  If a visitor started an online game, and then, say, went to the menu, chose another mode, played the offline version and again decided to connect to the old game, or decided to continue the game on another device, he can do it with the help of the host .  First, he also enters the 4-digit game code, and then, instead of choosing a free piece, he needs to press the <b>Enter player code</b> button.  The 7-digit player code mentioned earlier is not shown openly in the game interface, but is visible to the moderator along with the names and figures of the players in the closed section on the site, so the player will be able to identify himself and enter this additional code.  If the game has already been started, then after entering the game code, the visitor will immediately be prompted to enter the code of an existing player.  This opportunity was tested, but was never used at the festival, therefore it remained redundant. <br></div></div><br><h4>  Sudden difficulties </h4><br>  The finalization of the final version of the application took more time than I thought, and the update went to the market only a few days before the convention.  And, of course, the <b>App Store</b> blocked it =) Of course, it was my fault - I assumed that the use of the film‚Äôs name might be incorrect, but it was used only in the context of a fan stand, and there were no problems with the first version of the application, so I relaxed .  At first, only the icon was blocked, after it was changed and re-checked ‚Äî the description was already in the market (both were present in the first version), and a notification was issued that the next application check would take more time.  In general, it seemed to me strange that the update was rejected, and the first version that had already been downloaded with the ‚Äúincorrect‚Äù description and the icon was left for download, but at least something.  I was in some panic - plus a couple of days of testing, and the application would no longer be relevant, and at the festival all visitors from <b>iOS are</b> cut off for the online version of my interactive.  Not knowing whether to wait for a joyful confirmation letter, on the night before the convention I frantically wrote down the online text version - albeit not very beautiful, but workable, with which the interactive users could pass through all the devices with access to the network. <br><br><img src="https://habrastorage.org/webt/ur/dq/f8/urdqf8npelmpcfjnxkgecb1ov3s.png"><br><br><h4>  First day of the festival </h4><br>  And now, the day of the convention.  By that time, I already knew that my interactive application was not the only one - it was still the main application from Megaphone for the global quest throughout Starcon.  I hope the presence of my application did not create any inconvenience for the organizers, but at least I still have not heard about it.  But the stationary version of the game was able to integrate into the main quest.  Its meaning was that visitors with installed Starcon applications walked around the stands, performed unique tasks, and when successfully executed received a special code for each stand (which was entered by stand participants to avoid distribution), and collecting codes from all stands participated in the raffle prizes  At the stand of <b>Jumanji,</b> I volunteered to answer for this quest.  As an assignment from our booth, I offered to go through an offline version of my game with fairly simple questions.  Those interested could download the application to their device and go at their own pace, then showing me a successful result, or, under my leadership, ‚Äú <i>play Jumanji with Alan Parrish</i> ‚Äù from our tablet.  This, of course, was not as canonical as the old laptop for past festivals, but with a tablet case painted under <b>Jumanji it</b> didn‚Äôt look so bad. <br><br><img src="https://habrastorage.org/webt/gl/oi/vz/gloivz0eca4va23ve4y_2vrzwis.png"><br><br>  The online game was a separate, independent interactive.  For it, visitors had to install the application (or use the online text version, but everyone chose the application).  The situation was aggravated by the fact that the new application for <b>iOS</b> was not confirmed, and only the first version could be found in the <b>App Store</b> , without the online game and even without the ability to download the current version of the questions.  In addition, on the first day of the festival, as usual, there were more visitors, including those who wanted to go through the official quest, therefore, as a result, only a couple of people with <b>Android</b> started an online quest on the first day, but abandoned at the first riddles.  I was a little upset, because quite a lot of energy was spent on the online version, it would be a shame not to test it at all.  But he hoped that the second day would be more successful in this regard - it happened. <br><br><h4>  Second day of the festival </h4><br>  The second day began with inspiring news - the <b>App Store</b> finally confirmed the new version of the application, also writing that in the event of such a need (in response, my letter with reasoning that I needed the application strictly on certain dates) I should write an additional notification on a quicker check (to be honest, since then I haven‚Äôt specified this point since there was no more such need).  On this day, it felt like there were fewer visitors who wanted to go through the global quest, and I often offered to go through the online version of my game.  The puzzles for the online game were more difficult, there was usually described some other stand from the festival, and the players had to understand which stand was in question, reach it and describe to the leader (or show a picture of this stand).  Teams from 1 to 4 players could participate, and even though everyone was playing for his piece, they needed to solve riddles together, as was the case in the series.  If necessary, the presenter could give a hint (if the visitor does not know the Universe of the stand at all from the puzzle, and I don‚Äôt want to go through all the options).  On this day there were more such volunteers, and almost everyone went through the quest entirely, to which I was unspeakably happy.  A total of successful players was about ten, less than I expected, but after the last day - an obvious increase.  I especially remember the girl who started the online game alone in the first part of the festival, but returned and questioned closer to the end, when we began to fear that she had abandoned the quest.  It turned out she just could not solve one of the riddles for a long time, but in the end she completed everything successfully!) <br>  I thought that as a special reward for completing the online version, I would give out one badge and only to those who came to the center of the field faster from the team, but there were not many participants, so everyone was awarded, and the fund of awards was replenished with self-made acrylic-painted magnets in the style of <b>Jumanji</b> .  I hope that the participants of the interactive were satisfied with both the prizes and the game itself. <br><br><img src="https://habrastorage.org/webt/qw/ef/e7/qwefe71igqblhvhazh3rknica2c.jpeg"><br><br><h4>  One of the lessons for the future </h4><br>  It would seem that it was time for me to understand that content in such projects is often more important than the form in which it is presented.  One of the mistakes that I made was to focus on the application to the detriment of the riddles.  Of course, I managed to write a number of riddles, but wrote them on the bus from the phone on the way to the <b>Expoforum</b> , which could affect both their originality and the number - with repeated passes of the game, they will almost certainly be repeated.  But interesting puzzles - this is what is expected from <b>Jumanji</b> .  In the future, you need to spend more time on such important things. <br><br><h4>  Total </h4><br>  Almost half a year has passed since the festival.  During this time, I no longer updated the game - I planned that it would be needed only during the days of the festival, and did not count on further support.  Oddly enough, I still continue to receive new reviews from <b>Google Play</b> .  And although most of them are in Arabic with a request to add Arabic (maybe I don‚Äôt know something about the etymology of the word <b>Jumanji</b> ? I found that it has rather African roots), reviews with questions about the online version continue to appear.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If there is time in the future, I would have realized a couple more things so that the game could function without my direct intervention, but I believe that it has already fulfilled its main purpose. </font><font style="vertical-align: inherit;">For me it was a unique experience - to watch how your quest passes with the help of your application is very nice. </font><font style="vertical-align: inherit;">I would like to thank all those who gave me this opportunity - the organizers of the festival, their team, and, of course, the visitors who participated in it. </font><font style="vertical-align: inherit;">I hope this is not my last festival and not the last interactive =) </font></font><br><br><img src="https://habrastorage.org/webt/yp/he/__/yphe__odftz-hamjcivza3m4n6e.jpeg"><br><br> <a href="https://habr.com/post/431832/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Technical interactives on fantastic conventions.</font></font></a>  <a href="https://habr.com/post/431832/">Part 1</a> </div><p>Source: <a href="https://habr.com/ru/post/431914/">https://habr.com/ru/post/431914/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431904/index.html">How we have unloaded HR specialists: infomats for issuing payment sheets</a></li>
<li><a href="../431906/index.html">PIFR - a method of generating a 3D mask, regardless of the angle of rotation of the face</a></li>
<li><a href="../431908/index.html">Setting up the Tinkoff Bank API. How is your intuition ....? Or a song about Oauth 2.0</a></li>
<li><a href="../431910/index.html">PSEFABRIC is a new approach to network management and automation. Step to the ideal</a></li>
<li><a href="../431912/index.html">In the US, the largest bot is not arrested: what does this mean for the digital community?</a></li>
<li><a href="../431918/index.html">Overview of CAD on the geometric core C3D</a></li>
<li><a href="../431920/index.html">Frontend Mix - talk about Node.js, scalability and native web</a></li>
<li><a href="../431922/index.html">What is Method Handles in Java?</a></li>
<li><a href="../431924/index.html">Warehouse management system using CQRS and Event Sourcing. Development Process</a></li>
<li><a href="../431928/index.html">Fatigue of disposable items. Or ode A.S. Makarenko</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>