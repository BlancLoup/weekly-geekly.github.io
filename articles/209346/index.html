<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I tested the IDE of the company "Multiklet"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As a development environment, Multiklet selected the Geany text editor with the main functions of an integrated development environment. To support th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I tested the IDE of the company "Multiklet"</h1><div class="post__text post__text-html js-mediator-article">  As a development environment, Multiklet selected the <a href="http://geany.org/">Geany</a> text editor with the main functions of an integrated development environment.  To support the tools needed for debugging by the developers of the Multiklet company, the <a href="http://www.multiclet.com/">MC-DBG</a> plugin was written, testing the capabilities of which will be discussed in this article. <br><a name="habracut"></a><br>  We will start by installing the proposed development environment in the Windows operating system, for which, according to the documentation, the following steps should be performed: <br><br><ol><li>  Download <a href="">geany-1.23.1_nogtk_setup.exe</a> and install it. </li><li>  Download <a href="">GTK + 2.24 all-in-one bundle</a> and unpack it into the folder with Geany. </li><li>  Install <a href="">MSYS 1.0.11</a> and add the path to the make.exe utility to the Path variable. </li><li>  Download the plugin from the <a href="http://multiclet.com/">Multiclet</a> website and unpack it into the folder with Geany. </li><li>  Launch Geany. </li><li>  In the tab "Tools / Module Manager" activate the module MC-DBG. </li></ol><br><br>  After activating the MC-DBG module, the MC-Files tab will appear in the side window, the MC-DBG tab in the message window, additional menu items in the Project tab of the main menu, as shown in the figure below. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/311/773/3bf/3117733bfd4dcf755d9dd276bd125b31.jpg" alt="image"><br><br>  Before proceeding with direct testing of the plugin, consider its main functions: <br><ol><li>  Project configuration. </li><li>  Generate build file and build project. </li><li>  Navigating the list of errors encountered during the build project. </li><li>  Execution of the assembled project on the functional model. </li><li>  Debugging a project by paragraphs. </li><li>  Setting breakpoints in program memory. </li><li>  Forcing the address of the next executable paragraph. </li><li>  Reading data from memory and registers in the process of debugging. </li><li>  Writing values ‚Äã‚Äãto the data memory and registers during debugging. </li></ol><br><br>  It should be noted that the proposed functionality is not very wide, however, it implements all the tools I use most often, so I find the provided set is quite sufficient. <br><br>  Now, we are ready to start the actual testing.  Let's write on the assembler the simplest echo server, working through Uart.  As the client side, we will use tcp_client.exe from the standard set of the developer of the company Multiklet. <br>  To begin, create a new EXO.s file using standard Geany tools.  We write in it the server echo code, written on the basis of the example uart0_inv.asm, available in the archive.  The code is below: <br><br><pre><code class="bash hljs">.include <span class="hljs-string"><span class="hljs-string">"HDL50001_pcf.inc"</span></span> .<span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> Get_byte 2 .text start: jmp initUART0 getl 0x00000300 wrl @1, GPIOB_BPS getl 0x00000104 wrl @1, UART0_BDR complete ;;;;; Configurate Uart ;;;;; initUART0: jmp MainLoop getl 0x0000000A wrl @1, UART0_DATA getl 0x00000003 wrl @1, UART0_CR complete ;RXD handler Rxd_int: jmp buf_TXD rdl UART0_DATA setl <span class="hljs-comment"><span class="hljs-comment">#Get_byte, @1 complete ;test FIFO on full buf_TXD: rdl UART0_ST getl 0x00000200 and @2 jne @1, buf_TXD je @2, Send_byte complete ;Send inverse byte Send_byte: jmp MainLoop getl #Get_byte wrl @1, UART0_DATA complete ;;Loop MainLoop: rdl UART0_ST getl 0x00000001 and @2,@1 je @1, MainLoop jne @2, Rxd_int complete</span></span></code> </pre> <br><br>  Create a new project EXOProject.  This action can be performed either by calling the context menu of the list of current projects and selecting the ‚ÄúNew‚Äù item, or through the main menu ‚ÄúProject / New MC-Project‚Äù.  A dialog box opens in which you want to specify the name of the new project file.  After the project is successfully created, its name will appear in the MC-Files window. <br><br>  Add the EXO.s file to our project using the ‚ÄúAdd File‚Äù button of the project context menu in the MC-Files window.  The result is: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/892/383/54b/89238354b2a829f5ccc6b1236ad029a3.jpg" alt="image"><br><br>  Then you need to customize the project.  Call the "Project / MC-Project Properties" and add to the "Files / Include directories" folder with HDL50001_pcf.inc.  I have this C: \ MultiClet \ SDK \ include \ MCp0411100101.  I left the rest of the settings by default. <br><br>  Now you can try to build a project.  To do this, click the Make button: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/38e/a83/afa/38ea83afa4440cda3d18183b3f02c511.jpg" alt="image"><br><br>  Errors in the compilation process: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9e9/a54/37b/9e9a5437be0505166f9bdd5072bf819d.jpg" alt="image"><br>  <i>In line 34, the and command must have 2 arguments.</i>  <i>Replace "and @ 2" with "and @ 1, @ 2"</i> <br><br>  When all errors are fixed, re-build the project: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/79f/8ff/c19/79f8ffc19669af38fb7ce13990957e17.jpg" alt="image"><br><br>  Now that the build is successful, we can start debugging.  We execute the program on paragraphs with the Step button.  The first command in the next paragraph is highlighted in green. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/52e/52c/431/52e52c4314953195a9de728a51094763.jpg" alt="image"><br><br>  We see that the program is fixated on the MainLoop section until new data arrives on the Uart.  Run tcp_client.exe and send via Uart 0x1. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/260/076/6e5/2600766e523641e33c5285e52992f89e.jpg" alt="image"><br><br>  We return to Geany.  Put a breakpoint on the first command of the Send_byte paragraph and click Continue.  Program execution is terminated before the Send_byte paragraph.  The second register contains the Uart value.  In order to get its value, enter # 2 in the left field of Watches (# denotes a register, just an address such as 2 or 0x2 is entered from the DM for reading). <br>  <b>Important note.</b> <br><br>  The mechanism of the breakpoints has an important feature due to the nuances of the multicellular architecture.  It consists in the fact that if a breakpoint is set on the first command in a paragraph, the program will be suspended twice (before and after the execution of the paragraph).  If a breakpoint is not set on the first command in a paragraph, the program will be suspended once after the execution of this paragraph. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90c/e8d/5e5/90ce8d5e533479c81b640e6df995b060.jpg" alt="image"><br><br>  Now we write the number 5 in the second register by means of the debugger.  To do this, replace the number 1 with the number 5 in the right field and press the Set button (the left arrow is drawn on it). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e8/f21/79d/3e8f2179d588ef9cae96cebcf0ae4644.jpg" alt="image"><br><br>  Click Continue again (the program will continue).  In tcp_client.exe we get a natural result. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0f1/320/edb/0f1320edb155e140683eac420aa4b696.jpg" alt="image"><br><br>  Stop debugging with the Stop button. <br><br><h4>  Instead of conclusion </h4><br>  Thus, despite the simplicity of implementation, the proposed functionality is quite enough to fully debug even large and complex projects.  The updated functionality of the toolkit allows you to significantly increase the speed of development by providing an intuitive and user-friendly interface.  You can talk a lot about the advantages of one IDE over another, but all of them, by and large, provide the same features.  The question of their choice is a matter of habit and taste.  In the future, I would like to wish Multiclet to develop the possibility of debugging programs through JTAG on hardware, and not only on the functional model. </div><p>Source: <a href="https://habr.com/ru/post/209346/">https://habr.com/ru/post/209346/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209328/index.html">How to make social "likes" useful in the work of a programmer?</a></li>
<li><a href="../209330/index.html">Microsoft extended support for MSE Windows XP</a></li>
<li><a href="../209332/index.html">Audi Free Parking Prediction System</a></li>
<li><a href="../209336/index.html">The main thing is trust</a></li>
<li><a href="../209342/index.html">Role-playing technology. Part 1. Technology and magic</a></li>
<li><a href="../209348/index.html">Recovering LSI RAID Controller firmware</a></li>
<li><a href="../209350/index.html">Components by TJHolowaychuk</a></li>
<li><a href="../209352/index.html">Scaling is simple. Part Two - Caching</a></li>
<li><a href="../209354/index.html">Components. Example</a></li>
<li><a href="../209356/index.html">How to force the process to use the new DNS server address from the updated resolv.conf without restarting the process itself</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>