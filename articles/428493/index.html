<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Git subrepo</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The git-subrepo project has been around for a long time, but there is an unfair mention of it. The author of git-subrepo is Ingy d√∂t Net . 



 If you...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Git subrepo</h1><div class="post__text post__text-html js-mediator-article"><p>  The <a href="https://github.com/ingydotnet/git-subrepo"><b>git-subrepo project</b></a> has been <a href="https://github.com/ingydotnet/git-subrepo"><b>around for</b></a> a long time, but there is an unfair mention of it.  The author of <b>git-subrepo</b> is <a href="http://resume.ingy.net/"><b>Ingy d√∂t Net</b></a> . <br></p><br><p>  If you look at the history of the komits of the master branch of the project, it may seem that the project stopped developing 2 years ago.  However, work on the project is underway and I would like to hope that version <a href=""><b>0.4.0</b></a> will be released soon. <br></p><br><p>  An important feature of this tool is that on the user side there is no need to install <b>git-subrepo</b> until the user decides to do commit in the upstream-repository of subprojects.  In addition, the user receives a fully prepared and customized source tree at the time of copying the main repository using the standard <em><b>git-clone (1)</b></em> command. <br></p><a name="habracut"></a><br><p>  When choosing the means of supporting submodules / subtrees / subprojects of the main container repository, the developer first of all determines the range of possibilities that a particular mechanism provides and answers the following questions: <br></p><br><ul><li>  whether it is necessary to store the full history of the subproject in the main repository or enough squashed commits; </li><li>  whether the ability to deliver changes from the subproject to the upstream repository of the subtree is needed; </li><li>  is there a need to connect fixed tags to the upstream repository of the subproject or is it enough to connect the branches; </li><li>  whether it will be necessary in the future to delete both the subprojects themselves and, which have become unnecessary, a part of the history of these subprojects; </li><li>  whether the user will have to take any actions to manually configure the subprojects after cloning the repository of the main project; </li><li>  how time-consuming will be the question of analyzing the history of connecting subprojects and specific audits, from which the subproject originates; </li><li>  how a particular tool will affect the configuration management policy (Source Configuration Management) and how much this tool will complicate the daily work of engineers. </li></ul><br><p>  Of course, this list of questions cannot reflect the full completeness of the input parameters necessary for the correct choice, but for a preliminary review of existing tools, it is quite sufficient and, speaking of the <b>git-subrepo project</b> , we urge the reader to consider this project from these positions. <br></p><br><h2>  Git-subrepo installation </h2><br><p>  The <b>git-subrepo package</b> , on the developer‚Äôs side, can be installed both locally, in its home directory, and at the system level. <br></p><br><p>  In the first case, it is enough to clone the <b>git-subrepo repository</b> into the desired directory, for example, <b>~ / bin</b> : <br></p><br><pre><code class="bash hljs">bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/bin bash-4.4$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/ingydotnet/git-subrepo.git</code> </pre> <br><p>  and set up environment variables <br></p><br><pre> <code class="bash hljs">bash-4.4$ vim subrepo-env.sh <span class="hljs-comment"><span class="hljs-comment">#!/bin/sh export GIT_SUBREPO_ROOT="/home/username/bin/git-subrepo" export PATH="/home/username/bin/git-subrepo/lib:$PATH" export MANPATH="/home/username/bin/git-subrepo/man:$MANPATH" :wq bash-4.4$ source ./subrepo-env.sh</span></span></code> </pre><br><p>  If you look at the variables defined in the <b>git-subrepo Makefile</b> : <br></p><br><pre> <code class="hljs mel"># Install variables: PREFIX ?= /usr/local INSTALL_LIB ?= $(DESTDIR)$(shell git --<span class="hljs-keyword"><span class="hljs-keyword">exec</span></span>-path) INSTALL_EXT ?= $(INSTALL_LIB)/$(NAME).d INSTALL_MAN1 ?= $(DESTDIR)$(PREFIX)/share/man/man1</code> </pre><br><p>  it is easy to find out that at the system level, <b>git-subrepo is</b> installed in the directory where <b>Git</b> is located: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git --<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>-path /usr/libexec/git-core bash-4.4$</code> </pre><br><p>  Thus, the command for installing <b>git-subrepo</b> may look, for example, as follows: <br></p><br><pre> <code class="bash hljs">bash-4.4$ make PREFIX=/usr install</code> </pre><br><p>  The presence of the <b>DESTDIR</b> variable allows <b>us</b> to make a package for any Linux distribution without any additional effort (of course, if we are not in a cross-environment), which can be useful for DevOps engineers. <br></p><br><p>  Install <b>git-subrepo</b> on behalf of the superuser: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> git-subrepo/ bash-4.4$ make PREFIX=/usr install install -C -d -m 0755 /usr/libexec/git-core/ install -C -m 0755 lib/git-subrepo /usr/libexec/git-core/ install -C -d -m 0755 /usr/libexec/git-core/git-subrepo.d/ install -C -m 0755 lib/git-subrepo.d/<span class="hljs-built_in"><span class="hljs-built_in">help</span></span>-functions.bash lib/git-subrepo.d/bash+.bash /usr/libexec/git-core/git-subrepo.d/ install -C -d -m 0755 /usr/share/man/man1/ install -C -m 0644 man/man1/git-subrepo.1 /usr/share/man/man1/ bash-4.4$</code> </pre><br><p>  To analyze the capabilities of <b>git-subrepo,</b> we need a simple test environment, where we can reproduce standard scripts. <br></p><br><h3>  Test environment </h3><br><p>  We will create three directories <b>owner</b> , <b>remote</b> , <b>user</b> , in which we will place the upstream and local repositories of the developer and user. <br></p><br><pre> <code class="bash hljs">bash-4.4$ vim _init.sh <span class="hljs-comment"><span class="hljs-comment">#!/bin/sh CWD=`pwd` mkdir remote owner user cd remote git init --bare build-system.git git init --bare platform.git cd ../owner git clone $CWD/remote/build-system.git git clone $CWD/remote/platform.git cd build-system echo -e "\n[master] build-system 1.0.0\n" &gt;README git add README git commit -m "init build-system master 1.0.0" git push cd ../platform echo -e "\n[master] platform 1.0.0\n" &gt;README git add README git commit -m "init platform master 1.0.0" git push cd ../../user git clone $CWD/remote/build-system.git git clone $CWD/remote/platform.git cd $CWD :wq bash-4.4$ bash-4.4$ ./_init.sh bash-4.4$</span></span></code> </pre><br><br><p>  Here, <br></p><br><table><tbody><tr><td>  <b><nobr>owner</nobr></b> </td><td>  - </td><td>  working directory of the author of projects; </td></tr><tr><td>  <b><nobr>remote</nobr></b> </td><td>  - </td><td>  the directory representing the project author's server, where upstream-repositories of the main project <b>platform.git</b> and the subproject <b>build-system.git are located</b> ; </td></tr><tr><td>  <b><nobr>user</nobr></b> </td><td>  - </td><td>  working directory of the user or member of the developer team </td></tr></tbody></table><br><p>  The author of the project and users have their own copies of upstream-repositories on their machines, presented in our example in the <b>owner</b> and <b>user</b> directories, respectively. <br></p><br><p>  The author‚Äôs task is to include the <b>builld-system</b> subproject in the main <b>platform</b> tree to provide the following possibilities to users and project participants: <br></p><br><ul><li>  clone the main repository with the <b>build-system</b> subproject included in it and at the same time do not worry about setting up versions or revisions.  That is, each branch of the <b>platform</b> repository must correspond to a specific revision of a specific <b>build-system</b> repository branch and the user must receive the configured source tree in one <em><b>git-clone (1)</b></em> operation, without any additional actions. </li><li>  deliver your changes to the upstream project repositories, both to the main and auxiliary ones. </li><li>  receive changes made by other project participants or users, of course, if they have the appropriate rights. </li></ul><br><p>  Consider the actions of the author, which he must carry out to implement these requirements. <br></p><br><h3>  Subproject connection </h3><br><p>  To connect a new subtree, use the <b>git subrepo clone</b> command, which is similar in its purpose to the <em><b>git-clone (1)</b></em> command.  The required parameter of the command is the <b>URL of the</b> remote repository.  You can also specify the directory in which the subproject will be located and the branch of the remote repository.  We will work with master branches, therefore, in our example, we omit unnecessary command parameters. <br></p><br><p>  So, the author of the project can connect the <b>build-system</b> subproject using his <b>git subrepo clone ../../remote/build-system.git/ build-system command</b> : <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> owner/platform/ bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ../../remote/build-system.git/ build-system Subrepo <span class="hljs-string"><span class="hljs-string">'../../remote/build-system.git'</span></span> (master) cloned into <span class="hljs-string"><span class="hljs-string">'build-system'</span></span>. bash-4.4$</code> </pre><br><p>  Consider the changes that occurred in the local <b>platform</b> repository: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git status On branch master Your branch is ahead of <span class="hljs-string"><span class="hljs-string">'origin/master'</span></span> by 1 commit. (use <span class="hljs-string"><span class="hljs-string">"git push"</span></span> to publish your <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> commits) nothing to commit, working tree clean bash-4.4$ bash-4.4$ bash-4.4$ git subrepo status 1 subrepo: Git subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span>: Remote URL: ../../remote/build-system.git Upstream Ref: b2f5079 Tracking Branch: master Pulled Commit: b2f5079 Pull Parent: b5e76a7 bash-4.4$</code> </pre><br><p>  The history of the <b>build-system</b> subproject is not supplied to the main tree, we have only one squashed committee, which is accompanied by reference information.  This information comes under version control in the <b>./build-system/.gitrepo/config</b> file: <br></p><br><pre> <code class="hljs pgsql">[subrepo] remote = ../../remote/build-<span class="hljs-keyword"><span class="hljs-keyword">system</span></span>.git branch = master <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> = b2f507918f2821cb7dd90c33223ed5cc3c9922a2 parent = b5e76a713f895565b06ee3ccfa29f19131ba06dd <span class="hljs-keyword"><span class="hljs-keyword">method</span></span> = merge cmdver = <span class="hljs-number"><span class="hljs-number">0.4</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre><br><p>  Information about subprojects can be obtained using the <b>git subrepo config command</b> , for example, you can learn the revision of the <b>remote / build-system.git</b> upstream project that just came to the main repository using the command: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git subrepo config build-system commit Subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span> option <span class="hljs-string"><span class="hljs-string">'commit'</span></span> has value <span class="hljs-string"><span class="hljs-string">'b2f507918f2821cb7dd90c33223ed5cc3c9922a2'</span></span>. bash-4.4$</code> </pre><br><blockquote>  <em>It should be mentioned that the original <b>git-subrepo package</b> stores information about the subprojects not in the <b>.gitrepo / config</b> file, but in the <b>.gitrepo</b> file.</em>  <em>If you prefer to store information in a hidden subdirectory, you can select the <b>git-subrepo-0.3.2 branch</b> or the <b>git-subrepo-0.4.1</b> <a href="https://github.com/radix-platform/git-subrepo">branch of the <b>git-subrepo</b> child repository</a> .</em> <br></blockquote><br><p>  So, we got the latest version of the <b>remote / build-system.git</b> upstream-repository master branch and placed it in the <b>build-system</b> subdirectory of the main project <b>platform</b> . <br></p><br><p>  To deliver these changes to the <b>remote / platform.git</b> upstream repository, the author needs to run the <b>git push</b> command: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git push Enumerating objects: 7, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Counting objects: 100% (7/7), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Delta compression using up to 4 threads Compressing objects: 100% (4/4), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Writing objects: 100% (6/6), 849 bytes | 849.00 KiB/s, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Total 6 (delta 0), reused 0 (delta 0) To /home/prog/0.4.1/remote/platform.git &lt;font color=<span class="hljs-string"><span class="hljs-string">"#8b0000"</span></span>&gt;b5e76a7..6b831e4&lt;/font&gt; master -&gt; master bash-4.4$</code> </pre><br><p>  More information about the <b>git subrepo commands</b> can be obtained from the <a href="https://github.com/ingydotnet/git-subrepo">ReadMe.pod</a> file or on the command line. <br></p><br><pre> <code class="bash hljs">bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> &lt;<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>&gt;</code> </pre><br><p>  eg: <br></p><br><pre> <code class="bash hljs">bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span></code> </pre><br><p>  Now let's consider everything that happens on the part of the user. <br></p><br><br><h3>  Getting the code by users </h3><br><p>  At the moment, when the user has not yet received updates to the upstream repository <b>platform.git</b> , his copy contains one <b>README file</b> <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> user/platform/ bash-4.4$ ls README bash-4.4$</code> </pre><br><p>  containing one line: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ cat README [master] platform 1.0.0 bash-4.4$</code> </pre><br><p>  After removing changes to the upstream repository <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git pull remote: Enumerating objects: 7, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Counting objects: 100% (7/7), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Compressing objects: 100% (4/4), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Total 6 (delta 0), reused 0 (delta 0) Unpacking objects: 100% (6/6), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. From /home/prog/0.4.1/remote/platform b5e76a7..6b831e4 master -&gt; origin/master Updating &lt;font color=<span class="hljs-string"><span class="hljs-string">"#8b0000"</span></span>&gt;b5e76a7..6b831e4&lt;/font&gt; Fast-forward build-system/.gitrepo/config | 12 ++++++++++++ build-system/README | 3 +++ 2 files changed, 15 insertions(+) create mode 100644 build-system/.gitrepo/config create mode 100644 build-system/README bash-4.4$</code> </pre><br><p>  the user will have at his disposal the code of the <b>build-system</b> subproject of exactly that revision, which was defined by the author of the project.  The user can at any time refine the current revision using the <b>config</b> command: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git subrepo config build-system/ commit Subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span> option <span class="hljs-string"><span class="hljs-string">'commit'</span></span> has value <span class="hljs-string"><span class="hljs-string">'b2f507918f2821cb7dd90c33223ed5cc3c9922a2'</span></span>. bash-4.4$</code> </pre><br><p>  It is noteworthy that the user does not need to make additional settings and he can rely on the fact that the author of the project delivered to him exactly that <b>build-system</b> revision, which is necessary for the current version of the <b>platform</b> to work. <br></p><br><p>  This is exactly what the author of the project wanted. <br></p><br><h3>  Delivery of changes to the upstream project </h3><br><p>  Suppose now that our user is a member of the project and is allowed to deliver changes not only to the <b>remote / platform.git</b> upstream repository, but also to the upstream repository of the <b>remote / build-system.git subproject</b> . <br></p><br><p>  Then, if the user makes a change: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> build-system/ bash-4.4$ vim README bash-4.4$ cat README [master] build-system 1.0.1 bash-4.4$ bash-4.4$ git commit -a -m <span class="hljs-string"><span class="hljs-string">"update BS version to 1.0.1"</span></span> [master d30b001] update BS version to 1.0.1 1 file changed, 1 insertion(+), 1 deletion(-) bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> .. bash-4.4$ git <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> commit d30b001286b08708f5c30c1f5346a90e4339f969 (HEAD -&gt; master) Author: user &lt;___@_____&gt; Date: Tue Oct 30 10:49:32 2018 +0300 update BS version to 1.0.1 . . . bash-4.4$</code> </pre><br><p>  he can put them in the upstream repository as follows: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git subrepo push build-system/ Subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span> pushed to <span class="hljs-string"><span class="hljs-string">'../../remote/build-system.git'</span></span> (master). bash-4.4$</code> </pre><br><div class="spoiler">  <b class="spoiler_title">It is important to note here that ...</b> <div class="spoiler_text"><p>  Since the configuration files of the <b>subgroups .gitrepo / config</b> are kept under version control, the user needs to send status changes of the subproject to the upstream repository of the main project <b>remote / platform.git</b> . <br></p><br><p>  That is, the user should not forget about checking the status of the local repository and execute the <em><b>git-push (1)</b></em> command in time. <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git status On branch master Your branch is ahead of <span class="hljs-string"><span class="hljs-string">'origin/master'</span></span> by 2 commits. (use <span class="hljs-string"><span class="hljs-string">"git push"</span></span> to publish your <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> commits) nothing to commit, working tree clean bash-4.4$ bash-4.4$ git push Enumerating objects: 14, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Counting objects: 100% (14/14), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Delta compression using up to 4 threads Compressing objects: 100% (7/7), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Writing objects: 100% (9/9), 992 bytes | 992.00 KiB/s, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Total 9 (delta 1), reused 0 (delta 0) To /home/prog/0.4.1/remote/platform.git d00be9f..deccb66 master -&gt; master bash-4.4$</code> </pre><br><p>  Otherwise, the subsequent removal of changes upstream-repository, he will get a merge-conflict. <br></p><br><p>  Of course, there is nothing unusual here, however, after executing the <b>git subrepo push ...</b> command, it is easy to forget about the state of the local copy of the main repository. <br></p><br></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Direct work with the upstream repository </h3><br><p>  Now consider what happened in the <b>remote / build-system.git</b> upstream repository <b>.</b> <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> owner/build-system/ bash-4.4$ bash-4.4$ git pull remote: Enumerating objects: 5, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Counting objects: 100% (5/5), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Total 3 (delta 0), reused 0 (delta 0) Unpacking objects: 100% (3/3), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. From /home/prog/0.4.1/remote/build-system b2f5079..d229920 master -&gt; origin/master Updating b2f5079..d229920 Fast-forward README | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-) bash-4.4$ bash-4.4$ git <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> commit d229920c7de34405bc7b8d47f36d420987687908 (HEAD -&gt; master, origin/master) Author: user &lt;___@_____&gt; Date: Tue Oct 30 10:49:32 2018 +0300 update BS version to 1.0.1 commit b2f507918f2821cb7dd90c33223ed5cc3c9922a2 Author: user &lt;___@_____&gt; Date: Tue Oct 30 10:05:30 2018 +0300 init build-system master 1.0.0 bash-4.4$</code> </pre><br><p>  That is, the author of the project received the changes made by the project participant. <br></p><br><p>  Of course, the author can make changes directly to the upstream-repository of the <b>build-system</b> project: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> owner/build-system/ bash-4.4$ bash-4.4$ vim README bash-4.4$ cat README [master] build-system 1.0.2 bash-4.4$ git commit -a -m <span class="hljs-string"><span class="hljs-string">"update build-system version to 1.0.2"</span></span> [master 8255f59] update build-system version to 1.0.2 1 file changed, 1 insertion(+), 1 deletion(-) bash-4.4$ git push Enumerating objects: 5, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Counting objects: 100% (5/5), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Writing objects: 100% (3/3), 281 bytes | 281.00 KiB/s, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Total 3 (delta 0), reused 0 (delta 0) To /home/prog/0.4.1/remote/build-system.git d229920..8255f59 master -&gt; master bash-4.4$</code> </pre><br><p>  And all participants, as well as users of the main project, can receive these changes using the <b>git subrepo pull command</b> <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> owner/platform/ bash-4.4$ bash-4.4$ git subrepo pull build-system/ Subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span> pulled from <span class="hljs-string"><span class="hljs-string">'../../remote/build-system.git'</span></span> (master). bash-4.4$ git status On branch master Your branch is ahead of <span class="hljs-string"><span class="hljs-string">'origin/master'</span></span> by 1 commit. (use <span class="hljs-string"><span class="hljs-string">"git push"</span></span> to publish your <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> commits) nothing to commit, working tree clean bash-4.4$ git push Enumerating objects: 11, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Counting objects: 100% (11/11), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Delta compression using up to 4 threads Compressing objects: 100% (4/4), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Writing objects: 100% (6/6), 670 bytes | 670.00 KiB/s, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Total 6 (delta 1), reused 0 (delta 0) To /home/prog/0.4.1/remote/platform.git 6b831e4..b6f4a7b master -&gt; master bash-4.4$</code> </pre><br><h2>  findings </h2><br><p>  If the developer does not need to keep the history of subprojects in the main repository and, when delivering the code, he operates with branches, rather than fixed tags, then <b>git-subrepo</b> is quite suitable for organizing daily work. <br></p><br><p>  Conventionally, among the disadvantages of <b>git-subrepo</b> is the fact that <b>git subrepo clone</b> operation is possible only in relation to the subproject branches.  In other words, the user cannot connect a subproject referring to his fixed tag or a specific revision, that is, commands like <br></p><br><pre> <code class="bash hljs">bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ../../remote/build-system.git build-system -t 1.0.1 bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ../../remote/build-system.git build-system 7f5d1113eb0bc6</code> </pre><br><p>  not valid. <br></p><br><h3>  LITERATURE: </h3><br><ul><li>  <a href="https://git-scm.com/book/en/v1/Git-Tools-Subtree-Merging">Git - Subtree Merging</a> </li><li>  <a href="https://medium.com/%40porteneuve/mastering-git-subtrees-943d29a798ec">Mastering Git subtrees</a> </li><li>  <a href="https://medium.com/%40porteneuve/mastering-git-submodules-34c65e940407">Mastering Git submodules</a> </li><li>  <a href="https://github.com/ingydotnet/git-subrepo">Git subrepo</a> </li><li>  <a href="https://habr.com/company/relex/blog/258505/">Branch model and git module management for a large project</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/428493/">https://habr.com/ru/post/428493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428481/index.html">Contracts in digital: a brief guide for non-lawyers</a></li>
<li><a href="../428485/index.html">People are most annoyed by irrelevant advertising and the use of gadgets in public</a></li>
<li><a href="../428487/index.html">How good Ruby on Rails is and how it speeds up development</a></li>
<li><a href="../428489/index.html">Subtleties and thick icons. Sketch pro, rendering features and game with thick lines</a></li>
<li><a href="../428491/index.html">Proactive Oracle database performance optimization</a></li>
<li><a href="../428495/index.html">How I did a football simulator for 13 years</a></li>
<li><a href="../428497/index.html">Customizable Noolite SUF-1-300 wireless dimmer</a></li>
<li><a href="../428499/index.html">Creepy blue giants can reveal the secrets of the evolution of stars</a></li>
<li><a href="../428501/index.html">DartUP: the first Russian-language conference on Dart and Flutter on December 1 in St. Petersburg</a></li>
<li><a href="../428503/index.html">Machine Learning Algorithm Brief Review of the Support Vectors Vectors (SVM)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>