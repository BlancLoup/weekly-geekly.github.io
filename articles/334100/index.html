<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Add GPRS to your home GSM network</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The third article from the cycle will show how to investigate the work of packet data in GSM networks using Osmocom. In other words, we will distribut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Add GPRS to your home GSM network</h1><div class="post__text post__text-html js-mediator-article">  The third article from the cycle will show how to investigate the work of packet data in GSM networks using Osmocom.  In other words, we will distribute the Internet from a laptop to subscribers of our home network based on two osmocombb-compatible phones and analyze TCP / IP traffic. <br><br><img src="https://habrastorage.org/web/d52/6ce/22e/d526ce22e5c2435bbfd0ae5ba1f91c9f.jpg"><br><a name="habracut"></a><br>  <b>Cycle articles:</b> <br><br>  <a href="https://habrahabr.ru/company/pentestit/blog/331406/">We start GSM network at home</a> <br>  <a href="https://habrahabr.ru/company/pentestit/blog/332778/">Analysis of GSM network traffic in Wireshark</a> <br>  <a href="https://habrahabr.ru/company/pentestit/blog/334100/">Add GPRS to your home GSM network</a> <br>  <a href="https://habrahabr.ru/company/pentestit/blog/334708/">Practical examples of attacks inside the GSM network</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Training </h2><br>  To work you need a network, the creation of which is described <a href="https://habrahabr.ru/company/pentestit/blog/331406/">here</a> .  Also, I recommend to get acquainted with the <a href="https://habrahabr.ru/company/pentestit/blog/332778/">second</a> article of the cycle. <br><br>  For those who have not yet begun to build the infrastructure for the home network, I suggest not to build all the components of osmocom manually, but try installing the ready-made <a href="https://osmocom.org/projects/cellular-infrastructure/wiki/Nightly_Builds">nightly builds packages</a> .  They are available for Debian and Ubuntu distributions.  Repositories are listed by the link above.  Theoretically, the installation of this method should be easier and without any problems, but I myself did not try. <br><br><h2>  Theory </h2><br>  First, let's decide what we need to change in our home network in order to add GPRS support. <br><br>  The whole process is described in the <a href="https://osmocom.org/projects/cellular-infrastructure/wiki/OpenBSC_GPRS">instructions</a> on the official website, which is quite relevant. <br><br>  Under the link you will find the following scheme: <br><br><img src="https://habrastorage.org/web/bc0/692/627/bc0692627e904b64bf23bade2674cc4d.png"><br><br>  Let us analyze in order. <br><br>  <b>PDCH</b> is Packet Data Channel.  For transmission of packet data, a special type of logical channel must be used.  So far, we have used TCH / H to serve voice calls.  We will need to replace TCH / H with PDCH.  We will lose the ability to call, but we do not need to buy more phones. <br><br>  <b>nanoBTS</b> - we will use OsmoBTS in conjunction with two osmocombb-compatible phones to create a base station, as we did before. <br><br>  <b>osmo-nitb</b> - This will require a minimum configuration to activate the GPRS service, as well as have to rebuild osmo-nitb with osmo-sgsn support. <br><br>  <b>osmo-sgsn</b> - Serving GPRS Support Node.  In fact, the core of the GPRS network, analogue MSC for voice calls. <br>  I copy the list of functions from <a href="https://ru.wikipedia.org/wiki/SGSN">Wikipedia</a> : <br><br><ul><li>  control the delivery of data packets to users; </li><li>  interaction with the register of own subscribers of the HLR network or authentication (verification of permission for a request by users of the service);  the mechanism coincides with the authentication mechanism in GSM; </li><li>  monitoring online users; </li><li>  GSM frame conversion into formats used by the TCP / IP protocols of the global computer network Internet; </li><li>  registration or "attachment" (attachment) of subscribers, again "appeared" in the network coverage area; </li><li>  data encryption;  The encryption algorithm in GPRS technology (GEA1, GEA2, GEA3) is different from the encryption algorithms in GSM (A5 / 1, A5 / 2, A5 / 3), but developed on the basis of them; </li><li>  collection of incoming billing information, sending it to the main office, etc. </li></ul><br>  <b>ggsn</b> - GPRS Gateway Support Node.  This node is located on the border between the GPRS Core network (GTP) and the Internet.  It is easy to assemble and connect to the rest of the osmocom modules. <br><br>  In this diagram, another <b>PCU</b> component <b>is</b> missing <b>- Packet Control Unit</b> . <br>  The PCU performs some BSC functions, but only for packet data.  To implement it, osmo-pcu will be used. <br><br>  In the diagram below, the PCU is present: <br><img src="https://habrastorage.org/web/30f/a96/57d/30fa9657dc034221ae9b6dd4febceb5c.jpg"><br><h2>  Modifying the network </h2><br>  I remind you that my configuration files are stored in /root/.osmocom.  As in the first article, they will be attached at the end.  Before using the configuration files, you need to enter the correct IP addresses instead of VIRTUAL_IP and BASIC_IP, as well as GSM900 or DCS1800 instead of the RANGE and the ARFCN number instead of the CHANNEL. <br><br>  It is assumed that all components will work on the same device, so we will need to create a virtual interface for the network adapter.  The IP addresses for GGSN and SGSN must be different.  My home network is 192.168.1.0/24, the IP address of my main Wi-Fi interface is 192.168.1.37 and the IP address 192.168.1.250 is not busy, so I set it as virtual. <br><br><pre><code class="bash hljs">ifconfig wlan0:0 192.168.1.250</code> </pre> <br>  Also, you will need to allow transit packets and configure NAT, since we will ‚Äúdistribute‚Äù the Internet to all network subscribers.  (The network 192.168.0.0/24 does not need to be changed, it will be assigned to the tun0 interface, which will appear when you start all the components of the GPRS infrastructure). <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 1 &gt; /proc/sys/net/ipv4/ip_forward iptables -A POSTROUTING -s 192.168.0.0/24 -t nat -o wlan0 -j MASQUERADE</code> </pre> <br>  It is clear that such a configuration will not survive the reboot, but there are ways that are easily searched in a search engine to fix these settings. <br><br>  <b>Install osmo-pcu</b> <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git://git.osmocom.org/osmo-pcu.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> osmo-pcu autoreconf -i ./configure make make install <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> .. ldconfig osmo-pcu -h</code> </pre> <br>  Configuring osmo-nitb <br><br>  Run osmo-nitb, connect to VTY and execute commands. <br><br><pre> <code class="bash hljs">telnet 127.0.0.1 4242 en conf t network bts 0 gprs mode gprs gprs routing area 0 gprs cell bvci 2 gprs nsei 101 gprs nsvc 0 nsvci 101 gprs nsvc 0 <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> udp port 23000 gprs nsvc 0 remote udp port 23000 gprs nsvc 0 remote ip 192.168.1.250 trx 0 timeslot 1 phys_chan_config pdch end write file</code> </pre><br>  Stop osmo-nitb. <br><br>  <b>Install ggsn</b> <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git://git.osmocom.org/openggsn.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> openggsn autoreconf -i ./configure make make install ldconfig</code> </pre> <br>  <b>Install osmo-sgsn</b> <br><br>  Install the dependencies and rebuild osmo-nitb to enable osmo-sgsn support. <br><br><pre> <code class="bash hljs">apt-get install libc-ares-dev</code> </pre><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> openbsc/openbsc/ make clean autoreconf -<span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> ./configure make make install ldconfig <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ../.. ggsn -h osmo-sgsn -h</code> </pre> <br>  <b>Configuring osmo-sgsn</b> <b><br></b> <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/.osmocom touch osmo_sgsn.cfg osmo-sgsn telnet localhost 4245 en conf t sgsn gtp <span class="hljs-built_in"><span class="hljs-built_in">local</span></span>-ip 192.168.1.250 ggsn 0 remote-ip 192.168.1.37 ggsn 0 gtp-version 1 auth-policy accept-all end conf t ns encapsulation udp <span class="hljs-built_in"><span class="hljs-built_in">local</span></span>-ip 192.168.1.250 encapsulation udp <span class="hljs-built_in"><span class="hljs-built_in">local</span></span>-port 23000 encapsulation framerelay-gre enabled 0 end write file <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span></code> </pre> <br>  <b>Customize ggsn</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/.osmocom touch ggsn.conf vi ggsn.conf <span class="hljs-comment"><span class="hljs-comment">#TAG: listen # Specifies the local IP address to listen to listen 192.168.1.37 # TAG: dynip # Dynamic IP address pool. # Used for allocation of dynamic IP address when address is not given # by HLR. # If this option is not given then the net option is used as a substitute. # dynip 192.168.254.0/24 # TAG: pcodns1/pcodns2 # Protocol configuration option domain name system server 1 &amp; 2. pcodns1 8.8.8.8 pcodns2 8.8.4.4</span></span></code> </pre> <br>  <b>Configure osmo-pcu</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/.osmocom touch osmo-pcu.conf osmo-pcu -c /root/.osmocom/osmo-pcu.conf telnet localhost 4240 en conf t pcu flow-control-interval 10 cs 2 alloc-algorithm dynamic alpha 0 gamma 0 write file <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span></code> </pre> <br>  <b>Possible problems</b> <br><br>  They say that there may be problems with DNS traffic, then it is recommended to add another rule to iptables.  I had no such problems. <br><br><pre> <code class="bash hljs">iptables -t nat -I PREROUTING -i tun0 -p udp --dport 53 -j DNAT --to-dest 8.8.8.8</code> </pre><br>  Also make sure that your device has at least one APN access point added in the GPRS settings, otherwise the phone may not try to get a GPRS service from the operator at all. <br><br><h2>  Launch </h2><br>  <b>Run osmo-nitb</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/.osmocom osmo-nitb -s -c /root/.osmocom/open-bsc.cfg -l /root/.osmocom/hlr.sqlite3 -P -C --debug=DSQL:DLSMS:DRLL:DCC:DMM:DRR:DMSC:DHO:DGPRS:DNS:DLLC:DCTRL</code> </pre> <br>  <b>Run ggsn</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/.osmocom ggsn -c /root/.osmocom/ggsn.conf -f -d</code> </pre> <br>  <b>Run sgsn</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/.osmocom osmo-sgsn -c /root/.osmocom/osmo_sgsn.cfg -d DRLL:DCC:DMM:DRR:DNM:DMSC:DHO:DGPRS:DNS:DLLC:DCTRL</code> </pre> <br>  <b>We start transceivers and osmo-bts</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/osmocom/trx/src host/osmocon/osmocon -m c123xor -p /dev/ttyUSB0 -s /tmp/osmocom_l2 -c target/firmware/board/compal_e88/trx.highram.bin -r 99 <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/osmocom/trx/src host/osmocon/osmocon -m c123xor -p /dev/ttyUSB1 -s /tmp/osmocom_l2.2 -c target/firmware/board/compal_e88/trx.highram.bin -r 99 <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/osmocom/trx/src/host/layer23/src/transceiver/ ./transceiver -a SCH_ -2 -r 99 <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/.osmocom osmo-bts-trx --debug DRSL:DOML:DLAPDM -r 99</code> </pre> <br>  Instead of SCH_CHANNEL, you need as before to set the ARFCN where the commercial base station beacon channel is located with a stable signal. <br><br>  <b>Run the osmo-pcu</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /root/.osmocom osmo-pcu -c /root/.osmocom/osmo-pcu.conf</code> </pre> <br>  You should see something similar in the osmo-pcu console. <br><br><img src="https://habrastorage.org/web/c54/1a0/ad1/c541a0ad1b9748fe9eece2546da98c0f.png"><br><br>  And in the osmo-nitb console this <br><br><img src="https://habrastorage.org/web/1d3/fd5/f08/1d3fd5f08dc7444fa3df686153d3c2f3.png"><br><br>  Please note that when working in such a network, your phone thinks that it is roaming and packet data in roaming is often disabled.  Therefore, nothing will work if you do not allow GPRS in roaming in the settings of your phone. <br><br>  Now, when connecting to the network, you should see similar entries in the console with osmo-pcu <br><br><img src="https://habrastorage.org/web/8aa/e43/bc2/8aae43bc263d4c6ca25b41c087b3300c.png"><br><br>  And the authorization entry in the osmo-sgsn console <br><br><img src="https://habrastorage.org/web/953/dc1/553/953dc15533334353a4fc55101cda4468.png"><br><br>  And when you activate the GRPS service on your phone, you will see that the data transfer has begun. <br><br><img src="https://habrastorage.org/web/1fb/317/890/1fb31789082d445aa980e76b9992d533.png"><br><br>  Pay attention to the fact that the speed of data transmission in GPRS is very low, at the same time, modern phones immediately begin the process of checking for updates, mail, and news when they access the network.  All your applications are starting to update their data.  This can make it difficult for you to open something in the browser, since, in addition to low bandwidth, packet loss can occur. <br><br>  You can fix the situation by restricting access to the machine that distributes the Internet to the subnet 192.168.0.0/24 (tun0), leaving only some resources available. <br><br><h2>  Traffic Analysis in Wireshark </h2><br>  In order for wireshark to automatically parse GPRS traffic, you need to add port 23000 in the GPRS-NS protocol settings. <br><br><img src="https://habrastorage.org/web/44b/813/17a/44b81317aa564c86b45da45f9858900d.png"><br><br>  Having connected to the network, I will listen to the wlan0 interface and study the traffic. <br><br><img src="https://habrastorage.org/web/c29/ac7/b54/c29ac7b543c04d7a92b5f18704c4bc9a.png"><br><br>  We see GSM packets (note the ASCII representation of the data. It is clear that this is an HTTP request) <br><br><img src="https://habrastorage.org/web/21d/407/361/21d407361928401b85e03a02838b8027.PNG"><br><br>  Here you can also find classic TCP / IP traffic, such as HTTP or DNS requests.  You can use the gprs-ns filter.  Note the nesting of TCP / IP protocols in GSM protocols. <br><br>  DNS <br><br><img src="https://habrastorage.org/web/2e4/9f8/92b/2e49f892b70e4bd89a399960e4e69bfc.PNG"><br><br>  HTTP <br><br><img src="https://habrastorage.org/web/735/fd3/def/735fd3defd424520bf883878273deb4d.PNG"><br><br>  Naturally, we also have classic TCP / IP traffic that already goes directly from wlan0 to the Internet. <br><br><img src="https://habrastorage.org/web/4e2/3a5/feb/4e23a5feb3f749bb850d2d8a1ff015b3.PNG"><br><br>  And at this stage we get full control over the traffic and can conduct a full range of MitM attacks against subscribers of our GSM network. <br><br>  In the case of creating a fake base station, a connected subscriber becomes unavailable for calls from outside and in the standard configuration can no longer call someone from his phone book, but he will have Internet access and he is likely to try to use it.  Here he can be attacked by an attacker. <br><br>  In the next article we will look at practical examples of attacks on GSM network subscribers who have connected to a fake base station. <br><br><h2>  Configuration files </h2><br><div class="spoiler">  <b class="spoiler_title">ggsn.conf</b> <div class="spoiler_text">  #TAG: listen <br>  # Specifies the local IP address to listen to <br>  listen MAIN_IP <br>  # TAG: dynip <br>  # Dynamic IP address pool. <br>  # Address for address is not given <br>  # by HLR. <br>  # This option is used as a substitute. <br>  # dynip 192.168.254.0/24 <br><br>  # TAG: pcodns1 / pcodns2 <br>  # Protocol configuration option domain name system server 1 &amp; 2. <br>  pcodns1 8.8.8.8 <br>  pcodns2 8.8.4.4 <br></div></div><br><div class="spoiler">  <b class="spoiler_title">open-bsc.cfg</b> <div class="spoiler_text">  ! <br>  !  OpenBSC (0.15.0.796-8254) configuration saved from vty <br>  !!! <br>  ! <br>  log stderr <br>  logging filter all 1 <br>  logging color 1 <br>  logging print category 0 <br>  logging timestamp 0 <br>  logging level all everything <br>  logging level rll everything <br>  logging level cc everything <br>  logging level mm everything <br>  logging level rr everything <br>  logging level rsl everything <br>  logging level nm everything <br>  logging level mncc notice <br>  logging level pag notice <br>  logging level meas notice <br>  logging level sccp notice <br>  logging level msc notice <br>  logging level mgcp notice <br>  logging level ho notice <br>  logging level db notice <br>  logging level ref notice <br>  logging level gprs debug <br>  logging level ns info <br>  logging level bssgp debug <br>  logging level llc debug <br>  logging level sndcp debug <br>  logging level nat notice <br>  logging level ctrl notice <br>  logging level smpp debug <br>  logging level filter debug <br>  logging level ranap debug <br>  logging level sua debug <br>  logging level pcu debug <br>  logging level lglobal notice <br>  logging level llapd notice <br>  logging level linp notice <br>  logging level lmux notice <br>  logging level lmi notice <br>  logging level lmib notice <br>  logging level lsms notice <br>  logging level lctrl notice <br>  logging level lgtp notice <br>  logging level lstats notice <br>  logging level lgsup notice <br>  logging level loap notice <br>  logging level lss7 notice <br>  logging level lsccp notice <br>  logging level lsua notice <br>  logging level lm3ua notice <br>  log file OsmoBSC.log <br>  logging filter all 0 <br>  logging color 1 <br>  logging print category 0 <br>  logging timestamp 1 <br>  logging level all info <br>  logging level rll notice <br>  logging level cc notice <br>  logging level mm notice <br>  logging level rr notice <br>  logging level rsl notice <br>  logging level nm info <br>  logging level mncc notice <br>  logging level pag notice <br>  logging level meas notice <br>  logging level sccp notice <br>  logging level msc notice <br>  logging level mgcp notice <br>  logging level ho notice <br>  logging level db notice <br>  logging level ref notice <br>  logging level gprs debug <br>  logging level ns info <br>  logging level bssgp debug <br>  logging level llc debug <br>  logging level sndcp debug <br>  logging level nat notice <br>  logging level ctrl notice <br>  logging level smpp debug <br>  logging level filter debug <br>  logging level ranap debug <br>  logging level sua debug <br>  logging level pcu debug <br>  logging level lglobal notice <br>  logging level llapd notice <br>  logging level linp notice <br>  logging level lmux notice <br>  logging level lmi notice <br>  logging level lmib notice <br>  logging level lsms notice <br>  logging level lctrl notice <br>  logging level lgtp notice <br>  logging level lstats notice <br>  logging level lgsup notice <br>  logging level loap notice <br>  logging level lss7 notice <br>  logging level lsccp notice <br>  logging level lsua notice <br>  logging level lm3ua notice <br>  ! <br>  stats interval 5 <br>  ! <br>  line vty <br>  no login <br>  ! <br>  e1_input <br>  e1_line 0 driver ipa <br>  e1_line 0 port 0 <br>  no e1_line 0 keepalive <br>  network <br>  network country code 1 <br>  mobile network code 1 <br>  short name Pentestit <br>  long name Pentestit <br>  auth policy accept-all <br>  authorized-regexp. * <br>  location updating reject cause 13 <br>  encryption a5 0 <br>  neci 1 <br>  paging any use tch 0 <br>  rrlp mode none <br>  mm info 1 <br>  handover 0 <br>  handover window rxlev averaging 10 <br>  handover window rxqual averaging 1 <br>  handover window rxlev neighbor averaging 10 <br>  handover power budget interval 6 <br>  handover power budget hysteresis 3 <br>  handover maximum distance 9999 <br>  timer t3101 10 <br>  timer t3103 0 <br>  timer t3105 40 <br>  timer t3107 0 <br>  timer t3109 0 <br>  timer t3111 0 <br>  timer t3113 60 <br>  timer t3115 0 <br>  timer t3117 0 <br>  timer t3119 0 <br>  timer t3122 10 <br>  timer t3141 0 <br>  dyn_ts_allow_tch_f 0 <br>  subscriber-keep-in-ram 0 <br>  bts 0 <br>  type sysmobts <br>  description calypso <br>  band RANGE <br>  cell_identity 0 <br>  location_area_code 1 <br>  base_station_id_code 63 <br>  ms max power 0 <br>  cell reselection hysteresis 4 <br>  rxlev access min 0 <br>  periodic location update 30 <br>  radio-link-timeout 32 <br>  channel allocator ascending <br>  rach tx integer 9 <br>  rach max transmission 7 <br>  channel-descrption attach 1 <br>  channel-descrption bs-pa-mfrms 5 <br>  channel-descrption bs-ag-blks-res 1 <br>  early-classmark-sending forbidden <br>  ip.access unit_id 1801 0 <br>  oml ip.access stream_id 255 line 0 <br>  neighbor-list mode automatic <br>  codec-support fr amr <br>  amr tch-h modes 0 <br>  amr tch-h start-mode 1 <br>  gprs mode gprs <br>  gprs 11bit_rach_support_for_egprs 0 <br>  gprs routing area 0 <br>  gprs network-control-order nc0 <br>  gprs cell bvci 2 <br>  gprs cell timer blocking-timer 3 <br>  gprs cell timer blocking-retries 3 <br>  gprs cell timer unblocking-retries 3 <br>  gprs cell timer reset-timer 3 <br>  gprs cell timer reset-retries 3 <br>  gprs cell timer suspend-timer 10 <br>  gprs cell timer suspend-retries 3 <br>  gprs cell timer resume-timer 10 <br>  gprs cell timer resume-retries 3 <br>  gprs cell timer capability-update-timer 10 <br>  gprs cell timer capability-update-retries 3 <br>  gprs nsei 101 <br>  gprs ns timer tns-block 3 <br>  gprs ns timer tns-block-retries 3 <br>  gprs ns timer tns-reset 3 <br>  gprs ns timer tns-reset-retries 3 <br>  gprs ns timer tns-test 30 <br>  gprs ns timer tns-alive 3 <br>  gprs ns timer tns-alive-retries 10 <br>  gprs nsvc 0 nsvci 101 <br>  gprs nsvc 0 local udp port 23000 <br>  gprs nsvc 0 remote udp port 23000 <br>  gprs nsvc 0 remote ip VIRTUAL_IP <br>  gprs nsvc 1 nsvci 0 <br>  gprs nsvc 1 local udp port 0 <br>  gprs nsvc 1 remote udp port 0 <br>  gprs nsvc 1 remote ip 0.0.0.0 <br>  no force-combined-si <br>  trx 0 <br>  rf_locked 0 <br>  arfcn CANAL <br>  nominal power 23 <br>  max_power_red 99 <br>  rsl e1 tei 0 <br>  timeslot 0 <br>  phys_chan_config CCCH + SDCCH4 <br>  hopping enabled 0 <br>  timeslot 1 <br>  phys_chan_config PDCH <br>  hopping enabled 0 <br>  timeslot 2 <br>  phys_chan_config TCH / H <br>  hopping enabled 0 <br>  timeslot 3 <br>  phys_chan_config TCH / H <br>  hopping enabled 0 <br>  timeslot 4 <br>  phys_chan_config TCH / H <br>  hopping enabled 0 <br>  timeslot 5 <br>  phys_chan_config TCH / H <br>  hopping enabled 0 <br>  timeslot 6 <br>  phys_chan_config TCH / H <br>  hopping enabled 0 <br>  timeslot 7 <br>  phys_chan_config TCH / H <br>  hopping enabled 0 <br>  mncc-int <br>  default-codec tch-f amr <br>  default-codec tch-h amr <br>  nitb <br>  subscriber-create-on-demand <br>  assign-tmsi <br></div></div><br><div class="spoiler">  <b class="spoiler_title">osmo_sgsn.cfg</b> <div class="spoiler_text">  ! <br>  !  OsmoSGSN (0.15.0.796-8254) configuration saved from vty <br>  !!! <br>  ! <br>  log stderr <br>  logging filter all 1 <br>  logging color 1 <br>  logging print category 0 <br>  logging timestamp 0 <br>  logging level all everything <br>  logging level mm notice <br>  logging level pag notice <br>  logging level meas notice <br>  logging level ref notice <br>  logging level gprs debug <br>  logging level ns info <br>  logging level bssgp debug <br>  logging level llc debug <br>  logging level sndcp debug <br>  logging level slhc debug <br>  logging level ranap debug <br>  logging level sua debug <br>  logging level v42bis debug <br>  logging level lglobal notice <br>  logging level llapd notice <br>  logging level linp notice <br>  logging level lmux notice <br>  logging level lmi notice <br>  logging level lmib notice <br>  logging level lsms notice <br>  logging level lctrl notice <br>  logging level lgtp notice <br>  logging level lstats notice <br>  logging level lgsup notice <br>  logging level loap notice <br>  logging level lss7 notice <br>  logging level lsccp notice <br>  logging level lsua notice <br>  logging level lm3ua notice <br>  ! <br>  stats interval 5 <br>  ! <br>  line vty <br>  no login <br>  ! <br>  ns <br>  timer tns-block 3 <br>  timer tns-block-retries 3 <br>  timer tns-reset 3 <br>  timer tns-reset-retries 3 <br>  timer tns-test 30 <br>  timer tns-alive 3 <br>  timer tns-alive-retries 10 <br>  encapsulation udp local-ip VIRTUAL_IP <br>  encapsulation udp local-port 23000 <br>  encapsulation framerelay-gre enabled 0 <br>  bssgp <br>  sgsn <br>  gtp local-ip VIRTUAL_IP <br>  ggsn 0 remote-ip MAIN_IP <br>  ggsn 0 gtp-version 1 <br>  auth-policy accept-all <br>  gsup oap-id 0 <br>  !  apn * ggsn 0 <br>  no cdr filename <br>  cdr interval 600 <br>  timer t3312 600 <br>  timer t3322 6 <br>  timer t3350 6 <br>  timer t3360 6 <br>  timer t3370 6 <br>  timer t3313 30 <br>  timer t3314 44 <br>  timer t3316 44 <br>  timer t3385 8 <br>  timer t3386 8 <br>  timer t3395 8 <br>  timer t3397 8 <br>  no compression rfc1144 <br>  no compression v42bis <br></div></div><br><div class="spoiler">  <b class="spoiler_title">osmo-bts.cfg</b> <div class="spoiler_text">  ! <br>  !  OsmoBTS (0.4.0.463-e91c) configuration saved from vty <br>  !!! <br>  ! <br>  log stderr <br>  logging filter all 1 <br>  logging color 1 <br>  logging print category 0 <br>  logging timestamp 0 <br>  logging level all everything <br>  logging level rsl info <br>  logging level oml info <br>  logging level rll notice <br>  logging level rr notice <br>  logging level meas notice <br>  logging level pag info <br>  logging level l1c info <br>  logging level l1p info <br>  logging level dsp debug <br>  logging level pcu notice <br>  logging level ho notice <br>  logging level trx notice <br>  logging level loop notice <br>  logging level abis notice <br>  logging level rtp notice <br>  logging level sum notice <br>  logging level lglobal notice <br>  logging level llapd notice <br>  logging level linp notice <br>  logging level lmux notice <br>  logging level lmi notice <br>  logging level lmib notice <br>  logging level lsms notice <br>  logging level lctrl notice <br>  logging level lgtp notice <br>  logging level lstats notice <br>  logging level lgsup notice <br>  logging level loap notice <br>  logging level lss7 notice <br>  logging level lsccp notice <br>  logging level lsua notice <br>  logging level lm3ua notice <br>  log file OsmoBTS.log <br>  logging filter all 0 <br>  logging color 1 <br>  logging print category 0 <br>  logging timestamp 1 <br>  logging level all everything <br>  logging level rsl info <br>  logging level oml info <br>  logging level rll notice <br>  logging level rr notice <br>  logging level meas notice <br>  logging level pag info <br>  logging level l1c info <br>  logging level l1p info <br>  logging level dsp debug <br>  logging level pcu notice <br>  logging level ho notice <br>  logging level trx notice <br>  logging level loop notice <br>  logging level abis notice <br>  logging level rtp notice <br>  logging level sum notice <br>  logging level lglobal notice <br>  logging level llapd notice <br>  logging level linp notice <br>  logging level lmux notice <br>  logging level lmi notice <br>  logging level lmib notice <br>  logging level lsms notice <br>  logging level lctrl notice <br>  logging level lgtp notice <br>  logging level lstats notice <br>  logging level lgsup notice <br>  logging level loap notice <br>  logging level lss7 notice <br>  logging level lsccp notice <br>  logging level lsua notice <br>  logging level lm3ua notice <br>  ! <br>  line vty <br>  no login <br>  ! <br>  e1_input <br>  e1_line 0 driver ipa <br>  e1_line 0 port 0 <br>  no e1_line 0 keepalive <br>  phy 0 <br>  osmotrx ip 127.0.0.1 <br>  osmotrx fn-advance 30 <br>  osmotrx rts-advance 5 <br>  instance 0 <br>  slotmask 1 1 0 0 0 0 0 0 <br>  bts 0 <br>  band RANGE <br>  ipa unit-id 1801 0 <br>  oml remote-ip 127.0.0.1 <br>  rtp jitter-buffer 0 <br>  paging queue-size 200 <br>  paging lifetime 0 <br>  uplink-power-target -75 <br>  min-qual-rach 50 <br>  min-qual-norm -5 <br>  ms-power-loop -65 <br>  timing-advance-loop <br>  setbsic <br>  trx 0 <br>  power-ramp max-initial 0 mdBm <br>  power-ramp step-size 2000 mdB <br>  power-ramp step-interval 1 <br>  ms-power-control dsp <br>  phy 0 instance 0 <br></div></div><br><div class="spoiler">  <b class="spoiler_title">osmo-pcu.conf</b> <div class="spoiler_text">  ! <br>  !  Osmo-PCU (0.2.915-241f5) configuration saved from vty <br>  !!! <br>  ! <br>  log stderr <br>  logging filter all 1 <br>  logging color 1 <br>  logging print category 0 <br>  logging timestamp 0 <br>  logging level all everything <br>  logging level csn1 info <br>  logging level l1if info <br>  logging level rlcmac notice <br>  logging level rlcmacdata notice <br>  logging level rlcmacdl notice <br>  logging level rlcmacul notice <br>  logging level rlcmacsched notice <br>  logging level rlcmacmeas info <br>  logging level ns info <br>  logging level bssgp info <br>  logging level pcu notice <br>  logging level lglobal notice <br>  logging level llapd notice <br>  logging level linp notice <br>  logging level lmux notice <br>  logging level lmi notice <br>  logging level lmib notice <br>  logging level lsms notice <br>  logging level lctrl notice <br>  logging level lgtp notice <br>  logging level lstats notice <br>  logging level lgsup notice <br>  logging level loap notice <br>  logging level lss7 notice <br>  logging level lsccp notice <br>  logging level lsua notice <br>  logging level lm3ua notice <br>  ! <br>  stats interval 5 <br>  ! <br>  line vty <br>  no login <br>  ! <br>  pcu <br>  flow-control-interval 10 <br>  cs 2 <br>  cs max 4 <br>  cs threshold 10 33 <br>  cs downgrade-threshold 200 <br>  cs link-quality-ranges cs1 6 cs2 5 8 cs3 7 13 cs4 12 <br>  mcs max 9 <br>  window-size 64 0 <br>  queue idle-ack-delay 10 <br>  queue codel <br>  alloc-algorithm dynamic <br>  alpha 0 <br>  gamma 0 <br>  dl-tbf-idle-time 2000 <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/334100/">https://habr.com/ru/post/334100/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334082/index.html">Advantages of automation: how technology corrects mistakes of store employees</a></li>
<li><a href="../334084/index.html">Getting Started with Docker Ruby on Rails</a></li>
<li><a href="../334086/index.html">PHDays VII Secure Development Section: PDUG Community Meeting Summary</a></li>
<li><a href="../334088/index.html">Student website without cost</a></li>
<li><a href="../334090/index.html">Document generation - a view from the inside</a></li>
<li><a href="../334102/index.html">Enter a member rating of GitHub and StackOverflow on My Circle</a></li>
<li><a href="../334104/index.html">Details about the new version of Veeam Backup for Microsoft Office 365 and briefly about the ticket draw for VMworld 2017</a></li>
<li><a href="../334106/index.html">Ronimo Code Style Methodology and Guide</a></li>
<li><a href="../334108/index.html">JetBrains MPS - IDE for developing problem-oriented programming languages</a></li>
<li><a href="../334112/index.html">Nike Brand Story</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>