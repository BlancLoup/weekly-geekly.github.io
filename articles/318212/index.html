<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Secrets of a successful update: interface, backend, application structure</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Long-awaited New Year holidays are approaching - travel time. In this regard, today we would like to tell about the work on our joint project with the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Secrets of a successful update: interface, backend, application structure</h1><div class="post__text post__text-html js-mediator-article">  Long-awaited New Year holidays are approaching - travel time.  In this regard, today we would like to tell about the work on our joint project with the company Travel And Play - <a href="http://go.everydaytools.mobi/A2TIhl">Webcam World View</a> .  The application allows you to connect to the stream from video cameras installed in different parts of the world, and watch life boiling there in real time. <br><br>  Great, right?  It also seemed so to us, until this autumn the task was set for a new, improved version of the product.  What exactly to improve was left to our discretion, so we immediately decided to leave the functionality alone: ‚Äã‚Äãit was quite sufficient and not overloaded.  But the UX component and technical performance have undergone significant revision.  Read more on how we made candy from the initially good application. <br><br><img src="https://habrastorage.org/files/5e3/328/4d8/5e33284d8e28408aaf55ee4f1ede59a2.jpeg"><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To begin with, we analyzed the current state of affairs.  As it turned out, the application had serious flaws: <br><br>  ‚ÄúPerhaps the most inconvenience was that all the content was contained in the application itself.  Such a storage method excluded the possibility of editing and updating data without updating the product itself on the market.  In addition, it significantly increased the size of the application. <br><br>  - The application was extremely inconvenient to use.  For clarity: to view any of the streams, you had to go through 4 screens and press the button five times on the Apple TV remote. <br><br>  ‚ÄúSuch a virtual journey was available only to Apple TV users, and this is not the largest part of society. <br><br>  Having understood these problems, we began to look for ways to solve them and eventually set ourselves several goals: <br><br>  1) Change the interface, make it more intuitive; <br>  2) Refine the server part so that it not only stores all of our content, but also provides statistics that would allow us to at least allocate popular and top cameras; <br>  3) And of course, adapt the application for the iPhone and iPad, that is, to make virtual travel accessible to a much larger number of people. <br><br>  Goals set - it is time to act. <br><br><h3>  Creating a user-friendly interface </h3><br>  Who knows best how to make a convenient and beautiful application for users of Apple devices?  Of course, Apple.  The solution we were looking for lay on the surface, or rather on the main screen of any Apple TV - this is about their proprietary Films application.  We wanted to bring everything as close as possible to this sample, because our product has similar content, and the manufacturer's UX-solution is familiar to everyone. <br><br>  What does the user see first when he enters the Movies application?  Screen with clips and top movies.  In Webcam World View, we wanted to do about the same thing ‚Äî all the best cameras on the main screen.  Therefore, the next step was to create an analogue of the Apple carousel on the main screen. <br><br><img src="https://habrastorage.org/files/b67/b70/de6/b67b70de6c6c485d8a13bbab3a861a17.png"><br><br>  So, we needed to get an automatically moving carousel, the elements of which would have a parallax effect.  The basis was taken from the UICollectionView class. <br><br>  The first step was to create a class for the cell of our future carousel: <br><br><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopCollectionViewCell</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UICollectionViewCell { //    ‚Äî    @IBOutlet weak var backImageView: UIImageView! override func awakeFromNib</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.awakeFromNib() backImageView.contentMode = .scaleAspectFill backImageView.clipsToBounds = <span class="hljs-literal"><span class="hljs-literal">true</span></span> backImageView.layer.cornerRadius = CGFloat(<span class="hljs-number"><span class="hljs-number">10.0</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> func prepareForReuse() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.prepareForReuse() }</code> </pre> <br>  At the moment when the focus moves to the carousel element, move the cell down to the height of the indent that we want to get in the end (given the value of ledgeHeight): <br><br><pre> <code class="hljs smalltalk"> override func didUpdateFocus(in context: <span class="hljs-type"><span class="hljs-type">UIFocusUpdateContext</span></span>, with coordinator: <span class="hljs-type"><span class="hljs-type">UIFocusAnimationCoordinator</span></span>) { if (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.isFocused) { //    ,     <span class="hljs-type"><span class="hljs-type">UIView</span></span>.animate(withDuration: <span class="hljs-number"><span class="hljs-number">0.2</span></span>, delay: <span class="hljs-number"><span class="hljs-number">0.0</span></span>, options: .curveEaseOut, animations: { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.transform = <span class="hljs-type"><span class="hljs-type">CGAffineTransform</span></span>(translationX: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(<span class="hljs-number"><span class="hljs-number">0.0</span></span>), y: ledgeHeight) }, completion: <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span>) //   <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.backImageView.clipsToBounds = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.backImageView.adjustsImageWhenAncestorFocused = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> } else { //      <span class="hljs-type"><span class="hljs-type">UIView</span></span>.animate(withDuration: <span class="hljs-number"><span class="hljs-number">0.2</span></span>, delay: <span class="hljs-number"><span class="hljs-number">0.0</span></span>, options: .curveEaseOut, animations: { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.transform = <span class="hljs-type"><span class="hljs-type">CGAffineTransform</span></span>(translationX: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(<span class="hljs-number"><span class="hljs-number">0.0</span></span>), y: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(<span class="hljs-number"><span class="hljs-number">0.0</span></span>)) }, completion: <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.backImageView.clipsToBounds = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.backImageView.adjustsImageWhenAncestorFocused = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> } }</code> </pre> <br>  Thus, the carousel element has the effect of parallax, and when moving to focus takes the same style as the Apple carousel elements. <br><br>  Then followed another task - the implementation of the movement of the carousel.  For a start, we decided on what we want. <br><br>  First, we decided to make a carousel looped (moving forward from the last element to the first element, and vice versa, moving backward from the first element to the last element). <br><br>  Secondly, it was necessary to realize the automatic movement of the carousel after a specified period of time in case its elements would be out of focus. <br><br>  To ensure the possibility of looping the carousel, we added a ‚Äúbuffer‚Äù of two cells that corresponded to the first and last element. <br><br>  The transition through the ‚Äúinternal‚Äù elements was standard, as between the UICollectionView elements.  The transition from the ‚Äúexternal‚Äù elements (the first and the last) occurred with a content shift: <br><br><pre> <code class="hljs ruby"> func jump(<span class="hljs-symbol"><span class="hljs-symbol">direction:</span></span> Direction) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> direction ‚Äî  ,    let currentOffset = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.contentOffset.x var offset = CGFloat(count) * (collectionViewLayout as! Layout).totalItemWidth <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .backward = direction { offset *= -<span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.setContentOffset(CGPoint(<span class="hljs-symbol"><span class="hljs-symbol">x:</span></span> currentOffset + bffset, <span class="hljs-symbol"><span class="hljs-symbol">y:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.contentOffset.y), <span class="hljs-symbol"><span class="hljs-symbol">animated:</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>) }</code> </pre> <br>  A simple timer was applied to the automatic movement of the carousel and, again, the content was shifted from the beginning by the required amount: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> initialOffset = (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.collectionViewLayout <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>! <span class="hljs-type"><span class="hljs-type">Layout</span></span>).offsetForItemAtIndex(index: item) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.setContentOffset(<span class="hljs-type"><span class="hljs-type">CGPoint</span></span>(x: initialOffset, y: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.contentOffset.y), animated: animated) }</code> </pre> <br>  So we got a nice carousel in the style of Apple with the possibility of automatic movement. <br><br>  Then we proceeded to fill the main space of the main screen. <br><br>  It was decided to split the content into collections, they are also ‚Äúlines‚Äù, like those that we see in the ‚ÄúFilms‚Äù application.  Accordingly, the question arose: how to implement them?  The problem was that we needed the ability to go through the selections (scrolling in the vertical direction) and the cameras in the selected selection (scrolling in the horizontal direction) <br><br>  To solve this problem, we use a TableView, in each cell of which we have a custom CollectionView.  The main controller acts as a delegate and data source: <br><br><img src="https://habrastorage.org/files/5f4/c7b/94c/5f4c7b94c7224ebbbd4537b7d3b39b27.png"><br><br>  In order to be able to distinguish between collections of different cells of a table, let's use the tag property ‚Äî write the number of the table cell in which the collection is located <br><br>  To set the delegate, data source, and the current collection number in the table cell, add the setCollectionViewDataSourceDelegate function: <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">LineTableViewCell</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UITableViewCell</span></span></span><span class="hljs-class"> { //  @</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IBOutlet</span></span></span><span class="hljs-class"> weak var lineNameLabel: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UILabel</span></span></span><span class="hljs-class">! //   @</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IBOutlet</span></span></span><span class="hljs-class"> weak var lineCollectionView: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UICollectionView</span></span></span><span class="hljs-class">! override func awakeFromNib() { super.awakeFromNib() ... } } extension </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">LineTableViewCell</span></span></span><span class="hljs-class"> { func setCollectionViewDataSourceDelegate &lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">D</span></span></span><span class="hljs-class">: protocol&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UICollectionViewDataSource</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UICollectionViewDelegate</span></span></span><span class="hljs-class">&gt;&gt; (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dataSourceDelegate</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">D</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">forRow</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Int</span></span></span><span class="hljs-class">) { lineCollectionView.delegate = dataSourceDelegate lineCollectionView.dataSource = dataSourceDelegate lineCollectionView.tag = row lineCollectionView.reloadData() } }</span></span></code> </pre> <br>  Now it remains to call it in the table's willDisplay method: <br><br><pre> <code class="hljs swift"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tableView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> tableView: UITableView, willDisplay cell: UITableViewCell, forRowAt indexPath: IndexPath)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> tableViewCell = cell <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>? <span class="hljs-type"><span class="hljs-type">LineTableViewCell</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } tableViewCell.setCollectionViewDataSourceDelegate(dataSourceDelegate: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, forRow: indexPath.row) }</code> </pre> <br>  Adding the standard delegate methods UITableView and UICollectionView, we got what we needed - the content was broken down by collections.  We used the same trick with the collections in the table cells when working on the category view screen. <br><br>  The implementation of the elements of other screens was standard and did not cause any problems. <br><br><h3>  Server part </h3><br>  So, the interface has been successfully implemented.  Now it's time to talk about working on the server part of our application.  Here the idea was as follows: make the application as customizable as possible using the server. <br><br>  All information about each camera was collected on the server.  For easy moderation of content, we wrote Admin Panel.  Using this system, the moderator can customize and change the information about the cameras at any time, make the cameras paid or free, change their places and turn them off if they do not work.  Any marketing ploy can be made without the participation of the developer. <br><br>  Another feature of our Admin Panel is the ability to customize the appearance of the interface from the server.  The application has two types of data display: <br><br>  1. Carousel with the most popular cameras. <br>  2. Rulers with cameras - groups of cameras that are lined up horizontally and combined with one idea. <br><br>  When adding several cameras from the server, the moderator can combine them into lines manually or automatically, according to certain tags that are added for each camera. <br><br>  If there is a need to change the displayed content or the position of the rulers, we just need to drag this or that element to the right place. <br><br>  To create this block was used plugin jScrollPanel.  <a href="http://jscrollpane.kelvinluck.com/">jQuery</a> + CSS - and no magic. <br><br>  In addition, in the rulers themselves, any camera can be moved horizontally, which allows you to set the order based on the data that the moderator receives from the application (number of views, transitions on screens, etc.).  All changes made at the same time will be displayed in the application. <br><br><img src="https://habrastorage.org/files/44f/f5f/d96/44ff5fd96cb94b6dba1d52662ccc5be3.png"><br><br>  Admin Panel allows you to identify popular cameras based on the collected statistics, automatically creates, updates them and moves them within the respective lines. <br><br>  However, not all streams are always available: the servers stop working, technical work is done, sometimes the cameras are turned off for a certain time, and sometimes they stop working forever.  In order not to show the user non-working streams and at the same time every day not to check all cameras for operability manually, we taught the system once a day to go around all streams in automatic mode.  If the camera is not available, its work in the application is suspended, and at the same second information about this is sent to the moderator. <br><br><h3>  Timelapse </h3><br>  Finally, I would like to share one more solution found during the work on the latest update.  Every self-respecting application has its own <a href="http://go.everydaytools.mobi/1Z4Od0">page on social networks</a> .  But it‚Äôs boring to put only pictures there, and the specificity of our application hints that the audience should be attracted by video content.  The preview video was not suitable for several reasons.  So the idea was born to make an action video for each of the streams - Timelapse. <br><br>  Here is what our final recipe looks like, creating very nice things: <br><br>  - We take a picture from the camera and within 24 hours hourly we record five seconds of video. <br>  - Then we speed up the playback twice, glue all the recordings into one and get an interesting action-cutting - so, for example, in our timelaps video you can watch a charming sunset or even a whole day from the life of a tiger. <br><br><h3>  Future plans </h3><br>  Summarize.  We managed to create a system with which it is convenient to work even for a moderator who does not understand anything in programming.  Now members of our team can lead a project without going into the details of development and not suffering from the need to update the application on the market each time. <br><br>  As a result, we received a solid finished product for Apple TV, which solved all the tasks.  The main achievement for our team was the successful implementation of the server-side and administration capabilities, the bonus was the creation of the most user-friendly interface according to the canons of UI Apple TV. <br><br>  From this: <br><br><img src="https://habrastorage.org/files/93e/515/c67/93e515c67763486a9c7b3188a0ff7df9.png"><br><br><img src="https://habrastorage.org/files/cb4/667/919/cb4667919e3b4f819b661996d17aa64c.png"><br>  We did it: <br><br><img src="https://habrastorage.org/files/8d5/b04/412/8d5b044128ad458f81bd457ba2dceef3.png"><br><br><img src="https://habrastorage.org/files/835/d36/060/835d360605874a50910808d03a840c5c.png"><br><br>  Of course, not everything works without failures and not all plans for the server are currently implemented.  The code in principle can not be perfect, so we try not to stand still, constantly working on improvements.  Now we have in our plans implementation on the server of setting up not only content, but also the full visual component.  How many cameras will be displayed in the line on the screen, will it be a camera or Timelapse, will there be a signature for each of the cameras or only for some?  All questions to the server. <br><br><img src="https://habrastorage.org/files/922/5bb/d9c/9225bbd9c66745b68f6c11936dc76e7c.png"><br><br>  We are also thinking of improving the appearance of the Admin Panel.  It cannot be said that now it is inconvenient to use or something hurts the eye, but you always want to strive for possible perfection. <br><br>  We will be glad to read your reviews.  That's all, thank you for your attention! </div><p>Source: <a href="https://habr.com/ru/post/318212/">https://habr.com/ru/post/318212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318200/index.html">Mobile bank for iOS: add block architecture to Cocoa MVC</a></li>
<li><a href="../318202/index.html">Modification of stock firmware for Android. Part 5. Revolution c Xposed Framework</a></li>
<li><a href="../318204/index.html">How I translated the BEM project ... and translated</a></li>
<li><a href="../318208/index.html">12 more big data cases</a></li>
<li><a href="../318210/index.html">Attempts to open a new checkers tactic or what to do with a pipe dream</a></li>
<li><a href="../318214/index.html">5 really free non-linear video editors for Windows</a></li>
<li><a href="../318216/index.html">DevOps - speed? Yes speed</a></li>
<li><a href="../318218/index.html">From Intranet to Digital Workplace</a></li>
<li><a href="../318220/index.html">SetGoroutineName</a></li>
<li><a href="../318222/index.html">Parsing: how and why to use PureComponent in React</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>