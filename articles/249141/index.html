<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building crosswords using the Wolfram Language (Mathematica)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of Michael Trott's post, ‚Äú Constructing Crossword Arrays Faster ‚Äù. 
 Download the translation in the form of a Mathematica document that c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building crosswords using the Wolfram Language (Mathematica)</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/67c/fbd/55e/67cfbd55e32f49f88e2c5821e83fe1b6.png"></div><br>  <i>Translation of Michael Trott's post, ‚Äú <a href="http://www.mathematica-journal.com/2009/11/constructing-crossword-arrays-faster/">Constructing Crossword Arrays Faster</a> ‚Äù.</i> <i><br></i>  <i>Download the translation in the form of a Mathematica document that contains all the code used in the article <a href="http://goo.gl/GOG0Fe">here</a> .</i> <br><br>  In chapter 6 of my book <i>Mathematica GuideBook for Programming</i> , as an example of working with lists, I discussed how to build an array that represents a crossword puzzle.  Although this example was good for demonstrating advanced work with lists, however, the use of lists is not the best way to build an array of crossword puzzles.  The complexity of adding a new word to an array with <em>n</em> <em>-</em> <em>1</em> words already placed was for this algorithm <img src="https://habrastorage.org/getpro/habr/post_images/b23/345/6d5/b233456d57872c72f1361cef4e740a87.png" alt="ConstructingCrosswordArrays_1.png" width="31" height="22">  Thus, the total difficulty of creating an array of crossword of <em>n</em> words became equal to <img src="https://habrastorage.org/getpro/habr/post_images/303/5d9/ba4/3035d9ba43409cd83d44f86f84a68cbc.png" alt="ConstructingCrosswordArrays_2.png" width="29" height="20">  . <br><br>  Over the past few years, some <i>Mathematica</i> users have asked me if a faster algorithm can be built.  The answer is yes, you can.  If we use hashing methods, we can quickly and at the same time check whether it is possible to use some element of the array and, therefore, we can reduce the overall complexity of the algorithm with <img src="https://habrastorage.org/getpro/habr/post_images/303/5d9/ba4/3035d9ba43409cd83d44f86f84a68cbc.png" alt="ConstructingCrosswordArrays_3.png" width="29" height="20">  before <img src="https://habrastorage.org/getpro/habr/post_images/94d/7cb/79b/94d7cb79bc0f18f79c3ad449adfb5069.png" alt="ConstructingCrosswordArrays_4.png" width="29" height="20">  that for crosswords of thousands of words will give a big difference in time spent on calculations.  This algorithm is implemented in this article.  When we place individual letters of a word in a certain rectangular table, many different situations need to be considered.  As a result, the article contains more than usual amount of procedural code.  Although some definitions of functions are somewhat long, thanks to the comments between the steps of the calculations and the decision branches, the code should be fairly simple to read and understand. <br><a name="habracut"></a><br>  In order for the article to be self-sufficient, we will not use any algorithms implemented in the <i>GuideBook</i> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here is the statement of the problem that we will solve: <br><br><blockquote>  Suppose we are given a list of words as strings.  Our task is to insert them into a rectangular table consisting of squares so that each word is placed horizontally (read from left to right) or vertically (read from top to bottom), and the words must be connected in squares containing the same for them letters. </blockquote><br>  Here is an example that uses the names of scientists (citizens of the USSR and Russia) who have become Nobel laureates.  (In the rest of the article, we will use words that are directly related to <i>Mathematica</i> as examples.) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2fa/74f/9e6/2fa74f9e6ffb36401aadd59f5bf1da40.png" alt="ConstructingCrosswordArrays_5.png" width="350" height="343"><br><br>  To improve the readability of the crossword, we also require that any two horizontal or any two vertical words be separated from each other by at least one empty square.  In addition to this, no horizontal word should begin or end in a square that is adjacent to a square occupied by a letter of a vertical word, and, similarly, no vertical word should begin or end in a square that is adjacent to a square occupied by a letter of a horizontal word .  (In other words, the squares adjacent to the left and right of the horizontal word and the squares adjacent the top and bottom of the vertical word must remain empty.) However, we allow words to begin or end in squares occupied by another word. <br><br>  We will place all the words in a square table (not limited in size), built from separate squares and we will track the contents of each square. <br><br>  Function <br><br>  <b>positionAWord [characterList, k, {i0, j0}, hv]</b> <br><br>  arranges the characterList <i>character</i> list in such a way that the <em>kth</em> element of the list will be located in the square { <i>i0</i> , <i>j0</i> } and the word <i>characterList</i> will be located according to the value of the parameter <em>h</em> <em>v</em> (horizontally or vertically, which will be marked with "" or "", respectively) .  We will use the construction of the form <b>C [data]</b> to set the current status of the square, while the following situations are possible: <br><br><ul><li>  <b>C []</b> - the square must remain empty; </li><li>  <b>C ["char"]</b> - a square contains the symbol <i>char</i> and is part of a horizontal or vertical word. </li><li>  <b>C ["char", ""]</b> - a square contains the <i>char</i> character in a vertical word and can also be used in a horizontal word. </li><li>  <b>C ["char", ""]</b> - a square contains the character <i>char</i> in a horizontal word and can also be used in a vertical word. </li><li>  <b>C [_, ""]</b> - the square does not yet contain any characters and can be used in the horizontal word. </li><li>  <b>C [_, ""]</b> - the square does not yet contain any characters and can be used in a vertical word. </li></ul><br>  All this information will be associated with <b>status</b> values ‚Äã‚Äãdown values.  At the same time, <b>status [{i, j}]</b> will calculate the current state of the square centered at the point {i, j}.  At the output, it will produce an object of the form <b>C [...]</b> or remain in a non-computed form, if the square has not yet been used in any way or is not a neighbor for some of the words already in the table. <br><br>  We associate the value of this function with the current content of the square by means of the expression <b>status [square] = value</b> .  This will allow us to fix the search time for the status of each of the necessary squares by calculating the expression <b>status [square]</b> . <br><br>  The <b>positionAWord</b> function sets the values ‚Äã‚Äãof the squares in which the characters of the word are placed, and also adds information about the potential use of adjacent squares in the future.  For example, squares located directly above or below a horizontal word can only be used for vertical words in the future. <br><br>  The optional last argument of the <b>positionAWord</b> function is used to create possible side effects, such as, say, monitoring the order of adding words, which we will use below.  In the implementation of this function, we had to consider a large number of different situations - this is easily seen in the comments to the code below. <br><br>  <b>In [1]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b49/451/e24/b49451e24366e08582eb8d80f5cdf819.png" alt="ConstructingCrosswordArrays_6.png" width="619" height="1813"><br><br>  As an example, we place the word <i>Mathematica</i> , starting from the square {1,1} horizontally. <br><br>  <b>In [2]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/045/b50/60e/045b5060eba1c314c8b6a21bfa51d0fd.png" alt="ConstructingCrosswordArrays_7.png" width="594" height="18"><br><br>  Below is a list of the squares that have been marked. <br><br>  <b>In [3]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/490/3ab/aaf/4903abaaf5e542a8e3f37d5a444856c1.png" alt="ConstructingCrosswordArrays_8.png" width="274" height="18"><br><br>  <b>Out [3] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efc/942/85f/efc94285f3d6348395d89089410c4eb2.png" alt="ConstructingCrosswordArrays_9.png" width="350" height="699"><br><br>  In order to see the build process live, let's create a function <b>makeCWPGridGraphics</b> , which will color the squares according to their current status. <br><br>  <b>In [4]: ‚Äã‚Äã=</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/379/927/ed5/379927ed5b790a837b4b7b0243db7256.png" alt="ConstructingCrosswordArrays_10.png" width="623" height="595"><br><br>  The graph below shows the current status of the squares adjacent to the symbols already arranged in squares. <br><br>  <b>In [5]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9fa/1ce/84f/9fa1ce84f4295fa3953e7c19eef67c25.png" alt="ConstructingCrosswordArrays_11.png" width="271" height="18"><br><br>  <b>Out [5] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90d/a86/e6b/90da86e6bd49e1449e4cd932a45b9a47.png" alt="ConstructingCrosswordArrays_12.png" width="600" height="156"><br><br>  Function <br><br>  <b>positioningAWordIsPossibleQ [characterList, k, {i0, j0}, hv]</b> <br><br>  checks whether the list of characters <i>characterList can be</i> arranged in such a way that the <em>kth</em> element of the list is located in the square {i0, j0}, and the word <i>characterList</i> is located according to the value of the <em>hv</em> parameter (horizontally "" or vertically "").  In order to do this, we need to check that each of the required squares is either available or has the required symbol already in place.  Also, adjacent squares must either be empty or must have letters from a word that is already perpendicular.  The auxiliary function <b>whileTrueLoops</b> is an iterative function that finishes its work as soon as the first incompatible square is found using the <a href="http://reference.wolfram.com/language/ref/Throw.html">Throw</a> - <a href="http://reference.wolfram.com/language/ref/Catch.html">Catch</a> technique.  In the future, we will always assume that a new word is placed only with the help of the <b>positionAWord</b> function and only when the <b>positioningAWordIsPossibleQ</b> function <b>returns the</b> value True. <br><br>  <b>In [6]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/541/359/2b0/5413592b039a5ab0e0d4dfa2a92f64a8.gif" alt="ConstructingCrosswordArrays_13.gif" width="554" height="91"><br><br>  <b>In [8]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a37/fe6/db8/a37fe6db83881f67045e3261a85c4538.png" alt="ConstructingCrosswordArrays_14.png" width="622" height="1189"><br><br>  If we have already placed the word <i>Mathematica</i> horizontally, we can arrange another copy of the word <i>Mathematica</i> vertically. <br><br>  <b>In [9]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb0/609/dba/bb0609dba2adfc54c55198a80ca9a926.png" alt="ConstructingCrosswordArrays_15.png" width="552" height="42"><br><br>  <b>Out [9] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b48/1c2/46f/b481c246f44b88ca3e1a1493541bb3eb.png" alt="ConstructingCrosswordArrays_16.png" width="38" height="21"><br><br>  But we cannot horizontally place the word <i>Mathematica</i> in the same position. <br><br>  <b>In [10]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2fd/174/bfe/2fd174bfe2dc56ce3727d4214711aa34.png" alt="ConstructingCrosswordArrays_17.png" width="552" height="42"><br><br>  <b>Out [10] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/109/f1a/878/109f1a87846efd40245c087c56260721.png" alt="ConstructingCrosswordArrays_18.png" width="48" height="21"><br><br>  In general, it would be possible to place another copy along the one already located, starting with the letter ‚Äút‚Äù in the position {3, 3}. <br><br>  <b>In [11]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/341/6ac/625/3416ac62514324379b4d0a9a01375697.png" alt="ConstructingCrosswordArrays_19.png" width="552" height="42"><br><br>  <b>Out [11] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b48/1c2/46f/b481c246f44b88ca3e1a1493541bb3eb.png" alt="ConstructingCrosswordArrays_20.png" width="38" height="21"><br><br>  Of course, we could put another copy of the word <i>Mathematica</i> in the middle, say, make it vertical, passing through the second letter ‚Äúm‚Äù of the horizontal copy of the word <i>Mathematica</i> . <br><br>  <b>In [12]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/130/218/89c/13021889c175e54a7ac94dca12362a74.png" alt="ConstructingCrosswordArrays_21.png" width="552" height="42"><br><br>  <b>Out [12] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/23f/2d9/c7a/23f2d9c7a75d5bd31f0eda3523ae71cb.png" alt="ConstructingCrosswordArrays_22.png" width="38" height="21"><br><br>  <b>In [13]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/43f/fa1/edd/43ffa1eddeae5ee899ef6fc377f21fbf.png" alt="ConstructingCrosswordArrays_23.png" width="587" height="18"><br><br>  Using the code below, we can visually display the current state of our table. <br><br>  <b>In [14]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/090/011/93f/09001193f7592e84c07b3c9db24ad6aa.png" alt="ConstructingCrosswordArrays_24.png" width="271" height="18"><br><br>  <b>Out [14] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/27b/c21/991/27bc219916cb001d003657124deb1182.png" alt="ConstructingCrosswordArrays_25.png" width="600" height="599"><br><br>  Function <br><br>  <b>findAPossiblePositionAndPositionAWord [characterList]</b> <br><br>  looks for a possible location of the characters <i>characterList</i> and then places them.  The function returns either the coordinates of the added character, or $ Failed, in case there is no way to add the word.  We also provided this function with several fairly obvious options that, among other things, allow us to place words as tightly as possible, or vice versa, as freely as possible.  If the value of the <b>AttachmentPosition</b> option is made equal to <b>Inner</b> , then the function tends to add each new word inside the already placed ones, <b>Outer</b> value - on the contrary, if the <b>RandomSample</b> value is <b>used</b> , then the position of the new word is chosen randomly. <br><br>  <b>In [15]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ba/faf/f36/1bafaff36b64cbfa1b5bd4b990d4ff4a.png" alt="ConstructingCrosswordArrays_26.png" width="582" height="235"><br><br>  <b>In [16]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/227/496/457/2274964576d5428a8fcfbf201ea67c2e.png" alt="ConstructingCrosswordArrays_27.png" width="489" height="73"><br><br>  <b>In [17]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b44/c9a/e6c/b44c9ae6c9e2134145e53f6ae73ec63a.png" alt="ConstructingCrosswordArrays_28.png" width="609" height="919"><br><br>  Finally, we will create the function <b>makeCWPGrid [status]</b> , which will construct, in fact, a table of letters based on the down values ‚Äã‚Äãof the <b>status</b> function. <br><br>  <b>In [18]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da4/b11/8b1/da4b118b145ca0b3000568fa64e4bca9.png" alt="ConstructingCrosswordArrays_29.png" width="621" height="451"><br><br>  The graph below shows the state of all the already added squares after the word <i>Mathematica</i> was added 6 times to the original.  Gray squares correspond to words already placed;  red - must remain empty;  green - new words can be added through them.  Arrows indicate in which direction you can add new words. <br><br>  <b>In [19]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0f1/e34/6a6/0f1e346a6f8830e916a7d841eec73c12.gif" alt="ConstructingCrosswordArrays_30.gif" width="586" height="91"><br><br>  <b>Out [22] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc8/5d2/b13/dc85d2b133f5be8aeb34889fcaae1d90.png" alt="ConstructingCrosswordArrays_31.png" width="600" height="534"><br><br>  <b>In [23]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/81f/f99/ca0/81ff99ca0cf109dfaa167a1b32c57328.gif" alt="ConstructingCrosswordArrays_32.gif" width="570" height="397"><br><br>  The graph below shows some of the steps involved in building an array of crossword puzzles.  If you carefully study the device of squares in each of the figures (for each of the options), it becomes much more understandable how the algorithms presented above are arranged. <br><br>  <b>In [25]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f1/a0d/276/6f1a0d27684c33c7f4dadc6b8735fd94.png" alt="ConstructingCrosswordArrays_33.png" width="608" height="249"><br><br>  <b>Out [25] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc7/707/a98/fc7707a9864897717434fc2b3020b9ad.png" alt="ConstructingCrosswordArrays_34.png" width="600" height="857"><br><br>  Using the <a href="http://reference.wolfram.com/language/ref/Manipulate.html">Manipulate</a> function, we can easily create an interactive version of the algorithm that will allow us to follow its steps clearly and simply.  The following interactive version of the algorithm allows you to follow its 12 first steps for different values ‚Äã‚Äãof options. <br><br>  <b>In [26]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/48d/2bd/5e1/48d2bd5e16f73cf7801a63c9304efcca.png" alt="ConstructingCrosswordArrays_35.png" width="578" height="199"><br><br>  <b>Out [26] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aed/363/ae9/aed363ae9911519cda20b28ea9af9f88.png" alt="ConstructingCrosswordArrays_36.png" width="577" height="628"><br><br>  Now let's consider the complexity of the implemented method.  Due to the fact that the search for the current state of a square is almost constant (independent of the number of squares already specified), we expect the linear complexity of <em>O</em> <em>(</em> n <em>)</em> depending on the number of words.  As a test, we will find the placement of the 500 words <i>Mathematica</i> .  To visualize the calculation process, we will use the <a href="http://reference.wolfram.com/language/ref/Monitor.html">Monitor</a> function. <br><br>  <b>In [27]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/214/1ea/10d/2141ea10dbb37bbf504b521364d9e629.gif" alt="ConstructingCrosswordArrays_37.gif" width="608" height="253"><br><br>  Now we will draw the measured values ‚Äã‚Äãof the elapsed time.  The graph on the right shows the average time to add a specified number of words.  It grows linearly with the number of words you need to add. <br><br>  <b>In [30]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a39/054/b81/a39054b813074206fd5f7e40b867013a.png" alt="ConstructingCrosswordArrays_38.png" width="587" height="91"><br><br>  <b>Out [30] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b8/d63/fc9/3b8d63fc9f183a1e49d659aa27b08ea1.png" alt="ConstructingCrosswordArrays_39.png" width="611" height="190"><br><br>  Thus, the total time of forming an array of <em>n</em> wordword crossword is of order complexity <img src="https://habrastorage.org/getpro/habr/post_images/7b3/02c/087/7b302c087273e09a857bdf64fc7963c8.png" alt="ConstructingCrosswordArrays_40.png" width="29" height="20">  .  The graph shown below clearly demonstrates this (black - elapsed time, red - found model of the form <img src="https://habrastorage.org/getpro/habr/post_images/666/655/84c/66665584c046d6a2e4580a40d9109929.png" alt="ConstructingCrosswordArrays_41.png" width="29" height="28">  ). <br><br>  <b>In [31]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e78/865/e83/e78865e83b6c4d54f7bafe4ef1301ff4.png" alt="ConstructingCrosswordArrays_42.png" width="590" height="456"><br><br>  <b>Out [32] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/62f/ed0/157/62fed015791b94f0bf199d9c21471dec.png" alt="ConstructingCrosswordArrays_43.png" width="600" height="382"><br><br>  Below is the resulting crossword array.  We use a small font size to display it here in full. <br><br>  <b>In [33]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/490/16f/047/49016f0478ec5309bdb5c888b3df6ea5.png" alt="ConstructingCrosswordArrays_44.png" width="292" height="18"><br><br>  <b>Out [33] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e4/922/45b/4e492245b8377c2e8633bb9d1bfb2cbc.png" alt="ConstructingCrosswordArrays_45.png" width="560" height="564"><br><br>  Due to the much higher speed of this approach, based on hashing for a large number of words (say, thousands), we can now very quickly create a crossword puzzle, say, of 250 words.  In this case, as a list of these words, we take 250 selected randomly embedded functions of the Wolfram Language ( <i>Mathematica</i> system). <br><br>  <b>In [34]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae8/ee2/902/ae8ee29025785e8b426883f29db551ac.gif" alt="ConstructingCrosswordArrays_46.gif" width="601" height="325"><br><br>  <b>Out [38] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d9a/7f2/18d/d9a7f218dad2ec599a95ce2b8333365b.png" alt="ConstructingCrosswordArrays_47.png" width="159" height="21"><br><br>  <b>In [39]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/52d/808/5c1/52d8085c18fda925c51ddbce44209e55.png" alt="ConstructingCrosswordArrays_48.png" width="288" height="18"><br><br>  <b>Out [39] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/608/a24/3be/608a243beb3ae31dcb3c6fdae6348420.png" alt="ConstructingCrosswordArrays_49.png" width="591" height="744"><br><br>  The graph shown below displays the order in which the words were located on a plane (in the table).  Red, high columns correspond to words that were added at the beginning, blue, low ‚Äúturrets‚Äù - added later. <br><br>  <b>In [40]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b6/ffa/888/6b6ffa888c4aeb898fa63417eb4b9f1b.png" alt="ConstructingCrosswordArrays_50.png" width="626" height="163"><br><br>  <b>Out [40] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/159/507/dd0/159507dd08ad101386743828d06447ef.png" alt="ConstructingCrosswordArrays_51.png" width="600" height="487"><br><br>  Now we will build an array of crossword, consisting of the names of the functions (and their options) associated with various visualizations in the Wolfram Language. <br><br>  <b>In [41]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ed/d41/e65/4edd41e65d97a0dc32c2b539a05c0370.gif" alt="ConstructingCrosswordArrays_52.gif" width="592" height="88"><br><br>  <b>Out [42] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b21/034/7d7/b210347d75831e6515e51dd74240d49c.png" alt="ConstructingCrosswordArrays_53.png" width="29" height="21"><br><br>  <b>In [43]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f0e/94a/aa1/f0e94aaa1448b8a84029947138e22750.gif" alt="ConstructingCrosswordArrays_54.gif" width="618" height="199"><br><br>  <b>In [47]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/971/a20/837/971a20837ac978947515659370130690.png" alt="ConstructingCrosswordArrays_55.png" width="298" height="18"><br><br>  <b>Out [47] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0da/776/c29/0da776c29b7d9d8dfe19fb6a82413f9d.png" alt="ConstructingCrosswordArrays_56.png" width="590" height="669"><br><br>  Now create a potential function <b>f</b> for the <b>position</b> function <b>AWord</b> .  This function will be used to determine which particular word already belongs to one or another character. <br><br>  <b>In [48]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b09/8f8/7a8/b098f87a803c0cd03782b4c60cdef6fb.gif" alt="ConstructingCrosswordArrays_57.gif" width="630" height="379"><br><br>  Now let's create some variation of the function <b>makeCWPGrid</b> , which will use the information associated with the function <b>f</b> to color the words. <br><br>  <b>In [53]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa2/b48/365/fa2b48365c9fef7cee42c6f0956a938d.png" alt="ConstructingCrosswordArrays_58.png" width="617" height="559"><br><br>  The result is presented in the table below.  The color of the letters standing at the intersection of words is mixed. <br><br>  <b>In [54]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ab/68e/6f0/4ab68e6f0e8d760d7b2ce691c6f95d80.png" alt="ConstructingCrosswordArrays_59.png" width="596" height="127"><br><br>  <b>Out [54] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f7a/de3/61b/f7ade361bf5fd8cec9532f87e7d97189.png" alt="ConstructingCrosswordArrays_60.png" width="611" height="541"><br><br>  We will finish the article by creating a single function <b>CrossWordConstructionCached</b> , which serves to create a crossword puzzle based on the list of words that is given to it at the entrance. <br><br>  <b>In [55]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90e/717/1f3/90e7171f31b4b5024f5e4f90bbb38850.png" alt="ConstructingCrosswordArrays_61.png" width="608" height="289"><br><br>  The constructed algorithm can work with any characters.  As an example, there are two ways to make a crossword puzzle from all three-digit prime numbers. <br><br>  <b>In [56]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f66/2ed/68a/f662ed68a40d8adb77dac14db7fc2eca.png" alt="ConstructingCrosswordArrays_62.png" width="613" height="163"><br><br>  <b>Out [56] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b29/89d/fab/b2989dfab540a9951e0d4beca84ec7be.png" alt="ConstructingCrosswordArrays_63.png" width="384" height="941"><br><br>  Or you can create a crossword puzzle of the names of all the Nobel laureates (citizens of Russia and the USSR): <br><br>  <b>In [57]: =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/71e/2cb/13e/71e2cb13efce5e13e6916ada4ac4e29a.gif" alt="ConstructingCrosswordArrays_64.gif" width="583" height="387"><br><br>  <b>Out [58] =</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b0d/c86/efa/b0dc86efa2c4b54db53d24aeafce03fe.png" alt="ConstructingCrosswordArrays_65.png" width="534" height="525"><br><br>  <i>Resources for learning Wolfram Language (Mathematica) in Russian: <a href="http://habrahabr.ru/post/244451">habrahabr.ru/post/244451</a></i> </div><p>Source: <a href="https://habr.com/ru/post/249141/">https://habr.com/ru/post/249141/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249129/index.html">Push non-ASCII to inappropriate locations.</a></li>
<li><a href="../249131/index.html">Three words that can change the world</a></li>
<li><a href="../249135/index.html">CLR bug: how to drag an object into a sandbox without marshalling and call a callback</a></li>
<li><a href="../249137/index.html">GHOST (dot) WEB: First Blood</a></li>
<li><a href="../249139/index.html">A brief course of computer graphics: we write a simplified OpenGL do it yourself, article 6 of 6</a></li>
<li><a href="../249143/index.html">Automate and speed up the process of setting up cloud servers with Ansible. Part 1: Introduction</a></li>
<li><a href="../249145/index.html">2014 dotGo conference in Paris</a></li>
<li><a href="../249151/index.html">Free internet for tablet from Beeline and MTS</a></li>
<li><a href="../249155/index.html">Analytics for December, plans for a new iPhone, Roskomnadzor measures - and other news of the week for a mobile developer</a></li>
<li><a href="../249159/index.html">Apple fixed important OS X vulnerabilities</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>