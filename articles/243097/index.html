<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JMeter as a relatively convenient and practical tool for testing API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article will talk about testing in a short time using the JMeter tool, as well as how to successfully complete the work with the forced replacemen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JMeter as a relatively convenient and practical tool for testing API</h1><div class="post__text post__text-html js-mediator-article">  The article will talk about testing in a short time using the JMeter tool, as well as how to successfully complete the work with the forced replacement of specialists on the project. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c98/fa1/c97/c98fa1c97e2b59b9056ebb3a9cab7596.jpg" alt="image"><br><br>  As a tester, I love it when everything is in order, but life is full of dirty hacks.  I like to automate, tying Selenium to Python, but when I meet the problem of limited resources, I rush for the tool that allows you to do "all the same, but faster."  In this post I will tell you that JMeter is a great tool for both load and functional testing. <br><a name="habracut"></a><br>  <b>I was assigned the task of testing the API for the mobile application.</b>  <b>Its features were as follows:</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Dates, more than ever, are compressed; </li><li>  There is a specification of all methods, but it changes literally on the fly; </li><li>  The project is confusing.  If I die in the mountains or get sick, it will be very expensive and difficult to introduce a new person into the project; </li><li>  As the CI system we use Jenkins.  Tests should get up easily without any rarely used, raw and overly complex plug-in; </li><li>  Mandatory load testing, but there is little time to conduct it; </li><li>  The very mobile application for this API is written by a completely different team from another city.  The only way to test is to view responses to requests. </li></ul><br><br>  Hands were drawn to Python as usual, but something switched in my head.  ‚ÄúDear friend,‚Äù I said to myself, ‚Äúif you are the only person on the team who will write in Python, then who will understand what you wrote and continue to work if you are absent?‚Äù <br><br>  It was necessary to clearly look for another tool.  And then I looked at the beloved JMeter from a completely different side: JMeter, of course, leaves much to be desired externally, but instead of a thousand small scripts we will have a clear structure of tests.  Therefore, I can ask colleagues to run random tests instead of me from any machine.  Even programmers appreciated that this is much more convenient than ‚Äúrunning hands‚Äù for debugging. <br><br>  <b>It has everything from the box (well, almost) what is needed:</b> <br><br><ul><li>  Working with variables, regular expressions, parsing JSON, working with cookies and another huge bag of plushies; </li><li>  A simple and easy-to-understand plugin for Jenkins that allows you to connect everything; </li><li>  For load testing, I do not have to write new scripts, you can only slightly modify existing ones. </li></ul><br>  The only thing that was a little embarrassing - Jenkins views JMeter exclusively as a load testing tool, so the history of the found bugs was in the Performance report tab. <br><br>  <b>Briefly about the testing process itself:</b> <br><br><ul><li>  Standard Thread group for 1 Virtual user; </li><li>  Each group of tests is enclosed in Simple Controller (it has only one distinctive feature: all requests go one after another. This is what you need, just like in a test case); </li><li>  Each individual test case is also enclosed in a separate Simple Controller.  Very simple test cases, for example, checking whether 401 code will return when trying to climb without authorization, are made by a separate test case. </li></ul><br>  <b>Instead of a thousand words.</b>  <b>Here is a small piece of the finished dough:</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/316/56f/b76/31656fb76b1eae66dea8f746f8c02dcb.png" alt="image"><br>  <i>One of many tests.</i>  <i>Groups are divided into Simple Controller.</i>  <i>Http request, Regular Expression Extractor, Response Assertion, some User Defined Variables, Random Variable and almost everything.</i> <br><br>  Almost any test begins with the creation of the necessary users.  Here the only ‚Äúhardcoded place‚Äù is the authorization of the administrator to create a new item in the database. <br><br>  What is funny, a method was created to create a user, but the removal was only done manually through the admin panel.  I decided not to complicate the logic of each individual case by adding separate tests on Selenium for cleaning users, and did not delete the created users inside the test itself.  I received thanks from the programmers for this: when the Padzhinator started writing for admin pages, there were already thousands of test users in the database. <br><br>  To check the result, after each request, there is a long series of assertions.  It checks the accuracy of the incoming data: http codes of responses, messages. <br><br>  I have disabled all charts and reports except for simple tree view for debugging.  All the bugs can be viewed directly in Jenkins, and for load testing it was more convenient to upload directly to LoadSophia with their proprietary plug-in and pick it up already. <br><br>  <b>Here's how the programmer‚Äôs message looks like why the next build failed:</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f9d/477/c37/f9d477c3755b56fa50bcecc3c4fa85a6.png" alt="image"><br><br>  <b>And in more detail.</b>  <b>Waited for the 400 code - returned 404:</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0f7/aa1/aef/0f7aa1aefc61e08887dcb80f64441f83.png" alt="image"><br><br>  <b>The result of this black magic and obscurantism</b> : <br><br>  Of the 1200 hours laid down for development, the total amount of writing and actual maintenance of autotests was 50 hours.  To fix bugs - 70 hours.  And about half of them was associated with a misunderstanding of the customer and developers.  The result is very good.  The alternative to checking everything manually would take almost more time than it took to program.  Programmers saw right away how something was going wrong, in the whole system with each new build. <br>  In my absence of problems with launching and modifying autotests, there were no programmers or testers.  Sometimes tests were changed right in notepad, because * .jmx is also XML. <br><br>  For load testing, I simply turned off unnecessary tests for a while, calculating where the weak points of the system are and which tests pass slowly.  There were no problems with the use of new JMeter buns.  Everything is documented and everything is clear. <br><br>  <b>Of the difficulties encountered:</b> <br><br><ul><li>  The plugin for JMeter that implements oAuth authentication is very outdated and does not work with oAuth 2.0.  We had to test a small part of the functionality related to authorization via social networks separately. </li><li>  Tying Selenium to JMeter is also a dubious pleasure.  Admin UI was also tested separately. </li><li>  For people who are not confronted with the JMeter interface, the first acquaintance ends with <s>retinal detachment a</s> slight disorder. </li></ul><br><br>  <b>PS</b> A small lyrical digression.  A <a href="http://habrahabr.ru/company/sqalab/blog/241772/">recent article</a> talked about a way to reduce the work of a tester through decomposition and, more importantly, the problems of the testing market.  One of the market responses to the ‚Äúvicious circle of testers,‚Äù described at the beginning of the article, is the standardization of testing skills.  With it, the employer will become more confident that he will find in the market the necessary specialist who can solve the problem.  The tester will know that with the knowledge gained he will not be lost in the market.  In this case, making functional testing through JMeter is not at all an academic solution.  But it reduced time costs and a pound of nerves with a similar result.  I had a friend who knew only the most basic basis of JMeter and Selenium, but was taken with open arms into one very respected company.  No one in my life interview asked me if I knew any rarely used library.  They asked mainly about JMeter, Selenium (and what I write for these solutions).  The approach ‚Äúmost importantly, know a few of the most important tools well and be able to apply‚Äù makes life easier for the tester, the employer, and the market as a whole. </div><p>Source: <a href="https://habr.com/ru/post/243097/">https://habr.com/ru/post/243097/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243081/index.html">‚ÄúWrite your game!‚Äù - KolibriOS New Year Contest</a></li>
<li><a href="../243083/index.html">PENTESTIT. Practical Information Security: The Results of 2014, Part I</a></li>
<li><a href="../243085/index.html">Adapting ZenCoding to C # - ZenSharp</a></li>
<li><a href="../243091/index.html">License for your open source project</a></li>
<li><a href="../243095/index.html">Lightning Hunters. Unusual Thunderstorm Experiments</a></li>
<li><a href="../243099/index.html">User-Designed Product Design</a></li>
<li><a href="../243101/index.html">The current state of M2M (machine-to-machine) systems</a></li>
<li><a href="../243103/index.html">Creating a User-Friendly Business Workflow Engine Based on Windows Workflow Foundation</a></li>
<li><a href="../243105/index.html">Vulnerability in one of the Alfa-Bank services allowed to view statements for any client</a></li>
<li><a href="../243107/index.html">New mechanism to suppress unnecessary messages analyzer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>