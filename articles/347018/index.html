<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Developing Reusable Reusable Components</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last year, we talked about how the front-end in the Unified Frontal System Program is arranged , about the library of elements and our approach to reu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Developing Reusable Reusable Components</h1><div class="post__text post__text-html js-mediator-article"> Last year, we talked about <a href="https://habrahabr.ru/company/efs/blog/325916/">how the front-end</a> in the Unified Frontal System Program <a href="https://habrahabr.ru/company/efs/blog/325916/">is arranged</a> , about the library of elements and our approach to reusing UI components.  Today we offer to compare several approaches to the development of React-components, thanks to <a href="https://medium.freecodecamp.org/designing-reusable-react-components-1cbeb897b048">Cory House</a> for the excellent material! <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/08/9i/uh/089iuhbyvdyqgcdqs_q-qyxzsqw.png"><br><br>  React is a library for creating components.  It allows you to split the user interface into components.  The only question is <a href="http://sethgodin.typepad.com/seths_blog/2017/12/granularity.html">how detailed these elements are</a> . <br><br>  Imagine that your team has just released a ReDo ToDo application.  A month later, another team working in your company wants to launch the ToDo application as part of its React billing application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It turns out that the ToDo application now needs to be launched in two ways: <br><br>  1. Independently; <br>  2. As part of the billing application. <br><br>  What better way to do in this situation? <br><br><img src="https://habrastorage.org/webt/xd/yf/bp/xdyfbpcfqqcdzmv2d25ww-eren0.png"><br><br>  To launch a React application from different points there are three options: <br><br>  1. <b>iframe</b> - embedding a todo application into an <code>iframe</code> billing application. <br>  2. <b>Reusable application component</b> - distribution of the entire todo application via npm. <br>  3. <b>Reusable UI component</b> - npm-package, which includes only the markup of the application. <br><br>  Consider the benefits of each of these approaches. <br><br>  <b>Approach 1: iFrame</b> <br><br>  The simplest and most obvious approach is to use an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe">iframe</a> to put the ToDo application into a billing application.  But then there are problems: <br><br>  1. If two applications display the same data, there is a risk that the data is out of sync; <br>  2. If two applications use the same data, eventually you will have to make unnecessary calls to the API to get this data; <br>  3. The behavior of an application placed in an iframe cannot be changed; <br>  4. When another team releases an application containing your application inside an iframe, it will inevitably affect you. <br><br>  Bottom line: Forget!  iframe you do not need. <br><br><img src="https://habrastorage.org/webt/vy/yr/nb/vyyrnbylgdgead8zlulxfnymsdo.jpeg"><br><br>  No no no! <br><br>  <b>Approach 2: Reusable Application Component</b> <br><br>  Spreading the application through npm, rather than iframe, will avoid problem number 4 from the list above, while the rest will remain ‚Äî API, authorization, and behavior.  Therefore, I do not recommend publishing the entire application to npm.  The level of detail is too high, making it difficult to interact with the user. <br><br><img src="https://habrastorage.org/webt/yl/ku/su/ylkusubkxbfj3_hk5mfn_lx9ccq.jpeg"><br><br>  React components that are reused must be detailed and easily assembled ‚Äî like LEGO design details. <br><br>  <b>Approach 3: Reusable UI Components</b> <br><br>  There is a more detailed approach based on the use of 2 components: <br><br>  1. "Stupid" React-components - only interfaces and no API-calls; <br>  2. API wrappers. <br><br>  ‚ÄúStupid‚Äù React components can be easily customized, merged and reused.  When using ‚Äúsilly‚Äù components in this way, you can provide the necessary data or determine which API calls the application should make. <br><br>  However, if you are going to combine several ‚Äústupid‚Äù components, you need to prepare the same API for several applications.  This is where API wrappers are needed. <br><br>  What are API wrappers?  These are javascript files containing HTTP requests to your API.  For HTTP requests, you can use, for example, the <a href="https://github.com/axios/axios">Axios</a> library. <br><br>  Imagine that you have a custom API.  How to make a custom API wrapper? <br><br>  1. Create a js-file with public functions, for example, getUserById, saveUser <br>  etc.  In addition, each function takes the appropriate parameters and uses Axios / Fetch to send HTTP requests to your API. <br>  2. Create a userApi npm package that will contain your wrapper code. <br><br>  <a href="">Example</a> : <br><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">/*  API- ,  : 1.     Axios. 2.     baseURL. 3.  ,     JavaScript-    API.    API   . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> axios <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'axios'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> api = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInitializedApi</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (api) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> api; <span class="hljs-comment"><span class="hljs-comment">//  api,    . return (api = axios.create({ baseURL: getBaseUrl(), responseType: 'json', withCredentials: true })); } //   function getBaseUrl() { //      baseURL : // 1.  URL   ,    . // 2.       . } function get(url) { return getInitializedApi().get(url); } function post(url, data) { return getInitializedApi().post(url, data); } //   //  ,            . export function getUserById(id) { return get(`user/${id}`); } export function saveUser(user) { return post(`user/${id}`, {user: user}); }</span></span></code> </pre><br>  A common practice is to publish React components and API wrappers to npm in the form of <a href="https://www.npmjs.com/pricing">private packages</a> . <a href="https://jfrog.com/artifactory/">Artifactory</a> can be used as an alternative to npm. <br><br>  These ‚ÄúLEGO parts‚Äù provide the foundation for quickly creating new applications from reusable elements. <br><blockquote>  The system, whose component parts are easy to assemble, provides components that can be selected and combined in various combinations to meet the relevant user requirements.  - <a href="https://en.wikipedia.org/wiki/Composability">Wikipedia</a> </blockquote><br>  Ideally, your ‚Äústupid‚Äù reusable user interface component should consist of <a href="https://app.pluralsight.com/library/courses/react-creating-reusable-components/table-of-contents">other reusable components, also published in npm</a> . <br><br>  With reusable components reusable and API wrappers published in npm, it‚Äôs easy to create something really cool ‚Äî almost like LEGO parts. <br><br>  And what approach do you use?  We invite you to discuss in the comments to the article. </div><p>Source: <a href="https://habr.com/ru/post/347018/">https://habr.com/ru/post/347018/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347002/index.html">Studying MBR and GPT structures</a></li>
<li><a href="../347004/index.html">Ukrainian startups are back from Las Vegas. And so</a></li>
<li><a href="../347008/index.html">Platforms for learning experiments with reinforcement and not only</a></li>
<li><a href="../347014/index.html">Learning to manage Kubernetes securely</a></li>
<li><a href="../347016/index.html">We increase our premium twice, or how to hack documents signed with a reinforced qualified signature</a></li>
<li><a href="../347020/index.html">Letter to Junior: what I would like to know at the beginning</a></li>
<li><a href="../347022/index.html">Work with problem * .dwg-files in the environment of nanoCAD</a></li>
<li><a href="../347024/index.html">How did I fix the interactive login, or What is there in the guts of // chrome / test / ChromeDriver?</a></li>
<li><a href="../347026/index.html">Introduction to modern network balancing and proxying</a></li>
<li><a href="../347028/index.html">Toaster statistics for 2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>