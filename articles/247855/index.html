<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Torment with LED cube 4x4x4 (Arduino + 74HC595)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, dear habravchane! 

 I finally have something to tell you and show. I hope the story will be interesting not only to me. 

 I will talk about m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Torment with LED cube 4x4x4 (Arduino + 74HC595)</h1><div class="post__text post__text-html js-mediator-article">  Hello, dear habravchane! <br><br>  I finally have something to tell you and show.  I hope the story will be interesting not only to me. <br><br>  I will talk about my experience working with Ardiuno UNO and even show you what I finally got.  If you are not tired of this yet - welcome under cat. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Introduction</b> <div class="spoiler_text">  I am a teacher of physics, computer science and astronomy in ordinary high school.  I managed to work as a sysadmin-enikeyschik and friends with computers a little, I know how to work with sites a little, I understand php and MySQL a little.  But in programming, I'm a little more than zero.  This should slightly reduce your anger from reading the program I wrote, which I will show a little further. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the spring of 2014, at the regional conference, he met LEGO WeDo and electronic collectors of LART-M LLC.  I liked this business very much, but it was not with me. <br><br>  It so happened that at the beginning of the school year I was offered to lead a robotics circle with LEGO Mindstorms NXT.  Even the lack of experience with these sets did not bother the director of the regional house of childhood and youth.  So far, it seems everyone is happy with me. <br><br>  I got involved, I started to like robotics, but the prices for Lego just killed.  Then I came across this <a href="http://habrahabr.ru/post/236165/">article</a> .  I contacted the company involved in the delivery of these kits to us and we agreed on a trial purchase of one set and further cooperation in the field of introducing this case to schools.  After receiving this set in my tenacious pens, I began to try and use foul language ... I‚Äôll tell you about the problems associated with this set if it is interesting.  The main thing is not this. <br><br>  At first I, of course, tried to connect sensors / buttons / diodes.  Everything worked and sparkled.  I even spoke at one regular regional conference and ‚Äúbroke the bank‚Äù.  And there were only 2 photoresistors, 2 LEDs, 1 speaker, 1 button, 3 mirrors, 1 potentiometer (there were no more buttons at that time) and 1 laser pointer.  This resulted in a small house that did the following: <br>  1) light the LED above the entrance door when it is dark outside; <br>  2) play a simple melody when they press the doorbell button; <br>  3) light the LED in the ‚Äúguard room‚Äù when someone rings the doorbell (all of a sudden the guard in headphones listens to music); <br>  4) when unscrewing the potentiometer to the maximum (it will be necessary to replace the second button, the benefit now it is) the alarm went on - the internal photoresistor began to respond to the interruption of the laser beam from the pointer through the mirror system directed to it "from the street".  When crossing the beam in the ‚Äúguard room‚Äù, a siren rang and the LED came on. <br><div class="spoiler">  <b class="spoiler_title">Scary house</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/39c/cec/1aa/39ccec1aa8174a0396bf59534d2f71af.JPG"></div></div><br>  After becoming acquainted with this set, I began to actively read about the Arduino and, in the end, I ordered a set with an Arduino UNO (or rather, a Chinese equivalent with a wild name) and a bunch of details on Aliexpress.  And then Ostap suffered (s) ... <br></div></div><br>  Is this what you did during the New Year holidays?  Rested, right?  I spent most of the holidays with arduinka. <br><br>  First assembled a cube of 27 LEDs (it seems, according <a href="http://arduinokit.ru/arduino/arduino-projects/3x3x3-cube-making-of-high-brightness-leds.html">to this instruction here</a> ).  I do not post a sketch of the original version of the work (as in the video), because  it is necessary to completely rewrite it, taking into account new knowledge.  But first, it worked like this: <br><div class="spoiler">  <b class="spoiler_title">LED cube 3x3x3</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/PXCQdfTjRi8%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhgtdt58Qh4qi7TWswO4r93Zgo8aQQ" frameborder="0" allowfullscreen=""></iframe></div></div><br>  UPD: now this cube is controlled by the IR remote control: <a href="http://pastebin.com/vxuejsVr">sketch</a> , <a href="https://drive.google.com/file/d/0B2XMSGilPq7EZVZNNWxBME94bFU/view%3Fusp%3Dsharing">IRremote</a> library, <a href="https://drive.google.com/file/d/0B2XMSGilPq7EdzdHZWx3SXZsVUk/view%3Fusp%3Dsharing">LedCube</a> library.  Immediately I give links to library files so that there are no problems with different versions.  I will draw the wiring diagram a little later, sorry. <br><br>  It seemed to me a little, and I believed in myself.  Therefore, I decided to build the same cube, but from 64 LEDs.  Bad business is not tricky, especially when it is not necessary to work.  First I assembled a die using several similar instructions (like <a href="http://cxem.net/arduino/arduino40.php">this one</a> and <a href="http://blog.savinyurii.ru/2014/01/arduino-led-cube-4x4x4.html">this one</a> ).  It turned out like this ( <a href="http://pastebin.com/4F4SLj84">sketch</a> ): <br><div class="spoiler">  <b class="spoiler_title">LED cube 4x4x4</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Z59fPtrYlw8%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhi_boO5dIbSkcfgGLEZMlwgHp0XiQ" frameborder="0" allowfullscreen=""></iframe></div></div><br>  To manage such a cube was quite simple.  The problem was that all 20 outputs in my Arduino UNO were occupied by LEDs, but I also wanted to connect some sensors and other delights. <br><br><div class="spoiler">  <b class="spoiler_title">UPD2: a photo with a bunch of wires</b> <div class="spoiler_text">  First version.  All 20 ports are busy on Arduinka: <br><img src="https://habrastorage.org/files/39c/3bb/8d8/39c3bb8d8b4c4b91899f0eab09db1bc4.JPG"></div></div><br>  As a result of a certain number of nerves killed and thanks to the <a href="http://arduino.ru/forum/apparatnye-voprosy/pomogite-uluchshit-led-cube-4x4x4">help of good people, I</a> managed to reconnect my cube to arduinka using two 74HC595 shift registers ( <a href="http://arduino.ru/Tutorial/registr_74HC595">instruction</a> ).  During the writing of the program, I managed to understand the language a little better, although some things in my program still seem like magic to me.  <a href="https://drive.google.com/file/d/0B2XMSGilPq7EdmhvZ085MXBMYTg/view%3Fusp%3Dsharing">Connection scheme of the cube to Arduino</a> (made in Fritzing 0.9.1b.64. Sorry for the quality, for the first time I worked with this program). <br><div class="spoiler">  <b class="spoiler_title">UPD2: a few more pictures with a bunch of wires</b> <div class="spoiler_text">  The second version.  On Arduinka, only 7 ports are occupied by the cube, but everything is assembled on a breadboard and used about 70 wires: <br><img src="https://habrastorage.org/files/d4d/5eb/ead/d4d5ebeadf6b4f9ea19c15423cf1ee08.JPG"><br><img src="https://habrastorage.org/files/f23/ca0/dd4/f23ca0dd465444f086275a8662567646.JPG"><br><br>  The final version.  All small parts are soldered and hidden in a box: <br><img src="https://habrastorage.org/files/b7b/0b4/328/b7b0b43286eb4771a155de97e58eb1f4.JPG"><br><img src="https://habrastorage.org/files/e30/9c2/63f/e309c263f58b4618a30d9f5d51cf0ca3.JPG"><br><img src="https://habrastorage.org/files/446/726/e6b/446726e6b1344f99ad3bc1053c980763.JPG"></div></div><br>  Actually, it became a little more difficult to control the cube, but we managed to connect a two-line display, which displays the name of the cube's operation mode and the number of this mode (it is convenient to pick the program, seeing this info), and a button that switches the cube's operation mode. <br><br><div class="spoiler">  <b class="spoiler_title">UPD2: Video of the almost final version of the cube</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/AFijeQGJ1j8%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhhjq67EfO-Iu7U1Qko8GhpNe3h1tQ" frameborder="0" allowfullscreen=""></iframe></div></div><br>  Yes, I forgot to say.  My wife leads computer science in the same school and, looking at my torment, she had the thought of an elective course for grade 9 (so far everything is in the form of an idea and rough sketches) for working with Arduinka.  Hopefully, something will come out of this. <br><br><div class="spoiler">  <b class="spoiler_title">What else do you want to do</b> <div class="spoiler_text">  1) connect a microphone to the cube and turn the cube into a light-music installation.  Unfortunately, it is not very successful.  The microphone in the kit responds only if it is blown (an amplifier is needed, but not yet). <br>  2) add different effects to the cube. <br>  3) show the benefits of arduinka in physics lessons - I want to measure the speed of an object (2 photoresistors + 2 laser pointers), but for now this is not very successful either. <br>  4) learn how to manage servomotors properly and finally make a typewriter!  While at connection of two servomotors it turns out to manage only one, the second constantly turns in one direction. <br>  5) learn how to control arduinka via bluetooth.  There is a module, but so far the work with it is not very glued. <br>  6) wait for the arrival of a few more sensors / screens from Aliexpress and do something else interesting. <br>  7) to interest pupils and at least some of them to teach this all ... </div></div><br>  <b>UPD:</b> added a sketch for 3x cube with links to used libraries and 4x cube connection diagram. <br>  <b>UPD2:</b> added photos and video.  Updated the <a href="https://drive.google.com/file/d/0B2XMSGilPq7EdmhvZ085MXBMYTg/view%3Fusp%3Dsharing">4x4x4 cube connection scheme</a> on GoogleDisk. </div><p>Source: <a href="https://habr.com/ru/post/247855/">https://habr.com/ru/post/247855/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247841/index.html">The App Store breaks records, Rovio experiments with genres, 9GAG takes on games - and other news of the week for a mobile developer</a></li>
<li><a href="../247843/index.html">Dictionary implementation in Python 2.7</a></li>
<li><a href="../247847/index.html">Simple site parsing with SlimerJS</a></li>
<li><a href="../247849/index.html">Meteor. How to sip this your iron: router for CRUD?</a></li>
<li><a href="../247853/index.html">Experience and practical tips to launch iOS applications</a></li>
<li><a href="../247857/index.html">All ways to iterate an array in javascript</a></li>
<li><a href="../247859/index.html">We invite you to test the updated design of Alfa Mobile</a></li>
<li><a href="../247861/index.html">How we taught Mail.Ru how to glue letters into threads</a></li>
<li><a href="../247865/index.html">Work with a client or "why did you not do what we asked for?"</a></li>
<li><a href="../247867/index.html">35 new free courses virtual academy Microsoft Virtual Academy, January 2015</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>