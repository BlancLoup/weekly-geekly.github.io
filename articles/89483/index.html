<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>I write a search engine (virtual project). Part 1 First bricks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Who is not interested in the invention of bicycles, please do not read further and do not spit in the back. 
 Those who have something to say on the s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>I write a search engine (virtual project). Part 1 First bricks</h1><div class="post__text post__text-html js-mediator-article">  Who is not interested in the invention of bicycles, please do not read further and do not spit in the back. <br>  Those who have something to say on the subject of the question are always happy. <br>  Now I am going to consider the main issues that I need to scale the system. <br><a name="habracut"></a><br>  For successful scaling, the system, including data, needs to be broken down into elementary ‚Äúbricks‚Äù.  So that this process was as simple as possible.  The simpler, the less confusion in the future.  Successful partitioning may be a plus in solving other problems.  This has already happened in my practice, when a detailed data structure made it possible to solve new problems, which were not thought of at the very beginning of the project.  But honestly, at the basis of this thoroughly elaboration lay the elementary laziness, therefore it was done so that it was easy to replace one brick with another imperceptible for the whole structure. <br>  Lyrics is over. <br>  In my opinion, the main unit of information when searching should be a site.  Apparently, the major search engines and the way it works, but if not, I feel sorry for them.  It's just scary to imagine that when searching in the Yandex directory, what happens is not a search by site group, but a filtering of the global search result.  Or when Google sets up output filtering for China not by disabling (not) the necessary sites, but by thinning out the issue.  But I would not be surprised if he simply builds a separate ‚ÄúChinese‚Äù index. <br>  So.  What gives us the storage of the index and the ability to access it by site? <br>  1. The ability to provide a search service to individual sites.  Large search engines have a search restriction for a separate site, but for some reason the sites themselves do not use this, preferring to put local search engines.  At least this market (local search engines) exists and this can be used to mutual benefit - platforms for testing and functional running. <br>  2. The ability to search by group of sites, such as Yandex-catalog.  This idea is not new, but it is unlikely to ever become irrelevant. <br>  3. The possibility of excluding unwanted sites from the search.  For example, "family search" that children can use.  It is unlikely that any of the parents would want, even by chance, to see porn sites in the issue. <br>  Those.  Site-by-site organization of the index provides ample opportunities for inclusive and exclusive filtering (including-excluding individual sites or entire groups). <br>  4. This idea is perhaps the most seditious - you do not need a backup!  Instead of a backup, you start building an index from scratch.  It takes more time than restoring their backup, but it reduces your hardware costs.  After all, it is not necessary to keep actually the second copy of the index.  While you are working with a separate site, it is not very annoying.  But with the growth of volumes, the problem of storage and backup support will grow at a similar pace. <br>  I do not intend to completely abandon the backup.  But to do this only for critical areas - key directories and indices.  Firstly, the volume of this data is much smaller, and secondly, their loss is a real catastrophe. <br>  5. Mobility.  Transferring part of the index to another server is quick and painless, which greatly simplifies the process of updating the machine park.  This is if we are going to develop the project for a long time. <br><br>  How many such building blocks of indices are located on a separate server is decided depending on the availability of resources and this is the next topic. <br><br>  Ps.  I still do not consider the question of what to do if the site index is too large for one server. <br>  First of all, there are not so many such sites and it will be possible to think about this as you approach them. <br>  Secondly, this problem can be solved in parallel, without interfering with the work of the main system and without upsetting it with alterations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <em>UPDT:</em> <br>  The option when the site wants to organize not only a end-to-end search, but also the opportunity to restrict one or several sections normally falls into the proposed structure.  The site-group_site-group_groups -...- scheme is all replaced by the group-group_groups -....- site scheme. <br>  Both that and that bears the general name - the hierarchical structure.  The main thing - what are the basic limitations?  The number of levels of nesting, how many children can be a separate section?  Lack of restrictions will give flexibility, but will affect the speed of work.  Hard frames will allow you to operate with lists of fixed length, which will speed up the work.  The main task is to propose such restrictions so that they are satisfied in most cases.  Thanks for the development of the idea <a href="http://geektimes.ru/users/infanty/" class="user_link">Infanty</a> </div><p>Source: <a href="https://habr.com/ru/post/89483/">https://habr.com/ru/post/89483/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../89478/index.html">Foxit Reader - vulnerability with launching a PDF executable without warnings</a></li>
<li><a href="../89479/index.html">Expert TV uses HTML5 for video</a></li>
<li><a href="../89480/index.html">5 years with Gentoo Linux</a></li>
<li><a href="../89481/index.html">Gentoo's Gnome and KDE profiles</a></li>
<li><a href="../89482/index.html">Epic fail of RSL</a></li>
<li><a href="../89487/index.html">Flash Builder 4 and unit tests</a></li>
<li><a href="../89489/index.html">And again about MISS SYS</a></li>
<li><a href="../89491/index.html">The chat built into iGoogle and Orkut now transfers files</a></li>
<li><a href="../89494/index.html">Static analysis of C ++ code and new standard of C ++ 0x language</a></li>
<li><a href="../89495/index.html">Cybersquatters will present a passport on April 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>