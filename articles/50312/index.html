<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building a relational structure from the ER model</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To the articles Development ‚Üí Relationships of the Database Tables and Development ‚Üí Designing the Database of a Ubeasley habravchanin I would like to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building a relational structure from the ER model</h1><div class="post__text post__text-html js-mediator-article">  To the articles <a href="http://habrahabr.ru/blogs/development/46209/">Development ‚Üí Relationships of the Database Tables</a> and <a href="http://habrahabr.ru/blogs/development/45707/">Development ‚Üí Designing the Database of a</a> Ubeasley <a href="http://geektimes.ru/users/ueasley/" class="user_link">habravchanin</a> I would like to make a small addition. <br><br>  I want to describe the rules by which you can build a relational database schema.  These rules are probably very few people need, because they are used by developers on an intuitive level, but they are interesting even by the fact that they formalize the process of building a database schema. <br><br>  These rules apply to the ER-model, that is, the model "entity-relationship". <br><a name="habracut"></a><br><h3>  ER model </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://ru.wikipedia.org/wiki/ER-%25D0%25BC%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258C_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585"><abbr>ER-</abbr> model</a> is a scheme, the constituent elements of which are: <ul><li>  <strong>The entity</strong> is a real or imaginary object, information about which must be stored in a database.  In an ER model diagram, an entity is depicted as a rectangle containing the name of the entity. </li><li>  <strong>Relationship</strong> - an <strong>association</strong> displayed graphically in a diagram between two (most often) entities, or between the same entity (recursive relationship).  The link is depicted as a rhombus on which two ends stand out, one for each entity.  For each side of this relationship are established: <ol><li>  Degree of communication - how many instances of this entity is associated </li><li>  Obligation of communication - whether the entity must necessarily participate in communication. </li></ol></li></ul><br>  I will give an example: <br>  Let it be necessary to store information about customers and their orders.  Build a chart <br><br><img alt="ER-chart CUSTOMER-made-ORDER" src="https://habrastorage.org/getpro/habr/post_images/653/2a3/755/6532a37554d45579d53d5c9360a5878c.jpg"><br>  Pic.1 <br><br>  Note that on the side of the entity ‚ÄúORDER‚Äù the link is indicated by an additional rectangle - this is a designation that each instance of the entity ‚ÄúORDER‚Äù corresponds to an instance of the entity ‚ÄúCUSTOMER‚Äù (for the client, the presence of the order is not necessary).  The degree ‚ÄúM‚Äù means that for each instance of the ‚ÄúCUSTOMER‚Äù entity there can be several instances of the ‚ÄúORDER‚Äù entity (but not vice versa, since for each order there is always only one customer - we put the degree ‚Äú1‚Äù) <br><br>  A relationship (usually it corresponds to a table in a database) should not be confused with an entity.  The entity goes into the relationship by selecting it from the ER-diagram. <br><br><h3>  Design Stages </h3><br><ol><li><h4>  Conceptual design </h4><br>  An ER diagram is constructed, which includes all entities and relationships.  We get a conceptual (infological) model.  It should be understood that such a model may far not correspond to the relational structure of the projected database. <br><br>  Suppose you need to build a database in which you will need to store complete information about orders, customers, employees.  For each order there is a list of elements of this order (several items), each of which is associated with a list of consumed materials and operations. <br><br>  I got the following diagram. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ea/5d6/df3/8ea5d6df35e44b0fb4f691a90a02e4ee.jpg"><br>  Fig.  2 <br><br></li><li><h4>  Logical design </h4><br>  A set of preliminary relationships is built with the primary key for each relationship.  A list of attributes is compiled, then these attributes are distributed by relationship.  It is necessary that all relationships remain in the NFBK. <br><br>  The transition to a relational structure (building a set of relationships) is performed according to the following rules: <br><br><ol><li>  If the degree of binary relationship is 1: 1 and the class of ownership of both entities is required, then only one relationship is required.  The primary key of this relationship can be the key of any of these two entities.  In this case, a single occurrence of each key value is guaranteed in any instance of the relation. </li><li>  If the degree of a binary connection is 1: 1 and the class of one of the entities is optional, then the construction of two relations is necessary, for each entity it is necessary to single out one relationship.  The key of an entity for which the class of membership is optional is added as an attribute to the relationship allocated to an entity with a mandatory class of membership. </li><li>  If the degree of a binary connection is 1: 1 and the class of ownership of any of the entities is not optional, then three relationships are used ‚Äî one for each entity ‚Äî the keys of which serve as primary in the respective relations and one for communication.  The relationship allocated to the relationship will have one entity key from each entity. </li><li>  If the degree of a binary connection is 1: M and the membership class of an M-connected entity is required, then it is sufficient to use two relationships: one for each entity, provided that the entity key serves as the primary key for the corresponding relationship.  The key of the simply connected entity must be added as an attribute to the relation relegated to the M-connected entity. </li><li>  If the degree of a binary connection is 1: M and the class of membership of an M-connected entity is optional, then three relationships are necessary: ‚Äã‚Äãone for the entity and one for the relationship.  A link must have among its attributes an entity key from each entity. </li><li>  If the degree of a binary connection is equal to M: M, then three relationships are required for data storage: one per entity and one for communication.  Entity keys are in communication.  If one of the entities is degenerate, then - two relationships (i.e. two tables will suffice). </li><li>  In the case of three-way communication, it is necessary to use four relationships: one per entity and one for communication.  The relationship generated by the relationship has among the attributes of the essence keys from each entity. </li></ol><br><br>  We use the rules, we summarize the data in the table. <br><br><table><tbody><tr><th>  Entities </th><th>  Rule number </th><th>  Relations </th></tr><tr><td>  Customer <br>  Order </td><td>  four </td><td>  Customer (# Customer <br>  Order (# Order, # Client </td></tr><tr><td>  Employee <br>  Order </td><td>  four </td><td>  Employee (# Employee <br>  Order (Order # Employee </td></tr><tr><td>  Order <br>  Order item </td><td>  four </td><td>  Order (Order # <br>  Order item (Order Item #, Order # </td></tr><tr><td>  Brigade <br>  Order item </td><td>  four </td><td>  Brigade (# Brigade <br>  Order Item (#Element, #Brigade </td></tr><tr><td>  Product <br>  Order item </td><td>  four </td><td>  Product (Products <br>  Order item (# Items, # Items </td></tr><tr><td>  Customer <br>  Order </td><td>  6 </td><td>  Customer (# Customer <br>  Order (Order # <br>  Payment (# Payment, # Customer, # Order </td></tr><tr><td>  Brigade <br>  Employee </td><td>  five </td><td>  Brigade (# Brigade <br>  Employee (# Employee <br>  Brigade Officer (# Brigade Officer, # Employee, # Brigade </td></tr><tr><td>  Order item <br>  Operation </td><td>  five </td><td>  Order item (# of item <br>  Operation (# Operations <br>  Record operation (# Records, # Element, # Operations </td></tr><tr><td>  Order item <br>  Material </td><td>  five </td><td>  Order item (# of item <br>  Material (# of Material <br>  Expense (# Entries, # Elements, # Materials </td></tr></tbody></table>  Tab.  one <br><br>  Distributing the attributes of the relations obtained, we obtain (in the list of fields in the first place - the primary key, the others, marked with "#", are foreign keys): <br><br><table><tbody><tr><td>  Team </td><td>  (# Brigade, # Foreman, Location) </td></tr><tr><td>  POSITION </td><td>  (# Position, Position, Salary) </td></tr><tr><td>  ORDER </td><td>  (#Order, #Customer, #Customer ,Designation Date, Required Date ,Datement Date, Description) </td></tr><tr><td>  CUSTOMER </td><td>  (# Of the Customer, Name, First Name, Last Name, Organization, Or Department, Address, Telephone Number, E-Mail Address) </td></tr><tr><td>  RECORD OPERATIONS </td><td>  (# Records, # Element, # Operations, # Employee, Number) </td></tr><tr><td>  PAYMENT </td><td>  (# Payment, #Customer, #Order, Payment Amount, DateOpayment, Notes) </td></tr><tr><td>  CONSUMPTION </td><td>  (# Records, # PassMat, # Elements, Quantity) </td></tr><tr><td>  COMPOSITION </td><td>  (# Of item, # of order, # of goods, # of brigade, number) </td></tr><tr><td>  BATHROOMS </td><td>  (#StarBrigades, #Gangs, # Employee) </td></tr><tr><td>  EMPLOYEE </td><td>  (# Employee, Passport Number, Last Name, First Name, Patronymic, # Posts, Address, Home Phone, Work Phone, Date of Birth, Date Border, Date End of Agreement, Photo, Notes) </td></tr><tr><td>  OPERATION </td><td>  (#Operations, Description, Cost, Time, Equipment, Execution) </td></tr><tr><td>  MATERIAL </td><td>  (#Increase, NaimRassMat, Price, Density, Type, Composition) </td></tr><tr><td>  PRODUCT </td><td>  (# Goods, Brand, Name, Description of the Goods, Type, Serial Number, In Stock, Price) </td></tr></tbody></table>  Tab.  2 <br></li></ol><br><br>  So we were taught to do at the university.  Maybe it will be interesting to someone.  About ‚Äúdo I need this,‚Äù I listen to your opinions! <br><br> <a href="http://progg.ru/%25D0%259F%25D0%25BE%25D1%2581%25D1%2582%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5-%25D1%2580%25D0%25B5%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B9-%25D1%2581%25D1%2582%25D1%2580%25D1%2583%25D0%25BA%25D1%2582%25D1%2583%25D1%2580%25D1%258B-%25D0%25B8%25D0%25B7-ER-%25D0%25BC%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25BB%25D0%25B8"><img alt="Progg it" src="http://progg.ru/image.axd?url=http%3A%2F%2Fnitrog.habrahabr.ru%2Fblog%2F50312%2F"></a> </div><p>Source: <a href="https://habr.com/ru/post/50312/">https://habr.com/ru/post/50312/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../50298/index.html">Socio-creative photo project</a></li>
<li><a href="../50299/index.html">Google ocean</a></li>
<li><a href="../50302/index.html">Table binding in Model :: find ()</a></li>
<li><a href="../50305/index.html">Fresh modification of the OSX.Trojan.iServices trojan</a></li>
<li><a href="../50310/index.html">The basics</a></li>
<li><a href="../50314/index.html">Four generations of SaaS</a></li>
<li><a href="../50317/index.html">Experience setting up nginx on debian</a></li>
<li><a href="../50321/index.html">Check for updates</a></li>
<li><a href="../50326/index.html">An indispensable assistant for large MySQL dumps</a></li>
<li><a href="../50327/index.html">Laws for life</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>