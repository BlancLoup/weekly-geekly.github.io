<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Microsoft jQuery Globalization Plugin</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="with examples and interesting information about globalization 

 Last month, I talked in a blog about how Microsoft started delivering code in jQuery ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Microsoft jQuery Globalization Plugin</h1><div class="post__text post__text-html js-mediator-article">  <b>with examples and interesting information about globalization</b> <br><br>  Last month, I talked in a blog about how Microsoft <a href="http://weblogs.asp.net/scottgu/archive/2010/05/07/jquery-templates-and-data-linking-and-microsoft-contributing-to-jquery.aspx" rel="nofollow">started delivering code in jQuery</a> and about our first project we were working on - <a href="http://weblogs.asp.net/scottgu/archive/2010/05/07/jquery-templates-and-data-linking-and-microsoft-contributing-to-jquery.aspx" rel="nofollow">templates and data binding in jQuery</a> (about binding <a href="http://habrahabr.ru/blogs/jquery/92345/" rel="nofollow">on Habr√©</a> ). <br><br>  Today, we have released a prototype of a new plugin called jQuery Globalization, which allows you to add globalization support to your JavaScript applications.  This plugin includes globalization information for over 350 cultures from Scottish Celtic, Friesian, Hungarian, Japanese to Canadian English.  We will release this plugin for the open source community. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You can download our prototype jQuery Globalization plugin from the repository on Github: <a href="http://github.com/nje/jquery-glob" rel="nofollow">http://github.com/nje/jquery-glob</a> <br><br>  In addition, <a href="" rel="nofollow">from here</a> you can download a set of examples that demonstrate some simple user cases. <br><br><a name="habracut"></a><h3>  Globalization concept </h3><br>  The jQuery Globalization plugin makes it easy for you to parse and format numbers, currencies and dates for diverse cultures in JavaScript.  For example, you can use a plugin to display the correct currency symbol for different cultures: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_43A1C3E9.png" width="300" height="151"></a> <br><br>  We can also use the plugin to format dates, so that the day and month are displayed in the correct order and correctly translated: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_02271190.png" width="367" height="222"></a> <br><br>  Notice how the year is displayed in Arabic - 1431. This is because the year value is converted according to the Arabic calendar. <br><br>  We are accustomed to some cultural differences, such as different currencies or different names of the months.  Others may come as a surprise and surprise.  For example, in some cultures, the grouping of numbers is represented unusually.  In the te-IN culture (Telugu, India), the groups contain three numbers first, then two each.  The value 1,000,000 (one million) should be written as "10,00,000."  Some cultures do not group numbers at all.  All of these inherent culture differences are supported by the jQuery Globalization plugin automatically. <br><br>  Getting the right presentation of dates can be especially sophisticated.  Different cultures have different calendars, such as the Gregorian calendar or the UmAlQura calendar.  Some cultures may even have multiple calendars.  For example, Japanese culture uses the Gregorian and Japanese calendars, which contain epochs named after Japanese emperors.  The jQuery Globalization plugin includes methods for converting dates between a variety of calendars. <br><br><h3>  Using language tags </h3><br>  The jQuery Globalization plugin uses language tags defined in RFC 4646 and RFC 5646 to identify crops ( <a href="http://tools.ietf.org/html/rfc5646" rel="nofollow">http://tools.ietf.org/html/rfc5646</a> ).  A language tag consists of one or more subtags separated by a hyphen.  For example: <br><table cellpadding="2" width="400"><tbody><tr><td width="200">  <strong>Language tag</strong> </td><td width="200">  <strong>Tongue</strong> </td></tr><tr><td width="200">  en-AU </td><td width="200">  English (Australia) </td></tr><tr><td width="200">  en-bz </td><td width="200">  English (Belize) </td></tr><tr><td width="200">  en-ca </td><td width="200">  English (Canada) </td></tr><tr><td width="200">  Id </td><td width="200">  Indonesian </td></tr><tr><td width="200">  zh-chs </td><td width="200">  Simplified Chinese </td></tr><tr><td width="200">  Zu </td><td width="200">  Zulu </td></tr></tbody></table>  Please note that one language, such as English, may have multiple language tags.  English speakers in Canada use different conventions for writing numbers, currencies, and date formats from English speakers in Australia or in the United States.  You can find a language tag for a specific culture using the <strong>Language Subtag Lookup utility</strong> , which is located here: <a href="http://rishida.net/utils/subtags/" rel="nofollow">http://rishida.net/utils/subtags/</a> . <br><br>  The jQuery Globalization plug-in download package contains the <strong>globinfo</strong> folder, which contains information on each of the 350 crops.  In fact, there are more than 700 files in the folder, since it contains minimized versions. <br><br>  For example, the <b>globinfo</b> folder has files named jQuery.glob.en-AU.js (Australian English), jQuery.glob.id.js (Indonesia), and jQuery.glob.zh-CHS (Simplified Chinese). <br><br><h3>  Example: setting the desired culture </h3><br>  Imagine a situation where you need to create a German website and you want to format all dates, currency and numbers using German format agreements directly in JavaScript on the client.  The HTML markup for this page might look like this: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_79C33C38.png" width="586" height="384"></a> <br><br>  Notice the <strong>span</strong> tags.  They define the areas on the page that we need to format using the jQuery Globalization plugin.  We want to format the price of the product, the date of manufacture of the product and the number of units in stock. <br><br>  To use the jQuery Globalization plugin, we need to add three JavaScript files to the page: the jQuery library, the jQuery Globalization plugin itself, and a file with information about a specific culture: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_461ACFDA.png" width="628" height="71"></a> <br><br>  Here I statically added a jQuery.glob.de-DE.js javascript file that contains culture information for Germany.  The language tag ‚Äúde-DE‚Äù is used for German in Germany. <br><br>  Now that I have all the necessary scripts, I can use the jQuery Globalization plugin to format product price values, production dates, and number of items in stock using the following client side JavaScript code: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_7D80E108.png" width="561" height="396"></a> <br><br>  The jQuery Globalization plugin extends the jQuery library by adding new methods called <strong>preferCulture ()</strong> and <strong>format ().</strong>  The <strong>preferCulture ()</strong> method allows you to set the current culture to be used by other methods of the jQuery Globalization plugin by default.  Notice that the <strong>preferCulture ()</strong> method accepts a parameter with a language tag value.  Method to determine the nearest suitable culture that corresponds to the language tag transmitted (the <em>parameter may contain an enumeration of language tags - approx. Transl.</em> ). <br><br>  The <strong>$ .format ()</strong> method is used to format currency values, dates, and numbers.  The second parameter passed to <strong>$ .format ()</strong> is a format pointer.  For example, the transfer ‚Äúc‚Äù means that the value should be formatted as monetary.  In the ReadMe file on github, you can find a detailed description of the possible values ‚Äã‚Äãof this parameter: <a href="http://github.com/nje/jquery-glob" rel="nofollow">http://github.com/nje/jquery-glob</a> . <br>  When we open the page in the browser, everything will be formatted as it should be according to the German language conventions.  Euro symbol used as currency symbol.  The date is formatted using German names for the day of the week and the month.  Finally, a period instead of a comma is used as a separator: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_74B0D8BC.png" width="413" height="342"></a> <br><br>  You can look at this result using the 3_GermanSite.htm file in the <a href="" rel="nofollow">examples</a> . <br><br><h3>  Example: dynamic user selection </h3><br>  In the previous example, we explicitly indicated that we wanted to globalize data for the German language (referring to the jQuery.glob.de-DE.js file).  Let's now look at the first of several examples that demonstrate the ability to dynamically set a culture for globalization. <br><br>  Imagine that you want to display a drop-down list with all 350 cultures per page.  You would like that when someone selects a culture from the list, all values ‚Äã‚Äãon the page are formatted using the selected culture. <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_19CE2329.png" width="413" height="300"></a> <br><br>  Below is the HTML code for this page: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_5F067A52.png" width="628" height="120"></a> <br><br>  Please note that all our dates are placed on the &lt;span&gt; tag with the data-date attribute (the data- * attributes are a new HTML5 feature that also applies to older browsers).  We will format the dates contained in the data-date attribute after the user has selected a culture from the list. <br><br>  In order to display dates for all possible cultures, we will include a link to the jQuery.glob.all.js file in the page: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_4144EF93.png" width="628" height="64"></a> <br>  <em>The jQuery Globalization plugin comes with a jQuery.glob.all.js file.</em>  <em>This file contains globalization information for all of the more than 350 cultures that the plugin supports.</em>  <em>In a minimized form, the plugin is rather big - 367KB.</em>  <em>Because of the file size, unless you really need to use absolutely all cultures, we recommend that you add separate JavaScript files for specific cultures that you really need, rather than including all the jQuery.glob.all.js code on the page .</em>  <em>In the following example, I will demonstrate how you can load language files dynamically as needed.</em> <br>  Next, we implement a drop-down list that contains all available cultures.  We can use the $ .cultures property to get a list of all loaded crops: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_6D154382.png" width="628" height="119"></a> <br><br>  And finally, we will write jQuery code that will bypass all span elements with data-date attributes and format dates: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_11C65AFA.png" width="628" height="245"></a> <br><br>  The <strong>parseDate ()</strong> method of the jQuery Globalization plugin is used to convert a string representation of a date into a JavaScript date object.  The <strong>format ()</strong> method is used to format the date.  The format specifier ‚ÄúD‚Äù indicates that the date should be formatted in a long representation (long date format). <br><br>  And now our content will be correctly globalized for each of the 350 languages ‚Äã‚Äãwhen the user makes a selection on the page.  You can <a href="" rel="nofollow">see</a> this example in the file 4_SelectCulture.htm. <br><br><h3>  Example: dynamic loading of globalization files </h3><br>  As I mentioned earlier in the previous section, you should avoid using the jQuery.glob.all.js file on pages wherever possible due to its large size.  The best alternative is to dynamically load the information you need about globalization. <br><br>  For example, imagine that you need to create a drop-down list that displays the following list of languages: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_10158F26.png" width="445" height="131"></a> <br><br>  The following jQuery code is executed when the user selects a new language from the list.  The code checks if the globalization file for the selected language is already loaded.  If the globalization file has not yet been loaded, it is dynamically loaded using the jQuery library‚Äôs <strong>$ .getScript ()</strong> method. <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_55BA1944.png" width="597" height="333"></a> <br><br>  The globalizePage () method is called after the globalization file has been loaded and contains the code for globalization. <br><br>  The advantage of this approach is that it allows you to avoid loading the jQuery.glob.all.js file.  Instead, you need to download only those files that are required and this download will occur only once. <br><br>  File 5_Dynamic.htm from the <a href="" rel="nofollow">examples</a> demonstrates how this approach is implemented. <br><br><h3>  Example: automatic installation of the user's preferred language </h3><br>  Many sites determine the user's preferred language based on browser settings and use automatically globalized content.  The user can set the preferred language in his browser.  Then, when he requests a page, his language setting will be included in the request using the Accept-Language header. <br><br>  Using Internet Explorer, you can set your preferred language using the following steps: <br><ol><li>  <strong>Tools</strong> menu option <strong>, Internet Options;</strong> </li><li>  <strong>General</strong> tab; </li><li>  The <b>Languages</b> button in the <strong>Appearance</strong> section; </li><li>  <strong>Add</strong> button to add a new language to the list; </li><li>  Move your preferred language up the list. </li></ol> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_74245A2D.png" width="369" height="401"></a> <br><br>  Note that you can list several languages ‚Äã‚Äãin the Language Preference window.  All of these languages, in the proper order, will be sent using the Accept-Language header along with the request to the page: <br><br>  Accept-Language: fr-FR, id-ID; q = 0.7, en-US; q = 0.3 <br><br>  Surprisingly, there is no way to get the value of the Accept-Language header through JavaScript on the client.  Microsoft Internet Explorer and Mozilla Firefox support a set of language properties through a window.navigator object, such as windows.navigator.browserLanguage or window.navigator.language, but these properties are the language installed in the operating system or the language version of the browser.  Such properties will not help you to get the preferred languages ‚Äã‚Äãset by the user. <br><br>  The only correct way to get preferred user languages ‚Äã‚Äã(the value of the Accept-Language header) is to write server code.  For example, the following ASP.NET page uses the Request.UserLanguages ‚Äã‚Äãserver property feature to set preferred languages ‚Äã‚Äãfor the <em>acceptLanguage</em> JavaScript variable (which then allows you to access the value through client-side JavaScript): <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_4BA57819.png" width="587" height="106"></a> <br><br>  In order for this code to earn information about the culture associated with the value of acceptLanguage must be enabled on the page.  For example, if someone‚Äôs preferred culture is fr-FR (French, France), then you need to include the jQuery.glob.fr-FR.js or jQuery.glob.all.js file on the page, otherwise the culture information will not be available.  <a href="" rel="nofollow">Example</a> 6_AcceptLanguages.aspx demonstrates how to implement this behavior. <br><br>  If the culture information of the user's preferred language is not included on the page, then the <strong>$ .preferCulture ()</strong> method will use the neutral language culture (for example, jQuery.glob.fr.js will be used instead of jQuery.glob.fr-FR.js).  If there is no information about a neutral culture, then the <strong>$ .preferCulture ()</strong> method will use the default culture (English). <br><br><h3>  Example: Using the jQuery Globalization Plugin with jQuery UI DatePicker </h3><br>  One of the goals of creating a jQuery Globalization plugin is to make it easier to build widgets based on jQuery that are used with different cultures. <br><br>  We wanted to make sure that the jQuery Globalization plugin can work with existing jQuery UI plugins, such as the DatePicker plugin.  To do this, we created a modified version of the DatePicker that takes full advantage of the jQuery Globalization plugin during calendar display.  The following picture illustrates what happens when you add the jQuery Globalization plugin and the corrected jQuery UI DatePicker to the page and select the Indonesian preferred culture: <br><br> <a href="" rel="nofollow"><img title="image" alt="image" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_62F07C8A.png" width="577" height="622"></a> <br>  Note that the title with the day of the week is displayed using abbreviations of the days of the week in Indonesian.  Moreover, the months are also displayed in Indonesian. <br><br>  You can download the modified jQuery UI DatePicker from our page on github.  Or you can use the version included in the <a href="" rel="nofollow">example</a> 7_DatePicker.htm. <br><br><h3>  Conclusion </h3><br>  I am very pleased that we continue to participate in the jQuery community.  The globalization plugin is the third plugin we released. <br><br>  We are very grateful for the huge amount of feedback and suggestions for our prototypes of jQuery templating and data-linking plug-ins, which we released earlier this year.  We also want to thank the jQuery and jQuery UI teams for working with us on these plugins. </div><p>Source: <a href="https://habr.com/ru/post/96214/">https://habr.com/ru/post/96214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../96205/index.html">Program for quick test boot disks</a></li>
<li><a href="../96206/index.html">Laptop of the future</a></li>
<li><a href="../96207/index.html">Some useful configs for debian</a></li>
<li><a href="../96211/index.html">Beta version of Pliq.me for the Android platform</a></li>
<li><a href="../96212/index.html">AWS Import / Export will accelerate the transfer of large amounts of data to S3 storage</a></li>
<li><a href="../96217/index.html">Four days without a normal Ineta or And there is a prurhah on an old woman</a></li>
<li><a href="../96218/index.html">Startup life</a></li>
<li><a href="../96221/index.html">X.25 dial-up packet network</a></li>
<li><a href="../96223/index.html">Droider Chart. Issue 5</a></li>
<li><a href="../96224/index.html">Do we need a silicon valley? Or a review of Technopark of the Novosibirsk Academgorodok</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>