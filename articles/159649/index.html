<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pushover push notification service for Android and iOS in conjunction with PHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In short, push notifications are small in size important messages from a program or service that are displayed by the operating system when you are no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pushover push notification service for Android and iOS in conjunction with PHP</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/58c/7d4/631/58c7d46313c03da29289a53258da0121.png"><br>  In short, <b>push notifications</b> are small in size important messages from a program or service that are displayed by the operating system when you are not directly working with the specified application or service.  The advantage of such notifications is that there is no need to keep the program in memory forever, wasting processor power and memory on it. <br>  I will not write here the whole technology of remote notification delivery, because it has already been <a href="http://habrahabr.ru/company/ruswizards/blog/156811/">done</a> <a href="http://habrahabr.ru/post/116106/">before me</a> .  It looks like this: periodically the daemon polls the server and in case of a message, shows it to us. <br>  For iOS, <a href="http://developer.apple.com/library/mac/">APNS was</a> invented, for Android, <a href="http://developer.android.com/guide/google/gcm/index.html">C2DM-GCM</a> , but I want to tell you about the cross-platform (loud) <a href="https://pushover.net/">Pushover</a> service and its bundle with a php site. <br><a name="habracut"></a><br><h4>  Example task </h4><br>  Suppose that once a day we want to know something about the number of orders on the site per day and their cost. <br>  The site is spinning on some CMS in PHP and mySQL, the host country has stylish iPhone and Android phones. <br>  Urgency of message delivery is not a vital indicator. <br>  It is necessary to find a conditionally non-hemorrhoid solution. <br><br><h4>  Pushover </h4><br>  Pushover is a modest <a href="https://pushover.net/">notification service</a> , as well as applications for <a href="https://itunes.apple.com/us/app/pushover-notifications/id506088175%3Fls%3D1%26mt%3D8">iOS</a> and <a href="https://play.google.com/store/apps/details%3Fid%3Dnet.superblock.pushover%26ts%3D1353482264">Android</a> , and crafts are planned for BlackBerry and OS X Mountain Lion.  The service has its own <a href="https://pushover.net/api">API</a> , allows you to send up to 7.5 thousand messages per month for free. <br><br><img src="https://habrastorage.org/storage2/2b4/1fb/daa/2b41fbdaa9cd2a8d6cc5902c9c1909b9.gif"><br>  The message, in addition to the main text of the message with a length of 512 characters, may contain a large header, URL (then the message length is increased to 500) and its title (everything is displayed in separate formed blocks, therefore such a distinction).  The message can be delivered under some selected specified priority.  The user can specify "quiet" hours when it is not worth it to wake notifications, as well as connect and disconnect devices to which notifications will come. <br>  Notification can be delivered to users who have provided their code, to all devices of this user or by choice.  To receive a message, the user must be registered with the service and have at least one working device. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Add user </h5><br><img src="https://habrastorage.org/storage2/478/880/96a/47888096ab048f7083cd6c60a97030f2.png"><br>  After <a href="https://pushover.net/login">registration</a> , each user enters his office, where he immediately sees his hash token.  This is a unique user identifier to which notifications are sent later. <br>  The user who wants to receive messages, you must put on your phone / tablet / anyhow that the application from the corresponding store. <br><br><h5>  Add service </h5><br>  Adding a service is just as easy.  From the personal account, go to the application creation <a href="https://pushover.net/apps/build">page</a> , where it is proposed to describe the product: <br><img src="https://habrastorage.org/storage2/dd3/91b/4db/dd391b4db7e2b83bb97b51f4cd28b950.png"><br>  After filling in the appropriate fields, we become aware of the application token.  In principle, this is all that is needed to send a message. <br>  On the application page in the future there will be a beautiful schedule of successfully sent messages. <br><br><h5>  Linking applications and recipients </h5><br>  ... not done in any way.  Any application can send any user a notification if they know its token.  Reception of tokens from the population remains on the conscience of the application.  As well as unsubscribing from mailings. <br><br><h5>  API </h5><br>  <a href="https://pushover.net/api">Small</a> , capacious and clear.  To send a message in a POST request to <i><a href="">api.pushover.net/1/messages.json</a></i> or <i><a href="">api.pushover.net/1/messages.xml</a></i> you need to specify the minimum: <br><ul><li>  <b>token</b> - the hash token of your application or service. </li><li>  <b>user</b> - the hash token of the user to whom you send the notification. </li><li>  <b>message</b> - the text part of the message. </li></ul><br>  In addition, you can add: <br><ul><li>  <b>device</b> - user device identifier, so as not to send notifications to all its devices at once </li><li>  <b>title</b> - message header, if not specified, the service name will be displayed </li><li>  <b>url</b> - a link to a web page, if necessary </li><li>  <b>url_title</b> - title to the link </li><li>  <b>priority</b> - the message priority, set to 1 for high priority, which bypasses all silent hours and -1 for silent notification. </li><li>  <b>timestamp</b> - UNIX timestamp when this notification was created.  Schedule message delivery service is not provided. </li></ul><br><br><h5>  Server response </h5><br>  The server response will be presented in json or xml format (depending on the extension of the called script). <br>  If everything went well, the object will be given with the content of the <i>status</i> field equal to 1. <br>  Otherwise, the <i>status</i> field will contain something else, and the <i>errors</i> field will contain an array of error descriptions.  Here are examples of successful and unsuccessful responses in XML format: <br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hash</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">status</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"integer"</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">status</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hash</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  and <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hash</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">token</span></span></span><span class="hljs-tag">&gt;</span></span>invalid<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">token</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">errors</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"array"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">error</span></span></span><span class="hljs-tag">&gt;</span></span>application token is invalid<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">error</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">errors</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">status</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"integer"</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">status</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hash</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h4>  Php </h4><br>  On the main page and in the FAQ in the sections ‚Äúsee how easy it is!‚Äù The codes of the simplest script in different languages ‚Äã‚Äãare given for sending and there is a link to the 3rd-party <a href="https://github.com/kryap/php-pushover">php-class</a> from Chris Schalenborgh. <br>  Everywhere it is used with CURL, which, of course, is understandable. <br><br><h5>  Zafigarim your class </h5><br>  Where now without bicycles? <br>  In fact, I didn‚Äôt like it too much that the success of sending a notification is defined as either true / false, or the entire server response sheet is displayed at once.  Yes, in general, there is no error handling.  I believe that if a site visitor is not required, then the developer needs to know why this or that message was not sent. <br>  In general, we essentially change everything, classes left for <a href="https://github.com/Urvin/pushover">GitHub</a> . <br><div class="spoiler">  <b class="spoiler_title">class PushoverException</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PushoverException</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Exception</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * Messages array * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $fMessages; <span class="hljs-comment"><span class="hljs-comment">/** * Exception constructor * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> array $aMessages An array of messages */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $aMessages)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct(<span class="hljs-string"><span class="hljs-string">'PushoverException exception'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;fMessages = $aMessages; } <span class="hljs-comment"><span class="hljs-comment">/** * Get messages array * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> array */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMessages</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;fMessages) ? <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>() : <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;fMessages; } }</code> </pre><br></div></div><div class="spoiler">  <b class="spoiler_title">class Pushover</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Pushover</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* * Pushover json api service url */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> C_API_URL = <span class="hljs-string"><span class="hljs-string">'https://api.pushover.net/1/messages.json'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Properties storage array * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $fProperties; <span class="hljs-comment"><span class="hljs-comment">/** * cURL instance */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $fCurl; <span class="hljs-comment"><span class="hljs-comment">//--------------------------------------------------------------------------// /** * Properties getter * @param string $aPropertyName Property name * @return mixed */ public function __get($aPropertyName) { if(array_key_exists($aPropertyName, $this-&gt;fProperties)) return $this-&gt;fProperties[$aPropertyName]; return null; } /** * Properties setter * @param string $aPropertyName Property name * @param mixed $aValue Property value */ public function __set($aPropertyName, $aValue) { $this-&gt;fProperties[$aPropertyName] = $aValue; } //--------------------------------------------------------------------------// /** * Class constructor * @param string $aApplicationToken Application token */ public function __construct($aApplicationToken = null) { if(!empty($aApplicationToken)) $this-&gt;applicationToken = $aApplicationToken; $this-&gt;fCurl = curl_init(); curl_setopt($this-&gt;fCurl, CURLOPT_URL, self::C_API_URL); curl_setopt($this-&gt;fCurl, CURLOPT_HEADER, false); curl_setopt($this-&gt;fCurl, CURLOPT_RETURNTRANSFER, true); curl_setopt($this-&gt;fCurl, CURLOPT_SSL_VERIFYPEER, false); } /** * Class destructor */ public function __destruct() { curl_close($this-&gt;fCurl); } //--------------------------------------------------------------------------// /** * Throws an exceprion with single message * @param mixed $aMessage * @throws PushoverException */ public function throwMessage($aMessage) { throw new PushoverException(array($aMessage)); } /** * Throws an exceprion with an array of messages * @param array $aMessages * @throws PushoverException */ public function throwMessages(array $aMessages) { throw new PushoverException($aMessages); } //--------------------------------------------------------------------------// /** * Send pushover notification */ public function send() { if(!strlen($this-&gt;applicationToken)) $this-&gt;throwMessage('Application token is empty'); if(!strlen($this-&gt;userToken)) $this-&gt;throwMessage('User token is empty'); if(!strlen($this-&gt;notificationMessage)) $this-&gt;throwMessage('Notification message is empty'); if(intval($this-&gt;notificationTimestamp) &lt;= 0) $this-&gt;notificationTimestamp = time(); $lSendParams = array( 'token' =&gt; $this-&gt;applicationToken, 'user' =&gt; $this-&gt;userToken, 'device' =&gt; $this-&gt;userDevice, 'title' =&gt; $this-&gt;notificationTitle, 'message' =&gt; $this-&gt;notificationMessage, 'priority' =&gt; $this-&gt;notificationPriority, 'timestamp' =&gt; $this-&gt;notificationTimestamp, 'url' =&gt; $this-&gt;notificationUrl, 'url_title' =&gt; $this-&gt;notificationUrlTitle ); foreach($lSendParams as $lKey =&gt; $lParam) if(empty($lParam)) unset($lSendParams[$lKey]); curl_setopt($this-&gt;fCurl, CURLOPT_POSTFIELDS, $lSendParams); $lResponseJson = curl_exec($this-&gt;fCurl); if($lResponseJson === false) $this-&gt;throwMessage('API request error'); $lResponse = json_decode($lResponseJson, true); if(empty($lResponse) || !is_array($lResponse)) $this-&gt;throwMessage('Bad API response'); if(!empty($lResponse['errors'])) $this-&gt;throwMessages($lResponse['errors']); if(empty($lResponse['status']) || intval($lResponse['status']) != 1) $this-&gt;throwMessage('Unknown notification send error'); } }</span></span></code> </pre><br></div></div><br><br>  The minimum message is now quite simple to send, errors can be parsed: <br><pre> <code class="php hljs">$lPushover = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pushover(<span class="hljs-string"><span class="hljs-string">' '</span></span>); $lPushover-&gt;userToken = <span class="hljs-string"><span class="hljs-string">' '</span></span>; $lPushover-&gt;notificationMessage = <span class="hljs-string"><span class="hljs-string">' '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { $lPushover-&gt;send(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;font color="green"&gt;Message sent&lt;/font&gt;'</span></span>, PHP_EOL; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (PushoverException $aException) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;font color="red"&gt;Error sending messages&lt;/font&gt;&lt;br&gt;'</span></span>, PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;ul&gt;'</span></span>, PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($aException-&gt;getMessages() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $lMessage) <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;li&gt;'</span></span>, $lMessage, <span class="hljs-string"><span class="hljs-string">'&lt;/li&gt;'</span></span>, PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;/ul&gt;'</span></span>, PHP_EOL; }</code> </pre><br>  The user has already accepted the message. <br><br><h4>  Total </h4><br>  We know about the convenient service of remote notifications, equally successfully transmitting messages to users of Android and iOS. <br>  We have a working mechanism for sending notifications from the site to PHP. </div><p>Source: <a href="https://habr.com/ru/post/159649/">https://habr.com/ru/post/159649/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159631/index.html">Website for the programmer [on Node.js]. Simply. Stylish. Is free</a></li>
<li><a href="../159633/index.html">Officially introduced to SailFish OS</a></li>
<li><a href="../159637/index.html">Runetology (174): Alexander Kazakov, founder of Navitel</a></li>
<li><a href="../159639/index.html">Tracks Flow is open</a></li>
<li><a href="../159643/index.html">"Sound in my ears," or five computer headsets: review and comparison</a></li>
<li><a href="../159657/index.html">The story of how the James Bottomley of the Linux Foundation tried to sign in Microsoft boot for UEFI secure boot</a></li>
<li><a href="../159661/index.html">Philip Torchinsky of Semonix: installing SmartOS and using Node.js on it</a></li>
<li><a href="../159663/index.html">Apocalypse in a month !? - it is necessary to have time to earn ...</a></li>
<li><a href="../159665/index.html">Intel absorbs the developer of ARM chips - the company ZiiLabs</a></li>
<li><a href="../159667/index.html">Youtube.com removed from zapret-info.gov.ru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>