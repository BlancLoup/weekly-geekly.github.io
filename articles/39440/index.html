<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>jQuery for beginners. Part 2. JavaScript Menu.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part , the basic principles of the work of selectors were considered and several examples are given, in this article I will try to focus ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>jQuery for beginners. Part 2. JavaScript Menu.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ac0/e6a/a6f/ac0e6aa6fb8b217d4e8e525e5edf581c.gif" title="jQuery Logo" width="168" height="146"><br><br>  In the <a href="http://habrahabr.ru/blogs/jquery/38208/">first part</a> , the basic principles of the work of selectors were considered and several examples are given, in this article I will try to focus on the implementation of the JavaScript menu for your site. <br><br>  If you have a ready-made code for visual documentation, then move from words to deeds, i.e.  on the <a href="http://anton.shevchuk.name/wp-demo/jquery-tutorials-2/">page with examples</a> . <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  <a href="http://anton.shevchuk.name/wp-demo/jquery-tutorials-2/slide.html" title="JavaScript Slide Menu">Slide menu</a> </h3><br>  Two slide-menu on the page: above and below. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/0df/017/060/0df0170602386b2c674ba66206b8d326.png" title="slide" width="500" height="217"></a> <br><br>  We click on the link with the class "btn-slide", leaves the panel with the menu. <br><br>  Partially this example is present in the <a href="http://anton.shevchuk.name/javascript/jquery-for-beginners/">first part</a> , so I will not go deep into the implementation, I will give only JavaScript code with explanations: <br><br><pre>  &lt;script type = "text / javascript"&gt;
 // when the page loads
 $ (document) .ready (function () {
	 // hang the handler on the link with the class "btn-slide" (top menu)
	 $ (". btn-slide"). click (function () {
		 // push / hide panel with id = panel1
		 $ ("# panel1"). slideToggle ("slow");
		 // change the class of the link itself
		 $ (this) .toggleClass ("active");
		 // and do nothing further (so that there is no link transition)
		 return false;
	 });
	
	 // hang the handler on the link with the class "btn-slide2" (bottom menu)
	 $ (". btn-slide2"). click (function () {
		 // push / hide panel with id = panel2
		 $ ("# panel2"). slideToggle ("slow");
		 // change the class of the link itself
		 $ (this) .toggleClass ("active2");
		 // and do nothing further (so that there is no link transition)
		 return false;
	 });
 });
 &lt;/ script&gt; </pre><br><br><h3>  <a href="http://anton.shevchuk.name/wp-demo/jquery-tutorials-2/slide-2.html" title="JavaScript Slide Menu 2">Slide menu 2</a> </h3><br>  Slide menu on the left and right of the page.  First, let's prepare HTML: <br><br><pre> &lt;div class = "left"&gt;
     &lt;! - Directly the contents of the menu, we hide it -&gt;
     &lt;div class = "panel"&gt;
    	 &lt;ul&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 1"&gt; Element 1 &lt;/a&gt; &lt;/ li&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 2"&gt; Element 2 &lt;/a&gt; &lt;/ li&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 3"&gt; Element 3 &lt;/a&gt; &lt;/ li&gt;
    	 &lt;/ ul&gt;
    	 &lt;ul&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 1"&gt; Element 1 &lt;/a&gt; &lt;/ li&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 2"&gt; Element 2 &lt;/a&gt; &lt;/ li&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 3"&gt; Element 3 &lt;/a&gt; &lt;/ li&gt;
    	 &lt;/ ul&gt;
    	 &lt;ul&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 1"&gt; Element 1 &lt;/a&gt; &lt;/ li&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 2"&gt; Element 2 &lt;/a&gt; &lt;/ li&gt;
    	    &lt;li&gt; &lt;a href="#" title="Element 3"&gt; Element 3 &lt;/a&gt; &lt;/ li&gt;
    	 &lt;/ ul&gt;
     &lt;/ div&gt; 
     &lt;! - Panel with button -&gt;
     &lt;p class = "slide"&gt; &lt;a href="#" class="btn-slide"&gt; Menu &lt;/a&gt; &lt;/ p&gt;
 &lt;/ div&gt;
</pre><br><br>  We should have something like the following: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/90e/47d/b3f/90e47db3f4fc20d000a8afd5f4e28549.png" title="slide-2" width="500" height="217"></a> <br><br>  Now let's create an event handler for links with the ‚Äúbtn-slide‚Äù class: <br><br><pre>	 // create an event handler for links with the class "btn-slide"
	 $ (". btn-slide"). toggle (function () {
		 // ... 1st click on the link
		 // return false
		 return false;
	 }, function () {
		 // ... 2nd click on the link
		 // return false
		 return false;
	 });
</pre><br>  Then we need to find an element with the class "panel" and push it to 120 pixels: <br><pre> // go along the DOM to level 2 up, inside the element (this is a div with the class left / right) we find the element we need and increment it 120 pixels wide
 $ (this) .parent (). parent (). find (". panel"). animate ({"width": "+ = 120px"}, "slow");
 // replace the button class (for changing the arrow)
 $ (this) .toggleClass ("active"); 
</pre><br><br>  We connect it together: <br><pre> $ (document) .ready (function () {
	 $ (". btn-slide"). toggle (function () {
		 $ (this) .parent (). parent (). find (". panel"). animate ({"width": "+ = 120px"}, "slow");
		 $ (this) .toggleClass ("active");  return false;
	 }, function () {
		 $ (this) .parent (). parent (). find (". panel"). animate ({"width": "- = 120px", opacity: "hide"}, "slow");
		 $ (this) .toggleClass ("active");  return false;
	 });	 
 });
</pre><br><br><h3>  <a href="http://anton.shevchuk.name/wp-demo/jquery-tutorials-2/drop-down.html" title="Javascript drop-down menu">Drop-down menu</a> </h3><br>  One of the most common menu implementations for the site is a horizontal drop-down menu, of course, you can implement it with CSS, but we‚Äôve got an article about jQuery, so we‚Äôll use it.  Let's start with HTML (I note that for all other examples, the code is almost the same): <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/e8e/204/a26/e8e204a2689424bff74352b0485b6546.png" title="drop-down" width="429" height="155"></a> <br><br>  Well, actually HTML itself: <br><br><pre>     &lt;div class = "topmenu"&gt;
         &lt;ul&gt;
             &lt;li&gt; &lt;a href="#" title="Menu 1"&gt; Menu 1 &lt;/a&gt;
                 &lt;ul&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 1.1"&gt; Element 1.1 &lt;/a&gt; &lt;/ li&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 1.2"&gt; Element 1.2 &lt;/a&gt; &lt;/ li&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 1.3"&gt; Element 1.3 &lt;/a&gt; &lt;/ li&gt;
                 &lt;/ ul&gt;
             &lt;/ li&gt;
             &lt;li&gt; &lt;a href="#" title="Menu 2"&gt; Menu 2 &lt;/a&gt;
                 &lt;ul&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 2.1"&gt; Element 2.1 &lt;/a&gt; &lt;/ li&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 2.2"&gt; Element 2.2 &lt;/a&gt; &lt;/ li&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 2.3"&gt; Element 2.3 &lt;/a&gt; &lt;/ li&gt;
                 &lt;/ ul&gt;
             &lt;/ li&gt;
             &lt;li&gt; &lt;a href="#" title="Menu 3"&gt; Menu 3 &lt;/a&gt;
                 &lt;ul&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 3.1"&gt; Element 3.1 &lt;/a&gt; &lt;/ li&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 3.2"&gt; Element 3.2 &lt;/a&gt; &lt;/ li&gt;
            	    &lt;li&gt; &lt;a href="#" title="Element 3.3"&gt; Element 3.3 &lt;/a&gt; &lt;/ li&gt;
                 &lt;/ ul&gt;
             &lt;/ li&gt;
         &lt;/ ul&gt;       
     &lt;/ div&gt;
</pre><br><br>  Next, we need to add a handler for the hover event for li elements: <br><pre>     $ ('. topmenu ul li'). hover (
         function () {
             // ...
         },
         function () {
             // ...
         }
     );
</pre><br><br>  And display the sub-menu: <br><pre> // find the ul element and call the animation slideDown
 $ (this) .find ('ul'). slideDown ();
 // change the background of the selected item by adding an active class
 $ (this) .addClass ("active");
</pre><br><br>  And now all together: <br><pre> $ (document) .ready (function () {
     $ ('. topmenu ul li'). hover (
         function () {
             $ (this) .addClass ("active");
             $ (this) .find ('ul'). slideDown ();
         },
         function () {
             $ (this) .removeClass ("active");        
             $ (this) .find ('ul'). slideUp ('fast');
         }
     );
 });
</pre><br><br><h3>  <a href="http://anton.shevchuk.name/wp-demo/jquery-tutorials-2/drop-down-2.html" title="JavaScript Drop-Down Menu with AJAX">Drop-down AJAX menu</a> </h3><br>  Horizontal drop-down menu with AJAX elements loading. <br>  First we need the menu itself: <br><pre>     &lt;div class = "topmenu"&gt;
         &lt;ul&gt;
             &lt;li id ‚Äã‚Äã= "menu1"&gt; &lt;a href="#" title="Menu 1"&gt; Menu 1 &lt;/a&gt; &lt;/ li&gt;
             &lt;li id ‚Äã‚Äã= "menu2"&gt; &lt;a href="#" title="Menu 2"&gt; Menu 2 &lt;/a&gt; &lt;/ li&gt;
             &lt;li id ‚Äã‚Äã= "menu3"&gt; &lt;a href="#" title="Menu 3"&gt; Menu 3 &lt;/a&gt; &lt;/ li&gt;
         &lt;/ ul&gt;
     &lt;/ div&gt;
</pre><br><br>  And blanks for submenus, let's call them <em>menu1.html</em> , <em>menu2.html</em> and <em>menu3.html</em> - by id the corresponding menu items (most likely these items will be generated dynamically, but to simplify the example we use static pages): <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/e79/215/d69/e79215d695e1e00e98ead0f45f30d8e4.png" title="drop-down-2" width="465" height="234"></a> <br><br>  Example menu1.html: <br><br><pre>  &lt;ul&gt;
     &lt;li&gt; &lt;a href="#" title="Element 1"&gt; Element 1 &lt;/a&gt; &lt;/ li&gt;
     &lt;li&gt; &lt;a href="#" title="Element 2"&gt; Element 2 &lt;/a&gt; &lt;/ li&gt;
     &lt;li&gt; &lt;a href="#" title="Element 3"&gt; Element 3 &lt;/a&gt; &lt;/ li&gt;
 &lt;/ ul&gt; </pre><br><br>  Now, as in the previous example, we need a handler for the <em>hover</em> event: <br><br><pre> $ (document) .ready (function () {
     $ ('. topmenu ul li'). hover (
         function () {
             // ... here you need to make changes to the code 
             $ (this) .addClass ("active");
         },
         function () {
             // leave here as is
             $ (this) .removeClass ("active");        
             $ (this) .find ('ul'). slideUp ('fast');
         }
     );
 });
</pre><br>  Now you need to load the missing menu items through AJAX'a: <br><pre> // get the id of the active menu item
 var id = $ (this) .attr ('id');
 // we push the active element into a local variable
 var li = $ (this);
 $ .ajax ({
      // form the name of the page requested by AJAX
      url: 'ajax /' + id + '. html',
      beforeSend: function () {
           // before the "ask" change the class of the element - display the loading image
           li.addClass ('loading');
      },
      success: function (data) {
           // fill the submenu
           li.append (data);
           // show what happened
           li.find ('ul'). slideDown ();
           // remove loading image
           li.removeClass ('loading');
      }
 });
</pre><br>  We collect: <br><pre> $ (document) .ready (function () {
     $ ('. topmenu ul li'). hover (
         function () {
             // add verification - haven't the elements been loaded before
             if ($ (this) .find ('ul'). length == 0) {
                 var id = $ (this) .attr ('id');
                 var li = $ (this);
                 $ .ajax ({
                     url: 'ajax /' + id + '. html',
                     beforeSend: function () {
                          li.addClass ('loading');
                     },
                     success: function (data) {
                          li.append (data);
                          li.find ('ul'). slideDown ();
                          li.removeClass ('loading');
                     }
                 });
             } else {
                 $ (this) .find ('ul'). slideDown ();
             }            
             $ (this) .addClass ("active");
         },
         function () {            
             $ (this) .find ('ul'). slideUp ('fast');            
             $ (this) .removeClass ("active");
         }
     );
 });
</pre><br><br><h3>  <a href="http://anton.shevchuk.name/wp-demo/jquery-tutorials-2/drop-down-3.html" title="JavaScript Drop-Down Menu (vertical)">Drop-down menu</a> </h3><br>  Vertical drop down menu.  A pretty simple example: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/11c/ea2/1c9/11cea21c9c88bac1c9e1981324938cc6.png" title="drop-down-3" width="430" height="196"></a> <br><br><pre> $ (document) .ready (function () {
     // add hover event handler
     $ ('. topmenu ul li'). hover (
         function () {
             $ (this) .find ('ul: first'). slideDown ();
         },
         function () {            
             $ (this) .find ('ul: first'). slideUp ('fast'); 
         }
     );
     // add nesting to all menu items with nesting ‚Äù
     $ ('. topmenu li: has (ul)'). find ('a: first'). append ('"');
 });
</pre><br><br><h3>  <a href="http://anton.shevchuk.name/wp-demo/jquery-tutorials-2/float.html" title="JavaScript Float Menu">Float menu</a> </h3><br>  Floating menu.  We need the <a href="http://brandonaaron.net/docs/dimensions/">Dimensions</a> plugin (so that the height () and width () methods work).  Well, with HTML, I think you will figure it out: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/e60/e5f/db5/e60e5fdb57db066f46be23957c164581.png" title="float" width="500" height="216"></a> <br><br>  Now, in order - let's start with getting information about the current location of the "floating" menu: <br><br><pre> // get css information about the location of the top menu
 menu1 = parseInt ($ (". right"). css ("top"). substring (0, $ (". right"). css ("top"). indexOf ("px"));
 // location of the bottom menu is calculated based on the window size (96 taken by eye)
 menu2 = $ (window) .height () - 96;
</pre><br><br>  Next, we need to ‚Äúhang‚Äù our function for the scroll event: <br><pre> $ (window) .scroll (function () { 
 // here we will drag our menus
 });
</pre><br><br>  Well, actually filling: <br><pre> $ (window) .scroll (function () { 
	 // define new position for our menus
	 offset1 = menu1 + $ (document) .scrollTop () + "px";
	 offset2 = menu2 - $ ('. left .panel'). height () + $ (document) .scrollTop () + "px";

	 // drag items to a new place			
	 $ ('. right'). animate ({top: offset1}, {duration: 500, queue: false});
	 $ ('. left'). animate ({top: offset2}, {duration: 1000, queue: false});
 });
</pre><br><br>  Also add display / hide submenu items: <br><pre>     // for all elements "a" which are in "li" with nested lists "ul"
     $ ('. panel ul li: has (ul) a'). click (function () {
         // go to the parent, find the "ul" and hide / hide it
         $ (this) .parent (). find ('ul'). slideToggle ();  
         return false;      
     });
     // button "+" - hide all "ul" nested in "li"
     $ ('a.plus'). click (function () {
        // go to the parent, find the next element in the house, look for "ul li ul" in it, perform "slideUp"
        $ (this) .parent (). next (). find ('ul li ul'). slideUp ('fast');
        return false; 
     });
     // button "-" - display all "ul" nested in "li"    
     $ ('a.minus'). click (function () {
        // go to the parent, find the next element in the house, look for "ul li ul" in it, perform "slideDown"
        $ (this) .parent (). next (). find ('ul li ul'). slideDown ('slow');
        return false; 
     });
</pre><br><br>  You can also download <a href="" title="jQuery for beginners. Part 2">all the examples in one archive</a> . <br><br><h3>  Cycle of articles </h3><br><ol><li>  <a href="http://habrahabr.ru/blogs/jquery/38208/">jQuery for beginners</a> </li><li>  <strong>jQuery for beginners.</strong>  <strong>Part 2. JavaScript Menu.</strong> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/39440/">https://habr.com/ru/post/39440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../394391/index.html">Amateur photographer accidentally shot the return of Falcon 9</a></li>
<li><a href="../394393/index.html">Unusual Sites 2016 from Webby Awards</a></li>
<li><a href="../394395/index.html">US military uses 8-inch floppy disks and computers of the 70s to control the nuclear arsenal</a></li>
<li><a href="../394397/index.html">Kingston microSD Non Camera Memory Card Review Action Camera UHS-I U3</a></li>
<li><a href="../394399/index.html">Protecting business, employee remuneration, corporate conflicts: Why companies buy their own shares</a></li>
<li><a href="../394401/index.html">Religion in gadgets</a></li>
<li><a href="../394403/index.html">Ministry of Communications will pay Russian hackers</a></li>
<li><a href="../394405/index.html">The first in the history of the station inflatable module is being deployed on the ISS [updated]</a></li>
<li><a href="../394407/index.html">Universal controller module for the Internet of things. Basics of programming</a></li>
<li><a href="../394409/index.html">Transferring Facebook content to the site: tool overview</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>