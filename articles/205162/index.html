<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuring VPN connection with l2tp + ipsec using OpenVZ container as server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, 

 Not so long ago, the OpenVZ team released a new kernel with ipsec support inside the container . I have long wanted to abandon third-party s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuring VPN connection with l2tp + ipsec using OpenVZ container as server</h1><div class="post__text post__text-html js-mediator-article">  Hello, <br><br>  Not so long ago, the OpenVZ team released a new <a href="https://openvz.org/IPsec">kernel with ipsec support inside the container</a> .  I have long wanted to abandon third-party software on a local Windows machine and use the ability to configure a secure VPN channel by the system itself.  We will use the Debian 7 container on OpenVZ as the server.  As a client - a standard VPN client Windows.  As authorization - authorization by PSK (by key). <br><a name="habracut"></a><br><br>  First of all, we activate the net_admin feature for the container and give the ppp container a device for operation, as indicated in the tooltip from the developers: <br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">vzctl</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">set</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">CTID</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--capability</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">net_admin</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--save</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">vzctl</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">set</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">CTID</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--devices</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">c</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:108</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:0</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:rw</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--save</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">vzctl</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">restart</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">CTID</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Inside the container, create a ppp device and set the correct access rights to it: <br><pre> <code class="hljs swift">mknod /dev/ppp <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> <span class="hljs-number"><span class="hljs-number">108</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> chmod <span class="hljs-number"><span class="hljs-number">600</span></span> /dev/ppp</code> </pre><br><br>  load the necessary modules on HN via modprobe: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">modprobe</span></span> ppp_async modprobe pppol2tp modprobe xfrm4_mode_transport modprobe xfrm4_mode_tunnel modprobe xfrm_ipcomp modprobe esp4</code> </pre><br><br>  Inside the container we will use openswan as the ipsec daemon, and the standard xl2tpd from the repositories as the l2tp server: <br><pre> <code class="hljs swift">apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install openswan xl2tpd</code> </pre><br><br>  Next, we configure forwarding and the rest of the network subsystem to work correctly with NAT and VPN: <br><pre> <code class="hljs vbscript">echo <span class="hljs-number"><span class="hljs-number">1</span></span> &gt; /proc/sys/net/ipv4/ip_forward iptables -t nat -A POSTROUTING -s <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> -j SNAT --<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>-source &lt;main IP of <span class="hljs-built_in"><span class="hljs-built_in">server</span></span>&gt; iptables -A FORWARD -s <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> -j ACCEPT iptables -A FORWARD -d <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> -j ACCEPT iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>-pmtu <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /proc/sys/net/ipv4/conf/*; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> echo <span class="hljs-number"><span class="hljs-number">0</span></span> &gt; $<span class="hljs-keyword"><span class="hljs-keyword">each</span></span>/accept_redirects; echo <span class="hljs-number"><span class="hljs-number">0</span></span> &gt; $<span class="hljs-keyword"><span class="hljs-keyword">each</span></span>/send_redirects; done</code> </pre><br><br>  Let's start configuring the ipsec daemon. <br><br>  We give the config /etc/ipsec.conf to the form: <br><pre> <code class="hljs pgsql">config setup protostack=netkey nat_traversal=yes # Enables NAT traversal virtual_private=%v4:<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">option</span></span> you can <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> your <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> IP <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> NAT conn L2TP-PSK-NAT rightsubnet=vhost:%priv <span class="hljs-keyword"><span class="hljs-keyword">also</span></span>=L2TP-PSK-noNAT conn L2TP-PSK-noNAT authby=secret # Auth <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> PSK ( preshared key ) pfs=<span class="hljs-keyword"><span class="hljs-keyword">no</span></span> auto=<span class="hljs-keyword"><span class="hljs-keyword">add</span></span> keyingtries=<span class="hljs-number"><span class="hljs-number">3</span></span> rekey=<span class="hljs-keyword"><span class="hljs-keyword">no</span></span> ikelifetime=<span class="hljs-number"><span class="hljs-number">8</span></span>h salifetime=<span class="hljs-number"><span class="hljs-number">10</span></span>m <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>=tunnel # <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> l2tp <span class="hljs-keyword"><span class="hljs-keyword">connection</span></span> ( tunnel / transport ) left=<span class="hljs-number"><span class="hljs-number">11.11</span></span><span class="hljs-number"><span class="hljs-number">.11</span></span><span class="hljs-number"><span class="hljs-number">.11</span></span> # left - <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> internet IP <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> l2tp <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> leftprotoport=<span class="hljs-number"><span class="hljs-number">17</span></span>/<span class="hljs-number"><span class="hljs-number">1701</span></span> right=%<span class="hljs-keyword"><span class="hljs-keyword">any</span></span> # right - <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> IP <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> client ( <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> client NATed , that IP <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> client <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> IP <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> NAT ) rightprotoport=<span class="hljs-number"><span class="hljs-number">17</span></span>/<span class="hljs-number"><span class="hljs-number">1701</span></span></code> </pre><br>  The most important points of the config are commented.  You should also remember to create a config in exactly the same way as above, that is, with the spaces at the beginning of the line being preserved for those commands that have them, since the command indent by the daemon is tied to the block defined by the inevitable ‚Äúconn‚Äù. <br><br>  Now we will set authorization for work with ipsec.  There are two authorization methods - by certificate and by key (PSK).  In this example, we will configure key authorization in the /etc/ipsec.secrets file: <br><br><pre> <code class="hljs css">11<span class="hljs-selector-class"><span class="hljs-selector-class">.11</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.11</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.11</span></span> %<span class="hljs-selector-tag"><span class="hljs-selector-tag">any</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">PSK</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">mykey</span></span>"</code> </pre><br><br>  11.11.11.11 is the external IP address of our server. <br>  % any is a built-in variable representing any IP address <br>  PSK - authorization method (can be RSA) <br>  "Mykey" is the secret key for authorization, which you will need to transfer to the client. <br><br>  Now it's time to set up a l2tp server.  It will work through the ppp protocol. <br><br>  We give the configuration of /etc/xl2tpd/xl2tpd.conf to the form: <br><pre> <code class="hljs vhdl">[global] <span class="hljs-keyword"><span class="hljs-keyword">port</span></span> = <span class="hljs-number"><span class="hljs-number">1701</span></span> auth <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> = /etc/xl2tpd/l2tp-secrets # auth <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> pars login/password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> l2tp auth [lns <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>] ip <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> = <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>-<span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.200</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> IP<span class="hljs-symbol"><span class="hljs-symbol">'s</span></span> , that give <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> clients <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> auth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> good local ip = <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> refuse chap = yes refuse pap = yes require authentication = yes ppp debug = no # debug mode pppoptfile = /etc/ppp/options.xl2tpd # this <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> ppp options config <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> length <span class="hljs-built_in"><span class="hljs-built_in">bit</span></span> = yes exclusive = no assign ip = yes name = VPN-Server</code> </pre><br>  In this config, again, all critical places are commented, and the rest are intuitive.  When configuring the server, comments from the config must be removed. <br><br>  Configure the l2tp authorization file - / etc / xl2tpd / l2tp-secrets.  In the file we will allow everyone to connect, since l2tp works for us through ppp, then we will use ppp authentication. <br><br><pre> <code class="hljs vhdl"># Secrets <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> authenticating l2tp tunnels # us them secret # * marko blah2 # zeus marko blah # * * interop * * * # let <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> , because we <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> auth <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> ppp</code> </pre><br><br>  Next, configure the ppp config, which is requested by our l2tp daemon (/etc/ppp/options.xl2tpd): <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">refuse-mschap-v2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">refuse-mschap</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ms-dns</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ms-dns</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">asyncmap</span></span> 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">auth</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">crtscts</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">idle</span></span> 1800 <span class="hljs-selector-tag"><span class="hljs-selector-tag">mtu</span></span> 1200 <span class="hljs-selector-tag"><span class="hljs-selector-tag">mru</span></span> 1200 <span class="hljs-selector-tag"><span class="hljs-selector-tag">lock</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">hide-password</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">local</span></span> <span class="hljs-selector-id"><span class="hljs-selector-id">#debug</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">name</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">l2tpd</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">proxyarp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lcp-echo-interval</span></span> 30 <span class="hljs-selector-tag"><span class="hljs-selector-tag">lcp-echo-failure</span></span> 4</code> </pre><br><br>  In case of problems with a connection or with a connection for debugging l2tp, simply uncomment "#debug" and look into the system log / var / log / syslog for errors. <br><br>  Configure ppp authorization (/ etc / ppp / chap-secrets): <br><pre> <code class="hljs pgsql"># Secrets <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> authentication <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CHAP # client <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> secret IP addresses test2 l2tpd test *</code> </pre><br><br>  Login - test2 <br>  Server for which this pair is valid for authorization - l2tpd <br>  Password - test <br>  Clients from all IP addresses can connect with this password - * <br><br>  Restart both services: <br><pre> <code class="hljs swift">/etc/<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>.d/ipsec restart /etc/<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>.d/xl2tpd restart</code> </pre><br><br>  Now let's check the correctness of the modules of the ipsec itself inside the container: <br><pre> <code class="hljs dos">ipsec <span class="hljs-built_in"><span class="hljs-built_in">verify</span></span></code> </pre> <br>  The output of a working ipsec will be something like this: <br><pre> <code class="hljs pgsql">root@XXX:~# ipsec verify Checking your <span class="hljs-keyword"><span class="hljs-keyword">system</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> see <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> IPsec got installed <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> started correctly: <span class="hljs-keyword"><span class="hljs-keyword">Version</span></span> <span class="hljs-keyword"><span class="hljs-keyword">check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> ipsec <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>-<span class="hljs-type"><span class="hljs-type">path</span></span> [OK] Linux Openswan U2<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.37</span></span>-g955aaafb-dirty/K2<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.32</span></span><span class="hljs-number"><span class="hljs-number">-042</span></span>stab084<span class="hljs-number"><span class="hljs-number">.10</span></span> (netkey) Checking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> IPsec support <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> kernel [OK] SAref kernel support [N/A] NETKEY: Testing XFRM related proc <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> [OK] [OK] [OK] Checking that pluto <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> running [OK] Pluto listening <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> IKE <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> udp <span class="hljs-number"><span class="hljs-number">500</span></span> [OK] Pluto listening <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> NAT-T <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> udp <span class="hljs-number"><span class="hljs-number">4500</span></span> [OK] Checking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-string"><span class="hljs-string">'ip'</span></span> command [OK] Checking /bin/sh <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> /bin/dash [<span class="hljs-built_in"><span class="hljs-built_in">WARNING</span></span>] Checking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-string"><span class="hljs-string">'iptables'</span></span> command [OK] Opportunistic Encryption Support</code> </pre><br><br>  Now let's configure a client in Windows 7 to connect to our VPN l2tp with ipsec encryption. <br><br>  First, create a new VPN connection. <br><div class="spoiler">  <b class="spoiler_title">Everything is standard</b> <div class="spoiler_text">  Start - Control Panel - Network and Sharing Center - Setting up a new connection or network - Connecting to a workplace - Use my Internet connection (VPN) <br></div></div><br>  Next, specify the IP address or FQDN name of the l2tp server <br><div class="spoiler">  <b class="spoiler_title">hint</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/eaa/fac/1a0/eaafac1a084d937dfe348bd7750dc2cd.png" alt="image"><br></div></div><br>  Enter the username and password from l2tp <br><div class="spoiler">  <b class="spoiler_title">hint</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/a6a/f21/dc3/a6af21dc31a6dcad94891b4265ae1bc7.png"><br></div></div><br>  Do not connect and close the connection settings <br><div class="spoiler">  <b class="spoiler_title">hint</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/859/271/e08/859271e087041657a75ff1386c93ddd1.png"><br></div></div><br>  Go to the properties of our new connection and check once again the correctness of the input server address (General tab) <br><div class="spoiler">  <b class="spoiler_title">hint</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/76f/fd0/c87/76ffd0c87cf6a2142afe1e5dcaeb4230.png"><br></div></div><br>  In the ‚ÄúSecurity‚Äù tab, set the correct type of our connection (l2tp over ipsec) and enable authentication using CHAP.  In the advanced settings of l2tp, we select authorization by key and enter our PSK from IPsec <br><div class="spoiler">  <b class="spoiler_title">hint</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/5b2/103/32d/5b210332d0faead8eade9ff47b5223b7.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/7f9/29c/716/7f929c7168d27d4c4d39dafb53f0fdbc.png"><br></div></div><br><br>  Setup is over.  Now you can use the new VPN connection. <br><br>  Thanks for attention <br><br>  Nikolay Vaganov, <a href="http://fastvps.ru/">FastVPS LLC</a> Senior System Administrator <br><br>  UPD At the moment, the kernel specified in the article is unstable and is not installed on our nodes.  I think that within a couple of weeks, kernel developers will include it in a stable branch. </div><p>Source: <a href="https://habr.com/ru/post/205162/">https://habr.com/ru/post/205162/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../205150/index.html">Veeam Explorer for Microsoft SharePoint 2013</a></li>
<li><a href="../205152/index.html">How to make a regular FTP server really safe and at the same time convenient?</a></li>
<li><a href="../205154/index.html">JSfiddle style HTML + CSS + JS editor with 230 character code</a></li>
<li><a href="../205158/index.html">Migrate Google Chrome to RAM Disk on Linux</a></li>
<li><a href="../205160/index.html">Apple plans to launch iBeacon in 254 US stores</a></li>
<li><a href="../205166/index.html">New Year Gift Guide 2013</a></li>
<li><a href="../205168/index.html">Iron in the service of the algorithm</a></li>
<li><a href="../205170/index.html">DIY-dimmer: New Year's pre-order printed circuit boards</a></li>
<li><a href="../205174/index.html">German Digital Library opens API</a></li>
<li><a href="../205176/index.html">SELECT ... WHERE queries in Cassandra 2.0 in CQL3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>