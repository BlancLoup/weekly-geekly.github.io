<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>REST API for a couple of minutes with Lionframe</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Code generators simplify the life of an ordinary developer; in any case, they are called upon to do this, saving him from the boring writing of the sa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>REST API for a couple of minutes with Lionframe</h1><div class="post__text post__text-html js-mediator-article">  Code generators simplify the life of an ordinary developer; in any case, they are called upon to do this, saving him from the boring writing of the same type of code.  One of these generators team Sylius'a presented as a gift for the community for Christmas. <br><a name="habracut"></a><br><br><h3>  Foreword </h3><br>  A couple of weeks ago, while being interviewed, I received a test task of writing a simple REST API in pure PHP and MySQL.  It took me about four hours to encode.  Having stumbled upon the mysterious <a href="https://twitter.com/Lakion">@ Lakion</a> 's <a href="https://twitter.com/Lakion">tweet</a> about the rapid creation of the REST API, I became interested and decided to check out this new animal.  Here are a couple of words about the results. <br><br><h3>  API generation </h3><br>  The shortest way to achieve our goal is described in the <a href="http://lakion.com/lionframe">tutorial</a> and requires only three steps from us: <br><ol><li>  Generation of the entity that will be the resource of our service. </li><li>  Configuration SyliusResourceBundle'a. </li><li>  Configuration routing. </li></ol><br>  Such shamanism will lead to the creation of five familiar CRUD methods: index (GET method), show (GET), create (POST), update (PUT / PATCH), delete (DELETE).  Now let's try to understand what is happening under the hood. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, we gave the creation and mapping of the entity to the generator for Doctrine, which created a beautiful entity with access methods for the properties and metadata we described in the format we chose.  The basis of all the magic is the SyliusResourceBundle, the configuration of which allows you to add user resources in this way: <br><pre><code class="hljs tex">sylius_resource: resources: my_app.entity_key: driver: doctrine/orm # required manager: default templates: App:User classes: model: MyApp<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Entity</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EntityName</span></span></span></span> # required interface: MyApp<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Entity</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EntityKeyInterface</span></span></span></span> controller: Sylius<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ResourceBundle</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Controller</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ResourceController</span></span></span></span> repository: Sylius<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ResourceBundle</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Doctrine</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ORM</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EntityRepository</span></span></span></span></code> </pre> <br>  Only two parameters are required: driver and classes.model.  If we do not define a custom controller, then ResourceController will be used, kindly provided to us by Sylius. <br><br>  Another interesting moment in Lionframe is routing.  Tutorial offers us to configure it like this: <br><pre> <code class="hljs scala">acme_artist: resource: acme.artist <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: sylius.api</code> </pre><br>  For these two parameters to become five routes, the ApiLoader is used, and specifically its load method, which creates all five routes for each resource.  When creating a URL, a plural form of the resource name is used (in this case, artists).  The meaning of the type parameter is that the routing system can distinguish these specific routes from the usual ones and, accordingly, for the first ones to pull the ApiLoader. <br><br><h3>  Results </h3><br>  Creating your own wooden REST API with your own hands - a few hours, with Lionframe - a few minutes.  QoS confirms that code generators are good.  I would also like to ask the habreators how often all sorts of code generators are used in real commercial projects and how much of the generated code lives at least until the middle of the project? <br><br><h3>  Links </h3><br><ul><li>  <a href="http://lakion.com/lionframe">Lionframe Tutorial</a> </li><li>  <a href="http://docs.sylius.org/en/latest/bundles/SyliusResourceBundle/index.html">SyliusRestBundle Documentation</a> </li><li>  <a href="https://github.com/holyspecter/lionframe-test">An example implementation of REST API using Lionframe</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/246827/">https://habr.com/ru/post/246827/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246811/index.html">Alex Schultz (part 2): an introduction to growth hacking</a></li>
<li><a href="../246815/index.html">Samsung launches mass production of the industry's first 8-gigabit mobile DRAM memory chip LPDDR4</a></li>
<li><a href="../246817/index.html">Another Snake is not in 30 lines on Android</a></li>
<li><a href="../246819/index.html">New track on Coursera: Mobile Cloud Computing with Android</a></li>
<li><a href="../246825/index.html">Localization for Brazil: tips and tricks</a></li>
<li><a href="../246829/index.html">Authorization of users with AngularJS and Firebase</a></li>
<li><a href="../246831/index.html">Eleventh grader, or we test layout bugs</a></li>
<li><a href="../246835/index.html">Video Metadata Framework SDK Video Metadata Management Tool - Intel New Year Gift</a></li>
<li><a href="../246837/index.html">Introducing Pop-up Events</a></li>
<li><a href="../246839/index.html">Why employees of large companies use ‚Äúleft‚Äù software for professional communication and what to do about it</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>