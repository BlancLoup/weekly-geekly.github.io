<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How Android works, part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, I will talk about some of the ideas on which the high-level parts of Android are built, about several of its predecessors, and about ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How Android works, part 2</h1><div class="post__text post__text-html js-mediator-article"><p> <a href=""><img src="https://habrastorage.org/web/21a/c11/66b/21ac1166b327438d8d4bd3700059015c.png"></a> </p><br><p>  In this article, I will talk about some of the ideas on which the high-level parts of Android are built, about several of its predecessors, and about the basic security mechanisms. </p><a name="habracut"></a><br><p>  Articles series: </p><br><ul><li>  <a href="https://habrahabr.ru/company/solarsecurity/blog/334796/">How Android works, part 1</a> </li><li>  How Android works, part 2 </li><li>  <a href="https://habrahabr.ru/company/solarsecurity/blog/338494/">How Android works, part 3</a> </li><li>  <a href="https://habr.com/company/solarsecurity/blog/427431/">How Android works, part 4</a> </li><li>  ... </li></ul><br><hr><br><p>  Speaking about Unix- and Linux-roots of Android, you need to remember about other projects of operating systems, the influence of which can be traced in Android, although they are not its direct ancestors. </p><br><p>  I have already mentioned BeOS, a legacy from which Android got Binder. </p><br><h3 id="plan-9-from-bell-labs">  Plan 9 from Bell Labs </h3><br><p>  Plan 9 - a descendant of Unix, a logical continuation, the development of his ideas and bring them to perfection.  Plan 9 was developed at Bell Labs by the same team that created Unix and C ‚Äî people like Ken Thompson, Rob Pike, Dennis Ritchie, Brian Kernighan, Tom Duff, Doug McIlroy, Bjarne Stroustrup, Bruce Ellis, and others worked on it. </p><br><p>  In Plan 9, the interaction of processes with each other and with the system core is not realized through numerous system calls and IPC mechanisms, but through virtual text files and file systems (the development of the Unix principle <strong>‚Äúeverything is a file‚Äù</strong> ).  In addition, each process group ‚Äúsees‚Äù the file system in its own way ( <strong>namespaces</strong> , namespaces), which allows you to run different parts of the system in a different environment. </p><br><p> For example, to get the position of the mouse cursor, applications read the text file <code>/dev/mouse</code> .  The rio window system provides each application with its own version of this file, in which only events related to the window of this application are visible and local coordinates are used with respect to the window.  Rio itself reads the events of a ‚Äúreal‚Äù mouse through the same file <code>/dev/mouse</code> - in the form in which it sees it.  If it is launched directly, this file is provided by the kernel and actually describes the movements of a real mouse, but it can be completely transparently launched as an application under another copy of rio, without any special support from her. </p><br><p><img src="https://habrastorage.org/web/607/65d/771/60765d771ca14ba9857b1f6a164a654d.gif" alt="Screenshot Plan 9"></p><br><p>  Plan 9 fully supports access to remote file systems (it uses its own 9P protocol, in addition, it supports FTP and SFTP), which allows programs to completely transparently access remote files, interfaces, and resources.  Such ‚Äúnative‚Äù <strong>network transparency</strong> turns Plan 9 into a <em>distributed</em> operating system ‚Äî the user can physically be behind one computer running rio, run applications on several others, use the files stored on the file server and perform calculations on the CPU server ‚Äî All this is completely transparent and without special support from each part of the system. </p><br><p>  Due to the beautifully designed architecture, Plan 9 is much simpler and smaller than Unix - in fact, the core of Plan 9 is even several times smaller than the well-known Mach microkernel. </p><br><blockquote>  It is not necessary to add away. </blockquote><p>  Despite the technical superiority and the presence of a layer of compatibility with Unix, Plan 9 is not widespread.  However, many of the ideas and technologies from Plan 9 became widespread and were implemented in other systems.  The most famous of them - the <nobr>UTF-8</nobr> encoding, which was developed in Plan 9 to ensure full Unicode support while maintaining backward compatibility with ASCII - has become a generally accepted standard. </p><br><p>  Most of the ideas and technologies from Plan 9 are implemented in Linux: </p><br><ul><li>  <code>/proc</code> (procfs) file system </li><li>  <code>clone</code> system call ( <code>rfork</code> analog from Plan 9) </li><li>  support for mount namespaces (mount namespaces) </li><li>  support for file systems implemented in user space (filesystem in userspace, FUSE) </li><li>  9P protocol support </li></ul><br><p>  Much of this is used, including, in Android.  In addition, Android has an intent mechanism, similar to the plumber from Plan 9;  I will tell about it in the next article. </p><br><p>  You can learn more about Plan 9 on <a href="http://plan9.bell-labs.com/">plan9.bell-labs.com</a> ( <a href="http://plan9.bell-labs.com/plan9/">saved copy on the Wayback Machine</a> ), or its mirror <a href="https://9p.io/plan9/">9p.io</a> </p><br><h3 id="inferno">  Inferno </h3><br><p>  Plan 9 was continued as an Inferno project, also developed at Bell Labs.  To the properties of Plan 9, as simplicity and distribution, Inferno adds <em>portability</em> .  Programs for Inferno are written in the high-level Limbo language and are executed ‚Äî using just-in-time compilation ‚Äî by the virtual machine built into the Inferno kernel. </p><br><p>  Inferno is so portable that it can run. </p><br><ul><li>  on processors of different architectures: ARM, x86, IBM PowerPC, Sun SPARC, 6SGI MIPS and HP <nobr>PA-RISC</nobr> , </li><li>  as a standalone operating system or as a program under Plan 9, Unix, Windows 95 and Windows NT. </li></ul><br><p>  In this case, applications running inside Inferno are provided with exactly the same environment. </p><br><p>  Inferno has received even less distribution and fame than Plan 9. On the other hand, Inferno largely anticipated Android, the most popular operating system in the world. </p><br><h3 id="danger">  Danger </h3><br><p>  Danger Research Inc.  It was co-founded by Andy Rubin (Andy Rubin) in 1999, 4 years before the co-founding of the same Android Inc.  in 2004. </p><br><p>  In 2002, Danger released their smartphone Danger Hiptop.  Many of the developers of Danger subsequently worked on Android, so it is not surprising that its operating system was in many ways similar to Android.  For example, it implemented: </p><br><ul><li>  "Always running" applications written in Java, </li><li>  full web browser </li><li>  web applications </li><li>  messenger, </li><li>  email client, </li><li>  cloud sync </li><li>  third-party application store. </li></ul><br><p> <a href=""><img src="https://habrastorage.org/web/d98/a43/31f/d98a4331f258447181e254f75cd4fd42.jpeg" alt="Danger hiptop"></a> </p><br><p>  Read more about Danger in the article by Chris DeSalvo, one of the developers, called <a href="https://medium.com/%40chrisdesalvo/the-future-that-everyone-forgot-d823af31f7c">The future that everyone forgot</a> . </p><br><h2 id="java">  Java </h2><br><p>  Although the use of high-level languages ‚Äã‚Äãfor serious development is no longer surprising anyone, of the popular operating systems, only Android has a native language ‚Äî high-level Java (on the other hand, you can recall the web with its JavaScript, .NET for Windows, and relatively high-level). compiled into native code and not using garbage collection - Swift). </p><br><p>  Despite the seeming flaws (‚ÄúJava combines the beauty of C ++ syntax with python execution speed‚Äù), Java has many advantages. </p><br><p>  First, Java is the <a href="https://www.tiobe.com/tiobe-index/">most popular</a> (by a wide margin) programming language.  Java has a huge ecosystem of libraries and development tools (including build systems and IDEs).  About Java written many articles, books and documentation.  Finally, there are many qualified Java developers. </p><br><p>  Java programs, like many other high-level languages, are portable between operating systems and processor architectures (‚ÄúWrite once, run anywhere‚Äù).  Practically, this is manifested, for example, in the fact that Android applications work <em>without recompilation</em> on devices of any architecture (Android supports ARM, ARM64, x86, x86‚Äì64 and MIPS). </p><br><p>  Unlike low-level languages ‚Äã‚Äãlike C and C ++, which use manual memory management, Java memory is automatically controlled by the runtime environment.  The Java program does not even have direct memory access, which automatically prevents several classes of errors, often leading to crashes and vulnerabilities in programs written in low-level languages ‚Äã‚Äã- ‚Äúhanging links‚Äù are impossible (due to which <nobr>use-after-free</nobr> occurs) null pointer dereferencing (when you try to do this, a <code>NullPointerException</code> thrown), reading of uninitialized memory and going beyond the array boundaries. </p><br><p>  Using full garbage collection (compared to automatic reference counting) eliminates the programmer from all the problems and difficulties with circular references and allows you to implement even more advanced (advanced) dependencies between objects. </p><br><p>  This makes development for Android more enjoyable than development using low-level languages, and Android applications much more reliable, including security. </p><br><h3 id="running-java-isart">  Running Java is ART </h3><br><p>  Unlike most other high-level languages, Java programs are not distributed as source code, but compiled into an intermediate format (bytecode), which is an executable binary code for a special processor. </p><br><p>  Although <a href="https://www.wikiwand.com/en/Java_processor">attempts are being made to</a> create a physical processor that would directly execute Java bytecode, in most cases a <strong>Java virtual machine</strong> (JVM) is used as such a processor.  A commonly used implementation from Oracle / OpenJDK called <a href="https://www.wikiwand.com/en/HotSpot">HotSpot</a> . </p><br><p>  Android uses a proprietary implementation called <strong>Android Runtime</strong> (ART), specially optimized for use on mobile devices.  In older versions of Android (up to 5.0 Lollipop), instead of ART, another implementation called <strong>Dalvik was used</strong> . </p><br><p>  Both Dalvik and ART use their own <a href="https://source.android.com/devices/tech/dalvik/dalvik-bytecode">bytecode format</a> and a proprietary file format that stores bytecode DEX ( <a href="https://source.android.com/devices/tech/dalvik/dex-format">Dalvik executable</a> ).  Unlike <nobr>class files</nobr> in ‚Äúregular Java‚Äù, all Java code of an application is <a href="https://developer.android.com/studio/build/multidex.html">usually</a> compiled into one <code>classes.dex</code> <nobr>DEX file</nobr> .  When building an Android application, the Java code is first compiled with a regular Java compiler into <nobr>class files</nobr> , and then converted into a <nobr>DEX file with a</nobr> <a href="https://r8.googlesource.com/r8">special utility</a> (possibly an <a href="https://github.com/pxb1988/dex2jar">inverse transformation</a> ). </p><br><p>  Both HotSpot, Dalvik, and ART further optimize the executable code.  All three use <a href="https://source.android.com/devices/tech/dalvik/jit-compiler">just-in-time compilation</a> (JIT), that is, at run-time they compile bytecode into pieces of completely native code that is executed directly.  In addition to the obvious gain in speed, it allows you to optimize the code for execution on a specific processor, without abandoning the full portability of the bytecode. </p><br><p>  In addition, ART can compile bytecode to native code in advance rather than at run time ( <a href="https://www.wikiwand.com/en/Ahead-of-time_compilation">ahead-of-time compilation</a> ) - and the system automatically schedules this compilation while the device is not in use and connected to charging (for example, at night).  In this case, ART takes into account the data collected by the profiler during previous launches of this code ( <a href="https://www.wikiwand.com/en/Profile-guided_optimization">profile-guided optimization</a> ).  This approach allows you to further optimize the code for the specifics of a particular application, and even for the specifics of using this application by this particular user. </p><br><p>  As a result of all these optimizations, the performance of Java code on Android is not much inferior to the performance of low-level code (in C / C ++), and in some cases it <a href="http://www.androidauthority.com/java-vs-c-app-performance-689081/">exceeds it</a> . </p><br><p>  Java bytecode, unlike regular executable code, uses the Java object model ‚Äî that is, things like classes, methods, and signatures are explicitly written in bytecode.  This makes it possible to compile <em>other languages</em> into Java bytecode, which allows programs written on them to run on a Java virtual machine and to be more or less compatible (interoperable) with Java. </p><br><p>  There are both JVM implementations of independent languages ‚Äã‚Äã‚Äî for example, <a href="http://www.jython.org/">Jython</a> for Python, <a href="http://jruby.org/">JRuby</a> for Ruby, <a href="https://developer.mozilla.org/docs/Mozilla/Projects/Rhino">Rhino</a> for JavaScript, and the Lisp <a href="https://clojure.org/">Clojure</a> dialect ‚Äî and languages ‚Äã‚Äãoriginally developed for compiling to Java bytecode and running on JVM, the most famous of which are <a href="http://groovy-lang.org/">Groovy</a> , <a href="https://www.scala-lang.org/">Scala</a> and <a href="https://kotlinlang.org/">Kotlin</a> . </p><br><p>  The newest of them, <strong>Kotlin</strong> , specially designed for perfect compatibility with Java and with a much more pleasant syntax (similar to Swift), is <a href="https://android-developers.googleblog.com/2017/05/android-announces-support-for-kotlin.html">supported by</a> Google as the official development language for Android along with Java. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fed/4fd/5d1/fed4fd5d166e2d09b6be9d2e236533a0.svg" alt="Kotlin on Android logo"></p><br><p>  Despite all the advantages of Java, in some cases it is still desirable to use a low-level language ‚Äî for example, to implement a performance-critical component, such as a browser engine, or to use an existing native library.  Java allows you to invoke native code through the <a href="https://www.wikiwand.com/en/Java_Native_Interface">Java Native Interface</a> (JNI), and Android provides special tools for native development ‚Äî the <a href="https://developer.android.com/ndk">Native Development Kit</a> (NDK), which includes header files, a compiler (Clang), a debugger (LLDB), and an assembly system . </p><br><p>  Although NDK is mainly focused on using C / C ++, it can be written under Android and in other languages ‚Äã‚Äã- including <a href="https://github.com/tomaka/android-rs-glue">Rust</a> , <a href="">Swift</a> , <a href="https://python-for-android.readthedocs.io/en/latest/">Python</a> , <a href="https://www.nativescript.org/">JavaScript,</a> and even <a href="https://medium.com/%40zw3rk/a-haskell-cross-compiler-for-android-8e297cb74e8a">Haskell</a> .  Moreover, there is even the <a href="http://www.apportable.com/">ability to</a> port iOS applications (written in <nobr>Objective-C</nobr> or Swift) on Android with virtually no changes. </p><br><h2 id="o-bezopasnosti">  About security </h2><br><h3 id="klassicheskiy-unix">  Classic Unix </h3><br><p>  The security model in classic Unix is ‚Äã‚Äãbased on the <strong>UID / GID system</strong> ‚Äî special numbers that the kernel stores for each process.  Processes with the same UID are allowed access to each other, processes with different UIDs are protected from each other.  Similarly, access to files is limited. </p><br><p>  In terms of meaning, each UID (user ID) corresponds to its user ‚Äî during the time of Unix creation, the situation when one computer was simultaneously used by many people was normal.  Thus, in Unix, processes and files of different <em>people</em> were protected from each other.  To allow sharing of certain files, users were grouped into groups with which the GID (group ID) corresponded. </p><br><p>  At the same time, all programs launched by the user are given full access to everything that this user has access to.  Actually, since the user cannot communicate with the kernel directly, but interacts with the computer through the shell and other processes ‚Äî the user <em>'s</em> rights <em>are the</em> rights of programs running on his behalf. </p><br><p>  This model implies that the user completely trusts all the programs that he uses.  At that time it was logical, because the programs most often either were part of the system, or were created (written and compiled) by the user. </p><br><p>  In Unix, there is an exception to the access restrictions - UID 0, which is called <strong>root</strong> .  He has access to everything in the system, and no restrictions apply to him.  This account was used by the system administrator;  in addition, many system services run under UID 0. </p><br><p>  In modern Linux, this model has been significantly expanded and generalized, including the capabilities that allow "to get some root-rights" and the SELinux subsystem that implements mandatory access control (MAC), which allows you to further restrict rights (including root access). </p><br><h3 id="vsyo-izmenilos">  Everything has changed </h3><br><p>  For several decades, past from the creation of Unix to the creation of Android, the practice of using computers ("calculators") has changed significantly. </p><br><p>  Instead of machines designed for parallel use by many users (via <em>terminals</em> , what <em>emulators of terminals</em> are now emulating), <strong>personal computers</strong> designed for use by one person appeared.  Computers have ceased to be only a working tool and have become the center of our digital life.  With the advent of <strong>mobile devices</strong> - first a PDA, then smartphones, tablets, smart watches, etc.  - this trend has only intensified (because working on mobile devices is relatively uncomfortable). </p><br><p>  On such devices are stored gigabytes of personal information, access to which must be protected and limited.  At the same time, the market for third-party applications flourished, which the user has no reason to trust. </p><br><p>  Thus, in modern conditions, instead of protecting different users from each other, it is necessary to protect other applications, user data, and the system itself from applications.  In addition, viruses that commonly use vulnerabilities in the system are widespread - to protect against them, you need to further protect parts of the system from each other, so that the use of a single vulnerability does not allow an attacker to access the entire system. </p><br><h3 id="android">  Android </h3><br><p>  Although some Android applications come with the system ‚Äî for example, standard applications such as Calculator, Clock, and Camera ‚Äî most users install applications from third-party sources.  The most famous of them is the <a href="https://play.google.com/store/apps">Google Play Store</a> , but there are others, for example, <a href="https://f-droid.org/">F-Droid</a> , <a href="https://amazon.com/appstore">Amazon Appstore</a> , <a href="https://store.yandex.ru/">Yandex.Store</a> , Chinese <a href="http://shouji.baidu.com/">Baidu App Store</a> , <a href="http://app.mi.com/">Xiaomi App Store</a> , <a href="http://appstore.huawei.com/">Huawei App Store</a> , etc.  In addition, Android allows you to manually install arbitrary applications from APK files (this is called sideloading). </p><br><p>  Like other Unix-like systems, Android uses the existing UID / GID mechanism to restrict access.  At the same time, unlike traditional use, when UIDs correspond to users, in Android different UIDs correspond to different <em>applications</em> .  Since the processes of different applications run with different UIDs, already at the kernel level, applications are protected and isolated from each other and do not have access to the system and user data.  This forms a <strong>sandbox</strong> (Application Sandbox) and allows the user to install any applications without having to trust them. </p><br><p>  In order to gain access to user data, camera, making calls, etc., the application must receive permission from the user.  <a href="">Some of the permissions</a> exist as GIDs to which the application is added when it receives this permission ‚Äî for example, obtaining the <code>ACCESS_FM_RADIO</code> permission puts the application into the <code>media</code> group, which allows it to access the <code>/dev/fm</code> file.  The rest exist only at a higher level (in the form of entries in the <code>packages.xml</code> file) and are checked by other components of the system when accessing the high-level API via Binder. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/9ad/01d/404/9ad01d4041dae8da77aed551d566585d.jpg"></p><br><p>  A small part of the system services in Android runs under UID 0, that is, root, but most use dedicated UID numbers, increasing their rights if necessary using Linux capabilities.  In addition, Android uses SELinux ‚Äî using SELinux on Android is called SEAndroid ‚Äî to further restrict what actions applications and system services are allowed to perform. </p><br><p>  Android usually does not provide the user with direct access to the root account, but in some cases he has the opportunity to get this access.  How this happens, why it is needed and what dangers it threatens, I will tell later. </p><br><hr><br><p>  In the <a href="https://habrahabr.ru/company/solarsecurity/blog/338494/">next article</a> (which comes out in a week), I‚Äôll talk about the components that make up Android applications, and about the ideas behind this architecture. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/338292/">https://habr.com/ru/post/338292/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../338282/index.html">Vivaldi 1.12 - Immersion in the details</a></li>
<li><a href="../338284/index.html">IIDF: Acceleration Experience of ISDEF Member Companies</a></li>
<li><a href="../338286/index.html">Director Linux Foundation uses Mac OS X, announcing the "Year of Linux on Desktops"</a></li>
<li><a href="../338288/index.html">How to manage calls to the IT department</a></li>
<li><a href="../338290/index.html">Data geometry 2. Definition of di- and bi-coordinates</a></li>
<li><a href="../338294/index.html">How to make a good movie for the App Store and Google Play</a></li>
<li><a href="../338298/index.html">Transition from ASP.NET to ASP.NET Core 2.0</a></li>
<li><a href="../338300/index.html">Paul Graham: Banal and Breakthrough</a></li>
<li><a href="../338302/index.html">Promo in check: How to build a loyalty program for the store without high costs</a></li>
<li><a href="../338304/index.html">Hackers attacked the Swiss Ministry of Defense</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>