<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dagaz: In the wilds of notations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Spit in the eyes of someone who will say that you can hug the immense! 
 ... 
 Zeal overcomes everything! 

 Kozma Prutkov " Thoughts and Aphorisms " ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dagaz: In the wilds of notations</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/43e/794/3a3/43e7943a3e289a281570ab8b68d347b8.png" alt="image">  <b><i>Spit in the eyes of someone who will say that you can hug the immense!</i></b> <b><i><br></i></b>  <b><i>...</i></b> <b><i><br></i></b>  <b><i>Zeal overcomes everything!</i></b> <b><i><br><br></i></b>  <b><i>Kozma Prutkov " <a href="https://ru.wikiquote.org/wiki/%25D0%259A%25D0%25BE%25D0%25B7%25D1%258C%25D0%25BC%25D0%25B0_%25D0%259F%25D1%2580%25D1%2583%25D1%2582%25D0%25BA%25D0%25BE%25D0%25B2">Thoughts and Aphorisms</a> "</i></b> <br><br>  People constantly invent something.  After the invention of <a href="https://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D1%2585%25D0%25BC%25D0%25B0%25D1%2582%25D1%258B">chess</a> , several thousand more similar games were developed.  Initially, according to the old habit left from the time of composing ancient myths, <a href="https://ru.wikipedia.org/wiki/%25D0%25A5%25D0%25B8%25D0%25BC%25D0%25B5%25D1%2580%25D0%25B0">chimeras</a> were created, combining the qualities of two or more chess pieces, but later the authors' imagination got stronger and began to produce more interesting variants.  In order not to get entangled in all this zoo, some kind of system was needed, the ability to classify new figures.  And she arose.  Actually, I know <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">two of them</a> .  Unfortunately, both of them do not work. <br><a name="habracut"></a><br>  A variety of <a href="https://en.wikipedia.org/wiki/List_of_chess_variants">chess options</a> have always been the focus of attention of the chess community.  In <a href="http://www.mayhematics.com/v/v.htm">specialized publications</a> you can find descriptions of new games, analyzes of games, as well as articles on the history of chess.  Attempts to systematize the rules have never been considered as something extraordinary.  Rather, it is a vital necessity.  The basis of such classifications was the division of all chess pieces into two large classes: <b>leapers</b> and <b>riders</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Leaper</b> -s are jumping figures (for example, a chess "Horse" is <b>(1,2) -leaper</b> ), moving by the number of fields indicated in brackets, not paying attention to the figures along the way.  Figures moving one field can also be considered <b>leaper -s</b> ( <a href="https://en.wikipedia.org/wiki/Ferz_(chess)">Ferz</a> from <a href="https://en.wikipedia.org/wiki/Shatranj">Shatranj</a> is <b>(1,1) -leaper</b> ), but since they move to a neighboring field, only 0 figures can jump over (everything is legal).  With a great desire, to the same class can be attributed, and chess " <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B5%25D1%2588%25D0%25BA%25D0%25B0">Pawn</a> ", but usually do not.  Most Orthodox do not even consider it a figure. <br><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B0%25D0%25B4%25D1%258C%25D1%258F_(%25D1%2588%25D0%25B0%25D1%2585%25D0%25BC%25D0%25B0%25D1%2582%25D1%258B)">Rooks</a> , <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BB%25D0%25BE%25D0%25BD_(%25D1%2588%25D0%25B0%25D1%2585%25D0%25BC%25D0%25B0%25D1%2582%25D1%258B)">elephants</a> and <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B5%25D1%2580%25D0%25B7%25D1%258C">queens</a> fall into another category of pieces.  These are <b>rider</b> s - figures moving in a straight line through an arbitrary number of empty fields (Rook - <b>(1,0) -rider</b> ).  There are "jumping" <b>rider-</b> s, such as <a href="https://en.wikipedia.org/wiki/Nightrider_(chess)">Nightrider</a> (derived from a chess knight), but they, along their own path, can only move along empty fields.  The proposed classification was considered reasonable and convenient until there were figures that do not fit into it.  So appeared the <b>Hopper-</b> s and <b>Locust-</b> s.  This did not solve the problem, since there were hundreds of figures that are neither. <br><br><h3>  Parlett's movement notation </h3><br>  The first large-scale attempt, to restore order in this zoo, made, apparently, <a href="https://en.wikipedia.org/wiki/David_Parlett">David Parlett</a> .  In his book, <a href="https://books.google.de/books/about/The_Oxford_History_of_Board_Games.html%3Fid%3DrH6DAAAAMAAJ%26redir_esc%3Dy">The Oxford History of Board Games</a> , he used the notation of his own invention to classify the various pieces used in numerous variations of chess games. <br><br><div class="spoiler">  <b class="spoiler_title">Parlett</b> <div class="spoiler_text">  Distance: <br><br><ul><li>  <b>1</b> - move to the adjacent field </li><li>  <b>2</b> - in one field </li><li>  <b>n</b> - for an arbitrary number of fields (like Rook or Elephant) </li></ul><br>  Direction: <br><br><ul><li>  <b>*</b> - Moving in all (eight) directions </li><li>  <b>+</b> - According to orthogonal lines (verticals and horizontals) </li><li>  <b>&gt;</b> - Forward vertically </li><li>  <b>&lt;</b> - Back vertically </li><li>  <b>&lt;&gt;</b> - Forward and back vertically </li><li>  <b>=</b> - Horizontally (right or left) </li><li>  <b>&gt; =</b> - Horizontally or vertically forward </li><li>  <b>&lt;=</b> - Horizontally or vertically back </li><li>  <b>X</b> - Diagonally </li><li>  <b>X&gt;</b> - Forward diagonally </li><li>  <b>X &lt;</b> - Diagonally back </li></ul><br>  Grouping: <br><br><ul><li>  <b>/</b> - Sequential execution of two orthogonal displacements </li><li>  <b>&amp;</b> - Repeat movement in the same direction. </li><li>  <b>.</b>  - performing one action after another </li></ul><br>  This set of rules is sufficient to describe simple cases such as <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D1%2580%25D0%25BE%25D0%25BB%25D1%258C_(%25D1%2588%25D0%25B0%25D1%2585%25D0%25BC%25D0%25B0%25D1%2582%25D1%258B)">King</a> ( <b>1 *</b> ) or <a href="https://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B0%25D0%25B4%25D1%258C%25D1%258F_(%25D1%2588%25D0%25B0%25D1%2585%25D0%25BC%25D0%25B0%25D1%2582%25D1%258B)">Rook</a> ( <b>nX</b> ) in classical Chess.  But already in the case of the Chess <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BD%25D1%258C_(%25D1%2588%25D0%25B0%25D1%2585%25D0%25BC%25D0%25B0%25D1%2582%25D1%258B)">Horse</a> , difficulties begin.  How to express the fact that this figure can ‚Äújump over‚Äù through other figures?  With <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B5%25D1%2588%25D0%25BA%25D0%25B0">Pawn,</a> too, everything is not easy.  This is the only figure in Chess performing the "quiet" and "shock" moves in different ways.  Accordingly, special characters are required to allow these situations to be separated.  There was a need to expand the notation: <br><br>  Terms of progress: <br><br><ul><li>  <b>i</b> - The first move by the figure (for example, the Pawn move from the initial position through one field) </li><li>  <b>c</b> - Execution of capture (shock stroke) </li><li>  <b>o</b> - Stroke without capture (silent) </li></ul><br>  Types of moves: <br><br><ul><li>  <b>~</b> - Skipping over other shapes </li><li>  <b>^</b> - Taking the sprung shape (as in <a href="https://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D1%2588%25D0%25BA%25D0%25B8">checkers</a> ) </li></ul><br>  Additional grouping types: <br><br><ul><li>  <b>,</b> - Separator of move variants (for example, for Pawn three possible moves are determined) </li><li>  <b>-</b> - Determining the range of possible movement of the figure </li></ul></div></div><br><ul><li>  King: <b>1 *</b> </li><li>  Queen: <b>n *</b> </li><li>  Elephant: <b>nX</b> </li><li>  Rook: <b>n +</b> </li><li>  Horse: <b>~ 1/2</b> </li><li>  Pawn: <b>o1&gt;, c1X&gt;, oi2&gt;</b> </li></ul><br>  What can be said about this notation?  First of all, it is not very obvious and (which is much worse) is not at all universal.  Yes, we have provided a special symbol for ‚Äújumping‚Äù figures and for taking when ‚Äújumping‚Äù, as in checkers ( <b>cn (^ 2X&gt;), o1X&gt;</b> ), but we completely forgot about such an important class of figures as <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Hoppers</a> . <br><br>  As a result, all sorts of "guns" (for example, from <a href="https://en.wikipedia.org/wiki/Xiangqi">Xiangqi</a> and <a href="https://en.wikipedia.org/wiki/Janggi">Janggi</a> ) remained "behind" our description.  Moreover, even chess pieces are described inaccurately.  Yes, for the pawn, the possibility of ‚Äújumping‚Äù through an empty field from the initial position ( <b>oi2&gt;</b> ) is described, but where is the description of the <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B7%25D1%258F%25D1%2582%25D0%25B8%25D0%25B5_%25D0%25BD%25D0%25B0_%25D0%25BF%25D1%2580%25D0%25BE%25D1%2585%25D0%25BE%25D0%25B4%25D0%25B5">capture on the aisle</a> ?  Where is the <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25BE%25D0%25BA%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B0">castling</a> notation performed by the King?  If any possibility <b>is difficult</b> to describe, it does not mean that it is not necessary to describe it! <br><br><h3>  Ralph Betza's funny notation </h3><br>  <a href="https://en.wikipedia.org/wiki/Ralph_Betza">Ralph Betza</a> - personality, in the world of chess, also known.  In addition to the serious hobby of classic chess, he is known as a developer of more than 40 highly original variations of this game, such as " <a href="https://en.wikipedia.org/wiki/Chess_with_different_armies">Chess with different armies</a> " or " <a href="http://www.chessvariants.com/crossover.dir/wotn.html">The Way of the Knight</a> ".  Acutely aware of the need for a classification system for chess pieces, Ralph proposed his own <a href="http://www.chessvariants.com/d.betza/chessvar/pieces/notation.html">version of the notation</a> .  The system proposed by him has become, in fact, the generally accepted standard used to describe the capabilities of chess pieces. <br><br><div class="spoiler">  <b class="spoiler_title">Betza</b> <div class="spoiler_text"><img align="left" src="https://habrastorage.org/files/eb7/3bc/79f/eb73bc79fd314399bf852a142832699d.PNG">  The description is based on capital letters of the Latin alphabet.  Each of them determines the course of the fundamental leaper: <br><br>  <b>W</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Wazir</a> (0,1) -leaper <br>  <b>F</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Fers</a> (1,1) -leaper ("Queen" from <a href="http://skyruk.livejournal.com/292733.html">Shatrange</a> ) <br>  <b>D</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Dabbaba</a> (0,2) -leaper <br>  <b>N</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Knight</a> (1,2) -leaper (the well-known chess "Horse") <br>  <b>A</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Alfil</a> (2,2) -leaper <br>  <b>H</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Threeleaper</a> (0,3) -leaper <br>  <b>C</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Camel</a> (1,3) -leaper <br>  <b>J</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Zebra</a> (2,3) -leaper <br>  <b>G</b> - <a href="https://en.wikipedia.org/wiki/Fairy_chess_piece">Tripper</a> (3,3) -leaper <br><br>  For the most common shapes, abbreviations are introduced.  So the chess ‚ÄúKing‚Äù ( <b>K = FW</b> ) combines the moves of the Fers and Wazir pieces.  <b>A</b> <b>rider is</b> obtained from a <b>leaper by</b> doubling a capital letter.  Chess "Elephant" ( <b>B = FF</b> ) is nothing more than a <b>rider</b> , derived from the Fers figure, just like the Rook ( <b>R = WW</b> ) is based on the Wazir figure.  Chess "Queen" ( <b>Q = BR</b> ) combines the moves of these two figures.  Of course, this is not enough.  For the "Pawn" (the most difficult figure) it is necessary to set modifiers: <br><br><ul><li>  <b>f</b> - Forward </li><li>  <b>b</b> - Backward movement </li><li>  <b>v</b> - Short <b>fb</b> modifier entry </li><li>  <b>l</b> - Move left </li><li>  <b>r</b> - move right </li><li>  <b>s</b> - <b>rl</b> modifier short entry </li><li>  <b>t</b> - performing one action after another </li><li>  <b>with</b> - Taking </li><li>  <b>m</b> - "Silent" move </li></ul><br>  In addition to modifiers, figures can be used in Betza notation.  <b>W5</b> , for example, defines a limited <b>range</b> , allowing you to move orthogonally, by no more than 5 steps.  In some cases, square brackets can be used to group "atoms".  For example, <b>t [WB]</b> (or <b>1 + .nX</b> , in the <b>Parlett-a</b> notation) describes the ‚ÄúAanca‚Äù shape, which is moved one field orthogonally and, subsequently, an arbitrary number of fields diagonally. <br></div></div><br><ul><li>  King: <b>K = WF</b> </li><li>  Queen: <b>Q = RB</b> </li><li>  Elephant: <b>B = FF</b> </li><li>  Rook: <b>R = WW</b> </li><li>  Horse: <b>N</b> </li><li>  Pawn: <b>mfWcfF</b> </li></ul><br>  All this is fine, but the ‚ÄúPawn‚Äù should be able to walk through one field from the starting position!  Need more modifiers for Betza notation! <br><br><div class="spoiler"> <b class="spoiler_title">Betza (continued)</b> <div class="spoiler_text"><ul><li>  <b>g</b> - <a href="https://en.wikipedia.org/wiki/Grasshopper_(chess_piece)">Grasshopper</a> </li><li>  <b>p</b> - "Cannon" (this is from " <a href="https://geektimes.ru/post/278182/">Chinese chess</a> ") </li><li>  <b>h</b> - Funny modifier, which I‚Äôll tell about below </li><li>  <b>j</b> - Mandatory "jumping" of the figure </li><li>  <b>n</b> - Movement without "jumping" through the figures </li><li>  <b>o</b> - Movement on a cylindrical board </li><li>  <b>z</b> - Zigzag shape movement (another funny modifier) </li></ul><br>  What does the " <b>h</b> " modifier mean?  To understand this, you need to remember one of the figures of " <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2591%25D0%25B3%25D0%25B8">Japanese chess</a> ".  The horse is ‚Äújumping‚Äù in them, as in classical chess, but it goes only forward, only two fields.  How to express this through Betza notation?  <b>fN</b> is a good attempt, but, moving "forward", a horse, generally speaking, can get on 4, not on 2 fields!  The modifier <b>h is</b> designed to "settle" this situation: <br><br><ul><li>  <b>ff</b> - ‚Äúforward-forward‚Äù movement (as ‚ÄúHorse‚Äù in Shogi) </li><li>  <b>fs</b> - Forward-to-side motion (from the <b>e4</b> field one can get to <b>c5</b> or <b>g5</b> ) </li><li>  <b>fh</b> - Moving Forward (all four sides) </li></ul><br>  I must say that when using Parlett's notation, the Japanese horse looks no better: <b>(~ 1/2)&gt; (narrow)</b> . <br></div></div><br><ul><li>  Pawn: <b>mfWcfFimfW2</b> </li></ul><br>  It does not describe the " <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B7%25D1%258F%25D1%2582%25D0%25B8%25D0%25B5_%25D0%25BD%25D0%25B0_%25D0%25BF%25D1%2580%25D0%25BE%25D1%2585%25D0%25BE%25D0%25B4%25D0%25B5">taking on the aisle,</a> " but we will not be too petty.  Of course, this notation is <b>not</b> universal!  Here is what the author <a href="http://www.chessvariants.com/d.betza/chessvar/pieces/notation.html">writes</a> about this: <br><br><blockquote>  <i>The notation is not universal or perfect yet.</i>  <i>It can be used to make it so that it‚Äôs possible to make it.</i>  <i>My notation has no way to describe such a piece.</i> </blockquote><br>  However, such horrors as ‚ÄúElephant‚Äù with ‚Äúvariable turn geometry‚Äù are not required at all to put Betza notation to a standstill.  There are a lot of other funny figures that have been used in numerous <a href="https://en.wikipedia.org/wiki/Shogi_variant">versions of Shogi for</a> centuries.  Begin, of course, should be with <a href="https://en.wikipedia.org/wiki/Chu_shogi">Chu Shogi</a> and her "Lion": <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8eb/4bc/ed1/8eb4bced148544a9880ae09813c83d74.PNG"></div><br>  This figure makes as if two moves (both on the same field in any direction, as the "King").  Thus, the ‚ÄúLion‚Äù can eat two figures per turn or perform an even more cunning acrobatic number - eat the figure next to it and, by the second move, return to its place.  Such a move, in various ‚ÄúShogi variants‚Äù, is of such fundamental importance that it is given a proper name - <b>igui</b> .  And this is not the most exotic application of the ‚Äúsecond move‚Äù concept: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a36/74a/abb/a3674aabbbea407ab8ee0d16ed2a09fc.PNG"></div><br>  These are three figures from <a href="https://en.wikipedia.org/wiki/Ko_shogi">Ko Shogi</a> .  <b>Cavalry</b> (È®é Á∑è kis≈ç) is very similar to the figure of "Lion", but uses the move of the chess "Horse", while moving in the "same" direction.  <b>Winged horse</b> (Â§©È¶¨ temba) - a stronger figure, continuing to move in any direction accessible to the ‚ÄúHorse‚Äù.  <b>Twelve-mile fog</b> (‰∫îÈáå Èúß) looks simpler, moving twice like Alibaba ( <b>AD</b> ), but after each turn, it can ‚Äúkill‚Äù the enemy figure that <b>happened</b> to be next to him with <b>igui</b> .  If these examples are not enough, there will be more: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/cd0/438/b9a/cd0438b9ab0748e3a44b27b0ff6d3f3c.PNG"></div><br>  <b>Roaming assault</b> (Êãõ Êè∫ sh≈çy≈ç) - "War chariot", moving in five (or less) fields in a straight line, killing all the enemy pieces that fall into the path.  <b>Thunderclap</b> (ÈúπÈùÇ hekireki) makes all the same five orthogonal moves, but randomly changing direction!  And do not think that this is found only in Ko Shogi!  <a href="https://en.wikipedia.org/wiki/Dai_dai_shogi">Dai dai shogi</a> , <a href="https://en.wikipedia.org/wiki/Tenjiku_shogi">Tenjiku shogi</a> , <a href="https://en.wikipedia.org/wiki/Taikyoku_shogi">Taikyoku shogi</a> - all these games use similar figures.  <a href="http://www.chessvariants.com/who/HGMuller">HG Muller</a> , the developer of the wonderful <a href="http://hgm.nubati.net/">WinBoard / XBoard</a> chess program, <a href="http://www.chessvariants.com/piececlopedia.dir/betzanot.html">offered</a> another fun modifier to solve this problem. <br><br>  The modifier " <b>a</b> " means the execution of the "second move", which allows to describe the move of the "Lion" as <b>aK</b> (double move "The King").  As usual, additional modifiers allow you to describe more complex moves.  So, for example, in the expanded notation of Betza, the move of the piece from ‚ÄúCheckers‚Äù looks like: <b>fmF (fcafmF)</b> .  You can try to decipher it yourself.  It is this notation that is used when describing figures in "historical" versions of Shogi: <br><br><ul><li>  Cavalry: <b>[NaffN] [xN]</b> </li><li>  Winged horse: <b>aN</b> </li><li>  Twelve-mile fog: <b>a [DA] acxK</b> </li><li>  Roaming assault: <b>Wa5fW</b> </li><li>  Thunderclap: <b>a! 5W</b> </li></ul><br>  Do you think the Betza notation has become universal?  Then try to describe, with its help, this game: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/64ar37WY2Uc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  So‚Ä¶ <br><br><h3>  If you have a problem and you want to use regular expressions ... </h3><br>  Understand me correctly, I'm not looking for complexity for the sake of complexity!  I just do not like the fact that existing notations are non-constructive.  In fact, what do we do when we discover a new type of shape?  We add a new letter!  For example, no need to go far.  Here is what HG Muller writes about castling: <br><br><blockquote>  <i>This is not the original atom atom but many extensions.</i>  <i>As such, any repetition of it, like O2, would be pointless, like any modifier prefixes.</i>  <i>I therefore propose to use O + number as a shorthand for (conventional) castling.</i>  <i>(After all, casting in PGN is denoted as OO or OOO.) King moves.</i>  <i>He ends up with a little bit of it.</i>  <i>You can‚Äôt be empty.</i>  <i>King would be FIDE: <b>WFisO2</b></i> </blockquote><br>  Reserving a single letter for such a private thing as castling, to me personally, seems very wasteful!  Following this path, we will begin to reserve all new and new letters for all specific moves!  For example, in <a href="https://en.wikipedia.org/wiki/Jetan">Jetan-</a> e "Princess", once per game, has the right to jump onto any free board field that is not under combat.  This move is not similar to castling.  So you need a new letter?  And what to do when all the letters end?  And this is not to mention the fact that at the output we have not quite obvious, not universal and, most importantly, redundant notation: <br><br><ul><li>  <b>g</b> - Grasshopper </li><li>  <b>p</b> - "Cannon" from " <a href="https://geektimes.ru/post/278182/">Chinese chess</a> " </li><li>  <b>j</b> - Mandatory "jumping" of the figure </li><li>  ... </li></ul><br>  <a href="https://en.wikipedia.org/wiki/Grasshopper_(chess_piece)">Grasshopper</a> is almost the same as the <a href="https://ru.wikipedia.org/wiki/%25D0%25A7%25D0%25B0%25D0%25BD%25D0%25B3%25D0%25B8">Cannon</a> (in any case, Korean)!  Why waste another letter on him?  And his behavior is directly connected with ‚Äújumping over‚Äù the figures ( <b>j</b> )!  With the Parlett notation, the same story: ' <b>~</b> ' - jumping over the figures, ' <b>^</b> ' - taking the sprung figure, but we generally forgot about the <b>hopper-</b> s!  <a href="http://skyruk.livejournal.com/250752.html">Returning</a> to <a href="http://skyruk.livejournal.com/250752.html">Fanorone</a> .  The whole problem lies in its specific way of taking: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/caa/43f/f3d/caa43ff3dfd94f12be08c52f3e2add37.jpg"></div><br>  This is not a chess and checkers take.  Given the limited size of the board, such a move can be described using the ' <b>a</b> ' modifier for Betza notation, but the description will be <b>very</b> cumbersome!  We'll have to describe the movement of the figure beyond the target field (with the capture of enemy figures along the way), and then the return, for the chain of each length and for all eight directions!  And this is not to mention the fact that all these eight directions are not available in all the fields of Fanorona.  But Fanorona is not some new-fashioned invention!  In Madagascar, this game has been played since 1600. <br><br><pre><code class="hljs delphi"><span class="hljs-comment"><span class="hljs-comment">(*)[p]|((\1[ex])*;~1(~1[ex])*)</span></span></code> </pre> <br>  It looks like a complete abracadabra and is somewhat similar to <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D0%25B3%25D1%2583%25D0%25BB%25D1%258F%25D1%2580%25D0%25BD%25D1%258B%25D0%25B5_%25D0%25B2%25D1%258B%25D1%2580%25D0%25B0%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F">regular expressions</a> .  In general, this is not an accident.  Regular expressions were invented to describe <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BD%25D0%25B5%25D1%2587%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B0%25D0%25B2%25D1%2582%25D0%25BE%25D0%25BC%25D0%25B0%25D1%2582">finite automata</a> , but what is a game board, with a moving figure on it, but a finite state machine?  Consider the component parts in more detail: <br><br><div class="spoiler">  <b class="spoiler_title">Dagaz</b> <div class="spoiler_text">  In fact, the entire expression is an enumeration of actions performed sequentially or alternatively.  Sequential actions are separated by a comma (' <b>,</b> '), and alternatives - a semicolon (' <b>;</b> ').  Actions can be grouped by parentheses.  Since actions change the state of the board and the figures, it is important that the comma determines the <b>order in</b> which the actions are performed.  Successfully performing all the actions listed separated by commas (in most cases it can be omitted), in the order specified, we generate a possible move. <br><br>  The alternative is a bit more complicated.  Two (or more) alternatives start from the <b>same</b> initial state and work <b>independently of</b> each other.  We reach the goal if we manage to execute any of the alternatives.  For simplicity, we can assume that the comma links actions as ' <b>and</b> ', and the semicolon - as ' <b>or</b> '.  In principle, these two actions are already enough, but in order to shorten the description, we will need quantifiers: <br><br><ul><li>  <b>{n, m}</b> - Repeat action from <b>n</b> to <b>m</b> times (n &lt;m) </li><li>  <b>{n}</b> - Repeat the action <b>n</b> times exactly </li><li>  <b>{n,}</b> - At least <b>n</b> times </li><li>  <b>{, m}</b> - Not more than <b>m</b> times </li></ul><br>  Just like in regular expressions.  Of course, we also define familiar abbreviations: <br><br><ul><li>  <b>?</b>  - <b>{0,1}</b> </li><li>  <b>*</b> - <b>{0,}</b> </li><li>  <b>+</b> - <b>{1,}</b> </li></ul><br>  Now let's talk about actions.  The obvious action is to move in one of the directions of the board.  Traditionally, the designations of the cardinal directions are used: ' <b>N</b> ', ' <b>S</b> ', ' <b>W</b> ', ' <b>E</b> ' - for orthogonal and ' <b>NW</b> ', ' <b>NE</b> ', ' <b>SW</b> ', ' <b>SE</b> ' - for diagonal directions, but, for reasons , which I will talk about below, I would not like to use two-letter notation.  Instead of them, I decided to use ' <b>M</b> ', ' <b>O</b> ', ' <b>R</b> ' and ' <b>T</b> ', in the same way as it is done in the project " <a href="http://www.di.fc.ul.pt/~jpn/ludae/system.htm">LUD√Ü</a> ".  In this way: <br><br><ul><li>  <b>N</b> - Server </li><li>  <b>S</b> - South </li><li>  <b>W</b> - West </li><li>  <b>E</b> - East </li><li>  <b>M</b> - Northwest </li><li>  <b>O</b> - Northeast </li><li>  <b>R</b> - Southwest </li><li>  <b>T</b> - Southeast </li><li>  <b>U</b> - Up (tell about it below) </li><li>  <b>D</b> - Down </li><li>  <b>+</b> - Orthogonal (similar to Parlett and LUD√Ü) </li><li>  <b>X</b> - Diagonally </li><li>  <b>*</b> - In all (standard) directions </li></ul><br>  Designations of generalized directions conflict with quantifiers, but this collision is easy to resolve.  The move action can always be bracketed, and the quantifier can never immediately follow the opening bracket.  It should be noted that the definition of directions is closely related to the description of the board.  It looks like this: <br><br><div class="spoiler">  <b class="spoiler_title">Fanorona Board</b> <div class="spoiler_text"><pre> <code class="hljs erlang">- fanorona-9x5 grid: ai x 5-1 N = <span class="hljs-params"><span class="hljs-params">(</span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">0</span></span></span><span class="hljs-params">, -</span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">1</span></span></span><span class="hljs-params">)</span></span> E = <span class="hljs-params"><span class="hljs-params">(</span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">1</span></span></span><span class="hljs-params">, </span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">0</span></span></span><span class="hljs-params">)</span></span> S = <span class="hljs-params"><span class="hljs-params">(</span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">0</span></span></span><span class="hljs-params">, </span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">1</span></span></span><span class="hljs-params">)</span></span> W = <span class="hljs-params"><span class="hljs-params">(-</span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">1</span></span></span><span class="hljs-params">, </span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">0</span></span></span><span class="hljs-params">)</span></span> O = a3&gt;b4&gt;c5,a1&gt;b2&gt;c3&gt;d4&gt;e5,c1&gt;d2&gt;e3&gt;f4&gt;g5,e1&gt;f2&gt;g3&gt;h4&gt;i5,g1&gt;h2&gt;i3 T = a3&gt;b2&gt;c1,a5&gt;b4&gt;c3&gt;d2&gt;e1,c5&gt;d4&gt;e3&gt;f2&gt;g1,e5&gt;f4&gt;g3&gt;h2&gt;i1,g5&gt;h4&gt;i3 R = c5&gt;b4&gt;a3,e5&gt;d4&gt;c3&gt;b2&gt;a1,g5&gt;f4&gt;e3&gt;d2&gt;c1,i5&gt;h4&gt;g3&gt;f2&gt;e1,i3&gt;h2&gt;g1 M = c1&gt;b2&gt;a3,e1&gt;d2&gt;c3&gt;b4&gt;a5,g1&gt;f2&gt;e3&gt;d4&gt;c5,i1&gt;h2&gt;g3&gt;f4&gt;e5,i3&gt;h4&gt;g5</code> </pre> </div></div><br>  If the shape is set to ‚Äúin any direction‚Äù (' <b>*</b> '), and the position at which it is located, defines only orthogonal directions - the shape can move only orthogonally.  Why don't I want to use two-letter symbols?  It's simple - if I list several alternative directions, I have to separate them with a semicolon (for example, the movement of a non-transformed figure in <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D1%2583%25D1%2580%25D0%25B5%25D1%2586%25D0%25BA%25D0%25B8%25D0%25B5_%25D1%2588%25D0%25B0%25D1%2588%25D0%25BA%25D0%25B8">Turkish Checkers</a> - <b>W; N; E</b> ), but since such a record would occur often, I would like omit the semicolons, for greater brevity (simply write - <b>WNE</b> ).  I would not like to have conflicts with the two-letter designations of directions in these cases. <br><br>  Other actions: <br><br><ul><li>  <b>\ 1</b> , ... <b>\ 9</b> - Moving in the direction previously captured in the variable </li><li>  <b>~ 1</b> , ... <b>~ 9</b> - Moving in the opposite direction of the captured </li><li>  <b>|</b>  - Setting the figure on the board (all subsequent movements are performed <b>without a</b> figure) </li><li>  <b>[...]</b> - Special actions, checks and more </li></ul><br>  About variables it is worth telling more.  It is tempting to describe the ‚ÄúRook‚Äù move as follows: <b>NEWS +</b> (or even just: <b>++</b> ), but this will be an obvious mistake.  In fact, with this description we say that the ‚ÄúRook‚Äù is orthogonal, one or more steps, but nowhere do we mention that the movement must take place in the same direction!  This is very similar to the course of the previously mentioned <b>Thunderclap</b> figure, but without any limitation of the stroke range. <br><br>  The choice of direction must be made once per turn, which means that the chosen direction must be fixed in a variable: <b>(+) \ 1 *</b> .  This description is better, but it is not entirely correct.  The rook can move in a straight line, up to the first enemy figure, but only along empty fields.  In order for the ‚ÄúRook‚Äù not to pass through other figures, it is necessary to clarify the description: <b>(+) ([p] \ 1) *</b> .  The letter in square brackets here is a special check that the field on which we are empty (if this is not the case, the course generation is interrupted).  This is one of the standard actions defined by the specification: <br><br><ul><li>  <b>[p]</b> - Is the field empty? </li><li>  <b>[P]</b> - The field is not empty? </li><li>  <b>[e]</b> - Enemy figure? </li><li>  <b>[E]</b> - Not an enemy figure? </li><li>  <b>[f]</b> - Friendly figure? </li><li>  <b>[F]</b> - Not a friendly figure? </li><li>  <b>[a]</b> - Field attacked? </li><li>  <b>[A]</b> - The field is not attacked? </li><li>  <b>[s]</b> - Is the field protected? </li><li>  <b>[S]</b> - The field is not protected? </li><li>  <b>[o]</b> - Is this type of move for the first time in a game? </li><li>  <b>[m]</b> - The figure moved? </li><li>  <b>[M]</b> - The shape did not move? </li><li>  <b>[r]</b> - The field was visited earlier, within the limits of the compound course? </li><li>  <b>[R]</b> - The field has not been visited before, within the compound course? </li><li>  <b>[l]</b> - The start field of the previous partial move? </li><li>  <b>[t]</b> - Field completion of the previous partial move? </li><li>  <b>[x]</b> - Taking a figure </li></ul><br>  In addition to the above, square brackets allow the specification to be extended by inserting references to handlers in a universal programming language (for example, JavaScript).  Specifying the number in square brackets, we say that a special handler must be called at this place to perform actions that are impossible or impractical to describe the specification language (as I mentioned above, no one can grasp the immense).  A good example of a game that illustrates the need for such extensions can be <a href="https://habrahabr.ru/post/234587/">Ritmomachia</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Strictly speaking, I'm a little cunning</b> <div class="spoiler_text">  Defining the ‚ÄúRook‚Äù turn as <b>(+) ([p] \ 1) *</b> I described how the figure moves across the field, but there is nothing about how the capture is performed.  First, we should not be able to complete the move on the field occupied by the figure of our color.  Further, if on the target field there is a figure of the enemy, it is required to take it and after that put your piece on the board: <b>[F] [ex]? |</b>  .  With the beginning of the turn, everything is not so simple either.  Firstly, if we define the action of putting a figure on the board, the opposite to it should be determined, but the most important thing (and it is very easy to forget about it), we have the right to move along the field only the figures of its color (in ‚Äú <a href="https://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D1%2588%25D0%25BA%25D0%25B8">Stavropol checkers</a> ‚Äù this is not like that): <b>[f] ^</b> . <br><br>  These are really important points (if we are talking about universal notation), but repeating them in the description of almost <b>every</b> figure would be excessive.  It is reasonable to make these postfix and prefix part of the description of the game board.  This type of board ( <b>default</b> ) has two properties.  Firstly (and this is the main thing) - each field of the board can contain no more than one figure.  If we put another figure on a busy field, the figure standing on it earlier will automatically ‚Äúclimb‚Äù.  The second rule is that the player has the right to move only his pieces (this is true for the vast majority of games). <br><br>  This type of construction board is not the only possible.  I can define at least two more types: <b>stack</b> (for games like " <a href="https://fr.wikipedia.org/wiki/Puluc">Puluk</a> " or " <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2582%25D0%25BE%25D0%25BB%25D0%25B1%25D0%25BE%25D0%25B2%25D1%258B%25D0%25B5_%25D1%2588%25D0%25B0%25D1%2588%25D0%25BA%25D0%25B8">Pillars</a> ") and <b>heap</b> (for all sorts of " <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D0%25BD%25D0%25BA%25D0%25B0%25D0%25BB%25D0%25B0">Mancal</a> ").  In the case of "pillar" games, the player has the right to move the "piles" of figures (provided that his piece is located at the top of the pile) and place the "piles" on top of each other.  In mancalas, "figures" are placed on the field by an unordered "heap".  The player takes the "heap" entirely and distributes it to other board fields.  The shapes on the <b>heap</b> board are not necessarily the same type!  There is at least one <a href="http://www.iggamecenter.com/info/ru/kauri.html">mancala</a> for which this is not the case. <br></div></div><br>  Another important feature is navigation within square brackets.  For example, if we need to perform a capture without moving the figure itself, it is not necessary to write something like <b>N [x] S</b> , the record of the form <b>[x&gt; N]</b> would also be quite correct. <br></div></div><br>  After all these necessary clarifications, I can ‚Äúdecipher‚Äù my notation of the course of the figures in Fanorone: <br><br><pre> <code class="hljs 1c">(*) <span class="hljs-meta"><span class="hljs-meta">#     (   ) [p] # </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  -    | #     ( (\1[ex])* #    </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    -   ; # </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> ~1 #   (  ) (~1[ex])* #  ,  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    )</span></span></code> </pre><br>  Here, I deliberately omit the moments related to the description of the compound course (this is a separate and rather <a href="https://habrahabr.ru/post/253397/">interesting topic</a> ).  Continuing the comparison of notations, I will give my description of the moves of chess pieces.  In bold, the part of the description that <b>Parlett</b> and <b>Betza</b> were not even taken up (castling and taking "on the aisle") is <b>highlighted</b> : <br><br><ul><li>  King: * [A] <b>; [MA] (E [p]) {2} [A] | E ^ [M] W {2}; [MA] (W [p]) {3} [A] | W ^ [M] E {2}</b> </li><li>  Queen: (*) ([p] \ 1) * </li><li>  Elephant: (X) ([p] \ 1) * </li><li>  Rook: (+) ([p] \ 1) * </li><li>  Horse: N, OM; E, OT; S, TR; W, RM </li><li>  Pawn: N [p]; OM [e]; [M] (N [p]) {2} <b>; [(te, = Pawn, x)&gt; E] O [l&gt; N]; [(te, = Pawn , x)&gt; W] M [l&gt; N]</b> </li></ul><br>  I would like to complete this narrative with the aphorism of <a href="https://ru.wikiquote.org/wiki/%25D0%259A%25D0%25BE%25D0%25B7%25D1%258C%25D0%25BC%25D0%25B0_%25D0%259F%25D1%2580%25D1%2583%25D1%2582%25D0%25BA%25D0%25BE%25D0%25B2">Kozma Prutkov</a> : <br><br>  <b><i>It happens that zeal overcomes and reason</i></b> </div><p>Source: <a href="https://habr.com/ru/post/309096/">https://habr.com/ru/post/309096/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309080/index.html">On the process of creating a server - from idea to detail</a></li>
<li><a href="../309086/index.html">NVMe over Fabric, Fiber Channel and others</a></li>
<li><a href="../309088/index.html">DisQwerty: you do not need more than one button to type</a></li>
<li><a href="../309092/index.html">Visualization of the photo portfolio. Part 1: Unusual deep learning</a></li>
<li><a href="../309094/index.html">Samsung has created a ‚Äúdigital eye‚Äù based on the IBM Truenorth chip</a></li>
<li><a href="../309098/index.html">[St. Petersburg, Announcement] CodeFreeze meeting with PHP developer Dmitry Stogov about the internal structure of the PHP virtual machine</a></li>
<li><a href="../309100/index.html">How technology companies affect the media business</a></li>
<li><a href="../309102/index.html">GitLab Container Registry</a></li>
<li><a href="../309104/index.html">Grouping Android phone models by Docker containers</a></li>
<li><a href="../309106/index.html">Book on intensive data processing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>