<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SketchUp extension (plug-in) for furniture designing by a programmer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When calculating the cost of a new kitchen, the price was so high that I decided to make it myself since it would cost twice as cheap. For training I ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SketchUp extension (plug-in) for furniture designing by a programmer</h1><div class="post__text post__text-html js-mediator-article"><p>  When calculating the cost of a new kitchen, the price was so high that I decided to make it myself since it would cost twice as cheap.  For training I decided to make a desktop for myself.  A quick understanding came: to make a good thing you need to make a 3D model.  This will allow the design phase to see how the furniture will look like and think about how the assembly will take place in the future.  Since I do not do 3D modeling, I began to look for a simpler program.  And the easiest thing I found is <a href="https://www.sketchup.com/ru">SketchUp</a> .  When creating a model, it was constantly necessary to edit the model due to constantly changing dimensions.  And after the third change, an idea emerged - to make a parameterized model so that it itself was generated with the required dimensions.  SketchUp supports scripts in the Ruby language and this article is about what I did. </p><br><p>  The solution is quite simple - I create some API that allows you to create 3D objects of laminated particle board with the necessary parameters.  The finished model is assembled from these objects and sheet sizes are uploaded to a separate file for transfer to the center of the cut.  As a result of operation, I added the ability to specify edges for sheets.  This plugin was used to design more than a dozen different products from chipboard.  With each new project, the plugin was being finalized and modified, the convenience was improved and the API was improved.  As an example, the last project is a table-table.  In the picture is a model + finished product (bird and dog to attract attention :)) </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/dac/03f/d47/dac03fd474c9e8141e932e12bf9d7187.jpg" alt="main.jpg"></p><a name="habracut"></a><br><p>  Red - is 2 mm edge, purple - edge 0.4 mm.  The bottom shelves are not up to the end, as there is a radiator near the wall.  The tabletop is 4 cm behind the wall so that the heat from the radiator rises up and heats the wall ( <em>in general, it is very convenient to make the furniture yourself - you can make it to fit your size</em> ). </p><br><div class="spoiler">  <b class="spoiler_title">Here is the code to generate it.</b> <div class="spoiler_text"><pre><code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#   $weght = 16.0 #       $zazor = 5.0 #      $dWidth = 26.0 # $width = 770 $offsetStena = 40 $dStoledhnica = 20 $height = 2500 - 150 - 900 $depthLeft = 600 $depthRight = $depthLeft - 175 $jshikHeight = 200 $heightPlanka = 300 $heightJshik = 190 $heightJshikOffset = 10 #    def object3D_main() #   Shasoft::Object3D::loadLibrary() #    Shasoft::Object3D::LDSP::setWeght($weght) #   stenaLeft = Shasoft::Object3D::LDSP::create($height-$weght,$depthLeft,"2 0 0 1").name(" ").rotateY(-90) stenaRight = Shasoft::Object3D::LDSP::create($height-$weght,$depthLeft,"2 0 0 1").name(" ").rotateY(-90).moveX($width-$weght) stoleshnica = Shasoft::Object3D::LDSP::create($width,$depthLeft+$dStoledhnica-$offsetStena,"2 2 1 2").name("").move(-$weght,-$dStoledhnica,$height-$weght) polka1 = Shasoft::Object3D::LDSP::create($width-$weght*2,$depthRight,"2 0 0 0").name(" 1").moveZ(400) polka2 = Shasoft::Object3D::LDSP::create($width-$weght*2,$depthRight-$weght,"2 0 0 0").name(" 2").moveZ(600) polka3 = Shasoft::Object3D::LDSP::create($width-$weght*2,$depthLeft-$offsetStena,"2 0 0 0").name(" 3").moveZ(800+$heightJshik+$heightJshikOffset+10-$weght-5) pereborka1 = Shasoft::Object3D::LDSP::create($width-$weght*2,$heightPlanka).name("").rotateX(90).moveY($depthRight).moveZ(400+$weght) #   jshik1box = Shasoft::Object3D::LDSP::create_box($width-$weght*2-$dWidth,$depthLeft-$zazor-$offsetStena,$heightJshik," ",1).moveX($dWidth/2).moveZ($height-$heightJshik-$heightJshikOffset-$weght) jshik1Fasad = Shasoft::Object3D::LDSP::create($width,200,"2 2 2 2").rotateX(90).moveX(-$weght).moveZ($height-$heightJshik-$heightJshikOffset-$weght-5).name("  1") jshik1 = Shasoft::Object3D::create(jshik1box,jshik1Fasad) #   jshik2box = Shasoft::Object3D::LDSP::create_box($width-$weght*2-$dWidth,$depthLeft-$zazor-$offsetStena,$heightJshik-$weght-5," ",1).moveX($dWidth/2).moveZ($height-$heightJshik-$heightJshikOffset-$weght) jshik2Fasad = Shasoft::Object3D::LDSP::create($width,200,"2 2 2 2").rotateX(90).moveX(-$weght).moveZ($height-$heightJshik-$heightJshikOffset-$weght-5).name("  2") jshik2 = Shasoft::Object3D::create(jshik2box,jshik2Fasad).moveZ(-$height+800+$heightJshik+$heightJshikOffset+$weght+10) #  widthDver = $width/2-5 dver1 = Shasoft::Object3D::LDSP::create(widthDver,800-5-10,"2 2 2 2").rotateX(90).moveZ(5).moveX(-$weght).name(" 1") dver2 = dver1.copy.moveX($width-widthDver).name(" 2") # for i in 0..5 Shasoft::Object3D::LDSP::create(467,247,"0 2 0 0").name("  ").moveX(-600).moveZ(i*50) end for i in 0..2 Shasoft::Object3D::LDSP::create(467,640,"0 2 0 0").name("   2").moveX(-600-600).moveZ(i*50) end # Shasoft::Object3D::LDSP::write_csv( File.dirname(__FILE__)+"/main.csv" ) #Shasoft::Object3D::LDSP::write_csv_cut( File.dirname(__FILE__)+"/cut.csv" ) #Shasoft::Object3D::show() end</span></span></code> </pre> </div></div><br><h1 id="ustanovka">  Installation </h1><br><p>  Download the file <a href="">Object3D.rbz</a> <br>  Run SketchUp <br>  Opening the Extension Manager (Window / Extension Manager) <br>  Click the button "Install extension" and select the downloaded file Object3D.rbz <br>  After this, the plugin asks for the directory where the projects will be stored.  Those.  The window "Specify the project directory" is displayed and you need to specify the folder where you will store your projects. </p><br><p>  As a result, we have our extension. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b82/a5c/b44/b82a5cb44fef2b251c7886ff7eba64c9.png" alt="2019-01-25-10_02_19.png"></p><br><h1 id="ispolzovanie">  Using </h1><br><p>  Go to the folder that we specified to store projects.  This folder can be changed in the plugin menu. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/536/8d3/c19/5368d3c199cb460699e07a192225cd7f.png" alt="2019-01-25-10_06_10.png"></p><br><p>  Create a folder in the folder with the name of our project.  In my case, this is the "Locker in the hall".  Then go to the created directory and create the file main.rb in which we create the function of the entry point </p><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#    def object3D_main() ... #     end</span></span></code> </pre> <br><p>  Restart SketchUp and in the plug-in menu you will have an item with the name of the folder you created.  Now you selecting this item will happen the following: </p><br><ul><li>  clearing the ruby ‚Äã‚Äãconsole </li><li>  delete all items in the current project </li><li>  loading the main.rb file from the specified directory </li><li>  function call object3D_main </li></ul><br><p>  In the object3D_main function, you need to generate your model.  You can copy the code that I gave above into the main.rb file and then you will generate my locker. </p><br><h1 id="api">  API </h1><br><h2 id="fayl-corerb">  File "core.rb" </h2><br><p>  Each function returns a Shasoft :: Object3D :: Object3D object that contains methods for moving an object and rotating it. </p><br><ul><li><p>  The <strong>name</strong> () function sets the name of the object.  Do not neglect them.  When building can help a lot :) </p><br></li><li><p>  The functions of the object <strong>moveX</strong> , <strong>moveY</strong> , <strong>moveZ</strong> allow you to move the object along the corresponding axes. </p><br></li><li><p>  The function <strong>move</strong> (x, y, z) allows you to move an object along three axes at once. </p><br></li><li><p>  Object functions <strong>rotateX</strong> , <strong>rotateY</strong> , <strong>rotateZ</strong> allow you to rotate the object around the respective axes. </p><br></li><li><p>  There are functions aliases <strong>moveRed</strong> , <strong>moveGreen</strong> , <strong>moveBlue</strong> , <strong>rotateRed</strong> , <strong>rotateGreen</strong> , <strong>rotateBlue</strong> where the X (red), Y (green), Z (blue) axes are named after their color in SketchUp.  Maybe someone will be more comfortable. <br>  Each function returns a pointer to the object itself.  This allows you to make a call chain </p><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#    90    X     Y  100  obj.rotateX(90).moveY(100)</span></span></code> </pre> <br></li><li><p>  The <strong>set</strong> object function (dict, key, value) allows you to set the value of an attribute.  dict - dictionary name, key - attribute name, value - value </p><br></li><li><p>  The <strong>get</strong> object function (dict, key, value = nil) allows you to get the value of an attribute.  dict - dictionary name, key - attribute name, value - value </p><br></li><li><p>  The <strong>copy</strong> method allows you to get a copy of the object (although it is not very stable :)) </p><br></li><li><p>  The <strong>group</strong> method allows you to get a standard SketchUp :: Group object. </p><br></li></ul><br><p>  The method for creating an object is defined.  As parameters, you can pass a list of Shasoft :: Object3D :: Object3D or SketchUp :: Group objects.  If the parameter list is empty, a new group will be created. </p><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#       Shasoft::Object3D::create(*args)</span></span></code> </pre> <br><p>  There is also a function that allows you to get a list of objects (Skechup :: Group).  You can specify the name of the dictionary and only objects with such a dictionary will be returned.  In particular, this is how I separate the objects of the chipboard sheet from others.  When creating, I set an LDSP dictionary on which I then filter all the objects in the scene. </p><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#    # dict -   Shasoft::Object3D::get(dict=nil)</span></span></code> </pre> <br><h2 id="fayl-2d_weght">  File "2D_weght" </h2><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#  3D   # pts -      x,y # weght - () Shasoft::Object3D::create_pushpull(pts,weght) #       # lX -   X # lY -   Y # weght -  Shasoft::Object3D::create_plane(lX,lY,weght)</span></span></code> </pre> <br><h2 id="fayl-ldsprb">  File "ldsp.rb" </h2><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#    Shasoft::Object3D::LDSP::weght #   Shasoft::Object3D::LDSP::setWeght(weght)</span></span></code> </pre> <br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#     Shasoft::Object3D::LDSP::material #    Shasoft::Object3D::LDSP::setMaterial(material) #    # width -  ( X) # depth -  ( Y) # kromka -  [X , Y , X , Y ], 0 -  , 1 -  0.4 , 2 -  2  Shasoft::Object3D::LDSP::create(width,depth,kromka="0 0 0 0")</span></span></code> </pre> <br><p>  Auxiliary function for creating drawers </p><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#   # width -  # depth -  # height -  # name -  # is_kromka - 1/0   2   Shasoft::Object3D::LDSP::create_box(width,depth,height,name,is_kromka)</span></span></code> </pre> <br><p>  work result <br><img src="https://habrastorage.org/getpro/habr/post_images/bc9/e8b/9f8/bc9e8b9f804505cc4d77ab11dcc9fc4d.png" alt="box.png"></p><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#     CSV Shasoft::Object3D::LDSP::write_csv(filepath)</span></span></code> </pre> <br><p>  as a result, the following csv file will be generated with the following columns </p><br><ul><li>  <strong>A</strong> - Width </li><li>  <strong>B</strong> - Depth </li><li>  <strong>C</strong> Number of parts </li><li>  <strong>D</strong> - edges in the D-long side format, K-short side.  It is in this that they are recorded in the office in which I order the cutting of parts.  Perhaps this is the standard. </li><li>  <strong>E</strong> - edges in the format in which you crushed them when generating </li><li>  <strong>F</strong> - Name of all parts.  This is useful when building. </li></ul><br><p><img src="https://habrastorage.org/getpro/habr/post_images/99d/7b2/f54/99d7b2f544af461654763bbb14f644b8.png" alt="2019-01-25-10_39_50.png"></p><br><h2 id="v-zaklyuchenii">  In custody </h2><br><p>  Designing and assembling furniture yourself is about 2 times the money saving.  As well as the opportunity to squeeze your individual furniture product into any nonstandard hole in the apartment.  I usually collect furniture on confirmatics 7x50 from laminated chipboard 16 mm </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/148/09c/dcf/14809cdcf9d36790d0d828c01e74cfa0.jpg" alt="1490379431197352996.jpg"></p><br><p>  In the presence of a drill for confirmats </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/063/97e/56f/06397e56f5d5464a5bab6f47ff91b34e.jpg" alt="1490379603123527575.jpg"></p><br><p>  (and a little skill) assembly takes not much time. </p><br><p>  The only negative - you can <strong>get into it</strong> .  After the desktop, I have already assembled: the kitchen, several cells (for the same bird, it is in the photo), shelves (wall and floor), cabinets and tables.  In general, "littered" in the apartment all the unused space. </p><br><p>  <a href="">Download link for extension</a> </p><br><p>  Link to <a href="http://shasoft.com/article/rasshirenie_plagin_sketchup_dlya_proektirovaniya_mebeli_programmistom">the plugin page</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/442190/">https://habr.com/ru/post/442190/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442178/index.html">Mayhem - a machine that can find vulnerabilities in programs and fix them.</a></li>
<li><a href="../442180/index.html">Free distribution of "iron"</a></li>
<li><a href="../442182/index.html">Emergency Room: The secret life of Facebook moderators in the US</a></li>
<li><a href="../442186/index.html">Facebook is preparing to release digital coins tied to a basket of currencies and secured by the company's capital</a></li>
<li><a href="../442188/index.html">Then finish it. Chapter 1, in which it all begins (and, very bad)</a></li>
<li><a href="../442192/index.html">‚ÄúReverse Engineering‚Äù of the ‚ÄúGrozny‚Äù apparatus from Jules Verne‚Äôs novel ‚ÄúThe Lord of the World‚Äù</a></li>
<li><a href="../442194/index.html">Russians will give money for IT-training</a></li>
<li><a href="../442196/index.html">8 mistakes in the pronunciation of English sounds, which makes the majority of Russian speakers</a></li>
<li><a href="../442200/index.html">Moonlight mission "Bereshit" - engineers at the SpaceIL and Israel Aerospace Industries (IAI) MCC solved problems</a></li>
<li><a href="../442202/index.html">Mailing Push Notifications with SpringBoot Server</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>