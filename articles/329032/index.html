<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Client application architecture (structuring mechanisms)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First story 
 Some time ago I worked in a gaming company, which was led by a German. Making games was not the main business of this German. The main i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Client application architecture (structuring mechanisms)</h1><div class="post__text post__text-html js-mediator-article"><h1>  First story </h1><br>  Some time ago I worked in a gaming company, which was led by a German.  Making games was not the main business of this German.  The main income he received from the sale of cosmetics and from the delivery of commercial real estate for rent.  Having a gaming company was a way to stand out among their familiar businessmen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/424/cbb/edb/424cbbedbd084a6c969062f31d76ecc9.png" alt="image"></div><br>  German game company developed 3 types of games: <br><br><ol><li>  Flash games for mobile phones with support for J2ME technology. </li><li>  Educational games for the Nintendo DS handheld game console.  The customers for these games were European publishers, and the buyers were parents whose children had problems learning in math, English or German.  The games division for Nintendo DS has released a lot of games.  Although they did not become AAA-titles, they paid for their development and brought a small profit. </li><li>  Games for the Nintendo Wii platform. </li></ol><br>  In the last team was me.  The team had to develop a game for little girls on the children's brand.  The brand was quite famous in Germany (it was the main market) and in several other European countries: in France and in the UK. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  From the very beginning, only the general outline of the game was clear.  The little fairy walks in the garden, meets her friends (other fairies), talks to them and invites you to a party.  Preparation for this party takes up a significant part of the game: the fairy decorates the garden, collects apples, cooks a festive cake from them.  The party is fun: the fairy and her friends play musical instruments and then dance. <br><br>  It was assumed that the game will be a sequence of mini-games.  Each mini-game is dedicated to a specific theme: decorating the garden, picking apples, cooking a festive cake, playing music and dancing.  Despite the fact that the themes of mini-games were clear, their details were not clear.  There was no game designer in the team. <br><br>  At first, two programmers and one 3D modeler worked on the game.  When I joined the team, there was no elaborated game design (or the person responsible for it), nor a platform on which to make the game. <br><br>  On the second day after my employment, the owner of the company approached me and asked: ‚ÄúWhen will the game be ready?‚Äù.  By that time I had experience in the gaming industry and, according to this experience, the development of such a simple game by a team of 3-4 people took about a year.  So I said that it would take about a year. <br><br>  To this the German answered me: ‚ÄúThere is no such term.  The game must be done after 3 months. ‚Äù  A little bit fucking, I asked: ‚ÄúWhy in three months?‚Äù To which the German answered me: ‚ÄúI will have a birthday, and it is necessary that the game be made for my birthday‚Äù. <br><br>  For such a hard time requirement there were also objective prerequisites.  The German had a contract with the publisher, according to which he received a fixed amount of money for development plus a percentage of sales.  But the percentage of sales he received only if the game will be delivered on time.  And the deadline for the game coincided with his birthday. <br><br>  After the 4th programmer was added to the team, the question of choosing the bosses was on the agenda.  How do they usually form a project team?  According to the correct approach, the leader is first sought, and then he hires the rest of the staff.  Here, the opposite was done.  At first, employees were found, and then the authorities began to see which of them could be the leader.  It would be okay if, when choosing a manager, professional skills were put at the forefront. <br><br>  <b>But as the leader, they chose a person who promised to make the game in 3 months.</b> <br><br>  After the appointment of the team leader, work began on the game.  Problems with game design and lack of technology have not been resolved.  Therefore, the work did not move.  This pretty angered the newly appointed manager.  Frequent dialogue between him and the programmer: <br><br>  <b>Leader:</b> ‚ÄúWhere is the game about apples?‚Äù <br><br>  <b>Programmer:</b> ‚ÄúNot done yet‚Äù. <br><br>  <b>Leader:</b> ‚ÄúWhen will it be done?‚Äù <br><br>  <b>Programmer:</b> ‚ÄúI do not know.  I don‚Äôt understand what to program. ‚Äù <br><br>  <b>Leader:</b> ‚ÄúWell, you are a programmer!  Think up! ‚Äù <br><br>  The game development system in the game studio can be represented as a hierarchy of 4 system levels. <br><br>  <b>The first system level is the resource level.</b>  These include: finance, employees (who are available either in the market, or within the company), brand (if the game is created by brand), the original concept of the game.  This level sets the foundation for the entire project. <br><br>  <b>The second system level is game design.</b>  It should not represent ‚Äúgame design in a vacuum‚Äù.  On the contrary, it must rely on available resources. <br><br>  For example, the budget of the mentioned game for girls was insignificant.  In addition, only half of the amount could be spent on development, since  the second half was intended for the purchase of equipment (computers, televisions, devices, testkits) and the licensing of programs for artists and programmers.  A small development budget and platform limitations made it impossible to use realistic graphics and realistic physics in the game.  There was no money to purchase a license for a technologically advanced engine, and the game console did not allow the use of shaders.  Had to use what is already there - NintendoWare's free NintendoWare 3D engine. <br><br>  The use of the physical engine gives the player freedom of movement.  A player can move along the game level in any direction until he collides with an obstacle.  But the support of physics requires certain costs from both designers, who must arrange collision boxes on the stage, and programmers who have to handle collisions.  All this affects the duration of the development.  Therefore, we decided to limit the use of physics in only one, the main stage and implement mini-games exclusively using animations. <br><br>  <b>The third system level is a technology platform.</b>  The platform allows you to create games for existing game design, or rather, certain types of games.  To achieve this goal, it uses available resources of the first system level. <br><br>  The platform includes certain technical and managerial tools.  The technical tools are: <br><br><ul><li>  game resource management system; </li><li>  game state machine, or game flow control system (game flow); </li><li>  scripting system; </li><li>  messaging and messaging system; </li><li>  input processing system (for example, in the case of a Nintendo Wii game console, it can recognize the movements of the Wii Remote controller); </li><li>  user interface; </li><li>  asset loading system (surface, static and dynamic objects, scripts); </li><li>  system of loading and saving user data; </li><li>  etc. </li></ul><br>  Management tools include: <br><br><ul><li>  task management system; </li><li>  quality management system; </li><li>  resource management system; </li><li>  version control system; </li><li>  project evaluation; </li><li>  project plan; </li><li>  etc. </li></ul><br>  <b>The fourth system level is the game itself or a series of similar games.</b> <br><br>  Partitioning into system levels allows you to struggle with complexity.  There is a difference whether a programmer makes a mini-game on a specific design and using a specific platform, on which he can ask questions to other experienced programmers working in the same company, or ‚Äúpour code‚Äù on a low-level API.  The complexity of the implementation of the same mini-game in both cases will be unequal. <br><br>  For example, after the game design of each mini-game was invented and described and a platform was implemented, one programmer could implement one mini-game in draft quality in 3 working days.  Another 2 days were required in order to add multiplayer to the mini-game and bring some beauty to it.  Thus, the creation of one mini-game in the final quality cost 5 man-days.  Meanwhile, as before this moment (with the missing design and technological platform) weeks passed, and the work did not move. <br><br><h1>  Second story </h1><br>  Once I was invited for an interview in one startup.  The project was not very interesting for me, but it was bribed by the fact that the company was literally five minutes away from my house.  I thought that for the first time in my career I could not waste time traveling to work. <br><br>  The start-up interview was conducted via Skype, and the questions were quite adequate.  Basically, they related to my previous experience.  What did I do?  What did you do?  What tasks faced? <br><br>  The procedure for selecting candidates for a startup was a two-step.  I passed the interview successfully, so after a while the head of the startup contacted me and offered to perform the test task. <br><br>  The test task sounded like this: <br><br>  <i>Develop a text-based online editor like the one used in Google Docs.</i> <br><br>  It was necessary to support the following features: <br><br><ul><li>  splitting the text into paragraphs; </li><li>  automatic text distribution among pages; </li><li>  text formatting; </li><li>  possibility of simultaneous editing by several users; </li><li>  display and marking of all changes made by different users; </li><li>  document storage in the ‚Äúcloud‚Äù. </li></ul><br>  To perform the test task stood week. <br><br>  Needless to say, I did not do this test task, but, politely thanking the manager, I did not get in touch with him. <br><br><h1>  Subtotals </h1><br>  <b>Summing up, it can be argued that in both stories the same mistake was made - the <a href="http://www.triz-ri.ru/management/%3Fid%3D279%26name%3Do_poteryannom_urovne">omission of the system level</a> [6].</b> <br><br>  In the first story, when working on a game for girls, the ‚Äúgame design level‚Äù and ‚Äútechnology platform level‚Äù were missed, which led to a stalled work on the project and increased development time.  Work on the project was unlocked only after the missing levels were added: the game design was worked out and the platform was implemented (albeit a lightweight one). <br><br>  In the second story, system levels are also missing.  The proposed task is clearly more complicated than the usual test task.  To combat the complexity, the solution should be presented in the form of a hierarchical system, where the lower layers ensure the operation of the layers above.  But such work requires considerable effort and imposes excessive demands on the qualifications of an engineer.  He should understand literally in all areas: in network protocols, in text editors.  Therefore, it is more accessible for the company than for one person. <br><br><h1>  System Level Hierarchy </h1><br>  The system level detection approach can be used when designing applications.  Of course, if we are talking about writing some simple program, then there is no need to split into levels.  A multi-level (or multi-layered) architecture makes sense if a complex application or an application of medium complexity is developed. <br><br>  Identifying system levels is the first step to developing an architecture.  If you read a book on object-oriented analysis and design, you probably have often seen how the author asks the question: ‚ÄúHow to find candidates for classes?‚Äù.  Perhaps programming, you yourself asked yourself the same question. <br><br>  The process of structuring an application should not begin with identifying classes.  A class is too small an element of abstraction.  If you draw an analogy with the construction, the class - as a separate brick.  And the construction of a skyscraper is unlikely to begin with the question of how to lay it out of bricks. <br><br><h1>  Three-layer architecture </h1><br>  Fowler [7] and Microsoft‚Äôs application architecture guide [5] distinguish three system levels (in other words, three layers of abstraction) into which the developed application can be divided. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/5a2/45c/119/5a245c119434410685a60c607afc8207.png" alt="image"></div><br>  <i><b>Note:</b> The original version of the chart can be viewed <a href="https://msdn.microsoft.com/en-us/library/ee658109.aspx">on the Microsoft website.</a></i> <br><br>  The first layer of abstraction is the data access layer.  The tasks of this layer include abstraction from the database.  SQL queries to the database in which the application data is stored are hidden behind the facade that the business layer uses. <br><br>  The second layer of abstraction is a layer of business logic.  It contains domain objects as well as functions for working with them.  These functions implement this business logic. <br><br>  The third layer of abstraction is the user interaction layer.  This layer includes user interface components. <br><br>  The three-layer architecture described in the Microsoft manual is working.  The only thing that causes me to be misunderstanding is some thing related to the interaction of the business logic layer with the data access layer. <br><br>  According to my understanding, domain classes should be related to the business logic layer.  On the other hand, the main task of the data access layer is to get data from the database and copy this data to business objects. <br><br>  It turns out a contradiction: <br><br><blockquote><ul><li>  On the one hand, business objects should be declared at the level of business logic, since  logically relate to it. </li><li>  On the other hand, business objects must be accessible at the data access level so that data read from the database can be copied into them. </li></ul></blockquote><br>  Seeing this contradiction, I would like to offer a slightly different approach to partitioning the application into system levels. <br><br><h1>  Five-tier architecture </h1><br>  The approach I propose involves splitting the client application into 5 system levels.  The key of the proposed five levels are only two.  This means that the client application, at a minimum, can consist of two system levels.  Using all 5 layers is an optional and possibly more desirable option. <br><br><h2>  Restrictions </h2><br>  The proposed architecture has several limitations: <br><br>  First, it was tested by me and colleagues when creating 5 clean client applications.  Those.  <b>there was no server component, the database was not used, and applications were launched on desktop computers and mobile devices</b> . <br><br>  Four applications are designed to create and edit various game resources.  The fifth application is a service program designed to provide services. <br><br>  Secondly, the developed applications were designed to create and edit documents.  <b>They had minimal business logic</b> (for example, they should not have to pay), <b>but a rich interface</b> ‚Äî it contained many different controls (controls) for creating and editing data (track editors, function graphics, property editors, etc.). <br><br><h2>  Description </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/web/004/2e6/cf4/0042e6cf40f948d39b4e01e2380993d0.png" alt="image"></div><br>  <b>The first level can be called infrastructural.</b>  It is called so because it contains the infrastructure, i.e.  libraries, modules, classes and methods that are used throughout the application. <br><br>  If application development is conducted in the C ++ programming language, then, as a rule, the infrastructure level includes: <br><br><ul><li>  libraries work with raster images; </li><li>  XML and JSON parsers; </li><li>  compression and data encryption libraries; </li><li>  libraries of containers and various auxiliary classes (STL, boost); </li><li>  helper utilities written by application developers. </li></ul><br>  The infrastructure level is a ‚Äúdump‚Äù of various useful utilities and auxiliary classes.  The presence of such a layer allows you to get rid of entropy in the higher layers.  <b>Everything that is useful, but difficult to order, needs to be placed in the infrastructure level.</b> <br><br>  <b>The second level can be called a data model.</b>  This level is key, because at least one client application can hardly do without it. <br><br>  The name ‚Äúdata model‚Äù echoes the name ‚Äúdata access layer‚Äù from Microsoft's application design guide.  Despite the fact that the tasks of this level approximately coincide with the tasks of the data access layer, there is also a significant difference: <br><br><blockquote>  <b>The data model is combined with a data source</b> , which uses files in XML or JSON formats.  Data storage is not used by the DBMS. </blockquote><br><br>  The data model is an object model of the domain [7, p.  140] and consists of self-serializable classes whose objects load themselves from a file and save themselves to a file. <br><br>  <i>The data model contains business objects, which, according to the mentioned guidelines, should be included in the business logic layer.</i> <br><br>  These objects either do not contain any logic, or have some minimal logic associated, for example, with data verification.  The number of methods possessed by these objects is also small.  As a rule, they either provide simplified access to other objects associated with the first, or are responsible for the serialization and deserialization of the object itself. <br><br>  According to Fowler [7, p.  140] the domain object model refers to business logic.  Therefore, making a direct comparison of the proposed five-level model with the classical three-layer architecture [5], it is difficult to relate to which layer of abstraction the data model corresponds to.  <b>It turns out some mix between the data source, the data access layer and part of the business logic.</b>  It is justified when there is no need to spread across physical layers (tires) data storage (DBMS) and their processing (application server). <br><br>  In the visual effects program and in the program for creating animated blueprints, data model objects themselves serialize themselves to XML.  These are self-retaining objects.  The data model includes both in-memory objects as instances of classes, as well as serialized XML files on the hard disk. <br><br>  In the GPS navigator, the data model is a bit more complicated.  It consists of several specialized databases and a code layer that provides access to the data. <br><br>  Combining the object model of the domain, the data access layer and data sources in one system level allows you to use the <i>‚Äúdesign based on the domain‚Äù</i> approach and create a single solution space that is used to organize data both within the application and during its storage. <br><br>  Such an approach can be applied if the application does not need to operate with a large array of data and / or use a DBMS.  Otherwise, the level of the data model will still have to be divided. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d0/ca/59d0ca6b80a90435256222.png"></div><br>  <b>Drawing</b> <i>‚ÄúComparison of the classic three-layer and five-tier architectures‚Äù</i> <br><br>  <b>The third level is the level of services or services.</b>  From my point of view, this particular layer corresponds to the layer of business logic from the Microsoft management.  However, such a correspondence is formal, because in the case of editing programs it is difficult to understand what is business logic.  If the user just needs to create and / or edit a document (for example, a visual effect or animated blueprint), then what should be considered business logic?  The editing process itself?  There are no financial postings and no process control system in the editing applications.  To the business logic could be attributed to the object model of the domain.  But it is already located at the data model level. <br><br>  Such questions indicate that the <b>mechanical mapping of the three-layer architecture outlined in the Microsoft manual and the five-tier architecture proposed in this article is not well beyond consideration of specific application architectures.</b> <br><br>  The service level is a set of functional modules.  Each module is responsible for implementing any single operation performed on the data model. <br><br>  In some client applications, there may be many such business functions.  In some - a little.  And in some - they are completely absent.  Therefore, for a number of applications, the service level can be skipped. <br><br>  For example, in a visual effects editor, each effect can be saved in XML format.  However, in order for this visual effect to be used in the game, it needs to be converted to a binary format.  This conversion is done by the compiler.  This compiler is a separate service. <br><br>  In the GPS-navigator services more.  Because this application is designed to provide services to users.  These services include: <br><br><ul><li>  drawing a map of the area where the user is located; </li><li>  laying a route to a given point; </li><li>  route navigation; </li><li>  search for coordinates by address. </li></ul><br>  The modules responsible for the provision of services are located at the service level.  <b>Services do not depend or weakly depend on each other.</b>  <b>They can be placed in different modules and avoid unnecessary connectivity between them.</b> <br><br>  <b>The fourth level is responsible for editing.</b>  This level is typical for program editors.  It contains generic components or generic editors.  First of all, I mean: <br><br><ul><li>  Document / View Architecture (also known from the MFC Class Library) [1] </li><li>  Undo / Redo Management [3] </li></ul><br>  The Document / View architecture binds a specific file extension to a specific document type, and also binds a specific document type to a specific view responsible for its visualization. <br><br>  Undo / Redo Management provides support for undo operations.  Thanks to this possibility, the user, while editing a complex document, can cancel an erroneously performed operation at any time.  As a result, editing becomes resistant to errors and not scary for a person.  Such functionality has become the de facto standard of various editing programs. <br><br>  The editing layer is part of the presentation layer of the classical three-layer architecture [5].  Its selection in a separate layer due to the fact that <b>it sets the frame for editing</b> .  In addition, the architectural concepts used to organize the editing level <b>are independent of the data visualization</b> . <br><br>  <b>Level five is</b> also key.  No client application can do without it.  This level <b>contains components responsible for data visualization and user interaction.</b> <br><br>  Despite the fact that this level is called in the same way as the layer from the classical three-layer model, however, it has slightly less responsibilities.  The exclusion from it of the components responsible for editing allows the developer to <b>concentrate his attention on data visualization and writing various controls</b> . <br><br>  <b>The separation between the level of editing and the level of representation may be mental rather than physical.</b>  The components of both layers can be located in one module. <br><br><h1>  Connection with the design pattern ‚ÄúModel - View - Controller‚Äù </h1><br>  The concept of <i>‚ÄúModel - View - Controller‚Äù</i> was formulated by the Norwegian Trygve Reenskaug in 1978/79 during his work in the Xerox PARC laboratory [8].  It involves the division of the structure of the application into three components: <br><br><ol><li>  <i>Model.</i>  Describes the data.  Not involved in data conversion.  Does not contain code for their visualization. </li><li>  <i>View.</i>  Responsible for visualizing the Model. </li><li>  <i>Controller.</i>  Changes the Model, usually as a result of user actions. </li></ol><br>  One of the most ambiguous components is the <i>controller</i> .  In different implementations of the <i>‚ÄúModel - View - Controller‚Äù</i> design pattern <i>, the Controller</i> component performs different duties.  For example, the Mac OS and iOS operating system APIs have a <i>view</i> controller that is responsible for managing views, and the Microsoft Foundation Classes class library for programming under Windows uses the <i>Document-View</i> architecture, in which <i>Model</i> is understood as a <i>Document</i> , and the <i>Controller</i> is absent . <br><br>  In a number of interpretations, the <i>Controller</i> understands the processing of commands from input devices (for example, mouse and keyboard).  In other cases, visual input elements that are displayed on the screen (for example, a menu) [8] are added to input devices. <br><br>  Some interpretations identify the <i>controller</i> with the business logic of the application [8]. <br><br>  Although the concept of <i>‚ÄúModel - View - Controller‚Äù</i> and does not have an established view of the element <i>Controller</i> , however, it involves the separation of data from their visualization. <br><br>  In this regard, we can say that the three-layer architecture described in the Microsoft manual [5] and the five-level architecture described in this article to some extent correspond to the concept of <i>‚ÄúModel - View - Controller‚Äù</i> .  The criteria used to divide the application into system levels, overlap with the criteria used in the <i>‚ÄúModel - View - Controller‚Äù</i> to highlight its components. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The organization of selected elements in the form of layers unambiguously asks their hierarchy and eliminates various questions on the topic </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúShould the Controller be aware of the View?‚Äù</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Or </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúShould the Model update the View when it changes?‚Äù</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The separation of architecture into layers sets not only the logic of the selection of components, but also clearly specifies the dependencies between them. The data model knows nothing about the level of services or the level of editing. However, it can be transformed by them. The service level knows nothing about the model visualization. However, the presentation layer uses both the model and the services. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also in the proposed architecture there is no such ambiguous component as the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Instead, the services level, the editing level and the presentation level are added, whose responsibilities and position in the hierarchy are clearly specified. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the editing level, the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúDocument - View‚Äù</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> architecture is used </font><font style="vertical-align: inherit;">, which is a subtype of the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúModel - View - Controller‚Äù</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> design pattern </font><font style="vertical-align: inherit;">. This architecture involves the allocation of classes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Document</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (responsible for storing and transforming data and, in fact, is a wrapper on classes from the data model) and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">View</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (responsible for visualizing data and processing commands from the user). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Using </font><i><font style="vertical-align: inherit;">Document-View</font></i><font style="vertical-align: inherit;"> Architecture</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> allows you to specify the interaction between the model and the view (view), add the ability to edit the data model and support the ability to cancel operations. </font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Example 1. All Sparks Editor </font></font></h1><br><h2>  Overview </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">All Sparks Editor is an application for creating visual effects. </font><font style="vertical-align: inherit;">In appearance, this application resembles an audio editor. </font><font style="vertical-align: inherit;">There is a rationale for this: just like sound, a visual effect has a certain duration. </font><font style="vertical-align: inherit;">Therefore, the visual effect editing window contains a timeline located horizontally. </font><font style="vertical-align: inherit;">Under the time axis are tracks that are also horizontally oriented. </font><font style="vertical-align: inherit;">User can add and delete tracks. </font></font><br><br><img src="https://habrastorage.org/web/90f/47e/41d/90f47e41d2d24a03bced157370e0d15f.png" alt="image"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The main window of the editor All Sparks</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> On the tracks are placed components. </font><font style="vertical-align: inherit;">The user can select these components from the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Component List</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and drag them to the tracks. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The components are:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> particles; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> billboards; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> three-dimensional models; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sources of light; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> music and sounds; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> various forces, for example: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> force of force; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> air resistance force; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> turbulence force; </font></font></li><li>  etc. </li></ul></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The force components act on the particle components. </font><font style="vertical-align: inherit;">If the ‚Äúparticle‚Äù component is placed on one track, and the ‚Äúforce of the force‚Äù component is positioned under it, then during the playback of the effect, the force of gravity will act on the flying particles. </font><font style="vertical-align: inherit;">Gradually, the particles will fall down. </font></font><br><br><img src="https://habrastorage.org/web/903/f34/f2c/903f34f2c8ca47189bf5868d9da25dd0.png" alt="image"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Components are located on the tracks.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Each component is represented as a rectangle. </font><font style="vertical-align: inherit;">Since a component can occupy space only on one track, the height of the component coincides with the height of the track. </font><font style="vertical-align: inherit;">The length of the component determines the duration of its existence, and the beginning - the time of its appearance when the effect is played. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order for the user to quickly identify the type of component, each component type has its own color.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After placing the component on the track, the user can set various of its properties. </font><font style="vertical-align: inherit;">Component properties are displayed in the property editor, which is located at the bottom of the editing window. </font></font><br><br><img src="https://habrastorage.org/web/216/870/9a1/2168709a18144e868c5d82573fd963af.png" alt="image"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Property</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Editor </font><i><font style="vertical-align: inherit;">The property</font></i><font style="vertical-align: inherit;"> editor is a two-column table with multiple rows. </font><font style="vertical-align: inherit;">In the left column indicates the name of the property, and in the right - the values. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The user can look at how the visual effect looks like in the preview window. </font><font style="vertical-align: inherit;">This window is located on the left side of the main program window. </font><font style="vertical-align: inherit;">In order to reproduce the effect, the user must press the Play button. </font><font style="vertical-align: inherit;">After that, the effect is compiled into a binary format and transferred to the game engine for playback.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/5f3/bb7/ced/5f3bb7cedb934a76989e8df27be4b380.png" alt="image"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual effect in the preview window</font></font></i> <br><br><h2>  Architecture </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The architecture of the editor of visual effects can be represented as a hierarchy of 5 system levels: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/226/a3b/2f2/226a3b2f2f2e46d58afa7775421ae4c0.png" alt="image"></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The first system level is infrastructure. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is a set of auxiliary classes. </font><font style="vertical-align: inherit;">As a rule, these classes contain some mathematical methods that are absent in the standard Math class, or some additional operations with strings and file names. </font><font style="vertical-align: inherit;">Infrastructure level is very small. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The second system level is the data model. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The data model describes the structure of the visual effect: tracks, components on them, properties of components. </font></font><br><br><img src="https://habrastorage.org/web/a13/e99/6af/a13e996af66c43509cc71075c2c52190.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Each data model class has Load and Save methods that are designed to load and save an object from / to XML. </font><font style="vertical-align: inherit;">LINQ to XML is used to read and write XML.</font></font><br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Component</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Dictionary&lt;Guid, Property&gt; Properties { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;Guid, Property&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Component </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Load</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">XElement item</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (item == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(item)); } <span class="hljs-comment"><span class="hljs-comment">// Loading logic return this; } public XElement Save() { return new XElement("component", Properties.Values.Select(prop =&gt; prop.Save()).ToArray() ); } }</span></span></code> </pre> <br>  <b>The third system level is the level of services and services.</b>  Currently this layer contains only one service.  This is a compiler.  The compiler converts the effect into a binary format, which can then be used by the engine. <br><br>  Some time ago, the visual effects editor was not integrated with the game engine.  These were two different applications.  And in order for the visual effect to be seen how it looks, there was another service that allowed data to be exchanged between the client program (visual effects editor) and the server, which was played by the viewing program.  This service was called a communicator. <br><br>  Thus, previously there were two services.  And now, since the integration of the visual effects editor with the game engine has taken place, the need for a communicator has disappeared, and there is only one service left - the compiler. <br><br>  <b>The fourth system level is the edit level.</b>  It implements two architectures: <br><br><ol><li>  Document / View architecture, which allows you to open visual effects files in the original format and create different views for editing and displaying them. </li><li>  Undo / Redo Management, which is a stack of commands that can be executed or canceled when editing an effect. </li></ol><br>  The <b>fifth system level is the level of user interaction</b> , which contains various controls.  In our case, such controls are the timeline, tracks, property editor, etc. <br><br><h1>  Example 2. Genome editor </h1><br><h2>  Overview </h2><br>  The second application, the architecture of which I would like to consider, is the editor of animated blueprints.  Blueprint is a software module that implements a specific functionality, but not written in a programming language, but presented as a graph.  It turns out that the blueprint editor is a visual programming tool. <br><br>  For the first time, blueprints were implemented in the Unreal Engine 4 [2].  They are used for various purposes, including for ‚Äúprogramming‚Äù the logic of the game scene or the behavior of the character. <br><br>  In modern video games to create high-quality images of 3D-animators have to do a lot of different animations.  If we are talking about creating a humanoid character, then you need to animate a lot of movements: walking, running, jumping, squatting, raising hands (together and each hand separately), etc. <br><br>  Often, a character‚Äôs behavior cannot be reduced to playing one of the animations or playing a predetermined sequence of these animations.  Sometimes animations need to be combined.  For example, a character may walk while carrying a cup of hot coffee in his right hand.  Without stopping, he can bring this cup to his mouth to take a sip. <br><br>  Modern 3D engines allow you to mix different character animations, i.e.  play them at the same time.  This is required for a smooth transition from one animation to another, or when one animation plays on one part of the character's skeleton, and the other on the other.  In order to define the logic of such a mixture, the editor of animated blueprints is used.  It first appeared in the Unreal Engine 4. And since it seemed convenient to our 3D animators, it was necessary to create a similar editor with us. <br><br><img src="https://habrastorage.org/web/ac7/27a/92b/ac727a92b7714f1396eaaf07c0d9e881.png" alt="image"><br>  <i>The main window of the editor Genome</i> <br><br>  An animated blueprint is a graph.  It consists of nodes and connecting lines.  Lines can be drawn not to an arbitrary location on a node, but to a specific socket.  Each node of the graph may contain one or more sockets. <br><br>  Nodes represent various operations, for example, comparison, addition, subtraction, cycle, branching, etc. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/d3b/a60/949/d3ba6094931f459e96674c92c0096caa.png" alt="image"></div><br>  <i>Examples of operation nodes</i> <br><br>  There are more complex nodes such as state machine.  Complex nodes contain nested graphs.  For example, a state machine contains a state graph, each node of which represents a certain state, and connecting lines - conditional transitions.  States also contain nested graphs. <br><br><img src="https://habrastorage.org/web/74b/e04/536/74be0453648a40a7a79548bc3424ece1.png" alt="image"><br>  <i>State machine</i> <br><br>  To hit the nested graph, the user must double-click the node with the mouse.  The nested graph can be edited in the same way as the parent graph.  It also consists of nodes and connecting lines. <br><br>  Each node can have one or more sockets.  Sockets are located on the left and right sides of the node.  The sockets on the left are called input, and those on the right are called output.  Input data or control signals are sent to input sockets, and the output of the operation for which the node is responsible can be obtained from output sockets. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/1fa/fc1/ce2/1fafc1ce217849c096d8c8be986af865.png" alt="image"></div><br>  <i>Nodes with different input and output sockets</i> <br><br>  Sockets are typed, as are the connecting lines between them.  There are sockets for integers and real numbers, for Boolean values ‚Äã‚Äãand strings.  Typing sockets allows you to avoid errors when an output socket of one type is connected to an input socket of another type, for example, a string with an integer.  Directly such a connection is impossible, only through an auxiliary node that performs the type conversion operation. <br><br>  Trunks between sockets define data flows and control flows.  To organize control flows, there are specialized sockets, which are called animation pose in the animation graph, and exec in the event graph. <br><br>  More information about blueprints, nodes and sockets can be found in <a href="https://docs.unrealengine.com/latest/INT/Engine/Blueprints/index.html">Blueprints Visual Scripting</a> from the Unreal Engine 4 Documentation [2] manual.  A similar approach was used in the Genome editor. <br><br><h2>  Architecture </h2><br>  The architecture of the animation blueprint editor can be represented by a hierarchy of 5 system levels.  This hierarchy is similar to the one used in the visual effects editor.  The names of the levels, their purpose, the individual components almost coincide.  But there are differences to which I want to draw your attention. <br><br>  The differences are due to the fact that the graph editor is the basis for the animation of blueprints.  The task was to reuse this editor when rewriting other applications: the material editor and the dialog editor. <br><br>  This means that one cannot restrict one data model, which will represent the graphs for animated blueprints.  We need some basic data model for all possible graphs.  And you need some framework for creating and editing graphs.  This framework should be used by specific editors: editor of animated blueprints, dialog editor, editor of materials, etc. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/155/236/86f/15523686fbde414ba3fe0fd26c389be8.png" alt="image"></div><br>  <b>The infrastructural level of the</b> animation editor of blueprints is almost the same as that of the visual effects editor with one exception.  Since the control for graph visualization is implemented using the WPF technology, the infrastructure layer contains all sorts of auxiliary classes that facilitate the work with WPF, as well as the styles for the controls used.  Styles are applied not only in the Genome editor, but also in other applications.  Therefore, they are located at the infrastructure level. <br><br>  <b>The data model is</b> divided into two parts.  The first part is the generalized data model for any graph and any blueprint.  It is a hierarchical graph.  The graph contains nodes and connecting lines.  Some nodes may contain other graphs. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/963/817/419/9638174193804237809045c79f34ad67.png" alt="image"></div><br>  The second part is the data model for animated blueprints.  It contains classes that describe the animation blueprint nodes.  Such nodes include mathematical operations, comparison operations, type conversion operations, animation mixing operations, etc.  Separate classes represent sockets and connecting lines. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/872/4ae/539/8724ae539f614b81a6be743f5c7c7869.png" alt="image"></div><br>  On top of the data model is the <b>level of services</b> .  As in the case of the visual effects editor, this level contains only one service - the compiler.  The compiler converts the animated blueprint in the original format into a binary format that is reproduced by the engine. <br><br>  <b>The editing level is</b> divided into three parts.  The first part is the library that contains the base classes for the Document / View architecture and for managing Undo / Redo.  This library is used both in the animation blueprint editor and in the visual effects editor. <br><br>  The second library is responsible for editing graphs.  It allows the user to create nodes, arrange them in the editing window, connect nodes with connectors of various types, as well as delete nodes and switch between nested graphs.  However, this library deals with a generalized graph model and does not know anything about specific nodes for the editor of animated blueprints. <br><br>  The third library is intended for editing animated blueprints.  It allows you to create, delete, edit specific animation blueprint nodes. <br><br>  <b>The level of user interaction is</b> also divided into three parts.  The first part contains the basic components of the user interface.  The second part contains the interface components used to edit graphs.  And the third part contains user interface components used to edit animated blueprints. <br><br>  In general, the architectures of the visual effects editor and the animation blueprint editor are very similar and consist of the same system levels.  However, there are also differences that are caused by the need to create a generalized library for editing graphs.  These differences translate into the fact that, first of all, the data model is divided into two parts: <br><br><ul><li>  generalized data model that describes a generalized graph; </li><li>  and a specific data model that describes a graph of a particular type ‚Äî an animated blueprint. </li></ul><br>  Together with the data model, the same separation occurs at the editing level and at the user interaction level. <br><br><h1>  Example 3. GPS-navigator </h1><br><h2>  Overview </h2><br>  In the third example, I would like to consider creating a GPS navigation application for a smartphone.  This program differs from those considered in the previous two examples of applications: the editor of visual effects and the editor of animation blueprints. <br><br>  The main difference is that editors are focused on creating and editing documents, while the GPS navigator is designed to provide services. <br><br>  These services include: <br><br><ol><li>  Help the user in orientation to the terrain.  This service is performed by drawing a map of the area and specifying the place where the user is located.  When the user moves, the direction of this movement is also shown. </li><li>  Building a route to a given point.  Destination can be set by specifying a point on the map, and by using the search. </li><li>  Search for a specific address or place of intersection of two roads. </li><li>  Search for the nearest points of interest: cafes, gas stations, ATMs, etc. </li></ol><br>  Despite the focus of the navigation system on the provision of services, however, it also allows you to create and edit some simple documents.  These include: <br><br><ul><li>  user profile; </li><li>  search history of points of interest and addresses; </li><li>  edit the list of favorites (home address, address of the workplace and others). </li></ul><br><h2>  Architecture </h2><br>  The architecture of a GPS navigator can be represented by a hierarchy of 5 system levels already known to us. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/fa0/6eb/bbe/fa06ebbbebf84a6983f4460f87da5757.png" alt="image"></div><br>  The first, lowest, <b>infrastructural layer</b> consists of libraries and utilities that are used throughout the application.  Since the navigation system was developed using the C and C ++ programming languages, these libraries included: <br><br><ul><li>  the stlport library, which contains a set of standard containers and algorithms and is built for different platforms; </li><li>  zlib library, which allows you to compress and decompress data using the deflate algorithm; </li><li>  libpng and libjpeg libraries for working with raster graphics in png and jpeg formats; </li><li>  aes library for encrypting data and creating electronic signatures; </li><li>  expat xml parser library for reading and parsing xml files. </li></ul><br>  <b>The data model level</b> is the most difficult compared to the similar levels in other considered applications.  The fact is that the speed of many navigation algorithms is determined by the speed of access to the necessary data.  Therefore, the data must be organized in such a way that the access speed is high. <br><br>  The data contains cartographic information, which is then used to draw maps, plan a route, and search for coordinates by address. <br><br>  The data model level can be divided into two sublevels: <br><br><ul><li>  database; </li><li>  data access layer. </li></ul><br>  The database contains navigation data: maps, postal codes, points of interest, travel history, a list of places-favorites. <br><br>  The data access layer receives data from the database and provides it to the higher level in the form of corresponding data structures. <br><br>  Initially, maps in the original format are fed to the input of the compiler, which converts them into an intermediate format.  As a rule, the source format is GDF 3.0.  This is a text file with a specific markup.  Often, a single map presented in GDF 3.0 weighs more than one gigabyte.  To present the UK road network, you need 7 such maps.  The intermediate format is a binary format that allows you to present complete information in a compact form. <br><br>  Then the cards in the intermediate format are fed to the input of five compilers, which convert them into specialized databases. <br><br>  The first specialized database contains information necessary for drawing a map.  It includes not only roads, but also various areas such as parks, ponds, and forests.  The main requirement for it - quick access to all elements that are in a given area. <br><br>  The second specialized database stores the information necessary to build a route.  Unlike the drawing database, it only contains information about the road.  To build a route, you do not need to know anything about water bodies, forests, parks and the geometry of road elements.  It requires only the length of the road element, the maximum speed and direction of movement.  The main requirement for it is a quick access to the neighboring road elements. <br><br>  The third specialized database contains addresses.  The main requirement for it is a quick search for the address by the entered text and the road element by address. <br><br>  The fourth specialized database contains information about postal codes.  The main requirement for it is a quick search for the coordinates of the area by zip code. <br><br>  The fifth database contains information about various points of interest (restaurants, cafes, gas stations, ATMs, etc.).  The main requirement for it is to quickly find points of interest within a certain area. <br><br>  To access map data, a data access layer is used. <br><br>  Thus, the data model for the GPS navigator includes: <br><br><ul><li>  maps in the original (text) format; </li><li>  compiler for converting maps from text format to intermediate binary; </li><li>  five specialized compilers that form specialized databases: <br><br><ul><li>  database for drawing maps; </li><li>  database to build a route; </li><li>  database for finding coordinates by address; </li><li>  zip code database; </li><li>  database of points of interest; </li></ul></li><li>  data access layer, which provides access to data from specialized databases. </li></ul><br>  On top of the data model is the <b>level of services</b> .  Since the GPS-navigator is a service-oriented application, this level includes several function-oriented modules.  Each module is responsible for any one key function or a group of similar key functions of the navigation system. <br><br>  We can distinguish the following modules: <br><br><ol><li>  <b>Rasterizer card.</b>  Generates a two-dimensional or three-dimensional representation of the map in a given area. </li><li>  <b>Module routing.</b>  Responsible for laying a route from the current location to a given point. </li><li>  <b>Address search module.</b>  Responsible for finding coordinates by address. </li><li>  <b>Index Search Module.</b>  Responsible for finding coordinates by zip code. </li><li>  <b>Module search points of interest.</b>  Responsible for finding points of interest within a given area. </li><li>  <b>Navigator.</b>  Responsible for the formation and issuance of navigation instructions when driving on a route. </li></ol><br>  <b>The editing level</b> is quite small and does not contain too much code.  The reason for this is that the navigation system is designed to provide user services and is not intended to create or edit any documents. <br><br>  There are 3 main functions that can be delegated to the editing level: <br><br><ul><li>  work with user profiles (the navigation system may have several users, and the data of each user must be stored in a separate profile); </li><li>  create and manage a list of places-favorites; </li><li>  saving travel history (in the simplest case - saving destinations). </li></ul><br>  In principle, the GPS navigator can safely do without an editing layer.  But if you want to support the profiles, then work with them can be delegated to this layer. <br><br>  <b>The user interaction level</b> is responsible for presenting information for the user on the screen or on the sound card of the device, as well as for processing input from the user.  It contains various screens and controls.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The level of user interaction can support skins, if there is a need to make the interface comfortable when working on different devices. </font></font><br><br><h1>  Results </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Let us summarize the consideration of the architecture of the three applications. </font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The architecture of the client application can be represented by a hierarchy of five system levels: </font></font><br><blockquote><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The infrastructure layer contains libraries that are used throughout the application. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The data model level contains classes that describe the subject area. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The service level provides services for the user. </font><font style="vertical-align: inherit;">Such services include: compilation, routing, search for coordinates by address, etc. </font><font style="vertical-align: inherit;">Each service is placed in a separate module, which is called a service.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The editing level is designed to create and edit documents. </font><font style="vertical-align: inherit;">It also supports the ability to cancel the operation.</font></font></li><li>             ,   ‚Äî   .     . </li></ol></blockquote></li><li>        ,    .            . <br><br></li><li>  ,   ,    .   ,     ,         .    ,     ,        ,     . <br><br></li><li>            .            XML .    .           ,    .        -,      . <br><br></li><li>     ,       (, ),            (   ).       :       . </li></ol><br><h1>  Literature </h1><br><ol><li> <a href="https://msdn.microsoft.com/en-us/library/4x1xy43a.aspx">Document/View Architecture</a> </li><li> <a href="https://docs.unrealengine.com/latest/INT/Engine/Blueprints/index.html">Blueprint Visual Scripting/Unreal Engine 4 Documentation</a> </li><li> <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/UndoArchitecture/UndoArchitecture.html">Introduction to Undo Architecture</a> </li><li> <a href="https://books.google.ru/books%3Fid%3DLlLSBQAAQBAJ%26hl%3Dru">Gregory, Jason. Game Engine Architecture</a> </li><li> <a href="http://download.microsoft.com/documents/rus/msdn/%25D1%2580%25D1%258B_%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BB%25D0%25BE%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9_%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BA%25D0%25BD%25D0%25B8%25D0%25B3%25D0%25B0.pdf"> Microsoft    , 2- </a> </li><li> <a href="http://www.triz-ri.ru/management/%3Fid%3D279%26name%3Do_poteryannom_urovne"> ..,  ..   </a> </li><li> , .    . ‚Äì .  from English ‚Äì .:   ¬´¬ª, 2006. ‚Äì 544 .: . </li><li> <a href="https://habrahabr.ru/post/321050/">@cobiot.    MVC. ,      ,      </a> </li><li> <a href="https://habrahabr.ru/post/322700/">@cobiot.    MVC.   </a> </li></ol><br> <i>        .</i> </div><p>Source: <a href="https://habr.com/ru/post/329032/">https://habr.com/ru/post/329032/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329020/index.html">Successful CIO in 2017: what is he?</a></li>
<li><a href="../329022/index.html">SSL implementation through SAML with an example</a></li>
<li><a href="../329024/index.html">Diagnostic Tools Plugin for Qt Creator</a></li>
<li><a href="../329026/index.html">Kotlin vs. Java: compile speed</a></li>
<li><a href="../329028/index.html">Kotlin for Android: Now officially</a></li>
<li><a href="../329036/index.html">VMware vSphere 6 for technical writers</a></li>
<li><a href="../329038/index.html">June DevCon-School: AI, BlockChain, Azure Stack and 12 Master Classes</a></li>
<li><a href="../329042/index.html">How the GPL was tempered</a></li>
<li><a href="../329044/index.html">Not only WannaCry: EternalBlue exploits new attacks</a></li>
<li><a href="../329046/index.html">To prevent the carriage from turning into a pumpkin, or why we need test recoveries from backups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>