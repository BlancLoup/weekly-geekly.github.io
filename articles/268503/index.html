<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Load load testing service</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our team was faced with shortcomings of load testing tools, and, in the end, it was decided to develop our own service. Main difficulties: 


- If thi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Load load testing service</h1><div class="post__text post__text-html js-mediator-article">  Our team was faced with shortcomings of load testing tools, and, in the end, it was decided to develop our own service.  Main difficulties: <br><ul><li>  If this is a service, the price is too high for a serious load. </li><li>  If it is a utility, the result depends on the speed of the computer / server channel from which the test was performed. </li><li>  Repeated requests do not reflect real speed, since caching is at various levels, starting from the CPU and ending with the database </li></ul><br>  I hope the ‚Äúbike‚Äù will be interesting to others - at first I will describe what is already working, then it will be possible to discuss further features. <br><br><h4>  What has been done? </h4><br><ul><li>  You can test jobs from the list of url, up to 20 pieces </li><li>  Each url can contain one or more random parameters specified using the $ RND function </li><li>  The test is run from a variety of servers, each of which only has 8 threads. </li><li>  Testing can be conducted from 5 AWS regions - Dublin, Frankfurt, East / West USA, Tokyo </li><li>  We are ready to provide tests for up to 200 threads for free. </li></ul><br><a name="habracut"></a><br>  For the test, <a href="http://loadme.socialtalents.com/Begin/New">open the form</a> where we specify the email, fill in the URL, select the number of test flows, the region and start the test. <br><br>  <u><b>*** UPDATE ***</b></u> <br>  I see a lot of brave habravchan puts the task to 200 threads.  If we assume that 1 page is issued for 1 second, then this corresponds to attendance&gt; 100K visitors per hour.  Normal projects, including ours, die from such tests. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After a minute, your result will be ready (for an example, look at the excellent result - <a href="http://loadme.socialtalents.com/Result/Public/560e445d5b5f190e0c8f27f3">test example.net</a> ).  As you can see, 200 threads allows you to generate more than 1000 requests per second - it all depends on the speed of communication with the service being tested, and.  actually, the speed of response. <br><br>  If you are ready to boast of your result on our website - you can click the Public result button.  To show it to your colleagues just send a link. <br><br>  <b>What to test?</b> <br>  Static resources, images, scripts should be given from CDN.  Testing their upload speed IMHO does not make sense, you only need to test the overall page loading speed, for example using the good old <a href="http://tools.pingdom.com/fpt/">http://tools.pingdom.com/fpt/</a> <br><br>  Loadme focuses on testing the code of pages / methods api, etc ... Testing nginx giving 1x1.gif with the help of this tool is of course possible, but there is no practical use, and nginx won't even get warm from it. <br><br>  To decide which pages are the bottleneck, it is best to use newrelic.  Unlike the popular google analytics, it also allows you to track the statistics of bot requests, and build queries on the number of operations per page or another, as well as which of the pages most damaged the user experience by <a href="https://docs.newrelic.com/docs/apm/new-relic-apm/apdex/apdex-measuring-user-satisfaction">the apdex index</a> . <br>  As you know, a fly in the ointment spoils the barrel of tar, and if your application slows down on even relatively rare actions, this may well affect popular lightweight operations. <br><br>  <b>How do redirects work?</b> <br>  Redirects are executed;  we actively use it to test one of our wikiart.org sites, implementing the ‚Äúgo to a random picture‚Äù function on it. <br><br>  <b>Why is it important to test multiple url?</b> <br>  To test the mutual influence of popular fast pages and slow (for example, search) <br><br>  <b>Why do you need $ RND?</b> <br>  The syntax is $ RND (from, to). <br>  For example, <a href="http://someshop.com/search%3Ffrom%3D%24RND(0,1000)%26to%3D%24RND(1000,10000)">http://someshop.com/search?from=$RND(0,1000)&amp;to=$RND(1000,10000)</a> will generate arbitrary requests for finding products at prices ranging from 0 to 1000 and ending with 1000 to 10,000. This makes it possible to estimate the real power of the search. <br>  For example, the popular Ukrainian store Rozetka spends an average of 5 seconds searching for smartphones at a random price: <br>  <a href="http://loadme.socialtalents.com/Result/ViewById/56108a645b5f1700481cc21d">http://loadme.socialtalents.com/Result/ViewById/56108a645b5f1700481cc21d</a> , which is very far from ideal result. <br>  <a href="http://loadme.socialtalents.com/Result/Public/56175bf95b5f160aec1a760f">Amazon copes with this task fundamentally better</a> - a significant amount of errors as a result, most likely, is protection from ddos <br><br><h4>  Future plans </h4><br><br>  <b>Post, put, delete requests</b> <br>  The right thing, clearly, is in the plans. <br><br>  <b>Authorization</b> <br>  Is it enough to support cookies in order for the first request to log in a random user test (which will require server support), and further work will be done on behalf of this user? <br><br>  <b>Step tests</b> <br>  Say, conduct a series of tests: 25%, 50%, 75% and 100%, and see the difference in speed. <br><br>  <b>Fixed load</b> <br>  Instead of the number of threads, let the user choose how many operations per second he wants to initiate. <br><br>  <b>Regular scheduled test</b> <br>  Repeat the test every day / week and send the report to email. <br>  You can also provide a webhook to initiate an existing test from the code (for example, after an update) <br><br>  <b>Improved bandwidth visualization</b> <br>  The server may have behaved unevenly.  Plans to add server bandwidth visualization in seconds. <br><br>  <b>Proof of domain ownership</b> <br>  The limit of no more than 200 agents on 1 domain exists exactly so that no one puts another site in ddos.  For your site, you can create another subdomain and test it again. <br>  In the future, however, it will be necessary to confirm domains with a CNAME record or file with a specific name. <br><br><h5>  Existing competitors </h5><br>  Loadimpact.com - for a normal load test, at least 100 requests per second, 1500 so-called ‚Äúvirtual users‚Äù will be required - each of them loads the page once every 15 seconds.  There is such a package at the moment $ 299 per month. <br><br>  loader.io - great service, a paid package of only $ 99 per month.  Very flexible URL settings - you can run methods, cookies, heders, but we didn‚Äôt have enough randomization of the test. </div><p>Source: <a href="https://habr.com/ru/post/268503/">https://habr.com/ru/post/268503/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268491/index.html">Mastering the Data Science specialty on Coursera: personal experience (part 1)</a></li>
<li><a href="../268493/index.html">Security Week 41: censorship research, hacking Outlook Web Access, data loss at the joints</a></li>
<li><a href="../268495/index.html">Conflict for SHA-1 for $ 100 thousand</a></li>
<li><a href="../268497/index.html">Meet Otto, the heir to Vagrant</a></li>
<li><a href="../268501/index.html">Recipes for Android: Selectable sauce for LayoutManager'a</a></li>
<li><a href="../268505/index.html">High School of Economics. About marketing. Is free</a></li>
<li><a href="../268507/index.html">Phase portraits "on the fingers" or what can be found out about diffraction solutions without solving it</a></li>
<li><a href="../268509/index.html">Differentiation of access rights to Jenkins</a></li>
<li><a href="../268513/index.html">Ant optimization and network algorithms</a></li>
<li><a href="../268515/index.html">Installing unsigned programs on iOS 9 devices without jailbreak</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>