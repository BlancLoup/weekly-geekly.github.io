<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Haxe 4: What's new?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I bring to your attention the translation of the report by Alexander Kuzmenko (since April of this year, he officially works as the developer of the H...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Haxe 4: What's new?</h1><div class="post__text post__text-html js-mediator-article"><p>  I bring to your attention the translation of the <a href="https://www.youtube.com/watch%3Fv%3D24m6C0BDK_s%26list%3DPLU2M-shPcj1zZYoaApqDtbl64f1rIJnp5%26index%3D3">report by Alexander Kuzmenko</a> (since April of this year, he officially works as the developer of the Haxe compiler) about the changes in the language of Haxe since the release of Haxe 3.4. </p><br><img src="https://habrastorage.org/webt/0m/0e/mw/0m0emw609dcl9ycql2oa069lzfu.jpeg" alt="image"><br><p>  More than two and a half years have passed since the release of Haxe 3.4.  During this time, 7 patch releases have been released, 5 preview releases of Haxe 4 and 2 release candidates Haxe 4. It was a long way to the new version and it is almost ready (it remains to solve <a href="https://github.com/HaxeFoundation/haxe/milestone/10">about 20 problems</a> ). </p><a name="habracut"></a><br><img src="https://habrastorage.org/webt/jh/wp/7_/jhwp7_vztjntd_31hhmpqqreabe.png" alt="A long time ago ..."><br><p>  Alexander thanked the Haxe community for reports on bugs, for the desire to participate in the development of the language.  Thanks <a href="https://github.com/HaxeFoundation/haxe-evolution">to the haxe-evolution project</a> in Haxe 4 there will appear such things as: </p><br><ul><li>  inline markup </li><li>  inlining functions at call location </li><li>  arrow functions </li></ul><br><img src="https://habrastorage.org/webt/kn/qf/fu/knqffu_thrc2godjucb5t4izbt0.png" alt="image"><br><p>  Also within the framework of this project, there are discussions of such possible innovations as: <a href="https://github.com/HaxeFoundation/haxe-evolution/pull/58">Promises</a> , <a href="https://github.com/HaxeFoundation/haxe-evolution/pull/36">polymorphic this</a> and default type parameters. </p><br><p>  Then Alexander spoke <b>about the changes in the syntax of the language</b> . </p><br><img src="https://habrastorage.org/webt/pg/jn/sy/pgjnsymvkyhlespf0rcj-dw6j8s.png" alt="New syntax for describing function types"><br><p> The first is a new syntax for describing function types (function type syntax).  The old syntax was a bit strange. <br>  Haxe is a multi-paradigm programming language, it has always had support for functions of the first class, but the syntax for describing the types of functions was inherited from the functional language (and differs from that adopted in other paradigms).  And programmers familiar with functional programming expect functions with this syntax to support automatic currying.  But in Haxe it is not. <br>  The main disadvantage of the old syntax, according to Alexander, is the inability to determine the names of the arguments, which is why one has to write long annotations with the description of the arguments. <br>  But now we have a new syntax for describing the types of functions (which, by the way, was added to the language as part of the haxe-evolution initiative), where there is such an opportunity (although it is not necessary to do it, but recommended).  The new syntax is easier to read and can even be considered part of the code documentation. <br>  Another drawback of the old syntax for describing function types was its some illogicality - the need to specify the type of function arguments even when the function takes no arguments: <code>Void-&gt;Void</code> (this function takes no arguments and returns nothing). <br>  In the new syntax, this is implemented more elegantly: <code>()-&gt;Void</code> </p><br><img src="https://habrastorage.org/webt/xv/nr/fq/xvnrfqcbcxakqrci6y_p1hibh_4.png" alt="Arrow functions"><br><p>  The second is arrow functions or lambda expressions ‚Äî a brief form of describing anonymous functions.  The community has been asking to add them to the language for a long time, and finally it happened! <br>  In such functions, instead of the <code>return</code> keyword, the sequence of characters <code>-&gt;</code> used <code>-&gt;</code> (hence the syntax name "arrow function"). <br>  In the new syntax, it remains possible to specify the types of arguments (since the type auto-derivation system cannot always do it the way the programmer wishes, for example, the compiler may decide to use <code>Float</code> instead of <code>Int</code> ). <br>  The only limitation of the new syntax is the inability to explicitly specify the return type.  If necessary, you have the choice to either use the old syntax or use the <a href="https://haxe.org/manual/expression-type-check.html">check-type syntax</a> in the function body, which tells the compiler the return type. </p><br><img src="https://habrastorage.org/webt/wh/ri/-8/whri-8d5u0nvjgkiybnrjp1vrag.png" alt="Switch functions have no special representation in the syntax tree."><br><p>  The switch functions do not have a special representation in the syntactic tree; they are processed just like ordinary anonymous functions.  The sequence <code>-&gt;</code> is replaced by the keyword <code>return</code> . </p><br><img src="https://habrastorage.org/webt/nd/8c/kt/nd8cktem7lhra7ll-qao6hdatva.png" alt="final is now a keyword"><br><p>  The third change - <code>final</code> now become a keyword (in Haxe 3 <code>final</code> was one of the meta tags embedded in the compiler). <br>  If you apply it to a class, it will prevent inheritance from it, the same applies to interfaces.  And applying the <code>final</code> qualifier to a class method will forbid its redefinition in child classes. <br>  However, in Haxe there was a way to get around the restrictions imposed by the <code>final</code> keyword - for this you can use the meta tag <code>@:hack</code> (but still it should be done only when absolutely necessary). </p><br><img src="https://habrastorage.org/webt/ec/v3/mp/ecv3mpajsnrn6kxkrwx3rwkqlwe.png" alt="Declaring optional fields in anonymous structures"><br><p>  The fourth change is the way of declaring optional fields in anonymous structures.  Previously, for this, a meta tag <code>@:optional</code> ; now it is enough to add a question mark in front of the field name. </p><br><img src="https://habrastorage.org/webt/r8/i3/qb/r8i3qbo2r2seeqtyns2yhsbr5r8.png" alt="Abstract transfers"><br><p>  Fifth, abstract enumerations have become a full-fledged member of the type family in Haxe, and instead of the meta tag <code>@:enum</code> , the keyword <code>@:enum</code> now used to declare them. </p><br><img src="https://habrastorage.org/webt/ew/b3/xt/ewb3xtnkjr_fdk4jtcdj-ezboao.png" alt="Keyword extern"><br><p>  A similar change was made to the meta tag <code>@:extern</code> . </p><br><img src="https://habrastorage.org/webt/pb/g3/ip/pbg3ipuxlefguxcw5m-2qybtuqq.png" alt="New syntax for combining types (type intersection)"><br><p>  The seventh is a new syntax for type union (type intersection), which better reflects the essence of the expansion of structures. <br>  The same syntax is used to restrict the types of parameters (type parameters constraints), it more accurately conveys the constraints imposed on the type.  For a person unfamiliar with Haxe, the old syntax <code>MyClass&lt;T:(Type1, Type2)&gt;</code> could be perceived as a requirement for the type of the parameter <code>T</code> be either <code>Type1</code> or <code>Type2</code> .  The new syntax clearly tells us that <code>T</code> must be both <code>Type1</code> and <code>Type2</code> . </p><br><img src="https://habrastorage.org/webt/e9/un/cj/e9uncj0a6tk4uh0keuuopuwokgy.png" alt="Simplified syntax for declaring an empty dictionary"><br><p>  The eighth is the ability to use <code>[]</code> to declare an empty <code>Map</code> container (however, if you do not explicitly specify the variable type, the compiler will print the type as an array for this case). </p><br><p>  Having talked about the changes in syntax, we proceed to the description of <b>new functions in the language</b> . <br>  Let's start with the new key-value iterators </p><br><img src="https://habrastorage.org/webt/gw/sg/3v/gwsg3vpv6qco2n61v4zxh0dfzvw.png" alt="Key-value iterators"><br><p>  A new syntax has been added for their use. <br>  To support such iterators, either the <code>keyValueIterator():KeyValueIterator&lt;K, V&gt;</code> method or the <code>hasNext():Bool</code> and <code>next():{key:K, value:V}</code> methods must be implemented in the type.  In this case, the type <code>KeyValueIterator&lt;K, V&gt;</code> is a synonym for a regular iterator with an anonymous <code>Iterator&lt;{key:K, value:V}&gt;</code> structure <code>Iterator&lt;{key:K, value:V}&gt;</code> . <br>  Key-value iterators are implemented for some types from the Haxe standard library ( <code>String</code> , <code>Map</code> , <code>DynamicAccess</code> ), and work is underway to implement them for arrays. </p><br><img src="https://habrastorage.org/webt/67/-f/g0/67-fg0qimh9gu7b8qvkaazjf4ti.png" alt="New iterator support for built-in types"><br><p>  For strings, the index of the character in the string is used as the key, and the value is the character code at the given index (if you need the character itself, you can use the <code>String.fromCharCode()</code> method). <br>  For the <code>Map</code> container, the new iterator works just like the old iteration method, that is, it receives an array of keys in the container and passes through it, asking for values ‚Äã‚Äãfor each of the keys. <br>  For <code>DynamicAccess</code> (wrapper for anonymous objects), the iterator works using reflection (to get a list of object fields using the <code>Reflect.fields()</code> method and to get field values ‚Äã‚Äãby their names using the <code>Reflect.field()</code> method). </p><br><img src="https://habrastorage.org/webt/ml/u7/qj/mlu7qjpnq86muxduteld_riofzu.png" alt="New macro interpreter"><br><p>  Haxe 4 uses a completely new macro interpreter "eval".  Simon Krazewski, the author of the interpreter, described it <a href="https://haxe.org/blog/eval/">in</a> some detail <a href="https://haxe.org/blog/eval/">in the official Haxe blog</a> , as well as in his <a href="https://haxe.org/videos/conferences/haxeup-sessions-2018/haxe-autumn-report-simon-krajewski.html">last year‚Äôs progress report</a> . <br>  The main changes in the interpreter: </p><br><ul><li>  it is several times faster than the old macro interpreter (4 times on average) </li><li>  supports interactive debugging (previously, only output to the console could be used for macros) </li><li>  it is used for the compiler to work in interpreter mode (neko was previously used for this. By the way, eval also surpasses neko in speed). </li></ul><br><img src="https://habrastorage.org/webt/f3/ef/e8/f3efe8ko9czu8tdyo5kzjswkfto.png" alt="Unicode support"><br><p>  Unicode support for all platforms (with the exception of neko) is one of the biggest changes in Haxe 4. Simon <a href="https://haxe.org/videos/conferences/haxeup-sessions-2018/haxe-autumn-report-simon-krajewski.html">talked about this in</a> detail <a href="https://haxe.org/videos/conferences/haxeup-sessions-2018/haxe-autumn-report-simon-krajewski.html">last year</a> .  But here is a brief overview of the current state of Unicode support in Haxe: </p><br><ul><li>  for Lua, PHP, Python and eval (macro interpreter) full Unicode support is implemented (UTF8 encoding) </li><li>  for other platforms (JavaScript, C #, Java, Flash, HashLink and C ++), the encoding is UTF16. </li></ul><br><p>  Thus, the lines in Haxe work in the same way for characters in the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BB%25D0%25BE%25D1%2581%25D0%25BA%25D0%25BE%25D1%2581%25D1%2582%25D1%258C_(%25D0%25AE%25D0%25BD%25D0%25B8%25D0%25BA%25D0%25BE%25D0%25B4)">main multilingual plane</a> , but for characters outside this plane (for example, for emoji), the code for working with strings can produce different results depending on the platform (but it is still better than the situation we have in Haxe 3, when each platform had its own behavior). </p><br><img src="https://habrastorage.org/webt/5o/o2/fp/5oo2fp2s4h2t9rpqnvfyrbwb7gs.png" alt="New iterators for strings"><br><p>  For Unicode-encoded strings (both in UTF8 and UTF16), special iterators are added to the Haxe standard library that work equally on ALL platforms for all characters (both within and outside the main multilingual plane): </p><br><pre> <code class="plaintext hljs">haxe.iterators.StringIteratorUnicode haxe.iterators.StringKeyValueIteratorUnicode</code> </pre> <br><img src="https://habrastorage.org/webt/3k/zv/xu/3kzvxup9p5crewap3u76tnfqhlg.png" alt="Features of the implementation of Unicode support"><br><p>  Due to the fact that the implementation of strings varies from platform to platform, it is necessary to keep in mind some of the nuances of their work.  In UTF16, each character occupies 2 bytes, thanks to which access to a character in a string by index works quickly, but only within the main multilingual plane.  On the other hand, all characters are supported in UTF8, but this is achieved at the cost of a slow search for a character in a string (since characters can occupy a different number of bytes in memory, accessing a character by index requires each time to pass through the string from its very beginning).  Therefore, if you work with large strings in Lua and PHP, you need to keep in mind that access to an arbitrary character works rather slowly (also on these platforms, the length of the string is calculated again every time). <br>  However, although full Unicode support is declared for Python, this restriction does not apply to it due to the fact that the strings in it are implemented somewhat differently: for characters within the main multilingual plane, it uses UTF16 encoding, and for ‚Äúwider‚Äù characters (3 and more bytes) Python uses UTF32. <br>  Additional optimizations are implemented for the eval macro interpreter: the string ‚Äúknows‚Äù whether there are any Unicode characters in it.  If there are no such characters in it, the string is interpreted as consisting of ASCII characters (where each character occupies 1 byte).  Sequential index access in eval is also optimized: the position of the last character accessed is cached in the string.  So, if you first refer to the 10th character in the string, then when you next access the 20th character, eval will search for it not from the very beginning of the line, but from the 10th.  In addition, the length of the string in eval is cached, that is, it is calculated only on the first request. </p><br><img src="https://habrastorage.org/webt/je/gi/ne/jegineguad8fp4dlqyhfbboxy8c.png" alt="Namespace support for compilation flags"><br><p>  Haxe 4 introduced support for namespaces for compilation flags, which can be useful, for example, for organizing code when writing custom libraries. <br>  A reserved namespace for the compilation flags, <code>target</code> , also appeared, which is used by the compiler to describe the target platform and its behavior: </p><br><ul><li>  <code>target.name</code> - platform name (js, cpp, php, etc.) </li><li>  <code>target.utf16</code> - says that unicode support is implemented using UTF16 </li><li>  <code>target.sys</code> - indicates whether classes from the sys package are available (for example, for working with the file system) </li><li>  <code>target.static</code> - indicates whether the platform is static (on static platforms, the basic types <code>Int</code> , <code>Float</code> and <code>Bool</code> cannot have <code>null</code> values) </li><li>  <code>target.threaded</code> - indicates whether the platform supports multithreading </li></ul><br><img src="https://habrastorage.org/webt/qt/ue/c_/qtuec_vbswkwgylwnidy9xuaeou.png" alt="Namespace support for meta tags"><br><p>  Similarly, namespace support has appeared for meta tags.  So far, there are no reserved namespaces for meta tags in the language, but this may change in the future. </p><br><img src="https://habrastorage.org/webt/cc/yj/ye/ccyjyemwz1ti9vgddvccyu4iqeq.png" alt="New type - ReadOnlyArray"><br><p>  The <code>ReadOnlyArray</code> type <code>ReadOnlyArray</code> added to the Haxe standard library - an abstract above a regular array, in which only methods are available for reading data from an array. </p><br><img src="https://habrastorage.org/webt/jr/ia/2o/jria2ovebta0bwm-lezr7jvv7ao.png" alt="Final fields and local variables"><br><p>  Another innovation in the language is the final fields and local variables. <br>  If the declaration of a class field or a local variable instead of the <code>var</code> keyword to use <code>final</code> , this will mean that the field or variable cannot be reassigned (if you try to do this, the compiler will generate an error).  But at the same time, its state can be changed, so the final field or variable is not a constant. </p><br><img src="https://habrastorage.org/webt/j-/8u/f9/j-8uf9asp_ivqbxn8kypatexma0.png" alt="The compiler controls the initialization of the final fields."><br><p>  The values ‚Äã‚Äãof the final fields must be initialized either when they are declared or in the constructor, otherwise the compiler will generate an error. </p><br><img src="https://habrastorage.org/webt/2h/yd/wi/2hydwitcbuwstefblzdr09sxqzk.png" alt="Hashlink"><br><p>  <a href="https://hashlink.haxe.org/">HashLink</a> - a new platform with its own virtual machine, created specifically for Haxe.  HashLink supports the so-called "Dual compilation" (Dual compilation) - the code can be compiled either into bytecode (which is very fast, speeds up the process of debugging developed applications), or in C-code (which is characterized by increased performance).  Nicholas HashLink dedicated several <a href="https://haxe.org/blog/hashlink-indepth/">posts to the Haxe blog</a> , and also spoke about him <a href="https://haxe.org/videos/conferences/haxe-summit-us-2018/haxe-4-0-nicolas-cannasse.html">at last year</a> ‚Äôs Seattle <a href="https://haxe.org/videos/conferences/haxe-summit-us-2018/haxe-4-0-nicolas-cannasse.html">conference</a> .  HashLink technology is used in such popular games like Dead Cells and Northgard. </p><br><img src="https://habrastorage.org/webt/zy/a4/eh/zya4eh5l7t3zqihviw5qvtcrsfc.png" alt="Null security"><br><p>  Another new interesting feature of Haxe 4 is Null safety (Null safety), which is still in the experimental stage (due to false positives and insufficient checks for code safety). <br>  What is null security?  If your function does not explicitly declare that it can accept <code>null</code> as parameter values, then when you try to pass <code>null</code> into it, the compiler will generate an appropriate error.  In addition, for parameters of functions that can take <code>null</code> as a value, the compiler will require you to write additional code to check and handle such cases. <br>  This functionality is turned off by default, but it does not affect the speed of code execution (if it is still enabled), since the described checks are performed only at the compilation stage.  It can be turned on for the entire code, or it can be gradually turned on for individual fields, classes and packages (thus ensuring a gradual transition to more secure code).  To do this, you can use special meta tags and macros. <br>  Modes in which Null-security can work: <code>Strict</code> (most strict), <code>Loose</code> (default mode) and <code>Off</code> (used to disable checks for individual packages and types). </p><br><img src="https://habrastorage.org/webt/mn/9l/jh/mn9ljhu2_wwwonpjo7qhcoiasyw.png" alt="Standard mode checks for null-security"><br><p>  For the function on the slide, the check for Null-security is enabled.  We see that this function has an optional parameter <code>s</code> , that is, we can pass <code>null</code> to it as a parameter value.  When trying to compile code with this function, the compiler will generate a number of errors: </p><br><ul><li>  when trying to access any field of the object <code>s</code> (since it can be <code>null</code> ) </li><li>  when trying to assign a variable to str, which, as we can see, should not be <code>null</code> (otherwise we had to declare it not as a <code>String</code> , but as a <code>Null&lt;String&gt;</code> ) </li><li>  when trying to return an object <code>s</code> from a function (since the function should not return <code>null</code> ) </li></ul><br><p>  How to fix these errors? </p><br><img src="https://habrastorage.org/webt/ku/w-/l8/kuw-l8prqna5xq7c21ushemgtqs.png" alt="Null-security bug fixes"><br><p>  We just have to add a check for <code>null</code> to the code (inside the block with a check for <code>null</code> compiler "knows" that <code>s</code> cannot be <code>null</code> and can be safely worked with), and also make sure that the function does not return <code>null</code> ! </p><br><img src="https://habrastorage.org/webt/x1/xj/jp/x1xjjpwn8ikrulbtulxj_iixlq4.png" alt="When performing checks on Null security, the compiler takes into account the order of program execution."><br><p>  In addition, when performing checks on Null-security, the compiler takes into account the order of program execution.  For example, if after checking the value of the <code>s</code> parameter for null to terminate the execution of the function (or throw an exception), the compiler will "know" that after such a test the <code>s</code> parameter can no longer be <code>null</code> and that it can be safely operated. </p><br><img src="https://habrastorage.org/webt/6f/vq/cj/6fvqcjbu-dixmrxcfuwtd8mskvk.png" alt="Strict-mode execution checks for null-security"><br><p>  If you enable Strict-mode checks for Null-security for the compiler, it will require additional checks for <code>null</code> in those cases when between the initial check of the value for <code>null</code> and the attempt to access the field of the object, some code could be set that could set it to <code>null</code> . </p><br><img src="https://habrastorage.org/webt/ci/6m/u4/ci6mu4zsvkdjf33vvbetz30mf2m.png" alt="Loose mode execution tests for null-security"><br><p>  In Loose mode (used by default), the compiler does not require such checks (by the way, this behavior is also used by default in TypeScript). </p><br><img src="https://habrastorage.org/webt/je/wo/5q/jewo5qwzmavidsf-jss4bwug79i.png" alt="Verification of field initialization when performing checks for null security"><br><p>  Also, with the included checks for null-security, the compiler checks whether the fields in the classes are initialized (either immediately upon their declaration or in the constructor).  Otherwise, the compiler will generate errors when trying to pass an object of this class, as well as when trying to call methods on such objects, until all the fields of the object are initialized.  Such checks can be disabled for individual fields of the class by marking them with a meta tag <code>@:nullSafety(Off)</code> <br>  Alexander <a href="https://haxe.org/videos/conferences/haxeup-sessions-2018/null-safety-alexandr-kuzmenko.html">spoke</a> more about Null-security in Haxe <a href="https://haxe.org/videos/conferences/haxeup-sessions-2018/null-safety-alexandr-kuzmenko.html">last October</a> . </p><br><img src="https://habrastorage.org/webt/ui/f3/za/uif3zavird4vri76gqfiaukfsxo.png" alt="Generating ES6 classes for javascript"><br><p>  Haxe 4 now has the ability to generate ES6 classes for JavaScript, it is enabled using the <code>js-es=6</code> compilation flag. </p><br><img src="https://habrastorage.org/webt/z7/5c/ow/z75cowptrmqn5bxfa7oerxkxsro.png" alt="Embedding functions at the place of a call"><br><p>  Call-site inlining provides more options for controlling the balance between code performance and its size.  This functionality is also used in the standard Haxe library. <br>  What is she like?  It allows you to embed the function body (using the <code>inline</code> ) only in those places where it is required to ensure high performance (for example, if you need to call a sufficiently volumetric method in a loop), while the function body is not embedded in other places.  As a result, the size of the generated code will be slightly increased. </p><br><img src="https://habrastorage.org/webt/ke/0y/wf/ke0ywfco0j5pbynruiqr4mgqhxw.png" alt="Automatic extensions for types"><br><p>  Auto-using (automatic extensions for types) means that now for types you can declare static extensions at the place of type declaration.  In this case, there is no need to use the <code>using type;</code> every time <code>using type;</code>  in each module where the type and extension methods are used.  At the moment, this type of extensions is implemented only for transfers, but in the final release (and in nightly builds) it can be used not only for transfers. </p><br><img src="https://habrastorage.org/webt/ru/ts/6s/ruts6snzqmgjdbx1g0kmjc92oxw.png" alt="Redefining the operator access to the fields of the object"><br><p>  In Haxe 4, it will be possible to override for the abstract types the operator of access to the fields of the object (only for fields that do not exist in the type).  For this purpose, methods marked with the meta tag <code>@:op(ab)</code> . </p><br><img src="https://habrastorage.org/webt/qv/fu/fj/qvfufjhriheejf1q6i0epu82pw8.png" alt="Embedded markup"><br><p>  Embedded markup is another experimental feature in Hax.  The code of the built-in markup is not processed by the compiler as an xml document - the compiler sees it as a string wrapped in a meta tag <code>@:markup</code> .           . </p><br><img src="https://habrastorage.org/webt/ms/an/zi/msanzicye9bpsmkbw55m6zcs34a.png" alt="   "><br><p>    -,   - <code>@:markup</code>    ,     . </p><br><img src="https://habrastorage.org/webt/pg/ek/2w/pgek2wa4v-ocjxauyq6e9oopvfc.png" alt="      untyped-"><br><p>               (  <code>untyped</code> ).           . ,   ,  <code>Js.build()</code>     - <code>@:markup</code>     ,        <code>&lt;js&gt;</code> ,     js-. </p><br><img src="https://habrastorage.org/webt/gk/vd/1f/gkvd1f3duuldpzde1zmmgvwbkza.png" alt=" -  - "><br><p>  Haxe 4     -  - ,    ‚Äî       . </p><br><img src="https://habrastorage.org/webt/br/gp/0c/brgp0cim1eozg7jjcopjmtx1xys.png" alt="     "><br><p>       .  ,        .   ,   <code>Int</code> ,      ,    C. </p><br><img src="https://habrastorage.org/webt/cj/3g/lf/cj3glfbn9l5owjjunjtrsn2jzvw.png" alt="     "><br><p>         ‚Äî       . </p><br><p> <b>     :</b> </p><br><img src="https://habrastorage.org/webt/y4/hl/fw/y4hlfwwz_db02rgmsj4f1jgw6r8.png" alt=" JVM- "><br><p>    JVM-   JDK,            Java-.    .         . </p><br><img src="https://habrastorage.org/webt/wj/ut/_z/wjut_zypg87r1f508zovsks2dio.png" alt=""><br><p>      ,     <code>async</code> / <code>await</code>  <code>yield</code> .       (   C#,       ).  <a href="https://github.com/nadako/haxe-coroutines"> </a>     Haxe    github. </p><br><img src="https://habrastorage.org/webt/ou/7r/gh/ou7rghzmynbwwvah6l7rumqpl8i.png" alt=",    "><br><p>  Haxe  <a href="">,    </a> .     ( )     .        ,    . </p><br><img src="https://habrastorage.org/webt/ty/y4/xw/tyy4xwdn9olejstawrdlqbux_tu.png" alt=" API     "><br><p>       API     .     ,   ,    API    . </p><br><p>      Haxe 4  ! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/455389/">https://habr.com/ru/post/455389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455377/index.html">IoT architecture</a></li>
<li><a href="../455379/index.html">(Static) Selection of optimal containers in C ++ programs</a></li>
<li><a href="../455381/index.html">Technical support 3CX responds: seizure of SIP-traffic on the PBX server</a></li>
<li><a href="../455383/index.html">How to start programming a newbie for free</a></li>
<li><a href="../455387/index.html">Understanding Machine Learning in the Elastic Stack (aka Elasticsearch, aka ELK)</a></li>
<li><a href="../45539/index.html">The Japanese have released a browser with three engines</a></li>
<li><a href="../455391/index.html">RISC-V: RocketChip in unnatural habitat</a></li>
<li><a href="../455393/index.html">On the application of parametric spectral estimation methods in radar - the method MUSIC. Addition to the article</a></li>
<li><a href="../455397/index.html">How we designed and implemented a new network on Huawei in the Moscow office, part 1</a></li>
<li><a href="../4554/index.html">Spammers call on the stock exchange and continue to use the GIF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>