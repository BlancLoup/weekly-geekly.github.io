<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configure SSL for TomCat</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A couple of weeks ago I ran into a problem - TomCat is installed on a server (windows 2008), it‚Äôs not mine, and moreover, I didn‚Äôt even see how it was...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configure SSL for TomCat</h1><div class="post__text post__text-html js-mediator-article">  A couple of weeks ago I ran into a problem - TomCat is installed on a server (windows 2008), it‚Äôs not mine, and moreover, I didn‚Äôt even see how it was installed.  It is necessary to make authorization using SSL protocol.  Previously, I never set up a web server either on Windows or on Nix, and you need to solve it in the shortest possible time - 3 days.  I decided to ask Google with Yandex and found a bunch of articles on how to make SSL channel encryption and one obscure about "two-phase authorization".  I suffered all 3 days and at the end of the term I got a solution (as always, the bright idea came from a great hangover).  Now more: <br>  How to install TomCat I will not describe, because  such articles shaft. <br>  <b>First, create a keystore with the key:</b> <br>  We type the following code in the command line: <br><pre><code class="java hljs">&gt;keytool -genkey -alias tomcat -keyalg RSA -keystore mystore -validity <span class="hljs-number"><span class="hljs-number">999</span></span> -keysize <span class="hljs-number"><span class="hljs-number">512</span></span></code> </pre> <br>  Here: <a name="habracut"></a><br>  - tomcat - alias name <br>  - keyalg - key generation algorithm <br>  - keystore - storage name <br>  - validity - certificate expiration date <br>  - keysize - key size <br>  As a result, you will see the following on the console: <br>  Enter keystore password: <b>mystorepassword</b> <br>  What is your first and last name? <br>  [Unknown]: <b>firstname lastname</b> <br>  What is your organizational unit? <br>  [Unknown]: <b>organizationalunit</b> <br>  What is the name of your organization? <br>  [Unknown]: <b>organization</b> <br>  What is your city or locality? <br>  [Unknown]: <b>city</b> <br>  What is your state or province? <br>  [Unknown]: <b>state</b> <br>  What is the two-letter country code for this unit? <br>  [Unknown]: <b>ru</b> <br>  Is CN = firstname lastname, OU = organizationalunit, O = organization, L = city, ST = state, C = ru correct? <br>  [no]: <b>yes</b> <br>  Enter key password for (RETURN if same as keystore password): <br>  What is highlighted in bold - to be entered manually, requests appear line by line. <br>  Please note that for the key the password was not entered (in this case the storage password is used). <br><br>  <b>Configuring SSL-connector</b> (fragment <b>server.xml</b> ): <br>  Find a record <br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- Define a SSL HTTP/1.1 Connector on port 443 This connector uses the JSSE configuration, when using APR, the connector should be using the OpenSSL style configuration described in the APR documentation --&gt;</span></span></code> </pre><br>  and add below it <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Connector</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">port</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8443"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">SSLEnabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">maxHttpHeaderSize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8192"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">maxThreads</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"150"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">minSpareThreads</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"25"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">maxSpareThreads</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableLookups</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disableUploadTimeout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">acceptCount</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">scheme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">secure</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">clientAuth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sslProtocol</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TLS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystoreFile</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mystore"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystorePass</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mystorepassword"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystoreType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JKS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyAlias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tomcat"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  Find the string: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Listener</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.apache.catalina.core.AprLifecycleListener"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">SSLEngine</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"on"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre>  - The default is 27 lines, comment it out. <br>  Also, if you have this line: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Listener</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.apache.catalina.mbeans.ServerLifecycleListener"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  also comment on it. <br>  Now we throw the <b>mystore</b> file from the <b>java</b> folder into the Tomkata root, if you drop it to the root, then you need to change the line <pre> <code class="xml hljs"> keystoreFile="mystore"</code> </pre>  on <pre> <code class="xml hljs"> keystoreFile="/ /mystore"</code> </pre> <br>  Line <pre> <code class="xml hljs">keystorePass="mystorepassword"</code> </pre>  - ‚Äúmystorepassword‚Äù, this is your password specified when creating a repository with a key. <br>  We are launching Tomcat, SSL encryption is already working. <br><br>  <b>"Two-phase" SSL - authorization on the site according to the certificate</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The verification mechanism is very simple: it is necessary that the server has a key, the subject distinguished name of which will coincide with the issuer distinguished name of the key being verified (and the client does not have to have such a key, since you can confirm trust in the dialog mode).  When the keys issued by the certification center are used, we already have the public key of the center and our own one signed by this center.  In the case of a self-signed key (it is these keys that the keytool creates) it is necessary that the public key used by the client be in the server's truststore. <br><br>  We generated the server key above, now we will make the client key <br>  Type the following command in the console <br><pre> <code class="java hljs">keytool -genkey -alias client -keyalg RSA -keystore myclientstore -storetype PKCS12 -validity <span class="hljs-number"><span class="hljs-number">999</span></span> -keysize <span class="hljs-number"><span class="hljs-number">512</span></span></code> </pre><br>  the following will appear on the console: <br>  Enter keystore password: <b>myclientstorepassword</b> <br>  What is your first and last name? <br>  [Unknown]: <b>client</b> <br>  What is your organizational unit? <br>  [Unknown]: <b>orgunit</b> <br>  What is the name of your organization? <br>  [Unknown]: <b>org</b> <br>  What is your city or locality? <br>  [Unknown]: <b>locality</b> <br>  What is your state or province? <br>  [Unknown]: <b>state</b> <br>  What is the two-letter country code for this unit? <br>  [Unknown]: <b>RU</b> <br>  Is CN = client, OU = orgunit, O = org, L = locality, ST = state, C = RU correct? <br>  [no]: <b>yes</b> <br>  Enter key password for (RETURN if same as keystore password): <br><br>  all by analogy with the generation of the server key, only the parameter appeared <pre> <code class="java hljs"> -storetype</code> </pre>  .  This parameter indicates the type of storage supported by our browser, if you do not know exactly what type you have - do not change, this one is suitable for everyone (checked by electronics !!!) <br><pre> <code class="java hljs"> -keystore</code> </pre>  - here it is the storage of client certificates. <br>  The next step is to place the public key in the server‚Äôs trusted storage (truststore).  To do this, export it from the received storage (myclientstore) to the clientcert file: <br>  Let's enter the following command in the console: <br><br><pre> <code class="java hljs">keytool -export -alias client -keyalg RSA -keystore myclientstore -storetype PKCS12 -file clientcert</code> </pre> <br><br>  in response we will see: <br><br>  Enter keystore password: <b>myclientstorepassword</b> <br>  Certificate stored in file "clientcert" <br><br>  Here, the question ‚ÄúEnter keystore password:‚Äù asks not a new password, but one that we entered when we formed ‚Äúmyclientstore‚Äù <br>  Here I think everything is clear, because  All parameters are discussed above.  And the result is the clientcert file. <br>  We import the resulting file into a new repository for the server (this will be a truststore): <br>  We introduce in the console command <br><pre> <code class="java hljs">keytool -<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> -alias client -keyalg RSA -keystore mytruststore -storetype JKS -file clientcert</code> </pre> <br><br>  They will ask us <br><br>  Enter keystore password: <b>mytruststorepassword</b> <br><br>  if answered correctly then we'll see <br><br>  Owner: CN = client, OU = orgunit, O = org, L = locality, ST = state, C = RU <br>  Issuer: CN = client, OU = orgunit, O = org, L = locality, ST = state, C = RU <br>  Serial number: 462a2361 <br>  Valid from: Sat Apr 21 18:44:49 MSD 2007 until: Fri Jul 20 18:44:49 MSD 2007 <br>  Certificate fingerprints: <br>  MD5: 78: 55: 83: 13: 3A: 4F: DB: CA: 1A: 60: 5E: A4: 87: 1D: EC: 93 <br>  SHA1: 7A: A7: 7C: C6: 71: 2B: 82: 74: 9C: 4F: C7: 3D: FA: 14: AD: 2A: E5: BF: 39: 2F <br><br>  last question <br><br>  Trust this certificate?  [no]: <b>yes</b> <br><br>  and in response <br><br>  Certificate was added to keystore <br><br>  Here, the question ‚ÄúEnter keystore password:‚Äù asks not a new password, but one that we entered during the formation of ‚Äúmytruststore‚Äù <br>  Well, all certificates are generated and placed in trusted repositories. <br>  Now we need to tell the server to use them, we supplement the server configuration.  Now the SSL connector configuration looks like this: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Connector</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">port</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8443"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">SSLEnabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">maxHttpHeaderSize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8192"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">maxThreads</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"150"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">minSpareThreads</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"25"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">maxSpareThreads</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableLookups</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disableUploadTimeout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">acceptCount</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">scheme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">secure</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">clientAuth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sslProtocol</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TLS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystoreFile</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mystore"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystorePass</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"123456"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystoreType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JKS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyAlias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tomcat"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">truststoreFile</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mytruststore"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">truststorePass</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"123456"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">truststoreType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JKS"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  The paths to mytruststore, mystore, as already mentioned, can be changed, do not forget to change the password values ‚Äã‚Äãat the same time :-) <br><br>  If you need to add a third-party certificate to the trustedstore, use the following code: <br><pre> <code class="java hljs">keytool -<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> -mytruststore -keystore mystore -alias tomcat -file clientcert</code> </pre> <br><br>  If you need to delete the certificate in the trustedstore, use the following code: <br><pre> <code class="java hljs">keytool -delete -mytruststore -keystore mystore -alias tomcat -file clientcert</code> </pre> <br><br>  Copy the files mytruststore and mystore into the root of the volume or into the folders specified in the connector parameters (keystoreFile and truststoreFile) if you changed them. <br>  We import myclientstore into the used browser into certificates.  Those.  by example of IE: <br>  Service-&gt; Internet Options-&gt; Content-&gt; Certificates-&gt; Import-&gt; Next-&gt; Browse-&gt; All Files-&gt; Find a folder with java (by default, new generated files are saved there), choose our myclientstore, -&gt; Next-&gt; enter the password that we asked when generating myclientstore and that's it! <br>  Restart the server. <br>  Now if you type https: // localhost: 8443 - the server will require a certificate, but if you type <br>  http: // localhost: 8080 will open the same page as in the first case, but without any protection.  In order for all requests to be redirected from http to https in the <b>web.xml</b> add <br>  Before closing the web-app: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">web-resource-collection</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">web-resource-name</span></span></span><span class="hljs-tag">&gt;</span></span>Protected Context<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">web-resource-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url-pattern</span></span></span><span class="hljs-tag">&gt;</span></span>/*<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url-pattern</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">web-resource-collection</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">!‚Äî</span></span></span><span class="hljs-tag">     </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">--</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">user-data-constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transport-guarantee</span></span></span><span class="hljs-tag">&gt;</span></span>CONFIDENTIAL<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transport-guarantee</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">user-data-constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-constraint</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Restart the server, voila - everything works! <br>  I hope this article will be more understandable than the rest, because  then I gathered all the nuggets of knowledge found on the Internet and the experience I received at the time of hard lovemaking with SSL and TomCat. </div><p>Source: <a href="https://habr.com/ru/post/134453/">https://habr.com/ru/post/134453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134446/index.html">Home accounting from the portal FINANCE.UA</a></li>
<li><a href="../134447/index.html">Batch 3D-converter based on 3ds Max</a></li>
<li><a href="../134448/index.html">Imagine Cup Meeting in Tomsk</a></li>
<li><a href="../134450/index.html">Russian startups in the Spanish village</a></li>
<li><a href="../134452/index.html">Path to Intel Programming Wizard</a></li>
<li><a href="../134454/index.html">Expert system in 1832</a></li>
<li><a href="../134456/index.html">Create an RDS terminal farm using NLB technology and publish RD Web Access to ISA Server 2006</a></li>
<li><a href="../134457/index.html">Work with PySide</a></li>
<li><a href="../134461/index.html">Google Celebrates Robert Noyes 84th Birthday</a></li>
<li><a href="../134462/index.html">Selenium: working with page elements using @FindBy and PageFactory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>