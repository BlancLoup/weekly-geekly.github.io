<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>One year in the life of the project. Answers@Mail.ru</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will try to remember and describe all the difficulties and pitfalls that were encountered on the way of implementing the tasks relat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>One year in the life of the project. Answers@Mail.ru</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/04c/5f2/c9e/04c5f2c9ef65c2ddd51244d80f5e2edb.jpg"><br><br>  In this article I will try to remember and describe all the difficulties and pitfalls that were encountered on the way of implementing the tasks related to the project. I will also tell you about the architecture of the project. <br><br>  It all started when my contract came to an end (during the year I participated in the work on Mail.ru mail).  ‚ÄúAdventures are waiting for me again,‚Äù flashed through my thoughts, ‚Äúa new country, a new job.‚Äù  I went to my superiors and in the course of the discussions I nevertheless received a portion of adventures in the form of an interesting task - to work on the project Answers. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>As of October 15, 2012, the project was visited by an average of 3.5 million unique visitors per day.</b> <br><blockquote>  The calculation was carried out on a unique "Cooks" (Cookie), which are issued to each visitor.  If cookies are disabled in the visitor's browser, the visitor is not counted. </blockquote>  The business card of the project could be called a screen, which, I am sure, is very well known to everyone. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/08b/304/42b/08b30442b231e016fc05ec9cfe29ae06.jpg"><br><br>  <b>The set of technologies used was as follows:</b> <br><ul><li>  CentOS 5 i386 </li><li>  mod_perl under Apache </li><li>  Nginx </li><li>  SQL - database </li><li>  code layout to battle with rsync </li></ul><br>  <b>Architecture:</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/b85/913/02b/b8591302b7aa78e2f851220eb60cffa6.png"><br><table><tbody><tr><td>  name </td><td>  purpose </td><td>  cpu </td><td>  ram, gb </td><td>  hdd </td><td>  note </td></tr><tr><td>  primus </td><td>  front </td><td>  2xE5504 </td><td>  eight </td><td>  2 x sata </td><td>  entry point balancer </td></tr><tr><td>  alpha </td><td>  bek </td><td>  2xXeon old </td><td>  2 </td><td>  2 x scsi </td><td>  on it we let all the crown scripts </td></tr><tr><td>  argon </td><td>  bek </td><td>  2xE5504 </td><td>  eight </td><td>  2 x sata </td><td></td></tr><tr><td>  butan </td><td>  bek </td><td>  2x E5506 </td><td>  four </td><td>  2 x sata </td><td></td></tr><tr><td>  luna </td><td>  bek </td><td>  2xE5405 </td><td>  eight </td><td>  2 x sata </td><td>  here wap and m version was spinning </td></tr><tr><td>  oktan </td><td>  bek </td><td>  2xE5405 </td><td>  eight </td><td>  2 x sata </td><td></td></tr><tr><td>  metan </td><td>  bek </td><td>  2xE5506 </td><td>  four </td><td>  2 x sata </td><td></td></tr><tr><td>  propan </td><td>  bek </td><td>  2xE5405 </td><td>  four </td><td>  2 x sata </td><td></td></tr><tr><td>  radon </td><td>  bek </td><td>  2xE5504 </td><td>  eight </td><td>  2 x sata </td><td></td></tr><tr><td>  neon </td><td>  bek </td><td>  2xE5-2620 </td><td>  sixteen </td><td>  2 x sata </td><td>  new </td></tr><tr><td>  nitrogen </td><td>  bek </td><td>  2xE5-2620 </td><td>  sixteen </td><td>  2 x sata </td><td>  new </td></tr><tr><td>  plasma </td><td>  bek </td><td>  2xE5-2620 </td><td>  sixteen </td><td>  2 x sata </td><td>  new </td></tr><tr><td>  titan </td><td>  base </td><td>  2 x E5620 </td><td>  96 </td><td>  4sata + 20sas </td><td>  master </td></tr><tr><td>  buran </td><td>  base </td><td>  2 x E5620 </td><td>  64 </td><td>  2 sata + 4 ssd </td><td>  main replica </td></tr><tr><td>  maximus </td><td>  base </td><td>  2 x 5110 </td><td>  32 </td><td>  2 sata + 4 scsi </td><td>  replica for admin </td></tr><tr><td>  minimus </td><td>  base </td><td>  2 x 5110 </td><td>  sixteen </td><td>  2 sata + 4 scsi </td><td>  replica for admin </td></tr><tr><td>  coloss </td><td>  base </td><td>  2 x 5130 </td><td>  eight </td><td>  6 scsi </td><td>  comment base </td></tr></tbody></table>  <b>Problems:</b> <ul><li>  project instability </li><li>  there are few specialists in the operational department for this SQL database, when the base drops, the only specialist who can understand what and why is not always available </li><li>  the eternal problem of the backlog of replicas, there is no one to solve it </li><li>  development of new functionality is difficult, since 90% of the logic inside the database </li></ul><br>  <b>Task from management</b> <blockquote>  To ensure the stable operation of the service and the possibility of its further development, in particular, to launch the mobile version. </blockquote>  Migrating to Mysql and carrying out the logic of processes in the cloud will solve most of our problems. <br><br>  The first thing raised monitoring.  He wrote about him in the <a href="http://habrahabr.ru/post/144639/">article</a> (by the way, <br>  rewrote it on AnyEvent, performance increased from 50 to 240 thousand lines per second). <br><br>  He opened his eyes to the following things: <br><ol><li>  Fall every day! </li><li>  A huge background of errors 504, about 50 thousand per day. </li></ol><br>  What are the reasons for 504? <br><ul><li>  Slow HTML parser, it does its job when displaying the question page, that is, on the fly. </li><li>  Bots that download content. </li><li>  Yandex and Google index. </li></ul><br>  I received a letter from Yandex: <br><blockquote>  For otvet.mail.ru we began to increase the load, but to produce more than 200 requests per minute is not <br>  it turns out, since we are starting to receive HTTP 503 regardless of the time of day.  Is it possible to <br>  eliminate it on your side? </blockquote>  Another problem has surfaced: on the balancer, we have a limit of 1 request per second from one IP, if we increase it, we cannot cope with the load. <br><br>  Since search traffic is the most important thing for the Answers project, you need to act quickly.  Everyone is nervous, the situation is heating up =). <br><br>  From the simplest, easiest and cheapest - they bought 3 backends: neon, plasma and nitrogen.  Added RAM to the primus balancer), included in nginx caching html for all unauthorized users, which are about 40%.  Restriction on the balancer increased to 15 requests per second. <br><br>  Every day they stopped falling, Yandex no longer complained about us.  Critical problems solved, now you can think about the problem. <br><br>  Looking ahead, I will say that in the new API, problems with slow HTML have been resolved.  We used samny samopisny (Perl XS) parser and parsili only when saved to the database.  For mail, this solution is not suitable, because if someone finds XSS, then it would take a lot of time (5 petabytes of data) to re-parse all the letters, so it‚Äôs easier and faster to add protection and parsing on the fly to the parser. <br><br>  <b>Migration and mobile version</b> <br><br>  Migration must meet two conditions: preserving the integrity of data and the performance of the project 24/7.  Therefore, turn off the project and transfer data - will not work. <br><br>  We will create an API, based on which everything will work, both the mobile version and the future ‚Äúbig‚Äù one.  The API will only read from muscle, and write in both databases: old and new. <br><img src="https://habrastorage.org/getpro/habr/post_images/edc/a6a/382/edca6a3824c3e61599a5ec2418873809.png"><br>  In order for MySQL to reach the changes from the old database, we will create a queue in which we will write which entities need to be synchronized (take from the old one and add or replace them in the new one). <br><img src="https://habrastorage.org/getpro/habr/post_images/6d2/4cd/1d9/6d24cd1d90ac1f20a633698023e4ad11.png"><br>  To do this, the entire database must be divided into entities.  For example, a task to resynchronize a response, a question, a user, all user responses, etc. <br><br>  It should also be noted that the processors of this queue will work in parallel, since the flow of synchronization tasks is huge.  We finally managed to handle 12 forks. <br><br>  This is all necessary so that at any time you can add tasks to the queue and completely re-synchronize the necessary entities. <br><br>  So rushed.  On January 10, <a href="http://habrahabr.ru/users/lattenwald/">Alex Q</a> , Perlovik came out.  The queue is realized in the muscle.  We bought two servers for muskul (called ‚Äúbirch‚Äù and ‚Äúpine‚Äù) and two fronts (‚Äúbaron‚Äù and ‚Äúbourbon‚Äù).  Muscle master and replica.  They taught the old version to write tasks in the queue for resynchronization.  It was a very routine and painfully long process.  It was necessary to find each place in the pearl that writes in the old database, and back it up with the corresponding task for resynchronization. <br><br><h5>  At this point, the main thing to remember about the following things: </h5><ul><li>  Cron-jobs inside the database.  Here we had to implement an analogue in the new version, because they did not want to interfere with the package code inside the database. </li><li>  Ordinary cron scripts.  For them, we wrote similar in the new version. </li><li>  Well, the most insidious, it is - triggers.  In our case, it turned out that the combat version of the database was different from the dev version.  Therefore, carefully and meticulously check this. </li></ul><br>  Each of the above errors cost 14 days.  Why so much?  Learn more about it. <br><br>  So, the old version can write to the queue, check the load.  We roll out the old version, first on 2 Becks, then on 4 more, we look at the muskul, everything is OK, rolled on all the Beks, holds the load.  Go to the next step. <br><br>  They wrote a queue handler that knows how to forge and monitor children: if they fall, then it produces new ones.  It takes a portion of the tasks and resynchronizes them, turning them into the necessary structure.  In the future, we noticed that from two strategies ‚Äî to launch 12 forks, each of which rakes all types of tasks ‚Äî slower than launching 4 forks that perform tasks A, 4 forks that perform task B, etc. <br><br>  This is explained by the fact that the queue handler remembers the entities that it has resynchronized during the current pass, and skips them if it encounters again, and if the types of entities are limited, the probability to get into the already processed task is much higher. <br><br>  As a result, they taught the old version to write to the queue, the queue handlers are ready.  In the battle launched the old version.  The queue is accumulating, but so far not raked. <br><br>  Now we need to transfer the already accumulated data from one database to another.  Their order of 500 gigabytes.  How to do it?  Thank you <a href="http://habrahabr.ru/users/lattenwald/">Alex Q</a> =) <br><br><h5>  Task: </h5><blockquote>  Migrating large tables (up to 1500 million records) from the old SQL database to MySQL.  In this case, the structure may (slightly) change, for example, in the old SQL database, the boolean fields were CHAR (1) (hidden may have values ‚Äã‚Äã'' or 'H'), and in MySQL they would become TINYINT (hidden may be 0 or 1). </blockquote>  Simultaneously with the transfer of data, data can be added and changed in the old database.  The problem is resolved by creating a queue in which information is written about which data in the old database has changed or been added.  While the table is migrating, tasks for ‚Äúdesynchronization‚Äù accumulate in the queue;  the queue is then parsed by a separate script. <br><br><h5>  Migration: </h5><ol><li>  Import into MySQL via LOAD DATA INFILE in batches of 1000 (by default, redefined by startup keys) strings, because it is much faster than through INSERT. </li><li>  As a data transfer file, use the FIFO pipe, because then all data is run through the memory without writing to disk.  It should be significantly faster than through files. </li><li>  The script reads N lines from the old SQL database (10,000, for example). </li><li>  The script forts the child process.  In this process, the FIFO is opened for reading, and from it in MySQL it makes LOAD DATA INFILE. </li><li>  the parent writes K lines (1000, for example) to fifo.  After each pack, closes the filehandle of the pipe, waits for the output of the child process and repeats from point 2 until the data taken in point 1 is finished. </li></ol><br>  February 26, 2013 - the first commit.  By March 6, 2013 the working version is ready.  They made a function that accepts the description of the incoming table (the old SQL database) and the output table (MySQL) old_to_MySQL (), and then everything is done through it.  To avoid starting from scratch in case of a sudden facup, store the id of the last migrated row for each table in the MySQL table old_migrate. <br><br>  We use LOAD INFILE REPLACE, not LOAD INFILE IGNORE, so that when recovering from a facac, you do not lose data changes in the old SQL database. <br><br>  On March 15, the problem with default-values ‚Äã‚Äãwas temporarily solved: if from the old SQL-base comes NULL, and in MySQL the column is NOT NULL DEFAULT 0, then when we try to insert NULL we fall.  The description of the scheme now has a set of key columns that are required to be; we insert DEFAULT into all the others if NULL arrives. <br><br>  March 20, the war began against SIGPIPE. <br><br>  Stages of war: <ul><li>  Added $ SIG {PIPE}, which tries to repeat the call to old_to_MySQL () with old parameters from a saved position.  For a long time, everything worked. </li><li>  November 13-14 SIGPIPE strikes back.  I fixed the order of work with the pipe: first open the fifo for reading, then for writing.  During the fight against sigpipe, croak / carp was added as a replacement for die / warn, and stumbled upon bug 72467 in Carp (attempt to copy freed scalar), and changed everything back. </li><li>  Did not help.  Sleep did not help even after a second after opening the pipe for reading.  Climbed to temporary files.  It became noticeably faster due to unscrewing all the sleep, which served as crutches in the fight against sigpipe.  It became good. </li></ul><br>  The war with sigpipe lasted two days, November 13 and 14.  It was a very busy two days. <br><br><h5>  In total, it took us 14 days to transfer these 500 gigabytes. </h5><br>  While there was a transfer, the alpha version of the new API (Perl, fast_cgi) was ready. <br><br>  Transferred the data, launched a test mobile version to corporate users.  We look, we test.  Accidentally in the logs of the old version, they noticed an error that on one of the beeches the pearl swears at the absence of the DBD module.  This means that tasks do not leave the queue from this front, and the bases are not consistent.  Oh, shit.  I had to re-transfer everything.  14 days have passed =). <br><br>  Now, after transferring data, you can begin to rake the queue, and it has accumulated a huge, about 300 million jobs. <br><br>  Run handlers too slow.  Looking for the cause of the brakes, it turned out that we need an index on the plate in which we have a queue.  I did not want to wait again for 14 days.  Created one more such label, but already with an index.  Rolled out the old version, so she wrote in a new tablet with an index.  It was InnoDB.  Added an index.  Scatter and kill the tablet.  Renamed everything back. <br><br>  It seems to work.  Go ahead. <br><br>  The new API should be able to write in both databases.  We write asynchronously, so as not to wait extra time.  To do this, in the tables of the new database, we make a margin by id using the initial position of the auto increment.  For example, in the old database, the maximum id of the question is 1000, then in the analogous table of the new base we set the initial position of autoincrement 2000. <br><br>  We add a new question through the API, it has an ID 2001, it adds it to the old database, there it has an ID 1001, we update in the new database with an ID 2001 turn into an record with ID 1001, so the ID for the entities will match in our databases . <br><blockquote>  Then we learned that after restarting the muscle or alter of the table, the auto-increment is reset to the maximum value of the primary key.  Therefore, to avoid this, we added an entity base with a large ID equal to the starting number of auto-increment in MySQL. </blockquote>  All further tasks were solved by adding to the queue of tasks for resynchronization of the necessary entities. <br><br>  I remembered one more thing: somehow, from the operations department, news reached us that one of the data centers might have to be redeemed, and considering that the mobile version is already launched into battle and the fact that the servers with the old database are in this data center, and the new MySQL databases are different in the other.  But, fortunately, the predictions did not come true. <br><br>  Imagine that it happened. <br><br>  We extinguished the datacenter with the old databases - then quickly curled the front in another datacenter (we did it right away, as we learned about this news), switch the mobile version to read-only mode and redirect all to the mobile version. <br><br>  We extinguished the datacenter with the new databases - disable recording to the queue for synchronization.  After the data center is working, we throw into the queue all the entities created after the start of the problems, and quietly resynchronize. <br><br>  <b>In March, launched a mobile version of the battle.</b>  <b>There came about 500 thousand unique per day.</b>  <b>We hold the load, everything works well.</b> <br><br>  The architecture of the project took the following form: <br><img src="https://habrastorage.org/getpro/habr/post_images/486/df1/e25/486df1e25ac2ab5607f71e1331955d6f.png"><table><tbody><tr><td>  name </td><td>  purpose </td><td>  cpu </td><td>  ram, gb </td><td>  hdd </td><td>  note </td></tr><tr><td>  baron </td><td>  front </td><td>  2xE5-2620 </td><td>  32 </td><td>  2 x sata </td><td>  httpd + mod_fcgid, large power margin </td></tr><tr><td>  burbon </td><td>  front </td><td>  2xE5-2620 </td><td>  32 </td><td>  2 x sata </td><td>  httpd + mod_fcgid, large power margin </td></tr><tr><td>  bereza </td><td>  base </td><td>  2xE5-2609 </td><td>  96 </td><td>  2 x sata + 10 x ssd </td><td>  mysql master </td></tr><tr><td>  sosna </td><td>  base </td><td>  2xE5-2609 </td><td>  96 </td><td>  2 x sata + 10 x ssd </td><td>  mysql replica </td></tr><tr><td>  pihta </td><td>  base </td><td>  2xE5-2609 </td><td>  96 </td><td>  2 x sata + 10 x ssd </td><td>  mysql replica </td></tr><tr><td>  vagon </td><td>  memkes </td><td>  2xE5-2620 </td><td>  64 </td><td>  2 x sata </td><td>  two memcached instances </td></tr></tbody></table> Began to make the server version for search engines and people who have JS disabled. <br><br>  Made, rolled it to the region of Moscow.  We saw that with a load of 800 requests per second Apache is being torn down.  At first, suspicions fell on mod_fcgid, but it turned out that the culprit was mod_rpaf.  Thank you <a href="https://github.com/Mons">Mons</a> , he skillfully removed the Apache's crust. <br><br>  Abandoned mod_rpaf, threw an ip through the X-Real-IP header with nginx. <br><br>  Rolled all over Russia, we hold the load.  Made a new "big" version, started all redirect.  November 19 closed the old version. <br><br>  The limit on the primus balancer was removed to hell (15 requests per second from one IP).  Load keep the flight normal.  Approximately 950 requests per second from the API. <br><br>  Attendance is on average 6.5 million per day. <br><br>  On all servers we use CentOS 64bit, rollout into battle occurs through RPM packages.  At the moment, the pearl is still spinning under apache2 (mod_fcgid).  After yum rolled the bag, we restart the backups in turn. <br><br>  At the front we use this kind of thing: <br> <code>proxy_next_upstream timeout error http_502 http_504;</code> <br> <br>  That is, if the user comes 502 or 504, then he will be let out to another back, thus minimizing the discomfort due to the restart of the Apache. <br><br>  Charts for the load can be found <a href="">here</a> . <br><br>  <b>I hope that this article will help you not to step on the rake we walked through!</b>  <b>Remember, it is better to learn from the mistakes of others than from your own!</b>  <b>:)</b> </div><p>Source: <a href="https://habr.com/ru/post/214919/">https://habr.com/ru/post/214919/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../214907/index.html">Digital Termenvox based on Leap Motion (powered by .NET)</a></li>
<li><a href="../214911/index.html">Turn Git's boring logs into exciting animations.</a></li>
<li><a href="../214913/index.html">Play! Lift! Srsly?</a></li>
<li><a href="../214915/index.html">Sound attack</a></li>
<li><a href="../214917/index.html">Magic Circle: CSS Puzzle</a></li>
<li><a href="../214921/index.html">Counter common sense. On the possible blocking of Yandex by the decision of the Khabarovsk court</a></li>
<li><a href="../214923/index.html">Found the creator of bitcoin</a></li>
<li><a href="../214925/index.html">The hard-hitting test of your Agile</a></li>
<li><a href="../214927/index.html">Meetup management requires $ 300 for canceling a powerful DDoS attack.</a></li>
<li><a href="../214931/index.html">British authorities abolished VAT on bitcoin transactions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>