<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hyper Estraier - a small search engine for the lazy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Small - because in comparison with the Sphinx, the speed of work is really not impressive, but for the lazy - because everything is very simple. 
 Wha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hyper Estraier - a small search engine for the lazy</h1><div class="post__text post__text-html js-mediator-article">  Small - because in comparison with the Sphinx, the speed of work is really not impressive, but for the lazy - because everything is very simple. <br>  What attracted attention, despite the modest characteristics? <br>  1. The possibility of real-time indexing. <br>  2. The presence of document attributes and their use in searching and sorting the result. <br>  3. Simplicity of work and compact clear documentation (it took a couple of days to study, a quick glance along the diagonal of the docks and was the impetus for a more detailed study of the product). <br><br>  My impressions of <a href="http://fallabs.com/hyperestraier/">Hyper Estraier</a> : <a name="habracut"></a><br><br>  This search engine is written by <a href="http://fallabs.com/">FalLabs</a> , one product of which I <a href="http://habrahabr.ru/blogs/nosql/112253/">have</a> recently <a href="http://habrahabr.ru/blogs/nosql/112253/">tested</a> .  A short User's Guide (34 screens on a laptop, two thirds of which are descriptions of parameters and configs) with a description of some interesting features was seduced by the experiment. <br>  Personally, I spent about a day studying the description, a few minutes to install plus half an hour to find out how to work with the simplest option, indexing three documents and playing with the results. <br>  Another day was spent writing a program on my lap for indexing an already working volume of data to assess its performance and a day for studying and testing the client-server architecture. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>Standard installation with default parameters:</strong> <br>  $ ./configure <br>  $ make <br>  $ make install <br>  Availability required: <br>  - libiconv - part of glibc; <br>  - zlib - for data compression <br>  - QDBM - the product of the same FalLabs, embedded database.  Installation is the same, the above scheme. <br><br>  <strong>Indexing.</strong> <br>  To be indexed, the document should be presented in the format ‚Äúdocument draft‚Äù - its own format ideologically close to the format of the http protocol - header / empty line / text. <br>  The header lists the attributes in the format "@ attribute = value".  One line - one attribute. <br>  Text is plain plain text.  The file is encoded utf-8. <br><br>  <strong>Job.</strong> <br>  1. The simplest option is the command line. <br>  The estcmd utility creates a search index, manages it and allows you to search.  When you specify the -vh option, the search result is quite readable; it is issued with snippets in a multipart format.  The first line is the block separator.  The first block is the header-result of the query - how many documents are there in total, the search time, the number of documents for each of the words, etc.  Parsing this issue is easy and pleasant. <br>  For this option, the package has a simple cgi-script, you can search in a more familiar way, through the browser. <br>  If you want something more beautiful in your design - parse the issue with any convenient tool for you. <br>  2. A more complex option is client server. <br>  It is desirable for multiplayer work with a search engine base.  Plus, if in the first option with each call, some time is spent on opening the database, then in this case we save on this operation, and of course, caching the last requests significantly speeds up the issue with repeated calls. <br>  Interfaces to search for this option: <br>  - API for C (documentation with the simplest examples); <br>  - web interface - simple search and database management; <br>  - command line utility estcall - actually sends the same http-requests to the server, search results are similar to those described in the previous paragraph. <br><br>  <strong>Speed ‚Äã‚Äãof work</strong> <br><br>  Testing took place on the same server as last time - Opteron-2218, 2.6GHz, 8G OP, HDD 73G + 143G sas. <br>  This time all the work was done on one of the 143-gigabyte drives. <br>  Initial data - 3224992 posts from forums of one project, totaling about 700 Mb. <br>  <strong>Indexing data.</strong>  The data were uploaded in chunks of 5000 files, converted to utf-8 and indexed. <br>  - the first option, the command line - 6 hours, almost minute per minute; <br>  - the second option - files were individually fed to the server - about 10.5 hours. <br>  Slow?  Yes.  Compared with Sphynx - turtle.  But for the initial filling of the index time is quite acceptable.  And how many projects do we have with such volumes?  And for the current replenishment of the index with new documents, such speeds are more than enough.  I did not find data on LiveJournal, on the main page of Liveinternet.ru. At the moment (11:47, 03/01/2011), according to the diaries, it says ‚Äú4518 messages in the last hour‚Äù is about 75 posts per second, roughly comparable to the resulting indexing speed. according to the second option (85 posts per second).  For Lyre, this search engine is no good, but how many sites with similar traffic? <br><br>  <strong>Disk resources:</strong> <br>  - the index obtained by the first options takes about 5.3 Gb on disk; <br>  - the index obtained by the second variant is about 6.3 Gb. <br>  Why so - I do not understand.  Perhaps it somehow depends on the possibility of simultaneous operation of the server with multiple indexes, the internal name "node" (node). <br><br>  <strong>Search speed.</strong> <br>  Unfortunately, I haven‚Äôt been able to collect more or less detailed statistics on this issue.  I did not arrange mass bombing with inquiries.  I can share my subjective feelings: <br>  1. The first requests for a freshly built index are processed for quite a long time - about one and a half seconds. <br>  2. Repeat the same requests, as well as moving between the pages of a given request - no more than 1 hundredth of a second. <br>  3. Verbose queries are processed longer.  For example, a request of 5 words (looking for the remnants of the last spam mailing) even spent about 0.17 seconds per page. <br>  I made all the requests through the web interface of the search engine server. <br><br>  <strong>Findings.</strong> <br><ul><li>  The power of this search engine is enough for most sites, with the exception, perhaps, of large media, LJ-level blogs and the like. </li><li>  Installation, configuration and operation with it is quite simple and does not require high qualifications and an individual. </li><li>  In fact, with the help of Hyper Estraier you can index any documents from where you can draw text.  References to some parser programs of other formats are given in the documentation.  Also available own crawler for indexing web pages. </li></ul><br><br>  I'm going to run it in a group of forums with traffic of 10-20 thousand posts / comments per day. <br><br>  <strong>Ps.</strong>  I considered not all the features of Hyper Estraier.  If I understand correctly, it is possible to search by several index-nodes at once, as well as a multi-machine version of work.  So it is possible that the real "power" of the engine can be much higher than what I could achieve.  For those who like to test-torment, the work remains :) </div><p>Source: <a href="https://habr.com/ru/post/113084/">https://habr.com/ru/post/113084/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../113077/index.html">6 reasons why you should not write functional specifications</a></li>
<li><a href="../113078/index.html">Web developer pitfalls</a></li>
<li><a href="../113079/index.html">Bluetooth controlled machine</a></li>
<li><a href="../113080/index.html">Researchers manage to fingerprint clothes</a></li>
<li><a href="../113083/index.html">Feature List: I can! (I Can-Do!)</a></li>
<li><a href="../113085/index.html">We design rating evaluation</a></li>
<li><a href="../113086/index.html">Telecommunications market in Russia - what, where, how, how much</a></li>
<li><a href="../113087/index.html">Combo avatars VKontakte</a></li>
<li><a href="../113088/index.html">QIWI Visa Card as a means of payment in other EPS</a></li>
<li><a href="../113089/index.html">Completion and main functionality of Nokia E7</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>