<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data Recovery from the DVR</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For many years, DATALABS has brought disks and flash drives from video surveillance systems to our data recovery center . This stationary and DVRs and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data Recovery from the DVR</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ab1/1f6/5d1/ab11f65d19bf47aba016f3cbacc21ba4.JPG" alt="image"><br><br>  For many years, <a href="http://datalabs.ru/">DATALABS has</a> brought disks and flash drives from video surveillance systems to our data recovery <a href="http://datalabs.ru/">center</a> .  This stationary and DVRs and car recorders.  Mostly single-disk, but there are also many disk ones, and automobile ones, as a rule, with microSD. <br>  Under the review of the cut as the process of recovery. <br><br><a name="habracut"></a><br>  Problems of data loss are different: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1. Initializing Windows. </h4><br>  The data on the disk was.  Either they did not know about the software on the manufacturer‚Äôs website, or there is no such software on the website at all, but they wanted to merge the necessary event onto the computer.  Most often a different kind of crime. <br>  Since in the vast majority of DVRs, in the zero sector there is no standard Windows bootloader, that is, there is no magic signature "55AA", the Windows proposes to initialize the disk, with which the people successfully agree and thus kill the zero sector with the registrar info.  And not always only zero ... <br>  The classic Windows XP is zero sector, but other Windows like GPT, that is, EFI, and it rubs and the beginning and end of the disk.  The trouble is that in some DVRs service information is not stored at the beginning, but in the last sectors of the disk. <br>  Data recovery in such cases is reduced to installing an empty disk in the DVR, formatting through the menu and subsequent analysis of the initial and last sectors.  Sometimes you can stupidly replace the sector, but in most cases you need to edit it, because there may be information about the size of the disk, the beginning and end of the video stream, and something else that the Chinese brothers climb into their heads.  If the substitution occurred successfully, then you can open the disk with software from the manufacturer‚Äôs website, or on the recorder itself. <br><br>  Avtech AVC-776 zero sector example <br><br><img src="https://habrastorage.org/files/f68/37a/e5a/f6837ae5a3f5478c827e0d141dcb39e8.PNG" alt="image"><br><br><h4>  2. Rhinos polazili on the menu. </h4><br>  The data on the disk was.  But not qualified people inadvertently or intentionally press the disk cleaning in the menu of the recorder itself.  This is perhaps the most terrible cases, in terms of the complexity of data recovery.  As the main service data, calendars, attributes of occupancy and other delights rub. <br>  There will have to seriously re-engineer the storage device on the disk.  The naive people incite the usual recovery programs, but naturally they get a banana.  In 95% of DVRs, typical file structures are not used, in spite of the fact that everyone has it written in Linux, it‚Äôs not a fact that ext2 / 3 / xfs is used.  So it‚Äôs pointless to search for files. <br>  You can restore it in two ways, figure out how the stream is described, or cut the stream itself.  The second is in most cases easier, find where the description of the camera number is and scatter the stream around the cameras, then convert the resulting files into a digestible format with the same virtualdab or similar software.  In both cases, you have to write software. <br>  Pitfalls can be such: it is not always possible to programmatically emulate the operation of the recorder processor, that is, the encoding program cannot convert it, here you can try to feed these files to the software from the vendor vendor (if there is one).  This software may not swallow the stream in a stupid, you will need to download backup files from the registrar and watch their structure.  When backing up the recorder can form a header above the stream, you will need to deal with this header to form your own.  The worst thing is that when these files are converted right away, let's say avi, and the stream there is no longer the same as on the disk, it will not work for analysis. <br>  Although there is something pleasant in modern recorders, most people write in the H.264 kodak and the soft coding will easily swallow the stream, or even a freebie when you can give the file with the stream the extension mpeg and feed the Vlc ... But again, don't forget about the cameras, maybe one a frame from one camera, followed by one frame from another, etc., and maybe 25 frames each, and maybe even pieces of time. <br>  If nothing happened with the stream, you need to force the registrar to show the data.  From the point of view of reengineering this is the most difficult.  Understand where and how the data is described, write the software that will regenerate it, blow it back to the registrar, sometimes this does not take weeks, but clients usually need it urgently ... after all, soon the court))) (almost wrote doomsday)) <br>  Thank God, if the software for such a registrar has already been written, nothing needs to be drawn, but the variety of registrars is great and we have a case, then a holiday. <br><br> <a href="http://www.datalabs.ru/pages/recoveryvr"><img src="https://habrastorage.org/files/85e/315/91f/85e31591f2e64b59bd60a882b0b8d17f.png" alt="image"></a> <br><br><h4>  3. Passed the cycle. </h4><br>  Often turn when the video was needed now, and the event was a long time ago.  The discs on the recorders are not rubber and, depending on the quality of the picture and the number of cameras, they write a certain time interval, and then they begin to fray the old data, well, in a circle in general. <br>  In most cases, there is nothing to catch, since everything is ground.  But there were rare cases when the cycle has just begun and you can search "in the tail" for some scraps. <br><br><h4>  4. The recorder broke down. </h4><br>  Well, there is no need to restore anything, the data remains on the disk.  However, there is an ambush that the manufacturer‚Äôs website does not have software capable of displaying video from a disk, then either look for the exact same DVR or still restore the data using the methods described above. <br><br><h4>  5. Automotive. </h4><br>  There are two evils: deletion and underwriting. <br>  Any software from the Internet can cope with remote ones, since there is a file structure and files as such, the main thing is not to write after deletion. <br>  But with the lack of recording more difficult, then the software will not help.  Pens, my friend, pens.  Automotive store files MOV, AVI, etc.  that is, it is already containers with a decorated flow.  With its ‚Äúcap‚Äù, ‚Äúatoms‚Äù, etc., there are articles in nete about their structure. <br>  The registrar creates, empty or with minimal data, a header-header, then writes the video stream directly and only at the end of the recording forms a valid header, thus a normal file is obtained. <br>  At the time of the accident, either a flash drive crashes out of the DVR, or a battery crashes, or God's providence (rather, Satan) does not allow a valid hider to form and the file is not working. <br>  To restore such a file requires serious meditation and knowledge of the format. <br>  It happens and a freebie, if the format of the DVR MJPEG.  When the stream is a bunch of JPG images.  Stupidly recovering all the jeeps, and doing the video with the notorious muvmeykerom.  Although some clients like the storyboard, because the accident is a matter of seconds and in personnel as in the matrix). <br><br>  Well, that's all like, the rest will answer in the comments. </div><p>Source: <a href="https://habr.com/ru/post/232771/">https://habr.com/ru/post/232771/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../232755/index.html">20 most popular speeches of all time at the TED conference</a></li>
<li><a href="../232757/index.html">The expressive simplicity of python on the example of tasks from combinatorics</a></li>
<li><a href="../232761/index.html">Web mapping and SVG effects</a></li>
<li><a href="../232767/index.html">Grafana - a convenient dashboard for metrics</a></li>
<li><a href="../232769/index.html">Habraklany</a></li>
<li><a href="../232775/index.html">Cheat Sheets Added in C ++: Implicitly Generated Relocation Constructor and Assignment Operator</a></li>
<li><a href="../232779/index.html">Microsoft will close support for unsafe versions of Internet Explorer in 2016</a></li>
<li><a href="../233395/index.html">Xamarin.Forms not ready for combat conditions?</a></li>
<li><a href="../233405/index.html">About using sed1335 in stm32f103 microcontrollers</a></li>
<li><a href="../233407/index.html">Self-lining structures</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>