<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tank - your robot on the Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Let's program the robot based on Arduino. 
 I will begin with the theory and description of all that is useful to us. 



 Let me remind you that Ardu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tank - your robot on the Arduino</h1><div class="post__text post__text-html js-mediator-article"> Let's program the robot based on Arduino. <br>  I will begin with the theory and description of all that is useful to us. <br><br><img src="http://s43.radikal.ru/i102/1004/42/37f5cd1e43e3.jpg" alt="image"><br><br>  Let me remind you that <a href="http://ru.wikipedia.org/wiki/Arduino">Arduino</a> is a hardware computing platform, the main components of which are a simple I / O board and the development environment in the language Processing / Wiring.  The documentation for the hardware and software code is published under the license ‚Äúcopyleft‚Äù, but the developers expressed their desire that the name ‚ÄúArduino‚Äù be a trademark for the official product and not be used for derivative works without permission.  <a href="http://www.arduino.cc/en/Main/Policy">The document on the use of the name Arduino</a> emphasizes that the project is open to all comers. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Until recently, the creation of robots was considered a very difficult procedure, requiring the developer high qualifications and special education, as well as a long time to develop.  But with the advent of Arduino boards, almost everyone who is at least familiar with programming can afford this occupation!  Easier nowhere, but first things first. <br><a name="habracut"></a><br><br>  The Arduino board consists of an Atmel AVR microcontroller and an element strapping for programming and integration with other circuits.  Each board must contain a linear voltage regulator 5 V and 16 MHz crystal oscillator.  The microcontroller is pre-flashed bootloader, so an external programmer is not needed. <br><br>  The Arduino project is constantly evolving and has many modifications.  At the moment, there are 10 versions of boards available, but the Arduino Diecimila board was used specifically in this project.  It is a small electronic board, the core of which is an ATmega168 microcontroller.  The board has: 14 digital inputs / outputs, 6 of which can operate in PWM mode (and therefore control analog devices like motors and transfer binary data), 6 analog inputs, a 16 MHz clock generator, power connectors and USB, An ICSP port (something like a serial interface for digital devices), several control LEDs and a reset button.  This is quite enough to connect the board to the USB port of the computer, install the necessary software (driver and development environment) and start programming. <br><br><img src="http://i056.radikal.ru/1004/f6/bdbea59407e0.jpg" alt="image"><br>  The appearance of the Arduino Diecimila board. <br><br>  <b>Brief specification</b> <br><br>  Microcontroller: ATmega168 <br>  Operating voltage: 5 V <br>  Input voltage (recommended): 7-12 V <br>  Input voltage (limits): 6-20 V <br>  Digital I / O ports: 14 ports (including 6 with a PWM signal) <br>  Analog input ports: 6 ports <br>  Current for ports: 40 mA <br>  Current for 3.3V source: 50 mA <br>  PROM (Flash Memory): 16 KB (of which 2 KB are used by the bootloader) <br>  RAM (SRAM): 1 KB <br>  ROM (EEPROM): 512 bytes <br>  Clock frequency: 16 MHz <br><br>  <b>What is needed to make your robot?</b> <br><br>  A robot can be assembled, as many enthusiasts do, but you can also rework an existing one.  Any toy with moving parts is suitable as a robot.  In my case, it is a tank with moving tracks driven by built-in motors (the tank had a remote control).  I will manage these motors with the help of the board. <br><br>  An important step, of course, is getting one of the Arduino boards at your disposal.  In my case, this is the Arduino Diecimila board.  Also, a USB cable of any length standard AB is required to connect the board to the computer.  This cable will exchange data between the computer and the microcontroller, as well as supply power to the board, i.e.  external power supply is optional.  Another component that is required for motor control is the MotorShield expansion board. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/665/612/5b6/6656125b648dfd32a81db49123491d32.jpg" alt="image"><br>  MotorShield expansion board and kit parts. <br><br><img src="http://s14.radikal.ru/i187/1004/5d/a4b8ba7020c7.jpg" alt="image"><br>  What and how to connect to MotorShield. <br><br>  Next, you need to determine the goals: I need to attach a remote control to an existing toy tank, but not the usual ‚Äúwhere I clicked - I went there‚Äù, but one in which coordinates would be transmitted to the tank on an imaginary field and it would reach them independently.  Those.  you need to imagine that the room (or any other area through which the tank will move) is divided into squares, which is a coordinate system.  Then the tank will need to transfer the coordinates of a square and it will have to turn to it and travel the required distance to become in this square. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/24c/d1a/456/24cd1a456a3a12c926de3f95a88f37ee.jpg" alt="image"><br>  Toy tank with a motherboard. <br><br><img src="http://s51.radikal.ru/i134/1004/27/8659d60aa13e.jpg" alt="image"><br>  The motherboard is clearly more Arduino board :). <br><br>  There is a tank with motors, there is a board, there is an expansion board.  Necessary means for the transfer of coordinates.  This will be a program on the user's computer that will transfer data to the tank via Wi-Fi connection.  I should note that the Wi-Fi is not understandable to the board, so the tank also has a regular motherboard (later replaced with a laptop), which will transmit data from the Wi-Fi adapter to a COM port through which the connection to the Arduino board will be.  From her signals will already come to the expansion card, and the motors will have to spin.  The task is to write two programs: one for transferring data from the computer to the Wi-Fi adapter, the other for processing data inside the microcontroller. <br><br><img src="http://s42.radikal.ru/i098/1004/1c/7fe52adb910c.jpg" alt="image"><br><br>  <b>So let's go!</b> <br><br>  You can write the program, which is responsible for data exchange between the PC and the microcontroller via the COM port, on anything.  Let it be Delphi. <br><br>  For brevity, I‚Äôll give the source code only for the function that will send commands to the tank that are responsible for turning and moving to the desired angle / distance.  The function accepts current coordinates (x0, y0), new coordinates (x1, y1), and the current angle of rotation of the alpha tank.  The return function will be the new current angle.  Current coordinates and angle are stored outside the function.  The code is commented in the right places, so I will not describe. <br><br> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> <blockquote> <code><code><font color="black"><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> Copy Source | Copy HTML <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></font></code></code> <ol> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><font color="#0000ff"><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   begin //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></font></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li></li><li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><font color="#0000ff"><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> begin angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></font></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><font color="#0000ff"><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  end <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></font></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><font color="#0000ff"><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> begin angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></font></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><font color="#0000ff"><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  end <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></font></code></code> </li> <li> <code><code><font color="#0000ff"><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> else begin angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></font></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li></li><li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li></li><li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li></li><li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li></li><li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li></li><li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li></li><li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> <li> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ; <br> <br></code></code> </li> </ol></blockquote> <code><code><a href="http://s-c.me/6754/s"></a> <a href="http://s-c.me/6754/h"></a> <font color="black">Copy Source | Copy HTML</font> <font color="#0000ff">Function</font> MoveTank(x0, y0, x1, y1, alpha: <font color="#0000ff">integer</font> ): <font color="#0000ff">integer</font> ; <font color="#0000ff">var</font> newAlpha: <font color="#0000ff">integer</font> ; //   FlagsField : byte; //     angle_tmp: <font color="#0000ff">integer</font> ; TmpStr: string; angle, dist: byte; //   ,   <font color="#0000ff">begin</font> //     newAlpha := Round(ArcTan(Abs((x0-x1)/(y0-y1)))); //     angle_tmp := (360 + newAlpha - alpha) mod 360; //     dist := Round(10*Sqrt(Sqr(x0-x1) + Sqr(y0-y1))); FlagsField := 0; //     <font color="#0000ff">if</font> angle_tmp &lt;= 90 <font color="#0000ff">then</font> FlagsField := 0 // ,  <font color="#0000ff">else if</font> angle_tmp &lt; 180 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := 180 - angle_tmp; FlagsField := FlagsField <font color="#0000ff">or</font> 4; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else if</font> angle_tmp &lt; 270 <font color="#0000ff">then</font> <font color="#0000ff">begin</font> angle_tmp := angle_tmp - 180; FlagsField := FlagsField <font color="#0000ff">or</font> 6; // ,  <font color="#0000ff">end</font> <font color="#0000ff">else begin</font> angle_tmp := angle_tmp - 270; FlagsField := FlagsField <font color="#0000ff">or</font> 2; //,  <font color="#0000ff">end</font> ; angle := angle_tmp; //     COM-  ,  . FlagsField:= FlagsField <font color="#0000ff">or</font> 1; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(angle); ComPort_. <font color="#0000ff">Write</font> (TmpStr); FlagsField:= FlagsField <font color="#0000ff">and</font> 254; //    TmpStr := Chr(FlagsField); ComPort_. <font color="#0000ff">Write</font> (TmpStr); TmpStr := Chr(dist); ComPort_. <font color="#0000ff">Write</font> (TmpStr); <font color="#0000ff">Result</font> := newAlpha; <font color="#0000ff">end</font> ;</code> <br> <br></code> <br><br>  The next step is to write a program for flashing it to the board.  All we need is to accept data from the serial port and process the incoming command, including the rotation of the engines of the tank in the right direction.  The motors are turned on for a certain time and the duration of this time is achieved by moving to the required distance. <br><br>  The program for receiving data uses pin number 9 (TxD).  Accordingly, the 2nd contact of the motherboard COM port (RxD) must be connected to pin number 9 on the Arduino.  Another requirement: you need to configure the motherboard COM port for a speed of 9600 baud. <br><br>  To control the movement of the tank, we will use two motors - for the left and right tracks (M1 and M2 connectors on the Motor Shield).  To simplify the work with motors, we use the AFMotor framework, which is easily connected to our project with one line ‚Äú#include‚Äú AFMotor.h ‚Äù‚Äù.  Motors denote the numbers 1 for the left and 2 for the right tracks.  In the code below, it is clear that working with motors is not a big deal. <br><br><blockquote> <code><a href="http://s-c.me/6756/s"></a> <a href="http://s-c.me/6756/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#0000ff">#include "AFMotor.h"</font> <font color="#008000">// library for easy handling of engines</font> </li><li></li><li>  <font color="#0000ff">#define</font> TX <font color="#0000ff">9</font> <font color="#008000">// pin to Arduino where the output from the COM port is connected</font> </li><li></li><li>  <font color="#008000">// coding commands from the joystick</font> </li><li></li><li>  <font color="#0000ff">#define</font> cmdForward <font color="#0000ff">1</font> </li><li>  <font color="#0000ff">#define</font> cmdBackward <font color="#0000ff">2</font> </li><li>  <font color="#0000ff">#define</font> cmdRapid <font color="#ff0000">Left</font> <font color="#0000ff">3</font> </li><li>  <font color="#0000ff">#define</font> cmdRapid <font color="#ff0000">Right</font> <font color="#0000ff">4</font> </li><li>  <font color="#0000ff">#define</font> cmd <font color="#ff0000">Left</font> <font color="#0000ff">5</font> </li><li>  <font color="#0000ff">#define</font> cmd <font color="#ff0000">Right</font> <font color="#0000ff">6</font> </li><li></li><li>  <font color="#008000">// speed of rotation of engines</font> </li><li>  <font color="#008000">// MaxSpeed ‚Äã‚Äã- normal motion</font> </li><li>  <font color="#008000">// MinSpeed ‚Äã‚Äã- the speed of one of the tracks during a sharp turn</font> </li><li>  <font color="#008000">// HalfSpeed ‚Äã‚Äã- the speed of one of the tracks with a smooth turn</font> </li><li></li><li>  <font color="#0000ff">#define</font> MaxSpeed <font color="#0000ff">200</font> </li><li>  <font color="#0000ff">#define</font> MinSpeed <font color="#0000ff">100</font> </li><li>  <font color="#0000ff">#define</font> HalfSpeed <font color="#0000ff">150</font> </li><li></li><li>  <font color="#008000">// movement of the tank with the speeds of the left and right tracks LTS and RTS</font> </li><li>  <font color="#008000">// towards Direction</font> </li><li></li><li>  void MoveTank ( <font color="#008000">byte LTS, byte RTS, byte Direction</font> ); </li><li></li><li>  <font color="#008000">// read one byte from the COM port</font> </li><li>  byte COMread (); </li><li></li><li>  <font color="#008000">// stores the command received from the COM port</font> </li><li>  byte <font color="#A31515">Command</font> = <font color="#0000ff">0</font> ; </li><li></li><li>  <font color="#008000">// current direction of travel</font> </li><li>  byte Current <font color="#ff0000">Direction</font> = FORWARD; </li><li></li><li>  <font color="#008000">// select the 1st and 2nd connectors on the Motor Shield, where the engines are connected</font> </li><li>  AF_DCMotor <font color="#ff0000">Left</font> Track ( <font color="#008000">1, MOTOR12_1KHZ</font> ); </li><li>  AF_DCMotor <font color="#ff0000">Right</font> Track ( <font color="#008000">2, MOTOR12_1KHZ</font> ); </li><li></li><li>  void setup () </li><li>  { </li><li>  <font color="#ff0000">Left</font> Track.setSpeed ‚Äã‚Äã( <font color="#008000">MaxSpeed</font> ); </li><li>  <font color="#ff0000">Right</font> Track.setSpeed ‚Äã‚Äã( <font color="#008000">MaxSpeed</font> ); </li><li>  pinMode ( <font color="#008000">TX, INPUT</font> ); </li><li>  } </li><li></li><li>  void loop () </li><li>  { </li><li>  <font color="#A31515">Command</font> = COMread (); </li><li>  switch ( <font color="#008000">Command</font> ) </li><li>  { </li><li>  case cmdForward: </li><li>  MoveTank ( <font color="#008000">MaxSpeed, MaxSpeed, FORWARD</font> ); </li><li>  Current <font color="#ff0000">Direction</font> = FORWARD; </li><li>  break; </li><li>  case cmdBackward: </li><li>  MoveTank ( <font color="#008000">MaxSpeed, MaxSpeed, BACKWARD</font> ); </li><li>  Current <font color="#ff0000">Direction</font> = BACKWARD; </li><li>  break; </li><li>  case cmdRapid <font color="#ff0000">Left</font> : </li><li>  MoveTank ( <font color="#008000">MinSpeed, MaxSpeed, CurrentDirection</font> ); </li><li>  break; </li><li>  case cmdRapid <font color="#ff0000">Right</font> : </li><li>  MoveTank ( <font color="#008000">MaxSpeed, MinSpeed, CurrentDirection</font> ); </li><li>  break; </li><li>  case cmd <font color="#ff0000">Left</font> : </li><li>  MoveTank ( <font color="#008000">HalfSpeed, MaxSpeed, CurrentDirection</font> ); </li><li>  break; </li><li>  case cmd <font color="#ff0000">Right</font> : </li><li>  MoveTank ( <font color="#008000">MaxSpeed, HalfSpeed, CurrentDirection</font> ); </li><li>  break; </li><li>  <font color="#0000ff">default</font> : </li><li>  <font color="#ff0000">Left</font> Track.run ( <font color="#008000">RELEASE</font> );  <font color="#008000">// stop the engines</font> </li><li>  <font color="#ff0000">Right</font> Track.run ( <font color="#008000">RELEASE</font> ); </li><li>  break; </li><li>  } </li><li>  } </li><li></li><li>  void MoveTank ( <font color="#008000">byte LTS, byte RTS, byte Direction</font> ) </li><li>  { </li><li>  <font color="#ff0000">Left</font> Track.setSpeed ‚Äã‚Äã( <font color="#008000">LTS</font> ); </li><li>  <font color="#ff0000">Right</font> Track.setSpeed ‚Äã‚Äã( <font color="#008000">RTS</font> ); </li><li>  <font color="#ff0000">Left</font> Track.run ( <font color="#008000">Direction</font> ); </li><li>  <font color="#ff0000">Right</font> Track.run ( <font color="#008000">Direction</font> ); </li><li>  } </li><li></li><li>  byte COMread () </li><li>  { </li><li>  byte val = <font color="#0000ff">0</font> ; </li><li>  while ( <font color="#008000">digitalRead (TX</font> )); </li><li>  <font color="#008000">// waiting for the start bit</font> </li><li>  if ( <font color="#008000">digitalRead (TX</font> ) == <font color="#0000ff">LOW</font> ) </li><li>  { </li><li>  delayMicroseconds ( <font color="#008000">42</font> ); </li><li>  for ( <font color="#008000">int k = 0; k &lt;8; k ++</font> ) </li><li>  { </li><li>  delayMicroseconds ( <font color="#008000">84</font> ); </li><li>  val | = digitalRead ( <font color="#008000">TX</font> ) &lt;&lt; k; </li><li>  } </li><li>  <font color="#008000">// waiting for the 9th bit and stop</font> </li><li>  delayMicroseconds ( <font color="#008000">168</font> ); </li><li>  return val; </li><li>  } </li><li>  } </li></ol></blockquote><br><br>  It remains only to flash this program in the Arduino (and this is done by pressing a single button in the Arduino IDE interface) and you can have fun sending the tank to the rear of the enemy :). <br><br>  <strong>Conclusion</strong> <br><br>  Of course, you can not be limited to simply sending coordinates.  You can add interactivity by using the joystick to control the tank.  And using a webcam attached to the turret of the tank, you can watch the movement while sitting at the computer.  But this will require additional software.  But even this does not make programming Arduino something overwhelming.  Working with such a board is easy, easy, and most importantly - affordable!  But no, the main thing is to receive a lot of pleasure both from the result and from the process itself! <br><br><habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/90590/">https://habr.com/ru/post/90590/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../90577/index.html">Password Managers RoboForm and Kaspersky Password Manager</a></li>
<li><a href="../90580/index.html">A few words about the size of structures in C / C ++ and why this happened</a></li>
<li><a href="../90583/index.html">Dropbox and document collaboration</a></li>
<li><a href="../90585/index.html">4 answers that will bring you money</a></li>
<li><a href="../90587/index.html">The combination of multi-touch and pen input</a></li>
<li><a href="../90591/index.html">MOPSLinux will no longer be?</a></li>
<li><a href="../90594/index.html">Zend_Search_Lucene + PHPMorphy is easy</a></li>
<li><a href="../90597/index.html">The book "A Brief History of Time" written by Stephen Hawking</a></li>
<li><a href="../90598/index.html">IE9 supports TIFF, JPEG XR and ICC 4 color profiles</a></li>
<li><a href="../90599/index.html">iPhone OS 4 beta is available for registered developers.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>