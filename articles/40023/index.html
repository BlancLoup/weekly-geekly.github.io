<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ajax machine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Did the Netscape LiveScript developers know what impact their language, later renamed JavaScript, had on the face of the Internet ‚Äî websites, or maybe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ajax machine</h1><div class="post__text post__text-html js-mediator-article">  Did the Netscape LiveScript developers know what impact their language, later renamed JavaScript, had on the face of the Internet ‚Äî websites, or maybe they were firmly counting on it, but the fact remains that JavaScript is one of the most important and common languages ‚Äã‚Äãin the world. <br><br>  While a motley company of languages ‚Äã‚Äãworks on the server side in the face of php, perl, python, ruby, .net, java and many others, on the client side JavaScript exists literally in splendid isolation.  In fact, from a small addition to html, JavaScript turned into a full member of the html + css + js gang, which often already commands the rest, glittering with a gold bracelet with the words ‚Äúajax‚Äù and making a disgruntled person $ () on occasion. <br><a name="habracut"></a><br><blockquote>  This material is not an attempt to comprehend the immensity; rather, it is an attempt to eat a good immense. <br></blockquote><br><h2>  What is the article and for whom it is intended </h2><br>  In this article, I attempted to describe a comprehensive way to build <a href="http://ru.wikipedia.org/wiki/Rich_Internet_Applications">Rich Internet Applications</a> using JavaScript ‚Äî the AJAX-Machine pattern.  The target audience of the article is the RIA developers and their sympathetic programmers and managers.  Today, the need for Rich Internet Applications arises in various areas of web development: browser games, personal managers, commodity and workflow systems, business process management systems ‚Äî i.e.  any web application that requires complex logic on the client side.  In the RIA-form, even traditional desktop applications are often reincarnated: mail clients, IM, various editors, and even operating systems! <br><br>  I want to immediately warn a respected reader that this material: <br><ul><li>  firstly, it is not an entertaining article, often the story goes rather dry, moreover, it requires some knowledge of web development from the reader; </li><li>  secondly, it was written by me personally, therefore, it is subjective, although I tried to be as unbiased as possible in the process; </li><li>  thirdly, because of the desire for brevity, many things are poorly lit, or else, not at all; </li><li>  and finally, fourthly, I would like to honestly warn you that I may not know all the subtleties and nuances of the topic covered, so I will gladly accept help in the comments. </li></ul><br>  Everything else, I am sure that I am not a pioneer of the idea;  I see my task in some systematization of the material and an attempt by modest forces to convey to the distinguished reader the essence of the idea.  I would like to emphasize that the area of ‚Äã‚Äãcompetence of the article is only the development process of Rich Internet Applications;  This article does not claim to interfere with the approach to the development of classic websites: portals, blogs, news feeds and others. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>So, with the permission of the reader, let's start!</i> <br><br><h1>  Do I need javascript for the web? </h1><br><br>  The reader may rightly note that I started the article with a very immodest paragraph, giving js the status of an important and very common language.  Is this true in reality? <br><br>  The fact is obvious that js is by default considered to be supported on a computer if there is a full-featured graphical browser there.  At the moment - this is a huge number of computers.  However, does js have a chance of being recognized by large companies, like a mature language and, in full, sufficient for writing the RIA?  I offer the reader several arguments: <br><br><h2>  Who needs javascript? </h2><br><br><table><tbody><tr><th colspan="2">  Adobe AIR </th></tr><tr><td><img src="http://img517.imageshack.us/img517/6281/airtd5.png" alt="Adobe AIR logo" title="Adobe AIR logo" align="left" height="95" width="95"></td><td>  <a href="http://ru.wikipedia.org/wiki/Adobe_Integrated_Runtime">AIR</a> (Adobe Integrated Runtime) is an application runtime environment that allows you to use HTML / CSS / JavaScript, Adobe Flash, and Adobe Flex to transfer web applications (RIAs) to desktops.  AIR-applications can exchange information with the Internet, use some features of the OS on which they are launched (for example, work with a tray / dock), as well as store data locally using the SQLite database.  In essence, AIR is a browser based on the WebKit engine, with specific features available through the JavaScript-API.  Supported platforms: Microsoft Windows NT, Mac OS X, alpha version for GNU / Linux. </td></tr><tr><th colspan="2">  iphone </th></tr><tr><td><img src="http://img257.imageshack.us/img257/1333/iphoneqd1.png" alt="iPhone" title="iphone" align="left" height="95" width="95"></td><td>  <a href="http://ru.wikipedia.org/wiki/IPhone">The iPhone</a> is a family of mobile phones running on a modified MacOS X OS. Initially, the creator company, Apple, did not allow third-party developers to write native applications for the iPhone, offering to create optimized web applications (html + css + js).  Only after some time came the iPhone SDK, which allowed to write full-fledged "desktop" programs, but the ability to create web applications has not disappeared, and is still relevant today. </td></tr><tr><th colspan="2">  Google gears </th></tr><tr><td><img src="http://img352.imageshack.us/img352/7292/gearsxo8.png" alt="Google Gears logo" title="Google Gears logo" align="left" height="95" width="95"></td><td>  <a href="http://ru.wikipedia.org/wiki/Google_Gears">Google Gears</a> is an open source development from Google that allows the use of web applications offline.  All popular browsers are supported :, Firefox, Internet Explorer, Safari (doubts arise with Opera, but they <a href="http://www.opera.com/pressreleases/en/2008/05/29/">promised</a> ) and, of course, Chrome.  Gears is a special plugin that forces the browser to work with the local page cache (based on SQLite), periodically synchronizing the cache with an online source.  A bridge between Gears and client code is thrown using JavaScript. </td></tr><tr><th colspan="2">  Mozilla prizm </th></tr><tr><td><img src="http://img257.imageshack.us/img257/1297/prismle1.png" alt="Mozilla Prizm logo" title="Mozilla Prizm logo" align="left" height="95" width="95"></td><td>  <a href="http://en.wikipedia.org/wiki/Mozilla_Prism">Mozilla Prizm</a> is a Mozilla development using the Firefox engine.  In short, Prism, basically, allows you to do two things - create desktop shortcuts for websites and open them in independent environments (a separate browser process, with hidden system menus, etc.) as if it were a program on your computer. local pc.  In conjunction with Google, Gears is able to compete with AIR from Adobe, or even vice versa, to give odds, because FF + GG has a cross-platform solution - 100% support for Linux, MacOS and Windows - and even open source. </td></tr><tr><th colspan="2">  Google v8 </th></tr><tr><td><img src="http://img352.imageshack.us/img352/2246/chromeqh0.png" alt="Google Chrome logo" title="Google Chrome logo" align="left" height="87" width="87"></td><td>  <a href="http://code.google.com/p/v8/">V8</a> is a high-performance JavaScript interpreter that implements the ECMA-262 standard.  Works on Windows XP, Vista, Mac OS X 10.5 (Leopard) and Linux-based systems on IA-32 and ARM processors.  <a href="http://ru.wikipedia.org/wiki/V8_%25D0%25B4%25D0%25B2%25D0%25B8%25D0%25B3%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C">Hint!</a>  V8 is implemented in C ++ and can be used as a stand-alone interpreter or as embedded in any C ++ application.  Everyone knows that V8 is built into Chrome by default.  It is claimed that the interpreter is very fast due to the translation of the code into on-the-fly processor instructions ( <a href="http://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D0%25BD%25D0%25B0%25D0%25BC%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25B8%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F">JIT</a> ). </td></tr><tr><th colspan="2">  Tracemonkey </th></tr><tr><td><img src="http://img257.imageshack.us/img257/4953/ffgu1.png" alt="FireFox logo" title="Firefox logo" align="left" height="95" width="95"></td><td>  TraceMonkey - New <a href="http://ejohn.org/blog/tracemonkey/">fast</a> JavaScript engine for Firefox, also based on the JIT principle.  It works on x86, x86-64, and ARM processors - by the way, like the V8, it can fully work on some types of mobile devices.  By all indications, it will appear in FF by the end of the year, although it can be <a href="http://habrahabr.ru/blogs/firefox/37901/">tried</a> right now. </td></tr></tbody></table><br><br><h2>  What can javascript do? </h2><br><br>  In order not to get bogged down in the long description of all the paradigms that js supports, all of its capabilities, syntactic constructions and other things, I will give a few small examples.  They are obviously not enough for acquaintance with the language, however, they will still help to form a certain idea of ‚Äã‚Äãthe language. <br><br>  <b>The function can take an arbitrary number of arguments.</b> <br><blockquote>  <font color="black"><font color="#0000ff">function</font> add () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> sum = 0;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt;arguments.length; i ++) {</font> <font color="black"><br></font>  <font color="black">sum + = arguments [i];</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> sum;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">add (1,1,1,1,1);</font>  <font color="black"><font color="#008000">// returns 5</font></font> <font color="black"><br></font>  <font color="black">add (2, 3);</font>  <font color="black"><font color="#008000">// returns 5</font></font> </blockquote><br><br>  <b>The function can be called without any arguments.</b> <br><blockquote>  <font color="black"><font color="#0000ff">function</font> sayMyName (name) {</font> <font color="black"><br></font>  <font color="black">name = name ||</font>  <font color="black"><font color="#A31515">"unknown"</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#A31515">'My name:'</font> + name;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">sayMyName ( <font color="#A31515">'David'</font> );</font>  <font color="black"><font color="#008000">// returns 'My name: david'</font></font> <font color="black"><br></font>  <font color="black">sayMyName ();</font>  <font color="black"><font color="#008000">// returns 'My name: unknown'</font></font> </blockquote><br><br>  <b>Function as a first class object</b> <br><blockquote>  <font color="black"><font color="#0000ff">function</font> add (a, b) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> a + b;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> sub (a, b) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> a - b;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">function</font> doAction (action) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> action (2, 1);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">doAction (add);</font>  <font color="black"><font color="#008000">// returns 3</font></font> <font color="black"><br></font>  <font color="black">doAction (sub);</font>  <font color="black"><font color="#008000">// returns 1</font></font> </blockquote><br><br>  <b>Closures</b> <br><blockquote>  <font color="black"><font color="#0000ff">function</font> someAction () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> firstAction = <font color="#0000ff">function</font> () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#A31515">'Hello,'</font> ;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> secondAction = <font color="#0000ff">function</font> () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> firstAction () + <font color="#A31515">'Habr!'</font></font>  <font color="black">;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> secondAction;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> act = someAction ();</font> <font color="black"><br></font>  <font color="black">act ();</font>  <font color="black"><font color="#008000">// returns 'Hello, Habr!'</font></font> </blockquote><br><br>  <b>OOP <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D1%2582%25D0%25BE%25D1%2582%25D0%25B8%25D0%25BF%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">with nuances</a> <font color="gray">Thank you <a href="https://habrahabr.ru/users/iskin/" class="user_link">Iskin</a></font></b> <br><blockquote>  <font color="black"><font color="#0000ff">function</font> Food (type) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .type = type;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> foo = <font color="#0000ff">new</font> Food ( <font color="#A31515">'orange soda'</font> );</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> bar = <font color="#0000ff">new</font> Food ( <font color="#A31515">'cheeses'</font> );</font> <font color="black"><br><br></font>  <font color="black">foo.type;</font>  <font color="black"><font color="#008000">// returns 'orangeSoda'</font></font> <font color="black"><br></font>  <font color="black">bar.type;</font>  <font color="black"><font color="#008000">// returns 'cheeses'</font></font> </blockquote><br><br>  <b>Dynamic change of objects</b> <br><blockquote> <font color="black"><font color="#0000ff">function</font> Food (type) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .type = type;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">var</font> foo = <font color="#0000ff">new</font> Food ( <font color="#A31515">'orange soda'</font> );</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">var</font> bar = <font color="#0000ff">new</font> Food ( <font color="#A31515">'cheeses'</font> );</font> <font color="black"><br><br></font>  <font color="black">Food.prototype.say = <font color="#0000ff">function</font> () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#A31515">'ORLY!</font></font>  <font color="black"><font color="#A31515">This is'</font> + <font color="#0000ff">this</font> .type + <font color="#A31515">'!'</font></font>  <font color="black">;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">foo.say ();</font>  <font color="black"><font color="#008000">// returns ORLY!</font></font>  <font color="black"><font color="#008000">This is orange soda!</font></font> <font color="black"><br></font>  <font color="black">bar.say ();</font>  <font color="black"><font color="#008000">// returns ORLY!</font></font>  <font color="black"><font color="#008000">This is cheeses!</font></font> </blockquote><br><br>  For the language there are a large number of high-quality free libraries supported by many people around the world. The most popular ones are: <a href="http://jquery.com/">JQuery</a> , <a href="http://www.prototypejs.org/">Prototype</a> , <a href="http://mootools.net/">Mootools</a> , <a href="http://extjs.com/deploy/dev/examples/samples.html">ExtJs</a> , <a href="http://developer.yahoo.com/yui/">Yahoo UI</a> .  Any of these libraries right now is ready to become the basis for writing the RIA user interface.  I apologize to the reader for the lack of description, unfortunately, this is a big topic for a separate article, so I‚Äôm citing only the links. <br><br>  I hope these arguments are convincing enough to consider js an accepted, complete and convenient language suitable for writing RI applications.  And now, if the dear reader did not fall asleep, I turn to the description of what the article was about. <br><br><h1>  AJAX machine </h1><br><blockquote>  The concept of the pattern: We store all the logic on the server, form the entire interface at the client.  The application created by the pattern implements a <a href="http://en.wikipedia.org/wiki/Multitier_architecture">three-tier architecture</a> .  The application is <font color="gray"><a href="https://habrahabr.ru/users/shiko_1st/" class="user_link">loaded</a></font> (all the html, css and js code occurs once, during the first access. <font color="gray">Thanks to <a href="https://habrahabr.ru/users/shiko_1st/" class="user_link">shiko_1st</a></font> and <a href="https://habrahabr.ru/users/jodaka/" class="user_link">jodaka</a> </blockquote><br><br><br>  To make it easier for the reader to understand the essence, I will describe it briefly: the client browser makes a request for the application.  He is immediately given the only html page, all styles, all the necessary js-code for the application and, possibly, all static graphics. <br><br>  After loading the wireframe dom model of the document, JavaScript renders the interface;  In addition, js manages communications with the outside world through ajax requests.  In turn, the server is only engaged in issuing statics and processing ajax requests from the client.  Ideally, the server should not be able to write to the output stream anything other than JSON. <br><br>  The proposed architecture is depicted using the following scheme (depicted by my modest forces, may the reader forgive me): <br><img src="http://img257.imageshack.us/img257/9342/schemaux4.png" alt=" " title="simple scheme" height="400" width="500"><br><br>  The diagram has 3 levels, respectively: <br><ol><li>  Green or Client Level.  At this level, the application creates a user interface in the browser, processes user actions, and sends requests to the server.  For this level, artists, designers and js-programmers work.  Also, at the green level, there may be another server, in case you have opened the API for inter-server communication. </li><li>  Red or Protocol level.  Red color symbolizes a critical area in the development of AJAX-machine - a good format for exchanging data will make the client and server independent of each other, easily distribute the load on several servers, add new features, without architecture modifications.  The red level is provided by http (s) transport, the exchange is in the form of JSON packages.  JSON was not chosen in vain: firstly, it is more compact in terms of the size of the transmitted data compared to pure XML, and secondly, it is the native data format for js. </li><li>  Blue or Server Level.  The ‚Äúserver‚Äù languages ‚Äã‚Äãwork here, as well as the programmers in these languages ‚Äã‚Äã:) The diagram attempted to depict a general view of a scalable solution, with a query router or (and) a load balancer and several servers.  The router is the entry point ( <a href="http://en.wikipedia.org/wiki/Front_Controller_pattern">Front Controller</a> ) of the server, it also has to give statics.  The blue level is the most flexible in terms of architecture, the level of an AJAX machine.  For example, here you can put one very powerful server with FastCGI, or two servers with php, dividing the functionality between them, or in general, dozens of servers with the same functionality with Ruby.  For the server, you can choose any language or even several different languages ‚Äã‚Äãthat satisfy the tasks set, given that they will be required to display only the answers in the form of JSON and dynamic graphics, if there is a need for it. </li></ol><br><br><h3>  Aspects </h3><br>  In the best traditions of bicycle construction, the reader who still loses interest can be offered a good way of modular division of logic - aspects.  An aspect is a logically indivisible process that occurs with your application.  To stop abstruse wording, I will give examples of aspects: ‚ÄúRegistration‚Äù, ‚ÄúNews‚Äù, ‚ÄúAuthorization‚Äù, ‚ÄúMessages‚Äù.  In the ideal case, one aspect should not know anything about the others, interacting only with the database or file system directly.  A well-designed structure of aspects and connections between them allows to distribute the most "heavy" aspects of performance to different servers, or (and) allocate one aspect to several servers with load balancing between them. <br><br>  A very interesting topic to think about, in the context of working with several database servers, however, it goes far beyond the scope of this article, as well as security, unfortunately.  Regarding security, I just want to say a commonplace proven in practice: without a clear understanding by the whole team that the client is in the hands of the enemy, and the server is a besieged fortress, it‚Äôs better not to start a project without a backup, without a logging mechanism and without a good system administrator.  For a large system, in my opinion, it is advisable to keep logs only in the database, but an experienced reader may have his own thoughts, which I hope he will share in the comments. <br><br><h3>  Database </h3><br>  All modern DBMSs allow writing and executing stored procedures, and the developer of a large system is contraindicated to neglect this possibility.  Having developed clear rules for naming procedures and arguments, you can safely shift all heavy queries to the DBMS itself.  It is not at all rational and extremely wasteful to receive a huge sample from the database server so that, after additional processing, to transfer three values ‚Äã‚Äãto the client.  I want to assure a respected reader who is not familiar with the pleasures of stored procedures that: <ul><li>  firstly, writing such procedures is not difficult; </li><li>  secondly, they often provide much greater freedom for data manipulation than the SQL dialect for a particular DBMS; </li><li>  thirdly, they allow to carry out the rough processing and screening of data on the database server, without increasing the traffic between the database server and the application server; </li><li>  fourthly, it is much easier to call one procedure than a query for 400 lines with various parameter substitutions (a sad case of practice). </li></ul><br><br><h3>  Ajax machine script </h3><br>  JavaScript draws an authorization form for the user, the user enters a username and password, a JSON package of the form is sent to the server: <br><blockquote>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">action: <font color="#A31515">'authorization'</font> ,</font> <font color="black"><br></font>  <font color="black">status: <font color="#A31515">'request'</font> ,</font> <font color="black"><br></font>  <font color="black">options: {</font> <font color="black"><br></font>  <font color="black">login: <font color="#A31515">'Vasiliy'</font> ,</font> <font color="black"><br></font>  <font color="black">pass: <font color="#A31515">'********'</font></font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> </blockquote><br><br>  The packet goes through the network to the router, which, at a minimum, checks the packet for the minimum and maximum allowable sizes and for the number of requests from a node per unit of time (to eliminate brute force).  In case everything is good, it sends the data to the ‚ÄúAuthorization‚Äù aspect (it can be a module, a class, a program, a separate server and something else), for example, in a queue, in the form: <br><blockquote>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">action: <font color="#A31515">'authorization'</font> ,</font> <font color="black"><br></font>  <font color="black">status: <font color="#A31515">'in_queue'</font> ,</font> <font color="black"><br></font>  <font color="black">options: {</font> <font color="black"><br></font>  <font color="black">login: <font color="#A31515">'Vasiliy'</font> ,</font> <font color="black"><br></font>  <font color="black">pass: <font color="#A31515">'********'</font></font> <font color="black"><br></font>  <font color="black">},</font> <font color="black"><br></font>  <font color="black">date_in: <font color="#A31515">'25082008-221500'</font></font> <font color="black"><br></font>  <font color="black">}</font> </blockquote><br><br>  The aspect accepts data, and arranges its check for compliance of the packet fields with the reference ones.  If everything is correct, he authorizes the user Vasiliy with the password ********, and sends the following packet to the client: <br><blockquote>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">action: <font color="#A31515">'authorization'</font> ,</font> <font color="black"><br></font>  <font color="black">status: <font color="#A31515">'authorize'</font> ,</font> <font color="black"><br></font>  <font color="black">options: {</font> <font color="black"><br></font>  <font color="black">user_name: <font color="#A31515">'Vasiliy Pomidorov'</font> ,</font> <font color="black"><br></font>  <font color="black">permission: <font color="#A31515">'super_user'</font></font> <font color="black"><br></font>  <font color="black">},</font> <font color="black"><br></font>  <font color="black">date_in: <font color="#A31515">'25082008-221500'</font> ,</font> <font color="black"><br></font>  <font color="black">date_out: <font color="#A31515">'25082008-221501'</font></font> <font color="black"><br></font>  <font color="black">}</font> </blockquote><br>  Js on the client side receives the package, displays some banal message in the form: ‚ÄúWelcome, Vasiliy Pomidorov‚Äù and unlocks additional actions for super_user. <br><br>  All stages are logged strictly.  In the case of non-critical problems with the package, such as: incorrect password / login, inaccessibility of some action for this user, etc., an information packet is sent to the client informing about the error: <br><blockquote>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">action: <font color="#A31515">'authorization'</font> ,</font> <font color="black"><br></font>  <font color="black">status: <font color="#A31515">'deny'</font> ,</font> <font color="black"><br></font>  <font color="black">options: {</font> <font color="black"><br></font>  <font color="black">code: 99 <font color="#008000">// invalid login or password</font></font> <font color="black"><br></font>  <font color="black">},</font> <font color="black"><br></font>  <font color="black">date_in: <font color="#A31515">'25082008-221500'</font> ,</font> <font color="black"><br></font>  <font color="black">date_out: <font color="#A31515">'25082008-221501'</font></font> <font color="black"><br></font>  <font color="black">}</font> </blockquote><br>  In the case of a critical problem, for example: flood packages, constant various erroneous requests from a host, etc., more stringent measures should be taken: issue a warning or block an authorized user completely until clarification of circumstances, in extreme cases blocking by ip and subnet mask is applicable (in case of DoS / DDoS attacks). <br><br><h2>  Epilogue </h2><br>  First of all, thank you, reader, who managed to get through the rows of a little boring, but hopefully useful text - Thank you! <br><br>  I would like to be sure that this material will really help someone to articulate their thoughts, others will be pushed onto the path of developers of Rich Internet Applications, and may even affect the creator of a brilliant and terribly unique startup (I hope myself) <br><br>  It‚Äôs a pity, but there are a lot of interesting materials outside the article: here‚Äôs a comparison of JavaScript and Adobe Flash points, pros and cons of ‚Äúbig‚Äù web frameworks for creating RIAs, tacking between SOAP and REST, tasks and problems of creating a scripting system for automatic testing and deploying client js code, centralized use of microformats ... <br>  Many, oh, how many interesting topics can be covered, described, commented out, discarded as useless or adopted, otkholivarit, in the end, on the pages of Habrahabr :) It's up to you, dear reader! <br></div><p>Source: <a href="https://habr.com/ru/post/40023/">https://habr.com/ru/post/40023/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../400221/index.html">Founder of the world's largest hedge fund, Ray Dalio, is going to hand over management to AI</a></li>
<li><a href="../400223/index.html">Universal testing machines (bursting machines). Part 2</a></li>
<li><a href="../400225/index.html">Expose the global conspiracy or how to measure the luminous flux of LEDs on the knee</a></li>
<li><a href="../400227/index.html">Why we chose Vue.js (and not React)</a></li>
<li><a href="../400229/index.html">The best technological products of 2016: the Golden Kitten award from Product Hunt</a></li>
<li><a href="../400231/index.html">3Dali Plus 3D-pen and plastic kits for her: ‚ÄúPalette‚Äù PLA and ‚ÄúPalette‚Äù Watson</a></li>
<li><a href="../400235/index.html">Announcement of the Picaso Designer X PRO 3D printer</a></li>
<li><a href="../400237/index.html">Changing the diet of ancient people - one of the reasons for the development of civilization</a></li>
<li><a href="../400239/index.html">Apple has published the first work on AI</a></li>
<li><a href="../40024/index.html">MSC - Up to "RIT: High loads" 6 days left</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>