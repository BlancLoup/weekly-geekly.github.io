<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Challenge of eight queens</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Consider such a favorite task of understanding algorithms, as the ‚Äúeight queens problem‚Äù. The classic definition is ‚Äúto place 8 queens on a chessboard...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Challenge of eight queens</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/453/b36/97f/453b3697fabd213aee3742e90fb118c7.png"><br><br>  Consider such a favorite task of understanding algorithms, as the ‚Äúeight queens problem‚Äù.  The classic definition is ‚Äúto place 8 queens on a chessboard so that neither of them hits the other‚Äù.  Ok, the problem is very popular at various interviews, and Wikipedia immediately gives us a <a href="http://en.wikibooks.org/wiki/Algorithm_Implementation/Miscellaneous/N-Queens">solution on my favorite Python</a> . <br><br>  And this is probably the right decision from the point of view of an ordinary person, but absolutely meaningless from the point of view of a hacker, and now I'll tell you why: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  Let us analyze the algorithm: a classical search with a return is used, we represent the solution area in the form of a graph, each vertex of which is a queen position in which he is not in combat and does not hit the queens already placed on the board,  we just need to collect all the "branches" consisting of exactly eight peaks.  As a method of searching for these ‚Äúbranches‚Äù, the author proposes to us a classic search algorithm wide, i.e.  The traversal order of the graph will look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a3/1df/b51/1a31dfb51b0d2315f8ef5f78a9bee017.png"><br><br>  And as soon as the algorithm works, we get all possible solutions. <br><br>  So what's the problem?  In our case, for the 8x8 board, we get 92 different solutions, but imagine that, as is often the case in real problems, we do not know the size of the board.  If the board is 25x25, as in <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2591%25D0%25B3%25D0%25B8">Tai Shogi</a> , then the number of solutions will already be 275,986,683,743,434. <br><br>  Table, the number of decisions depending on the size of the board: <br><table><tbody><tr><th>  <i>n</i> : </th><th>  one </th><th>  2 </th><th>  3 </th><th>  four </th><th>  five </th><th>  6 </th><th>  7 </th><th>  eight </th><th>  9 </th><th>  ten </th><th>  eleven </th><th>  12 </th><th>  13 </th><th>  14 </th><th>  .. </th><th>  24 </th><th>  25 </th><th>  26 </th></tr><tr><th>  unique: </th><td>  one </td><td>  0 </td><td>  0 </td><td>  one </td><td>  2 </td><td>  one </td><td>  6 </td><td>  12 </td><td>  46 </td><td>  92 </td><td>  341 </td><td>  1,787 </td><td>  9,233 </td><td>  45.752 </td><td>  .. </td><td>  28,439,272,956,934 </td><td>  275,986,683,743,434 </td><td>  2,789,712,466,510,289 </td></tr><tr><th>  different: </th><td>  one </td><td>  0 </td><td>  0 </td><td>  2 </td><td>  ten </td><td>  four </td><td>  40 </td><td>  92 </td><td>  352 </td><td>  724 </td><td>  2,680 </td><td>  14,200 </td><td>  73,712 </td><td>  365,596 </td><td>  .. </td><td>  227,514,171,973,736 </td><td>  2,207,893,435,808,352 </td><td>  22,317,699,616,364,044 </td></tr></tbody></table><br>  What does this mean for our script?  And the fact that he will go into a very long search, and since he has to keep all the decisions in mind, after 15 minutes Python will eat up 300 megabytes of memory.  Who has a powerful processor and a large amount of RAM can check whether this process is completed at all ... <br><br>  And all we needed to solve such a problem was to choose the right algorithm for traversing the graph, which in our case would be the usual search in depth, then the traversal of the graph would occur in this order: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a4b/de0/2df/a4bde02df4806758b3c64e15e9428faa.png"><br><br>  And the code would be much simpler, and even after 15 minutes the script would eat exactly as much memory as a second after launch.  And here is how its implementation would look like in Python: <br><br><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rc_queens</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n_col, width, sol)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(sol) == width: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> sol <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> n_row <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(width): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (safe_queen(n_row, n_col, sol)): rc_queens(n_col+<span class="hljs-number"><span class="hljs-number">1</span></span>, width, sol+[n_row]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">safe_queen</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(new_row, new_col, sol)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> col <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(sol)): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sol[col] == new_row <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> abs(col - new_col) == abs(sol[col] - new_row)): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> n <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">8</span></span>): rc_queens(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, [n])</code> </pre> <br>  PS This is just a look at the problem from the side of the hacker, can someone offer a view from the side of ‚Äútheoretical computer science‚Äù? </div><p>Source: <a href="https://habr.com/ru/post/112578/">https://habr.com/ru/post/112578/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112569/index.html">Domains, hosting, VPS and Dedicated - now in mobile</a></li>
<li><a href="../112570/index.html">Creating a game level in 11 days</a></li>
<li><a href="../112571/index.html">Skype gives students 60 free minutes</a></li>
<li><a href="../112572/index.html">Drupal 7 on the Windows Server Platform</a></li>
<li><a href="../112576/index.html">Spammers accidentally killed a suicide bomber and thus saved the lives of dozens of Moscow residents</a></li>
<li><a href="../112580/index.html">KDE SC 4.6 release</a></li>
<li><a href="../112581/index.html">The move ‚ÄúVoronoi‚Äù. Part 2 - Binary Tree</a></li>
<li><a href="../112583/index.html">All your face are belong to us!</a></li>
<li><a href="../112584/index.html">And how was the idea of ‚Äã‚Äãthe iPad received by Apple? It turns out that at the 1988 student competition from the winning group of students at the University of Illinois</a></li>
<li><a href="../112586/index.html">Substitution node alias</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>