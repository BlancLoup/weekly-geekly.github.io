<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New in PHP 7.4</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Although the new version of PHP is minor, it already carries many new, without exaggeration, cool features for both the syntax of the language and its...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New in PHP 7.4</h1><div class="post__text post__text-html js-mediator-article">  Although the new version of PHP is minor, it already carries many new, without exaggeration, cool features for both the syntax of the language and its performance.  The list of innovations is not final, but the main changes have already been made and adopted.  Release is scheduled for December 2019. <br><br><img src="https://habrastorage.org/webt/ca/7v/jn/ca7vjn8jtlynlcmr2iydcdg3wbg.png"><br><br>  Key changes to the upcoming version: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Typed class properties </li><li>  Preload for performance improvements </li><li>  Arrow functions for short recording of anonymous functions </li><li>  The assignment operator of the union with null (?? =) </li><li>  Covariance / contravariance in inherited method signatures </li><li>  Interface external functions, opening up new opportunities for the development of extensions for PHP </li><li>  Unpacking operator in arrays </li></ul><br>  Read more about these and other changes under the cat. <br><a name="habracut"></a><br>  <i>Disclaimer: Already several times in my discussions with colleagues featured an article by Brent " <a href="https://stitcher.io/blog/new-in-php-74">New in PHP 7.4</a> ".</i>  <i>At first I wanted to make a translation, but in the process I understood that not all the latest updates are indicated in the text and there are some inaccuracies, so this article appeared instead of the translation.</i> <br><br><h3>  Arrow functions ( <a href="https://wiki.php.net/rfc/arrow_functions_v2">RFC</a> ) </h3><br>  Arrow functions allow you to make a shorter record of anonymous functions: <br><br><pre><code class="plaintext hljs">array_map(function (User $user) {    return $user-&gt;id; }, $users) array_map(fn(User $user) =&gt; $user-&gt;id, $users)</code> </pre> <br>  Some features of the adopted implementation of the switch functions: <br><br><ul><li>  They can access the <code>parent</code> area, so there is no need to use the use keyword. </li><li>  <code>$this</code> also available, as in the usual anonymous functions. </li><li>  Arrow functions can contain only one string, which is also the operator of the return value. </li></ul><br>  You can read more about them in this <a href="https://habr.com/ru/post/450544/">article</a> on Habr√©. <br><br><h3>  Typed Properties ( <a href="https://wiki.php.net/rfc/typed_properties_v2">RFC</a> ) </h3><br>  Hooray!  Class properties can now have type hint.  This is a very welcome change since PHP 7 towards a stricter language typing.  Now we have all the basic features for strong typing.  All types are available for typing, except for <code>void</code> and <code>callable.</code> <br><br><pre> <code class="plaintext hljs">class Bar {   public string $name;   public ?int $amount;   public Foo $foo; }</code> </pre><br>  If you want me to consider in more detail the new possibilities of typing properties of objects, check in the comments and I will write a separate article about them! <br><br><h3>  A null join operator ( <a href="https://wiki.php.net/rfc/null_coalesce_equal_operator">RFC</a> ) </h3><br>  Instead of such a long record: <br><br><pre> <code class="plaintext hljs">$data['date'] = $data['date'] ?? new DateTime();</code> </pre> <br>  Now you can write like this: <br><br><pre> <code class="plaintext hljs">$data['date'] ??= new DateTime();</code> </pre> <br><h3>  Unpacking Operator in Arrays ( <a href="https://wiki.php.net/rfc/scodead_operator_for_array">RFC</a> ) </h3><br>  Now you can use the unpacking operator in arrays: <br><br><pre> <code class="plaintext hljs">$arrayA = [1, 2, 3]; $arrayB = [4, 5]; $result = [0, ...$arrayA, ...$arrayB, 6 ,7]; &lt;i&gt;// [0, 1, 2, 3, 4, 5, 6, 7]&lt;/i&gt;</code> </pre> <br>  Note that this only works with non-associative arrays. <br><br><h3>  External Function Interface ( <a href="https://wiki.php.net/rfc/ffi">RFC</a> ) </h3><br>  The external function interface (FFI) allows you to write C code directly in PHP code.  This means that PHP extensions can be written in pure PHP. <br><br>  It should be noted that this is a complex topic.  You still need the knowledge of C to properly use these features. <br><br><h3>  Preload ( <a href="https://wiki.php.net/rfc/codeload">RFC</a> ) </h3><br>  Preloading is a terrific addition to the PHP core, which should lead to some significant performance improvements. <br><br>  For example, if you are using the framework, its files must be downloaded and recompiled for each request.  When using opcache, when these files are first used in the processing of a request and then every time they are successfully checked for changes.  Preloading allows the server to load the specified PHP files into memory at startup and have them permanently available for all subsequent requests, without performing additional checks for file changes. <br><br>  The performance increase is ‚Äúnon-free‚Äù - if the preloaded files change, the server must be restarted. <br><br><h3>  Covariance / contravariance in inherited method signatures ( <a href="https://wiki.php.net/rfc/covariant-returns-and-contravariant-parameters">RFC</a> ) </h3><br>  Currently, PHP has mostly invariant parameter types and invariant return types.  This change allows you to change the type of the parameter to one of its supertypes.  In turn, the return type can be replaced by its subtype.  Thus, this change will allow more strictly follow the principle of Barbara Liskov's substitution. <br><br>  An example of using a covariant return type: <br><br><pre> <code class="plaintext hljs">interface Factory {   function make(): object; } class UserFactory implements Factory {   function make(): User; }</code> </pre><br>  and contravariant argument: <br><br><pre> <code class="plaintext hljs">interface Concatable {   function concat(Iterator $input); } class Collection implements Concatable {   function concat(iterable $input) {/* . . . */} }</code> </pre><br><h3>  Custom Object Serialization ( <a href="https://wiki.php.net/rfc/custom_object_serialization">RFC</a> ) </h3><br>  Two new magic methods become available: <code>__serialize</code> and <code>__unserialize</code> .  This serialization mechanism combines the versatility of the <code>Serializable</code> interface with the implementation approach of <code>__sleep/__wakeup</code> methods.  More details on their differences can be found in the RFC. <br><br><h3>  Priority for Concatenation Operations ( <a href="https://wiki.php.net/rfc/concatenation_codecedence">RFC</a> ) </h3><br>  If you wrote something like this: <br><br><pre> <code class="plaintext hljs">echo "sum: " . $a + $b;</code> </pre> <br>  Now PHP would interpret it as: <br><br><pre> <code class="plaintext hljs">echo ("sum: " . $a) + $b;</code> </pre> <br>  PHP 8 will interpret this differently: <br><br><pre> <code class="plaintext hljs">echo "sum :" . ($a + $b);</code> </pre> <br>  PHP 7.4 adds a deprecation warning when it detects an expression containing "."  before "+" or "-" and uncirculated with brackets. <br><br><h3>  Exception support in <code>__toString</code> ( <a href="https://wiki.php.net/rfc/tostring_exceptions">RFC</a> ) </h3><br>  Previously, exceptions could not be thrown from the <code>__toString</code> magic method.  The rationale for this behavior is that the conversion of objects to strings is performed in many functions of the standard library, and not all of them are ready to "correctly" handle exceptions.  As part of this RFC, a comprehensive audit of string conversions in the code base was performed, and this restriction can now be removed, which was done. <br><br><h3>  Reflection for reference ( <a href="https://wiki.php.net/rfc/reference_reflection">RFC</a> ) </h3><br>  Libraries such as <code>symfony/var-dumper</code> rely heavily on <code>ReflectionAPI</code> for accurate variable output.  Previously, there was no proper support for link reflection, which made these libraries rely on hacks to find links.  PHP 7.4 adds a <code>ReflectionReference</code> class that solves this problem. <br><br><h3>  Added <code>mb_str_split</code> ( <a href="https://wiki.php.net/rfc/mb_str_split">RFC</a> ) method </h3><br>  This function provides the same functionality as <code>str_split</code> , but for strings written in multibyte encodings. <br><br><h3>  Always available <code>ext-hash</code> extension ( <a href="https://wiki.php.net/rfc/permanent_hash_ext">RFC</a> ) </h3><br>  This extension is now permanently available in all PHP installations. <br><br><h3>  PEAR is not enabled by default ( <a href="https://externals.io/message/103977">EXTERNALS</a> ) </h3><br>  PEAR is no longer actively maintained, the core team decided to remove it from the default installation with PHP 7.4. <br><br><h3>  Register of Password Hashing Algorithms ( <a href="https://wiki.php.net/rfc/password_registry">RFC</a> ) </h3><br>  Added new function <code>password_algos</code> , which returns a list of all registered password hashing algorithms. <br><br><h3>  Weak Links ( <a href="https://wiki.php.net/rfc/weakrefs">RFC</a> ) </h3><br>  Weak links allow you to save a link to an object that does not prevent the destruction of this object.  For example, they are useful for implementing cache-like structures. <br><br><h3>  Numeric Literal Separator ( <a href="https://wiki.php.net/rfc/numeric_literal_separator">RFC</a> ) </h3><br>  The lack of visual delimiters in groups of numbers increased the time for reading and debugging code, and could lead to unintended errors.  Support for the underscore character in numeric literals has now been added to visually separate groups of numbers. <br><br><pre> <code class="plaintext hljs">1_000_000_000 // int 6.674_083e-11; // float 299_792_458;   // decimal 0xCAFE_F00D;  // hexadecimal 0b0101_1111;   // binary 0137_041;      // octal</code> </pre><br><h3>  Short opening tags are deprecated ( <a href="https://wiki.php.net/rfc/decodecate_php_short_tags">RFC</a> ) </h3><br>  Short opening tag <code>&lt;?</code>  out of date and will be removed in PHP 8. The short <code>&lt;?= (echo)</code> tag was not affected. <br><br><h3>  The left-associative ternary operator is deprecated ( <a href="https://wiki.php.net/rfc/ternary_associativity">RFC</a> ) </h3><br>  The ternary operator has some weird quirks in PHP.  This RFC declares obsolete nested ternary operators. <br><br><pre> <code class="plaintext hljs">1 ? 2 : 3 ? 4 : 5;   // deprecated (1 ? 2 : 3) ? 4 : 5; // ok</code> </pre><br>  In PHP 8, such a record will result in a compilation level error. <br><br><h3>  Backward incompatible changes ( <a href="https://github.com/php/php-src/blob/PHP-7.4/UPGRADING">UPGRADING</a> ) </h3><br>  Here are some of the most important at the moment back incompatible changes: <br><br><ul><li>  A call to <code>parent::</code> in a non-parent class is deprecated. </li><li>  Calling <code>var_dump</code> on a <code>DateTime</code> or <code>DateTimeImmutable</code> instance no longer makes object properties available. </li><li>  <code>openssl_random_pseudo_bytes</code> will throw an exception in error situations caused by the OpenSSL library.  Previously, it returned false, which could lead to the generation of an empty string. </li><li>  An attempt to serialize a <code>PDO</code> or <code>PDOStatement</code> instance generates an <code>Exception</code> instead of a <code>PDOException</code> . </li><li>  Calling <code>get_object_vars()</code> on an <code>ArrayObject</code> instance <code>ArrayObject</code> return the properties of the <code>ArrayObject</code> itself, not the value of the wrapped array.  To get the values ‚Äã‚Äãof the wrapped array as before - <code>ArrayObject</code> to type <code>array</code> . </li></ul></div><p>Source: <a href="https://habr.com/ru/post/454410/">https://habr.com/ru/post/454410/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454402/index.html">Unity's state machine architecture for organizing unit behaviors</a></li>
<li><a href="../454404/index.html">Training Cisco 200-125 CCNA v3.0. Day 6. Fill in the blanks (DHCP, TCP, ‚Äúhandshake‚Äù, common port numbers)</a></li>
<li><a href="../454406/index.html">Akihabara: Otaku nesting site</a></li>
<li><a href="../454408/index.html">Hardware bit banding CortexM3 / M4 (ARM), kernel architecture, assembler, C / C ++ 14 and a drop of metaprogramming</a></li>
<li><a href="../45441/index.html">Antispam by postfix + spamassassin</a></li>
<li><a href="../454414/index.html">SDL 2 Tutorial: Lesson 2 - Main Not Rubber</a></li>
<li><a href="../454416/index.html">Import Substitute Hadoop Distribution</a></li>
<li><a href="../454418/index.html">Three unobvious examples of using template engines in backend.</a></li>
<li><a href="../454420/index.html">Backup, part 3: Review and testing duplicity, duplicati</a></li>
<li><a href="../454422/index.html">On the perverted interpretation of Newton's First Law in modern physics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>