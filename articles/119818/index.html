<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We look at the positions and platforms of Yandex.Direct in Google Analytics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google Analytics is a great system for estimating traffic. With it, you can see how many pages are viewed by visitors, from which pages they most ofte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We look at the positions and platforms of Yandex.Direct in Google Analytics</h1><div class="post__text post__text-html js-mediator-article">  Google Analytics is a great system for estimating traffic.  With it, you can see how many pages are viewed by visitors, from which pages they most often leave the site, whether they achieve their desired goals. <br><br>  Unfortunately, Google is not in a hurry to integrate information from third-party advertising systems into GA, which makes it difficult to assess their effectiveness in full.  In this article, I‚Äôll tell you how to integrate information about sites and ad positions from Yandex.Direct into Google Analytics and thereby increase the conversion. <br><a name="habracut"></a><br><h4>  Why do you need it? </h4><br>  GA has a lot of information.  Really a lot.  There is an exotic report on providers, a report on what people were looking for on the site, which browser versions users have, and much more.  But sometimes we need to go deeper. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/habraeffect/ac/1e/ac1e3464667b8ff39ff1102174bd6550.jpg" alt="Joke about Inception"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you integrate your AdWords account into Google Analytics, you can see the address of the site from which the user came, ad position, ad format and some other data. <br><br>  This is a great AdWords advantage, because all these metrics allow you to more accurately optimize your campaigns and thereby reduce the cost of conversion. <br><br>  The higher the ad is in the search results, the more it is clicked.  But at what point does the turn come when an increase in position negatively affects the quality of conversions?  Without automatic information from the system itself, it is almost impossible to answer this question - the ad could have been interrupted at any time at a rate, and for some time it could not be in the same position as the account manager aimed at. <br><br>  Connecting content networks often leads to a site a significant number of conversions at a price lower than the search.  However, in the same networks there are doorways, content aggregators and just random sites, the conversion of which almost always tends to zero.  The blacklisting of such sites leads to an increase in conversion of <nobr>2-2.5 times.</nobr> <br><br>  Unfortunately, GA by default cannot see this data for third-party advertising sites, but there is one very simple solution for Yandex.Direct, which allows you to get all the same information. <br><br><h4>  How to do it </h4><br>  For quite some time now, in Yandex.Direct, it is possible to connect to external Internet statistics, or rather, put down an automatic openstat tag. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/habraeffect/8e/b7/8eb7df435468c942f952c8960c039693.png" alt="Interface for setting up campaigns in Yandex.Direct"></div><br><br>  In an advertising link, the label looks like this: <br><br> <code><font color="grey">htt://www.quelle.ru?</font> <font color="green">_openstat=ZGlyZWN0LnlhbmRleC5ydTszMzk2MjA0OzI1NDE5MjE3O3lhbmRleC5ydTpwcmVtaXVt</font></code> <br> <br>  A set of numbers and letters looks pretty monstrous, but in reality it is just a set of parameters encrypted in a special way (The encoding / decoding method is on the website: <a href="http://marker.openstat.ru/spec.html">marker.openstat.ru/spec.html</a> ).  If you go to <a href="http://marker.openstat.ru/decoder.html">marker.openstat.ru/decoder.html</a> and enter our label there, then there will be nice looking values: <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/storage/habraeffect/58/81/588128de3c84cb7e49996278e1141545.png" alt="Openstat Descrambler Interface"></a> </div><br><br>  In the field "placement" are indicated through the colon site and position.  In this case, it was a transition from special placement to Yandex search.  In the case of a content platform, first write the address, then guarantee, for example, like this: <br><blockquote>  <font color="purple">mail.ru:</font> <font color="blue">guarantee</font> </blockquote><br>  The openstat tag encryption format is open to everyone, so the main problem in this case is to send this data to Google Analytics.  We use the utm_content tag for this, which, as a rule, is not used in Direct. <br><br>  Suppose we advertise a cute video about cooking meat balls: <br><br> <code><a href="http://www.youtube.com/watch%3Fv%3DC8Wu3Bps9ic%3Futm_medium%3DYandex%26utm_source%3Dppc%26utm_campaign%3Dmeatballs"></a> www.youtube.com/watch?v=C8Wu3Bps9ic?utm_medium=Yandex&amp;utm_source=ppc&amp;utm_campaign=meatballs</code> <br> <br>  When a user comes from Yandex advertising to the site (in this case, youtube.com), you need to do the following: <br>  1) Decipher at the level of the program code label openstat <br>  2) Take the current address of the page with utm-tags and add at the end the decrypted data: <br><blockquote>  <font color="grey">&amp; utm_content =</font> <font color="green">yandex.ru:premium</font> </blockquote><br>  3) If Google Analytics is configured to use ‚Äú#‚Äù instead of ‚Äú?‚Äù For utm tags, then you can simply update the current link to a new one without refreshing the page using the document.location.hash property. <br><br>  Or you can simply redirect to a page with a new URL before the counter code works. <br><br>  I prefer the first option, because in it all these actions occur unnoticed by the user. <br><br>  The result of these manipulations is, for example, like this: <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/storage/habraeffect/c7/a7/c7a7c85ea3d61dcd56cb1b179e9ff706.png" alt="Result in Google Analytics interface"></a> </div><br><br>  You can see which sites and positions are working, and what can be turned off without a twinge of conscience. <br><br><h4>  Total: </h4><br>  After all these manipulations, we get two additional opportunities to optimize the number and cost of conversions.  The most valuable of them, of course, is the ability to see the sites of networks.  In our company, for quite a long time, there was an understanding that without these data about full-fledged tweaking of advertisements, one can not speak.  The increase in the conversion percentage due to the disconnection of "bad" sites can reach 300%.  This article has examined the way how this can be done on Yandex, but similar values ‚Äã‚Äãcan be obtained for a Runner or any other platform, albeit in a slightly different way. <br><br>  I hope that this article will be useful and save you a decent wad of money. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/habraeffect/55/4a/554a33731f7634147a3205bc929abfad.jpg" alt="A bundle of money"></div></div><p>Source: <a href="https://habr.com/ru/post/119818/">https://habr.com/ru/post/119818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119811/index.html">What is the main editor / IDE I use for web development on Ruby on Rails?</a></li>
<li><a href="../119814/index.html">We protect DropBox (and other network folders) from prying eyes</a></li>
<li><a href="../119815/index.html">PVS-Studio vs Chromium</a></li>
<li><a href="../119816/index.html">Sencha Touch Tutorial 3: Events</a></li>
<li><a href="../119817/index.html">Stallman's dystopia comes to life</a></li>
<li><a href="../119821/index.html">What is a honeypot and from what to protect virtual IP?</a></li>
<li><a href="../119822/index.html">On the ‚Äúproblems‚Äù of young entrepreneurs (startupers) in Russia in simple words</a></li>
<li><a href="../119824/index.html">Create BlackBerry Playbook Tablet Apps with WebWorks SDK</a></li>
<li><a href="../119826/index.html">In the wake of Nokia Developer Days</a></li>
<li><a href="../119827/index.html">We order laser cutting and bending of the housing for a 90 TB file storage.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>