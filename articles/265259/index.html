<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Embed premium media content with HTML5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The commercial media industry is undergoing a major transformation as content providers move away from content delivery models using closed web plugin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Embed premium media content with HTML5</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ea9/522/9c6/ea95229c66694888bb0ba66adaf144e4.jpg"><br><br>  The commercial media industry is undergoing a major transformation as content providers move away from content delivery models using closed web plugins (such as Flash or Silverlight) and replace them with single, pluginless video players based on HTML5 specifications and features. playing commercial content.  Browsers are also moving away from the use of plug-ins, so <a href="http://www.chromium.org/developers/npapi-deprecation">Chrome refuses NPAPI</a> and <a href="http://blogs.windows.com/msedgedev/2015/05/06/a-break-from-the-past-part-2-saying-goodbye-to-activex-vbscript-attachevent/">Microsoft Edge from ActiveX</a> in favor of more secure extension models. <br><br>  The transition to the model of playing media content without the use of plug-ins is possible thanks to the newly developed new specifications: <br><ul><li>  From the W3C side: <a href="http://www.w3.org/TR/media-source/">Media Source Extensions</a> for adaptive streaming and <a href="http://www.w3.org/TR/encrypted-media/">Encrypted Media Extensions</a> for content protection. </li><li>  Moving Picture Experts Group (MPEG): <a href="">DASH</a> and <a href="https://www.iso.org/obp/ui/">Common Encryption (CENC)</a> . </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These specifications are designed and developed to make streaming compatible on multiple media platforms and devices.  By focusing on compatible solutions, content providers can reduce costs, while users can access content from the devices they prefer, and using the applications or web browsers that they have chosen for themselves.  At Microsoft, we believe that this is a huge advantage for both content providers and viewers, and we are happy to support companies that implement this transformation. <br><br>  This is a long article, and we would not want you to miss the topic that interests you.  Here is a summary: <br><ul><li>  Some information about Microsoft Edge and Silverlight </li><li>  Overview of compatible web media status </li><li>  Difficulties and options to overcome them <ul><li>  Simple version of DASH streaming </li><li>  Demonstrate a website that uses a library to play responsive content </li><li>  Azure Media Services that can help you </li><li>  A simple way to create an application for a universal Windows platform (UWP) based on the code of the website </li><li>  Demonstration of UWP-applications with the integration of video playback and voice commands for Cortana </li></ul></li></ul><br><br><a name="habracut"></a><br><br><h2>  Microsoft Edge and Silverlight </h2><br>  ActiveX support was excluded during the development of Microsoft Edge and this includes the removal of Silverlight support.  The reasons for this were discussed in one of the <a href="http://blogs.windows.com/msedgedev/2015/05/06/a-break-from-the-past-part-2-saying-goodbye-to-activex-vbscript-attachevent/">past articles</a> and include the evolution of accessible and secure media solutions based on HTML5 extensions.  Microsoft continues to support Silverlight, non-browser applications on Silverlight continue to work.  Silverlight will also continue to be supported in Internet Explorer 11, so Silverlight websites can work in Windows 10. At the same time, we encourage companies using Silverlight for media content to switch to engines using DASH / MSE / CENC / EME. and implement a uniform content protection process based on CENC.  This opens the way to the widest compatibility between browsers, platforms, content and devices. <br><br><h2>  Media compatibility between browsers </h2><br>  Plug-ins like Silverlight should have ensured compatibility of playing media content by having a version of the plug-in for different browsers.  This greatly complicated as the number of devices and platforms with browsers increased.  Today, since the old model with plug-ins is leaving the scene, it needs a replacement.  For media content, a suitable change may be a solution based on DASH, MSE, EME and CENC. <br><br>  Windows 10 and Microsoft Edge support DASH, MSE, EME and CENC natively, other browsers also introduce support for MSE and EME, compatible with CENC.  This allows developers to create video applications without plug-ins, running on a wide range of devices and platforms in which the MSE / EME implementation can be made on top of different chains of video playback and content protection. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/469/98f/c2d/46998fc2d336787d0dbc4a78934b2910.png"><br>  <i>DRM providers may vary across browsers.</i> <br><br>  Nowadays, when DRM systems use proprietary file formats and encryption methods, such variability in DRM providers in browsers can be a critical issue.  Thanks to the development and implementation of common encryption (Common Encryption, CENC), the problem is significantly smoothed, as the files are compressed in standard formats and encrypted using global industry standards.  Service providers issue the keys and licenses necessary to consume content in a particular browser, but <b>the website code, content, and encryption keys are common between them, regardless of the DRM tool used</b> .  An example of such an implementation is DASH.js, an open source reference industrial player that is used to demonstrate these technologies and serves as the basis for many players being introduced on the web today. <br><br>  As follows from the diagram above, Microsoft's PlayReady DRM supports two DRM protection models: ‚Äúsoftware DRM‚Äù, using the traditional software way of protecting media content, and ‚Äúhardware DRM‚Äù, which uses hardware capabilities for protection, if the corresponding option is supported by the device.  Hardware DRM has been designed to meet the requirements of protecting commercial media content and enable streaming of content in the highest available quality.  Not all devices will support hardware protection, but sites using MSE / EME can adjust to the difference and deliver content in the best available quality depending on the browser or device. <br><br><h2>  Microsoft support </h2><br>  As with any other new technology, the transition to the DASH / MSE / EME / CENC stack can be difficult.  Possible difficulties include: <br><ul><li>  MSE works by allowing the JavaScript client to send one or more sourceBuffer as a source for a media element and dynamically load and attach media fragments to the sourceBuffer.  This provides sites with precise control over user experience, but also requires a significant investment in website development. </li><li>  Large existing media content libraries have been encoded in formats that are not directly supported in MSE / EME.  Such libraries should either be supported in some way through new APIs, or recoded.  An example of such a format would be Silverlight Smooth Streaming, which was used by sites with Silverlight plug-ins.  A solution that could play such content directly would be useful for any technology that replaces Silverlight. </li><li>  MSE / EME is growing up, but still undergoing changes that may affect compatibility with different media formats and between browsers. </li></ul><br>  In an effort to help the industry create compatible media delivery solutions, we are investing in technologies that address these issues. <br><br><h3>  DASH Type 1: MSE just got easier </h3><br>  DASH content typically consists of media files encoded at different quality levels and a manifest that provides information about the files to the media application.  The MSE player is then responsible for parsing such files, loading the most appropriate content and sending the media element to the sourceBuffer (s).  This is a very flexible solution, which, however, requires investment in the development of the MSE implementation on the site or the use of a ready-made MSE implementation, for example, the mentioned DASH.js library. <br><br>  There is also another simpler option: native DASH streaming, in which the site code simply says that the manifest is the source for the media element, and the player is automatically controlled by the streaming engine built into the browser.  This approach allows web developers to benefit from the experience and investment made by browser developers, and to easily provide premium content on their sites.  We added native support for DASH streaming in Windows 10 and Microsoft Edge, additional details are available in a previous article: " <a href="http://blogs.msdn.com/b/ie/archive/2015/01/29/simplified-adaptive-video-streaming-announcing-support-for-hls-and-dash-in-windows-10.aspx">Simplified Adaptive Video Streaming: Announcing support for HLS and DASH in Windows 10.</a> " <br><br><h3>  DASH-library on JavaScript, which plays Smooth-content </h3><br>  Some websites have large libraries of media content encoded in Smooth Stream, and are looking for ways to move to a compatible HTML5 solution.  One possible way is to use a js library that would support current content via MSE / EME without the need for transcoding.  Today, such libraries are available, for example, there is a version of the library ‚Äúhasplayer.js‚Äù, which does exactly that and <a href="">is posted on GitHub</a> . <br><br>  This library is based on <a href="">dash.js</a> and allows you to play both pure and protected Smooth-content using PlayReady in Microsoft Edge.  This is a client-side JavaScript library that broadcasts the necessary content and manifest and is compatible with other browsers.  Thanks to the inclusion of a polyfil to support EME, it can be easily extended to support DRM solutions from other browsers. <br><br>  Below is a sample JavaScript code that uses hasplayer.js to request and play a DASH or Smooth media file: <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupVideo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> context = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Custom.di.CustomContext(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> player = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MediaPlayer(context); player.startup(); player.attachView(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'#videoplayer'</span></span>)); player.setAutoPlay(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); player.attachSource(url); }</code> </pre> <br><br>  This greatly facilitates the support of streaming Smooth-content on the site.  We made <a href="https://github.com/Gr8Gatsby/ContosoVideo">an example of ‚ÄúContoso Video‚Äù in the GitHub repository</a> using this library for playing videos.  You can try it yourself on <a href="http://contosovideo.azurewebsites.net/">the Contoso Video demo site</a> . <br><br><img src="https://habrastorage.org/files/295/237/c5d/295237c5d0fb4baebeb05e8254d1ff66.jpg"><br>  <i>‚Ä¢ Rendering in Microsoft Edge</i> <i><br></i>  <i>‚Ä¢ Chakra JavaScript Engine</i> <i><br></i>  <i>‚Ä¢ HTML / CSS / JS from server</i> <br><br>  The library for broadcasting client-side Smooth Streaming content is possible because the PIFF (Protected Interoperable File Format) format, which is the basis of the Smooth Streaming protocol, was the basis of the ISOBMFF (ISO Base Media File Format) specification used in DASH, and also because PIFF offers a multi-DRM protocol that has been standardized as ISO MPEG Common Encryption (CENC). <br><br>  Today, widespread today: PIFF 1.1 and PIFF 1.3 - and the hasplayer.js library for Smooth streaming in MSE / EME supports both formats.  The library converts on the fly from PIFF format to CMF (Common Media Format) format used with DASH.  This allows you to be sure that all content played by the library in the browser corresponds to DASH CMF and can play in all browsers that support MSE. <br><br><h3>  Media Services </h3><br>  Some content owners prefer to focus on producing quality material rather than technical details of delivering content to viewers.  These companies can take advantage of media content hosting services that prepare it for web delivery, manage the streaming logic and player UI, and also manage the servers with DRM licenses.  <b>Azure Media Services offers such capabilities today</b> , including support for both PlayReady and Widevine DRM systems.  This service provides support for video on demand (Video on Demand, VoD) and live streaming (live streaming).  Azure serves a single file / stream in high quality, and then it takes on dynamic compression and encryption into CENC-protected content that can be transmitted to end devices.  Also available for developers is a turnkey solution with a player for inserting into your site.  Some details of this service were recently announced in the article ‚Äú <a href="http://azure.microsoft.com/blog/2015/06/15/azure-media-services-delivers-widevine-encrypted-stream-by-partnering-with-castlabs/">Azure Media Services delivers Widevine</a> .‚Äù <br><br><h2>  Hosting Web Applications </h2><br>  Another great advantage of switching to streaming using DASH / MSE / EME / CENC is that the same code that runs on your site can be packaged into a universal Windows platform (UWP) application.  UWP applications can run on all Windows 10 devices. In other words, a website developer can create a player on a website compatible with different browsers and a Windows application using the same code.  The common code will control the UI and deal with the details of media streaming and (!) Will also be able to use the features available only to applications through the WinRT API: <br><br>  Such hosted web applications: <br><ul><li>  Offered through the Windows Store </li><li>  Can interact with Cortana (‚ÄúContoso Video play elephants‚Äù) </li><li>  Can send notifications (‚ÄúNBA Finals will be shown in 15 minutes‚Äù) </li><li>  Have access to extended support for adaptive streaming </li><li>  Have access to improved content protection for playback in Full HD and Ultra-HD </li><li>  Can update live tiles </li><li>  And much more! </li></ul><br>  We talked about the capabilities of hosted applications in our report ‚Äú <a href="http://channel9.msdn.com/Events/WebPlatformSummit/2015/Hosted-web-apps-and-web-platform-innovations">Hosted web apps and web platform innovations</a> ‚Äù at the <a href="http://devchannel.modern.ie/websummit2015">Microsoft Edge Web Summit 2015</a> .  You can also find the details in <a href="https://msdn.microsoft.com/en-us/library/windows/apps/dn705792.aspx">the MSDN documentation</a> . <br><br><h3>  Demonstration of a hosted application </h3><br>  We took the demo site Contoso Video, mentioned above, and packed it in the form of a UWP application that uses the API capabilities of the Windows platform.  This demo shows how easy it is to take a basic video player and integrate voice commands through Cortana into it.  The example also customizes the colors of the panel with the title of the application.  All JavaScript code is part of an HTML site that is deployed using standard web developer procedures. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/033/830/2b6/0338302b6bbefb603e9ba818d1e05316.png"><br>  <i>‚Ä¢ Microsoft Edge rendering is preserved.</i> <i><br></i>  <i>‚Ä¢ Saved Chakra - JavaScript engine</i> <i><br></i>  <i>‚Ä¢ HTML / CSS / JS code is downloaded from the server or locally</i> <i><br></i>  <i>‚Ä¢ Added access to native Windows APIs</i> <i><br></i>  <i>‚Ä¢ Available through the Windows Store catalog</i> <br><br>  To integrate Cortana into a hosted web application (Hosted Web App, HWA), three files are needed: a <a href="https://msdn.microsoft.com/en-us/library/windows/apps/dn722331.aspx">Voice Command Definition (VCD)</a> file and one JS and HTML file each. <br><br><h3>  Voice Command Definition (VCD) file </h3><br>  The VCD file defines the actions you want to support through voice commands.  The code below informs Cortana about the name of the application (Contoso Video), the support for the ‚Äúplay‚Äù command, and how the ‚Äúplaying‚Äù state should be displayed in the application's UI. <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VoiceCommands</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/voicecommands/1.2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandSet</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xml:lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"en-us"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ContosoVideo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandPrefix</span></span></span><span class="hljs-tag">&gt;</span></span>Contoso Video<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandPrefix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Example text displayed in Cortana UI --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Example</span></span></span><span class="hljs-tag">&gt;</span></span>Contoso video play elephants<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Example</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Command name --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Command</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"play"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Example</span></span></span><span class="hljs-tag">&gt;</span></span>play {message} using contoso video<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Example</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Tell Cortana what to listen for --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListenFor</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">RequireAppName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BeforeOrAfterPhrase"</span></span></span><span class="hljs-tag">&gt;</span></span>please play {streamSubject}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListenFor</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Tell Cortana what to display in the UI --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Feedback</span></span></span><span class="hljs-tag">&gt;</span></span>playing {streamSubject} with Contoso Video<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Feedback</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Navigate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/playStream.htm"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Command</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Specifies a topic for large vocabulary recognition --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PhraseTopic</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"streamSubject"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Scenario</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Dictation"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PhraseTopic</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandSet</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VoiceCommands</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><h3>  Javascript file </h3><br>  JavaScript code should listen to the activation event and check VoiceCommand voice commands. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Handle Cortana activation adding the event listener before DOM // Content Loaded parse out the command type and call the // respective game APIs if (typeof Windows !== 'undefined') { console.log("Windows exists!"); // Subscribe to the Windows Activation Event Windows.UI.WebUI.WebUIApplication.addEventListener("activated", function (args) { var activation = Windows.ApplicationModel.Activation; // Check to see if the app was activated by a voice command if (args.kind === activation.ActivationKind.voiceCommand) { var speechRecognitionResult = args.result; var textSpoken = speechRecognitionResult.text; // Determine the command type {play} defined in vcd if (speechRecognitionResult.rulePath[0] === "play") { // Determine the stream name specified if (textSpoken.includes('elephants') || textSpoken.includes('Elephants')) { // Movie selected is Elephants Dream setupVideo("http://amssamples.streaming.mediaservices.windows.net/b6822ec8-5c2b-4ae0-a851-fd46a78294e9/ElephantsDream.ism/manifest(filtername=FirstFilter)"); } else if (textSpoken.includes('Steel') || textSpoken.includes('steel')) { // Stream selected is Tears of Steel setupVideo("http://amssamples.streaming.mediaservices.windows.net/bc57e088-27ec-44e0-ac20-a85ccbcd50da/TearsOfSteel.ism/manifest"); } else { // No stream specified by user console.log("No valid stream specified"); } } else { // No valid command specified console.log("No valid command specified"); } } }); }</span></span></code> </pre> <br><br><h3>  HTML file </h3><br>  In the HTML file you need to add a meta element pointing to the VCD file on your server. <br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Adaptive Streaming in HTML5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"msapplication-cortanavcd"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://localhost:3000/VCD/vcd.xml"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./styles.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Create centered Video player with controls --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center videoPlayer"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Contoso Video<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">video</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"videoplayer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">controls</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">video</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Scripts: load last --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./js/hasplayer.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./js/windows.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./js/player.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./js/cortana.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  With the addition of a VCD file and updates of HTML and JS files on the site, our example Contoso Video can now be packaged as a UWP application that will work on all devices with Windows 10. And users can run the application to play video, saying, for example ‚ÄúContoso, play Tears of Steel‚Äù.  Cortana recognizes the command, launches the Contoso Video application and starts playing the ‚ÄúTears of Steel‚Äù video. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b9/51f/4e9/3b951f4e941a42ac810950ece03164c0.png"><br>  <i>Contoso Video in Cortana</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ea/e4b/ea3/3eae4bea38ec904a9bbf0d824122d5f2.png"><br>  <i>Contoso Video in the application menu</i> <br><br>  The complete source code for the site examples and Contoso Video applications are available in the <a href="https://github.com/Gr8Gatsby/ContosoVideo">Contoso Video Sample</a> repository <a href="https://github.com/Gr8Gatsby/ContosoVideo">on GitHub</a> . <br><br><h2>  Conclusion </h2><br>  The aggregate of DASH / MSE / EME / CENC offers a replacement for plug-in-based solutions.  We are rapidly moving towards broad compatibility in playing media content.  This transformation will benefit both content providers and viewers.  Although the adaptation of technologies may be difficult in the short term, the possibilities and solutions that we discussed in this article are designed to help companies overcome these difficulties. <br><br>  We will be glad to hear your feedback so that we can continue to improve streaming solutions for media content and the tools and approaches we talked about.  <a href="https://twitter.com/MSEdgeDev">Email</a> us on <a href="https://twitter.com/MSEdgeDev">@MSEdgeDev</a> . </div><p>Source: <a href="https://habr.com/ru/post/265259/">https://habr.com/ru/post/265259/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../265245/index.html">Creating shortcodes in WordPress CMS</a></li>
<li><a href="../265247/index.html">HTML5 game development for Android from scratch to release</a></li>
<li><a href="../265249/index.html">Pedestrian Routing - New Challenge for OpenStreetMap</a></li>
<li><a href="../265255/index.html">Police forced the Chinese developer to remove the code from GitHub</a></li>
<li><a href="../265257/index.html">Mmmm ... Marshmallow: what's new in the Android 6 and Android SDK</a></li>
<li><a href="../265261/index.html">12 best Android application development frameworks</a></li>
<li><a href="../265263/index.html">Setting up an environment to test changes in the Linux kernel</a></li>
<li><a href="../265265/index.html">YouTrack 6.5 - Bug Tracker for the whole team</a></li>
<li><a href="../265269/index.html">Grokay * RxJava, Part One: The Basics</a></li>
<li><a href="../265271/index.html">What technologies are most often used on hackathons</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>