<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to build a smart home</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, the Wiren Board team is with you! 

 We are often asked: ‚ÄúWhat can be connected to your controller? How to build a ‚Äúsmart home‚Äù on it?...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to build a smart home</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/93c/879/d87/93c879d875724ef5a475255f94827479.jpg"><br><br>  Hello everyone, the Wiren Board team is with you! <br><br>  We are often asked: ‚ÄúWhat can be connected to your controller?  How to build a ‚Äúsmart home‚Äù on it? ‚Äù <br>  To clarify this issue a bit, we will show the stand where peripheral devices are connected to Wiren Board 4.  On his example, we will tell you about typical options for connecting devices and sensors. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You can look at the stand through the <a href="http://www.ivideon.com/tv/camera/100-bcaddf63e0efd533c9aaf6fc9fe7aa9c/0/%3Flang%3Dru">online broadcast</a> and go to the <a href="http://demo.contactless.ru/">demo web interface</a> . <br><a name="habracut"></a><br>  A short list of connected equipment: <br><ul><li>  <a href="https://habr.com/ru/company/contactless/blog/258677/">counters</a> : water and electricity, pulse and RS-485 / CAN </li><li>  <a href="https://habr.com/ru/company/contactless/blog/258677/">Sensors</a> : temperature and humidity, movement, smoke, flame, gas, water leakage </li><li>  <a href="https://habr.com/ru/company/contactless/blog/258677/">light control</a> : wired and wireless relays and dimmers </li><li>  <a href="https://habr.com/ru/company/contactless/blog/258677/">control of other equipment</a> through relays and digital outputs </li></ul><br><a name="counters"></a><br><h2>  Counters </h2><br><img src="https://habrastorage.org/files/4f2/c04/846/4f2c0484684c4201bcc8291ee8a72cf8.JPG" width="300" align="right"><br>  On the stand are installed pulse meters of electricity and water.  In addition to them, you can connect the electricity meters ‚ÄúMercury‚Äù via RS-485 and CAN, but they are large, and decided not to install them on the stand. <br>  In impulse counters, the principle of operation is as follows - for every N units (indicated on the device) contact closure occurs.  In water meters use reed switches, electric meters - optocouplers. <br><br> <a href=""><img src="https://habrastorage.org/files/078/ad0/208/078ad020887143ee9f40807f3bfc7dbc.png" width="400" align="left"></a> <br><br>  Connect the meter to the inputs of the ‚Äúdry contact‚Äù type.  The configuration file indicates the type of counter and constant (pulses per unit).  After that, the web interface is displayed as a total amount of readings and their rate of change (power in watts, liters per second, etc.) <br><br><a name="sensors"></a><br><h2>  Sensors </h2><br>  To collect information, you can connect the following types of sensors: <br><img src="https://habrastorage.org/getpro/habr/post_images/91c/e93/de5/91ce93de5703c5274ce89366efad8ce6.jpg" align="right"><br><h4>  Oregon Scientific Wireless Weather Sensors </h4>  They operate at a frequency of 433.92 MHz, they appear automatically in the controller interface - the controller shows all the detected sensors. <br><br>  Among the shortcomings - a small antenna in the transmitter of the sensor, so after a couple of walls it can not be caught.  Although on Habr√© there was <a href="http://habrahabr.ru/post/242481/">an article</a> about how to increase the range. <br><br><h4>  Temperature and humidity sensors connected via RS-485 </h4>  and working under the Modbus protocol.  They are connected to the common RS-485 bus together with other devices.  To appear in the web interface, you need to specify the type and address of the sensor in the configuration file. <br><br><h4>  1-Wire Temperature Sensors </h4>  Cheap.  When connected immediately appear in the web interface. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/32d/372/a6b/32d372a6bd24ad541185d56e14414059.jpg" align="left"><br><h4>  Motion Detector </h4>  Most of the detectors are made immediately for switching the load of 220V, such it is very difficult to connect to the controller.  But there are <a href="http://www.chipdip.ru/product/ma802/">models</a> with a relay output and 12V power supply - this is exactly what is connected at the stand. <br><br><h4>  Resistive sensors </h4>  Resistance 1-50kOhm, before use, calibration with a specific Wiren Board is required.  For home applications, there is little point in them.  But it can be useful.  An MQ-135 air quality sensor and a 10k thermistor are connected at the stand. <br><br><h4>  Smoke, fire, gas, water leakage sensors, etc. </h4>  There are a lot of such devices on the market, for convenient connection it is necessary to take with relay outputs, normally closed.  Then on one wire you can connect several pieces in series.  When a single sensor is triggered, it will break the common circuit, and the signal will go to the controller.  At the stand there, but the connection is similar to the motion detector. <br><br><h4>  External buttons </h4>  Buttons are not really sensors, but they are also convenient for organizing scenarios.  They can be connected either directly to the digital inputs of the controller, or to external modules on Modbus. <br><br><a name="light"></a><br><h2>  Light control </h2><br>  Someone says that control of the light is not necessary, others consider it the main function of the ‚Äúsmart home‚Äù.  Therefore, today we will pay more attention to the light. <br><br><img src="https://habrastorage.org/files/24c/632/d9b/24c632d9b56e4a34936c0500b7ece819.JPG" width="400" align="right"><br><br><h4>  LED strip control </h4>  LED strips come in two basic types: color-changing (RGB) and single-color.  Colored ribbons can be used at home for decorative lighting, and monochrome white and as the main lighting. <br><br>  To turn on the tape, you need to connect it to a voltage source of 12V (or 24V) through a dimmer for tapes.  Then, using a dimmer, you can control the color of the RGB tapes and adjust the brightness of the monochrome. <br>  Our booths are equipped with WB-MRGB dimmers of our production and Uniel and ‚ÄúSmart House‚Äù dimmers.  All of them are connected via RS-485 bus. <br><br>  In addition to them, a nooLite RGB dimmer is connected via a 433 MHz radio channel.  But since the installation of LED strips in itself implies a lot of work on the installation of the tapes themselves, wires, additional power supplies, we would also advise control devices to use wired ones.  Then you will get reliable operation with low price of modules, and the 433 MHz radio channel is still not immune from interference. <br><br><h4>  Dimming lamps 220V </h4>  The controller supports Uniel dimmers connected via RS-485.  If the lamps just need to be turned on / off, then relay units may be useful (our own ones are supported by ICP-DAS, Smart House, Uniel, etc.). <br><br>  Newbies (such are often found among developers) often think so - here I‚Äôll fill in the control of lights from an iPhone and there will be happiness.  The more experienced understand that control needs to be duplicated with wall switches (or a control panel).  Of course, going to the toilet with an iPhone is innovative, but the grandmother who came from the village would have to explain for a long time how to use it all. <br>  Solutions to the problem: <br><ul><li>  wall control panels - beautiful, comfortable, expensive </li><li>  ordinary switch.  The signal from it is inserted either directly into the controller, or into a digital input module connected via RS-485.  But the <a href="http://contactless.ru/peripherals/">relay and dimmer modules of our production</a> have inputs for two external control buttons.  This allows the modules to work completely autonomously - pressed the button, the light came on - and at the same time remain controlled from the controller.  In general, this increases the reliability of the entire system: if the central controller fails, the RS-485 bus breaks and in other emergency cases, the lighting and wall switches continue to operate normally. </li></ul><br><br><img src="https://habrastorage.org/files/2e8/1f6/1db/2e81f61db6da4c2c8d203f7100a5c5c8.jpg" width="250" align="right"><br>  The ‚Äúclassic‚Äù installation scheme involves the installation of all control equipment on a DIN rail inside the switchboards.  This is convenient, but the payback is tens of meters of wires from each light bulb and switch to the switchboard.  But this can be avoided if the control modules are located closer to the lamps and switches - then all the lamps are powered from the common wiring of 220V, and the control devices are connected by one RS-485 bus.  For ease of installation according to this scheme, we have developed a <a href="http://contactless.ru/store/">compact relay unit</a> with two channels of 5A each; it is placed even in a standard box. <br><br><a name="other"></a><br><h2>  Other load </h2><br>  A powerful power load - pumps, heat guns, groups of sockets - should be switched through contactors.  They usually have control coils on 220V (rarely on 12 / 24V), so they will have to use a relay output to control the contactor. <br><br><img src="https://habrastorage.org/files/ab7/74e/c8d/ab774ec8d7a5442b97b134ff7593146d.JPG" width="400" align="right"><br>  Examples of other devices on the stand: <br><ul><li>  a small 12V heater is connected directly to the relay output of the controller </li><li>  12V fan is switched on by the open collector output </li><li>  220V water pump is controlled via an external relay unit via RS-485 </li></ul><br>  The pump is also controlled by a physical button connected to the relay unit. <br><br>  To simulate a scenario to maintain a certain temperature, a mini installation was assembled from a heater, fan, thermal sensor and a large radiator.  At the same time, the details are arranged so that the delay between the sensor readings and the heater operation is manifested. <br>  This situation is often observed in practice - at first the boiler heats the water in the pipes, and only then the heat is transferred to the air.  To maintain a constant temperature, a rule for a thermostat is written on the script engine built into Wiren Board. <br><br><h2>  Conclusion </h2><br>  The complete scheme of our booth, where the connection of all devices is shown, see <a href="">here</a> . <br><br>  If you have any questions about the devices from the article or the connection of other devices, we will be happy to answer in the comments.  In the same place, we will be happy to hear stories about your experience in building smart homes and other automation. </div><p>Source: <a href="https://habr.com/ru/post/258677/">https://habr.com/ru/post/258677/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../258665/index.html">The digest of interesting materials from the world of web development and IT for the last week? 161 (May 18 - 24, 2015)</a></li>
<li><a href="../258667/index.html">Metaprogramming: what it is and how it should be</a></li>
<li><a href="../258671/index.html">How I use the traits</a></li>
<li><a href="../258673/index.html">Choosing ciphersuites for TLS and Logjam vulnerability. Yandex experience</a></li>
<li><a href="../258675/index.html">Moscow hackathon for machine learning - June 6-7, at the Microsoft office on Krylatskoe</a></li>
<li><a href="../258679/index.html">Restaurant Automation: 24 interesting tools</a></li>
<li><a href="../258681/index.html">Earn in cyber war</a></li>
<li><a href="../258683/index.html">Kotlin for Android</a></li>
<li><a href="../258685/index.html">The document that was waiting</a></li>
<li><a href="../258687/index.html">Travel to the world of technology - drones, cows surveillance, 3D printing of flying UAVs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>