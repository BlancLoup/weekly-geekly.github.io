<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Askozia - Call Route Editor</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As I wrote earlier , we have been using Asterisk-based IP ATC Askozia for about a year in our office. 
 Askozia is a commercial product, the price of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Askozia - Call Route Editor</h1><div class="post__text post__text-html js-mediator-article">  As <a href="http://habrahabr.ru/post/154533/">I wrote earlier</a> , we have been using Asterisk-based IP ATC Askozia for about a year in our office. <br>  Askozia is a commercial product, the price of which is equal to the cost of one IP phone. <br><br><img src="https://habrastorage.org/storage2/e34/793/ae8/e34793ae85e7c7e9ecfc439e464f1d25.png" align="left">  Today I want to tell you more about the call route editor, which is included in the extended version of Askozia. <br>  The editor allows you to create an unlimited number of Asterisk dialplans using a simple visual designer.  More than 60 separate modules are used to build routes.  Each module is translated into one or several Asterisk dialplan commands, and the route itself generates the necessary configuration files that are used by the core of the telephone system to handle calls. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Each route is assigned a separate internal number, and the administration panel itself looks like this: <br><br><img src="https://habrastorage.org/storage2/50c/37f/060/50c37f060922bf48d8db86283735ec32.png"><br><br>  Let's take a closer look at a few sample templates and the code that they generate: <br><br><h5>  A simple example of a voice menu </h5><br><img src="https://habrastorage.org/storage2/619/7fc/0d0/6197fc0d0e888d56b29d4745c07d4976.png"><br><br>  When an incoming call, the system picks up the phone, plays a greeting, which can be specified in a special block or immediately recorded using the phone, and then waits 5 seconds to dial an extension number.  Further, depending on the specified number, a subscriber is called.  If you enter the wrong number, the block with the letter i will work, if you haven‚Äôt dialed anything for 5 seconds, the block t will work.  Accordingly, in the last two cases, the subscriber will hear the "busy" signal. <br><br>  <i>This call route creates the following Asterisk dialplan:</i> <br><div class="spoiler">  <b class="spoiler_title">Expand code</b> <div class="spoiler_text"><pre><code class="php hljs">[CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39] ; Askozia call flow - CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39 exten =&gt; CALLFLOW-START,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-1</span></span>),Answer(<span class="hljs-number"><span class="hljs-number">0</span></span>) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-2</span></span>),Background(/storage/usbdisk1/askoziapbx/media/sounds/cfe/cfe_uploaded_file_1358338827) exten =&gt; CALLFLOW-START,n,WaitExten(<span class="hljs-number"><span class="hljs-number">5</span></span>) exten =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-3</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">Goto</span></span>(CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-SUB<span class="hljs-number"><span class="hljs-number">-3</span></span>,submodule,<span class="hljs-number"><span class="hljs-number">1</span></span>) exten =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-4</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">Goto</span></span>(CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-SUB<span class="hljs-number"><span class="hljs-number">-4</span></span>,submodule,<span class="hljs-number"><span class="hljs-number">1</span></span>) exten =&gt; i,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-5</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">Goto</span></span>(CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-SUB<span class="hljs-number"><span class="hljs-number">-5</span></span>,submodule,<span class="hljs-number"><span class="hljs-number">1</span></span>) exten =&gt; t,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-12</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">Goto</span></span>(CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-SUB<span class="hljs-number"><span class="hljs-number">-12</span></span>,submodule,<span class="hljs-number"><span class="hljs-number">1</span></span>) [CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-SUB<span class="hljs-number"><span class="hljs-number">-3</span></span>] exten =&gt; submodule,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-6</span></span>),Dial(SIP/<span class="hljs-number"><span class="hljs-number">101</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,go) exten =&gt; submodule,n(module<span class="hljs-number"><span class="hljs-number">-9</span></span>),Hangup() [CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-SUB<span class="hljs-number"><span class="hljs-number">-4</span></span>] exten =&gt; submodule,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-7</span></span>),Dial(SIP/<span class="hljs-number"><span class="hljs-number">102</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,go) exten =&gt; submodule,n(module<span class="hljs-number"><span class="hljs-number">-10</span></span>),Hangup() [CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-SUB<span class="hljs-number"><span class="hljs-number">-5</span></span>] exten =&gt; submodule,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-8</span></span>),Busy(<span class="hljs-number"><span class="hljs-number">3</span></span>) exten =&gt; submodule,n(module<span class="hljs-number"><span class="hljs-number">-11</span></span>),Hangup() [CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-SUB<span class="hljs-number"><span class="hljs-number">-12</span></span>] exten =&gt; submodule,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-13</span></span>),Busy(<span class="hljs-number"><span class="hljs-number">3</span></span>) exten =&gt; submodule,n(module<span class="hljs-number"><span class="hljs-number">-14</span></span>),Hangup()</code> </pre> <br></div></div><br><br><h5>  An example of a simple call queue with 3 static agents </h5><br><img src="https://habrastorage.org/storage2/c59/39c/8b2/c5939c8b21ada699e8548950f81c3313.png"><br><br>  This block allows you to receive more calls.  If all agents are busy talking, the subscriber is put on hold in a queue and waits until one of the agents is free and can process the call, if within 600 seconds none of the agents could handle the call, the subscriber will hear a busy signal. <br><br>  <i>This call route creates the following Asterisk dialplan:</i> <br><div class="spoiler">  <b class="spoiler_title">Expand code</b> <div class="spoiler_text"><pre> <code class="php hljs">[CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39] ; Askozia call flow - CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39 exten =&gt; CALLFLOW-START,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-1</span></span>),Answer(<span class="hljs-number"><span class="hljs-number">0</span></span>) exten =&gt; CALLFLOW-START,n,QueueLog(CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-QUEUE<span class="hljs-number"><span class="hljs-number">-2</span></span>,${UNIQUEID},NONE,CALLERID,${CALLERID(all)},,${CUSTOM1},${CUSTOM2},${CUSTOM3}) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-2</span></span>),Queue(CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-QUEUE<span class="hljs-number"><span class="hljs-number">-2</span></span>,Ct,,,<span class="hljs-number"><span class="hljs-number">600</span></span>) exten =&gt; CALLFLOW-START,n,QueueLog(CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-QUEUE<span class="hljs-number"><span class="hljs-number">-2</span></span>,${UNIQUEID},NONE,QUEUETIMEOUT,${CDR(duration)},${CDR(billsec)}) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-8</span></span>),Busy(<span class="hljs-number"><span class="hljs-number">3</span></span>) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-9</span></span>),Hangup()</code> </pre><br></div></div><br><br>  <i>Queue configuration:</i> <br><div class="spoiler">  <b class="spoiler_title">Expand code</b> <div class="spoiler_text"><pre> <code class="php hljs">[CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39-QUEUE<span class="hljs-number"><span class="hljs-number">-2</span></span>] music = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> strategy=ringall timeout=<span class="hljs-number"><span class="hljs-number">10</span></span> wrapuptime=<span class="hljs-number"><span class="hljs-number">30</span></span> ringinuse=yes periodic-announce-frequency = <span class="hljs-number"><span class="hljs-number">20</span></span> announce-holdtime=no joinempty=no leavewhenempty=no member =&gt; SIP/<span class="hljs-number"><span class="hljs-number">101</span></span> member =&gt; SIP/<span class="hljs-number"><span class="hljs-number">102</span></span> member =&gt; SIP/<span class="hljs-number"><span class="hljs-number">103</span></span></code> </pre><br></div></div><br><br><h5>  Record and send a conversation by e-mail </h5><br><br><img src="https://habrastorage.org/storage2/58f/738/93e/58f73893e62f7d4c275455c30b2b1c41.png"><br><br>  The example allows you to record all conversations with an internal number and send them to the e-mail specified in the settings of the sending module. <br><br>  <i>This call route creates the following Asterisk dialplan:</i> <br><div class="spoiler">  <b class="spoiler_title">Expand code</b> <div class="spoiler_text"><pre> <code class="php hljs">[CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39] ; Askozia call flow - CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39 exten =&gt; CALLFLOW-START,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-1</span></span>),Answer(<span class="hljs-number"><span class="hljs-number">0</span></span>) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-2</span></span>),Monitor(wav,/tmp/monitor-${UNIQUEID},m) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-3</span></span>),Dial(SIP/<span class="hljs-number"><span class="hljs-number">101</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,go) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-4</span></span>),StopMonitor() exten =&gt; CALLFLOW-START,n,System(sleep <span class="hljs-number"><span class="hljs-number">1</span></span>) exten =&gt; CALLFLOW-START,n,Set(MONITOR_FILENAME=/tmp/monitor-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Date: \`date\`"</span></span> &gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"To: rec@mail.ru"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Subject: AskoziaPBX Notification: Monitored call, Caller: ${CALLERID(all)}"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"From: AskoziaPBX call flow &lt;info@miko.ru&gt;"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"X-Mailer: AskoziaPBX"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Type: multipart/mixed\; boundary=\"EMAIL-44c364e83c7e7fd0bb50b238094a1780\"\n"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"--EMAIL-44c364e83c7e7fd0bb50b238094a1780"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Type: text/plain\; format=flowed\; charset=UTF-8"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Disposition: inline"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Transfer-Encoding: 8bit\n"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Your Records"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"--EMAIL-44c364e83c7e7fd0bb50b238094a1780"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Type: audio/x-wav\; name=\"monitor-${UNIQUEID}.wav\""</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Transfer-Encoding: base64"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Disposition: attachment\; filename=\"monitor-${UNIQUEID}.wav\""</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(uuencode -m /tmp/monitor-${UNIQUEID}.wav monitor-${UNIQUEID}.wav &gt;&gt; /tmp/email-attachment-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(cat /tmp/email-attachment-${UNIQUEID} | tail +<span class="hljs-number"><span class="hljs-number">2</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"--EMAIL-44c364e83c7e7fd0bb50b238094a1780--"</span></span> &gt;&gt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(/usr/bin/msmtp -C /etc/msmtp.conf -t &lt; /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(rm -f /tmp/email-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(rm -f /tmp/email-attachment-${UNIQUEID}) exten =&gt; CALLFLOW-START,n,System(rm -f /tmp/.monitor-${UNIQUEID}.wav) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-5</span></span>),Hangup()</code> </pre><br></div></div><br><br><h5>  Scheduled Routing </h5><br><img src="https://habrastorage.org/storage2/2ac/5c7/fe8/2ac5c7fe83308d96b222ccdf9039e4b8.png"><br>  This diagram shows an example of call routing depending on the time of day and day of the week.  For example, during business hours, all calls go to the secretary, and during non-business hours to voice mail. <br><img src="https://habrastorage.org/storage2/000/155/354/0001553541b3b34669712889bb3f3913.png"><br><br>  This route uses a speech generation mechanism that allows the subscriber to pronounce the phrases specified in the module settings.  Unfortunately, only in English, so for Russian-speaking subscribers these blocks can be replaced by playing pre-recorded speech fragments. <br><br>  <i>This call route creates the following Asterisk dialplan:</i> <br><div class="spoiler">  <b class="spoiler_title">Expand code</b> <div class="spoiler_text"><pre> <code class="php hljs">[CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39] ; Askozia call flow - CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39 exten =&gt; CALLFLOW-START,<span class="hljs-number"><span class="hljs-number">1</span></span>(module<span class="hljs-number"><span class="hljs-number">-2</span></span>),Answer(<span class="hljs-number"><span class="hljs-number">0</span></span>) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-6</span></span>),NoOp(TimeSwitch module: <span class="hljs-number"><span class="hljs-number">2</span></span>)) exten =&gt; CALLFLOW-START,n,GotoIfTime(<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span><span class="hljs-number"><span class="hljs-number">-16</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>,mon-fri,*,*?module<span class="hljs-number"><span class="hljs-number">-8</span></span>) exten =&gt; CALLFLOW-START,n,<span class="hljs-keyword"><span class="hljs-keyword">Goto</span></span>(module<span class="hljs-number"><span class="hljs-number">-9</span></span>) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-8</span></span>),Playback(/storage/usbdisk1/askoziapbx/media/sounds/cfe/speech_8_CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-11</span></span>),Dial(SIP/<span class="hljs-number"><span class="hljs-number">101</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,go) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-13</span></span>),Hangup() exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-9</span></span>),Playback(/storage/usbdisk1/askoziapbx/media/sounds/cfe/speech_9_CALLFLOW<span class="hljs-number"><span class="hljs-number">-1401202953509</span></span>d662fafd39) exten =&gt; CALLFLOW-START,n(module<span class="hljs-number"><span class="hljs-number">-10</span></span>),Hangup()</code> </pre><br></div></div><br><br><h5>  Video demonstration of work with the designer </h5><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/otFHOzSciRA%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhiq6W16uNCzW35twP8OWgwKTM3AGQ" frameborder="0" allowfullscreen=""></iframe><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/s7bBPphTpJY%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhjfvdGPDb42sW68XR-B89dwK5T-Vw" frameborder="0" allowfullscreen=""></iframe><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/ri7L1NvSb9c%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhgqX_UTkLoDF_wM-kYzzUHC-EYVrQ" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  Conclusion </h5><br>  Agree that writing a call route using a constructor is much more convenient than simple coding, however, in most cases you need to understand how Asterisk dialplans are written and work in order to build a more or less working call route. <br><br>  In more detail about Askoizia you can read on the site <a href="http://www.askozia.ru/">http://www.askozia.ru</a> <br>  Description of all modules is available at <a href="http://wiki.askozia.ru/handbook:cfe:modules">http://wiki.askozia.ru</a> </div><p>Source: <a href="https://habr.com/ru/post/165971/">https://habr.com/ru/post/165971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../165959/index.html">Using D-Bus in web systems</a></li>
<li><a href="../165961/index.html">Can Twitter and blogs predict the future? At the Pentagon they say - maybe</a></li>
<li><a href="../165963/index.html">CROC IT office: a place where system integrators live</a></li>
<li><a href="../165965/index.html">Curiosity at the bottom</a></li>
<li><a href="../165969/index.html">If I have 30 thousand rubles, what can I invest in?</a></li>
<li><a href="../165973/index.html">Apple leaves retail vice president Jerry McDougal</a></li>
<li><a href="../165975/index.html">The wheels of the future, as they are today</a></li>
<li><a href="../165979/index.html">Politix.ru - political profile in the network</a></li>
<li><a href="../165981/index.html">Message Queue</a></li>
<li><a href="../165985/index.html">Started restoring deleted articles from Wikipedia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>