<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Scant him</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 Today I want to make out another classical task for combinatorial games - a scanty one. Everyone knows that in the theory of games with a nor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Scant him</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br>  Today I want to make out another classical task for combinatorial games - a scanty one.  Everyone knows that in the theory of games with a normal ending it occupies a central place, since all combinatorial games with a normal ending are reduced to it.  Let's see how things are with the modification of the usual neem. <a name="habracut"></a><br>  First, let us recall the formal definition of a neem, the strategy of the game and the theorems associated with it. <br><table><tbody><tr><td>  <b>Nim</b> is a math game in which two players take turns taking items laid out in several piles.  In one move can be taken any number of items (greater than zero) from one pile.  Wins the player who took the last item. </td></tr></tbody></table><br>  How to determine who will win in the optimal game of both rivals?  This is what the Buton theorem tells us: <br>  Let there be N heaps of neem, the number of pebbles in each of them <img src="https://habrastorage.org/getpro/habr/post_images/882/ff5/cd8/882ff5cd847d676274c1efdab5a7ce4f.gif">  .  Then the current position is losing if <img src="http://s56.radikal.ru/i151/1004/f0/7109ac8af45c.gif">  where <img src="http://s51.radikal.ru/i132/1004/20/2327bcd95104.gif">  - The bit modulo 2 (xor) icon.  The proof of the theorem is based on the fact that from any position with a zero one-sum it is possible to go only to a position with a non-zero (except for empty piles), and from any position with a non-zero one-sum it can always go to a position with zero.  After a correct sequence of moves, a player with a non-zero him-sum always wins, since after his moves he leaves zero-him sum, strictly reducing the number of stones, therefore, sooner or later it is he who will take the last stones.  Let's see how this theorem works with an example, let us have three piles with the number of 3, 8, 15 stones in each.  We write these numbers in a column in the binary representation and calculate xor, it is equal to zero, then the second player, let's call it Y, is in the winning position.  His strategy is to leave a position with zero him-sum by any course.  Consider possible moves, where Y sticks to its strategy and eventually wins: <br><img src="http://i058.radikal.ru/1004/d0/18700adc1606.png"><br>  It turns out that the strategy of the game in it is simple, it is even easier to determine the winner with the optimal strategy, now let's move on to our scanty neem task.  The rules are the same with him, except for one thing: now the one who takes the last stone loses.  Our task is to determine by the size of the piles who will win at the optimal strategy.  This time the game is miserable, so it is not always possible to reduce it to it, we do not have clear algorithms and approaches to solve this problem, they will have to be invented from scratch.  In the solution I proposed, we will try to reduce the meager one to the usual, in this case it is possible, but after some conclusions. <br>  So, first we need to find a position that will be a winning one for a scanty neem, as well as for a normal one, for this we present the case when there are K piles of unit size and one pile on the table <img src="https://habrastorage.org/getpro/habr/post_images/b07/b02/893/b07b02893c51e90457b856a827110a1f.gif">  with the size of more than one stone.  In the event that we play the usual him, I will take from <img src="https://habrastorage.org/getpro/habr/post_images/b07/b02/893/b07b02893c51e90457b856a827110a1f.gif">  the stones, leaving one or zero so that after my move the opponent got an even number of single piles, then I will win with any strategies;  and if we play the meager one, then I will leave an odd number of heaps with one stone.  Thus, we have found the position in which the player wins in both games.  Now we divide all possible starting positions into two groups: <br><ul><li>  On the table only single handfuls </li><li>  There are heaps of two or more on the table </li></ul><br>  It is easy to see that in the first case, to give an answer, it suffices to check the parity of the number of heaps.  In the case of evenness, X wins, in the case of odd Y. Now we consider the second case.  You may notice that the optimal strategy here will be to reduce the game to the position indicated by us with K in single piles and <img src="https://habrastorage.org/getpro/habr/post_images/b07/b02/893/b07b02893c51e90457b856a827110a1f.gif" alt="image">  a bunch more than one size, let's call this position A. And no matter how the game passes, position A will be reached one of the players sooner or later.  Whoever gets into this position will win, both in a scanty and normal, and from this it follows that we can check the starting position for winning, as if we were playing in a normal position, calculating the xor of all the piles.  If xor is zero, then the second player will get to position A first, where nothing will prevent him from making a winning move in a scanty name.  Otherwise, this move will get X. <br>  Thus, breaking the game into two cases, we easily overcome our task, here is its solution written in java: <br><blockquote><code><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> <font color="black">Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> <ol> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li> <code><font color="black"><font color="#0000ff"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); else <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6774/s"></a> <a href="http://s-c.me/6774/h"></a> Copy Source | Copy HTML <font color="#0000ff">int</font> n = nextInt(), K = <font color="#A31515">0</font> , nimSum = <font color="#A31515">0</font> ; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i= <font color="#A31515">0</font> ; i&lt;n; i++) { <font color="#0000ff">int</font> size = nextInt(); <font color="#0000ff">if</font> (size == <font color="#A31515">1</font> ) K++; nimSum ^= size; } <font color="#0000ff">if</font> (n - K &gt;= <font color="#A31515">1</font> ) <font color="#0000ff">out</font> .println(nimSum == <font color="#A31515">0</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> ); <font color="#0000ff">else</font> <font color="#0000ff">out</font> .println((K&amp; <font color="#A31515">1</font> )== <font color="#A31515">1</font> ? <font color="#A31515">'Y'</font> : <font color="#A31515">'X'</font> );</font></code> </li> <li></li></ol></blockquote><br>  There is no general approach to scanty games, sometimes they come down to games with a normal ending, sometimes not, they just need intelligence and a little imagination) <br>  Thanks for attention. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/91272/">https://habr.com/ru/post/91272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../91261/index.html">Flat mouse concept</a></li>
<li><a href="../91262/index.html">ClangBSD collects itself</a></li>
<li><a href="../91265/index.html">Do you go to the interview without information about the fork salary?</a></li>
<li><a href="../91266/index.html">Hacked Gmail account</a></li>
<li><a href="../91270/index.html">Data storage in the Windows Azure cloud</a></li>
<li><a href="../91274/index.html">MGTS, forget about me forever!</a></li>
<li><a href="../91275/index.html">A look at the problem of piracy</a></li>
<li><a href="../91276/index.html">Small Add-In for Visual Studio</a></li>
<li><a href="../91278/index.html">7 ways to determine the host site</a></li>
<li><a href="../91280/index.html">CONQUIZtador - the game of erudition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>