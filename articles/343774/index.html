<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hole from a hosting provider or how to get access to a remote (not active) account</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Thank you Elasticweb 
 Prehistory 
 I have one site, transferred from this hosting long before the discovery of the vulnerability, developed by two di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hole from a hosting provider or how to get access to a remote (not active) account</h1><div class="post__text post__text-html js-mediator-article"><h2>  Thank you Elasticweb </h2><br><h3>  Prehistory </h3><br>  I have one site, transferred from this hosting long before the discovery of the vulnerability, developed by two different companies, whose names I will not name for <s>inexplicable</s> understandable reasons.  The site has undergone significant changes, both in the interface structure and in moving to another management system (a <u>significant moment in this story</u> ). <br><br>  He lives his own site with his life, does not bother anyone, when suddenly I receive requests for a specific directory, with a frequency of exactly 1 minute, from the same ip.  Plus, rare requests from different ip, aimed at finding the administrative panel of the site.  Of course, I blocked the ip, but he continued to insist on his. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/402/2a1/5d7/4022a15d7f07f644dd22356df5f98685.jpg" alt="image"><br><a name="habracut"></a><br>  After reviewing the logs of errors and visits, I decided to check what kind of ip is and who owns it.  With short manipulations, I find out that the ip belongs to Elasticweb, a hosting provider, which had the previous version of the site, but the account was inactive and abandoned. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Without thinking twice, I decided to call their technical support and find out what the matter was, who the author of the requests was and how long it would last (it <i><u>lasted more than 12 hours</u></i> ).  Unfortunately, I did not find the phone numbers on the website of this company or in open sources, which made me write a tick in technical support. <br><br><h3>  Outset </h3><br>  The first thing that struck me was the unwillingness of support to sort out the situation in detail and simply close the ticket, after literally the first message. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/742/ae2/cfa/742ae2cfa18c3bf98e7800d339c0b8fc.jpg" width="50%" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/01a/7d2/469/01a7d2469f7b68b5e06b06b57aa51343.jpg" width="50%" alt="image"><br><br>  Since I had suspicions about who could be behind this act, I decided to check with technical support about a specific account (the <u><i>one on which the site was once located</i></u> ).  After a short wait, <s>in fact, for quite a long time</s> , I received an answer that indeed, all the manipulations were carried out from this account, but access to the account can be obtained via the email address specified in the account. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a77/6a9/269/a776a9269b3589a4c223d4677207280c.jpg" alt="image"><br><br>  I decided to contact the previous developer and get information on account access from him, and I received a definite answer that the account was deleted due to non-payment of hosting. <br><br>  After some explanations with technical support on the topic ‚ÄúThere is no access because‚Äù, it turned out that the account seems to be deleted for non-payment and there is no access to it, but it still exists and continues to work as a backup version (which completely contradicts the previous answers). <br>  I decided to clarify how it could be that the account was deleted, there is no access to it from the Web version, but still someone could set the task to Cron. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e33/a7a/99c/e33a7a99ccfaa419a0803fe9b309d6e5.jpg" alt="image"><br><br>  Poryskav in the stories of correspondence, found access to the FTP of this hosting, to this account. <br>  What the hell is not joking, I thought, and launched an FTP client. <br><br>  What was my surprise when I saw the contents of the root directory and files with backup on the screen?  To say that I was surprised, to say nothing.  With the allegedly deleted account and the lack of access to it, in some miraculous way, I received the entire contents of the account and was able to safely transfer it to my computer.  After analyzing the last recorded logs, it turned out.  that not only FTP works, but SSH is open and through this vulnerability Cron was launched. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/42d/bac/dff/42dbacdfffd694d321c690ffc18468d1.jpg" alt="image"><br><br>  I wrote another request to tech support, I received a very interesting answer.  According to the hoster, the previous developer installed the Cron task after they deleted everything, they don‚Äôt see any problem and close the ticket. <br><br>  To paraphrase, you get the following: <br><br><ul><li>  <i>We know that we have a hole that allows you to connect to a blocked, unpaid and inactive account, manipulate it and get quite a working result.</i>  <i>But we will not do anything with it, because therefore.</i>  <i>Understand yourself, and we close the ticket and do not want to listen to you anymore.</i> </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/c3c/b4d/58b/c3cb4d58b4f4896ab8fb35d6bf0f60a5.jpg" width="50%" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/bd4/3d2/598/bd43d259818e046038298b68bc459bb4.jpg" width="50%" alt="image"><br><br>  Actually on this communication with technical support was completed, and the ticket was forcibly completed. <br><br><h3>  Cause and investigation </h3><br>  Based on this story, I found out for myself the following: <br><br><ol><li>  When transferring the site, changing the owner, developer or just changing the hoster - be sure to change all accesses, passwords, directory names, set access to the control panel by IP or the like, and even better change the management system if there is a possibility.  It was the change of the management system that provided me with the protection of my data, because on the way the attacker turned to, the last hosting contained a configuration file, and possibly a wired remote access shell, which the last developer left. </li><li>  Do not trust the hoster in a word.  Check for vulnerabilities yourself, read reviews and make backups!  The last point is obvious, but not all do it. </li><li>  Choose a hoster with at least SSH access for a certain time when you need it.  Put different data for FTP, SSH, sFTP and other accounts, believe it is this approach that will help not only to save the data, but also to determine from which account the manipulations were made, if any. </li></ol><br>  PS This article by no means aims to belittle anyone's rights.  Everything described above was the place to be, as I would like to warn everyone who reads this article.  Be careful, let us come back with you! </div><p>Source: <a href="https://habr.com/ru/post/343774/">https://habr.com/ru/post/343774/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343762/index.html">AI systems have learned how to create smart models for ML: a digest for beginners.</a></li>
<li><a href="../343764/index.html">The digest of interesting materials for the mobile developer # 232 (November 27-December 3)</a></li>
<li><a href="../343766/index.html">When you start a startup and find out that it is not a startup at all</a></li>
<li><a href="../343770/index.html">Lecture Yandex: Advanced UI, Part One</a></li>
<li><a href="../343772/index.html">‚ÄúI am watching you‚Äù or how to make SCADA from CADa (MultiCAD.NET API)</a></li>
<li><a href="../343776/index.html">Ideal catalog, data sample optimization</a></li>
<li><a href="../343778/index.html">Entity-Component-System Design Pattern - implementation and sample game</a></li>
<li><a href="../343780/index.html">Virtual Pentest Laboratory</a></li>
<li><a href="../343782/index.html">Two years of successful use of Edition-Based Redefiniton in Oracle databases</a></li>
<li><a href="../343784/index.html">C ++ crashes in WebAssembly on different browsers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>