<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AVRDudeR - embed avrdude in IDE</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Arduino is a good platform for do-it-yourself like me. 
 Comfortable, everything is already there. 

 What is the problem? 
 I don‚Äôt like the software...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AVRDudeR - embed avrdude in IDE</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/421/70d/841/42170d841f25126ac7e3d6da12106131.jpg"><br>  Arduino is a good platform for do-it-yourself like me. <br>  Comfortable, everything is already there. <br><br><h5>  What is the problem? </h5><br>  I don‚Äôt like the software part.  Especially awful is the Arduino IDE.  Each file opens in a new window, leaving an empty running IDE window.  And other minor nonsense, which are accustomed to the convenience of Visual Studio, Borland / Embarcadero RAD IDE upset and cause displeasure. <br>  Fortunately, we can use any IDE which one we like.  For ready-made projects that only compile and flash or your own trial crafts, that Wiring stub, compiled by the Arduino IDE, is quite suitable. <br>  For convenience, I use Visual Micro Arduino - the convenience of Visual Studio, quick compilation, flashing using standard tools. <br><br><h5>  Arduino without Arduino IDE </h5><br>  The step above is direct work with a microcontroller, here you are free to do what you want.  Often it is more convenient than to understand the stuffing libraries Arduino.  But you have to use either AVR Studio or a third-party IDE and Atmel compiler (good, it's completely free and is included with AVR Tools). <br>  Everything is good, but they know nothing about Arduino and cannot flash it.  And here begins the inconvenience. <br><a name="habracut"></a><br>  Who are not interested in the details, go straight to the point, <a href="https://habr.com/ru/post/140276/">download and customize</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AVR Studio is a good environment, although version 4 is quite primitive, and 5th is heavy.  Neither one nor the other except through the firm programmer can not flash.  Ambush. <br>  I took a bootloader project that is compatible with AVR Studio, pretending to be an AVRISP programmer.  The interface with it in AVR Studio was far from the most successful. <br><br><h5>  What to do? </h5><br>  There is AVRDUDE - a free flasher that works with almost all programmers for ATMEL microcontrollers.  But he console.  It seems to be no problem, I wrote a cmd or bat file and everything, run it after compilation and the whole business.  But I, like many, probably, do not have one pay.  And each Arduino board is seen in the system as a separate COM port.  Every programmer too.  The boards have different microcontrollers (Atmega168P, Atmega328P).  Apart from self-made Arduino-compatible boards or even with a bare microcontroller and strapping. <br>  Each time I climb into the bat file and edit the settings for different boards or switch to another application to run it for firmware, to check if I changed a couple of bytes in the code, I personally get bored, and there are a lot of errors, and the controller does not kill for long.  Worse, with FTBB the programmer works only a separate version of avrdude, patched under it and knowing nothing about arduino.  So, if we flash through it, then you need to keep one more bat file. <br>  In Code :: Blocks IDE, which I liked more about the formatting options and the convenience of working with the code, the situation is not much better, except that you can pass parameters to an external utility. <br><br><h5>  Automate the launch of avrdude with the necessary parameters </h5><br><a name="DL"></a><br>  I got tired of this situation and I wrote a small program that receives 2 parameters on the command line: <br>  - name of the configuration file <br>  - firmware file name <br><br>  The utility launches avrdude itself with the parameters specified in the configuration file (just a file with ready-made settings for flashing), waits for the firmware and closes.  This allows you to flash the project into any existing microcontroller during the debugging process in 2 clicks directly from Code :: Blocks. <br>  If you run with one parameter, it will read the corresponding configuration file, if with two, it will try to automatically fill in the firmware from the second parameter. <br><br>  If interested, download <a href="http://code.google.com/p/r-rc-robot/downloads/detail%3Fname%3DAVRDudeR.rar%26can%3D2%26q%3D">AVRDudeR</a> <br><br>  Integrating into an IDE is very simple (longer to tell than to do): <br>  Add two menu items to the Tools menu - to change the settings and for the firmware <br><img src="https://habrastorage.org/storage2/27b/626/5ab/27b6265ab2e9f3f752d502817fb6ec21.jpg"><br>  To change the settings, we register: <br><img src="https://habrastorage.org/storage2/39e/d8e/cd2/39ed8ecd2ff8afff2b6ba6e9b6b2ab71.jpg"><br>  For firmware: <br><img src="https://habrastorage.org/storage2/14b/61e/bba/14b61ebba9f582b58b8edbf02463519f.jpg"><br>  In fact, the settings are written in: the <b>first parameter</b> is the avrdude.ini file, which we save when setting up in the project folder, the <b>second parameter</b> is the name of the firmware file. <br><br>  The setup process looks like this: <br><ul><li>  We connect the programmer or Arduino board with which we will work so that the necessary COM port appears in the system. </li><li>  Run Tools-&gt; R AVRduder: Setup, select the settings and save the file with the settings in the project directory under the name avrduder.ini (or the one specified in the settings).  We close the utility </li></ul><br><br>  Now, after compiling the project, select Tools-&gt; R AVRDudeR: Flash and ready. <br><br>  Both versions of avrdude are already in the archive, you do not need to configure anything and register it in AVRDudeR. <br><br><h5>  A little bit about the settings: </h5><br><img src="https://habrastorage.org/storage2/421/70d/841/42170d841f25126ac7e3d6da12106131.jpg"><br>  <b>MCU</b> - microcontroller (the friendly name and code for the command line avrdude program takes from mcu.lst) <br>  <b>Programmer</b> - the programmer.  FTBB, Arduino with corresponding firmware as an ISP programmer (ArduinoISP), or directly connected Arduino.  (The text of the menu items and codes for the programmer line in the file programmers.lst) <br>  <b>Port</b> : well, actually the COM port of the programmer or Arduino (therefore, it is necessary that the board be connected during configuration). <br>  <b>Baud rate</b> : port speed.  For Arduino to UNO - 57600, UNO - 115200. In your bootloader you know which one you configured, and for FTBB mode this parameter is ignored. <br>  <b>Dude type</b> : just here and choose which avrdude - normal or for FTBB programmer to use. <br>  Galka <b>Show Result</b> - open the firmware window when the firmware is visible, if you are not interested and you are sure that everything is working correctly, do not install it, the program will simply display a message when avrdude finishes and closes itself. <br><img src="https://habrastorage.org/storage2/397/d63/d0b/397d63d0ba142d0b6c912ebf3ee58113.jpg"><br><br>  The program itself can be used to fill the firmware directly, without embedding. <br>  simply double-click in the Firmware field, select the firmware file (or simply paste the path to the file with your hands) and click Flash Firmware.  The configuration file also works in this case. <br><br>  If the controller was changed or connected to another port, through another programmer, simply select Tools-&gt; R AVRDuder: Setup and the file with the settings of this project opens (or the default settings if there is no avrduder.ini in the project folder).  We change the port or programmer, controller or whatever we have changed and save avrduder.ini back to the project folder.  Everything. <br><br>  Yes, avrdude.ini can be simply dragged from project to project, if you work with the same boards / programmers.  Just copy it to the new project folder and you can not customize anything at all. <br>  Oh yeah, I almost forgot, in Code: Blocks I chose the GNU AVR GCC Compiler and indicated only the folder to AVR Tools.  And the project is set up like this: <br><img src="https://habrastorage.org/storage2/e3c/334/56f/e3c33456f340da13405ad60bd4e976f7.jpg"><br>  Then the compiler creates a .elf.hex file, which we flash.  If yours is different, change the second parameter passed to AVRDudeR to transfer the name of the firmware file. <br><br>  I hope it will save someone‚Äôs nerves, increase productivity and allow you to focus on the actual work on the idea, rather than messing around with a bunch of pribluds every time you compile and upload a project. <br>  If the utility is useful, use on health. <br>  <b>UPD</b> The utility still <a href="http://ravwin.livejournal.com/60892.html">came in handy</a> . <br>  The new version is available on <a href="http://code.google.com/p/r-rc-robot/downloads/detail%3Fname%3DAVRDudeR_v2.0.1.12.rar">google code</a> <br><img src="https://habrastorage.org/storage2/8c6/0b0/1d9/8c60b01d99ea46ff23017d9a8fedeb28.jpg"></div><p>Source: <a href="https://habr.com/ru/post/140276/">https://habr.com/ru/post/140276/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140269/index.html">Linux kernel 3.3 supports Android</a></li>
<li><a href="../140270/index.html">Problems transfer utf-8 from a form in JAX-RS (REST)</a></li>
<li><a href="../140273/index.html">New resource for help in setting up social networks, BlissControl.com</a></li>
<li><a href="../140274/index.html">Kalman Filter - Introduction</a></li>
<li><a href="../140275/index.html">Validation in Yii</a></li>
<li><a href="../140277/index.html">OpenStreetMap News ‚Ññ15: + 90% on osm.org, the best routing service, Wikipedia objects on the map, Vladivostok transport</a></li>
<li><a href="../140278/index.html">Battle Testing Wifi Protector: Protecting ARP Table</a></li>
<li><a href="../140279/index.html">PHP developers migrated to git</a></li>
<li><a href="../140280/index.html">The Humble Bundle for Android 2</a></li>
<li><a href="../140282/index.html">Photo report from competitions in robotics in Murmansk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>