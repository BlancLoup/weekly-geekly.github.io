<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Home Wireless on Cisco Mobility Express with Kettle Hands</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How it all began 
 As usual, such thoughts come when there is nothing to do. So, being at sea, I thought: why not make a seamless wi-fi at home ... As...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Home Wireless on Cisco Mobility Express with Kettle Hands</h1><div class="post__text post__text-html js-mediator-article"><h2>  How it all began </h2><br>  As usual, <b>such thoughts come when there is nothing to do.</b>  So, being at sea, I thought: why not make a <b>seamless wi-fi at home</b> ... As luck would have it, the father-in-law bought Netgear Orbi, which worked surprisingly well. <br><br><h3>  What I had at that time </h3><br>  Residential house on two owners with a reinforced concrete wall in the middle;  5 different routers (accumulated) connected via a Cisco gigabit switch, one of which - Asus RT-N66U - also served as a router. <br><br>  Honestly, I wouldn‚Äôt say that everything worked badly: it was strained that customers would grip the teeth and not release the network when going from point to point;  I was not satisfied with the speed a bit, although, in fact, even the g standard was quite enough, and n even more so. <br><a name="habracut"></a><br>  It is clear that the first task could be solved by picking in the settings (as I understand it - by setting a threshold at which you can connect to the network) + maybe even dividing the points along the channels and assigning the same ssid would result in almost roaming.  But this is not interesting!  You had to borrow something + spend money. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Formulation of the problem </h3><br><ul><li>  fast switching between access points (the seamless switching was not part of the task) </li><li>  confident reception at all points of the house, and preferably on the street </li><li>  802.11ac, and preferably with multi mimo - just to be, for the future ... </li><li>  One of the most important requirements is that it all work stably and without a headache, because  once it is interesting to play with it, but to constantly play (especially when you are not at home, and they call you and say - Skype has disconnected) - I don‚Äôt really want to </li></ul><br>  The budget was not the determining factor, but, of course, was also taken into account when choosing. <br><br><h3>  Finding a solution </h3><br>  The mesh option (or the same Orbi Netgear) I didn‚Äôt like very much initially, since  there was a ready local gigabit network, and I did not see the point in establishing a connection between points without wires. <br><br>  Most of all, as it seemed to me, to solve my problem, they recommend Mikrotik and Ubiquiti in the network (both names had to be searched again in the internet, I just can‚Äôt remember their correct spelling). <br><br>  A good option seemed to me Edimax equipment.  I honestly did not think about tsiska, because  it was written everywhere that it would cost cosmic money and no one at all needed a priori. <br><br>  At first, I was leaning towards Edimax, especially as I understood only that he implemented most of the protocols to ensure maximum seamlessness (802.11r / k).  However, something that scared me was not a strong prevalence (as a result - possible problems with support) and a true Taiwan origin.  Perhaps nothing and everything works there like a clock ... But I started to look more towards Mikrotik / UniFi (Ubiquiti). <br><br>  Then I began to meet quite a lot of discussions why one or the other does not work in these options and how to get around it.  Doubts began to creep in. <br><br>  I decided to talk to those who put this equipment.  I found a company that professionally installs such equipment.  In addition to the above, their site offered Zyxel equipment. <br><br>  The engineer of the company (by the way, I really liked the communication with him, and if I‚Äôd stopped on these brands, it‚Äôs possible that I‚Äôd give all the settings to them) said that most of all they make such networks on UniFi, which is positioned as more reliable than with Mikrotik, but also a bit more expensive.  There was also a variant of some American, no less rare than Edimax and terribly expensive equipment. <br><br>  At some point, the engineer said the following: You must have been reading there about the fact that the points hang.  But this issue is resolved, because  smart switches ping them and overload them if they hang.  In general, this thought immediately made me start thinking in the direction of something more serious, so that it would not be necessary to check it for a hang, but which simply would not hang ... <br>  To the question ‚Äúis it possible to do the same on a tsiska,‚Äù the engineer answered that it would be too difficult for me to operate and they do not work with cisco. <br><br><h3>  Comparison with Cisco equipment </h3><br>  The complexity of me somehow not very scared.  Though I have nothing to do with tea and ah, I like to dig deeper into something difficult.  And even if I had to set everything up <br>  only through the terminal (but once) - this would be normal. <br><br>  But what I didn‚Äôt like was that a superficial study of the issue meant that Cisco needed to buy a wireless network controller that would manage all the access points.  And the price only for it was several tens of thousands of rubles.  Sense in this for 5 access points and 20-30 clients I, of course, did not see. <br><br>  In the above brands, controllers cost much less. <br><br>  I must say that the price of the access points themselves did not differ fundamentally: in the region of 6 thousand rubles.  on UniFi (which was in priority at that time) and less than 11 thousand for the initial version of the tsiska.  Those.  the total difference for 5 access points was no more than 20 thousand, which was not a matter of principle. <br><br>  But further study of the issue surprised me a lot more: I realized that, apparently, entry-level access points can also be Mobility Express controllers at the same time. <br><br>  If that were true, it would change the picture a lot: for the same unit, I needed to buy smart switches, overloading points, it is not clear where to put them, and buy a controller.  And at a tsiska - only access points.  In this form, the tsiska for the price was even a little cheaper (only if you did not take native PoE adapters for 5k rubles apiece - as a result, you would take Dlink for 1k rubles for the adapter). <br><br>  It was necessary to make sure that I understood everything correctly.  The disadvantage of tsisko was that it was quite difficult to understand that I was right.  Even having read articles on Habr√© confidence that everything will not start at all. <br><br>  Plus, the selling version of the point I chose - aironet 1815w - is delivered to the Russian Federation without Mobility Express (ME). <br><br>  I asked a tsiska representative on Habr√©, to which I was politely sent to the tsisko support service. <br><br>  To my surprise, the customer service answered very politely and quickly.  So I managed to find out that a) everything will work b) I will be able to reflash the access point myself. <br><br><h2>  Implementation </h2><br>  Still, for starters, I decided to buy 3 access points per sample.  I also decided to change the marshutizer to cisco rv320 (I must say that the asus almost never failed, but failed several times at a very inappropriate moment - when in China you use the built-in router vpn to bypass the "great Chinese firewall" - by the way, it works several times better paid vpn services). <br><br><h3>  And then the difficulties began </h3><br>  That moment came when I began to wonder what I had done at all.  Access points did not want to connect via ssh or telnet (I‚Äôm not talking about the web, it was immediately clear that it is only in the ME (Mobility Express) version. It was Friday evening, there was nobody to ask. At the weekend I read a lot of everything. I understood that it is difficult to understand the tsiska precisely because some things are very poorly described, or rather described as if I had completed the tsiska courses and I already have an answer to half the questions. <br><br>  For example, the connection through the console was described as an absolutely obvious thing.  Probably, after an hour of study, I realized that the console is a special adapter that cannot be bought just like that in the Russian Federation (and judging by foreign forums - and they too). <br><br>  Also, it was not at all obvious when acquiring an AP that I needed a service contract just to have access to the firmware.  I, in fact, do not see anything wrong with this, but I must somehow warn in advance in a simple, obvious way. <br><br>  On weekends, I thought about how everything worked well without tsiska.  I wrote a letter in support of all to the same kind person, such as how can I get them: there is neither firmware, nor console adapter (AIR-CONSADPT =).  On that, on Monday morning, a sympathetic Victor offered to solve both problems (recalling, however, that it would be nice to purchase a service contract).  I exhaled with relief. <br><br><h3>  Firmware and configuration </h3><br>  There were no problems with the console: I connected via Putty, I patched one of the points and switched it to the Mobility Express mode.  After that, it became possible to customize everything through the web interface, which, of course, pleased me. <br><br>  The remaining 2 points also connected without problems: already through the web interface gave them access to the firmware on tftp. <br><br>  The question remained unclear: can I connect to a separate access point, if I turn off the point, which is the ME controller, through the same SSH.  Based on what I read, it seems that I also cannot.  Because the control of all access points, as I understand it, is done via ssh connection to the main access point - the controller. <br><br>  I must say that there are not many settings in the web interface.  Of significant - the density of users.  I put it on the minimum, because  as I understand it allows you to increase the range of reception. <br><br>  Points were set one per floor. <br><br><h2>  What happened in the end </h2><br>  It‚Äôs too early to talk about reliability: I use only a few days.  It would be strange if there were already problems. <br><br><h3>  Switching between access points </h3><br><ul><li>  Rapid movement between access points leads to a loss of up to 5 packets during ping (sometimes it is lost less or not lost at all) </li><li>  Once the call was broken in Skype.  It was possible to talk on whatsapp without breaking the connection. </li><li>  File copying between local computers does not stop when switching between access points.  True, apparently, and should not, because  it did not stop even when switching between different networks ... </li></ul><br>  In general, as stated above, true seamlessness was not a task.  Subjectively works on 5 (but not on 5 with plus). <br><br><h3>  Speed </h3><br>  Here I am a little disappointed.  Although the maximum speed of more than 800 mbps was not the goal, I would like it to be at least in theory. <br><br>  In practice, a laptop with intel ac8260 copies a file on a local computer at a speed of about 60 MB / s if you almost put it on the AP, and if you move a meter to 3, then the speed drops to about 35 MB / s. <br><br><img src="https://habrastorage.org/webt/29/ha/cc/29haccdtij_c2fdp9wq3lhnymga.png"><br><br>  Connecting 2 laptops to atheros QCA61x4A for the same task at the same time almost halves the speed!  (copying over the wire of the same file occurs at a speed of 100+ MB / s). <br><br>  What is even more surprising is that the Mobility Express web interface says that the channel is almost completely loaded (with a theoretical download of about a quarter at a speed of about 35 MB / s). <br><br><img src="https://habrastorage.org/webt/s2/fp/nr/s2fpnrhsqwyll6zdn4nyebqs1xs.png"><br><br>  In general, I admit that the network card of the laptops simply does not pull (there is no mu mimo), and that I have not set anything up (which is for sure), but I still don‚Äôt understand why loading the channel on the point. <br>  In general, I decided to check what speed was on the camp of the beloved Asus - it turned out that it was about 2 times worse, which was a little comforting (although, in general, it is obvious - there is n standard). <br><br><h3>  Confident reception </h3><br>  This part of the question is still not completely understood by me: the feeling that the percent signal is 30% worse (just subjectively) than that of the asus.  It is clear that there are external antennas, etc. <br><br>  Somehow in my head it does not fit what the access point is doing, so that later it can be installed every 15 meters.  Well, in general, the feeling that the signal somehow "jumps" is then complete at a distance of 10 meters through the walls, then 4 of 5 divisions at a distance of 3 meters. <br><br>  While I am writing this off for under-tuning ... I was already going to buy a service contract (since, as it turned out, it costs less than 2k rubles) and tormenting support. <br><br><h3>  Unsolved question </h3><br>  One unresolved issue is that the switch built into the access point with three gigabit ports does not work. <br><br>  As I understood from the description, it is impossible to send traffic from a common connection of an access point there without using more serious controllers (which is already strange), but it seems like it should at least work as a switch, which would save me at some points - I would connect via this switch access point itself, and the two ports would remain free ... <br><br>  But it does not work that way either.  A long tinkering console did nothing.  Maybe it somehow turns on.  But a) I'm a teapot b) there are very, very many settings related to ports.  Some I tried to turn on / off.  But what combination of them to use in order to make the switch work is really not written anywhere ... I will torment my support ... <br><br><h2>  Subjective conclusions </h2><br>  In general, I am satisfied.  Still, to admit to myself, having spent decently money and time that it was possible to live on the old system - this is a task from the category of impossible. <br><br>  Definitely pleased with the choice of tsiska - a small budget + hope for reliability. <br><br>  <b>What in the end like:</b> <br><br><ul><li>  How is switching between access points </li><li>  Work speed </li></ul><br>  <b>What you don‚Äôt like until the end</b> is the signal level, although, given the speed of work, you can ignore it. <br><br>  <b>What does not like at all:</b> <br><br><ul><li>  Could not turn on built-in switch </li><li>  Difficult tuning, more precisely - not even tuning, but complex, often not obvious description of some things, which, it seems to me, frightens many when choosing equipment.  It seems to me that in the initial segment it would be quite possible not to create the appearance of complexity, professional equipment, but to make everything somewhat simpler and more accessible. </li></ul><br><br><h2>  Upd: a fly in the ointment (although perhaps not even a glass of tar) </h2><br><br>  I did not turn on the built-in switch.  But that's not what upsets: I bought support for an access point ‚Äî it turned out to be cheap ‚Äî around 1700 rubles.  But here is an ambush - it works terribly: ((IMHO, of course), which I never expected. For some reason, I was sure that support for money should work like a clock. <br>  Maybe this is some kind of ‚Äúcheap‚Äù support, which works accordingly :), but there is ‚Äúgood‚Äù support, but I can't figure it out. <br><br>  More specifically, as soon as I created an application for support, the engineer immediately replied that he would work with me and help me. <br><br>  Then silence :).  I wrote him 2!  letters, like - well, what is there?  Where support is :) In the second letter I put another tsisco addresses in a copy, after which the engineer started fussing and began a stormy correspondence (which was that he could not help me - without an external controller, the internal switch would not work).  I told him that proceeding from the datasheet (as I understand it), the tunneling traffic from the controller in switcher does not work, but as a separate switch it should work.  After that, the engineer said that he would find out for sure that I would send him a link and it would take him several days.  It took more than a week ... I wrote to him again - how are you?  And once again the next day - now I put another addresses back in a copy. <br><br>  Well, while silence ... <br>  In general, it is good that all the equipment works well and I no longer climbed there: I use and enjoy. <br>  And Russian support for free worked just super (what I wrote in the article - thanks to her).  Maybe I was just unlucky with the engineer ... Or maybe it works like that - paid support :)) ?? <br><br><h2>  Upd2: Happy end </h2><br><br>  A few days after writing the article I was answered by an engineer.  His answer was joyful - the product team released a new firmware, in which my problem was solved (and even more - the internal lan ports in the mobilize express now not just work as a separate switch, but also send all traffic through the controller. <br><br>  In general, the problem was really solved, but I could not immediately adjust it.  I wrote in support, I did not wait for an answer during the day and figured it out myself. <br><br>  As a result, I am pleased, of course, that this problem was solved in the firmware, well, quite quickly, but I was not at all pleased with the efficiency of the answers to the paid support. </div><p>Source: <a href="https://habr.com/ru/post/352602/">https://habr.com/ru/post/352602/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352592/index.html">Load testing script to verify compliance with the current parameters of communication channels declared</a></li>
<li><a href="../352594/index.html">Today, ZCPE can be anyone</a></li>
<li><a href="../352596/index.html">Weird team games</a></li>
<li><a href="../352598/index.html">How to replace HR-a with a robot? Technical part</a></li>
<li><a href="../352600/index.html">Digest of fresh digests from the world of the frontend for the last week # 1 (March 26 - April 1, 2018)</a></li>
<li><a href="../352604/index.html">Cryptobankomat, contemporary creativity and Russian officials</a></li>
<li><a href="../352606/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ308 (March 26 - April 1, 2018)</a></li>
<li><a href="../352608/index.html">What we should build Scrum: an interview with Agile-coach Vasily Savunov</a></li>
<li><a href="../352610/index.html">As I did Hot-Spot through Virtual Box</a></li>
<li><a href="../352612/index.html">Virtual server on VPS.house: performance review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>