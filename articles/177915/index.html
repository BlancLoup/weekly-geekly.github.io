<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>My Boot Camp - wherever I want, I put it there</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Historically, my MacBookPro Mid 2010 simultaneously had three axes: Mountain Lion (10.8.3), Lion (10.7), and Snow Leopard (10.6). Everything would be ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>My Boot Camp - wherever I want, I put it there</h1><div class="post__text post__text-html js-mediator-article">  Historically, my MacBookPro Mid 2010 simultaneously had three axes: Mountain Lion (10.8.3), Lion (10.7), and Snow Leopard (10.6).  Everything would be fine if for MacOS there were 3ds Max and the utility for creating various textures of The Compressonator, and the old Toshiba laptop that saved me in such situations did not retire as a motherboard.  It was necessary to create a partition Boot Camp, so much so that did not fly the rest of the system. <br><img src="https://habrastorage.org/storage2/88f/119/ea5/88f119ea53bb1e24d1a011acbfb3ea45.jpg"><br><a name="habracut"></a><br>  I had a Windows image under VMWare, but for some reason in MacOS 10.8 it dramatically slows down (compared to the same 10.7 or 10.6).  As a result, I decided that 10.6 is unlikely to come in handy, and the Boot Camp partition with Windows will just be in its place.  But the <s>clumsy</s> Makakovskaya disk utility did not think so. <br><br><h4>  Change sections </h4><br>  I completely cleared the section with Snow Leopard, but when I tried to remove it, the disk utility gave me an error from the ‚ÄúToo small size of changes ...‚Äù series.  The plus section was only 30Gb, and I needed at least 50Gb.  It does not matter, we open the terminal and see where we have what kind of disks: <br><pre><code class="bash hljs">diskutil list /dev/disk0 <span class="hljs-comment"><span class="hljs-comment">#: TYPE NAME SIZE IDENTIFIER 0: GUID_partition_scheme *500.1 GB disk0 1: EFI 209.7 MB disk0s1 2: Apple_HFS Mountain Lion 249.9 GB disk0s2 3: Apple_Boot Recovery HD 650.0 MB disk0s3 4: Apple_HFS Mac OS Lion 220.0 GB disk0s4 5: Apple_HFS Snow Leopard 30.0 GB disk0s5</span></span></code> </pre> <br>  Next, I combined Mac OS Lion and Snow Leopard with one command: <br><pre> <code class="bash hljs">diskutil mergePartitions <span class="hljs-string"><span class="hljs-string">"Journaled HFS+"</span></span> <span class="hljs-string"><span class="hljs-string">"Mac OS Lion"</span></span> disk0s4 disk0s5</code> </pre>  The format is: diskutil mergePartitions "&lt;partition format&gt;" "&lt;new merged partition name&gt;" &lt;first partition&gt; &lt;second partition&gt; <br><br>  And then I split the combined section into two, the size I need: <br><pre> <code class="bash hljs">diskutil resizeVolume disk0s4 200G MS-DOS Windows 50G</code> </pre>  Command format: diskutil resizeVolume &lt;partition ID&gt; &lt;size after change&gt; &lt;second partition format&gt; &lt;second partition name&gt; &lt;second partition size&gt; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Partition splitting completed: <br><pre> <code class="bash hljs">diskutil list /dev/disk0 <span class="hljs-comment"><span class="hljs-comment">#: TYPE NAME SIZE IDENTIFIER 0: GUID_partition_scheme *500.1 GB disk0 1: EFI 209.7 MB disk0s1 2: Apple_HFS Mountain Lion 249.9 GB disk0s2 3: Apple_Boot Recovery HD 650.0 MB disk0s3 4: Apple_HFS Mac OS Lion 200.0 GB disk0s4 5: Microsoft Basic Data Windows 50.0 GB disk0s5</span></span></code> </pre><br><h4>  GPT and MBR partition tables </h4><br>  <s>To be honest, I'm not sure that what I did next with the partition tables was necessary.</s>  <s>I would be glad to see the amendments in the comments.</s> <blockquote>  <b>Update</b> : It turned out that synchronizing GPT and MBR is necessary.  If your GPT has 4e or fewer sections, you can do it with rEFIt Tools right on the boot screen with one click.  If a partition with Windows 5 or more, then you need to prescribe the MBR manually ignoring the Recovery partitions (Mac OS X Boot), so that the mandatory EFI System, the real Mac partitions and the Windows partition should fit. </blockquote>  So, after downloading the wonderful <a href="http://refit.sourceforge.net/">rEFIt</a> utility and running Partition Inspector, which comes with the bundle, I saw the following picture: <br><pre> <code class="bash hljs">Current GPT partition table: <span class="hljs-comment"><span class="hljs-comment"># Start LBA End LBA Type 1 40 409639 EFI System (FAT) 2 409640 488428743 Mac OS X HFS+ 3 488690888 489960431 Mac OS X Boot 4 489960432 880585431 Mac OS X HFS+ 5 880848896 976773119 Basic Data Current MBR partition table: # A Start LBA End LBA Type 1 1 976773119 ee EFI Protective</span></span></code> </pre><br>  As you can see, the MBR is not aware of our disks; I corrected this with the following commands: <br><pre> <code class="bash hljs">sudo fdisk -e /dev/disk0 edit 1 //  ,       1  39 ee //  ,  EFI Protective  <span class="hljs-string"><span class="hljs-string">"ee"</span></span> n // n 1 //  39 //  edit 2 af n 409640 488019104 edit 3 af n 489960432 390625000 edit 7 07 n 880848896 95924224 write //    y //</code> </pre><br>  After all the manipulations, we check the correspondence of the tables through Partition Inspector: <br><pre> <code class="bash hljs">Current GPT partition table: <span class="hljs-comment"><span class="hljs-comment"># Start LBA End LBA Type 1 40 409639 EFI System (FAT) 2 409640 488428743 Mac OS X HFS+ 3 488690888 489960431 Mac OS X Boot 4 489960432 880585431 Mac OS X HFS+ 5 880848896 976773119 Basic Data Current MBR partition table: # A Start LBA End LBA Type 1 1 39 ee EFI Protective 2 409640 488428743 af Mac OS X HFS+ 3 489960432 880585431 af Mac OS X HFS+ 4 * 880848896 976773119 07 NTFS/HPFS</span></span></code> </pre><br>  It looks almost the same.  The Mac OS X Boot partition (this is Recovery) is not needed in the MBR, only real disks.  Details of this technique <s>can</s> be found <a href="http://jonsview.com/fixing-mbr-tables-on-imac-or-mbp-triple-boot-setups">here</a> .  Please note that the partition size is counted as end-start + 1. <br><br><h4>  Install Windows </h4><br>  At this point, you should have a bootable DVD with Windows installation.  At first, I tried to install from a bootable USB flash drive created in Windows 7, but I was constantly given "No bootable device - insert boot disk and press any key ...".  With the DVD, everything went smoothly.  When selecting a partition, I selected my FAT32 partition and reformatted it in NTFS.  Winda was installed successfully. <br><br><h4>  Boot Camp Driver Installation </h4><br>  Utility "Assistant Boot Camp" at first I did not even offer to download the driver on the USB flash drive.  Even after making changes to the plist (see the MacBookPro Mid 2010 is not supported by default), the drivers didn‚Äôt go further than half.  Do not worry, <a href="http://www.cafe-encounter.net/p682/download-bootcamp-drivers">from here,</a> download the appropriate pkg to your Mac, install it anywhere, go to the folder where you installed it, find WindowsSupport.dmg, mount this dmg image and copy the contents of the image to a USB flash drive or directly to the Windows partition (because in MacOS 10.8 you created the section with Windows is visible and available for recording).  Next boot under Windows and run the driver installation. <br><br><h4>  Induce beauty </h4><br>  Like the picture of poppy loading at the beginning of the article?  Download the wonderful <a href="http://refit.sourceforge.net/">rEFIt stuff</a> and a <a href="">set of icons</a> based on <a href="http://studio-sanchez.deviantart.com/art/rEFIt-Custom-Boot-Menu-177702386">the</a> <a href="http://blymar.deviantart.com/art/Grey-Rounded-155496193">templates</a> <a href="http://studio-sanchez.deviantart.com/art/rEFIt-Custom-Boot-Menu-177702386">found</a> on the Internet.  After installing rEFIt, you may need to reload the poppy a couple of times, for some reason it only worked for me on the 2nd time.  You can also push him with the commands: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /efi/refit ./enable.sh</code> </pre><br>  To install the icon set, unzip the set in the / efi / refit folder with replacement.  You can also configure rEFIt by picking up the refit.conf file, for example, set the default axis start timer or add a terminal call to the boot screen. <br><br>  <b>Disclaimer</b> <br><br>  Everything that you do, especially with sections and partition tables - you do at your own peril and risk.  I was scared, but I did!  As a result, I learned how to change the size of the disks as I want, not to be afraid of the names of GPT and MBR, I have a beautiful and comfortable poppy loading and, most importantly, I can safely go on a trip to the May holidays, taking only one laptop with everything I need.  Happy upcoming holidays! <br><br>  <b>Update</b> <br><br><ol><li>  I strongly recommend that before starting all the procedures, save the partition table information, which is issued by the Partition Inspector.  Windows can wipe all the tables or you can accidentally ‚Äúhit the elbow‚Äù by accident (the best thing is not on the same computer, so that, if anything, you can boot from the disk and manually restore everything). </li><li>  Put rEFIt before installing Windows. </li><li>  Do not delete the ‚ÄúEFI Protective‚Äù section from the MBR.  According to the <a href="http://refit.sourceforge.net/myths/">information on the rEFIt page</a> , this section tells GRUB that you do not need to overwrite the GPT table.  It is also reported that ‚ÄúEFI Protective‚Äù should start with LBA 1. </li></ol><br></div><p>Source: <a href="https://habr.com/ru/post/177915/">https://habr.com/ru/post/177915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177897/index.html">Ubuntu 13.04 released</a></li>
<li><a href="../177899/index.html">LinkMeUp. Release 2</a></li>
<li><a href="../177903/index.html">NASA launched three smartphones into orbit</a></li>
<li><a href="../177907/index.html">There is an idea, but there is no knowledge: we create an application from idea to release, with zero knowledge of the code</a></li>
<li><a href="../177909/index.html">Practical application of a universal electronic card (UEC) in the city and the Internet. Part 3</a></li>
<li><a href="../177917/index.html">NASA has made it possible for everyone to follow the fate of Voyager 1</a></li>
<li><a href="../177921/index.html">Video interview from Silicon Valley. Max Skibinsky - serial entrepreneur, business angel and incubator mentor 500 Startups</a></li>
<li><a href="../177929/index.html">Django auto-completion multiple choice field</a></li>
<li><a href="../177931/index.html">Stephen Wolfram Mathematical Analysis of Social Networks</a></li>
<li><a href="../177933/index.html">How I translated Leisure Suit Larry</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>