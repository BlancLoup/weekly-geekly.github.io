<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Qtiplot + Python provide tremendous opportunities for graphing and data processing.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I will talk a little about the QtiPlot program and the possibility of scripting its capabilities using the Python language. 

 The QtiPlot progr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Qtiplot + Python provide tremendous opportunities for graphing and data processing.</h1><div class="post__text post__text-html js-mediator-article"><img src="http://soft.proindependent.com/qtiplot_logo.png"><br>  Today I will talk a little about the QtiPlot program and the possibility of scripting its capabilities using the Python language. <br><br>  The <a href="http://soft.proindependent.com/qtiplot.html">QtiPlot</a> program is developed as a free analogue of <a href="http://www.originlab.com/">Origin</a> , that is, a universal means of presenting and analyzing data.  It allows you to build all sorts of graphs, perform data operations, look for approximations of curves, and so on.  I did not work with Origin from the first year of the institute, so I can‚Äôt compare the possibilities, it‚Äôs not important, QtiPlot has three major advantages, it‚Äôs free, cross-platform and Python scripting, which will be discussed further. <br><br>  Currently, the ‚Äúde facto standard‚Äù for plotting in the world of * nix systems is <a href="http://www.gnuplot.info/">gnuplot</a> , in the Windows world this is Origin, apparently broken, if you look at its cost (just under $ 1000 for the coolest version).  So QtiPlot in place with Python may well press these products. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  First we need to install qtiplot.  This is best done from the repositories of your distribution, because with a large guarantee it means that all libraries will link correctly (for example, for <a href="">opensuse 11.1</a> ).  You can take a binary from the site, but it is linked against python 2.5, and now almost everyone already has 2.6, you can also compile it yourself, but this is not so easy.  By the way, speaking, here we are faced with an example of paid free software.  Windows users can download only demo version, full version costs money.  Well, or they can compile themselves.  Or find an <a href="http://scidavis.sourceforge.net/download.html">alternative build</a> on the Internet.  And you can buy, it costs only 20 euros, compared with the origin of just a penny. <br><br>  <em>NB * nix users!</em>  Before installation, you need to make sure that Python and the python-sip package are installed; without this, scripting will not work. <br><br>  The second step is to enable script support, for this we need the qtiplotrc.py and qtiUtil.py implementation files.  Unfortunately, they made a mistake, without which scripting should work, so it‚Äôs better to <a href="">download the files from me</a> .  Put them in some place, for example ~ / .qtiplot / and run qtiplot.  Next View -&gt; Preferences -&gt; General -&gt; File Locations select the directory where we put the files.  Now it remains only to enable Python, Scripting -&gt; Scripting Language -&gt; Python and open the View -&gt; Console console.  The console should contain the inscription "python is ready" if you use my files.  In fact, this is not a console at all, but the output of cout, which is somewhat disappointing. <br><br>  If everything worked out, you can start playing!  Let's, for example, build a Fibonacci sequence.  By default, we already have one table, in column X we do Fill Column With -&gt; Row Numbers, in column Y we choose Set Column Values ‚Äã‚Äãand enter a small program there, as shown in the figure.  Do not forget to uncheck Use muParser.  By the way, it is active by default, which infuriates wildly. <br><br><pre> t = currentTable ()
 t.setCell (2,1,1)
 t.setCell (2,2,1)

 for in range (3,10):
    t.setCell (2, i, t.cell (2, i-1) + t.cell (2, i-2)

</pre><br><br><img src="http://uploaded.ivlis.com/image/2009/06/21/1245562150fibb_easy.png"><br><br>  Hooray, in column Y we got 10 numbers of Fibonnachi.  But it was, so to speak, a first attempt at writing and checking that scripting works.  It is clear that every time to write a function is not very convenient, and the number of numbers is hard-coded.  Therefore, we will create our own function <s>with blackjack and ....</s>  Go to ~ / .qtiplot and create a file there, for example, qtimyfunc.py with the following content (yes, I know that recursion is lame, but this is just an illustration): <br><br> <code><font color="#8080ff">#!/usr/bin/python</font> &lt;br&gt; <br> &lt;br&gt; <br> <font color="#ff40ff">import</font> qti, math&lt;br&gt; <br> &lt;br&gt; <br> <font color="#8080ff">#global fib</font> &lt;br&gt; <br> <font color="#ffff00">def</font> <font color="#00ffff">fib</font> (n):&lt;br&gt; <br> " <font color="#ff6060">Calculates fibonacci numbers</font> "&lt;br&gt; <br> <font color="#ffff00">if</font> n == 0:&lt;br&gt; <br> <font color="#ffff00">return</font> 0&lt;br&gt; <br> <font color="#ffff00">elif</font> n == 1:&lt;br&gt; <br> <font color="#ffff00">return</font> 1&lt;br&gt; <br> <font color="#ffff00">else</font> :&lt;br&gt; <br> <font color="#ffff00">return</font> fib(n-1) + fib(n-2)&lt;br&gt; <br> &lt;br&gt; <br></code> <br><br>  And we add the import_to_global line (‚Äúqtimyfunc‚Äù, None, True) to the qtiplotrc.py file.  Restart qtiplot and now our function will appear in the drop-down list of functions.  Since this is a full-fledged Python program, you can cram everything in there, from the simplest recursion to the calculation of the trajectory of the spacecraft. <br><br><img src="http://uploaded.ivlis.com/image/2009/06/21/1245562289fib_graph.png"><br><br>  But laziness does not stand still.  Each time to fill the column, enter the function, press the button sadly a little less than completely.  Therefore, we will write a script that will create a table itself, fill it in and build a graph.  Let's take a look at Fibonacci, let's say we have some experimental data that are noisy and we need to build a proximization and we know that the data should have a quadratic law. <br><br>  We write the following script: <br> <code><font color="#8080ff">#!/usr/bin/python</font> &lt;br&gt; <br> <font color="#ff40ff">import</font> sys&lt;br&gt; <br> &lt;br&gt; <br> <font color="#ff40ff">import</font> qtimyfunc&lt;br&gt; <br> <font color="#ff40ff">import</font> random&lt;br&gt; <br> random.seed()&lt;br&gt; <br> &lt;br&gt; <br> t = newTable(" <font color="#ff6060">Data</font> ", 20, 2)&lt;br&gt; <br> t.setColName(1, " <font color="#ff6060">x</font> ")&lt;br&gt; <br> t.setColumnRole(1, Table.X)&lt;br&gt; <br> t.setColName(2, " <font color="#ff6060">y</font> ")&lt;br&gt; <br> t.setColumnRole(2, Table.Y)&lt;br&gt; <br> <font color="#ffff00">for</font> i <font color="#ffff00">in</font> range(1, 20):&lt;br&gt; <br> t.setCell(1,i,i)&lt;br&gt; <br> t.setCell(2,i,(i+(random.randint(0,100)-50)/20)**2)&lt;br&gt; <br> g = plot(t, t.colName(2), 1).activeLayer()&lt;br&gt; <br> &lt;br&gt; <br> f = PolynomialFit(g, " <font color="#ff6060">Data</font> " + " <font color="#ff6060">_</font> " + t.colName(2), 2, True)&lt;br&gt; <br> f.fit()&lt;br&gt; <br> &lt;br&gt; <br></code> <br><br>  The script uses the <a href="http://soft.proindependent.com/doc/manual-en/x5129.html">Qtiplot Python API</a> , it is very simple and well documented.  To run it, execute the command from the console.  Naturally, myscript.py should be in scope. <br> <code>$ qtiplot -x myscript.py <br></code> <br><br>  The result of the script execution will be a pleasing to the eye picture: <br><br><img src="http://uploaded.ivlis.com/image/2009/06/21/1245562507Approx2.png"><br><br>  In addition to the ability to call scripts from the console, Qtiplot can add a script launch to any menu item or hang it on a toolbar button.  Thus, the customization options of the program are practically unlimited; you can create your own actions and trigger them with one mouse click.  This is done in the Scripting menu.  And it will turn out like this: <br><br><img src="http://uploaded.ivlis.com/image/2009/06/21/1245562590my_script.png"><br><br>  It should be noted that the program is constantly evolving, adding new features, extending the API, improving the interface.  Unfortunately, few people know about the program now, I hope this article will help to spread it.  Also, the program has a <a href="http://developer.berlios.de/forum/%3Fgroup_id%3D6626">forum</a> where all sorts of useful additions are laid out on python. <br><br></div><p>Source: <a href="https://habr.com/ru/post/62534/">https://habr.com/ru/post/62534/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../62528/index.html">Mathematical Sculptures</a></li>
<li><a href="../62529/index.html">What internet connection technology do you use, habrachelovek?</a></li>
<li><a href="../62530/index.html">Google Chrome is smart, but not always</a></li>
<li><a href="../62532/index.html">BullDoc 1.0</a></li>
<li><a href="../62533/index.html">Tuple iterator (boost)</a></li>
<li><a href="../62537/index.html">Additional services for the provider - telephony</a></li>
<li><a href="../62538/index.html">Highlighted text translator for Google Chrome</a></li>
<li><a href="../62539/index.html">Downloading music from VKontakte has now become convenient (www.vkontakte.dj)!</a></li>
<li><a href="../62540/index.html">GPS tracker in iPhone</a></li>
<li><a href="../62542/index.html">Liveanime.ru - we connect external subtitles to video</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>