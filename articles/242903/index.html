<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WinJS + universal applications. Learning ListView</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article, I talked about how to create an image gallery using the FlipView control. Today we are going to look at the ListView control,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WinJS + universal applications. Learning ListView</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/839/ec6/f75/839ec6f752614deaac6d5358fa31470c.png"><br><br>  In the <a href="http://habrahabr.ru/company/microsoft/blog/237333/">previous</a> article, I talked about how to create an image gallery using the FlipView control.  Today we are going to look at the ListView control, which allows you not only to display various data in a list, but also to work with them - group, drag and reorder. <br><a name="habracut"></a><br><br>  First, let's look at what data display options are available in the ListView control.  If you are not familiar with the WinJS library, you can read about the controls included in the library <a href="http://habrahabr.ru/company/microsoft/blog/238709/">here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Display and link data in a ListView control </h3><br>  To add a ListView, add a div block with the data-win-control attribute to the page, and assign it the value <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211837.aspx">WinJS.UI.ListView</a> . <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.ListView"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  To work with ListView you need: <br><ul><li>  Add data sources </li><li>  Set a template for displaying data </li><li>  Define layouts for displaying data </li></ul><br><br><h3>  Add data source </h3><br>  To prepare the data to add to the ListView control, create an array: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myData = [ { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Basic banana"</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">"Low-fat frozen yogurt"</span></span>, <span class="hljs-attr"><span class="hljs-attr">picture</span></span>: <span class="hljs-string"><span class="hljs-string">"images/60banana.png"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Banana blast"</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">"Ice cream"</span></span>, <span class="hljs-attr"><span class="hljs-attr">picture</span></span>: <span class="hljs-string"><span class="hljs-string">"images/60banana.png"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Brilliant banana"</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">"Frozen custard"</span></span>, <span class="hljs-attr"><span class="hljs-attr">picture</span></span>: <span class="hljs-string"><span class="hljs-string">"images/60banana.png"</span></span> }, ... ]; })();</code> </pre><br>  Each of the objects has three properties: title, text, and image.  In this example, images are stored locally.  Let's compile the Binding.List list from our array of objects: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WinJS.Binding.List(myData);</code> </pre><br>  To make the list globally accessible (this is required for a declarative description), do not forget to create a namespace (in this case, DataExample) that provides an open itemList that returns a list.  Using the <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br212667.aspx"><u>WinJS.Namespace.define</u></a> function: <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> publicMembers = { <span class="hljs-attr"><span class="hljs-attr">itemList</span></span>: dataList }; WinJS.Namespace.define(<span class="hljs-string"><span class="hljs-string">"DataExample"</span></span>, publicMembers);</code> </pre><br><br>  The WinJS.Namespace.define function takes two parameters: the name of the namespace to be created and an object containing one or more property-value pairs.  Each property is the public name of the element, and each value is the base variable, property, or function in your private code that you want to share. <br><br>  In order to add the created list to the ListView control, you need to set the ‚ÄúitemDataSource‚Äù attribute to DataExample.itemList.dataSource. <br><br>  Remember to create a template to display the data.  You can read about how to create a template <a href="http://habrahabr.ru/company/microsoft/blog/238709/">here</a> . <br><br>  <b>Note</b> : To apply an item template, use the select syntax to set the <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/hh700705.aspx"><u>itemTemplate</u></a> property <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/hh700705.aspx"><u>to</u></a> your <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211837.aspx"><u>ListView</u></a> item template. <br>  In addition to the template for each object separately, you need to define one of the available template layouts for displaying the data of the ListView control. <br><br><h3>  Standard Layouts for Displaying ListView Data </h3><br>  The <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211837.aspx">ListView</a> element has three standard layouts for displaying data ‚Äî a list, a grid, and a cell.  To use one of the layouts, add the value <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211792.aspx">WinJS.UI.ListLayout</a> , <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211751.aspx">WinJS.UI.GridLayout</a> or <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/dn255099.aspx">WinJS.UI.CellSpanningLayout</a> for the <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211833.aspx">layout</a> <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/dn255099.aspx">property</a> .  <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211792.aspx">WinJS.UI.ListLayout WinJS.UI.GridLayout</a> <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211751.aspx">layouts</a> are used to create a list and a grid of elements, respectively.  As for the layout of <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/dn255099.aspx">WinJS.UI.CellSpanningLayout</a> - it is designed to create a grid with several different sizes. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.ListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ itemDataSource : DataExample.itemList.dataSource, itemTemplate: select('#mediumListIconTextTemplate'), layout: {type: WinJS.UI.GridLayout}}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <b>Please note:</b> The layout as a cell is available only for Windows. <br><br><img src="https://habrastorage.org/files/540/975/147/540975147f2a4cb68373174149ef10f2.png" height="400" width="470"><br>  Similarly for Windows: <br><br>  Layout List (ListLayout) <br><br><img src="https://habrastorage.org/files/3c1/dce/b83/3c1dceb834bd4c6c91a47a4528c029b4.png" height="227" width="464"><br><br>  Layout Grid (GridLayout) <br><br><img src="https://habrastorage.org/files/198/170/3e7/1981703e7cbc4bdb9020f5b6ab822045.png" height="227" width="464"><br><br>  Layout Cell (Layout CellSpanningLayout) <br><br><img src="https://habrastorage.org/files/c90/e4f/e3f/c90e4fe3f7704a2aa2d025859330259e.png" height="227" width="464"><br><br><h3>  Styling the ListView control </h3><br>  The design of the ListView control is very easy to change.  To stylize the ListView control, you can: <br><ul><li>  Use <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br229723.aspx">WinJS.Binding.Template</a> to describe a single item template </li><li>  Describe CSS styles for ListView elements, for example: <br><ul><li>  <i>win-listview</i> sets the style of the entire <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211837.aspx">ListView</a> object </li><li>  <i>win-viewport</i> sets the style of the viewport.  Here, if necessary, displays a scroll bar. </li><li>  <i>win-surface</i> sets the style of the scrollable area of ‚Äã‚Äãthe <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211837.aspx">ListView</a> .  If the viewport is smaller than the scrollable area, scroll bars appear in it. <img src="http://litehtmlconv.azurewebsites.net/api/pics/ci2d65kbp706-jtr56fj2k8m"></li></ul><br></li></ul><br><br>  A complete list of classes can be found on the <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/br211837.aspx">ListView reference page</a> . <br><br>  For example, you can add a background image and frame for the ListView element: <br><br><pre> <code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#myListView</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.win-listview</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'../images/icecream.png'</span></span>); <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">2px</span></span> solid red; }</code> </pre><br><br><img src="https://habrastorage.org/files/c5f/649/332/c5f649332e9a436b93434c81e14ddb82.png"><br><br>  Fine!  We got acquainted with the ListView control, looked at creating and adding data, and also looked at the available layouts for display.  Now let's learn how to work with items inside the ListView. <br><br><h3>  Changing the order of items in the ListView </h3><br>  Imagine that you have a list of data that you want to somehow reorder, swap the lines of the list.  Let's solve this problem. <br><br>  In the Listview control, there is a itemsReorderable property that allows you to swap items.  The itemsReorderable property takes two values: true and false.  In case we want to allow the permutation of elements, set the itemsReorderable property to true. <br><br>  <b>Note</b> : The itemsReorderable property is not available for Windows Phone. <br><br><h4>  Declarative task of reordering elements </h4><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"listView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"win-selectionstylefilled"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.ListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ itemDataSource: myData.dataSource, itemTemplate: smallListIconTextTemplate, itemsReorderable: true, layout: { type: WinJS.UI.GridLayout } }"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h4>  Programming the possibility of reordering elements </h4><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      ListView var listView = document.querySelector('#listView').winControl; //    itemsReorderable listView.itemsReorderable = true; })();</span></span></code> </pre><br><br><img src="https://habrastorage.org/files/0d9/3c5/5a3/0d93c55a349144e4be50b1d09486dddd.png" height="165" width="640"><br><br>  We decided to work with the list - now we can manually reorder the elements.  And what to do if we want to somehow group them?  For example, distribute them into groups, depending on the first letter of the element name. <br><br><h3>  Grouping Items in ListView </h3><br>  Consider an example of grouping data by the first letter of the name of each element.  To implement grouping, create a version of your data source that will contain information about grouping elements.  The grouping process will be as follows: we will first sort the group headers by comparing the unicode initial letters in the string, and then we will bring the headings of all the groups into one type and create the groups themselves. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     function compareGroups(leftKey, rightKey) { return leftKey.charCodeAt(0) - rightKey.charCodeAt(0); } // ,     function getGroupKey(dataItem) { return dataItem.title.toUpperCase().charAt(0); } //     function getGroupData(dataItem) { return { title: dataItem.title.toUpperCase().charAt(0) }; } //     var groupedItemsList = itemsList.createGrouped(getGroupKey, getGroupData, compareGroups);</span></span></code> </pre><br><br><img src="https://habrastorage.org/files/36c/ec7/def/36cec7def07e447ca3220fdf07b28bff.png" height="230" width="640"><br><br>  We learned to distribute the elements into groups.  And what to do if there are too many elements and groups and moving along the list becomes difficult?  For this, the WinJS library provides a Semantic Zoom control. <br><br><h3>  Implement navigation in a ListView using the SemanticZoom control </h3><br>  The SemanticZoom control allows you to switch between two different views of the elements.  One of these views is the content view itself.  The second allows you to implement quick navigation between content, for example, display group headers for quick access to the contents of each group. <br><br>  In order to add a SemanticZoom control, you need to create a div block and assign the WinJS.UI.SemanticZoom attribute to the data-win-control attribute. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.SemanticZoom"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Define three templates for ListView objects: one for a detailed view of the elements, another for group headers in a detailed view of elements, and the third for group headers in a general view.  You also need to add 2 ListView controls.  The first will define the detailed view, and the second will define the overall view. <br><br>  We proceed directly to the addition of the SemanticZoom control.  To do this, simply add a ListView control to the SemanticZoom control block for detailed and general presentation. <br><br>  <b>Pay attention</b> to: <br><ul><li>  Data Sources (itemDataSource) </li><li>  Templates for displaying data </li></ul><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"semanticZoomDiv"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.SemanticZoom"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!---  . --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"zoomedInListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.ListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ itemDataSource: myData.groupedItemsList.dataSource, itemTemplate: select('#mediumListIconTextTemplate'), groupHeaderTemplate: select('#headerTemplate'), groupDataSource: myData.groupedItemsList.groups.dataSource, selectionMode: 'none', tapBehavior: 'none', swipeBehavior: 'none' }"</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!---  . --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"zoomedOutListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.ListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ itemDataSource: myData.groupedItemsList.&lt;B&gt;groups&lt;/B&gt;.dataSource, itemTemplate: select('#semanticZoomTemplate'), selectionMode: 'none', tapBehavior: 'invoke', swipeBehavior: 'none' }"</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> itemDataSource: myData.groupedItemsList.dataSource, itemTemplate: select ( '# mediumListIconTextTemplate'), groupHeaderTemplate: select ( '# headerTemplate'), groupDataSource: myData.groupedItemsList.groups.dataSource, selectionMode: 'none <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"semanticZoomDiv"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.SemanticZoom"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!---  . --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"zoomedInListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.ListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ itemDataSource: myData.groupedItemsList.dataSource, itemTemplate: select('#mediumListIconTextTemplate'), groupHeaderTemplate: select('#headerTemplate'), groupDataSource: myData.groupedItemsList.groups.dataSource, selectionMode: 'none', tapBehavior: 'none', swipeBehavior: 'none' }"</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!---  . --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"zoomedOutListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-control</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WinJS.UI.ListView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-win-options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ itemDataSource: myData.groupedItemsList.&lt;B&gt;groups&lt;/B&gt;.dataSource, itemTemplate: select('#semanticZoomTemplate'), selectionMode: 'none', tapBehavior: 'invoke', swipeBehavior: 'none' }"</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><img src="https://habrastorage.org/files/70b/7c3/016/70b7c301627e4be788227cec6d69de56.png" height="354" width="439"><br><br>  Important!  Remember to define your own styles for the overall presentation. <br><br><img src="https://habrastorage.org/files/afb/8f2/476/afb8f24762dc420fa88db0072539d590.png" height="540" width="439"><br><br>  We got acquainted with what possibilities can be realized within one list in the ListView control.  The next stage is working with several lists, namely, moving items from one list to another. <br><br><h3>  Drag and Drop support in the ListView control </h3><br>  Imagine a situation where you have two lists, and you want to move items from one list to another.  To solve this problem, you can use the drag and drop operations available for the ListView control.  These operations are compatible with the drag and drop function in HTML5.  You can drag and drop between two ListView controls, between <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/dn255188.aspx"><u>ItemContainer</u></a> and ListView, as well as between any HTML and ListView controls.  You can allow the user to drag items to a specific place in the ListView, and you can also control where the draggable items are inserted.  Read more about handling drag and drop events in HTML5 <a href="http://www.wisdomweb.ru/HTML5/draganddrop.php">here</a> . <br><br>  <b>Note</b> : Drag and Drop items are not available for Windows Phone. <br>  In order to allow dragging items from a ListView, we process it using special drag and drop events that have been added to HTML5.  Conventionally, the entire processing of dragging an item can be divided into two steps: <br>  Saving the data of the dragged item at the start of a drag operation using the <b>setData</b> method. <br>  Retrieving previously saved data after a dragged item is moved to its receiving item using the <b>getData</b> method <b>.</b> <br><br>  Consider the case in which the dragged item is added to any place in the list.  Handle events to drag the item. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> page = WinJS.UI.Pages.define(<span class="hljs-string"><span class="hljs-string">"/html/drag.html"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">ready</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element, options</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dragging = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     myDragContent.addEventListener("dragstart", function (eventObject) { var dragData = { sourceId: myDragContent.id, data: myItemTitle.innerText, imgSrc: myImg.src }; //     eventObject.dataTransfer.setData("Text", JSON.stringify(dragData)); //    dragging = true; }); //     myDragContent.addEventListener("dragend", function (eventObject) { dragging = false; }); //  ,       ,     listView.addEventListener("itemdragenter", function (eventObject) { if (dragging &amp;&amp; eventObject.detail.dataTransfer.types.contains("Text")) { eventObject.preventDefault(); } }); //    listView.addEventListener("itemdragdrop", function (eventObject) { //        var dragData = eventObject.detail.dataTransfer &amp;&amp; JSON.parse(eventObject.detail.dataTransfer.getData("Text")); if (dragData &amp;&amp; dragData.sourceId === myDragContent.id) { var newItemData = { title: dragData.data, text: ("Dragged Item"), picture: dragData.imgSrc }; //      ,     myData.splice(eventObject.detail.insertAfterIndex + 1, 0, newItemData); } }); } }); })();</span></span></code> </pre><br><br>  Thus, we have implemented the function of dragging an item from one list to any place in another list.  In the screenshot, the portable item is highlighted in red. <br><br><img src="https://habrastorage.org/files/5fe/362/74f/5fe36274fea74454a3af8748f08b24d7.png"><br><br><h3>  Results </h3><br>  So, we got acquainted with the ListView control.  It gives you the ability to work with list items.  We reviewed various data display layouts, got acquainted with the method of implementing the reordering of the elements in the list, as well as with the grouping of elements by the first letter of the name of each element.  Using the example of working with two lists, we implemented the ability to drag items from one list to another.  As an example of how ListView works with other controls, the possibility of implementing navigation using the Semantic Zoom control was considered. <br><br><h4>  Additional links: </h4><br>  <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/hh465496.aspx">Quick Start: Adding a ListView Control (HTML)</a> <br>  <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/hh465492.aspx">Quick Start Guide: Adding a Semantic Zoom Control (HTML)</a> <br>  <a href="http://msdn.microsoft.com/ru-ru/library/windows/apps/bg182879.aspx">Controls (HTML with JavaScript)</a> <br>  <a href="http://blogs.windows.com/buildingapps/2013/08/23/creating-a-unique-listview-layout-using-cell-spanning-in-html/">Creating a unique ListView layout using cell-spanning in HTML</a> <br>  <a href="http://www.microsoftvirtualacademy.com/training-courses/mobile-development-for-web-developers-rus">MVA mobile development course for web developers</a> <br>  <a href="http://www.visualstudio.com/">Download Microsoft Visual Studio here.</a> </div><p>Source: <a href="https://habr.com/ru/post/242903/">https://habr.com/ru/post/242903/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242889/index.html">Microsoft has released EMET 5.1</a></li>
<li><a href="../242891/index.html">Press release: Ahoba.co - a service for design and layout on Bumstarter!</a></li>
<li><a href="../242893/index.html">About how the memory flowed, but I could not understand why</a></li>
<li><a href="../242897/index.html">Elastics: a simple ElasticSearch client for Ruby with everything you need</a></li>
<li><a href="../242901/index.html">The introduction of the software product. Features of the business consultant. Part II</a></li>
<li><a href="../242905/index.html">How to install PostgreSQL 9.4 on Raspberry Pi, Radxa or other similar microcomputers running Lubuntu</a></li>
<li><a href="../242907/index.html">"IT" Vitebsk</a></li>
<li><a href="../242909/index.html">Isomorphic JavaScript Applications with Catberry.js</a></li>
<li><a href="../242911/index.html">We turn html into native components</a></li>
<li><a href="../242915/index.html">About symfony 3.0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>