<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TeamCity 2017.2: 100 free build configurations, Docker, .NET CLI, composite builds and improvements in Kotlin DSL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Last week we released a new version of our CI and CD server: TeamCity 2017.2 ! As you probably understood from the title, it is not only ful...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TeamCity 2017.2: 100 free build configurations, Docker, .NET CLI, composite builds and improvements in Kotlin DSL</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Last week we released a new version of our CI and CD server: <a href="https://www.jetbrains.com/teamcity/whatsnew/">TeamCity 2017.2</a> !  As you probably understood from the title, it is not only full of new functionality, but also gives a pleasant surprise to those who use the free (Professional) version.  But first things first. <br><br>  First of all, the <a href="">list of all the improvements</a> , as always, is very impressive - read it after reading this post, if you want more details.  Here we will focus on the most "tasty" features of the last release. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mm/cs/bw/mmcsbwn9kv4tgh8qucxobntqwmy.jpeg" alt="TeamCity 2017.2 released" width="600"></div><br><h2>  100 build configurations </h2><br>  After upgrading to version 2017.2, all users of TeamCity Professional will be pleasantly surprised - instead of the standard 20 build configurations, TeamCity now provides 100!  It is available absolutely free for every user of version 2017.2.  No pitfalls.  For those not familiar with the terminology, the build configuration in TeamCity is the same as job in Jenkins terms. <br><a name="habracut"></a><br><h2>  Docker </h2><br>  In 2017.2, Docker first-class support officially appeared. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Docker build runner </h3><br>  With the addition of the new Docker build runner, you can now build Docker images as a separate build step.  As soon as TeamCity finds a dockerfile in your repository, it will automatically prompt you to add a Docker Build step. <br><br><h3>  Docker compose runner </h3><br>  Starts Docker Compose services at the start of the build and stops them when the build ends. <br><br><h3>  Docker wrapper </h3><br>  Allows you to run other build runners (for example, Gradle, Maven, Ant or any command line) in a separate Docker container. <br><br><h3>  Docker Support Build Feature </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bd/gv/tl/bdgvtlgxfhwj4uk1slrdad4mqv4.png" alt="Docker support" width="600"></div><br>  For every build that performs any Docker-related actions, you can enable the Docker Support build feature.  This will add an additional ‚ÄúDocker‚Äù tab to the build page, and also allow: <br><br><ul><li>  clean up the Docker images published by the build in the Docker registry, if the build that published them is deleted; </li><li>  Enable automatic authentication in the Docker registry before the start of the build. </li></ul><br>  Short video demo of new Docker features (in English): <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/g6pJmdZ_1sI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  .NET CLI support </h2><br>  In 2017.2, the .NET CLI toolchain is implemented to collect .NET Core projects right out of the box.  In fact, we have greatly reworked and included the popular .NET CLI plugin in the distribution, and now there is no need to install it separately. <br><br>  What is included in it: <br><br><ul><li>  Separate .NET CLI build runner </li><li>  Automatic recognition of build steps at the provided URL </li><li>  Detecting .NET CLI on build agents </li><li>  Hierarchical build-log view </li><li>  Reporting tests, compilation errors and other build problems in real time </li><li>  Code Coverage Analysis with JetBrains dotCover </li></ul><br>  Video review (also in English): <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/M1h3rWGKt44" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h2>  Composite builds </h2><br>  There is a new type of build configurations - composite build.  Composite builds aggregate the results of several builds connected to each other through snapshot dependencies and display them as a single build.  They give a unified view of the whole build chain, showing general progress, alerts about dropped tests, problems with builds, and also display all artifacts. <br><br><img src="https://habrastorage.org/webt/r9/xz/qf/r9xzqfwq9cknw0squsnpqxfwxsm.png" alt="Composite build"><br><br>  The composite build does not occupy the agent and is shown as executing as soon as one of its dependencies starts.  In particular, this allows you to significantly reduce the number of configurations on the dashboard, removing the dependencies and leaving only the composite configurations there. <br><br><h2>  Deployment builds </h2><br>  Now you can mark build configurations that perform deployment tasks as deployment.  As a result, the builds on which such configurations depend will receive a Deployments section, where you can easily load the current build into the selected environment. <br><br><img src="https://habrastorage.org/webt/zt/m9/bi/ztm9biwfchzdodxrhynqdxilrrs.png" alt="Deployment Build"><br><br><h2>  Automatic upgrade </h2><br>  Updating the server has become much easier.  TeamCity independently checks for a new version and reports its appearance to the system administrator.  A license check is automatically performed, and one-click opportunity is given to start the upgrade procedure. <br><br><img src="https://habrastorage.org/webt/zj/ti/o6/zjtio6chv1npasjsc3e6rg9hvti.png" alt="Auto update"><br><br><h2>  Default and Multiple Patterns </h2><br>  Now you can set default templates for all build configurations in a project.  This allows you to easily implement changes at once to all build configurations of the project, changing only one template.  Also added is the ability to attach build configurations to multiple templates at the same time. <br><br><h2>  Kotlin DSL: Editable UI </h2><br>  If earlier when turning on the storage of project settings in the Kotlin DSL format, the admin UI switched to read-only mode, but now this restriction has been removed.  Settings for projects and build configurations remain available for editing at the same time as DSL is enabled (the ability to define them in code).  At the same time, changes made via the web interface are converted to patches on Kotlin, which are added to a specific place under the project in the VCS repository. <br><br><h2>  Improved plugin management </h2><br>  Managing plugins has also become more convenient - a list of installed plugins has appeared in the admin panel, with which you can turn off or delete existing plugins and add new ones.  When adding a plug-in, TeamCity will suggest restarting the server from the UI. <br><br><img src="https://habrastorage.org/webt/vd/ue/wv/vduewv30q4fvpdzzrqxtws0aziy.png" alt="Plugin management"><br><br>  Download the latest version of TeamCity 2017.2 from our <a href="https://www.jetbrains.com/teamcity/download/">website</a> .  Leave comments and suggestions for the new version in our <a href="https://youtrack.jetbrains.com/issues/TW">bug tracker</a> . <br><br>  You can also try all the new features without downloading and installing the server, using <a href="https://teamcity.jetbrains.com/invitations.html%3Ftoken%3DcVgEakjOhVHDYOjCm2SCDAX7G2tUZc73">TeamCity TestDrive</a> - a free test drive TeamCity in the cloud. <br><br>  We remind you that you can use TeamCity without time and functionality limitations, for free.  If you suddenly stop missing three agents and 100 build configurations, or you want to communicate with our mail support service, you can always purchase an Enterprise license, after receiving a trial version for 60 days. <br><br>  And finally, once again a complete <a href="">list of new features 2017.2</a> . <br><br>  <em>Successful builds!</em> </div><p>Source: <a href="https://habr.com/ru/post/344166/">https://habr.com/ru/post/344166/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344146/index.html">Kotlin Night Moscow - video, photo, presentation</a></li>
<li><a href="../344150/index.html">Survey for users of the browser Vivaldi</a></li>
<li><a href="../344156/index.html">Visual Studio extension to render instances of custom classes in debug mode. Part 2</a></li>
<li><a href="../344160/index.html">List of useful ideas for high-load services</a></li>
<li><a href="../344164/index.html">Layers, Bulbs, Hexogons, Ports and Adapters - it's all about one thing</a></li>
<li><a href="../344170/index.html">How we taught smart socket to measure power</a></li>
<li><a href="../344172/index.html">Malfunctions of the site. How to effectively organize the support of web resources by third-party services</a></li>
<li><a href="../344174/index.html">How I came up with and used the format of storing the results of experiments Measurelook</a></li>
<li><a href="../344178/index.html">Postmortem Shadow Tactics: Blades of the Shogun</a></li>
<li><a href="../344180/index.html">Trading supervised: an example of a business monitoring system</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>