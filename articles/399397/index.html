<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Redesign HP 39GS Programmable Calculator to 48GII</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It turns out that some programmable calculators actually know much more than they actually are and one of them is HP 39GS. How to awaken the necessary...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Redesign HP 39GS Programmable Calculator to 48GII</h1><div class="post__text post__text-html js-mediator-article"><p>  It turns out that some programmable calculators actually know much more than they actually are and one of them is HP 39GS.  How to awaken the necessary memories, we consider in this article. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/65b/704/6b1/65b7046b1591464bb67976295eebda89.jpg"></div><br><a name="habracut"></a><br><p>  I'll start from afar.  Surely each of us has devices that have technical or other perfection, and this alone means automatically the desire to possess them.  For some, these are laptops, phones of a certain company, maybe microcontrollers or FPGA, maybe music equipment.  In general, there are many of us, and opinions and desires are even more, but I always liked programmable calculators.  Perhaps a session of psychoanalysis would show that this is because of the calculator "Electronics MK-61" which I once programmed in order to play on it.  We can say that today the calculators have almost become obsolete, and there is some truth in this.  There is a corresponding software for the PC, next to which the calculator is like the Mozhaisk airplane compared to the SSJ100, there are emulators for the phone that can emulate the same calculators.  But despite all this, there are niches where the calculator remains difficult to replace, and the emulator on the phone will not give that warm and lampy feeling from pressing real buttons and working time. </p><br><p>  At work I have a TI89 Titanium, this is without exaggeration one of the most advanced and convenient calculators.  A couple of years ago I bought it used on ebay for 4500 and then persuaded myself for a long time.  And here we see another feature, the cost of such calculators is completely divorced from their iron content.  It can easily cost under $ 200 and absolutely not be ashamed of it.  So what should the proletariat do?  Here, the children also drowned my old home Casio fx-220, which served faithfully for 15 years and I realized that without a calculator at home I couldn‚Äôt need to do anything.  I wanted to be programmed for the cost of a modern analog fx-220, and the only thing that came across was the Casio fx-5800p. </p><br><p>  And then by chance I came across a Chinese forum where <a href="http://twww.cncalc.org/thread-11492-1-1.html">people</a> <a href="http://www.cncalc.org/thread-11475-1-1.html">convert</a> 39GS to 48GII, after seeing how much it costs 39GS, I realized that this is my case. </p><br><p>  Briefly, how 39GS differs from 48GII.  In a nutshell, the second is CAS and RPN.  CAS is when you can perform symbolic calculations ‚Äî for example, solve equations in general form or find an indefinite integral;  RPN is the reverse Polish notation - the form of the record when the numbers are entered before the operation, I did not understand its charms, but many like it.  A little more if, then the second allows statistics, operations on numbers of different number systems, vector analysis, series, complex numbers, systems of equations, probability theory - his guide 900 pp. 300 against 39GS.  For hardware in the second chip with firmware capacity twice as large (2 MB). </p><br><p>  What you need: 39GS, costs from 650 p.  (without cover) up to 1200 r, debugger / programmer from 700 rub - Segger J-LINK clone and suitable memory.  On the back side of his debugger, I pinned his pinout, if someone needs to have svg at the end of the note.  If the programmer is within reach, then it is possible without a debugger at all. </p><br><table><thead><tr><th><img src="https://habrastorage.org/files/2d0/e25/5ac/2d0e255ac2754501b5b1c6daba8e0cd8.jpg" width="400"></th><th><img src="https://habrastorage.org/files/854/b32/90d/854b3290d734402eb5c8f76f7c434dfa.jpg" width="400"></th></tr></thead></table><br><p>  The Chinese recommend SST39VF1601 (in the end I bought 3 pieces - 200 rubles), but I thought that it was possible to fuck up my old junk, it probably must be somewhere somewhere.  I found the required chip volume in old DVD drives, both Macronix supported one of them Segger, the other did not. </p><br><table><thead><tr><th><img src="https://habrastorage.org/files/533/f46/f5b/533f46f5b5c642ad90292022871ee4d3.jpg" width="400"></th><th><img src="https://habrastorage.org/files/569/9e1/dec/5699e1dec9ee4d71a286ea191018b1da.jpg" width="400"></th></tr></thead></table><br><p>  Disassembly 39GS.  I could not understand for a long time with disassembly, I even began to drill like seals under the battery cover, but it turned out to be much easier.  The first thing you need is to tear off the screen protection.  I could not find anything better than a spatula, which I sharpened to tear off the details from the table of a 3D printer.  We insert into the gap between the protection and the body and slowly hook it, under it there are 2 screws that we unscrew. </p><br><table><thead><tr><th><img src="https://habrastorage.org/files/4ae/1c0/2e9/4ae1c02e96f04f3f8b0ff6732b740b4e.jpg" width="400"></th><th><img src="https://habrastorage.org/files/284/744/5e0/2847445e09334d62ab09d4169d6cd0db.jpg" width="400"></th></tr></thead></table><br><p>  Then from the end, who is what, and I push the halves of the body with the same trowel.  Strongly not lyutuy, since you can tear off the speaker, which we unsolder. </p><br><table><thead><tr><th><img src="https://habrastorage.org/files/cbf/2c3/bdc/cbf2c3bdc28a4eabb3eae70e1532f3d0.jpg" width="400"></th><th><img src="https://habrastorage.org/files/92c/906/3bc/92c9063bcec94915a211224e0e21ba11.jpg" width="400"></th></tr></thead></table><br><p>  Carefully put the open, peel off and take the film to the side. </p><br><table><thead><tr><th><img src="https://habrastorage.org/files/724/081/11f/72408111fe494808a84bfeba45a1df18.jpg" width="400"></th><th><img src="https://habrastorage.org/files/e48/288/820/e482888206354efab5f98e84342c78ab.jpg" width="400"></th></tr></thead></table><br><p>  My next step is to solder to the JTAG heels.  Then we solder the microcircuit and solder the suitable one.  I soldered with a blowtorch, soldered to them, or 40 W with a soldering iron, naturally flux.  If there is a problem with a hair dryer, you can try to solder it with a soldering iron with the Rose alloy, I‚Äôm so-so the BIOS on the mat.  The board has many legs, while it is working.  Everything in the end should look like this. </p><br><table><thead><tr><th><img src="https://habrastorage.org/files/9d1/949/24a/9d194924acf744e0af485c3188f3a0c7.jpg" width="350"></th><th><img src="https://habrastorage.org/files/515/ae1/f47/515ae1f472b64c24b1d3185103269c81.jpg" width="400"></th></tr></thead></table><br><table><thead><tr><th><img src="https://habrastorage.org/files/ffc/1f3/bc8/ffc1f3bc84e84c05b0e154bb0e44bb89.jpg" width="350"></th><th><img src="https://habrastorage.org/files/3e5/2ea/b2f/3e52eab2f6d34652812df4596390bd0d.jpg" width="400"></th></tr></thead></table><br><p> In the upper pigtail, only one wire is used to supply a 3.3 V reference voltage to the debugger (from the STM32 debug board foot) to the VCC contact of the debugger; without it, the debugger could not see the calculator controller. </p><br><p>  Everything is ready for the firmware.  Install drivers for the debugger and install J-Link Commander and J-Link Flash.  Experienced to find out that version 6.12 with a clone no longer works, but 5.12 works exactly.  Understand what it is and how to win did not. </p><br><p>  Install the batteries in the calculator, launch J-Link Commander, write ‚Äúconnect‚Äù, then ‚Äú?‚Äù To select the target chip (our Samsung S3C2410A, well, or at worst, choose ARM9) and if everything is good, you will get the following window. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ce8/0a6/4d7/ce80a64d71a04a769373911aba1842a9.jpg"></div><br><p>  <em>Then run J-Flash and follow the pictures from the Chinese <a href="http://www.cncalc.org/thread-11492-1-1.html">site</a> .</em> </p><br><p>  At this step, gentlemen, I was a fiasco.  I could count the memory, but I could not erase or write the firmware.  I changed the chips several times, but nothing came of it.  Identification of the chip and the controller is there, but it was impossible to fill in something.  It was the beginning of October, I thought that maybe the chips were write-protected and I could not do without ordering the recommended SST39VF1601, I soldered my native chip back.  Having decided to bring the matter to either a 39GS breakdown or a happy ending, I ordered SST39VF1601.  It so happened that at the same time with him I also ordered the TL866A programmer with TSOP-48 block.  Looking ahead, I‚Äôll say that both chips from the drives were a good match for the programmer, but having soldered them, I didn‚Äôt get a working calculator.  Analyzing, I later came to the following conclusions: </p><br><ul><li><p>  The impression was that these chips could still be used and could be flashed using the Segger debugger, but due to the following conclusion this could not be done; </p><br></li><li>  Gentlemen, most likely I Krivoruk.  Simply, apparently I did not work out then normally solder the chip.  And then when I already had both the programmer and the recommended chips on hand, I didn‚Äôt begin to experiment, but I flashed and soldered SST39VF1601.  I will not describe the work with the TL866A, everything is simple there - we put the chip in, select its manufacturer, open the firmware, flash it, remove it, solder it. </li></ul><br><table><thead><tr><th><img src="https://habrastorage.org/files/498/71a/819/49871a81977c4729bb6e34b48889d04d.jpg" width="400"></th><th><img src="https://habrastorage.org/files/e67/bda/3e8/e67bda3e8260405292677a681bd79806.jpg" width="400"></th></tr></thead></table><br><p>  Then we collect everything in reverse order.  The patient begins to rebound and remembered everything that is needed. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/0be/3bc/c1a/0be3bcc1a21a45199eab7cabe5e89dbd.jpg"></div><br><p>  The last step is a sticker on the buttons, I didn‚Äôt find anything on the Internet, so I drew it myself (attached in svg, the carlito font should be), print on A4 as is.  The only thing I would finish is to move the inscriptions to each other (which are above the keys) in svg so that you only need to cut one strip for the sticker, but I already realized that when I pasted half of it, I additionally wrote tape on top with adhesive tape.  As a result, the patient finally came to his senses and immensely makes us happy.  The difference between what was huge. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/095/d99/479/095d994793f840129a5f3122b2be5642.jpg"></div><br><p>  <a href="">48GII buttons.</a>  <a href="">48GII firmware.</a>  <a href="">Segger.</a> </p><br><p>  If not difficult, put it on some Yandex disk. </p><br><p>  <strong>PS</strong> True to count <img src="https://habrastorage.org/files/370/06a/f4b/37006af4b5ba458f93f873d4f24ac6a1.jpg" width="40">  on it, I could not, although TI89 can. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/399397/">https://habr.com/ru/post/399397/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../399385/index.html">Electromechanical Designer ROBOTS-XXI</a></li>
<li><a href="../399387/index.html">Homemade smoke machine</a></li>
<li><a href="../399389/index.html">How could an alien spacecraft work?</a></li>
<li><a href="../399391/index.html">Four-bit calculator from cardboard and balls</a></li>
<li><a href="../399395/index.html">Autumn sale on Steam and the first award "Steam Awards"</a></li>
<li><a href="../399401/index.html">Ask Ethan # 108: Is there instant sunlight?</a></li>
<li><a href="../399403/index.html">Pain in the hands when working at the computer. Part 2. Release the shoulder girdle and neck.</a></li>
<li><a href="../399405/index.html">Nintendo founder's birthday</a></li>
<li><a href="../399407/index.html">Why can not buy wireless headphones</a></li>
<li><a href="../399409/index.html">Every weather is good: a weather indicator that cosplays</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>