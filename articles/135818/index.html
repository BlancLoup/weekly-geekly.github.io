<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Bug" is not a bug of non-centering of figures with the attribute align = center</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As you know, Habr uses ‚Äúold school‚Äù attributes of tags that allow text formatting and pictures in articles and comments by the authors. Among these ta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Bug" is not a bug of non-centering of figures with the attribute align = center</h1><div class="post__text post__text-html js-mediator-article">  As you know, Habr uses ‚Äúold school‚Äù attributes of tags that allow text formatting and pictures in articles and comments by the authors.  Among these tags was one missing from the W3C standards.  This is &lt;img align = "center"&gt;.  It was found that some of the authors "naively" use this attribute, because Habra simply does not provide another.  Strangely enough, in part of browsers this attribute on Habr√© is supported, although experiments with pure test pages show that there are no miracles, it does not work in img. <br><br>  I was interested in the question of when the attribute is supported and what needs to be added in the styles so that it starts to be supported everywhere.  If it worked on the site, we would support the naive view that this is the correct attribute, but, nevertheless, we would get a tool for centering the drawings. <br><a name="habracut"></a><br>  In fact, the align = ‚Äúcenter‚Äù attribute in HTML is intended for block elements (div, p, ...) and refers not to them, but to the internal content of the element.  Therefore, if we write <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">align</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"123.gif"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  then centering will work (this is shown below on the test page with pictures with alt = " <b>figure-sub-test</b> "). <br><br>  But this can not be written on Habr√©, these are the rules of the tag parser. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To check how it works on Habr√©, you can use the preview when writing a comment or in a draft article.  This will not exactly coincide with the final look, but you can use it for tests. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">align</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1450823006127547032299"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">align</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1450823006127547032299"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  Here is what we see: <br><img src="http://1450823006127547032299"><br><br><div style="text-align:center;"><img src="http://1450823006127547032299"></div><br>  In most browsers, except for Firefox, the second image is centered (if the Habr styles have not yet been fixed), although <a href="http://spmbt.kodingen.com/habrahabr/testImgAlignCenter.htm">tests show</a> that this attribute is not supported by browsers (except for rare exceptions with doctypes). <br>  Why this wrong text does not work everywhere, but works on Habr√©, and not in Firefox? <br><br>  <b>UPD Jan 25</b>  <b>2013</b> <i>(in a year): it was</i> found that Habr's styles ceased to support this incorrect attribute.  To use it on the site, users had to finish writing the same way as it was done for Firefox before. <br><br>  Looking at the style of the picture, we find the cause. <br><pre> <code class="html hljs xml">img[align="center"] { display: block; margin: 0 auto !important; }</code> </pre><br>  Yes, on Habr√© in the file all.css this trick of turning the wrong attribute into the "correct" one is supported.  It is these properties that you need to have a picture to start centering - to <b>be a block</b> and center with a <b>margin</b> style <b>: 0 auto;</b>  . <br><br>  <i>(But those who know that there is no such attribute cannot themselves guess that it works on Habr√© - there is no documentation, the test in Fx does not pass. I, for example, learned about its existence by chance when I saw <a href="http://habrahabr.ru/users/aleksandrit/" class="user_link">aleksandrIt</a> in my <a href="http://habrahabr.ru/users/aleksandrit/blog/">notes</a> (almost in each annotation), looking through Chrome.)</i> <br><br>  It remains to understand why centering does not work in Firefox. <br><br>  Things are easy - also watch styles (using Firebug).  Here we find that the attribute miraculously changed to align = "middle" and even manual renaming does not help fix it.  The browser itself changes the wrong attribute to, ‚Äúin his opinion,‚Äù the most suitable (vertical alignment in the stream of lower-case elements).  Therefore, the style rule img [align = "center"] stops working. <br><br>  Therefore, for full support of browsers on Habr√© there is not enough rule: <br><pre> <code class="html hljs xml">img[align="center"], img[align="middle"]{ display: block; margin: 0 auto !important; }</code> </pre><br><br><h3>  Test clean page with attributes </h3><br>  To view the test page for testing the img align = "center" attribute in different browsers, visit <a href="http://spmbt.kodingen.com/habrahabr/testImgAlignCenter.htm">spmbt.kodingen.com/habrahabr/testImgAlignCenter.htm</a> .  In Firefox, it will look something like this, in other browsers a bit different.  Pictures and blocks are tinted so that they differ better.  There are no real pictures to see the ALT captions. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dff/d9b/a2e/dffd9ba2e5a62f347bc0b79889bcd6da.png"></div><br>  At first, under the ‚ÄúBasic test‚Äù we will see a bluish ‚Äú <b>Empty Fig.</b> ‚Äù Block with the required attribute and an attribute failure in the image, which is completely logical. <br>  One click on the ‚ÄúEnable Correcting Styles‚Äù link allows you to see how the style rules we've obtained are applied so that centering starts working in all browsers. <br><br>  Technical notes.  The resume view of the addRules () styles application function is caused by the desire to include the script in the IE8 browser in the execution.  (It wasn‚Äôt checked in IE9, but it should work as in the others.) Without the doctype, the margin: 0 auto rule will not work in IE8, but the align: right and left attributes will work. <br><br><h3>  What to do? </h3><br>  Such a rule was specifically written to <a href="http://userstyles.org/styles/36690">correct the</a> error in the Habr <a href="http://userstyles.org/styles/36690">ZenComment</a> styles and, independently of them, in the <a href="http://userscripts.org/scripts/show/121690">HabrAjax</a> script (Habr-adjax), after which the centering with the align = "center" attribute started working correctly in all browsers. <br><br>  <b>For conclusions in general</b> , I must say that one should not support the opinion among webmasters that this attribute can work in IMG tags.  Let the time of attributes pass and all use styles, some inexperienced web builders may have the impression that such an attribute exists. <br><br>  <b>UPD Jan 25</b>  <b>2013</b> <i>(in a year): it was</i> found that Habr's styles ceased to support this incorrect attribute.  To use it on the site, users had to finish writing the same way as it was done for Firefox before. </div><p>Source: <a href="https://habr.com/ru/post/135818/">https://habr.com/ru/post/135818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135811/index.html">Cubelets</a></li>
<li><a href="../135813/index.html">BitTorrent launched its file sharing service</a></li>
<li><a href="../135815/index.html">Testing parallel threads</a></li>
<li><a href="../135816/index.html">Moving and Transforming in CSS3</a></li>
<li><a href="../135817/index.html">Slow read server vulnerabilities</a></li>
<li><a href="../135820/index.html">Do you use new syntax (hash, lambda) in Ruby 1.9?</a></li>
<li><a href="../135821/index.html">What is this new jQuery.Callbacks Object</a></li>
<li><a href="../135822/index.html">Script for Notepad ++ in Python</a></li>
<li><a href="../135823/index.html">Laser toy for a cat on servo drives</a></li>
<li><a href="../135824/index.html">Numbers Competently write numbers in words on the iPhone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>