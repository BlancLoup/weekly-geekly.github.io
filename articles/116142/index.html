<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Accelerate Website Database</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Website loading speed has always been an important topic, but it has become even more relevant since April 2010, when Google began to take it into acc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Accelerate Website Database</h1><div class="post__text post__text-html js-mediator-article">  Website loading speed has always been an important topic, but it has become even more relevant since April 2010, when Google began to take it into account when ranking sites in search results.  However, the main bias, as a rule, was done on reducing the size of files, optimizing server parameters, CSS and Javascript. <br>  There is also another important factor.  This is the speed with which web pages are formed on the server.  Most large modern sites store all information in databases and use different languages ‚Äã‚Äã(for example, PHP or ASP) to extract it, generate an HTML page and send it to the browser. <br><a name="habracut"></a><br>  Thus, if the pages of your site are given in more than 1.5 seconds (the threshold value in Google, at which the site is considered fast), you may disappoint your visitors, similarly, if your search results page takes a very long time to load or if, for example, Product description pages load quickly, but User Testimonials load for a few seconds. <br> <a href=""><img src="http://media.smashingmagazine.com/cdn_smash/wp-content/uploads/2011/03/performance.gif" title="Website performance"></a> <br><h6>  The threshold set by Google to determine ‚Äúfast‚Äù websites is ~ 1.5 seconds.  A similar schedule can be obtained from Webmaster Tools (go to [domain] ‚Üí Diagnostics ‚Üí Performance). </h6><br>  This article discusses such issues and describes several ways to speed up your website by optimizing the database.  It begins with well-known facts, including a description of more complex methods, and contains a list of resources for further reference.  The article is intended for fearless beginners and for developers who commit rash acts. <br><br><h4>  What is a database?  What is SQL? </h4><br>  A database is generally a set of tables with information, such as, for example, a list of customers and their orders.  This could be a card file, a bunch of spreadsheets, a Microsoft Access file, or <a href="http://top-10-list.org/2010/02/16/top-10-largest-databases-list/">40 terabytes of Amazon data about books and customers</a> . <br>  A typical database for a blog contains tables containing information about users, categories, posts and comments.  Wordpress initially has <a href="http://codex.wordpress.org/Database_Description">these and several other</a> tables.  The database for the e-commerce system contains tables with information about customers, products, categories, orders, products contained in the "basket".  Magento open engine contains <a href="http://www.magentocommerce.com/wiki/2_-_magento_concepts_and_architecture/magento_database_diagram">these and many other</a> tables.  The database has many application possibilities ‚Äî for content management, storage of customer relations, invoices and invoices, events ‚Äî both of these types (entry for blogs and e-commerce sites) will appear in this article. <br>  Some tables in the database of the bath are associated with other tables.  For example, a blog post may contain several comments, a client may make several orders (these are ‚Äúone-to-many‚Äù relationships).  The most complex type of relationship in a database is many-to-many.  This type of relationship is the core of the database of e-commerce systems: one order may contain different products, just as any product may be contained in different orders.  This is where the <b>‚Äúorder content‚Äù</b> table appears, which is ‚Äúlocated‚Äù between orders and goods, and it is recorded in it every time a user adds an item to the order.  We will understand how important this will be later when we consider why some queries take a long time to execute. <br>  A database is also understood as software that contains all of this data.  Software means when they say, ‚ÄúWhile I had breakfast today, my database‚Äú fell ‚Äù‚Äù or ‚ÄúI need to update the database‚Äù.  ( <i>‚ÄúHere we mean most likely a DBMS, not a database,‚Äù said the translator (:)</i> . The common systems are Microsoft Access 2010, Microsoft SQL Server, MySQL, PostgreSQL and Oracle Database 11g. <br>  The acronym SQL is often mentioned when it comes to databases.  It takes place in the phrases "Structured Query Language" (structured query language) and is pronounced <i>"S'Ku</i> -El" ( <i>"The NSS, if they developed it in the USSR," said the translator (:)</i> . This language allows us to "communicate" with the database in an amazing way: <pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> lastname <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> customers <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> city=<span class="hljs-string"><span class="hljs-string">'Brighton'</span></span>;</code> </pre>  This code is called a request.  There are also other expressions for working with a database, such as <i>INSERT</i> (for adding data), <i>UPDATE</i> (for updating), <i>DELETE</i> (for deleting), <i>CREATE TABLE</i> (for creating tables), <i>ALTER TABLE</i> and many others. <br><br><h4>  How can a database slow down a website? </h4><br>  The new empty site will work very quickly, but as the project progresses, you may notice some ‚Äúbrakes‚Äù on certain pages, in particular, on pages with complex elements of functionality.  Suppose you would like to display ‚ÄúWhat else do customers buy with this product ...‚Äù at the bottom of the product listing page.  To obtain this information from the database, you must perform the following steps: <br><ol><li>  Determine the product with which we will "work". </li><li>  Determine how many times this product has recently been added by customers to the ‚Äúbasket‚Äù (table ‚Äúorder content‚Äù above). </li><li>  Get a list of products that were also added to the "basket" with the same order (only confirmed orders). </li><li>  Select buyers who made these orders. </li><li>  Select the orders that users made from the item above. </li><li>  Look at the contents of their orders (the same table "contents of the order"). </li><li>  Get information about these products. </li><li>  Identify products that are found in these orders more often, and display this list. </li></ol><br>  You could fit everything in one complex query or break it down into a few more simple ones.  In any case, it can be executed very quickly if there are 20 products, 12 customers, 18 orders and 67 purchased goods in your database (the total number of goods in the ‚Äúbaskets‚Äù).  But if everything is done inefficiently, the performance of such an operation will be very slow on a large amount of data.  For example, processing 500 products, 10,000 customers, 14,000 orders and 100,000 purchased goods will slow down the page load. <br>  This is a very intricate example, but it gives an opportunity to imagine what is going on ‚Äúbehind the scenes‚Äù and why a seemingly innocent element of functionality can ‚Äúput on‚Äù a site. <br>  The site slowdown may be caused by other reasons: the server is working with insufficient memory or disk space;  another site on this server consumes a lot of resources;  the server conducts email-mailing or is busy with some other ‚Äúhard‚Äù task;  software or hardware errors;  wrong configuration.  Maybe the popularity and, consequently, site traffic has suddenly increased?  In the next two sections, the speed of work will be considered in more detail. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Case in the database? </h4><br>  Currently, there are several ways to analyze the speed of your site, including the <a href="http://getfirebug.com/">Firebug plugin for Firefox</a> , tools for developers in Google Chrome (Shift + Ctrl + I, more Resources ‚Üí Enable resource tracking), <a href="http://developer.yahoo.com/yslow/">Yahoo YSlow</a> .  There are also special sites like <a href="http://www.webpagetest.org/">WebPagetest</a> where you enter a URL and it will measure the speed from the specified location. <br>  These tools display a diagram of all the resources (HTML, images, CSS and Javascript files) available on the page, indicating the load time for each of them.  These tools will also determine the time spent on: <br><ul><li>  performing a DNS query (converting domain names to an IP address), </li><li>  server connection </li><li>  waiting for a response from the server ("Time to first byte" aka TTFB - time to the first byte (approx. translator)), </li><li>  receiving (loading) data from the server. </li></ul><br>  Many web pages are collected entirely on the server, including PHP, which accesses the database, then sends everything to the browser at once, so any database delays will lead to a long waiting time, and the data receiving / loading time will be proportional to their size. .  Thus, with a fast connection, a 20 KB web page that is formed in 5 seconds (albeit loading in 0.05 seconds) will create a big delay on the server. <br>  But still not all pages are like that.  The <b>flush ()</b> PHP function sends already generated HTML data to the browser.  Any further delays will already be associated with the loading of this data, and not with their waiting. <br>  In any case, you can compare the waiting / loading times of supposedly slow and complex web pages with the waiting time of a similarly sized HTML page (or image, or other static element) on the same server at the same time.  This eliminates the impact of perhaps a slow Internet connection, or server load (both of these options will cause delays) and will allow you to compare these periods of time spent on the formation of pages.  This, of course, is not an exact science, yet it will give some idea of ‚Äã‚Äãwhat and where it is slowing down. <br>  The screenshots below show the results of the analysis by the Google Chrome developer tool of a web page and image of the same size - 20 Kb.  The waiting time of the web page was 130 ms, the load time was 22 ms.  The time for the image is 51 ms and 11 ms, respectively.  They have approximately the same download time, but the server took an additional 80 ms to process and build the web page, which is a consequence of running the PHP code and interacting with the database. <br>  When performing these tests, analyzing static content, refresh the page in order not to get its cached version.  In addition, perform the test several times to ensure that you do not encounter a statistical deviation.  The third screenshot below shows that WebPagetest shows almost twice as much time as a tool from Google, on the same page, at the same time.  This suggests that you need to use any one tool for testing. <br> <a href=""><img src="http://media.smashingmagazine.com/cdn_smash/wp-content/uploads/2011/02/Google-Chrome-web-page-snapshot.png"></a> <br><h6>  Using the Google Chrome toolkit, we get 130 ms when loading a webpage </h6><br><br> <a href=""><img src="http://media.smashingmagazine.com/cdn_smash/wp-content/uploads/2011/02/Google-Chrome-image-snapshot.png"></a> <br><h6>  The same tool.  We have 51 ms when loading images of similar size </h6><br><br> <a href=""><img src="http://media.smashingmagazine.com/cdn_smash/wp-content/uploads/2011/02/Web-page-test-thumb.png"></a> <br><h6>  Analyzing the same page using WebPagetest, we get 296 ms to wait and 417 ms total load time </h6><br><br><h4>  Measuring queries in MySQL / PHP? </h4><br>  Having a general idea, we will understand in more detail.  If you suspect that the database may be slowing down your site, you need to find out exactly what is causing the delay.  I will define a pair of functions that will calculate the execution time of each database query.  This code is for PHP / MySQL, but the method can be used on any database-using site: <br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartTimer</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($what=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> $MYTIMER; $MYTIMER=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//global variable to store time //if ($_SERVER['REMOTE_ADDR'] != '127.0.0.1') return; //only show for my IP address echo '&lt;p style="border:1px solid black; color: black; background: yellow;"&gt;'; echo "About to run &lt;i&gt;$what&lt;/i&gt;. "; flush(); //output this to the browser //$MYTIMER = microtime (true); //in PHP5 you need only this line to get the time list ($usec, $sec) = explode (' ', microtime()); $MYTIMER = ((float) $usec + (float) $sec); //set the timer } function StopTimer() { global $MYTIMER; if (!$MYTIMER) return; //no timer has been started list ($usec, $sec) = explode (' ', microtime()); //get the current time $MYTIMER = ((float) $usec + (float) $sec) - $MYTIMER; //the time taken in milliseconds echo 'Took ' . number_format ($MYTIMER, 4) . ' seconds.&lt;/p&gt;'; flush(); }</span></span></code> </pre><br>  <b>StartTimer</b> starts the timer, and also displays everything that you measure.  The second line is verification of your IP address.  This can be useful if you (temporarily) take measurements on a working site and do not want everyone to be able to view such statistics.  Uncomment the line by removing the initial <b>//</b> and replace <b>127.0.0.1</b> with <a href="http://whatismyipaddress.com/">your IP address</a> .  <b>StopTimer</b> stops the timer and displays the elapsed time. <br>  Most modern sites (especially well-made open projects) have a lot of PHP files, but database queries are executed only in some of them.  Look for the <i>mysql_db_query</i> or <i>mysql_query</i> lines in these files.  Many software developments, such as BBEdit, have functions that allow you to perform a similar search.  If you are familiar with the Linux console, try the following command: <br><pre> <code class="bash hljs">grep mysql_query `find . -name \*php`</code> </pre> <br>  As a result, get something like this: <br><pre> <code class="php hljs">mysql_query ($sql);</code> </pre> <br>  For WordPress 3.0.4, this will be line 1112 of the <i>wp-includes / wp-db.php file</i> .  You can copy the functions described above to the beginning of the file (or to the file that connects to each page), and then add the StartTimer and StopTimer functions before and after the <i>mysql_query</i> line to make it like this: <br><pre> <code class="php hljs">StartTimer ($query); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;result = @mysql_query( $query, $dbh ); StopTimer();</code> </pre><br>  The screenshot below shows the result of adding our code immediately after installing WordPress.  A total of 15 requests are processed, each takes about 0.0003 seconds.  (0.3 ms), which is expected from an empty database. <br> <a href=""><img src="http://media.smashingmagazine.com/cdn_smash/wp-content/uploads/2011/03/hello-world.gif" alt="Wordpress test"></a> <br><h6>  Here all WordPress requests are displayed and measured. </h6><br><br>  If you find this line in other widely used systems, please share this information by adding a comment to this article. <br>  You can do other interesting things: you can see how much faster your computer is compared to mine.  ‚ÄúCountdown‚Äù to 1.000.000 takes 2.9420 seconds on my computer, my server is a bit faster - 2.0726 seconds. <br><pre> <code class="php hljs">StartTimer (<span class="hljs-string"><span class="hljs-string">'counting to 10000000'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i=<span class="hljs-number"><span class="hljs-number">0</span></span>; $i&lt;<span class="hljs-number"><span class="hljs-number">10000000</span></span>; $i++); <span class="hljs-comment"><span class="hljs-comment">//count to a high number StopTimer();</span></span></code> </pre><br><br><h5>  Something about the results </h5><br>  This method gives only comparative results.  If your server was busy at this moment, then all requests were executed more slowly than usual.  But they should have been at least able to determine how long the ‚Äúfastest‚Äù request is executed (perhaps 1-5 ms), slower (more than 200 ms) and the ‚Äúheaviest‚Äù (more than 1 second).  You can run this test several times over the course of an hour or a day (but not immediately after the previous test ‚Äî see the database cache section) to make sure this is not a fluke. <br>  It is also likely to seriously spoil the design of the web page.  Various warnings may also be issued from PHP such as ‚ÄúCannot modify header information.  Headers already sent by ... ".  This happens because measurement messages are ahead of the cookies and session headers.  If the main content of the page is displayed, you can ignore these messages.  If the page turns out to be empty, then you may need to declare the <i>StartTimer</i> and <i>StopTimer functions</i> around certain blocks of code, and not around <i>mysql_query</i> . <br>  This method is a fairly quick way to get rough results; you shouldn‚Äôt leave it on a working website. <br><br><h5>  What else could be the reason? </h5><br>  If database queries are not so slow, but the page is still formed for a long time, then the reason is most likely poorly written code.  You can add timer functions around large areas of code to see if there is a delay there?  Perhaps the reason is that you run over 10,000 lines of information, even if you display only 20 items? <br><br><h5>  Profiling </h5><br>  If you're still confused and / or want to get more detailed information about what's going on in your code, try various debugging and profiling tools, such as <a href="http://www.xdebug.org/">Xdebug</a> , which analyzes the local copy of the site.  It can even visually display all bottlenecks. <br><br><h4>  Indexing tables </h4><br>  The experiment above may have surprised you by showing how many queries to the database page on your site, and hopefully helped you identify slow queries. <br>  To speed up the process, let's look now at some simple improvements.  To do this, you need to somehow send requests directly to the database.  Many server administration packages (such as CPanel or Plesk) come with PhpMyAdmin to perform these tasks.  In addition, you can upload something like <a href="http://phpminiadmin.sourceforge.net/">phpMiniAdmin to the site</a> , just one PHP file that allows you to browse the database and execute queries.  You will need to enter a database name, username and password.  If you do not know them, you can easily find them in the configuration file of your site, if there is one (in WordPress, for example, this is WP-config.php). <br>  Among the queries to the database, which contain pages of the site, you probably saw conditions with <i>WHERE</i> .  This is a way to filter results using SQL.  For example, if you are viewing the Purchase History page on the site, there are probably queries that determine who placed the orders.  Something like that: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> orders <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> customerid = <span class="hljs-number"><span class="hljs-number">2</span></span>;</code> </pre><br>  This request retrieves all orders placed by the client with id 2. On my computer, with 100,000 order records is executed in 0.2158 seconds. <br>  Columns, such as CustomerID, containing many possible values ‚Äã‚Äãthat are used in <i>WHERE clauses</i> , in combination with <b>=</b> or <b>&lt;</b> , or <b>&gt;</b> , should be indexed.  It's like the content at the end of the book: it helps the database quickly retrieve indexed data.  This is one of the fastest ways to speed up database queries. <br><br><h5>  What to index? </h5><br>  In order to know which columns to index, you need to have an idea of ‚Äã‚Äãhow the database is generally used.  For example, if your site is often used to search for categories by name or events by date, then these columns should be indexed: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> categories <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = <span class="hljs-string"><span class="hljs-string">'Books'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">events</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> startdate &gt;= <span class="hljs-string"><span class="hljs-string">'2011-02-07'</span></span>;</code> </pre><br>  Each of the database tables must have an identifier column (usually <i>id</i> , but sometimes an <i>ID</i> or <i>ArticleID</i> , etc.) specified as the <i>primary key</i> , as in the screenshot of the <i>wp_posts</i> table below.  These <i>primary keys are</i> automatically indexed.  But you should also index columns that reference identifiers in other tables, such as the <i>CustomerID</i> in the example above.  In this case, they will be <i>foreign keys</i> . <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> orders <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> customerid = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> orderitems <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> orderid = <span class="hljs-number"><span class="hljs-number">231</span></span>;</code> </pre><br>  If you need to search by a large amount of textual data, for example, description of goods or content of articles, you can add another type of index - <a href="http://www.devarticles.com/c/a/MySQL/Getting-Started-With-MySQLs-Full-Text-Search-Capabilities/1/">FULL TEXT</a> .  Queries that use indexes of the type <i>FULL TEXT</i> can span multiple columns and are initially set up to allow for words with a length of 4 characters or more.  It also excludes " <a href="http://dev.mysql.com/doc/refman/5.0/en/fulltext-stopwords.html">stop words</a> " and words found in more than 50% of indexed records.  However, to use this type of index, you need to change the SQL query.  Below are the queries, with and without using the <i>FULL TEXT</i> index: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> products <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'%shoe%'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> description <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'%shoe%'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> products <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCH</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,description) AGAINST (<span class="hljs-string"><span class="hljs-string">'shoe'</span></span>);</code> </pre><br>  It may seem that in this way you need to index everything.  But, although indexing speeds up the <i>selection</i> , it slows down the <i>insertion</i> , <i>update</i> and <i>delete</i> operations.  So, if you have a table with a description of the goods, which is unlikely to change often, you can index it.  But the table with orders will probably constantly change - in this case, you need to be more careful with indexing. <br>  You also need to remember about the cases in which <a href="http://www.mysqlperformanceblog.com/2007/08/28/do-you-always-need-index-on-where-column/">indexing does not help</a> .  For example, if most of the values ‚Äã‚Äãin a column would have the same value.  If the <i>item status</i> in the <i>status</i> column was ‚Äú1‚Äù, meaning ‚Äúis available‚Äù, and 95% of all products would be ‚Äúavailable‚Äù, the index would not help when searching for goods that are available.  Imagine if you had to make a pointer at the end of the book for any excuse, then links would go to each of its pages. <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> products <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> stock_status = <span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre> <br><br><h5>  How to index? </h5><br>  Using phpMyAdmin or phpMiniAdmin, you can look at the structure of each table and see if the required columns are indexed.  In PhpMyAdmin, select the name of the table; at the end of the structure there will be a list of indices;  in phpMiniAdmin, at the top, click on "Show tables", then "sct" <i>(show create table)</i> opposite the table you need;  As a result of these actions you will see a query necessary to create a table, at the end of which there will also be a list of indexes, something like: <br><pre> <code class="sql hljs">orderidindex" KEY ("orderid");</code> </pre><br> <a href=""><img src="http://media.smashingmagazine.com/cdn_smash/wp-content/uploads/2011/02/Show-create-table-snapshot1.png" alt="List of indexes in phpMiniAdmin"></a> <br><h6>  Use PhpMiniAdmin to view the list of indexes in the wp_posts table in WordPress </h6><br><br>  If the index does not exist, you can create one yourself.  In PhpMyAdmin in the section "Indexes" specify the number of columns for which you want to build an index and click "Go".  Enter the index name, select the desired columns and click ‚ÄúSave‚Äù, as shown in the screenshot below: <br> <a href=""><img src="http://media.smashingmagazine.com/cdn_smash/wp-content/uploads/2011/02/Adding-index-snapshot1.png" alt="Index list in phpMyAdmin"></a> <br><h6>  Creating an index using phpMyAdmin </h6><br><br>  In PhpMiniAdmin you will need to perform the following request by inserting its corresponding field at the top of the page: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> orders <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> customeridindex (customerid);</code> </pre> <br>  Performing a search query after creating the index required 0.0019 seconds on my computer, which is 113 times faster. <br>  Adding a FULL TEXT index is done similarly.  The index should be compiled by the columns, in fact, by which you are looking for: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> articles <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> FULLTEXT(title,author,articletext); <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> articles <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCH</span></span>(title,author,articletext) AGAINST (<span class="hljs-string"><span class="hljs-string">'mysql'</span></span>);</code> </pre><br><h5>  Backup and Security </h5><br>  Before making any changes in the tables, make a backup of the entire database.  You can do this with PhpMyAdmin and PhpMiniAdmin by clicking the ‚ÄúExport‚Äù button.  If your database contains important information, such as customers, keep backups in a safe place.  You can also use the <i>mysqldump</i> command to back up the database via SSH: <br><pre> <code class="sql hljs">mysqldump <span class="hljs-comment"><span class="hljs-comment">--user=myuser --password=mypassword --single-transaction --add-drop-table mydatabase &gt; backup`date +%Y%e%d`.sql</span></span></code> </pre><br>  Such scenarios also pose a security risk because  provide an attacker with an easier way to get to your data.  Unlike PhpMyAdmin, which is to some extent protected by server management tools, phpMiniAdmin is one file that is not long to download and forget about it.  It will be better to protect access to it with a password or delete immediately after use. <br><br><h4>  Optimizing tables </h4><br>  MySQL and other types of database software have built-in optimization tools.  If the data in your tables changes frequently, then you can <b>use these tools regularly</b> to make the database tables take up less space and be more efficient.  But such procedures take a certain amount of time (from a few seconds to a few minutes or more, depending on the size of the table), and they can block other queries, so that optimization is better in the period of the smallest loads.  <a href="http://www.xaprb.com/blog/2010/02/07/how-often-should-you-use-optimize-table/">Disputes</a> about the necessary periodicity of optimizations <a href="http://www.xaprb.com/blog/2010/02/07/how-often-should-you-use-optimize-table/">do not abate</a> . <br>  To start the optimization procedure (for the <i>orders</i> table), run the following command: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">OPTIMIZE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> orders;</code> </pre><br>  My non-optimized <i>orders</i> table with 100,000 entries occupied 31.2 MB, and the query of the form <i>SELECT * FROM orders</i> ran for 0.2676 seconds.  After the first optimization, the size was reduced to 30.8 MB, and the query is executed in 0.0595 sec. <br>  The following PHP function will start optimizing all tables in the database: <br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OptimizeAllTables</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $tables = mysql_query (<span class="hljs-string"><span class="hljs-string">'SHOW TABLES'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//get all the tables while ($table = mysql_fetch_array ($tables)) mysql_query ('OPTIMIZE TABLE ' . $table[0]); //optimize them }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Before starting this function you should connect to the database. </font><font style="vertical-align: inherit;">Most modern websites do this automatically, but for the sake of completeness we give the corresponding code:</font></font><br><pre> <code class="php hljs">mysql_connect (DB_HOST, DB_USER, DB_PASSWORD); mysql_select_db (DB_NAME); OptimizeAllTables();</code> </pre><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We use cache </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Just as the browser caches the web pages you visit, frequently accessed database queries can be indexed. </font><font style="vertical-align: inherit;">It took 0.0019 seconds to complete the above request. </font><font style="vertical-align: inherit;">using index:</font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> orders <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> customerid=<span class="hljs-number"><span class="hljs-number">2</span></span>;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repeated execution of the same request requires only 0.0004 seconds, since </font><font style="vertical-align: inherit;">MySQL remembers the execution results and can display them without re-running the query completely. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">However, many news sites and blogs may use similar queries to ensure that articles are displayed only after the ‚Äúpublication‚Äù date:</font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> posts <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> publisheddate &lt;= <span class="hljs-keyword"><span class="hljs-keyword">CURDATE</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> articles <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> publisheddate &lt;= <span class="hljs-keyword"><span class="hljs-keyword">NOW</span></span>();</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Such requests cannot be cached, because </font><font style="vertical-align: inherit;">they depend on the current time and date. </font><font style="vertical-align: inherit;">In the table with 100,000 entries, the query by type, one of the above, was executed on my computer for about 0.38 seconds. </font><font style="vertical-align: inherit;">on non-indexed column. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If such requests are executed on each page of your site hundreds of times a minute, then just the same caching will significantly increase performance. </font><font style="vertical-align: inherit;">You can use caching to make requests by replacing </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NOW</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CURDATE with</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> actual time, for example, like this:</font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> articles <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> publisheddate &lt;= <span class="hljs-string"><span class="hljs-string">'2011-01-17 17:00'</span></span>;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> You can use PHP to make sure that the time intervals are 5 minutes or so: </font></font><br><pre> <code class="php hljs">$time = time(); $currenttime = date (<span class="hljs-string"><span class="hljs-string">'Ymd H:i'</span></span>, $time - ($time % <span class="hljs-number"><span class="hljs-number">300</span></span>)); mysql_query (‚ÄúSELECT * FROM articles WHERE publisheddate &lt;= <span class="hljs-string"><span class="hljs-string">'$currenttime'</span></span>‚Äù);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The expression </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% 300</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rounds time to within 300 seconds (5 minutes). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL also has other </font></font><a href="http://dev.mysql.com/doc/refman/5.0/en/query-cache-operation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">non-cacheable functions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , for example, RAND.</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> And the cache is growing ... </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The increasing amount of cached data can also slow down the website. </font><font style="vertical-align: inherit;">The more posts, pages, categories, products, articles and other elements will be on your site, the requests should be more related. </font><font style="vertical-align: inherit;">Take a look at an example:</font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> articles <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> publisheddate &lt;= <span class="hljs-string"><span class="hljs-string">'2011-01-17 17:00'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> categoryid=<span class="hljs-number"><span class="hljs-number">12</span></span>;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhaps, if your site had 500 categories, such requests would be placed in the cache, and the result would be returned in milliseconds. </font><font style="vertical-align: inherit;">And what if there are 1,000 constantly viewed categories? </font><font style="vertical-align: inherit;">They will push each other out of the cache and run much slower. </font><font style="vertical-align: inherit;">In this case, an increase in cache size may help. </font><font style="vertical-align: inherit;">But allocating more memory for the cache can adversely affect other tasks, so be careful. </font><font style="vertical-align: inherit;">You can find many tips on </font></font><a href="http://www.databasejournal.com/features/mysql/article.php/3808841/Optimizing-the-MySQL-Query-Cache.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enabling and improving cache performance</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> by changing server variables.</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> When caching is powerless </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In case of changes in the table, the cache becomes powerless. </font><font style="vertical-align: inherit;">When inserting, updating, deleting a row from a table, all queries related to this table are deleted from the cache. </font><font style="vertical-align: inherit;">So if the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'articles'</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> table is </font><font style="vertical-align: inherit;">updated every time you view any article (for example, there is a field with a view counter in this table), then the improvements described above may not help. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In such cases, you may want to explore any tools that implement the cache at the application level, for example, </font></font><a href="http://memcached.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memcached</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">You can also read the following section for more information on creating your own caching system. </font><font style="vertical-align: inherit;">Both of these options require much larger software changes than we discussed.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Own cache </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If particularly heavy database queries are executed for a long time, and the data does not change often, you can cache the results yourself. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppose you want to show 20 popular records on the site over the last week, using a formula that takes into account search queries, views, adding to "favorites", "Send to a friend". And you want to display this list as a bulleted list on the main page. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The easiest way would be, for example, using PHP, to make a query to the database once every hour or day and save the results to a separate file, which then simply connect to the site page.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After writing the PHP code that generates the list file, you can use several methods to run it on a schedule. </font><font style="vertical-align: inherit;">You can use the server scheduler (in Plesk 8: Server ‚Üí Scheduled Tasks) to run this script hourly like this:</font></font><br><pre> <code class="bash hljs">wget -O /dev/null -q http://www.mywebsite.co.uk/runhourly.php</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In addition, you can use the same PHP to check the file creation time. </font><font style="vertical-align: inherit;">If the file was created at least an hour ago, then execute the query. </font><font style="vertical-align: inherit;">3600 in this case is the number of seconds in an hour:</font></font><br><pre> <code class="php hljs">$filestat = stat (<span class="hljs-string"><span class="hljs-string">'includes/complicatedfile.html'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//look up information about the file if ($filestat['mtime'] &lt; time()-3600) RecreateComplicatedIncludeFile(); //over 1 hour readfile ('includes/complicatedfile.html'); //include the file into the page</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Returning to the example ‚ÄúWhat else do customers buy with this product ...‚Äù, you can also cache the data in a new column or in general a table. </font><font style="vertical-align: inherit;">Once a week, it will be possible to run a large set of complex queries for each product in order to determine which products are bought with it. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can then store the resulting product identifiers in a new column as multiple items, separated by commas. </font><font style="vertical-align: inherit;">In the future, to get a list of products that are purchased together with a product with id = 12, you will need to do this:</font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> products <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> FIND_IN_SET(<span class="hljs-number"><span class="hljs-number">12</span></span>,otherproductids);</code> </pre><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Reducing the number of requests using JOIN </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In any of the sections of your site, possibly in the administrative section, a list of users with orders made by them is displayed. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This uses a query like the one below (for sampling by value, meaning that the order is completed):</font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> orders <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">status</span></span>&gt;<span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> And for each order you still need to find the client who designed it: </font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> customers <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> customers <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>=<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> customers <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>=<span class="hljs-number"><span class="hljs-number">3</span></span>; etc</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the page displays information about 100 orders at once, 101 requests will need to be made. </font><font style="vertical-align: inherit;">And if you also need to display information about the delivery address from another table, the total cost of all orders, the page creation speed will drop, fall ... Everything can be done much faster by combining queries through JOIN. </font><font style="vertical-align: inherit;">The following is an example of combining the above queries:</font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> orders <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> customers <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> orders.customerid = customers.id <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> orders.status&gt;=<span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> There is also another way to write these queries, but without the JOIN: </font></font><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> orders, customers <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> orders.customerid = customers.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> orders.status&gt;=<span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Translation of requests to use a JOIN can be difficult because will have to change and php code. But if thousands of requests are executed on the ‚Äúslow‚Äù page, then maybe it is worth paying attention to the described method? For more information you can refer to Wikipedia, which </font></font><a href="http://en.wikipedia.org/wiki/Join_(SQL)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">details about JOIN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The columns that are used in the JOIN (in the example </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">customerid</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) should be indexed. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can also ask MySQL to " </font></font><a href="http://dev.mysql.com/doc/refman/5.0/en/explain.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">explain</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " how it handles your query. As a result, you will see how and what tables are used in the execution of the query, and can optimize something. The screenshot below shows the result of performing one of the complex queries in WordPress using EXPLAIN:</font></font><br> <a href=""><img src="http://media.smashingmagazine.com/cdn_smash/wp-content/uploads/2011/02/Mysql-explain-snapshot.png" alt="The result of the query with EXPLAIN"></a> <br><h6><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Using EXPLAIN, we learn how MySQL "perceives" complex queries </font></font></h6><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The screenshot shows which tables and indexes are used, the JOIN type, the number of rows analyzed and other information. </font><font style="vertical-align: inherit;">The official MySQL site describes </font></font><a href="http://dev.mysql.com/doc/refman/5.5/en/explain-output.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">what EXPLAIN explains</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and says a little about how to use this information to </font></font><a href="http://dev.mysql.com/doc/refman/5.5/en/using-explain.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optimize queries</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (for example, adding indexes).</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Shit </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finally, returning again to the example of ‚ÄúWhat else do customers buy with this product ...‚Äù, you can simplify it. </font><font style="vertical-align: inherit;">Rename it to "Recommended Products", for example, and display several other products of their same category or specified manually.</font></font><br><br><h4>  Conclusion </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This article shows several methods for improving database performance from simple to fairly complex. Although most well-designed sites should already include similar methods (using JOINs and indexes). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a lot of controversy about the effectiveness and reliability of using some of the methods described (measuring speed, indexing, optimization, caching, etc.), so the final decision is yours. In any case, you now have options to think about. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If your site has started to work more slowly after several months or years of normal work, you have something to push off to find the cause.</font></font><br><br><h6> PS   , ,  . <br> PPS  Q&amp;A       <a href="http://habrahabr.ru/qa/6123/">  </a> ,   Google    <a href="http://pagespeed.googlelabs.com/">Page Speed Online</a> . </h6></div><p>Source: <a href="https://habr.com/ru/post/116142/">https://habr.com/ru/post/116142/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116134/index.html">Most internet projects are fast food.</a></li>
<li><a href="../116137/index.html">New cloud storage system</a></li>
<li><a href="../116138/index.html">Color.com as a bubble proof</a></li>
<li><a href="../116139/index.html">Twice two = 3DMark Vantage record</a></li>
<li><a href="../116140/index.html">Maintaining periodic information in information systems</a></li>
<li><a href="../116145/index.html">Property again</a></li>
<li><a href="../116147/index.html">Qt Creator 2.2 Beta Released</a></li>
<li><a href="../116148/index.html">YouTube Create, or talking robots</a></li>
<li><a href="../116150/index.html">The Open Networking Foundation has been created</a></li>
<li><a href="../116151/index.html">OpenOffice Automation: The Beginning</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>