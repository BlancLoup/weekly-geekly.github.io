<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Clean Code Tips for Java / Android Newbies</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Thousands of articles are devoted to the topic of clean code on habrahabr alone. I never thought I would want to write my own. But after the company c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Clean Code Tips for Java / Android Newbies</h1><div class="post__text post__text-html js-mediator-article"><p>  Thousands of articles are devoted to the topic of clean code on habrahabr alone.  I never thought I would want to write my own.  But after the company conducted courses for those who want to associate a career with software development, in particular, develop under Android, my opinion has changed. </p><br><p>  The article is based on tips from the classics ‚ÄúRobert K. Martin: Clean Code‚Äù.  I selected those that were most often encountered in the form of problems among students.  These tips are written based on my experience in developing commercial Android applications.  Therefore, the following tips are not suitable for all Android projects, I'm not talking about other systems. </p><br><p>  Councils basically cited with code examples as it is NOT NECESSARY to do.  Oddly enough, most students had the same mistakes.  All code samples were invented, any coincidences with real-life code are random. </p><a name="habracut"></a><br><h2>  General tips </h2><br><p>  <b>1. The code should be easy to read, understandable and obvious.</b> </p><br><p>  Programmers spend most of their time reading and analyzing written code, rather than writing new ones.  It is important that your code is easily readable, understandable and with predictable behavior.  This will allow colleagues and you after a lapse of time to spend the minimum time on understanding what each piece of code does.  Understandable code with predictable behavior will reduce the likelihood of error when making changes not by the author of the code. </p><br><p>  <b>2. When writing code, you need to adhere to the <a href="http://www.oracle.com/technetwork/java/codeconventions-150003.pdf">Java Code Conventions</a> or other specifications adopted by the project</b> </p><br><p>  The specification can be compared with the rules for the design of the text of the book.  I think few people will want to read a book, where each paragraph is different in font, size and text color.  So with the code, it is much easier to read the code decorated in the same style. </p><br><h2>  Name </h2><br><p>  <b>1. The names of classes, functions, variables and parameters should convey the meaning laid down in them.</b> </p><br><p>  Quite obvious advice, but not always stick to it.  Here, as an example, you can bring the table of contents of the book: if all the chapters are called simply "Chapters", then you can not understand the essence.  Names of classes, functions should inform about their purpose without immersion in the details of implementation. </p><br><p> Class <code>MyActivity, CustomView, MyAdapter</code> says only one thing, that this is not part of the Android SDK and that's all.  <code>SecondActivity</code> says that this is not part of the Android SDK and that there is another Activity in the project, but not a fact =) </p><br><p>  Correctly call the classes: <code>MainActivity, FoodsActivity, FoodCartActivity, PhoneInputView</code> .  <code>MainActivity</code> - it is obvious that the main diluting screen of the application.  <code>FoodsActivity</code> - a screen with a list of products.  <code>PhoneInputView</code> is a component for entering a phone number. <br><br>  The following variable names are useless and violate the naming rules: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TextView m_textview_1; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TextView m_textview_2; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TextView m_textview_3;</code> </pre> <br><p>  as well as constructor parameters: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Policy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> imgId,</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> imgId2)</span></span></span></span></code> </pre> <br><p>  <b>2. The name of the public class and the file must match.</b> </p><br><p>  There is the next class </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProductsActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span></span>{ ... }</code> </pre> <br><p>  The name of the file is ‚Äúproducts_Activity.java‚Äù. <br>  It is not right.  The name of the public class and java-file must match. </p><br><p>  <b>3. In the names you need to use only letters of the Latin alphabet, no numbers, underscores and hyphens.</b>  <b>Exceptions are the names of the standards (GOST, ISO), underscores for word separation in the names of constants.</b> </p><br><p>  Examples above: <code>m_textview_1</code> .  Often, instead of <code>lastName</code> write <code>userName2</code> , which is not correct. </p><br><p>  <b>4. No need to use the lowercase ‚ÄúL‚Äù and ‚ÄúO‚Äù as the names of local variables, since</b>  <b>they are difficult to distinguish from ‚Äú1‚Äù and ‚Äú0‚Äù.</b> </p><br><p>  A contrived example, but something similar I met in my practice </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">s</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a[])</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> l = <span class="hljs-number"><span class="hljs-number">0</span></span>; l &lt; a.length; l++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> O = a.length - <span class="hljs-number"><span class="hljs-number">1</span></span>; O &gt; l; O--) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a[O - <span class="hljs-number"><span class="hljs-number">1</span></span>] &gt; a[O]) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> o = a[<span class="hljs-number"><span class="hljs-number">0</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>]; a[O - <span class="hljs-number"><span class="hljs-number">1</span></span>] = a[O]; a[O] = o; } } } }</code> </pre> <br><p>  There is one mistake in this bubble sort function, can you find it in seconds =)? <br>  Such code is difficult to read and it is easy to make a mistake when writing, which can be searched for for a very long time. </p><br><p>  <b>5. No need to specify the type in the suffix name.</b> </p><br><p>  Instead of <code>accountList</code> you just need to write <code>accounts</code> .  This will allow you to change the type of the variable at any time without renaming the variable itself. <br>  And even worse is the <code>nameString, ageFloat</code> . </p><cut></cut><br><p>  The exceptions are the heirs of the Android SDK classes: Activity, Fragment, View, Uri, etc.  By the name <a href="https://developer.android.com/guide/components/services.html">NewsSynsService it is</a> immediately clear that the class is a ‚Äúservice‚Äù and is responsible for synchronizing the news.  Using the <code>view</code> suffix in <code>nameView, photoView</code> makes it easy to distinguish layout related variables from the rest.  View names usually begin with a noun.  But the names of the buttons are better to start with the verb: buyButton </p><br><p>  <b>6. Names can and should contain terms from mathematics, names of algorithms, design patterns, etc.</b> </p><br><p>  Seeing the name <code>BitmapFactory</code> , not the author of the code will immediately understand the meaning of this class. </p><br><p>  <b>7. No need to specify any prefixes when naming.</b> </p><br><p>  Instead of <code>m_user, mUser</code> simply written as <code>user</code> .  It is unnecessary to specify the prefix <strong>s</strong> for static fields in modern IDEs. </p><br><p>  The Android SDK sources are not an indicator here due to the age of creation of the first versions and the inheritance of the code base to our days. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String s_default_name = <span class="hljs-string"><span class="hljs-string">"name"</span></span>;</code> </pre> <br><p>  <strong>s_</strong> to nothing at the beginning of the name of a static field.  In addition, the name of the constants should be written in capital letters: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String DEFAULT_NAME = <span class="hljs-string"><span class="hljs-string">"name"</span></span>;</code> </pre> <br><p>  <b>8. In the class name you need to use nouns.</b> </p><br><p>  Classes are like objects in the real world.  Therefore, you need to use nouns for their names: <code>AccountsFragment, User, Car, CarModel</code> . </p><br><p>  No need to call the classes <code>Manager, Processor, Data, Info</code> , because  they are too general.  A class name with a length of two to four words is better than just <code>Data</code> . </p><br><p>  <b>9. Class names must begin with a capital letter.</b> </p><br><p>  Words must NOT be separated by an underscore.  Follow the notation of CamelCase: <code>GoodsFragment, BaseFragment</code> </p><br><p>  <b>10. Use one word for each concept.</b> </p><br><p>  Using <code>fetch, retrieve, get</code> in one class is confusing.  If the class was called <code>Customer</code> , then the names of the class variables and parameters of functions of this type are better called <code>customer</code> , and not <code>user</code> . </p><br><br><h2>  Functions </h2><br><p>  <b>1. A function must perform only one ‚Äúoperation‚Äù.</b>  <b>She has to do it well.</b>  <b>And she should not do anything else.</b> </p><br><p>  By ‚Äúoperation‚Äù one should understand not one mathematical operation or a call to another function, but actions at the same level of abstraction.  To determine that a function performs more than one operation, you should try to extract another function from it.  If extracting a function gives nothing but a simple rearrangement of the code, then it does not make sense to split the function further. </p><br><p>  For example, there is a <code>setProducts</code> function of the <code>ProductsAdapter</code> class: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProductsAdapter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Adapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProductHolder</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setProducts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;Product&gt; newProducts)</span></span></span><span class="hljs-function"> </span></span>{ products.clear(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Product newProduct : newProducts) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!TextUtils.isEmpty(newProduct.getName())) { products.add(newProduct); } } notifyDataSetChanged(); }</code> </pre> <br><p>  Inside the function, there are three main operations: 1) filtering <code>newProducts</code> , 2) clearing and inserting new values ‚Äã‚Äãinto <code>products</code> , 3) updating the adapter <code>notifyDataSetChanged</code> . </p><br><p>  Filtering elements of newProducts should occur in another method and even in another in a class (for example, in a presenter).  Already filtered data should come to <code>ProductsAdapter</code> . </p><br><p>  It is better to alter the code as follows: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setProducts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;Product&gt; newProducts)</span></span></span><span class="hljs-function"> </span></span>{ products.clear(); products.addAll(newProducts); notifyDataSetChanged(); }</code> </pre> <br><p>  The <code>newProducts</code> parameter contains the already filtered list of products. <br>  You can still line <code>java products.clear(); products.addAll(newProducts);</code> <code>java products.clear(); products.addAll(newProducts);</code> <br>  make a separate function, but I don‚Äôt see much point in this.  It is better to replace <code>notifyDataSetChanged</code> with <a href="https://developer.android.com/reference/android/support/v7/util/DiffUtil.html">DiffUtil</a> , this will allow updating the cells in the list more efficiently. </p><br><p>  <b>2. The size of the function should be 8-10 lines.</b> </p><br><p>  The function of 3 screens is not a function, it is *****.  I, too, do not always manage to limit the size of the function to 8-10 lines of code, but I must strive for this.  For obvious reasons, I will not give an example. </p><br><p>  Large functions are difficult to read, modify, and test.  Having broken a large function into small ones, it will be easier to understand the meaning of the main function, since small details will be hidden.  Selecting functions you can see and get rid of code duplication in the main function. </p><br><p>  <b>3. In the body of the function, everything must be at the same level of abstraction.</b> <b><br></b> </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showArticelErrorIfNeed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Article article)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validateArticle(article)) { String errorMessage = <span class="hljs-string"><span class="hljs-string">"Article "</span></span> + article.getName() + <span class="hljs-string"><span class="hljs-string">" is incorrect"</span></span>; showArticleError(errorMessage); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { hideArticleError(); } }</code> </pre> <br><p>  Calculating the value of the local variable <code>errorMessage</code> has a lower level of abstraction than the rest of the code inside the function.  Therefore, the <code>java "Article " + article.getName() + " is incorrect"</code> code <code>java "Article " + article.getName() + " is incorrect"</code> better to put in a separate function. </p><br><p>  <b>4. The name of the function and the parameters to be transferred should indicate what the function is doing.</b> </p><br><p>  The reason for separating a block of code into a separate function may be the desire in the explanation of what the code does.  To do this, you must give the appropriate name of the function and the parameters of the function. </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Product </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String a)</span></span></span><span class="hljs-function"> </span></span>{ ‚Ä¶ }</code> </pre> <br><p>  It is not clear by what field the search will occur, which is passed to the input of the function. </p><br><p>  It is better to convert to the following form: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Nullable</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Product </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findProductById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@NonNull String id)</span></span></span><span class="hljs-function"> </span></span>{ ‚Ä¶ }</code> </pre> <br><p>  The name of the function says that the <code>Product</code> is being searched by the <code>id</code> field.  The function does not accept a ‚Äúnull‚Äù value as input.  If <code>Product</code> not found, then ‚Äúnull‚Äù will return. </p><br><p>  Robert C. Martin recommends using parameters as part of the function name: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Product product)</span></span></span><span class="hljs-function"> </span></span>{ ‚Ä¶ }</code> </pre> <br><p>  The function call may look like this: </p><br><pre> <code class="java hljs">add(product);</code> </pre> <br><p>  On projects, I have not seen such a method.  It is better not to use this method and write the full name: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addProduct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Product product)</span></span></span></span>{ ‚Ä¶ }</code> </pre> <br><p>  <b>5. Function names must begin with a verb.</b>  <b>Better long name than not meaningful short.</b> <b><br></b> </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{...}</code> </pre> <br><p>  The name <code>start</code> does not indicate what exactly the function starts.  Just looking into the body, it becomes clear that the function opens the Activity. </p><br><p>  And it should be clear the purpose of the function is already in name. </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Intent </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeIntent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{...} <span class="hljs-comment"><span class="hljs-comment">//  .</span></span></code> </pre> <br><p>  <b>6. Instead of passing a flag (boolean) to the function arguments, it is better to split the function into two functions.</b> </p><br><p>  Often this flag causes an increase in the size of the function when branching execution logic depending on the value of the flag.  In such cases, you should think about splitting this function into two.  Different behavior of the function depending on the flag passed is not always obvious. </p><br><p>  <b>7. Duplicate code should be carried out in a separate function.</b> <b><br></b> </p><br><pre> <code class="java hljs">lightButton.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ titleView.setTextAppearance(R.style.lightText); descriptionView.setTextAppearance(R.style.lightText); titleView.setBackgroundResource(R.color.lightBack); descriptionView.setBackgroundResource(R.color.lightBack); } }); (...      ) greyButton.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ titleView.setTextAppearance(R.style.greyText); descriptionView.setTextAppearance(R.style.greyText); titleView.setBackgroundResource(R.color.greyBack); descriptionView.setBackgroundResource(R.color.greyBack); } });</code> </pre> <br><p>  The code inside setOnClickListener differs only in style.  This code should be put in a separate method: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">changeStyle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@StyleRes </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> textSyleResource, @ColorRes </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> backgroundColorResource)</span></span></span><span class="hljs-function"> </span></span>{ titleView.setTextAppearance(textSyleResource); descriptionView.setTextAppearance(textSyleResource); titleView.setBackgroundResource(colorResource); descriptionView.setBackgroundResource(RcolorResource); }</code> </pre> <br><p>  <b>8. Do not pass or return ‚Äúnull‚Äù from the function when you can return an empty object.</b> <b><br></b> </p><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;Product&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findProductsByType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String type)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TextUtils.isEmpty(type)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } List&lt;Product&gt; result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Product product : products) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (product.getType().equals(type)) { result.add(product); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }  : <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;Product&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findProductsByType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@NonNull String type)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TextUtils.isEmpty(type)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Collections.emptyList(); } List&lt;Product&gt; result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Product product : products) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (product.getType().equals(type)) { result.add(product); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  This will avoid NullPointerexception errors and will not need to write null checks at call sites. </p><br><p>  Kotlin will help you to unlearn the habit of transmitting and returning null.) </p>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Formatting </h2><br><p>  <b>1. The code in the class should be read from top to bottom as a newspaper article in descending order of the level of abstraction.</b>  <b>First come the public functions, then the private ones.</b> </p><br><p>  The main idea of ‚Äã‚Äãthe board is that when opening a file, the programmer starts to look at it from above.  If you first place all public functions, it will be easier to understand the basic operations with objects of the class, the responsibility of the class and where it can be used.  This tip comes up when a project is built on interfaces. </p><br><p>  <b>2. Related concepts / functions should be placed side by side so that there is no need to constantly move up and down the file.</b>  <b>If one function calls another, then the called function must be located under the calling function (if possible) and separated by an empty string.</b> </p><br><p>  This advice may contradict the previous one.  Having chosen the priority advice for the team, you should stick to it on the whole project. </p><br><p>  <b>3. Each successive group of lines of code should represent one complete thought.</b>  <b>Thoughts are separated from each other in the code with the help of empty lines, but you should not overuse the empty lines too much.</b> </p><br><p>  A linked group of lines is like paragraphs in an article.  To separate paragraphs, use a red line or an empty line.  Similarly, in the code one should separate groups of strings that are different in meaning, using empty lines. </p><br><p>  <b>4. Variables of the class instance, static constants should be all at the beginning of the class in one place.</b> </p><br><p>  At the beginning of the class, public constants are declared, then private constants, followed by private variables. </p><br><p>  Correct announcement: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ImagePickerActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String KEY_CODE_HEX_COLOR = <span class="hljs-string"><span class="hljs-string">"hex_color"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String KEY_CODE_PICKED_IMAGE = <span class="hljs-string"><span class="hljs-string">"picked_image"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> REQUEST_CODE_GET_IMAGE = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> REQUEST_CODE_HEX_COLOR = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Uri imageUri; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{</code> </pre><br><p>  <b>5. Use spaces to improve code readability.</b> <b><br></b> </p><br><ul><li>  in mathematical operations to separate the operation symbol from the operands: <code>int x = a + b;</code> </li><li>  separation of parameters of functions: <code>private Article createNewArticle(String title, String description)</code> </li><li>  passed function parameters: <code>createNewArticle(title, description)</code> </li></ul><br><p>  <b>6. "Magic numbers, strings" must be placed in constants !!!</b> <br>  Perhaps the most popular advice, but still continue to violate it. </p><br><pre> <code class="java hljs">StringBuilder builder= <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = days; i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; i /= <span class="hljs-number"><span class="hljs-number">10</span></span>) { builder.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>, i % <span class="hljs-number"><span class="hljs-number">10</span></span>); }</code> </pre> <br><p>  Only after reading the statement of the problem, I understood why the number ‚Äú10‚Äù was used in the code.  It is better to take this number into a constant and give a meaningful name. </p><br><p>  Strings should also be made into constants, especially if used in more than one place. </p><br><h2>  Classes </h2><br><p>  <b>1. The class must have one ‚Äúresponsibility‚Äù, one reason for the change.</b> </p><br><p>  For example, heirs of the RecyclerView.Adapter class should be responsible for creating and linking the View with the given one.  It should not contain the sort / filter code for the list of items. <br>  Often, the RecyclerView.Adapter class is added to the file with Activity, which is not correct. </p><br><p>  <b>2. Do not need empty methods or just calling the method from the parent class</b> </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onStart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onStart(); }</code> </pre> <br><p>  <b>3. If you override any method without calling the parent method, then check that you can do this.</b> </p><br><p>  Take a look at the source of the parent classes documentation.  Overriding methods of the life cycle of the Activity, Fragment, View must necessarily call the methods of the parent class. </p><br><p>  There is an annotation <code>@CallSuper</code> warning of the need to call the parent method when overriding. </p><br><br><h2>  Tips about different things </h2><br><p>  <b>1. Use Android Studio tools to improve the quality of your code.</b> </p><br><p>  If she emphasizes or highlights the code, then something may be wrong.  Android Studio has the tools Rearrange, Reformat, Extract Method, Inline Method, code analyzers, <a href="https://github.com/nisrulz/android-tips-tricks">hotkeys</a> , etc. </p><br><p>  <b>2. No need to comment on each method, the code must be self-documented.</b> </p><br><p>  It should be noted that comments should explain the intentions and causes, and not the behavior of the code.  Creating a comment, you must take responsibility for keeping the comment up to date. </p><br><p>  <b>3. Lines, colors, sizes must be in resources (xml)</b> </p><br><p>  No need to write: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String GREEN_BLUE = <span class="hljs-string"><span class="hljs-string">"#33c89b"</span></span>;  String.valueOf(<span class="hljs-string"><span class="hljs-string">" "</span></span> + days + <span class="hljs-string"><span class="hljs-string">" "</span></span>)</code> </pre> <br><p>  Exceptions are files from the test, mock folders.  Such files should not fall into the release version. </p><br><p>  <b>4. No need to pass context to RecyclerView.Adapter.</b>  <b>context can be obtained from any view.</b>  <b>The item on click in RecyclerView.Adapter should be changed through notifyItemChanged, and not by directly changing the views in the click processing method</b> <b><br></b> </p><br><pre> <code class="java hljs"> holder.itemView.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ item.buyNow(); bindViewHolder(holder, position); } });</code> </pre> <br><p>  In the <code>onClick</code> method, <code>onClick</code> is called <code>bindViewHolder</code> , which is NOT correct. </p><br><p>  <b>5. In RecyclerView.ViewHolder, instead of determining the position of an object in the list, call getAdapterPosition, and not pass the position from the onBindViewHolder method</b> <b><br></b> <br>  To write correctly: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ItemHolder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ItemHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View itemView)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(itemView); itemView.setOnClickListener(view -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> position = getAdapterPosition(); ... }); } }</code> </pre> <br><p>  Or, instead of a position, you can send a link to the source object with data </p><br><pre> <code class="java hljs">itemView.setOnClickListener((v) -&gt; { productClickListener.onProductClick(product); });</code> </pre> <br><p>  <b>6. Use <a href="https://developer.android.com/guide/topics/resources/string-resource.html">Quantity Strings (Plurals)</a> for <a href="https://developer.android.com/guide/topics/resources/string-resource.html">plurals</a> .</b>  <b>Instead of writing in the code logic for the selection of the correct end of words.</b> <b><br></b> <br>  <b>7. Do not save large Bitmap data in a bundle.</b>  <b>Bundle size is limited</b> <b><br></b> <br>  <b>8. If you set the ‚Äúid‚Äù in xml, then Android itself will restore the state of the standard View when turning.</b> <b><br></b> </p></div><p>Source: <a href="https://habr.com/ru/post/344470/">https://habr.com/ru/post/344470/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344454/index.html">Acronis design system. Part two. Icons, SVG fonts, Gulp</a></li>
<li><a href="../344456/index.html">Advance of software to the West: waiting vs. reality on the example of one video editor</a></li>
<li><a href="../344460/index.html">Security Week 49: new adventures of Coinhive, the phishers' stupid mistake, the password trading shop is covered</a></li>
<li><a href="../344462/index.html">I am drooling, writing code</a></li>
<li><a href="../344466/index.html">Integration - bikes</a></li>
<li><a href="../344474/index.html">Creating an Ionic application using the API</a></li>
<li><a href="../344476/index.html">Opportunities for non-integrated communications</a></li>
<li><a href="../344478/index.html">Another implementation of case-insensitive search for Cyrillic characters in SQLite</a></li>
<li><a href="../344480/index.html">Perfect maven. Part 2: project structure</a></li>
<li><a href="../344482/index.html">Intel AI Academy - New Year's gift for all developers of AI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>