<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Habra-editor of comments zero.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I read this and got the idea to do something similar for the opera. It, of course, does not shine with the same opportunities, is not so convenient, b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Habra-editor of comments zero.</h1><div class="post__text post__text-html js-mediator-article">  I read <a href="http://habrahabr.ru/blogs/firefox/64790/">this</a> and got the idea to do something similar for the opera.  It, of course, does not shine with the same opportunities, is not so convenient, but it was done for itself, I used it myself, I offer it for everyone to see, it can be useful to someone, maybe someone will bring it to mind ... <br><a name="habracut"></a><br>  In Kratz how it works: <br>  In the opera, you can run your skrpity at the entrance to the page, it is a very handy thing, allows you to get rid of unnecessary blocks and the like scum.  In general, I will not say much, you can connect the script in the settings (tools -&gt; preferences -&gt; content -&gt; Javascript Options [this is the button on the right] -&gt; user JavaScript files [this is the text field at the very bottom]) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/50b/5af/a07/50b5afa0704587b0eb791659369eda74.gif"><br><br>  There you can enter the path where the opera should take the scripts, the browser will scan all the files and try to execute code in them whenever possible.  I try to create my own script for each site, in this case we will have the following code: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">if</font> ( location.href.indexOf( <font color="#A31515">'habrahabr.ru'</font> ) !== -1 ) { <font color="#0000ff">var</font> buttons = [ { caption: <font color="#A31515">'pre'</font> , openTag: <font color="#A31515">'&lt;pre %%%&gt;'</font> ,     closeTag: <font color="#A31515">'&lt;/pre&gt;'</font> }, { caption: <font color="#A31515">'A'</font> ,    openTag: <font color="#A31515">'&lt;a href="%%%"&gt;'</font> , closeTag: <font color="#A31515">'&lt;/a&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'user'</font> , openTag: <font color="#A31515">'&lt;hh user="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } }, { caption: <font color="#A31515">'img'</font> , openTag: <font color="#A31515">'&lt;img src="%%%" /&gt;'</font> , correctTag: <font color="#0000ff">function</font> (){ <font color="#0000ff">return</font> prompt( <font color="#A31515">" "</font> ); } } ] <font color="#0000ff">function</font> addText() { <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); <font color="#0000ff">var</font> button = buttons[ <font color="#0000ff">event</font> .target.id]; textarea.value += button.openTag.replace( <font color="#A31515">'%%%'</font> , button.correctTag || <font color="#A31515">''</font> ); <font color="#0000ff">if</font> ( button.closeTag ) { textarea.value += button.closeTag; } } <font color="#0000ff">function</font> drawButtons() { <font color="#0000ff">for</font> ( q = 0; q &lt; buttons.length; q++ ) { <font color="#0000ff">var</font> element = buttons[q]; <font color="#0000ff">var</font> btn     = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'input'</font> ); <font color="#0000ff">var</font> textarea = $( <font color="#A31515">'js-field-comment'</font> ); btn.type    = <font color="#A31515">'button'</font> ; btn.value  = element.caption; btn.id     = q; btn.onclick = addText; textarea.parentNode.insertBefore( btn, textarea ); } <font color="#0000ff">var</font> br = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'br'</font> ); textarea.parentNode.insertBefore( br, textarea ); } <font color="#0000ff">document</font> .onload = drawButtons; }</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If this code is inserted into any file with the resolution js in the folder specified in the settings, then when you reply to a comment, you get something like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/3c6/8c0/bf1/3c68c0bf1a2a2cb4449e6933284f3c7d.gif"><br><br>  Since it was done for itself, the opportunities are scarce, but wishes and criticism are welcome, since there was a desire to complete this feature. <br><br>  PS: To add your own button, you need to add an element with the fields to the buttons array: <br>  caption - button caption (required) <br>  openTag - opening tag (required field) <br>  closeTag - closing tag (optional field) <br>  correctTag - the function replacing such a string in the opening tag "%%%" (optional field) <br><br>  <strong>upd:</strong> I don‚Äôt measure myself with anyone, I just have time and desire to do something useful ... <br>  <strong>upd2: the</strong> opera swears at the script, if it is not in the utf8 encoding, it does not like Russian in other encodings <br><br></div><p>Source: <a href="https://habr.com/ru/post/72515/">https://habr.com/ru/post/72515/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../72508/index.html">Another ray of hate</a></li>
<li><a href="../72509/index.html">How do you keep records of manual tests? TestManagement-system or otherwise? (survey for article / conference)</a></li>
<li><a href="../72511/index.html">An article appeared in my blog without my knowledge. What is it?</a></li>
<li><a href="../72512/index.html">How to make friends freelancing and full time?</a></li>
<li><a href="../72514/index.html">Nokia is already developing the N920 tablet on Maemo 6</a></li>
<li><a href="../72517/index.html">Hypervideo: news from the front</a></li>
<li><a href="../72519/index.html">Firefox 3.6 Beta 1 Test Build Available</a></li>
<li><a href="../72520/index.html">IntelliJ IDEA has become open</a></li>
<li><a href="../72523/index.html">Manual watch</a></li>
<li><a href="../72524/index.html">Veridata OptiLite 486S / 50</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>