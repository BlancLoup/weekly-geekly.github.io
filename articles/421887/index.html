<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The directory structure for the project (in particular on Flask)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article will answer the question that caused the loss of time of many programmers: which directory structure should be used for a future or existi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The directory structure for the project (in particular on Flask)</h1><div class="post__text post__text-html js-mediator-article">  The article will answer the question that caused the loss of time of many programmers: which directory structure should be used for a future or existing project?  What structure will be the most optimal not only for the current project germ, but in the future it will not be so painful in terms of project expansion or its division into parts? <br><a name="habracut"></a><br><h2>  Root </h2><br>  And so we took up the project.  Let it be the easiest project myapp.  Create a directory for it in the main development folder (I have this Devel). <br><br><pre><code class="bash hljs">mkdir myapp <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> myapp</code> </pre> <br>  In the future, all actions will be inside the main project directory. <br><br><h2>  Git </h2><br>  We initialize an empty repository 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs">git init</code> </pre> <br><h3>  .gitignore </h3><br><pre> <code class="hljs 1c"><span class="hljs-meta"><span class="hljs-meta">#   *.pyc *.pyo **/__pycache__/ #      **/config/ #       **/data/ **/logs/ #        (</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  ) **/bin/</span></span></code> </pre> <br><h2>  Read me </h2><br>  The next step is creating the required README file.  This file contains the main and key description of our future project.  Some make a text / plain file called README.txt.  On large repositories portals adopted for the standard Markdown called README.md.  I prefer html, because  I prefer to make color selections, insert links, pictures and other multimedia, open in the browser, insert pieces of code in the tags &lt;pre&gt; and &lt;code&gt;, use ready-made frameworks like Bootstrap for decoration and other magic outside of Hogvards.  Accordingly, the name README.html <br><br><pre> <code class="bash hljs">touch README.html</code> </pre> <br>  If the project is conducted by several teams, I recommend that each team have its own README file within each independently developed module, component, library, etc. <br><br><h2>  application </h2><br>  The main application directory is named the same as the project directory.  In the case of this article myapp <br><br><pre> <code class="bash hljs">mkdir myapp touch myapp/__init__.py</code> </pre> <br><h2>  Modules and components </h2><br>  Inside the application directory, __init__.py is created by default, containing the code for initializing the application and connecting all the necessary parts to the application.  In particular, these are Blueprints for single-threaded URLs or namespace for the logic of a separate service, but with different URLs (a simple example would be to create a namespace for a service of blog articles, where there are clearly different paths like / pages and / page / ID) <br><br><pre> <code class="bash hljs">mkdir myapp/bp_component touch myapp/bp_component/__init__.py</code> </pre> <br>  or <br><br><pre> <code class="bash hljs">mkdir myapp/ns_component touch myapp/ns_component/__init__.py</code> </pre> <br><h2>  DB Model </h2><br>  The database model contains the database initialization code, as well as the connection.  And, of course, the structure of tables and relationships.  It is also desirable to separate the tables into separate files based on the business logic of the application.  The description of several classes of tables and links in one separate file is convenient because you can easily reuse the code by copying the desired file to another project or using symbolic links to the file from a common library for different projects. <br><br><pre> <code class="bash hljs">mkdir myapp/models touch myapp/models/__init__.py touch myapp/models/page.py</code> </pre> <br><h2>  Templates for template engine </h2><br>  For some applications (mostly web applications), it is typical to use patterns to generate leaf pages.  Since the main goal is to separate the executable code from data presentation, this step will help the team to save a lot of time, effort and money, ensuring the possibility of parallel work of programmers and designers. <br><br><pre> <code class="bash hljs">mkdir myapp/templates mkdir myapp/templates/html mkdir myapp/templates/js mkdir myapp/templates/css</code> </pre> <br>  I note that in this case the js and css subdirectories are not used to store static JavaScript libraries or CSS styles, but for modifiable code, code with parameters, or code for insertion.  For example, if there is a component for drawing a calendar with connecting additional functionality to the buttons, then it will be much more convenient to put the calendar component in js, and in the html files to make the component turn on, but with the necessary parameters.  Maybe it will seem to someone to govnokodom, but it is much better than creating a ready-made static calendar library, and in six months or a year to understand that you need to add a couple more three properties and methods to the component (for example, to make the datepicker not only in one month, but and add the ability to turn into a calendar for the year), and no one will remember what magic was inside.  Inserts will give more transparency. <br><br><h2>  Statics </h2><br>  Here are all the main never changing (or extremely rarely changing) styles, images, sounds, JS libraries and frameworks. <br><br><pre> <code class="bash hljs">mkdir myapp/static mkdir myapp/static/css mkdir myapp/static/js mkdir myapp/static/images</code> </pre> <br><h2>  Function library </h2><br>  The convenience of connecting libraries depends mainly on the language and framework of the application.  There are NOT libraries connected from repositories and supported by independent developers.  Here are your own auxiliary functions.  For example, I have some decorator functions when processing the route, but before calling the main function. <br><br><pre> <code class="bash hljs">mkdir myapp/lib touch myapp/lib/__init__.py</code> </pre> <br><h2>  Settings and configuration </h2><br>  How to store the settings that determine the global parameters of the application?  How many battles were on this score and not to be considered.  No details like I do: I keep in the form of a Python module as a separate directory.  Inside files for different startup modes. <br><br><pre> <code class="bash hljs">mkdir config <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"CONFIG = 'config.devel'"</span></span> &gt; config/__init__.py touch config/devel.py touch config/prod.py</code> </pre> <br>  Why py?  Yes, because no one gave up parsing XML, YAML, INI and other nonsense, when it is easy enough to create variables of the form: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os DEBUG = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> TITLE = <span class="hljs-string"><span class="hljs-string">'SpecialistOff.NET'</span></span> DIR_BASE = <span class="hljs-string"><span class="hljs-string">'/'</span></span>.join(os.path.dirname(os.path.abspath(__file__)).split(<span class="hljs-string"><span class="hljs-string">'/'</span></span>)[:<span class="hljs-number"><span class="hljs-number">-1</span></span>]) DIR_DATA = DIR_BASE + <span class="hljs-string"><span class="hljs-string">'/data'</span></span> DIR_FILES = DIR_DATA + <span class="hljs-string"><span class="hljs-string">'/files'</span></span> MIMETYPES = { <span class="hljs-string"><span class="hljs-string">'gif'</span></span>: <span class="hljs-string"><span class="hljs-string">'image/gif'</span></span>, <span class="hljs-string"><span class="hljs-string">'jpg'</span></span>: <span class="hljs-string"><span class="hljs-string">'image/jpeg'</span></span>, <span class="hljs-string"><span class="hljs-string">'jpeg'</span></span>: <span class="hljs-string"><span class="hljs-string">'image/jpeg'</span></span>, <span class="hljs-string"><span class="hljs-string">'png'</span></span>: <span class="hljs-string"><span class="hljs-string">'image/png'</span></span>, <span class="hljs-string"><span class="hljs-string">'txt'</span></span>: <span class="hljs-string"><span class="hljs-string">'text/plain'</span></span> } SERVERS = [ {<span class="hljs-string"><span class="hljs-string">'name'</span></span>: <span class="hljs-string"><span class="hljs-string">'server1'</span></span>, <span class="hljs-string"><span class="hljs-string">'IP'</span></span>: <span class="hljs-string"><span class="hljs-string">'8.8.8.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'port'</span></span>: <span class="hljs-string"><span class="hljs-string">'80'</span></span>} ]</code> </pre> <br><h2>  Data </h2><br>  Files, logs and other data loaded during work are stored in a separate data directory <br><br><pre> <code class="bash hljs">mkdir data mkdir data/files</code> </pre> <br><h2>  Testing </h2><br>  Test modules and fixtures <br><br><pre> <code class="bash hljs">mkdir tests mkdir tests/fixture touch tests/__init__.py touch test.py chmod +x test.py</code> </pre> <br><h2>  Documentation </h2><br>  All project documentation should be kept separate.  I use the doc directory for this and store it as static web pages with the entry point index.html.  This is convenient in that I can share a separate documentation directory through any web server.  Or browse directly from the directory with any web browser (including console-type lynx, elinks). <br><br><pre> <code class="bash hljs">mkdir doc touch doc/index.html</code> </pre> <br><h2>  Deployment </h2><br>  It all depends on the tasks.  And in the comments (in my humble opinion) is not particularly in need. <br><br><pre> <code class="bash hljs">mkdir deploy touch deploy/requirements.txt touch deploy/build.sh mkdir deploy/config touch deploy/config/__init__.py touch deploy/config/demo.py mkdir deploy/cron touch deploy/cron/myapp mkdir deploy/docker touch deploy/docker/Dockerfile touch deploy/docker/docker-compose.yml mkdir deploy/nginx touch deploy/nginx/myapp.conf mkdir deploy/uwsgi touch deploy/uwsgi/conf.ini mkdir deploy/uwsgi/conf.d touch deploy/uwsgi/conf.d/myapp.conf</code> </pre> <br><h2>  Logging </h2><br>  Here you can add logs during test runs or the conclusions of the application itself. <br><br><pre> <code class="bash hljs">mkdir logs</code> </pre> <br><h2>  Supporting scripts and utilities </h2><br><pre> <code class="bash hljs">mkdir utils touch utils/useradd.py chmod +x utils/useradd.py</code> </pre> <br><h2>  Instead of conclusion </h2><br>  Basically, that's all.  Why am I so laconic?  Because the code will say for me better than myself.  The rest of my comments can either confuse or spark controversy about which approach will be better / worse. </div><p>Source: <a href="https://habr.com/ru/post/421887/">https://habr.com/ru/post/421887/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421875/index.html">SENS-Diagnosis. Intracellular ‚Äúdebris‚Äù biomarkers</a></li>
<li><a href="../421877/index.html">Deep immersion in the .idea folder in Android Studio</a></li>
<li><a href="../421879/index.html">BottomAppBar implementation. Part 1: Material Components for Android</a></li>
<li><a href="../421881/index.html">BottomAppBar implementation. Part 2: Navigation Drawer Menu and Control</a></li>
<li><a href="../421883/index.html">Video reports from CocoaHeads @ FunCorp mitap</a></li>
<li><a href="../421889/index.html">Friday webinars from Skillbox: development for beginners</a></li>
<li><a href="../421891/index.html">Background: 4-day work week - a real opportunity or a fantasy?</a></li>
<li><a href="../421893/index.html">Tester confession: how I rummaged in a competitor's IDS</a></li>
<li><a href="../421897/index.html">Red Hogwarts. Series 10. Students - metallurgist</a></li>
<li><a href="../421899/index.html">Tester's way: where to start learning automation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>