<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JTAG Peripheral Scanning: Testing Electronics Prototypes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we will share practical experience in the use of peripheral (boundary) JTAG scanning and describe the features and benefits of introd...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JTAG Peripheral Scanning: Testing Electronics Prototypes</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/98e/60c/930/98e60c93056b8dfd8aafaa6fe14a1027.jpg"><br><br>  In this article, we will share practical experience in the use of peripheral (boundary) JTAG scanning and describe the features and benefits of introducing this technology at the stage of testing prototypes.  Special attention will be paid to typical errors detected by JTAG using the Provision software package for testing various nodes and microcircuits of the board. <br><br>  Recall that a peripheral scan (boundary scan) is a structural test of a printed circuit board with installed components, which is based on the application of IEEE 1149.x standards.  The result of the scan is information on the presence in the electrical circuits of typical faults that occur during the production of printed circuit boards: short circuits (bridges), non-interruptions (opens), dropping to 0 or 1 (stuck at 0, stuck at 1), breaks in the tracks. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      JTAG testing will be performed on the board that came from production. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/76f/5d5/e1d/76f5d5e1d72cbb14eb9c5921e98d88a1.png"><br><br>  JTAG testing allows you to detect non-solder in BGA packages, closures, breaks, as well as non-working chips with digital interfaces.  Identifying these defects is very important, because if an untested board falls into the hands of a programmer, problems start up with running memory and other peripherals.  It is often not clear what the reason is: in the wrong settings that the programmer makes, or in the <b>editing defect</b> .  JTAG testing can identify these problems. <br><br>  At the testing stage (before the first power up), the absence of a short circuit on the boards is checked.  Next, the supply voltage is applied and the current consumption is checked, then the main supply voltages are checked.  Then the board undergoes either JTAG or intracircuit (ICT) testing (alternatively, you can use two tests in turn). <br><br>  <b>Since JTAG is the very first test, the problems it has identified save labor costs in the future</b> .  It is logical that if problems are detected after the assembly of the device, it will have to be disassembled and reassembled. <br><br>  At the stage of JTAG testing revealed: <br><ul><li>  not soldered on microcircuits with BGA packages, for which ICT testing cannot be implemented in principle; </li><li>  unplugged pull-up / down resistors; </li><li>  tie-in short circuit. </li></ul><br>  Also, with the help of JTAG technology, memory chips are successfully tested: from SRAM to DDR3 (only the correctness of the mounting of the circuits is analyzed, not the memory itself).  This test in conjunction with the flash-memory test allows you to pay a fee to the programmer to install the initial bootloader, the OS, and the subsequent Bringup (first run). <br><br><h4>  Using JTAG tests on Provision software as an example for functional testing of printed circuit boards </h4><br>  The software package Provision for conducting JTAG testing allows you to generate automated tests, includes an extensive library of models for testing chips, has a good technical.  support and friendly interface. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/92c/88c/3d6/92c88c3d6b64c19ad12c97d0b4479de9.png"><br><br>  We used Provision for testing in projects with a miniature element base, housings 0402 and BGA, high-density layout, more than 4 layers of boards and flexible-rigid boards. <br><br>  Consider the use of technology boundary scanning on specific projects: <br><br><h5>  Example number 1.  VoIP router </h5><br>  Task: to develop a device for VoIP-telephony based on a Blackfin BF527 processor with software based on Linux OC. <br><img src="https://habrastorage.org/getpro/habr/post_images/f04/d63/18b/f04d6318be3ef2a0cf69f870b8a9283a.jpg"><br>  In this project, SDRAM, NAND, Ethernet switch chips were tested.  Also, JTAG checked the correctness of the LEDs and buttons - for this, functional tests written in the Python language were used.  This is a scripting language integrated into Provision.  With it, you can test various digital interfaces and chips, as well as organize a flexible dialogue with the user. <br><br>  The use of JTAG-testing allowed to check the correctness of the installation and operation of the chips. <br><br><h5>  Example number 2.  Plug computer </h5><br>  Objective: to develop a multi-functional network device ( <a href="http://promwad.ru/portfolio/mnogofunkcionalnyy-mini-server-ak-systems-ip-plug">mini-server</a> ), designed to work in IP-based networks. <br><img src="https://habrastorage.org/getpro/habr/post_images/aa2/d7c/c28/aa2d7cc28f22e248185d518a9decda2d.jpg"><br>  This project uses a 88F6282 processor from Marvell and DDR2 / DDR3 memory.  On the board of limited sizes, double-sided mounting and 7 microcircuits with BGA packages are used.  During the recovery of the boards, there were problems with the memory, they manifested themselves in the form of hang-ups of the boards during boot-up or the inability to start the U-boot.  Operational tests of DDR2 memory were carried out, which revealed non-soldered outputs on the data bus on the D0, D3, D7 lines of one of the 4 memory chips.  Because of this defect, the data in a specific address space spontaneously changed. <br><br>  In versions of a device with DDR3 memory, programmers had problems loading Linux.  It was decided to promptly check the quality of the installation of these chips.  As a result of testing, it turned out that all the chips were in good order, and the problem lay in incorrectly set timings. <br><br>  As a result, JTAG testing helped save considerable time at the bringup stage, since by transferring the board to programmers, it was safe to say that the memory was well-sealed. <br><br>  During this project, the responsiveness of technical support from JTAG Technologies was evaluated. <br><br><h5>  Example number 3.  JADE processor module on Fujitsu JADE chip </h5><br>  Objective: to <a href="http://promwad.ru/platformy/fujitsu-jade-automotive-platform-dlya-avtotransporta">develop an on-board computer</a> to control, monitor and diagnose auxiliary equipment of trucks and special vehicles. <br><img src="https://habrastorage.org/getpro/habr/post_images/705/2ac/108/7052ac108285cf271b88c8744ac26c6a.jpg"><br>  This project is a dual-board processor module and a motherboard (in the photo, only the module itself).  Emphasis was placed on testing the connections between the boards, a test was also carried out to verify the generation of generators, the correctness of mounting NAND and NOR memory. <br><br>  During the testing of prototype devices, the absence of generation was revealed at one of the conclusions.  A visual inspection revealed that during the installation the key was mixed up on the generator. <br><br><h5>  Example number 4.  Single board industrial computer </h5><br>  Task: development of the SOM01 processor board based on the TI AM1808 processor (ARM926, 456MHz). <br>  This device is a single board computer implemented in the SO-DIMM 200 form factor. During the implementation of this project, a detailed DFT analysis was made, the coverage was determined and steps were recommended for increasing the test coverage.  For maximum coverage of the board with JTAG tests, a stand was designed that increased coverage to 98% (only the USB interface was uncovered, since the TAP controller does not have access to these findings).  Also, this stand allows you to flash the board via Uart or Ethernet, control voltages and currents. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca9/c51/af4/ca9c51af48be503665226365e11b0805.jpg"><br>  <i>In the photo: a test stand with connected boards</i> <br><br><h4>  findings </h4><br>  The JTAG border scanning technology can be successfully applied in production to control the correctness of installation, to test prototypes, and to manufacture the series. <br><br>  To implement this technology into production, you must purchase a software package and a hardware adapter.  To test a specific board, a set of scripts written in this environment is needed. <br><br>  The advantages of JTAG testing over ICT testing is that there is no need to place additional contact pads for an ICT tester (in more detail we already wrote about this in the article <a href="http://habrahabr.ru/post/185356/">‚ÄúHow to test electronics in production: analysis of modern technologies‚Äù</a> ). <br><br>  Also, using JTAG testing, you can test the correctness of mounting BGA packages, which is not possible with in-circuit testing. <br><br>  As a result, JTAG technology can significantly reduce the time of the bingap of prototypes.  The developer of the device independently writes tests in a scripting language, taking into account all the nuances of the work of each specific scheme. <br><br>  Thanks for attention.  Questions and comments are welcome. </div><p>Source: <a href="https://habr.com/ru/post/216411/">https://habr.com/ru/post/216411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../216395/index.html">A single charger for all mobile devices: in the EU adopted a new law</a></li>
<li><a href="../216401/index.html">Big data: size matters?</a></li>
<li><a href="../216403/index.html">Samsung invites to the final of the Hakaphon tour in Yakhroma park, Moscow</a></li>
<li><a href="../216407/index.html">Hi, Baynet! The adventures of the Runet assault in the partisan country</a></li>
<li><a href="../216409/index.html">The logic of thinking. Part 14. Hippocampus</a></li>
<li><a href="../216413/index.html">Calling x86 procedures from EFI Byte Code</a></li>
<li><a href="../216417/index.html">Microsoft Onenote - now free</a></li>
<li><a href="../216419/index.html">Writing Your Orm for Android with Canas and Senorites, Part 3</a></li>
<li><a href="../216421/index.html">How to create and earn SaaS (Part I / remove all unnecessary, hit the target, experiment)</a></li>
<li><a href="../216427/index.html">Unreal Engine 4 is now available for everyone.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>