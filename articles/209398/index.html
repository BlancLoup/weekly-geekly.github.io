<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Numbers on the phone screen: Caller ID, CLIP, CLIR, COLP, COLR and more</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cellular signaling messages that allow you to see the real number of the subscriber behind the redirection chain 

 Most users already take for grante...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Numbers on the phone screen: Caller ID, CLIP, CLIR, COLP, COLR and more</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/334/720/093/3347200930d842769e5ca7dc7a54146b.png" alt="image"><br>  <sup>Cellular signaling messages that allow you to see the real number of the subscriber behind the redirection chain</sup> <br><br>  Most users already take for granted the convenience provided by modern telephones and mobile networks, which do not always reflect on how "it" works, and are pretty surprised when something goes contrary to the usual and expected scenario. <br><br>  Those who are interested in some technical details of the work of additional services related to the <b>display of numbers</b> on the screens of phones and the phones themselves, as well as tips on how to prevent and / or overcome some technical problems, I invite you inside. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Caller ID or CLIP? </h4><br>  When an incoming call the phone displays the name of the caller, recorded in the address book of the phone, it does not surprise anyone.  This is a long time familiar service - ‚ÄúCaller ID‚Äù! <br><br>  First of all, the very concept of AON - Automatic Number Identifier, stretches from a wired telephone network, in which long-distance automatic telephone exchanges had to determine which telephone number to charge for a long-distance call.  The long-distance telephone station sent a tone-request to the local automatic telephone station (PBX), which in response reported the telephone number from which the long-distance call was initiated.  Then came the subscriber telephone sets that knew how to use such a function of local PBXs, and communicate the received information to the called subscriber - telephones with analogue caller ID. <br><br>  In mobile communications, the situation is more interesting, and in fact there are several services in mobile communications related to the display of numbers on telephone displays. <br><br>  The analogue of the ANI in mobile communication is the <b>CLIP</b> service - Calling Line Identification Presentation - a display of the calling subscriber number on the display of the called telephone. <br><br>  Information about the caller's number can arrive at the called telephone in one of the signaling messages (it is called SETUP), which the called telephone and its serving switch (MSC) exchange at the connection establishment stage.  ‚ÄúMay‚Äù, because the information element containing information about the caller‚Äôs number is ‚Äúoptional‚Äù and may be missing. <br><br>  The same informational element contains additional instructions to the telephone whether it is necessary to display the caller‚Äôs telephone number received from the network.  In particular, Presentation Indicator reports whether the number display is allowed or not allowed, or reports that the number is not available due to reasons caused by interaction with another network. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41a/893/d95/41a893d953b407e3e34dbf627a6fb2c1.png" alt="image"><br>  <sup>Caller number information coming to the called phone</sup> <br><br><h4>  Antiaon or CLIR? </h4><br>  The prohibition to display the number of the caller is usually caused by the activation of the AntiAON service of the caller.  In fact, in the GSM / UMTS network, it is called CLIR - Calling Line Identification Restriction - the prohibition of displaying the caller's number, and the name ‚ÄúAnti-AON‚Äù originated as a natural antithesis ‚ÄúCaller ID‚Äù.  In this case, the MSC informs the phone that the display of the number is prohibited (Presentation restricted) and does not transmit the caller's number. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/15d/e0a/887/15de0a8870b4e401d056b59f6a56e9f3.png" alt="image"><br>  <sup>Information transmitted to the called phone when the caller has the Anti-AON service enabled</sup> <br><br>  But lately, operators have begun to offer subscribers the Super Caller ID service, which, as indicated in an advertisement, makes it possible to see the caller's number even when the Caller ID service is active Anti-Caller ID (CLIR).  In this case, when the Super Caller ID service is activated, the special Override Category option is enabled.  Information about connecting this option comes from the HLR to the MSC along with other information about the services connected to the subscriber.  In the case of a subscription to ‚ÄúSuper Caller ID‚Äù, the MSC transmits to the called phone not only information that the number display is limited (Presentation restricted), but at the same time reports the caller's number! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9d/614/7ee/c9d6147eecc1361f3263feb035da74f8.png" alt="image"><br>  <sup>Information transmitted to the called phone when the ‚ÄúSuper AON‚Äù service is enabled</sup> <br><br>  True, some phone models do not quite correctly deal with such a strange situation, and sometimes they do not want to display the caller's number received from the MSC. <br><br><h4>  And who am I talking to? </h4><br>  Not everyone knows about it, but when establishing a connection, the caller‚Äôs phone may receive information about the number with which the connection is actually established.  After all, the called subscriber can easily redirect calls from his mobile phone number, for example, to office or home, or simply to another number. <br><br>  In order to inform the caller about the number with which the connection is actually made, the additional service <b>COLP</b> - COnnected Line Presentation is used. <br><br>  When the called subscriber answers an incoming call, the calling telephone receives an alarm message CONNECT, which may contain (or not contain) the telephone number with which the connection actually took place, and the telephone may use this number, for example, display it on the display during a call . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/334/720/093/3347200930d842769e5ca7dc7a54146b.png" alt="image"><br>  <sup>Information about the number with which the connection is established (COLP)</sup> <br><br>  Similar to the CLIP-CLIR pair for the COLP additional service, there is an antipode - COLR - COnnected Line Restriction - the prohibition of displaying the number with which the connection occurred. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c7d/6af/ec1/c7d6afec1de4ed1ce5caaa82057632c9.png" alt="image"><br>  <sup>Restriction of information about the number with which the connection is established (COLR).</sup> <br><br>  But sometimes information about the number with which the connection occurred, may be unavailable due to problems interacting with another network. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fde/731/a80/fde731a80dc8694bad4bad45307bebc4.png" alt="image"><br>  <sup>Information not available due to interoperability issues.</sup> <br><br>  Why information about the number with which the connection occurred, you may need, it is quite possible to guess. <br><br>  Why am I telling these details?  And in order to make it clearer what happens in some unusual cases, and how you can help yourself and other people. <br><br><h4>  Why doesn't the phone display the caller's name? </h4><br>  Almost all mobile users have already noticed that sometimes the phone instead of the name of the caller, already recorded in the phone book, displays only the number of his phone.  What caused this? <br><br>  First, using different formats for recording numbers. <br><br>  Many people are used to recording cell numbers in a ‚Äúnational‚Äù format, starting with ‚Äú8‚Äù and then entering the region code and number.  This habit occurs when using wired devices, and some mobile operators use this format, indulging in the habits of their subscribers. <br><br>  However, in the mobile communication standards of GSM-UMTS-3GPP-ETSI, the ‚Äúinternational‚Äù number format (MSISDN) is provided as ‚Äúmain‚Äù.  A number in this format begins with the international dialing prefix "+" followed by the country code (for Russia it is <b>7</b> ), then the region code and number.  Calling the phone number listed in the phone book in the international format can be roaming in any country, while calling the number recorded in the phone book in the ‚Äúnational‚Äù format while in another country will not work! <br><br>  At the same time, there are no explicit requirements in the 3GPP - ETSI standards for the rules for matching phone numbers received in signal messages and numbers recorded in the phone book of the device or (U) SIM card.  In such conditions, some manufacturers of telephones considered that it would be correct if we compare numbers along their entire length, and another part of manufacturers <b>compares only the last 7 digits of telephone numbers</b> . <br><br>  Unfortunately, none of these options is ideal. <br><br>  If we compare the numbers along the entire length, the numbers will not be correctly compared if the network reports the number in the ‚Äúinternational‚Äù format, and in the phone book it is recorded in the ‚Äúnational‚Äù format, or vice versa. <br><br>  If we only compare the last 7 digits of the number, misunderstandings are possible in the case of different regional prefixes if the last digits of the numbers coincide.  I was embarrassed when the phone displayed the name of a friend from the phone book, at the time when a completely unfamiliar person from another region called. <br><br>  Another reason for displaying a phone number for an incoming call instead of the name recorded in the phone book may be the presence of several entries that contain the same number, but in combination with different contact names - the phone simply does not know what to display to it.  So it can happen if in one place the name or surname is written with the letter ‚Äúe‚Äù, and in the other through ‚Äúe‚Äù.  In this case, you just need to clean up the phone book. <br><br><h4>  ‚ÄúMy phone rang.  Who is talking? </h4><br>  If the phone does not display the name of the caller, or even the phone number, then there may be many reasons for this.  Information on the reason for the failure to provide the number can be transmitted to the telephone in the special information element ‚ÄúCause of No CLI‚Äù.  Standard causes are: <br><ul><li>  Absence of the caller's number at the serving switch (Unavailable) </li><li>  transmission blocked by caller (Reject by user) </li><li>  the problem of interaction with other services (Interaction with other services) </li><li>  The call came from a payphone. </li></ul><br>  But when you connect the SuperAON service, a situation where the caller‚Äôs number is not displayed will occur much less frequently than when using a normal Caller ID (CLIP). <br><br><h4>  Ale, but where did I go? </h4><br>  In some situations, the network may return in the COLP information a phone number in an unusual format.  For example, recently colleagues during a trip to Abu Dhabi found that when they called each other, phones instead of the usual numbers + 7903xxxxxxxx, displayed + 007903xxxxxxxxxx!  That is, the local mobile network added, apparently, two zeros familiar to local residents, with the help of which they called other networks - a kind of analogue of the Russian G8. <br><br>  It would seem, and we then cares about the eccentricities of local telecom operators?  But here comes the freak of the phone makers! <br><br><h4>  And to whom did I call? </h4><br>  Everyone is used to the fact that the phones have a list of "recent calls" - numbers from which calls came and / or, on which the owner of the phone recently called.  Or what number did you talk to? <br><br>  In the 3GPP-ETSI standards, there are no explicit requirements for which numbers to keep in the list of ‚Äúlast calls‚Äù, and then there was ‚Äúfree space‚Äù for the creativity of phone manufacturers and their programmers. <br><br>  Some manufacturers decided that in this list it is necessary to save the dialed numbers to which the owner tried to call.  It doesn‚Äôt matter if you are dialing a number with your hands, or choosing a yoke from the phone book. <br><br>  But there were creative people who decided that it was necessary to keep the numbers with which the connection actually took place in the list of ‚Äúlast calls‚Äù! <br><br>  It would seem convenient?  But not so easy. <br><br>  Imagine you called a friend who for some time set a call forward to an unknown number, and it is this number that is stored in the list of "recent calls". <br><br>  Or did you call somewhere by dialing "hands", and after a while it took to repeat the call? <br><br>  If the phone stores in the list of "recent calls" the number with which the connection occurred, then you can expect trouble!  You cannot make a call to a friend by selecting a previously dialed phone in the list of ‚Äúrecent calls‚Äù if he has already canceled the call forwarding, or you cannot find the number you dialed, because instead of it there is a number in the list where the call was diverted. <br><br>  <b>Is it possible to determine before buying which numbers the phone keeps in the list of "recent calls"?</b>  You can, for example, try to call the number on which the call forwarding is set and see the result on the display of the calling phone. <br><br>  If there is a dialed number in the list of ‚Äúlast calls‚Äù, then you can calm down, and if there is a number with which you have connected ... In this case, you should think about what is more important - appearance, price and other ‚Äúgoodies‚Äù from the purchase of this model, or problems in the future with numbers in the ‚Äúrecent calls‚Äù list. </div><p>Source: <a href="https://habr.com/ru/post/209398/">https://habr.com/ru/post/209398/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209386/index.html">Abstract programmer</a></li>
<li><a href="../209388/index.html">European Court of Human Rights will consider a domain dispute in Russia</a></li>
<li><a href="../209392/index.html">Careless attitude to data: how much is your backup?</a></li>
<li><a href="../209394/index.html">Python-digest # 10. News, interesting projects, articles and interviews [January 10, 2013 - January 17, 2014]</a></li>
<li><a href="../209396/index.html">Google introduced smart contact lenses for diabetics</a></li>
<li><a href="../209400/index.html">GIT - Using mcdiff as an external DIFF utility</a></li>
<li><a href="../209404/index.html">Nanex: A nightmare on Elm Street for high-speed trading. Part 2</a></li>
<li><a href="../209406/index.html">Release Management in Visual Studio 2013</a></li>
<li><a href="../209410/index.html">The realities of mobile game development</a></li>
<li><a href="../209412/index.html">C #. Inconsistent comparison</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>