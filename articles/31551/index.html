<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ajax on a mobile browser or mobile Ajax (with examples)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ajax, judging by the trends, more and more captures the minds of developers. Ajax for mobile browsers is now especially actively developing. About thi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ajax on a mobile browser or mobile Ajax (with examples)</h1><div class="post__text post__text-html js-mediator-article"> Ajax, judging by the trends, more and more captures the minds of developers.  Ajax for mobile browsers is now especially actively developing.  About this actually talk. <br><br>  Ajax technology is very much in demand by users of mobile devices.  The reason is generally on the surface.  Reduced traffic consumption and waste of time.  After all, only some parts of the page are loaded, but not all of it (if not in the topic of what Ajax is - I recommend visiting Wikipedia - <a href="http://ru.wikipedia.org/wiki/AJAX">Ajax</a> ).  Accordingly, surfing the network from a mobile device becomes better, faster and less annoying.  Moreover, it is cheaper. <br><a name="habracut"></a><br><br>  Mobile Ajax is still quite strikingly different from the usual, PC'shny.  This is due to the specific architecture of mobile operating systems, channel bandwidth, etc.  However, nothing is impossible.  It is necessary to look only at decent support for SVG and Flash - these are the technologies that you already use or will use literally tomorrow in your phone or PDA. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, now we have a rough idea of ‚Äã‚Äãwhat kind of beast it is - mobile Ajax.  Let's dive a little. <br><br>  What are the minimum requirements for a mobile browser?  In general, these requirements are not very <br>  differ from the PC browser requirements.  XMLHttpRequest or ActiveX, and JS DOM for rendering. <br><br>  I will translate into Russian - XMLHttpRequest is needed for asynchronous data loading, and the minimum JS DOM is for changing the document in the browser without reloading the page.  And who would have thought - there are already mobile browsers that can help us.  And not only that their number is nearing ten, so also arrives in their regiment with enviable regularity.  More and more companies and corporations understand that mobile Ajax is a useful and necessary thing. <br><br>  Browser list: <br><br>  * (Opera Mobile&gt; = 8.x, not Opera Mini) <br>  * Internet Explorer Mobile (WM 5.0 + / 2003) <br>  * S60 3rd edition (WebKit / KHTML core) <br>  * Minimo (Gecko-based) <br>  * OpenWave (&gt; = Mercury) <br>  * NetFront (&gt; = 3.4) <br>  * Safari Mobile (iPhone) <br><br>  Some experts believe that Ajax can move a monster like J2ME.  The truth is still many mobile browsers work differently under different operating systems, and as a result, Ajax is either buggy or does not work at all.  But this is a matter of time.  This is a note for developers - prepare a sled, but do not ride yet. <br><br>  Among Ajax platforms for mobile devices, there is a separate class called mojax or bling.  But they are used mainly for other devices that require access to the network without human intervention.  And as a rule, they require a specific API device. <br><br>  Ajax PC applications have long ceased to be something that requires dancing with a tambourine and a waste of nerves.  Now everything is somewhat simpler - there are a lot of frameworks, take at least Prototype or jQuery. <br><br>  I will give links to a couple of frameworks at the end of the article :) <br><br>  Well?  Go? <br><br>  To get started, check out a bundle of mobile OS and your mobile browser here - <a href="http://pwmwa.com/frost/">http://pwmwa.com/frost/</a> - for Ajax to work in the system. <br><br>  Create an XMLHttpRequest object: <br> <code>req = new XMLHttpRequest(); <br></code> <br>  or <br> <code>req = new ActiveXObject(Microsoft.XMLHTTP); <br></code> <br><br>  For peace of mind and convenience, let's wrap everything into a function: <br> <code>function getXHR() <br> { <br> if(window.XMLHttpRequest) <br> { <br> req = new XMLHttpRequest(); <br> return true; <br> } <br> else try <br> { <br> req = new ActiveXObject('Msxml2.XMLHTTP'); <br> return true; <br> } <br> catch(e) <br> { <br> try <br> { <br> req = new ActiveXObject(‚ÄúMicrosoft.XMLHTTP‚Äù); <br> return true; <br> } <br> catch(e) <br> { <br> req = false; <br> return false; <br> } <br> } <br> } <br></code> <br><br>  Open HTTP connection: <br> <code>req.open('POST', url, true); <br></code> <br><br>  The first argument specifies the transfer method - GET, POST, etc. <br><br>  The second url address that is actually requested. <br><br>  The third argument specifies whether the request should be asynchronous, or processing should stop until a response is received.  Most often, of course, use true. <br><br>  When the request is formed, you must send.  You can do it like this: <br> <code>send(‚Äù); <br></code> <br><br>  After sending the request, we need to monitor its execution.  In particular, you need to know if the server responded with an HTTP code of 200. You can do it like this: <br> <code>function ajaxCallback() <br> { <br> if(req.readyState == 4) <br> { <br> if(req.status == 200) <br> { <br> //Do something with the response <br> } <br> } <br> } <br></code> <br><br>  To process what we received we need to use responseText or responseXml.  The first is the presentation of data received from the server, and the second is the DOM-compatible version.  Once the XMLHttpRequest is complete, you need to immediately update the XHTML based on the received data.  The most convenient way is to use innerHTML. <br><br>  So we replace the content of the HTML element with id = "someElement" with "some text": <br> <code>document.getElementById('someElement').innerHTML = 'some text'; <br></code> <br>  And what to replace with the data received from the server: <br> <code>document.getElementById('someElement').innerHTML = req.responseText; <br></code> <br><br>  Based on the above, we can write an Ajax application that will have the following functionality: <br><br>  * links will have real addresses; <br>  * click to send a request to the server, after processing the server will give the data; <br>  * when the browser receives the data, it will update the content of the page; <br>  * if the Ajax does not happen, because of the JS turned off or for other reasons, then it will be transferred to the specified address <br><br>  The page itself will look like this: <br> <code>&lt;?xml version=‚Äú1.0‚Ä≥ encoding=‚ÄúUTF-8‚Ä≥?&gt; <br> &lt;!DOCTYPE html PUBLIC ‚Äú-//WAPFORUM//DTD XHTML Mobile 1.1//EN‚Äù ‚Äúhttp://www.openmobilealliance.org/tech/DTD/xhtml-mobile11.dtd‚Äù&gt; <br> /&gt; <br> <br> dev.mobi mAjax <br> <br> &lt;a href=‚ÄúfallbackTime.php‚Äù <br> onclick=‚Äúreturn updateElm('getTime.php', 'timeDiv');‚Äù &gt;Get server time <br> No ajax data yet <br> <br> <br></code> <br><br><br>  majax.js is the JS code itself, and getTime.php is a script that we will contact with a click. <br><br> <code>function updateElm(url, id) <br> { <br> if(getXHR()) <br> { <br> req.open('POST', url, true); <br> req.onreadystatechange = function() <br> { <br> if(req.readyState == 4) <br> { <br> if(req.status == 200) <br> { <br> document.getElementById(id).innerHTML = req.responseText; <br> } <br> else <br> { <br> document.getElementById(id).innerHTML = 'Could not retrieve data'; <br> } <br> } <br> req.send(‚Äù); <br> } <br> else return true; <br> return false; <br> } <br></code> <br><br>  When a person clicks on a link, then using the JS script, an asynchronous call to the getTime.php script occurs.  After receiving the data will be replaced by the contents of the container timeDiv. <br><br>  Then updateElem receives a reference to the XMLHttpRequest object (getXHR ()), establishes a link to the URL, and defines the callback function.  The recall function verifies that the request is complete (req.readyState == 4) and that the HTTP status is 200. This function also determines whether id = 'id' was updated successfully. <br><br>  The result is this: if JS is and works fine, then the person receives the updated data using our Ajax application.  If not, then go to another link, getting the same data, but with the transition to another page. <br><br>  The content of getTime.php is simple: <br> <code>&lt;?php <br> echo date('l dS \of FY h:i:s A'); <br> ?&gt; <br></code> <br><br>  Of course, you can replace information with anything.  How you will form php - this is your personal concern :) <br><br>  As a result, we get the same page, but with modified data in the container with id = "someElement" <br> <code>&lt;?php echo '&lt;?xml version=‚Äù1.0‚Ä≥ encoding=‚ÄùUTF-8‚Ä≥?&gt;'?&gt; <br> &lt;!DOCTYPE html PUBLIC ‚Äú-//WAPFORUM//DTD XHTML Mobile 1.1//EN‚Äù ‚Äúhttp://www.openmobilealliance.org/tech/DTD/xhtml-mobile11.dtd‚Äù&gt; <br> /&gt; <br> <br> dev.mobi mAjax <br> <br> &lt;a href=‚ÄúfallbackTime.php?uid=&lt;?php echo uniqid(); ?&gt;‚Äù <br> onclick=‚Äúreturn updateElm('getTime.php', 'timeDiv');‚Äù &gt;Get server time <br> &lt;?php echo date('l dS \of FY h:i:s A'); ?&gt; <br> <br> <br></code> <br><br><br>  A functioning example can be viewed by clicking <a href="http://dev.mobi/m/majax/1/t1.htm">here</a> ( <a href="">download an example</a> ). <br><br>  Agree, a bit unlike the usual Ajax - I would say there are no attributes of this method.  Now fix: <br> <code>document.getElementById(id).innerHTML = ' <img src="http://‚ÄùajaxImage.gif‚Äù"> '; <br></code> <br><br>  As soon as a request is sent, a picture appears, and disappears only after receiving data from the server. <br> <code>if(req.readyState == 4) <br> { <br> document.getElementById(id).innerHTML = req.responseText; <br> } <br> else <br> { <br> document.getElementById(id).innerHTML = ' <img src="http://‚Äùajax-loader.gif‚Äù"> '; <br> } <br></code> <br><br>  An example after the changes can be viewed by clicking <a href="http://dev.mobi/m/majax/2/t1.htm">here</a> ( <a href="">download an example</a> ). <br><br>  For dessert: <br>  <a href="http://www.pavingways.com/frost-ajax-library/">FROST framework project</a> <br>  <a href="http://www.horizonchannel.com/archives/26">mAJAX FAQ</a> <br><br>  Details, additions and necessary documentation can be found on the page <strong>with the original article</strong> (which I translated) to <a href="http://dev.mobi/article/getting-started-with-mobile-ajax">this address</a> . <br><br>  Cross post from my <a href="http://absolvo.ru/2008-05-08/ajax-na-mobilnom-brauzere-ili-mobilnyj-ajax-s-primerami/">blog</a> . </div><p>Source: <a href="https://habr.com/ru/post/31551/">https://habr.com/ru/post/31551/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../315500/index.html">Domain name resolution from Docker containers in complex cases</a></li>
<li><a href="../315502/index.html">The second mitap of the Rust lovers community at Kaspersky Lab</a></li>
<li><a href="../315504/index.html">How IT professionals work. Viktor Tarnavsky, Yandex</a></li>
<li><a href="../315506/index.html">ReactJS: rejecting JSX while maintaining convenience</a></li>
<li><a href="../315508/index.html">Welcome to Saturday GeekWeek offline</a></li>
<li><a href="../315510/index.html">5 books that will help you to think outside the box and why it is important right now</a></li>
<li><a href="../315514/index.html">Speak about the ‚Äúeasy‚Äù process: the development process in the Larian Studios toolkit department</a></li>
<li><a href="../315516/index.html">Around Citrix NetScaler ADC. Part 1</a></li>
<li><a href="../315518/index.html">ReactOS 0.4.3 released under the code name "Haters gonna hate"</a></li>
<li><a href="../315524/index.html">SDN: concept changes over 5 years</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>