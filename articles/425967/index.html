<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Silicon Chainsaw Massacre</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Duty is an important component of most modern organizations. After all, it often happens that the problem arrives at 3 in the morning. But who should ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Silicon Chainsaw Massacre</h1><div class="post__text post__text-html js-mediator-article">  Duty is an important component of most modern organizations.  After all, it often happens that the problem arrives at 3 in the morning.  But who should be on duty?  And how to organize this process so that it makes sense? <br><br>  Look under the cat, there Barukh Sadogursky ( <a href="https://twitter.com/jbaruch">@jbaruch</a> ) and Leonid Igolnik ( <a href="https://twitter.com/ligolnik">@ligolnik</a> ) will tell a horror story about one unlucky <a href="https://twitter.com/ligolnik">person</a> on duty.  Remember Vasya, who always had to <a href="https://habr.com/company/jugru/blog/425115/">fix bugs to Bukh</a> at three in the morning?  This is just the beginning. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/468/d14/3d6/468d143d649e453a36181827f843479f.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The material is based on the speech of Baruch and Leonid at the autumn conference DevOops 2017. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_zbUlDkLVok" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  So, the duty.  As an example, take the hypothetical Vasya, who has worked for a certain company not so long ago, for about a year.  Today is Friday and it so happened that Vasya is on duty.  Everything is going well: Vasya is sleeping, and his dreams are beautiful. <br><br>  While he does not suspect anything, his technical support colleague receives a call from a client.  He says that on Monday he will have to show the CEO a very important demo, but something is not working.  An urgent need to fix the problem.  Support did everything it could (offered to turn it off and on), and escalated this problem to the duty officer. <br><br>  Vasya is on duty alone for the whole project, he will have to do this.  A tech support engineer wakes him up and tries to explain the problem with very simple words: ‚ÄúSomething is not working there, something is wrong.‚Äù <br><br>  Vasya listens to his colleague, thinks about what happened and makes the only right decision ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ed/f25/3de/6edf253de7d7babf85c1ed15b1a2b31f.png"><br><br>  The support engineer is offended, but still asks the client to wait until Monday.  The client does not agree with this state of affairs and escalates the problem to the support manager.  Now he calls Vasya and says that this is not serious: ‚ÄúStill, the matter is important, the client is experiencing, it is necessary.‚Äù  Vasya is a responsible person.  It is necessary then it is necessary: ‚Äã‚Äãcoffee and dance (we will look for something in the logs). <br><br>  In the logs everything was not easy at all.  At first, Vasya spent 15 minutes looking for a person with access to the correct log.  He found it and got a log.  But how?  To the mail in .doc format, of course.  Vasya is responsible, young and reading a log in the Word: nothing is clear at all.  But there are keywords that can be searched in the Knowledge Base.  Vasya hangs up on interesting things for 20 minutes, learns a lot of interesting things, but nothing necessary at the moment. <br><br>  What does Vasya do next?  We need to look for someone, but Vasya is a young engineer and it‚Äôs terrible to wake up a senior.  Therefore, he decides to call a colleague, the same junior. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2cd/9cb/ed7/2cd9cbed7f8a7bed344dde6af272bd36.png"><br><br>  A colleague is a good friend, with grief in half they understand what the problem is, and they begin to solve it.  After two or three hours of work, they found a hot-fix.  It must be given immediately to production.  But how?  There is a change control board that meets every two weeks on Mondays.  But this option is not suitable, it is necessary urgently. <br><br>  Naturally, it is impossible to deploy to production, there is no root.  So the only option is to send a jar file with two classes and a paragraph of explanations by e-mail.  Those guys will log in via ssh to the production and there this jar-file in WebSphere is put in the correct directory.  And so, at 6-7 am, you can finally go to bed with a sense of accomplishment. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c47/826/5cc/c478265cc5c839c05c8d4b62de5f3af1.png"><br><br>  On Monday, Vasya comes to work and sees an unusual picture.  At VP of Engineering, the general director yelled, because the client had screamed at the general director, because his general director had yelled at him.  It turns out that the problem did not work out. <br><br>  The bosses have four questions: ‚ÄúWhat happened on Friday?‚Äù;  ‚ÄúWhy did I find out about it from the boss on Monday?‚Äù;  ‚ÄúWhy did the fix take six hours?‚Äù And ‚ÄúWho is to blame?‚Äù.  Opsy are called into the room and they say that this is not their problem.  Vasya and the other maidens are summoned to the room, who also says "Nothing worked."  This whole potato game continues until lunch. <br><br>  Since it‚Äôs time for lunch, the decision is made ‚ÄúOkay, it‚Äôs broken itself, no one is to blame.‚Äù  The end of the story. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb9/0f1/2db/cb90f12db5881b38dd9a1b8a24496eee.png"><br><br>  Let's arrange a little debriefing: let's go through this nightmare and try to give answers to all the questions. <br><br><h2>  Who should be on duty </h2><br>  System administrators can be on duty (or the more buzzword is SRE).  They are engaged in this not for the first year, everything is well supplied.  Can DBA on duty, can those who are engaged in messaging.  If lucky, the NOC (network operation center) is on duty when all these guys are put in one room.  They have runbooks that say what to do in a difficult situation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e09/be7/090/e09be70905e239d8c20a74576641aa5c.png"><br><br>  Everything is clear with these guys, they are pros on duty.  But, unfortunately, DevOps has the second part of the equation, which is not very willing to be on duty.  How to make the second part?  Yes, and whether it is necessary to force, because the pros must be aware of the importance of duty. <br><br>  There are two reasons why people do not want to be on duty.  One is when it is: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f9/e81/7a3/4f9e817a351d0f5f2ddd7e1156b03203.png"><br><br>  No one wants to be on duty when things are bad.  The solution to this problem is quite simple: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0b9/eeb/86e/0b9eeb86e1bafbac931df8d1b6653459.png"><br><br>  You need to write good code, everything is simple.  But this also needs to be learned.  A new question arises: ‚ÄúHow to learn?‚Äù.  You need to stick your fingers into the outlet - #painisinstructional.  The pain helps. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/260/6b7/7da/2606b77da3af11845e734d1b60b56bf1.png"><br><br>  The duties themselves improve the quality of the code.  The same Vasya on Monday, most likely, will correct his mistakes, so as not to sit one more night in search of mistakes. <br><br><h2>  Barriers on duty </h2><br>  When on duty there are some barriers that should not be there.  Let's walk on Vasin Friday fiasco.  Remember how he read logs in a Word document? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/34c/a9b/253/34ca9b253f0cd952954826bb26310a36.png"><br><br>  We all love Microsoft products, but in the modern world it is impossible to work this way.  There are obvious things about logs that everyone should understand.  <b>The main point</b> is the number of bodies that solve these problems: Logstash, Loggly, Sumo logic, Kibana.  They need to be used. <br><br>  Returning to the question of access: why not give access to the log?  The answer is sensitive data.  Clients were promised to protect data from leaks.  This means that logs cannot be shown to anyone or you need to use systems with data masking functionality.  He himself hides personal data and does not show it to a person without the required level of access.  All today's log parsing tools have this functionality. <br><br>  Another advantage of these tools is that ‚Äúmonitoring for the poor‚Äù can be built on them.  For example, in the logs, after seeing a certain number of errors (the queue is full, etc.), you can trigger an alert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a0f/f3a/9d4/a0ff3a9d4a0e58da7f7f9d3044f1e10b.png"><br><br><h2>  Who determines the importance of the problem </h2><br>  How to understand, go to bed on duty or urgently run to fix the problem?  Who appoints severity?  Who decides how critical the problem is?  Solves support.  And why?  Because support has a vision problem.  He knows how bad everything is. <br><br>  Moreover, today almost all companies work on the principle of ‚ÄúContinuous Delivery‚Äù, so all customers receive all features at the same time (and at the same time bugs).  Suppose there is a bug that looks to the client as ‚ÄúSomething is not working there, nothing terrible‚Äù.  At the same time, the support sees hundreds of alerts about the problem, and this is obviously serious. <br><br>  The client is also involved in determining the importance of the problem.  But there is a problem - the client does not always believe that his small problem will be repaired and puts the highest importance.  Severity begins to be used as a manipulation tool.  But if the severity definition is built correctly and the client understands what an SLA is, this usually does not happen.  This is a mutual learning process when customers begin to understand what is really very important and what is simply important. <br><br>  Customers need to be given the opportunity to set the importance, because the manufacturer of the product does not always understand the context of the problem. <br><br>  SLA - a guarantee of response and decision within a day, but can be faster.  This, again, depends on the context. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ba/d6b/811/6bad6b8118363d6ec214e3e9e9609dbf.png"><br><br><h2>  Organizational problems </h2><br>  Vasya did not understand the problem to the end.  Of course, he just woke up, and a colleague from technical support also poorly explained.  It is treated in only one way: a ticket.  A ticket is a reference number that tells you what it is all about.  This is necessary for Vasya, because instead of a phone, a support could tell Vasya ‚ÄúOpen our ticket management system and see ticket number 42‚Äù.  This is necessary for several reasons.  First, Vasya, instead of listening to a colleague in a sleepy state, wakes up, goes to read the ticket and understand how important this is.  Secondly, the problem may not be one. <br><br>  There is another difficulty that affects the big picture: Vasya needs to be found.  How does the support know what exactly Vasya is on duty today?  What if he doesn‚Äôt know Vasya either.  It is important that it is easy to find the right person.  The solution is Virtual Extension with different prefixes for the engineer, production and so on.  Well, or other, more sophisticated systems.  With this decision, you do not have to guess where to call in the middle of the night, everything switches automatically. <br><br>  Even more convenient - Escalation Chat in Slack, Telegram, Skype, anywhere.  The chat title is the number of that same ticket.  All communication on this ticket between the right people is in this chatika.  One of the most useful features of this chat is that you do not need to tell anything to those who join the work after some time.  About what decisions have already been made, you can just read. <br><br>  Well, the virtual phone bridge, which can be compared with the gathering place in case of fire: everyone knows where to go in case of problems.  By the way, in modern systems like Zoom or Bluejeans all the necessary functionality is already built in. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a25/6f0/4a0/a256f04a085845d9d6e145f6dac418ff.png"><br><br><h2>  Escalation path </h2><br>  Vasya was afraid to call the lord, because they are terrible.  What to do with it?  Let's talk about the escalation path.  We must always know who and when to wake up or take off from work.  This should be perfectly clear to everyone: the one who wakes and the one who wakes.  You also need to know where to call if the first path did not work.  A good escalation path goes right up to the company's CEO. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa0/7f8/129/aa07f8129f9fc0ca054c7e6af456bebf.png"><br><br>  There are communications that should come from the CEO.  He should be aware of critical issues. <br><br><h2>  Errand manager </h2><br>  The next interesting position is manager on call.  It does not have to be a techie and take part in solving the problem.  First, in the middle of the night, Vasya cannot tell the client anything useful.  The duty manager can help in this situation.  In addition, he can do coordination, project management in a difficult situation, resource management.  After all, work must go smoothly. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/901/788/92b/90178892b8b970928206232047cf7e4d.png"><br><br><h2>  Access to production </h2><br>  Should I give Vasya access to production?  After all, not all are brilliant engineers, and there are certain things that we would not like to learn, customers will be offended.  This is solved by the deployment process.  If the process is set up correctly, then Vasya can press a button, which will end up with production code on his production.  If you have a normal continuous delivery pipeline, most likely, this can be done automatically (all tests will pass).  If not, in many companies the decision is made by a senior engineer or manager.  He reviews, evaluates the risk of the code and makes a decision. <br><br>  And even before the hotfix appeared, documented tools for troubleshooting should be involved.  One of the most frequent problems on duty: he begins to think about how to enable debug or change the level of logs.  At the same time with all the other problems there.  It is advisable to have documented solutions to problems. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4d0/8ec/b98/4d08ecb982b940a0e10e06f6f6c053b7.png"><br><br><h2>  Change of duty </h2><br>  Now let's talk about the process of duty, which usually takes a week.  At some point, need to change.  To change effectively, it must be done at a certain time.  It is necessary to plan everything clearly and it is desirable to be able to effectively transfer problems to the next person on duty.  In many companies, this is done by a standard rally, or a page is created in which the duty officer keeps a small journal. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4cd/776/91c/4cd77691c3ef18c0c8e1e3a937ee548a.png"><br><br><h2>  Other problems </h2><br>  There are still various other problems that need to be addressed.  One of them is the certification of access to production.  It is desirable to carry out an elementary certification, so that a person shows that he understands what is possible and what is not. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/451/bef/eec/451befeeccc16cf1a31cf91c225e0df3.png"><br><br><h2>  How to implement it? </h2><br>  But how does this all bring in the company?  You need to understand that it will take some time. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b8b/5f2/195/b8b5f21957318f2c41d0a5e93cf720a9.png"><br><br>  We need to start with senor-guys on duty.  They have experience and know what and how to repair.  Senor has fewer problems: there is access to logs, etc. <br><br>  It is advisable to start in a small team.  If the team is already large, you need to create a small one inside it.  Then, when everything starts to work well, you can shame the rest. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7af/9f6/899/7af9f68998708b451a129db0086d5123.png"><br><br><h2>  findings </h2><br>  Go to the main thing.  Despite the fact that we, techies, are in love with tech, the most important thing is not the products and technologies that are used in the company, but the feeling of the person on duty ‚ÄúI am involved in the process of improving the product‚Äù (or the duty itself).  Many understand that it is necessary to be on duty, but I want to see improvements.  People need to be aware that thanks to them and their improvements, things are getting better. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e3c/26d/207/e3c26d207d37fb88592f800859a07fa4.png"><br><br><h2>  PS </h2><br>  We want to recommend a book called Drive.  This is a book about the motivation of people who work in professions like ours.  This motivation consists of three main components and (spoiler) none of them is not money. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b9/615/588/6b961558862a44f511344e29ef38a662.png"><br><br><blockquote>  Already this Sunday, Baruch and Leonid will <a href="https://devoops.ru/2018/spb/talks/4p7krgxh7omyqq0gummoy6/">give a</a> talk <a href="https://devoops.ru/2018/spb/talks/4p7krgxh7omyqq0gummoy6/">"#DataDrivenDevOps"</a> at DevOops 2018 in St. Petersburg.  Come, there will be a lot of interesting things: here are the <a href="https://devoops.ru/">reports</a> , here is <a href="https://devoops.ru/2018/spb/talks/3idrp7cstkccu2caecgouw/">John Willis</a> , and here is the party with BoF and <a href="https://devoops.ru/party/">karaoke</a> .  Waiting for you! </blockquote></div><p>Source: <a href="https://habr.com/ru/post/425967/">https://habr.com/ru/post/425967/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../425957/index.html">Petrol bikes or weird product search (e-commerce)</a></li>
<li><a href="../425959/index.html">A few tips on Angular</a></li>
<li><a href="../425961/index.html">‚ÄúLearning to Spring is a pointless exercise‚Äù - Josh Long, the main evangelist of Spring about the project‚Äôs internal kitchen</a></li>
<li><a href="../425963/index.html">Weather Station on Arduino from A to Z. Part 4</a></li>
<li><a href="../425965/index.html">SAP Data Management Suite as a complex for working with Big Data in companies</a></li>
<li><a href="../425969/index.html">How will I become a web developer ... and will I?</a></li>
<li><a href="../425971/index.html">There is evidence of the presence of spy chips in the servers Supermicro</a></li>
<li><a href="../425973/index.html">How we built the S3 DataLine repository. Experiments, testing and a little about hippos</a></li>
<li><a href="../425975/index.html">Convert words and phrases to anagram</a></li>
<li><a href="../425977/index.html">Flexbox: how big is this flexible box?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>