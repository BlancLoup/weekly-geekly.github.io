<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yard bridge - AI competition (libcanvas)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I propose to arrange sports programming - writing AI on Javascript for playing in a courtyard bridge. I provide a ready-made game on libcanvas and an ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Yard bridge - AI competition (libcanvas)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/04af246f/47157b13/516d99a8/454319fc.jpg"><br>  I propose to arrange sports programming - writing AI on Javascript for playing in a courtyard bridge.  I provide a <a href="http://libcanvas.com/games/bridge">ready-made game on libcanvas</a> and an elegant interface for creating AI.  All you need is a browser, a bit of excitement and knowledge of JavaScript.  The first stage - you program your AI, playing against it.  The second stage - you program your AI and it plays against the best of the first stage.  After the second stage we hold a tournament and announce the results.  I am sure that we will get a lot of fun and pleasure.  Winners - glory and honor.  If the winners are not registered on Habr√© - ready to provide invites. <br><br><a name="habracut"></a><br><br><h2>  <a href="http://libcanvas.com/games/bridge">Bridge</a> </h2><br>  I am sure many have played this game.  She has many names and more rules.  We will use the following: <br>  1. The goal is to throw off all the cards quickly, leaving the opponents with the maximum number of cards <br>  2. For each card at the end of the game points are awarded - 10 for the top ten, the lady, the king, 15 for the ace, 20 for the jack. <br>  3. The first who skipped the bar 125 eyes - loses.  The one who scores exactly 125 eyes - they burn and he starts from scratch (lucky) <br>  4. The player must place a card (or several) of the same value, or of the same suit (except for exceptions) <br>  5. It is necessary to cover the six - we draw cards from the deck until we cover <br>  6. Seven makes the next take a card <br>  7. Eight - two cards and skip a turn (two eights - two, three - three) <br>  8. Jack - can fit on any suit and you can order any suit <br>  9. Ace - the next player misses the turn. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Conditions of the competition </h2><br>  We play in two rounds.  First round (one week) - we play against our own AI.  Secondly, I will select some of the best AI, obfustsiruyu them and will play against them.  Thus, it will be necessary to make a diverse, adapting to different styles of AI for victory.  By the second round, I will drive a couple more interesting points in the game (but the interface will remain backward compatible). <br>  The AI ‚Äã‚Äãshould be clearly written.  I will conduct a visual inspection of the code.  All non-pockets will be rejected.  If it is messy, better comment either in the code or in a separate field. <br>  The goal of AI is to earn the minimum number of points per game, while downloading maps of enemies. <br>  Your script should not throw away expetions and go into restricted areas (imagine that the AI ‚Äã‚Äãis a human being and think about what is available to it). <br>  However, I left access to such zones for debugging. <br>  The AI ‚Äã‚Äãcode must be cross-browser (recent Chrome, Opera, Fox, IE9) <br>  You can refer to the methods that <a href="http://mootools.net/docs/core">MooTools Core</a> provides. <br>  Easy unobtrusive rare humor is allowed in the game console. <br><br><h2>  An example of the nuances of the game, which is worth processing </h2><br>  In the game Bridge there are many nuances - it is worth considering, for example, the number of players, but it can be any number from 2 to 6. If you play together or four together, then it is advantageous to flood your nearest opponent.  When playing three together, if we close the nearest one, then the next move will be on us, therefore it is better to throw him cards with sevens. <br>  In certain situations you can load an opponent and finish the game in one turn. <br>  When playing with a partner 2x2 (although this is not provided for by the rules, but often it happens) - you can practically not make a move for enemies. <br>  Remember, maybe I'll add a network game.  We will then play against our own AI;) <br><br><h2>  AI code sample </h2><br>  Each turn, the controller calls the <code>AI.movement();</code> method <code>AI.movement();</code>  and waits from that to call <code>this.finishMove()</code> method.  Below you see an example of AI that is used in the game now: <br>  If this is the first move, then he tries to finish (if there is a six, he will not be able to finish), otherwise he tries if he has something (chosen randomly) or take a card.  Pay attention to the use of asynchronous calls - before you lay down the next card you have to wait for the previous one to fly. <br><blockquote> <code><font color="#000000"><font color="#FF8000">/* <br> * allRanks : ['a','k','q','j','10','9','8','7','6'], <br> * allSuits : ['s','c','h','d'], <br> * <br> * You can read: <br> * &lt;int&gt; this.getPlayers().length <br> * &lt;int&gt; this.getPlayers()[index].cards.length <br> * &lt;int&gt; this.getPlayers()[index].score <br> * <br> * &lt;int&gt; card.getValue() - the cost of the card <br> * &lt;string&gt; card.getName()  - russian name of the card <br> * &lt;Bridge.Card&gt; card.setRequireSuit(&lt;string&gt; suit) - set require suit (one of ['s','c','h','d']) if rank of card is "Jacket" <br> * <br> * &lt;Bridge.Card|null&gt; this.player.hasPuttable() - return on the puttable cards or null, if no such <br> * &lt;int&gt; this.player.sumCards() - the cost of all cards <br> */ <br> <br></font> <font color="#0000BB">window</font> <font color="#007700">.</font> <font color="#0000BB">addEvent</font> <font color="#007700">(</font> <font color="#DD0000">'domready'</font> <font color="#007700">, function () { <br> <br></font> <font color="#0000BB">Bridge</font> <font color="#007700">.</font> <font color="#0000BB">AI</font> <font color="#007700">= new Class({ <br> Extends :</font> <font color="#0000BB">Bridge</font> <font color="#007700">.</font> <font color="#0000BB">AIUtils</font> <font color="#007700">, <br></font> <font color="#FF8000">// @Override <br></font> <font color="#0000BB">initialize</font> <font color="#007700">: function (</font> <font color="#0000BB">player</font> <font color="#007700">) { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">parent</font> <font color="#007700">(</font> <font color="#0000BB">player</font> <font color="#007700">); <br></font> <font color="#FF8000">// this.debug(); <br></font> <font color="#007700">}, <br></font> <font color="#FF8000">// @private - part of demo logic <br></font> <font color="#0000BB">putCardSmart</font> <font color="#007700">: function (</font> <font color="#0000BB">card</font> <font color="#007700">) { <br> if (</font> <font color="#0000BB">card</font> <font color="#007700">.</font> <font color="#0000BB">rank</font> <font color="#007700">==</font> <font color="#DD0000">'j'</font> <font color="#007700">) { <br></font> <font color="#0000BB">card</font> <font color="#007700">.</font> <font color="#0000BB">setRequireSuit</font> <font color="#007700">( <br> [</font> <font color="#DD0000">'s'</font> <font color="#007700">,</font> <font color="#DD0000">'c'</font> <font color="#007700">,</font> <font color="#DD0000">'h'</font> <font color="#007700">,</font> <font color="#DD0000">'d'</font> <font color="#007700">].</font> <font color="#0000BB">getRandom</font> <font color="#007700">() <br> ); <br> } <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">putCard</font> <font color="#007700">(</font> <font color="#0000BB">card</font> <font color="#007700">,</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">finishSmart</font> <font color="#007700">.</font> <font color="#0000BB">bind</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">)); <br> }, <br></font> <font color="#FF8000">// @private - part of demo logic <br></font> <font color="#0000BB">getCardSmart</font> <font color="#007700">: function () { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">getCard</font> <font color="#007700">(function (</font> <font color="#0000BB">card</font> <font color="#007700">) { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">canPutCard</font> <font color="#007700">(</font> <font color="#0000BB">card</font> <font color="#007700">) ? <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">putCardSmart</font> <font color="#007700">(</font> <font color="#0000BB">card</font> <font color="#007700">) : <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">finishSmart</font> <font color="#007700">(); <br> }.</font> <font color="#0000BB">bind</font> <font color="#007700">(</font> <font color="#0000BB">this</font> <font color="#007700">)); <br> }, <br></font> <font color="#FF8000">// @private - part of demo logic <br></font> <font color="#0000BB">finishSmart</font> <font color="#007700">: function () { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">canFinishMove</font> <font color="#007700">() ? <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">finishMove</font> <font color="#007700">() : <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">movement</font> <font color="#007700">(); <br> }, <br></font> <font color="#FF8000">// @Override <br></font> <font color="#0000BB">movement</font> <font color="#007700">: function (</font> <font color="#0000BB">first</font> <font color="#007700">) { <br> if (</font> <font color="#0000BB">first</font> <font color="#007700">) { <br></font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">finishSmart</font> <font color="#007700">(); <br> } else { <br> var</font> <font color="#0000BB">card</font> <font color="#007700">=</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">player</font> <font color="#007700">.</font> <font color="#0000BB">hasPuttable</font> <font color="#007700">(); <br></font> <font color="#0000BB">card</font> <font color="#007700">?</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">putCardSmart</font> <font color="#007700">(</font> <font color="#0000BB">card</font> <font color="#007700">) :</font> <font color="#0000BB">this</font> <font color="#007700">.</font> <font color="#0000BB">getCardSmart</font> <font color="#007700">(); <br> } <br> } <br> <br></font> <font color="#FF8000">// @protected &lt;Bridge.Player[]&gt; getPlayers() <br> //        returns array of the players <br> // @protected &lt;Bridge.AI&gt; message(&lt;string&gt; msg) <br> //        puts text msg to the screen (returns this) <br> // @protected &lt;Bridge.Card&gt; lastCard() <br> //        returns last opened card <br> // @protected &lt;Bridge.AI&gt; debug() <br> //        open all cards (just for debug) <br> // @protected &lt;Boolean&gt; canhGetCard() <br> //        returns true, if you can get card from the deck <br> // @protected &lt;Bridge.AI&gt; getCard(&lt;function&gt; onFinish) <br> //        gets card from the deck or throw exception. First arg of the function is getted card <br> // @protected &lt;Boolean&gt; canPutCard(&lt;Bridge.Card&gt; card) <br> //        returns true, if you can put card to the deck <br> // @protected &lt;Bridge.AI&gt; putCard(&lt;Bridge.Card&gt; card, &lt;function&gt; onFinish) <br> //        puts card to the deck or throw exception <br> // @protected &lt;Boolean&gt; canFinishMove() <br> //        returns true, if you can finish the move <br> // @protected &lt;Bridge.AI&gt; finishMove() <br> //        finish the move, or throw exception <br></font> <font color="#007700">}); <br> <br> });</font></font></code> </blockquote> <br><br><h2>  How to participate </h2><br>  To take part, we register at <a href="http://libcanvas.com/">libcanvas.com</a> (we don‚Äôt need confirmation of the email, just login and password are enough), go into the <a href="http://libcanvas.com/games/bridge">game</a> and see the " <strong>Edit Artificial Intelligence</strong> " link above.  There we see a textbook for entering a code or the ability to specify a link to an external URL (for example, to be conveniently edited on localhost, do not forget to bring it back) <br><br>  ps.  I answer questions and before the start of the second round I accept suggestions for improvement. <br><h4>  pps.  Thank you <a href="https://habrahabr.ru/users/nutochka/" class="user_link">Nutochka</a> for the design) </h4><br>  ppps  interested in the speed and stability of work on your hardware and browsers and the comparison of speed with what <a href="http://libcanvas.com/games/solitaire">was in the kerchief</a> </div><p>Source: <a href="https://habr.com/ru/post/103614/">https://habr.com/ru/post/103614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../103606/index.html">Backports service becomes official</a></li>
<li><a href="../103609/index.html">Quiet and inconspicuous weblancer.net has become fully paid</a></li>
<li><a href="../103610/index.html">Beltelecom banned USA traffic?</a></li>
<li><a href="../103612/index.html">Spammer found a serious vulnerability on Facebook</a></li>
<li><a href="../103613/index.html">GMTSlider - slide between time zones</a></li>
<li><a href="../103618/index.html">Let your PC call you a taxi!</a></li>
<li><a href="../103619/index.html">In Germany, launched a service to combat botnets</a></li>
<li><a href="../103620/index.html">Published APS-package MODx Revolution</a></li>
<li><a href="../103621/index.html">How to deal with stickers on laptops</a></li>
<li><a href="../103622/index.html">The debate about pricing domains.rf</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>