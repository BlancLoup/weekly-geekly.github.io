<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Extract data from photo hosting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I stumbled upon this post once and I thought - since we have such a beautiful, completely open gallery of private data ( Radikal.ru ), can we try to e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Extract data from photo hosting</h1><div class="post__text post__text-html js-mediator-article">  I stumbled upon this <a href="http://ntv.livejournal.com/371166.html">post</a> once and I thought - since we have such a beautiful, completely open gallery of private data ( <a href="http://radikal.ru/Img/ShowGallery">Radikal.ru</a> ), can we try to extract this data from it in a convenient form for processing?  I.e: <br><br><ul><li>  Download pictures; </li><li>  Recognize text on them; </li><li>  Extract useful information from this text and classify it for further analysis. </li></ul><br><br>  And as a result, after several evenings, a working prototype was made.  Many technical details: <br><a name="habracut"></a><br>  <i>Everything was done in C # in the ASP MVC 5 environment. Just because I write there all the time and it's more convenient for me.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Stage 1: Download image </h4><br>  As it should, after sitting in the source code of the gallery pages, I did not find any sequence - it means you will have to download each webpage, and tear out the link to the picture from the code.  Well at least, that the address of the page with the image can be automatically generated - it is just a URL with a sequence number of the image.  Ok, take the <a href="http://htmlagilitypack.codeplex.com/">HtmlAgilityPack</a> , and write the parser, the benefit of the classes on the page with the picture is enough, and pull the desired node is not difficult. <br><br>  We pull out the node, we look - there is no link.  The link turns out to be generated by javascript, which we have not run.  This is sad because  the scripts are obfuscated, and I did not have enough patience to understand the principles of their work. <br><br>  Ok, there is another way - open the page in the browser, wait for the execution of scripts, and get a link from the completed page.  Fortunately, there is a wonderful bundle in the form of <a href="http://www.seleniumhq.org/">Selenium</a> and <a href="http://phantomjs.org/">PhantomJS</a> (browser without graphical shell), because how to do everything through, for example, FireFox - and longer in execution time, and more inconvenient.  Unfortunately, this is also very slow - there is hardly any slower way :( About 1 second per picture. <br><br>  Parser: <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Parse_Radikal_ImagePage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IWebDriver wd, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Url</span></span></span><span class="hljs-function">)</span></span> { wd.Url = Url; wd.Navigate(); <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebDriverWait(wd, TimeSpan.FromSeconds(<span class="hljs-number"><span class="hljs-number">3</span></span>)); HtmlDocument html = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlDocument(); html.OptionOutputAsXml = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; html.LoadHtml(wd.PageSource); HtmlNodeCollection Blocks = html.DocumentNode.SelectNodes(<span class="hljs-string"><span class="hljs-string">"//div[@class='show_pict']//div//a//img"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Blocks[<span class="hljs-number"><span class="hljs-number">0</span></span>].Attributes[<span class="hljs-string"><span class="hljs-string">"src"</span></span>].Value; }</code> </pre> <br>  <sup><i>* All code is greatly simplified, non-critical details are removed.</i></sup>  <sup><i>More in <a href="https://drive.google.com/file/d/0B2u4sQ6XZ3aHcko4Q2F6OXctQ3c/view%3Fusp%3Dsharing">source</a></i></sup> <br><br>  Handler controller: <br><br><pre> <code class="cs hljs"> IWebDriver wd = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PhantomJSDriver(<span class="hljs-string"><span class="hljs-string">"C:\\PhantomJS"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> imageCode = data.imgCode; imageCode &gt; data.imgCode - data.imgCount; imageCode--) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ParserResult.Processed(imageCode)) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Url = <span class="hljs-string"><span class="hljs-string">"http://radikal.ru/Img/ShowGallery#aid="</span></span> + imageCode.ToString() + <span class="hljs-string"><span class="hljs-string">"&amp;sm=true"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> imageUrl = Parser.Parse_Radikal_ImagePage(wd, Url); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (imageUrl != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> image = Parser.GetImageFromUrl(imageUrl); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Filename = TempFilesRepository.TempFilesDirectory() + <span class="hljs-string"><span class="hljs-string">"Radikal_"</span></span> + imageCode.ToString() + <span class="hljs-string"><span class="hljs-string">"."</span></span> + Parser.GetImageFormat(image); image.Save(Filename); } } wd.Quit();</code> </pre><br><br>  Everything is over somewhere to store and process.  It is logical to choose an already deployed MS SQL Server, create a small base on it and add the links to the pictures and the path to the downloaded file.  We write a small class for storing and writing the result of parsing a picture.  Why not keep pictures in the database?  About it below, in the section about recognition. <br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">Table(Name = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ParserResults"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ParserResult</span></span> { [Key] [Column(Name = <span class="hljs-string"><span class="hljs-string">"id"</span></span>, IsPrimaryKey = <span class="hljs-literal"><span class="hljs-literal">true</span></span>, IsDbGenerated=<span class="hljs-literal"><span class="hljs-literal">true</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Column(Name = <span class="hljs-string"><span class="hljs-string">"Url"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Url { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Column(Name = <span class="hljs-string"><span class="hljs-string">"Code"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> Code { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Column(Name = <span class="hljs-string"><span class="hljs-string">"Filename"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Filename { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Column(Name = <span class="hljs-string"><span class="hljs-string">"Date"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime Date { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Column(Name = <span class="hljs-string"><span class="hljs-string">"Text"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Text { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Column(Name = <span class="hljs-string"><span class="hljs-string">"Extracted"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> Extracted { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParserResult</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParserResult</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Url, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Code, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Filename, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Text</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Url = Url; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Code = Code; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Filename = Filename; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Date = DateTime.Now; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Text = Text; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Extracted = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; DataContext Context = DataEngine.Context(); Context.GetTable&lt;ParserResult&gt;().InsertOnSubmit(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); Context.SubmitChanges(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Processed</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> imgCode</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataEngine.Data&lt;ParserResult&gt;().Where(x =&gt; x.Code == imgCode).Count() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; } }</code> </pre><br><br><h4>  Stage 2: Recognize Text </h4><br>  Also, it would seem, not the most difficult task.  We take <a href="https://github.com/charlesw/tesseract">Tesseract</a> (more precisely, a wrapper for it under .NET), download <a href="">data for the Russian language</a> , and ... bummer!  As it turned out, for normal operation of Tesseract with the Russian language, conditions close to ideal are necessary - excellent scan quality, and not a photo of the document on a crappy mobile phone.  The percentage of recognition is good if it approaches 10. <br><br>  In general, all acceptable Cyrillic recognition is represented by only three products: CuneiForm, Tesseract, FineReader.  Reading the forums and blogs reinforced the idea that there is no sense in trying CuneiForm (many people write that the recognition quality didn‚Äôt get far from Tesseract), and I decided to try FineReader right away.  Its main disadvantage is that it is paid, very paid.  In addition, the Finereader Engine (which provides an API for recognition) was not at hand, and I had to make a terrible bike: run Abbyy Hotfolder, which looks into the specified folder, recognizes the pictures that appear there, and puts text files next to it.  Thus, after waiting a bit after downloading the images, we can take the ready recognition results and put them into the database.  Very slowly, very crutch - but the quality of recognition, I hope, pays for these costs. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data = DataEngine.Data&lt;ParserResult&gt;().Where(x =&gt; x.Text == <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp; x.Filename != <span class="hljs-literal"><span class="hljs-literal">null</span></span>).ToList(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> textFilename = result.Filename.Replace(Path.GetExtension(result.Filename), <span class="hljs-string"><span class="hljs-string">".txt"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (System.IO.File.Exists(textFilename)) { result.Text = System.IO.File.ReadAllText(textFilename, Encoding.Default).Trim(); result.Update(); } }</code> </pre><br><br>  By the way, it is precisely because of such crutches that the images are not stored in the database - Abbyy Hotfolder from the database, unfortunately, does not work. <br><br><h4>  Stage 3: Extract information from the text </h4><br>  Surprisingly, this stage was the easiest.  Probably because I knew what to look for - a year ago I took a <a href="https://www.coursera.org/course/nlp">Natural Language Processing</a> course at Coursera.org and imagined how such problems are solved and what terminology is used.  This is why I decided not to write regular bicycles, but didn‚Äôt google for long, I took the <a href="http://pullenti.ru/">PullEnti</a> library, which: <br><br><ul><li>  sharpened to work with the Russian language; </li><li>  immediately wrapped to work with C #; </li><li>  free for non-commercial use. </li></ul><br><br>  It turned out to be very easy to select entities with it: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> List&lt;Referent&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExtractEntities</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> source</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//    Processor processor = new Processor(); //    AnalysisResult result = processor.Process(new SourceOfAnalysis(source)); return result.Entities; }</span></span></code> </pre><br><br>  Selected entities must be stored and analyzed, for this we write them into a simple table in the database: the image ID / entity type / entity value.  After parsing, you get something like this: <br><br><table border="1" cellspacing="1" cellpadding="1"><tbody><tr><td>  Docid </td><td>  EntityType </td><td>  Value </td></tr><tr><td>  63 </td><td>  Territorial education </td><td>  city ‚Äã‚Äãof Ussuriysk </td></tr><tr><td>  63 </td><td>  Address </td><td>  Dzer street, 1;  city ‚Äã‚Äãof Ussuriysk </td></tr><tr><td>  63 </td><td>  date </td><td>  November 17, 2014 </td></tr></tbody></table><br><br>  PullEnti can isolate from the text (automatically correcting errors) quite a few such entities: Bank details, Territorial education, Street, Address, URI, Date, Period, Designation, Money Amount, Person, Organization, etc ... And then you should sit down above the tables and think: select documents for a specific city, search for a specific organization, etc.  We performed the main task - the data was extracted and prepared. <br><br><h4>  results </h4><br>  Let's see what happened on a small test sample. <br><br><ul><li>  Processed gallery pages - <b>2,263</b> ; </li><li>  Images received - <b>1,972</b> (on the remaining pages, images have been deleted or closed with privacy settings); </li><li>  Selected text - <b>773</b> (in other images FineReader did not find anything suitable for recognition); </li><li>  Selected entities from the text - <b>293</b> . </li></ul><br><br>  The correct operation is the last indicator, since  quite often, the text in the form of " <b>^ 71 1 / </b> " is highlighted from a picture with rich graphics and so on.  It turns out that we can find a text suitable for analysis approximately in every tenth image.  This is not bad for such a messy repository! <br><br>  And here, for example, a list of extracted cities (quite often the documents from which they were extracted are passport photos): Ankara, Bobruisk, Warsaw, Zlatoust, Kazan, Kiev, Krasnoyarsk, Minsk, Moscow, Omsk, St. Petersburg, Sukhum, Tver, Ussuriysk, Ust-Kamenogorsk, Chelyabinsk, Shuya, Yaroslavl. <br><br><h4>  Results </h4><br><ul><li>  The problem is solved;  created a working prototype of the solution. </li><li>  The speed of this prototype so far does not hold water :( Picture per second is very slow. </li><li>  And, of course, there are a number of unsolved problems: for example, a crash after PhantomJS eats all the memory. </li></ul><br>  Source code (project for Visual Studio 2013) - <a href="https://drive.google.com/file/d/0B2u4sQ6XZ3aHcko4Q2F6OXctQ3c/view%3Fusp%3Dsharing">download</a> . </div><p>Source: <a href="https://habr.com/ru/post/243851/">https://habr.com/ru/post/243851/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243839/index.html">SIVIS - compact video streamer with HDMI cameras on the Internet</a></li>
<li><a href="../243841/index.html">Automation of financial accounting online store: the experience of "Audiomania"</a></li>
<li><a href="../243843/index.html">Our Zabbix</a></li>
<li><a href="../243845/index.html">Security Virtualization. Part 1</a></li>
<li><a href="../243847/index.html">Microsoft Free Exam Voucher</a></li>
<li><a href="../243853/index.html">Android AutoCompleteTextView with web service hints</a></li>
<li><a href="../243855/index.html">Firebird 2014 Conference Report</a></li>
<li><a href="../243857/index.html">Gearman and PHP 5.4 (5.6): Problems and Solutions</a></li>
<li><a href="../243859/index.html">How to perform data analysis by writing just one line of code</a></li>
<li><a href="../243861/index.html">University timetable: to optimize the input of the student‚Äôs study schedule</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>