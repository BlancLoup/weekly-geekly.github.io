<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to display the number of alerts in the name of the browser tab</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Websites and web applications with constantly updated content should notify about updates in the event that the user left the tab but did not close it...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to display the number of alerts in the name of the browser tab</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/234/08f/603/23408f60349849c3afcc36d03165660a.jpg"><br><br>  Websites and web applications with constantly updated content should notify about updates in the event that the user left the tab but did not close it. <br><br>  There are a couple of the most common ways to alert the user.  On the one hand, the social networks Facebook, Twitter and LinkedIn indicate a certain number that corresponds to the number of updates.  On the other hand, Trello displays a small red circle on top of the favicon. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/666/66e/9b3/66666e9b3046f01b40ea72bb82cf9762.jpg" alt="Trello Facebook and Twitter notifications"><br>  <em>Trello, Facebook and Twitter Alerts</em> <br><br>  In this lesson, we will recreate such alerts.  Check out the <a href="http://tutsplus.github.io/tab-notification/">demo</a> to understand what we are going to do. <br><br><font color="red"></font>  <a href="https://github.com/tutsplus/tab-notification"><b>View on github</b></a> <br><font color="red"></font>  <a href="http://pavel.shimansky.ru/notifications"><b>Demo (Russian)</b></a> <br><a name="habracut"></a><br><br><h2>  Use the page title </h2><br>  We will start by adding the number of updates to the page title, as is done on Facebook and Twitter. <br><br>  There are many ways to extract data (ask a friend of the developer).  In our case, we assume that we already know the number of updates and now we can play with JavaScript.  At the moment we have zero updates: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br>  The following is the main part of the code that will change the name of the page.  First of all, let's add <code>document.title,</code> which gets the current page title: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> title = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title;</code> </pre><br>  Then we create a new function that will change part of the name: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">changeTitle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ count++; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newTitle = <span class="hljs-string"><span class="hljs-string">'('</span></span> + count + <span class="hljs-string"><span class="hljs-string">') '</span></span> + title; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = newTitle; }</code> </pre><br>  Here you can see that we are using a javascript <code>++</code> operator.  For demonstration purposes, " <code>++"</code> will increase the number of <code>count</code> by <code>1.</code> <br><br>  Now create a new function that will launch <code>changeTitle()</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ update = setInterval(changeTitle, <span class="hljs-number"><span class="hljs-number">2000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> docBody = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'site-body'</span></span>); docBody.onload = newUpdate;</code> </pre><br>  The function above will check for updates every <code>2000</code> milliseconds (2 seconds).  The function will start as soon as the page loads. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/444/2c0/c3d/4442c0c3d32502419f1ed456ff0e4c93.jpg"><br><br>  The first method is fairly straightforward.  We get the number of updates and transfer it to the title.  You can change the brackets from <code>( )</code> to <code>[ ]</code> or <code>{ }</code> in the <code>changeTitle()</code> function. <br><br><h2>  Use favicon </h2><br>  Now we use the second approach, which changes the <em>favicon</em> , the Trello web application.  For this we need to prepare two options favicon.  The first is when there are no updates, the second is when updates have appeared. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e2/acc/39a/5e2acc39a0e30aef90b50eea0748e53b.jpg"><br><br>  We start by binding the favicon to the document. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"favicon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/favicon.gif?v3"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  Then specify the path to the new favicon using the JavaScript variable. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> iconNew = <span class="hljs-string"><span class="hljs-string">'img/favicon-dot.gif'</span></span>;</code> </pre><br>  As in the first method, we create two functions: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">changeFavicon</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'favicon'</span></span>).href = iconNew; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ update = setInterval(changeFavicon, <span class="hljs-number"><span class="hljs-number">3000</span></span>); setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ clearInterval( update ); }, <span class="hljs-number"><span class="hljs-number">3100</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> docBody = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'site-body'</span></span>); docBody.onload = newUpdate;</code> </pre><br>  The first function, <code>changeFavicon()</code> , will replace our initial favicon with the one with the red circle.  The second function, <code>newUpdate()</code> , will execute the first function after a certain period of time. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c6/79e/66b/7c679e66b2b58585efd106d8de266bbb.jpg"><br>  <em>It seems to have something to look at!</em> <br><br>  The second method is not as complicated as it seems at first glance - on the contrary, it is simpler than the first, where we updated the page name.  In addition, we can show some creativity by adding animations to the favicon.  But without much fanaticism. <br><br>  <strong>Note</strong> : Chrome does not support animated favicon. <br><br><h2>  Using Favico.js </h2><br>  So, the last way is to use the JavaScript library of <a href="http://lab.ejci.net/favico.js/">Favico.js</a> , authored by <a href="http://blog.ejci.net/">Miroslav Magda</a> .  The library provides a convenient API with many different options. <br><br>  We begin with specifying the parameters of the new <code>Favico</code> : position, animation, background color, text color. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> favicon = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Favico({ <span class="hljs-attr"><span class="hljs-attr">position</span></span> :<span class="hljs-string"><span class="hljs-string">'up'</span></span>, <span class="hljs-attr"><span class="hljs-attr">animation</span></span> :<span class="hljs-string"><span class="hljs-string">'popFade'</span></span>, <span class="hljs-attr"><span class="hljs-attr">bgColor</span></span> :<span class="hljs-string"><span class="hljs-string">'#dd2c00'</span></span>, <span class="hljs-attr"><span class="hljs-attr">textColor</span></span> :<span class="hljs-string"><span class="hljs-string">'#fff0e2'</span></span> });</code> </pre><br>  Then add a couple of functions that will start the whole process and ultimately display the badge on favicon. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> num = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateNum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ num++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> num; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showFaviconBadge</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> num = generateNum(); favicon.badge(num); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ update = setInterval(showFaviconBadge, <span class="hljs-number"><span class="hljs-number">2000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> docBody = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'site-body'</span></span>); docBody.onload = newUpdate;</code> </pre><br>  To some extent, our code resembles the first method.  We start by creating a function that will <em>simulate the</em> number of updates.  The second function, <code>showFaviconBadge()</code> , will insert this number into the badge and display the badge itself in favicon.  The last function <code>newUpdate()</code> will start the second one at a certain interval. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/329/a53/7bb/329a537bba7f8a93fbcc7a1f4ae6d77d.jpg"><br><br><h2>  Conclusion </h2><br>  In this lesson, we learned to use the name of the browser tab as a means of notifying users.  We recreated the techniques that are used on popular websites such as Facebook, Twitter, and Trello. <br><br>  Again, you will likely have to make a couple of changes to meet the needs of your project.  But the examples provided will serve as a great start! <br><br>  <b>From the translator</b> .  With all the wishes and comments about the translation, please contact me in PM.  Thank! </div><p>Source: <a href="https://habr.com/ru/post/253449/">https://habr.com/ru/post/253449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253439/index.html">Advanced website parsing with Mechanize</a></li>
<li><a href="../253441/index.html">Technosphere - 1 year</a></li>
<li><a href="../253443/index.html">SaltStack: Creating dependent or referencing service configurations</a></li>
<li><a href="../253445/index.html">Django DB Mailer is a simple and convenient battery for sending email messages in your project.</a></li>
<li><a href="../253447/index.html">Spectral analysis of signals</a></li>
<li><a href="../253455/index.html">Yet another success story</a></li>
<li><a href="../253457/index.html">SAP announces CodeJam and invites you to share</a></li>
<li><a href="../253467/index.html">Effective Navigation Simplification, Part 2: Navigation Systems</a></li>
<li><a href="../253469/index.html">Angular 2.0.0-alpha for those who can't wait</a></li>
<li><a href="../253471/index.html">Bluetooth remote for tv on arduino</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>