<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>C # attributes and types</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The brush of the artist may be different, but you can do without a brush. In C ++, types disappeared after the translation, but in C # they do not dis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>C # attributes and types</h1><div class="post__text post__text-html js-mediator-article">  The brush of the artist may be different, but you can do without a brush.  In C ++, types disappeared after the translation, but in C # they do not disappear and can be used at runtime.  C # is Delphi stubborn on melkosofta and the main reason for the use of attributes with types is PropertyGrid, the former TValueListEditor.  Well, then you can come to the not obvious conclusion that attributes with types are simple and convenient. <br><br>  Previously, methods, fields, and class properties were purely interim between coders, one could say a method, or a function, or a field, or just a variable.  But as soon as there is a type in memory, then it can be addressed, and when applying it is necessary to use exact terms.  From any object you can get its type, and from the type you can get the names of the fields, properties and methods, and by the names you can get the value of the field - that is,  another object, or call the method with all parameters and return value. <br><a name="habracut"></a><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">X</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">A</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> f1; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p1 { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> s, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>); } } X() { A a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> A(); Type t = a.GetType(); FieldInfo fi = t.GetField(<span class="hljs-string"><span class="hljs-string">"f1"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> of = fi.GetValue(a); PropertyInfo pi = t.GetProperty(<span class="hljs-string"><span class="hljs-string">"p1"</span></span>); MethodInfo mpi = pi.GetGetMethod(); <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> ompi = mpi.Invoke(a, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); MethodInfo mi = t.GetMethod(<span class="hljs-string"><span class="hljs-string">"m1"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> om = mi.Invoke(a, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] { <span class="hljs-string"><span class="hljs-string">"param1"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span> }); } }</code> </pre> <br>  Thus, we got an alternative, complicated programming method, when we can write not the variables themselves, but their string names.  String names can be changed. <br><br>  Each object has two hypostases: on the one hand, it is a field of some kind, and on the other hand, it has its own type, in which there can be different fields.  Types at runtime can not be changed, except to contact the address in the memory by the hacker method. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Each type has a list of attributes, this list may be empty, and may be full.  This is where the fun begins.  It turns out that each object has its own unique type.  In other words, two variables of type int have two different types.  These types may be the same, or they may be different, and they will differ in the list of attributes.  It is clear that the exe-shnik is not overflowing with repeating types, the implementation goes through links, but in the leaky representation of the encoder level this is exactly the case. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">X</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ATTR1</span></span> : <span class="hljs-title"><span class="hljs-title">Attribute</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ATTR1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ATTR2</span></span> : <span class="hljs-title"><span class="hljs-title">Attribute</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ATTR2</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">A</span></span> { [ATTR1] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i1; [ATTR2] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i2; } X() { <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] ai1 = a.GetType().GetField(<span class="hljs-string"><span class="hljs-string">"i1"</span></span>).GetCustomAttributes(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] ai2 = a.GetType().GetField(<span class="hljs-string"><span class="hljs-string">"i2"</span></span>).GetCustomAttributes(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } }</code> </pre><br>  Objects have no attributes, only types have attributes.  From each object we can get its type, and in the type to find the attributes.  But since the type of each object is unique, we can say that the object has attributes.  However, it can also be said that the object is described in some type, and in this type attributes are also assigned to this object.  Thus, an object has two attribute lists ‚Äî a list by its own type, and a list by type, in which this object is described. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">X</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ATTR1</span></span> : <span class="hljs-title"><span class="hljs-title">Attribute</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ATTR1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ATTR2</span></span> : <span class="hljs-title"><span class="hljs-title">Attribute</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ATTR2</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } } [ATTR1] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">A</span></span> { } [ATTR2] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> A a; X() { a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> A(); <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] inner = a.GetType().GetCustomAttributes(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] outer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetType().GetField(<span class="hljs-string"><span class="hljs-string">"a"</span></span>).GetCustomAttributes(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } }</code> </pre><br>  Attributes have not only fields, but also methods and properties.  To use their attributes first you need to find the object.  When we look for the attributes of an object, we must select the appropriate list, and when we prescribe attributes, we must respectively write to the type that follows.  Often, the encoder just in case checks the attributes both there and there, and if there is a conflict between the attributes, it gives priority to the field attribute over the type attribute. <br><br>  Primitive coders believed that the main thing is to program the code.  Then the ancestors came to the conclusion that the main thing is to structure the data.  In our enlightened age, universal programs plow open spaces of a structured ocean of data, suggesting a new order there.  One of these programs is PropertyGrid, which displays a data tree with the ability to change them.  How to find public property - and immediately shows.  And if a property is so non-standard that it can neither be viewed nor edited, then the PropertyGrid will look for an attribute with a description of the class with which you can view and fix the property.  And if it does not find it, it will not show it.  And che, the DBMS has long been keeping their data types and live happily ever after, why not keep the prog - there is nowhere to put the memory on the computers, and at speeds it is possible to code an uncontrollable piece. <br><br>  Known glitches. <br><br>  It works inside c #, but you should set it in OLE (COM, ActiveX), as some attributes are lost immediately, most likely when you switch from one c # dll to another.  For example, when the glade itself (field) is described in one dll, and its type with the attribute is in the other, and the attribute will not disappear, its glades will disappear - it is also a class in turn.  It is difficult to determine where exactly the glitch.  Most likely CCW rolls in.  CCW is such a magic word meaning a wrapper with a garbage collector for an unmanaged call.  Sharpovs believe that the coders will write on Sharpe and occasionally pull up their old ideas on the pros, and the coders themselves believe that they will accompany their monsters by finishing the pieces on Sharpe. <br><br>  As soon as the CCW can send in the garbage what should not be sent, then in the OLE version everything that is lost needs to be protected static.  Those.  for example, the sequence of properties in some type was lost, all properties are in place, but not so sorted.  It means that, according to the logic of the program, it is necessary to go up and find where nothing is lost yet and create a static variable with a link to this object - they will not be sent to the garbage, they will be ashamed. <br><br>  Hackers or not hackers? <br><br>  The very concept of the reflection of pure water hacking, when we appeal to all closed members.  The immutability of attributes at runtime, they de belong to the type, and the type cannot be changed - the same hacker problem as all reflection.  Everything is changing.  You just need to remember that by changing some kind of collection, you can ignore the fact that someone has already referred to it and built its data structure - something can fall off.  For example, we change this the value of the Browsable attribute - God forbid this attribute is not explicitly stated in the source code.  This attribute, if not present, is assigned to the type by default, but it cannot be changed if it is not explicitly stated - all Browsable attributes with all other properties will fall down.  And it is extremely difficult to determine where the attribute was originally written at run time. <br><br>  PropertyDescriptor pd = TypeDescriptor.GetProperties (_pi.DeclaringType) ["Name"]; <br>  BrowsableAttribute ba = (BrowsableAttribute) pd.Attributes [typeof (BrowsableAttribute)]; <br>  FieldInfo isBrowsable = ba.GetType (). GetField ("Browsable", BindingFlags.IgnoreCase | BindingFlags.NonPublic | BindingFlags.Instance); <br>  isBrowsable.SetValue (ba, false); </div><p>Source: <a href="https://habr.com/ru/post/267515/">https://habr.com/ru/post/267515/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267505/index.html">Basics of NHibernate (easy tutorial)</a></li>
<li><a href="../267507/index.html">Another way to disable telemetry collection in Windows 10 OS</a></li>
<li><a href="../267509/index.html">Replicated object. Part 1: Introduction</a></li>
<li><a href="../267511/index.html">Yandeks.Blogi - we will think for you</a></li>
<li><a href="../267513/index.html">Matreshka.js 2: events</a></li>
<li><a href="../267517/index.html">JetBrains have published updates to the new licensing and pricing policy.</a></li>
<li><a href="../267519/index.html">Adaptive video as a background site caps</a></li>
<li><a href="../267523/index.html">Setting up sending email notifications in Zabbix on CentOS 7</a></li>
<li><a href="../267525/index.html">From Euroset to game design or 5 beginner's mistakes</a></li>
<li><a href="../267527/index.html">Revolution on the threshold or another niche for "people in the subject"?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>