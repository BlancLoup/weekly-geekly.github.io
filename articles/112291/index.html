<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>jQuery plugin for Ajax video upload on YouTube</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I recently wrote a small plugin in jQuery and PHP. The functionality is simple: via Ajax, the description is set and the video is uploaded to YouTube,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>jQuery plugin for Ajax video upload on YouTube</h1><div class="post__text post__text-html js-mediator-article">  I recently wrote a small plugin in jQuery and PHP.  The functionality is simple: via Ajax, the description is set and the video is uploaded to YouTube, the plugin returns the download status, and if it was successful, the video id.  The plugin can be used on any site, and is easily inserted into any CMS. <br><br>  It all started with the fact that when developing a CMS for a local TV site, I was faced with the need to upload videos to YouTube.  Since they will often add videos to the site, each time they log in to YouTube, upload a video there, receive a link to it, climb into the CMS and insert it there - it is very stressful.  Moreover, it is desirable to do this through Ajax, so that you can easily plug in any project. <br><br><a name="habracut"></a><br>  I did not find a ready solution for how to do this, but I came across two interesting materials: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://habrahabr.ru/blogs/webdev/69006/">http://habrahabr.ru/blogs/webdev/69006/</a> <br>  - Here is described in detail how to do the download through PHP.  However, I also needed Ajax. <br><br>  <a href="http://zlob.in/2010/youtube-api-javascript-upload/">http://zlob.in/2010/youtube-api-javascript-upload/</a> <br>  - Here is the necessary function of downloading video via Ajax, but there is no server part.  That is, we should already have received the token and download URL.  The author himself writes that he uses the script in conjunction with FLEX. <br><br>  By combining these two solutions, digging through the documentation, I added the ability to specify a video description, and, in principle, got what I needed.  But, after all, there was a desire to slightly expand the functionality and arrange all this in the form of a ready-made plug-in, which ideally anyone can use. <br><br>  Download the archive with the plugin and the demo <a href="">here</a> <br>  and just in case the <a href="">mirror</a> . <br><br><h4>  How to use </h4><br>  First of all, you need to edit the <b>setup.php</b> file, in which you need to specify the project name, developer key, login and password to log in to YouTube. <br><br>  You can get the developer key <a href="http://code.google.com/apis/youtube/dashboard/">here</a> . <br>  On this page we indicate the name of your project and the URL of the site. <br>  where the video will be downloaded from, after which we will be given a key, like this: <br>  <i>AI39si6Am9JZwKhJlrJGZUg0UU7URgTl9IGfSp2PZw2wAiWC33SfIGb2k3lhVRf-XLKnmhTiFnqDFv_9YgRgdK5qVWQQC_DlqQ</i> <br><br>  This completes the server side configuration. <br><br>  Now we connect the plugin itself to our page.  JQuery is required for its operation, preferably the latest version: <br><blockquote><code><font color="black">&lt;script type= <font color="#A31515">"text/javascript"</font> src= <font color="#A31515">"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"</font> &gt;&lt;/script&gt;</font> <br></code> </blockquote><br><br>  Connect the plugin: <br><blockquote> <code><font color="black">&lt;script type= <font color="#A31515">'text/javascript'</font> src= <font color="#A31515">'yt_ajaxfileupload.js'</font> &gt;&lt;/script&gt;</font> <br></code> </blockquote><br><br>  By clicking on the download button, run the plugin: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$( <font color="#A31515">'#buttonUpload'</font> ).click( <font color="#0000ff">function</font> () { <br> <br> $.uploadVideo( <font color="#A31515">"/yt_upload/connect.php"</font> , <font color="#A31515">"fileToUpload"</font> , <br> { title: $( <font color="#A31515">"#v_title"</font> ).val(), <br> description: $( <font color="#A31515">"#v_description"</font> ).val(), <br> category: $( <font color="#A31515">"#v_category"</font> ).val(), <br> keywords: $( <font color="#A31515">"#v_keywords"</font> ).val()}, <br> <font color="#0000ff">function</font> (){ <br> $( <font color="#A31515">"#loader"</font> ).html( <font color="#A31515">"Uploading..."</font> ); <br> }, <br> <font color="#0000ff">function</font> (data){ <br> $( <font color="#A31515">"#loader"</font> ).html( <font color="#A31515">""</font> ); <br> alert(data.status); <br> alert(data.id); <br> }); <br> <br> }); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  The <b>$ .uploadVideo</b> function takes 5 arguments: <br><br>  1) The path to <b>connect.php</b> (lies in the folder with the plugin) <br>  2) File Select Element Id <br>  3) Video description: title, description, category, keywords <br>  4) The function that will be executed at boot time (for example, you can show that the boot process is running) <br>  5) Callback function of the end of the download, returns the status and id of the video <br><br>  Create a form: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">name</font> <font color="#0000ff">="form"</font> <font color="#ff0000">id</font> <font color="#0000ff">="form-send"</font> <font color="#ff0000">action</font> <font color="#0000ff">=""</font> <font color="#ff0000">method</font> <font color="#0000ff">="POST"</font> <font color="#ff0000">enctype</font> <font color="#0000ff">="multipart/form-data"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">label</font> <font color="#ff0000">for</font> <font color="#0000ff">="v_title"</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;/</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="text"</font> <font color="#ff0000">name</font> <font color="#0000ff">="v_title"</font> <font color="#ff0000">id</font> <font color="#0000ff">="v_title"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">label</font> <font color="#ff0000">for</font> <font color="#0000ff">="v_description"</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;/</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="text"</font> <font color="#ff0000">name</font> <font color="#0000ff">="v_description"</font> <font color="#ff0000">id</font> <font color="#0000ff">="v_description"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">label</font> <font color="#ff0000">for</font> <font color="#0000ff">="v_category"</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;/</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">select</font> <font color="#ff0000">id</font> <font color="#0000ff">="v_category"</font> <font color="#ff0000">name</font> <font color="#0000ff">="v_category"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">selected</font> <font color="#0000ff">=""</font> <font color="#ff0000">value</font> <font color="#0000ff">="Autos"</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Movies_Comedy"</font> <font color="#0000ff">&gt;</font>  <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Education"</font> <font color="#0000ff">&gt;</font>  <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Entertainment"</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Movies_Anime_animation"</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Games"</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Howto"</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Music"</font> <font color="#0000ff">&gt;</font>  <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Nonprofit"</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="People"</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Animals"</font> <font color="#0000ff">&gt;</font>  <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Tech"</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Sports"</font> <font color="#0000ff">&gt;</font>  <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">option</font> <font color="#ff0000">value</font> <font color="#0000ff">="Travel"</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">option</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">select</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">label</font> <font color="#ff0000">for</font> <font color="#0000ff">="v_keywords"</font> <font color="#0000ff">&gt;</font>  : <font color="#0000ff">&lt;/</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="text"</font> <font color="#ff0000">name</font> <font color="#0000ff">="v_title"</font> <font color="#ff0000">id</font> <font color="#0000ff">="v_keywords"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="hidden"</font> <font color="#ff0000">name</font> <font color="#0000ff">="yttoken"</font> <font color="#ff0000">id</font> <font color="#0000ff">="yttoken"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="hidden"</font> <font color="#ff0000">name</font> <font color="#0000ff">="yturl"</font> <font color="#ff0000">id</font> <font color="#0000ff">="yturl"</font> <font color="#ff0000">value</font> <font color="#0000ff">=""</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">id</font> <font color="#0000ff">="fileToUpload"</font> <font color="#ff0000">type</font> <font color="#0000ff">="file"</font> <font color="#ff0000">size</font> <font color="#0000ff">="15"</font> <font color="#ff0000">name</font> <font color="#0000ff">="fileToUpload"</font> <font color="#ff0000">class</font> <font color="#0000ff">="input"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">button</font> <font color="#ff0000">id</font> <font color="#0000ff">="buttonUpload"</font> <font color="#0000ff">&gt;</font>  <font color="#0000ff">&lt;/</font> <font color="#800000">button</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  <b>For successful upload, all form fields are required.</b> <br><br>  I want to warn in advance about the video category: YouTube API accepts only those categories <br>  which are described in this xml: <a href="">http://gdata.youtube.com/schemas/2007/categories.cat</a> <br><br>  That's all, I welcome comments and suggestions in the comments, since this is my first experience in writing a plugin, before this I didn‚Äôt go beyond simple manipulations with the DOM. <br><br>  <b>PS:</b> If something is not clear from the article, then there are many explanatory comments in the source code. <br><br>  <b>UPD:</b> Old links to the archive no longer work, posted a slightly updated version, with the cURL loader version: <a href="">download</a> </div><p>Source: <a href="https://habr.com/ru/post/112291/">https://habr.com/ru/post/112291/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112281/index.html">How to make a successful career at IBM headquarters?</a></li>
<li><a href="../112286/index.html">FileSystem API & File API: we understand and use</a></li>
<li><a href="../112287/index.html">Unity3D for beginners - Tutorial 1</a></li>
<li><a href="../112289/index.html">Digital signatures in executable files and circumvention of this protection in malware</a></li>
<li><a href="../112290/index.html">NetUP CAS and Middleware certified by the Ministry of Communications of the Russian Federation</a></li>
<li><a href="../112292/index.html">Evolution of the Python programmer</a></li>
<li><a href="../112294/index.html">Experience of implementing 1C UAT at a distribution center</a></li>
<li><a href="../112295/index.html">First impressions of the development under Android - we write handsfree</a></li>
<li><a href="../112297/index.html">The Chinese have created a virus that blocks the connection of client PCs with cloud antivirus software.</a></li>
<li><a href="../112298/index.html">About weird icons HTML5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>