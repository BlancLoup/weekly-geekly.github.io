<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SDL 2 Tutorials: Lesson 1 - Hello, SDL 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! I decided to look at SDL 2, but I did not find anything sensible in Russian. I decided to write my own, feeding on inspiration from here . 

 I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SDL 2 Tutorials: Lesson 1 - Hello, SDL 2</h1><div class="post__text post__text-html js-mediator-article">  Hello!  I decided to look at SDL 2, but I did not find anything sensible in Russian.  I decided to write my own, feeding on inspiration <a href="http://lazyfoo.net/tutorials/SDL/index.php">from here</a> . <br><br>  I‚Äôll skip the SDL 2 installation, but I‚Äôll start right away with writing the programs, so: <br><br><h2>  Your first window </h2><br>  Let's start with connecting SDL 2. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SDL2/SDL.h&gt;</span></span></span></span></code> </pre> <br>  Here we will declare several global variables. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SCREEN_WIDTH = <span class="hljs-number"><span class="hljs-number">640</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SCREEN_HEIGHT = <span class="hljs-number"><span class="hljs-number">480</span></span>;</code> </pre><br>  Next, open the familiar main function to everyone. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ** args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( SDL_Init( SDL_INIT_EVERYTHING ) != <span class="hljs-number"><span class="hljs-number">0</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } SDL_Surface* screen_surface = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; SDL_Window* window = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>;</code> </pre><br>  Let's take a look at the code.  In the main command line parameters are accepted command line parameters, they must be taken.  Next, we initialize SDL 2 with the <b>SDL_Init ()</b> function.  We passed <b>SDL_INIT_EVERITHING</b> into it, which means that we initialize all SDL modules (video, audio, etc.).  There are a few more flags for SDL_Init: <br><br><div class="spoiler">  <b class="spoiler_title">Flags</b> <div class="spoiler_text">  <b>SDL_INIT_TIMER</b> - timer connection; <br>  <b>SDL_INIT_AUDIO</b> - audio connection; <br>  <b>SDL_INIT_VIDEO</b> - video connection, events are automatically connected; <br>  <b>SDL_INIT_JOYSTICK</b> - connection of joystick control; <br>  <b>SDL_INIT_HAPTIC</b> - tactile subsystem (I do not know what it is, to be honest); <br>  <b>SDL_INIT_GAMECONTROLER</b> - connects the control, the joystick is automatically connected; <br>  <b>SDL_INIT_EVENTS</b> - connects event handling; <br>  <b>SDL_INIT_EVERYTHING</b> - connects everything listed above; <br>  <b>SDL_INIT_NOPARACHUTE</b> - compatibility check. <br></div></div><a name="habracut"></a><br>  Next, create a window with the function <b>SDL_CreateWindow ()</b> .  If something went wrong as intended, return 1. <br><br><pre> <code class="cpp hljs"> window = SDL_CreateWindow(<span class="hljs-string"><span class="hljs-string">"Hello, SDL 2!"</span></span>,SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SDL_SCREEN_WIDTH, SDL_SCREEN_HEIGHT, SDL_WINDOW_SHOWN); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (window == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre><br>  The <b>SDL_CreateWindow ()</b> function accepts values ‚Äã‚Äãfor the window name, window position by OX, window position by OY, window width, window height, and flags.  Now we will <b>manage</b> flag <b>SDL_WINDOW_SHOWN</b> . <br><br>  There are other flags to create a window. <br><br><div class="spoiler">  <b class="spoiler_title">Flags</b> <div class="spoiler_text">  <b>SDL_WINDOW_FULLSCREEN</b> - opens a window in full screen mode, changes the resolution of the desktop; <br>  <b>SDL_WINDOW_FULLSCREEN_DESCKTOP</b> - opens a window in full-screen mode with the resolution of the given desktop; <br>  <b>SDL_WINDOW_OPENGL</b> - window with OpenGL support; <br>  <b>SDL_WINDOW_HIDDEN</b> - the window is hidden; <br>  <b>SDL_WINDOW_BORDERLESS</b> - window without frame; <br>  <b>SDL_WINDOW_RESIZABLE</b> - you can change the size of the window; <br>  <b>SDL_WINDOW_MINIMIZED</b> - the window is minimized; <br>  <b>SDL_WINDOW_MAXIMIZED</b> - the window is maximized; <br></div></div><br>  If we compile and run the program now, we will see a window, 640x480 in size, filled with white color, which closes after a moment.  Wonderful!  To admire this miracle a bit, we can write <b>SDL_Delay (2000)</b> .  It will cause the program to hang for 2 seconds. <br><br>  Just a window is, of course, good, but it would be even cooler to draw in it, agree?  To do this, we will create a surface on which we will draw everything, because directly in the window we can draw something somehow ugly or something. <br><br><pre> <code class="cpp hljs"> screen_surface = SDL_GetWindowSurface(window); SDL_FillRect(screen_surface, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, SDL_MapRGB(screen_surface-&gt;format, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); SDL_UpdateWindowSurface(window);</code> </pre><br>  First we get the window surface with the function <b>SDL_GetWindowSurface ()</b> .  It is made in order that it was not necessary to specify the dimensions of the surface, its format, but to immediately get the finished surface.  Also, this surface does not need to be drawn in the window - she will do everything herself. <br><br>  Then we use <b>SDL_FillRect ()</b> to draw our surface in green.  We wrote <b>SDL_MapRGB</b> , thus telling the program that we would use RGB (Red Green Blue) to set the color. <br><br>  And at the end we need to update the window with the function <b>SDL_UpdateWindowSurface ()</b> so that it will display what we told him. <br><br>  At this stage, at startup, the program will display a window filled with bright green color, which will not close for 2 seconds. <br><br>  After the program is completed, we need to clear the RAM of unnecessary files, close the window, in general, to determine the correct completion of the program.  Specially prepared functions will help us with it. <br><br><pre> <code class="cpp hljs"> SDL_DestroyWindow(window); SDL_Quit();</code> </pre><br>  The <b>SDL_DestroyWindow ()</b> function closes the window, and the <b>SDL_Quit ()</b> function initializes all the modules that were previously connected with the <b>SDL_Init ()</b> function. <br><br>  Well, lesson number 1 came to an end, I hope everything was clear.  This is the code I got at the end: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SDL2/SDL.h&gt; const int SCREEN_WIDTH = 640; const int SCREEN_HEIGHT = 480; int main (int argc, char ** args) { if( SDL_Init( SDL_INIT_EVERYTHING ) != 0 ) { return 1; } SDL_Surface* screen_surface = NULL; SDL_Window* window = NULL; window = SDL_CreateWindow("Hello, SDL 2!",SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN); if (window == NULL) { return 1; } screen_surface = SDL_GetWindowSurface(window); SDL_FillRect(screen_surface, NULL, SDL_MapRGB( screen_surface-&gt;format, 0, 255, 0)); SDL_UpdateWindowSurface(window); SDL_Delay(2000); SDL_DestroyWindow(window); SDL_Quit(); return 0; };</span></span></span></span></code> </pre><br>  Good luck to all! </div><p>Source: <a href="https://habr.com/ru/post/453700/">https://habr.com/ru/post/453700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../453686/index.html">Security Week 22: Threat Statistics, Bank Trojans, and Popular Exploits</a></li>
<li><a href="../45369/index.html">Americans in line for BlackBerry Storm</a></li>
<li><a href="../453698/index.html">Quantum Information in Quantum Consciousness</a></li>
<li><a href="../4537/index.html">Podcasting is changing traditional media.</a></li>
<li><a href="../45370/index.html">HolyWar: ‚Äã‚ÄãTemplate engines. Do they need? Are they wealthy? Forum.</a></li>
<li><a href="../453706/index.html">How I passed the Google Cloud Professional Data Engineer certification exam</a></li>
<li><a href="../453708/index.html">Real-time OS AQUA RTOS for AVR MK in BASCOM AVR environment</a></li>
<li><a href="../453712/index.html">How eBay did a barcode scanner on WebAssembly</a></li>
<li><a href="../453714/index.html">Test client TON (Telegram Open Network) and new language Fift for smart contracts</a></li>
<li><a href="../45372/index.html">Our VoIP startup Octopus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>