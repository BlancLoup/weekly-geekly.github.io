<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to become a cloud IP PBX provider - Step-by-Step Guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Now almost anyone can become a cloud PBX operator. In the previous article, we talked about how to do this, having only one server, today we will disc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to become a cloud IP PBX provider - Step-by-Step Guide</h1><div class="post__text post__text-html js-mediator-article">  Now almost anyone can become a cloud PBX operator.  <a href="http://habrahabr.ru/company/3cx/blog/267985/">In the previous article,</a> we talked about how to do this, having only one server, today we will discuss the situation when there are several servers (cluster) and you need centralized management. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/57b/3b9/f54/57b3b9f54be64e898fe06f2ad6ef2c34.jpg"></div><br><a name="habracut"></a><br><br><h2>  What is needed for this? </h2><br><ul><li>  Downloading a free hosting platform <a href="">here</a> .  (it doesn't cost anything) </li><li>  Register as a 3CX partner <a href="http://www.3cx.com/partners/apply/">here</a> , because  centralized management goes through the Partner Portal (this is also free) </li><li>  Multiple servers or virtual machines </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Method 1: Creating an IP PBX through the Partner Portal (ERP) </h2><br>  You can manage your PBX through the 3CX Partner Portal.  You can dynamically create and delete individual telephone exchanges.  Step by step it looks like this: <br><br><h3>  Step 1: Create a Google Cloud Account <br></h3><br>  The 3CX Affiliate Portal uses Google Cloud DNS to automatically create the necessary records.  First you need to create a Google Cloud account, read more here: <br>  <a href="https://cloud.google.com/dns/">https://cloud.google.com/dns/</a> <br><br>  After you have done this, on the portal, go to the <b>Virtual PBX Instances&gt; Virtual PBX Settings</b> section, the <b>Google Cloud DNS Settings</b> section and fill in the required fields: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/11c/0b1/83a/11c0b183ae0e47fb8355f3aef0965f14.png"></div><br><br><ul><li>  <b>Project ID</b> - you need to take from the Google Cloud developer console (https://console.developers.google.com/); </li><li>  <b>Service Account Email Address</b> - You need to create a service account for the <b>Google Cloud</b> project, this is done through <b>APIs &amp; Auth&gt; Credentials</b> .  A public / private key file (.p12) will be created with which the Partner Portal will log in to Google Cloud.  You will receive a Server Account Client ID and email address as a service identifier.  Enter this email here; </li><li>  <b>Private Key File</b> - load the file in public / private key; </li><li>  <b>Private Key Password</b> - The private key is encrypted with a password.  Specify it in this field.  Unless otherwise specified, the default password is ‚Äúnotasecret‚Äù (you can change it). </li><li>  This is the default TTL. </li></ul><br><br><h3>  Step 2: Create a cluster </h3><br>  Before creating a PBX you need to make at least one server cluster.  A cluster is a group of servers, each of which can be located in different data centers, different regions or just a server with different characteristics or SLA.  To create a virtual PBX, the server with the lowest load is always selected. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5ce/a0a/052/5cea0a05211a4746922516afde18abaf.png"></div><br><br>  1. Go to the <b>Server Clusters</b> tab. <br>  2. Click <b>Add</b> to retrieve the new cluster. <br>  3. <b>Enter a Cluster Code - a</b> unique internal 4-character code, consists of letters and numbers, is needed to identify the cluster.  Used to refer to a cluster in Web Forms <br>  4. <b>Description</b> - A plain text description. <br>  5. <b>Hosted Instance Domain</b> - the domain name of the cluster.  Hotel PBXs will be subdomains, for example, user1.pbx.mycompany.eu.  Usually, you need to install a trusted SSL certificate for the domain and all servers in the cluster. <br>  6. <b>DNS Managed zone</b> : you need to get a Google DNS Account. <br><br><h3>  Step 3: Creating a Virtual PBX Server </h3><br>  Download and install 3CX Phone System 14 on each of the servers.  When installing, be sure to select the Multiple option.  This will set up to 25 on each of the servers.  When all servers are installed, you can start adding PBX. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/917/84a/a04/91784aa0421b42549273a1779552b355.png"></div><br><br>  1. In 3CX ERP, go to Virtual PBX Instances&gt; Virtual PBX Servers. <br>  2. Click Add and enter the server details: <br>  ‚Ä¢ Server Cluster - select a cluster from the drop-down list.  In the example, we select a cluster in Asia. <br>  ‚Ä¢ Unique name - internal server name.  It may be the same as the FQDN. <br>  ‚Ä¢ FQDN - domain name.  Do not specify an IP address.  If you are using an SSL certificate from a provider such as Thawte or Verisign, you must specify the domain name corresponding to the certificate (for example, *. Mycompany.eu); <br>  The Partner Portal itself will create DNS records of type CNAME for user PBXs. <br>  Please note that Portal will not create an A type record. It is the administrator‚Äôs responsibility. <br>  ‚Ä¢ System Id - by default 'phonesystem'.  This is the name of a specific PBX; <br>  ‚Ä¢ Password - Password from PBX.  Own for each installation; <br>  ‚Ä¢ Omit from pool - Needed for tests.  By default, the Portal creates, deletes and edits PBX data.  Enable this option if you exit delete and create an IP PBX through Cloud Manager. <br>  ‚Ä¢ Untrusted SSL ‚Äî A validated SSL certificate is required when installing the 3CX Phone System or 3CX can generate an unacknowledged native SSL certificate.  Enable this option if you are planning a certificate from 3CX. <br>  3. Repeat the steps to add more servers. <br><br><h3>  Step 4: Creating a Virtual PBX </h3><br>  To add a telephone exchange: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e65/ba2/d6f/e65ba2d6fccb4250950d733706221154.png"></div><br><br>  1. Click <b>Virtual PBX instances&gt; Add</b> <br>  2. Select a cluster. <br>  3. Select on which of the cluster servers the PBX will be added. <br>  4. Enter <b>Tenant ID</b> - this can be the name of the company. <br>  5. Specify a contact person and email. <br>  6. Specify the quota for voice mail and for recording conversations in MB.  The default is 1 GB for each of the features. <br>  7. If the PBX needs to activate the license, check the ‚ÄúUse the following license key‚Äù box and enter the end-user data. <br>  8. Click OK to create the PBX. <br>  9. Access data will be sent by email. <br><br><h2>  Virtual PBX Management </h2><br>  You can manage all virtual PBXs via this interface: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/35f/cee/dc3/35fceedc30e1478faf0379876048eae3.png"></div><br><br>  To check the status of the PBX, click [Request Status]: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/418/bc1/dd8/418bc1dd8bee4cb78e52b76338b92bf0.png"></div></div><p>Source: <a href="https://habr.com/ru/post/268965/">https://habr.com/ru/post/268965/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268951/index.html">Git is enough to be (less) dangerous</a></li>
<li><a href="../268957/index.html">Starting module of the course ‚ÄúAlgorithms. Olympiad programming "or Year in transit</a></li>
<li><a href="../268959/index.html">Windows Camp // Labs - how to learn how to develop universal Windows 10 applications in one day</a></li>
<li><a href="../268961/index.html">October 17, from 10:00 (MSK), watch the online translation of SQLSaturday</a></li>
<li><a href="../268963/index.html">HTML5 Video and Audio support in new Vivaldi 1.0.300.5 browser build</a></li>
<li><a href="../268967/index.html">VR and AR Digest: September</a></li>
<li><a href="../268969/index.html">BabylonJS Tutorial - Using Sprites</a></li>
<li><a href="../268971/index.html">Machine learning, predicting the future and analyzing the reasons for success in e-commerce</a></li>
<li><a href="../268973/index.html">Creating a space browser game. First experience</a></li>
<li><a href="../268975/index.html">Recipe for rotating planets in space on HTML5 + JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>