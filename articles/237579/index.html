<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we disaccustomed outsourcing to throw the ball to the internal IT department</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We use both outsourcing and our internal IT resources. On one physical server there can be a service for which external employees are responsible, and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we disaccustomed outsourcing to throw the ball to the internal IT department</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/2f2/bdf/faa/2f2bdffaa03241f68c56cb1db165030a.jpg"><br><br>  <b>We use both outsourcing and our internal IT resources.</b>  On one physical server there can be a service for which external employees are responsible, and a service for which we are responsible.  And from the season, these services can migrate inside the company or go outside. <br><br>  The story began with the fact that we needed a centralized system with a farm of terminals.  At that time, we had about 10 stores, and each of them had its own database, the data from which were used to compile a cumulative report at the end of the period or upon request. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Centralization </h3><br>  The described scheme turned out to be very inconvenient - it was necessary to know all the time where and what is in warehouses, plus display the availability of goods in real time on the site.  Accordingly, we centralized the base and made the stores work through the terminal access to it.  Prior to that, we did not want to do this because of the requirements for the communication channel. <br><br>  Naturally, there was a problem with turning off the Internet: if the channel weakened or fell (which happens almost always - a matter of time), the store was left without a cash register.  That is, it was still possible to punch checks (at that time, the division of IT and physical cash register was used), but accounting went to hell until correction.  It was impossible to admit this, so we decided to go in a simple way - by reserving channels.  They brought in each store two physical cables from different providers, purchased ‚ÄúUSB-whistles‚Äù, but, in general, the situation from this, if it became easier, was not much.  Anyway, someone fell sooner or later. <br><br>  <b>The next step</b> was a distributed database.  The master database is stored in the data center, and each store has its own version of the database (more precisely, a fragment relating to this particular store).  In case of failure of the Internet channel, the store continues to work in its version of the database, and when a connection appears, an asynchronous update of the main base occurs.  In the presence of a stable channel updates go in real time.  If the channel falls - the data is ‚Äúachieved‚Äù during restoration, just the store leaves the network for a while.  By the way, the same availability of goods is already considered at the central instances according to expectation - for example, at the speed of sales of 5 boxes of the game per day and there are 8 boxes in the store's warehouse without communication for dinner, there will not be ‚ÄúAvailable‚Äù, but ‚Äúend, call‚Äù.  The goal is not to make it so that the person arrives, but there is no game. <br><br><h3>  Iron </h3><br>  Iron has been changing all this time.  The first server was in a fairly cheap data center, but from there we very quickly left because it was impossible to work.  Then we followed the ‚Äúeverything home‚Äù way and tried to deploy a server in the office, from where, in fact, replication of the store databases was done.  The problem is the same - when the Internet drops in the office, all the stores are left without IT.  Despite the two channels, this happened at least once, when they decided to dig a hole near the office to change pipes. <br><br>  Accordingly, the next step was the transition to a fault-tolerant data center.  Chose a long time.  Now we have 10 physical servers on which virtualka are deployed.  In case of failures, services can migrate between machines, there is a fine load balancing.  In the season, the required power grows dramatically, we buy more cars, then in a month we rent a rental - very convenient in terms of savings.  There is no storage system for the base, it is spinning on one of the servers where we finished off the shelf with SSD disks.  When we started to run into long miscalculations for the period, we tried a cluster with midrange storage, but it turned out to be quite expensive for our capacities so far, they refused. <br><br>  As a result, there was independence from the office infrastructure in terms of critical processes: if something happens, our designer‚Äôs work will disappear to the last backup, a couple of XLS tablets - that's all.  All commercial processes will be restored almost as soon as a new iron appears.  By the way, about iron - for the New Year we duplicate all the nodes not only in the IT structure from the server side, but also physically.  If the terminal fails in the store, the warehouse has exactly the same pre-configured system unit in the warehouse, which you can simply connect in place of the failed and you can‚Äôt figure out what's going on - the Windows, the capacitor on the motherboard or the failed settings. <br><br><h3>  Outsourcing </h3><br>  We have our own IT department and an external outsourcing company that complements it.  The most important thing in the scheme of work - managed to realize a situation where there is no transfer of the ball between us and external employees. <br><br>  <b>For a start, we clearly divided the services.</b>  <b>For example, if there is a physical server, then on it:</b> <br><ul><li>  Virtualization system (administration and monitoring on outsourcing) </li><li>  Win-machines (administration and monitoring on outsourcing) </li><li>  On one of the machines there is a DBMS (administration and monitoring on our IT specialists) </li><li>  Base 1C (administration and monitoring inside us) </li><li>  Backup databases (outsourcing). </li></ul><br><br>  And so on.  Then we have very clearly prescribed every price for each node and SLA to it.  For example, if a computer goes down in a store: <br><ul><li>  At the peak of the season - there must be a pre-configured system unit, which you just need to reconnect. </li><li>  The rest of the time - SLA 4 hours to restore the operation of this node in the database. </li></ul><br><br>  <b>Services are divided into levels:</b> <br><ul><li>  Services of workplace level (for example, support of an automated workplace of the storekeeper). </li><li>  Site level (network printing service in the company's office). </li><li>  There are company level services (terminal server in DC). </li></ul><br>  Each service has its own indicators: reaction time, readiness time, cost, ‚Äúfine‚Äù.  It is a lot of services, and indicators accordingly too.  The system has been refined over the years, and a simple listing of services takes about 30 pages.  The guys argue that such an approach allowed them to get rid of the chaos in their heads and to offer exactly what was needed to other companies. <br><br>  <b>An example of how an active SLA works</b> (note that when it comes to a legal entity, it became possible to set deductions for jambs): <br><ul><li>  SLA for an extremely important service corresponds to the following indicators: operating mode 12/7, reaction time 6 minutes, ready time 1 hour. </li><li>  1 hour of downtime for super-important service - minus 100% of the monthly cost of service. </li><li>  2 hours of downtime for super-important service - minus 200% of the monthly cost of service. </li><li>  Further deduction from the bonus continues to grow linearly, but not so fast - 8 hours - 300%, and so on up to 400%.  At the same time, the cost of the service is the payment for it to the outsourcers, and not the cost of the service for the company.  For example, if servicing a single computer in a store costs 700 rubles, its failure for a shift is 2100 rubles. </li></ul><br><br>  Despite the fact that the store lacks profit during this time (the second ticket office does not work), this has nothing to do with IT outsourcing and its payment - the guys simply cannot be responsible for such things.  Before such logic, we walked for a rather long time, and we had to stand in our place and in their place in order to understand this. <br><br>  Vova (our former admin, who just founded bitmanager.ru) says that thanks to this kind of work, his quality indicators for all customers have increased.  More precisely - he understood well what retail needed.  No, at first, of course, he beat his head against the wall, of course, but then he learned to control the processes from within with the help of a balanced scorecard.  All tickets are summarized weekly, SLA indicators are calculated monthly for all tickets, and a penalty or bonus is calculated if necessary. <br><br>  Then it became even more interesting.  The fact is that depending on the seasonality of the business, the load on our internal IT department changes.  And it turned out that some parts of the infrastructure can be outsourced, for example, on New Year's Eve, when IT is needed in other areas, and then taken back ‚Äúunder your wing‚Äù at the end of the peak.  Because it saves costs.  As a result, at the beginning of each month, outsourcers recalculate all nodes and services that are under their responsibility and invoice them.  Accordingly, this approach to evaluating each service and node also means that no one in the divisions has ‚Äúfree‚Äù hardware or licenses ‚Äî everything that needs support, money or an unused asset is returned ‚Äúto the base‚Äù, from where it can be more efficiently use. <br><br>  I must say that they were helped by the fact that at the initial stage, when we were just building our relationship, the external support thought that it was enough to have an on-site admin service.  But violations of the SLA caused fines or deprivation of bonuses, so they adapted their processes to support retail.  Now they work like a clock - each ticket is placed in the support panel, the necessary resources are allocated for it.  The last exit from the SLA was over a year ago. <br><br>  <b>PS</b> Well, to tell further our <a href="http://habrahabr.ru/company/mosigra/blog/237577/">adventures</a> , or well, what the hell is this IT-infrastructure of medium-sized business, which is already familiar to everyone? </div><p>Source: <a href="https://habr.com/ru/post/237579/">https://habr.com/ru/post/237579/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../237569/index.html">Cross-browser beautiful input type = "number"</a></li>
<li><a href="../237571/index.html">Choosing a name for a new Russian operating system</a></li>
<li><a href="../237573/index.html">Model S cars can now be given personal names.</a></li>
<li><a href="../237575/index.html">Patching Linux processes on the fly with GDB</a></li>
<li><a href="../237577/index.html">The evolution of IT-infrastructure of our retail - consistent "molting"</a></li>
<li><a href="../237581/index.html">Review of the most interesting materials on high performance (September 15-21, 2014)</a></li>
<li><a href="../237583/index.html">Review of the most interesting materials on data analysis and machine learning ‚Ññ14 (September 15 - 21, 2014)</a></li>
<li><a href="../237585/index.html">Semi-automatic incrementing of the project version when working with GIT in Visual Studio</a></li>
<li><a href="../237589/index.html">Ultrafast speech recognition without servers using a real example</a></li>
<li><a href="../237593/index.html">ThinkPads and Windows 8.x</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>