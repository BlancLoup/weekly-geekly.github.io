<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing the Linux + server (Nginx + Apache) + PostgreSQL + PHP on VirtualBox (Ubuntu Server 16.04.3 LTS)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the Internet, I did not find a single recipe for installing and configuring such a rather non-standard server. I decided to write my own recipe. 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing the Linux + server (Nginx + Apache) + PostgreSQL + PHP on VirtualBox (Ubuntu Server 16.04.3 LTS)</h1><div class="post__text post__text-html js-mediator-article">  On the Internet, I did not find a single recipe for installing and configuring such a rather non-standard server.  I decided to write my own recipe. <br><br>  The principle of operation is as follows: <br><br><img src="https://hsto.org/getpro/habr/post_images/339/a61/2c1/339a612c14940c83a83bf8c245fadf97.jpg"><br>  Static data (files) gives Nginx, and the dynamics involved in Apache. <a name="habracut"></a><br>  Let's start. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We need: <br><br>  <a href="https://www.virtualbox.org/wiki/Downloads">Virtualbox</a> <br>  <a href="https://www.ubuntu.com/download/server">Ubuntu Server 16.04.3 LTS</a> (LTS - Long Time Support) <br>  <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTY</a> <br><br><h4>  Install VirtualBox </h4><br><ol><li>  Run the VirtualBox installer. <br><br><img src="http://i99.fastpic.ru/big/2018/0216/fd/09f2b4ab94224cddae1eead639b4bcfd.jpeg" alt="Install VirtualBox.  Step 1" title="Install VirtualBox.  Step 1"></li><li>  We will leave the default settings. <br><br><img src="http://i99.fastpic.ru/big/2018/0216/2f/da70a431720c8c48b771642699cae02f.jpeg" alt="Install VirtualBox.  Step 2" title="Install VirtualBox.  Step 2"><br><br><img src="http://i99.fastpic.ru/big/2018/0216/07/1f279c5e8dca1372f5288eae5d23a107.jpeg" alt="Install VirtualBox.  Step 3" title="Install VirtualBox.  Step 3"></li><li>  The installer will temporarily disconnect us from the network.  Click "Yes". <br><br><img src="http://i101.fastpic.ru/big/2018/0216/23/c0ad30237c54764a09f497f9f1b2c123.jpeg" alt="Install VirtualBox.  Step 4" title="Install VirtualBox.  Step 4"></li><li>  We start the installation. <br><img src="http://i103.fastpic.ru/big/2018/0216/f4/1232c23767559361d50a10f786d702f4.jpeg" alt="Install VirtualBox.  Step 5" title="Install VirtualBox.  Step 5"></li><li>  The finish. <br><br><img src="http://i102.fastpic.ru/big/2018/0216/3f/079076fa1c82e87bcedeb4db8da6263f.jpeg" alt="Install VirtualBox.  Step 6" title="Install VirtualBox.  Step 6"></li></ol><br><h4>  Prepare VirtualBox for installing Ubuntu Server 16.04.3 LTS </h4><br><ol><li>  Download the image of <u>ubuntu-16.04.3-server-amd64.iso</u> </li><li>  Create a virtual machine. <br><br><img src="http://i103.fastpic.ru/big/2018/0216/c5/2d365af1ebf9a09f67b7aa45b31641c5.jpeg" alt="Virtualbox" title="Virtualbox"></li><li>  Name: default_server <br>  Type: Linux <br>  Version: Ubuntu (64-bit) <br>  The amount of RAM: 2048 MB <br><blockquote>  Important: I have 8 GB of RAM, and in my case, two gigabytes will be enough.  You might be different ... </blockquote><br><br><img src="http://i103.fastpic.ru/big/2018/0216/0c/bcd61f7dc102cd8dc350429bf2a1de0c.jpeg" alt="Virtualbox" title="Virtualbox"><br>  Hard disk size: 15 GB <br>  We will leave other parameters by default. <br><br><img src="http://i99.fastpic.ru/big/2018/0216/4c/62008f34cd6fab6d829440694c98264c.jpeg" alt="Virtualbox" title="Virtualbox"><br>  Click "Create". <br></li><li>  Immediately configure the network. <br><br><img src="http://i102.fastpic.ru/big/2018/0216/9c/957b861cb0ba6da3571ee2450169339c.jpeg" alt="Virtualbox" title="Virtualbox"><br>  Change the connection type from NAT to Network Bridge. <br><br><img src="http://i101.fastpic.ru/big/2018/0216/36/18f88ee8509c7989f3ed40a7756d4d36.jpeg" alt="Virtualbox" title="Virtualbox"><br>  In the future, we will not engage in port forwarding. </li><li>  We start our car. <br><br><img src="http://i100.fastpic.ru/big/2018/0216/6d/96b4e5e780cc535245d373c4c7a9f06d.jpeg" alt="Virtualbox" title="Virtualbox"></li></ol><br><h4>  Installing Ubuntu Server 16.04.3 LTS </h4><br><ol><li>  Select the boot disk with the Ubuntu Server 16.04.3 LTS image. <br><br><img src="http://i100.fastpic.ru/big/2018/0216/99/e685bea4c3ab08fef44b19f9e36d3d99.jpeg" alt="Virtualbox" title="Virtualbox"></li><li>  We choose a convenient language, I have it Russian. <br><br><img src="http://i99.fastpic.ru/big/2018/0217/42/ef5680412158b99281859a7ea2d88542.jpg" alt="Installing Ubuntu Server 16.04.3 LTS (Step 1)" title="Installing Ubuntu Server 16.04.3 LTS (Step 1)"><br>  Click ‚ÄúEnter‚Äù. </li><li>  Choose "Install Ubuntu Server". <br><br><img src="http://i100.fastpic.ru/big/2018/0217/b3/ccbebdb2acdad8c4c6ed1d6255a4b1b3.jpeg" alt="Installing Ubuntu Server 16.04.3 LTS (Step 2)" title="Installing Ubuntu Server 16.04.3 LTS (Step 2)"></li><li>  Choose a country. <br><br><img src="http://i101.fastpic.ru/big/2018/0217/64/173408d287b36bf722ed280bca732664.jpeg" alt="Installing Ubuntu Server 16.04.3 LTS (Step 3)" title="Installing Ubuntu Server 16.04.3 LTS (Step 3)"><br><blockquote>  Important: Read the hint at the bottom of the screen. </blockquote></li><li>  I will not define the keyboard layout, I do not need it. <br><br><img src="http://i101.fastpic.ru/big/2018/0217/2d/e4d56fc1d28cf633e1ef55386b47112d.jpeg" alt="Installing Ubuntu Server 16.04.3 LTS (Step 4)" title="Installing Ubuntu Server 16.04.3 LTS (Step 4)"></li><li>  Select the country for which the keyboard is intended. <br><br><img src="http://i100.fastpic.ru/big/2018/0217/17/f6da831897152969acddb8b082aec217.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 5)" title="Installing Ubuntu Server 16.04.3 LTS (Step 5)"></li><li>  Choose a layout region. <br><br><img src="http://i101.fastpic.ru/big/2018/0217/d5/217e0ed2d18f08d5aaf5c37a667966d5.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 6)" title="Installing Ubuntu Server 16.04.3 LTS (Step 6)"></li><li>  Select the key combination to switch the language.  I feel comfortable through CTRL + <br>  SHIFT. <br><br><img src="http://i99.fastpic.ru/big/2018/0217/78/2bf6c9ab812477f9167ef9317e17e778.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 7)" title="Installing Ubuntu Server 16.04.3 LTS (Step 7)"></li><li>  Enter the name of the computer by which it will be known in the network. <br><br><img src="http://i102.fastpic.ru/big/2018/0217/ac/b5ba68a0288c12d8bd0ca9f29919f4ac.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 8)" title="Installing Ubuntu Server 16.04.3 LTS (Step 8)"></li><li>  Enter the admin name. <br><br><img src="http://i102.fastpic.ru/big/2018/0217/f6/37140f06b85e23d6012544dbef1bdaf6.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 9)" title="Installing Ubuntu Server 16.04.3 LTS (Step 9)"></li><li>  Enter the name of the admin account (Will be used as a login to log in). <br><br><img src="http://i102.fastpic.ru/big/2018/0217/9a/b3c8f65b4be9cc47c44a77c3dd9f059a.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 10)" title="Installing Ubuntu Server 16.04.3 LTS (Step 10)"></li><li>  Enter the password from the admin account. <br><br><img src="http://i102.fastpic.ru/big/2018/0217/e3/bfa614cb225b7e03ddb5a2581c7b0be3.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 11)" title="Installing Ubuntu Server 16.04.3 LTS (Step 11)"></li><li>  Repeat password. <br><br><img src="http://i102.fastpic.ru/big/2018/0217/dd/80e4e9f0ecd7569255833bb8d6eba0dd.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 12)" title="Installing Ubuntu Server 16.04.3 LTS (Step 12)"></li><li>  Why not..? <br><br><img src="http://i101.fastpic.ru/big/2018/0217/86/ea60f5a9bea1ee082def6cc11bf85b86.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 13)" title="Installing Ubuntu Server 16.04.3 LTS (Step 13)"></li><li>  Choose a time zone. <br><br><img src="http://i100.fastpic.ru/big/2018/0217/3d/3d25c7d3eb59cbcf4954d1cda98a703d.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 14)" title="Installing Ubuntu Server 16.04.3 LTS (Step 14)"></li><li>  Let the system automatically use the entire disk. <br><br><img src="http://i102.fastpic.ru/big/2018/0217/0b/10647fe3236d3375f64bbb6cd98e7f0b.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 15)" title="Installing Ubuntu Server 16.04.3 LTS (Step 15)"></li><li>  Disk for partitioning, choose the default. <br><br><img src="http://i99.fastpic.ru/big/2018/0217/2c/d83780e9fbe3ee3bbdb3ca53a07b872c.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 16)" title="Installing Ubuntu Server 16.04.3 LTS (Step 16)"></li><li>  Write the changes to disk. <br><br><img src="http://i101.fastpic.ru/big/2018/0217/76/199c731b7a0e0bb19ab356cacbdc2476.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 17)" title="Installing Ubuntu Server 16.04.3 LTS (Step 17)"></li><li>  We do not have a proxy, leave the field empty and continue. <br><br><img src="http://i103.fastpic.ru/big/2018/0217/aa/5786327d050a9eacc626c1424b7503aa.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 18)" title="Installing Ubuntu Server 16.04.3 LTS (Step 18)"></li><li>  Let the system install security updates by itself. <br><br><img src="http://i102.fastpic.ru/big/2018/0217/1f/a5c69ab8e086e141af970a30a6b73e1f.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 19)" title="Installing Ubuntu Server 16.04.3 LTS (Step 19)"></li><li>  Select the set of programs that will be installed with the system. <br>  We will have enough standard set and OpenSSH Server. <br><br><img src="http://i100.fastpic.ru/big/2018/0217/6d/fc0fd66257e40f43537780833c165b6d.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 20)" title="Installing Ubuntu Server 16.04.3 LTS (Step 20)"></li><li>  Install the main GRUB. <br><br><img src="http://i100.fastpic.ru/big/2018/0217/91/b6c12f47cef233725776d7d640fcb191.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 21)" title="Installing Ubuntu Server 16.04.3 LTS (Step 21)"></li><li> Great, almost done. <br><br><img src="http://i103.fastpic.ru/big/2018/0217/1a/479a4443a895fe10b7bed594eab9231a.jpeg" alt=" Ubuntu Server 16.04.3 LTS ( 22)" title="Installing Ubuntu Server 16.04.3 LTS (Step 22)"><br>  We need to remove the disk from the drive. <br>  Devices -&gt; Optical Discs -&gt; Remove Disk from Drive <br><br><img src="http://i100.fastpic.ru/big/2018/0217/33/5608504a4978906bec31f57a7dd57233.jpg" alt="VirtualBox" title="Virtualbox"><br>  Now click continue. </li><li> Great, Ubuntu Server is installed. <br><br><img src="http://i99.fastpic.ru/big/2018/0217/54/66896d8fce38fb5756c792e5f0173a54.jpeg" alt="Ubuntu Server 16.04.3 LTS" title="Ubuntu Server 16.04.3 LTS"><br>  Enter the username, followed by the password, get into the system, all okay. <br>  Turn off our car: <br> <code>poweroff</code> </li> <li>  Specifically, we leave this machine alone, and we will use it only for cloning. <br>  Clone our car: <br>  Enter the name. <br><br><img src="http://i102.fastpic.ru/big/2018/0217/e6/dfa3945fbc47f7bca5ec955def7945e6.jpeg" alt="VirtualBox" title="Virtualbox"><br>  We continue. <br>  We select the full cloning. <br><br><img src="http://i103.fastpic.ru/big/2018/0217/ab/9852ea5d6052850afff75ef99279a2ab.jpeg" alt="VirtualBox" title="Virtualbox"><br>  Click to clone.  My cloning lasted two minutes. </li></ol><br><h4>  Install PuTTY for SSH access </h4><br><ol><li>  Run the installation file. <br><br><img src="http://i101.fastpic.ru/big/2018/0217/da/82e238c6e93abc312d16e9670125d2da.jpeg" alt=" PuTTY ( 1)" title="Installing PuTTY (Step 1)"></li><li>  We will leave the default settings. <br><br><img src="http://i100.fastpic.ru/big/2018/0217/91/a1fea4bae583850149c4f615e9ddc791.jpeg" alt=" PuTTY ( 2)" title="Installing PuTTY (Step 2)"><br><br><img src="http://i103.fastpic.ru/big/2018/0217/a2/ad970eaf0bb6f018a3fc7f04d9748da2.jpeg" alt=" PuTTY ( 3)" title="Installing PuTTY (Step 3)"><br>  Click "Install". </li><li>  The finish. <br><br><img src="http://i100.fastpic.ru/big/2018/0217/79/04e2123edd8dcee72a1f78cc9e210c79.jpeg" alt=" PuTTY ( 4)" title="Installing PuTTY (Step 4)"></li></ol><br><h4>  Connection via SSH to server </h4><br><ol><li>  Run a clone of our machine to find out its ip address. <br>  Write the command: <br> <code>ifconfig</code> <br> <br><img src="http://i102.fastpic.ru/big/2018/0217/6a/b2b5be0c8bfb34a3c6846b4dbab5086a.jpeg"><br>  In the screenshot, I marked the place where your ip address will be written.  I have this: 192.168.0.103 (it can be changed while I wrote the article, I changed to 192.168.0.101). <br>  You can now log out of your account by writing: <br> <code>exit</code> <br> </li><li>  Go to PuTTY, enter the ip address, and the name for the saved session. <br><br><img src="http://i100.fastpic.ru/big/2018/0217/92/a78b2e9d137ac6ff774271bc7125dd92.jpeg" alt="PuTTY" title="PuTTY"><br>  Click "Save". <br></li><li>  Now, with a double click on the name of the saved session. <br><br><img src="http://i102.fastpic.ru/big/2018/0217/98/339a5743bc6e387d4ab14c1e8d24df98.jpeg" alt="PuTTY" title="PuTTY"><br>  We should observe the following: <br><br><img src="http://i100.fastpic.ru/big/2018/0217/65/f92be36d2215dc776af82d3b94ff2a65.jpeg" alt="PuTTY" title="PuTTY"><br>  Enter the username after the password. <br>  SSH connection is successfully configured, now you can start setting up (Nginx + Apache) + PostgreSQL + PHP. <br></li></ol><br><h4>  Install and configure (Nginx + Apache) + PostgreSQL + PHP </h4><br>  Go to superuser mode <br> <code>sudo su</code> <br>  Go to the root directory <br> <code>cd /</code> <br>  Add a PostgreSQL repository <br> <code>wget -q https://www.postgresql.org/media/keys/ACCC4CF8.asc -O - | sudo apt-key add -</code> <br> <br> <code>sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt/ `lsb_release -cs`-pgdg main" &gt;&gt; /etc/apt/sources.list.d/pgdg.list'</code> <br>  Add PHP Repository <br> <code>add-apt-repository ppa:ondrej/php</code> <br>  Make update <br> <code>apt-get update</code> <br>  Let's upgrade <br> <code>apt-get upgrade</code> <br>  My upgrade lasted five minutes. <br>  We are becoming python, we will need it later <br> <code>apt-get install python</code> <br>  Let's start installing Apache, PHP and PostgreSQL <br> <code>apt-get install apache2 php7.2 php7.2-cli php7.2-curl php7.2-fpm php7.2-pgsql postgresql postgresql-contrib postgresql-server-dev-10 libapache2-mod-rpaf build-essential apache2-dev</code> <br>  By default, PostgreSQL does not have single-byte and unsigned numbers, so we will install them. <br>  There is an extension for PostgreSQL, pguint - <a href="https://github.com/petere/pguint">github.com/petere/pguint</a> <br> <code>git clone https://github.com/petere/pguint.git /pguint</code> <br>  Go to the created directory <br> <code>cd /pguint</code> <br>  Now we need to compile this extension (here we need python, which we installed earlier). <br> <code>make</code> <br> <br> <code>make install</code> <br>  Now, to the PostgreSQL server, in the correct database, where we want to use unsigned and single-byte numbers, we will send: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> EXTENSION uint;</code> </pre> <br>  Back to root <br> <code>cd /</code> <br>  Install Nginx, but stop Apache before that, so that it does not occupy port 80, otherwise Nginx will not install. <br> <code>service apache2 stop</code> <br>  Nginx installation <br> <code>apt-get install nginx</code> <br>  Great, now stop and nginx <br> <code>service nginx stop</code> <br>  Apache setup <br> <code>a2dismod mpm_event <br> <br> a2enmod mpm_worker <br> <br> a2enmod proxy_fcgi <br> <br> a2enconf php7.2-fpm</code> <br>  Change Apache Port <br> <code>nano /etc/apache2/ports.conf</code> <br>  Replace <br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">Listen</span></span></span></span> 80</code> </pre> <br>  on <br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">Listen</span></span></span></span> 127.0.0.1:8080</code> </pre> <br>  127.0.0.1 - means that Apache can only be accessed by local address. <br>  8080 - you can put any free port. <br>  Go to the folder with the available sites. <br> <code>cd /etc/apache2/sites-available</code> <br>  Create a configuration file for our pollack <br> <code>nano domain-name.local.conf</code> <br>  And bring it to this form: <br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;VirtualHost 127.0.0.1:8080&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">ServerName</span></span></span></span> domain-name.local ServerAlias www.domain-name.local ServerAdmin admin@domain-name.local DocumentRoot /var/www/domain-name.local ErrorLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/domain-name.local_error.log CustomLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/domain-name.local_access.log vhost_combined &lt;/VirtualHost&gt;</code> </pre> <br>  Let's see what we have in / var / www <br> <code>cd /var/www/ <br> <br> ls -F</code> <br>  Folder html, we no longer need, delete it along with the contents <br> <code>rm -R html</code> <br>  Create your own folder with your site. <br> <code>mkdir domain-name.local/</code> <br>  Go to the folder with our site <br> <code>cd domain-name.local/</code> <br>  Create an index.pnp document <br> <code>nano index.php</code> <br>  We write in it: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> phpinfo(); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br>  With this, we are finished. <br>  Back to root <br> <code>cd /</code> <br>  In apache, it costs rpaf 0.6 and it does not transmit / receive a port from nginx and does not work correctly as it should.  Therefore, it must be updated. <br> <code>wget -O rpaf_v0.8.4.tar.gz https://github.com/gnif/mod_rpaf/archive/v0.8.4.tar.gz <br> <br> gunzip rpaf_v0.8.4.tar.gz <br> <br> tar xvf rpaf_v0.8.4.tar <br> <br> cd mod_rpaf-0.8.4/</code> <br>  Now compile <br> <code>make <br> <br> make install</code> <br>  We leave in the root directory <br> <code>cd /</code> <br>  Ok, let's continue Apache setup. <br> <code>nano /etc/apache2/apache2.conf</code> <br>  Replace <br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">LogFormat</span></span> <span class="hljs-string"><span class="hljs-string">"%v:%p %h %l %u %t \"%r\" %&gt;s %O \"%{Referer}i\" \"%{User-Agent}i\""</span></span> vhost_combined</code> </pre> <br>  on <br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">LogFormat</span></span> <span class="hljs-string"><span class="hljs-string">"%v:%p %{X-Forwarded-For}i %l %u %t \"%r\" %&gt;s %O \"%{Referer}i\" \"%{User-Agent}i\""</span></span> vhost_combined</code> </pre> <br>  Put in order rpaf.conf <br> <code>nano /etc/apache2/mods-available/rpaf.conf</code> <br>  We give it to this form: <br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;IfModule rpaf_module&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">RPAF_Enable</span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span> RPAF_ProxyIPs 127.0.0.1 ::1 RPAF_SetHostName <span class="hljs-literal"><span class="hljs-literal">On</span></span> RPAF_SetHTTPS <span class="hljs-literal"><span class="hljs-literal">On</span></span> RPAF_SetPort <span class="hljs-literal"><span class="hljs-literal">On</span></span> RPAF_ForbidIfNotProxy <span class="hljs-literal"><span class="hljs-literal">Off</span></span> RPAF_Header X-Forwarded-For &lt;/IfModule&gt;</code> </pre> <br>  We include our site in Apache. <br> <code>a2ensite domain-name.local.conf</code> <br>  And run our Apache. <br> <code>service apache2 start</code> <br>  C Apache done. <br>  Configure Nginx <br> <code>nano /etc/nginx/sites-available/domain-name.local</code> <br>  Bring to this view: <br><pre> <code class="nginx hljs"><span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> [::]:<span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /var/www/domain-name.local; <span class="hljs-attribute"><span class="hljs-attribute">index</span></span> index.php index.html index.htm; <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> domain-name.local www.domain-name.local; <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://127.0.0.1:8080; <span class="hljs-attribute"><span class="hljs-attribute">proxy_redirect</span></span> <span class="hljs-literal"><span class="hljs-literal">off</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Host <span class="hljs-variable"><span class="hljs-variable">$host</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> X-Real-IP <span class="hljs-variable"><span class="hljs-variable">$remote_addr</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> X-Forwarded-For <span class="hljs-variable"><span class="hljs-variable">$proxy_add_x_forwarded_for</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> X-Forwarded-Proto <span class="hljs-variable"><span class="hljs-variable">$scheme</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass_header</span></span> Set-Cookie; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~ /\.ht</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">deny</span></span> all; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~* \.(ico|docx|doc|xls|xlsx|rar|zip|jpg|jpeg|txt|xml|pdf|gif|png|css|js|html)$</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /var/www/domain-name.local; } <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> Strict-Transport-Security <span class="hljs-string"><span class="hljs-string">"max-age=63072000; includeSubDomains; preload"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> Content-Security-Policy <span class="hljs-string"><span class="hljs-string">"block-all-mixed-content"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> X-Frame-Options <span class="hljs-string"><span class="hljs-string">"SAMEORIGIN"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> X-XSS-Protection <span class="hljs-string"><span class="hljs-string">"1; mode=block"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">add_header</span></span> X-Content-Type-Options <span class="hljs-string"><span class="hljs-string">"nosniff"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">resolver</span></span> <span class="hljs-number"><span class="hljs-number">8.8.8.8</span></span>; }</code> </pre> <br>  Now create a symbolic link to this file. <br> <code>ln -s /etc/nginx/sites-available/domain-name.local /etc/nginx/sites-enabled/domain-name.local</code> <br>  Edit / etc / nginx / sites-available / default <br> <code>nano /etc/nginx/sites-available/default</code> <br>  Remove the default_server. <br>  And insert the redirect from www.  and ip <br><pre> <code class="nginx hljs"><span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> [::]:<span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> www.domain-name.local; <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">301</span></span> http://domain-name.local<span class="hljs-variable"><span class="hljs-variable">$request_uri</span></span>; } <span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> [::]:<span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> <span class="hljs-number"><span class="hljs-number">192.168.0.101</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">301</span></span> http://domain-name.local<span class="hljs-variable"><span class="hljs-variable">$request_uri</span></span>; }</code> </pre> <br>  Run Nginx. <br> <code>service nginx start</code> <br>  Great, we can check how it works. <br>  But before this, edit the host file C: \ Windows \ System32 \ drivers \ etc <br>  Open the hosts file through a text editor, and insert it in the bottom: <br> <code>192.168.0.101 domain-name.local <br> 192.168.0.101 www.domain-name.local</code> <br>  Replacing ip and domain with your own. <br>  In the browser, go to <a href="http://domain-name.local/">domain-name.local</a> , and if you did everything with this recipe, we should see a page with phpinfo. <br>  Well, it remains for small. <br>  Configure PostgreSQL. <br>  Create a new PostgreSQL user <br> <code>sudo -u postgres createuser --superuser test-user</code> <br>  Let's go to the DBMS <br> <code>sudo -u postgres psql</code> <br>  And change the new user password <br> <code>\password test-user</code> <br>  Now the new user needs to change the connection type, for this we need to find the pg_hba.conf file. <br>  We write <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SHOW</span></span> hba_file;</code> </pre> <br><img src="http://i103.fastpic.ru/big/2018/0217/d7/70f536a8c203b08b7c1aea47ea9575d7.jpg"><br>  Leaving DBMS <br> <code>\q</code> <br>  And we start to edit /etc/postgresql/10/main/pg_hba.conf <br> <code>nano /etc/postgresql/10/main/pg_hba.conf</code> <br>  Are looking for <br> <code># Database administrative login by Unix domain socket</code> <br>  Find the following: <br> <code># Database administrative login by Unix domain socket <br> local all postgres peer</code> <br>  We lead to this form: <br> <code># Database administrative login by Unix domain socket <br> local all postgres peer <br> local all test-user md5</code> <br>  Reload PostgreSQL <br> <code>service postgresql restart</code> <br>  Now we will enter the DBMS through a new user. <br> <code>psql test-user -h 127.0.0.1 -d postgres</code> <br>  Enter the password, and get into the database. <br>  Create a test database <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> test_db;</code> </pre> <br>  And immediately go into it <br> <code>\c test_db</code> <br>  Let's connect the pguint extension <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> EXTENSION uint;</code> </pre> <br>  And create a test pattern. <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> test_tb( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> uint4 PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>, title <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span> );</code> </pre> <br>  Fill in the table with test data <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> test_tb(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, title) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'   1'</span></span>), (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'   2'</span></span>), (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'   3'</span></span>), (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'   4'</span></span>), (<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'   5'</span></span>), (<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'   6'</span></span>), (<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'   7'</span></span>), (<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-string"><span class="hljs-string">'   8'</span></span>), (<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">'   9'</span></span>), (<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'   10'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483642</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483642'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483643</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483643'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483644</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483644'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483645</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483645'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483646</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483646'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483647</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483647'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483648</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483648'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483649</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483649'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483650</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483650'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483651</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483651'</span></span>), (<span class="hljs-number"><span class="hljs-number">2147483652</span></span>, <span class="hljs-string"><span class="hljs-string">'   2147483652'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967286</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967286'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967287</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967287'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967288</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967288'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967289</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967289'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967290</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967290'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967291</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967291'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967292</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967292'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967293</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967293'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967294</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967294'</span></span>), (<span class="hljs-number"><span class="hljs-number">4294967295</span></span>, <span class="hljs-string"><span class="hljs-string">'   4294967295'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">RETURNING</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, title;</code> </pre> <br>  Let's look at the contents of the test_tb table. <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> test_tb;</code> </pre> <br>  Now we will try to display this data from php. <br>  Close the connection to the DBMS <br> <code>\q</code> <br>  Open /var/www/domain-name.local/index.php <br> <code>nano /var/www/domain-name.local/index.php</code> <br>  And we will result in the following form: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $dbh = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PDO(<span class="hljs-string"><span class="hljs-string">'pgsql:host=localhost port=5432 user=test-user dbname=test_db password=password'</span></span>); $test = $dbh-&gt;prepare(<span class="hljs-string"><span class="hljs-string">'SELECT * FROM test_tb;'</span></span>); $test-&gt;execute(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;pre&gt;"</span></span>; print_r($test-&gt;fetchAll(PDO::FETCH_ASSOC)); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;/pre&gt;"</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br>  Now check and make sure it works. <br><br><img src="http://i100.fastpic.ru/big/2018/0217/ea/be589251996222091a0d5b6b33adb5ea.jpeg"><br>  Great, we configured (Nginx + Apache) + PostgreSQL + PHP and it works fine. <br><h4>  Configure FTP site access </h4><br>  Install FTP server <br> <code>apt-get install vsftpd</code> <br>  Stop vsftpd before configuring <br> <code>service vsftpd stop</code> <br>  Open etc / vsftpd.conf <br> <code>nano etc/vsftpd.conf</code> <br>  Set / replace / switch the following parameters: <br><ol><li>  listen = YES </li><li>  listen_ipv6 = NO </li><li>  local_enable = YES </li><li>  write_enable = YES </li><li>  chroot_local_user = YES </li><li>  pam_service_name = ftp </li></ol><br>  Create a new user for access via FTP <br> <code>useradd -d /home/domain-name -s /sbin/nologin domain-name</code> <br>  Set a password for it <br> <code>passwd domain-name</code> <br>  Create a user's home directory <br> <code>mkdir -p /home/domain-name</code> <br>  Establish rights for her <br> <code>chmod aw /home/domain-name</code> <br>  Create a group for the user <br> <code>groupadd ftps</code> <br>  Add a user to the group <br> <code>usermod -G ftps domain-name</code> <br>  Change the owner of the directory <br> <code>chown -R domain-name:ftps /home/domain-name</code> <br>  Create a folder of our site <br> <code>mkdir /home/domain-name/domain-name.local</code> <br>  Change her owner <br> <code>chown -R domain-name:ftps /home/domain-name/domain-name.local</code> <br>  Mount our directories, open the file / etc / fstab <br> <code>nano /etc/fstab</code> <br>  At the bottom of the insert <br> <code>/var/www/domain-name.local /home/domain-name/domain-name.local none bind 0 0</code> <br>  Add owner /var/www/domain-name.local <br> <code>chown www-data:domain-name /var/www/domain-name.local/ -R</code> <br>  Assign rights <br> <code>find /var/www/domain-name.local -type d -exec chmod 775 {} \; <br> find /var/www/domain-name.local -type f -exec chmod 664 {} \;</code> <br>  And run vsftpd <br> <code>service vsftpd start</code> <br>  Check, I will use FileZilla. <br><br><img src="http://i102.fastpic.ru/big/2018/0218/ee/76307f9fff342cd208360ecb56f8fdee.jpg"><br>  All is well, try to create a directory. <br><br><img src="http://i102.fastpic.ru/big/2018/0218/c1/05e043354e3ca4cf5c1542d1b68ff5c1.jpg"><br>  Works. <br>  Set up a secure FTP connection. <br>  Stop vsftpd <br> <code>service vsftpd stop</code> <br>  Generate a certificate <br> <code>openssl req -x509 -nodes -days 720 -newkey rsa:2048 -keyout /etc/ssl/private/vsftpd.key -out /etc/ssl/private/vsftpd.pem</code> <br>  Here we enter everything that lice your heart's content <br><blockquote>  Country Name (2 letter code) [AU]: <br>  State or Province Name (full name) [Some-State]: <br>  Locality Name (eg, city) []: <br>  Organization Name (eg, company) [Internet Widgits Pty Ltd]: <br>  Organizational Unit Name (eg, section) []: <br>  Common Name (eg server FQDN or YOUR name) []: <br>  Email Address []: </blockquote><br>  Open etc / vsftpd.conf <br> <code>nano etc/vsftpd.conf</code> <br>  Install / add the following parameters: <br><ol><li>  ssl_enable = YES </li><li>  ssl_tlsv1 = YES </li><li>  ssl_sslv2 = NO </li><li>  ssl_sslv3 = NO </li><li>  rsa_cert_file = / etc / ssl / private / vsftpd.pem </li><li>  rsa_private_key_file = / etc / ssl / private / vsftpd.key </li><li>  allow_anon_ssl = NO </li><li>  force_local_data_ssl = YES </li><li>  force_local_logins_ssl = YES </li><li>  ssl_ciphers = HIGH </li></ol><br>  Save and run vsftpd <br> <code>service vsftpd start</code> <br>  Let's try <br><img src="http://i99.fastpic.ru/big/2018/0218/49/005b4c9b9131fec2735e95f0afbf7749.jpg"><br>  Hooray, everything works, you can start developing a web application. <br><br>  PS This recipe does not claim to be the only correct and ideal.  If something is missed or you have suggestions for adding this recipe, welcome to the comments, accept any criticism.  As my skills grow, this recipe will be supplemented and changed. </div><p>Source: <a href="https://habr.com/ru/post/351402/">https://habr.com/ru/post/351402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351390/index.html">Simple Kanban Board for Jira</a></li>
<li><a href="../351394/index.html">Mathematical model of a nuclear reactor fuel element</a></li>
<li><a href="../351396/index.html">Online flower shop, or how we screwed up on Valentine's Day</a></li>
<li><a href="../351398/index.html">Rewrite the application under Blockchain</a></li>
<li><a href="../351400/index.html">About probabilities</a></li>
<li><a href="../351404/index.html">Richard Hamming: Chapter 6. Artificial Intelligence - 1</a></li>
<li><a href="../351406/index.html">Arrays, pointers and other quantum phenomena around us</a></li>
<li><a href="../351408/index.html">FastTrack Training. "Network Basics". "Collaboration Software from Cisco." Eddie Martin December 2012</a></li>
<li><a href="../351410/index.html">A small library for the use of AI in Telegram chat bots</a></li>
<li><a href="../351412/index.html">Logging in Adaptivist ScriptRunner</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>