<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúOur application as a TARDIS: more inside than it seems from the outside‚Äù - Avito about mobile development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You don‚Äôt argue that Avito is paying attention to mobile development: they started using Kotlin long before it became fashionable, and speakers from t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúOur application as a TARDIS: more inside than it seems from the outside‚Äù - Avito about mobile development</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/cz/ds/1s/czds1snrasagp3kiq2vni2elmku.png"><br><br>  You don‚Äôt argue that <b>Avito is</b> paying attention to mobile development: they started using <b>Kotlin</b> long before it became fashionable, and speakers from this company regularly speak at our <b>Mobius</b> conference.  And on the eve of Moscow's Mobius, we asked two Avito employees: <b>Dmitry <a href="https://habrahabr.ru/users/divor/" class="user_link">divor</a> Voronin</b> told us about the experience of using Kotlin, and <b>Yegor <a href="https://habrahabr.ru/users/yourdestiny/" class="user_link">YourDestiny</a> Tolstoy</b> about mobile development in general. <br><a name="habracut"></a><br><h2>  Dmitry Voronin </h2><br><img src="https://habrastorage.org/webt/5o/4u/wa/5o4uwawo8aj4xwaijibqo462bdq.png" align="left">  <b>- Earlier you had a report on Kotlin and Rx, based on Avito's experience - what exactly do you do in the company?</b> <br><br>  - At the moment I am developing an infrastructure for auto-testing as part of a special team organized to shorten the release cycle of applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>- Now in the Android world, everyone fell in love with Kotlin, but Avito started using it much earlier - and from what moment?</b> <br><br>  - The first class at Kotlin in Avito appeared in the area of ‚Äã‚ÄãDecember 2014.  Later, in 2015, we decided to write all new Android application code on Kotlin.  So, we have been using Kotlin since the beta days. <br><br>  <b>- What initially prompted him to use?</b>  <b>Avito is actively using the mobile development of Square, where the big Kotlin enthusiast Jake Wharton worked - did it have any impact?</b> <br><br>  - In 2014, it seemed that Java 6 would be with us to the end.  At that time, Google did not disclose any plans.  After writing a dozen classes on Kotlin in an existing project, a glance at a bunch of Java + Guava instantly caused dismay.  More readable code, plus code with more strict typing, plus interop with the existing code - it looked like a win-win situation. <br><br>  Jake and other evangelicals certainly had a great influence in pushing for this decision.  It was very interesting to re-read his <a href="https://docs.google.com/document/d/1ReS3ep-hjxWA8kZi0YqDbEhCqTt29hG8P44aA9W0DM8">landmark post</a> . <br><br>  <b>- How much has changed in the Kotlin-development for the time that you use the language?</b>  <b>How much more comfortable it became, and did you regularly ‚Äúre-learn‚Äù?</b> <br><br>  - Yes, a lot has changed, it has become noticeably more comfortable to work with Kotlin.  We started when there was no incremental compilation for the Gradle projects, the code formatting settings were from several checkboxes, we had to turn off inspections, because of which IDE slowed down.  Now it's all in the past. <br><br>  We are trying to use new language features as they become available, however, we haven‚Äôt yet incorporated coroutines and immutable collections into the project, but I think it will soon appear.  Such changes are not rolled out at once to the whole project, but gradually penetrate the code base.  All have time to get used to and discuss the feasibility and pitfalls. <br><br>  I have to retrain mostly when you open the Java source: every time I forget to put a semicolon at the end of the line;) <br><br>  <b>- And can you single out the "underwater stone" of Kotlin, to which you want to draw the attention of those who are just thinking about using the language?</b> <br><br>  - I will clarify that we are talking about Android.  There are several: <br><br><ol><li>  Annotation processing (kapt) is an extremely unreliable part of Kotlin, to such an extent that in some modules we consciously abandoned all the tools working through code generation.  Until recently, they could only be used at their own peril and risk, but the situation is improving.  The Dagger bundle of 2 modules and component factories written in Java + annotationProcessor from Android plugin for Gradle, still works in our project more productively than kapt. </li><li>  Tooling around Kotlin is still lagging behind Java in many key aspects.  The most painful is the lack of static analyzers (Android Lint only in the next version will learn to look at Kotlin source files), and Lint‚Äôs built-in support for Lint opens up new challenges for launching into CI and has a number of unpleasant bugs. </li><li>  Performance: Kotlin plugin on large projects leaves much to be desired.  Issues on this topic close every new release, but Java is still far away. </li></ol><br>  Artur Dremov has an excellent <a href="https://speakerdeck.com/arturdryomov/kotlin-max-payne-bkug-july-2017">overview of</a> these and other shortcomings. <br><br>  <b>- How did official Google support affect the use of Kotlin - what did you see in the community before Google I / O, and what after?</b> <br><br>  - We organized a <a href="https://www.youtube.com/watch%3Fv%3D8u4fZ1z4X-w">meeting of Android-developers</a> with the participation of Dmitry Zhemerov in the 2016th, and it was evident that people want to try a new language in their projects, but the uncertainty stopped many.  I think Google support has opened this way for many. <br><br>  There was a certain foundation of confidence.  If JetBrains didn‚Äôt have any doubts, the fork from Intellij IDEA called Android Studio was going away (a little bit of instant run magic here, a bit of hardcode in the classpath here ...) and it seemed that Kotlin support would not keep up behind it.  Now you can exhale. <br><br>  <b>- Now Android Studio 3.0 has come out of the box with Kotlin support and other innovations - does this release significantly change for you or not?</b> <br><br>  - I honestly did not notice anything.  It looks as if they added the Kotlin IDE plugin, which is outdated for a couple of releases of the version, to the list of pre-installed ones. <br><br>  Major changes await us in version 3.1 with the first Android Lint support for Kotlin files. <br><br>  <b>- Recently there was a <a href="https://realm.io/realm-report/">forecast</a> that at the end of 2018, Android applications would be more likely to write on Kotlin than on Java - how much do you believe in such a forecast, and what do you expect from Kotlin in the future?</b> <br><br>  - The forecast is quite realistic, I do not see any obstacles.  More Kotlin support will appear in popular libraries (nullability annotations in the android support library are a great example). <br><br>  It is already known that in Kotlin versions 1.2 and 1.3, developers have focused on compiler performance and development tools, there are few changes in the language.  For me, this is a good sign: problem areas are catching up. <br><br>  I look at Kotlin / Native with interest, however, in our realities I doubt that we will be the first to seize code between platforms.  Waiting for success stories from fellow hipsters! <br><br><h2>  Yegor Tolstoy </h2><br><img src="https://habrastorage.org/webt/rz/ta/uf/rztaufc5bi2a8k_jwrtzkhwwqdi.png" align="left">  <b>- What do you do in Avito?</b> <br><br>  ‚ÄúOver the past year, I was responsible for Avito‚Äôs entire mobile development - building engineering culture, developing and implementing a team development strategy, responsible for the stability of our applications and the continuity of their releases.  At some point I began to use one simple metaphor in order not to indulge in long explanations.  If we imagine that mobile development is an excavator, then my role was to ensure that it worked properly, could dig without failures, and the fuel in the tank did not end. <br><br>  More recently, the situation has changed.  Now the responsibility for the technical development of all the platforms on which Avito - Web, Mobile Web, iOS and Android - is in my area of ‚Äã‚Äãresponsibility.  We are responsible for the release cycle of these platforms, the development of their architecture, the creation of useful tools for developers and a number of other projects.  If we return to the metaphor with an excavator, then, in addition to its maintenance, I now speak in the role of its driver. <br><br>  <b>- You are simultaneously conducting two telegram channels with links to texts: <a href="https://t.me/droidgr">Android Good Reads</a> and <a href="https://t.me/iosgr">iOS Good Reads</a> .</b>  <b>There is no stopping a half serious question: is the head not torn to actively follow the two worlds at once?</b>  <b>How do you live with it?</b> <br><br>  ‚ÄúYes, it‚Äôs not particularly difficult, I‚Äôm used to keeping all interesting links in Pocket and periodically reading them.‚Äù  Well, put in the channels of the most interesting not for long.  Although, of course, I look through many things diagonally, and if what I see seems to be potentially useful for subscribers, I also publish it. <br><br>  <b>- And for Avito mobile development as a whole, is a typical situation when a person simultaneously follows different worlds, or does a more typical separation reign?</b> <br><br>  - We have it all right cool.  Many developers do not get hung up only on their platform and language, and if they wish or need help their colleagues.  It happens that the mobile developer himself writes the backend for his task, it happens and vice versa. <br><br>  We strongly believe in the importance of T-shaped skills and the fact that for really cool developers, changing the language and frameworks is not a problem. <br><br>  <b>- In addition to the telegram channels, you participate in the Podcast podcast, spoke at Mobius as a speaker, now you participate in its program committee - is this all ‚Äújust for yourself‚Äù, or do you feel that it has a beneficial effect on your work?</b> <br><br>  - Basically for myself - I am really interested in doing this, this is a hobby that brings high.  Everything else is more likely to go with a cool bonus. <br>  It is impossible to deny the importance of all this for their professional development.  Particularly distinguished is the participation in the podcast, thanks to which I get acquainted every week with someone who is a lot steeper than me, and learn from him some of the knowledge and skills. <br><br>  <b>- You spoke about code review, and how does this process look specifically in Avito?</b> <br><br>  - Work on Avito runs in parallel in several dozen teams, each of which is responsible for a certain part of the product functionality or the satisfaction of some user needs.  Each team is as independent as possible and is fully responsible for the quality and timing of the implementation of its features.  To eliminate dependence on other people at the code review stage, we try to close this process within one team. <br><br>  This is one side of code review.  The other is that after all we are sawing one product, which is why there are often situations when guys from one team have to make changes to the code for which the other is responsible.  To prevent chaos, we are actively developing a system for automatically detecting code owners and the ability to subscribe to changes in certain files, modules or folders.  Thanks to this, those who should be aware of the changes that have taken place will not miss them. <br><br>  <b>- From the side it may seem that Avito requires a simple application (roughly speaking, ‚Äútake the catalog and display‚Äù), but if you delve into it, nuances are immediately revealed: for example, you wrote and <a href="https://habrahabr.ru/company/avito/blog/326774/">opened</a> your own Paparazzo mediapicker.</b>  <b>Can you give more examples of unobvious tasks?</b> <br><br>  - I love these stories about "simple applications."  In Uber there is generally one screen, and more than a hundred mobile developers are working on it.  The Avito application as a TARDIS: inside is much more than it seems at first glance outside. <br><br>  We like to talk about interesting tasks that we encounter in our work.  A few examples: <br><br><ul><li>  Lesha Shpirko, <a href="https://www.youtube.com/watch%3Fv%3DJGBxXxV1APs">backend driven UI</a> </li><li>  Timur Yusipov, <a href="https://www.youtube.com/watch%3Fv%3Dh6c4IkZxFZY">working with diplinks</a> </li><li>  Artem Razinov and Inessa Voronina, <a href="https://www.youtube.com/watch%3Fv%3DDozi46_dfKw">mobile design system</a> </li></ul><br>  Our two teams, Mobile Architecture and Mobile Speed, are closely involved in the technical development of mobile development.  Here they have almost every day get up to nontrivial chellendzhi - modular architecture, component tests, release automation, compilation acceleration and much more.  And about all of this, we too will soon tell. <br><br>  <b>- You are on the Mobius Program Committee, and have already seen the reports at the rehearsals - would you like to draw the attention of the conference participants to a specific report that should not be missed?</b> <br><br>  - It is clear that I first recommend going to the <a href="https://mobiusconf.com/2017/msk/talks/2zbpb5p9awemu42sucew2o/">report of</a> Max Sokolov from Avito.  He shares a very cool experience creating a mobile messenger, which can be useful to developers in other products.  To Gleb Novik, also look.  Not because he also runs our podcast, but because of his <a href="https://mobiusconf.com/2017/msk/talks/2bu0yhbp3kqui0eyu08u84/">report</a> .  The implementation of the service layer on operations is a bomb, I used this approach very actively and got a lot of profit. <br><br>  Anyway, all the reports we have are very cool.  The selection was as tough as possible, and what remains in the program is really the best of the best.  I initially strongly believed in the story of Mobius in Moscow, and the current list of speakers and their reports confirm future success. <br><br>  <b>- Thank!</b>  <b>We will wait for you at Moscow <a href="https://mobiusconf.com/">Mobius</a> , but for now we will remind readers of your report on code review from Petersburg:</b> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/RFGiRuLERmc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/342118/">https://habr.com/ru/post/342118/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342108/index.html">Guide to creating your own cohort recurrence report</a></li>
<li><a href="../342110/index.html">4 words</a></li>
<li><a href="../342112/index.html">Do not touch the logs with your hands. Part 2: How we implemented Unified Logfile Analyzer</a></li>
<li><a href="../342114/index.html">Agile Turkey Summit 2017, and such controversial "internationalism" of the event</a></li>
<li><a href="../342116/index.html">Git in practice</a></li>
<li><a href="../342124/index.html">Java EE 8: A brief and very optimistic overview of new features.</a></li>
<li><a href="../342126/index.html">Centralized continuous deployment for the year</a></li>
<li><a href="../342128/index.html">New LISP features in nanoCAD 8.5</a></li>
<li><a href="../342130/index.html">Back to the future: how did Joker 2017 go</a></li>
<li><a href="../342132/index.html">Swift and TensorFlow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>