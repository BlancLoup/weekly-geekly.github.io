<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to find a line in CEE dump in which the program crashes on the mainframe</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once I had to learn working in C ++ with the mainframe, and there was a problem how to figure out where the program crashes and what is the reason. At...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to find a line in CEE dump in which the program crashes on the mainframe</h1><div class="post__text post__text-html js-mediator-article">  Once I had to learn working in C ++ with the mainframe, and there was a problem how to figure out where the program crashes and what is the reason.  At once I make a reservation that everything relates to programming on mainframes under the z / OS operating system in the USS.  On the one hand, we get elementary, but it's not so easy to find all this in the IBM documentation.  In addition, you must at least be able to read HLASM. <br><br>  In the document below, I will try to describe how to find a line using the CEE dump in which the program crashes. <br><a name="habracut"></a><br>  Below is a short program that is written so that it will definitely fall as soon as it is launched.  I did not complicate the program, and for C ++ programmers it will seem too simple, but the task is not to immediately find the error in the code, but to come to it through the listings.  In reality, the program is much larger and longer. <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *value = <span class="hljs-number"><span class="hljs-number">0L</span></span>; value[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ f1(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To find a string, you need to compile the program with the listing, it is done this way. <br><br>  1. without XPLINK <br><pre> <code class="bash hljs">c++ -Wc,list<span class="hljs-string"><span class="hljs-string">'(t1.list)'</span></span> -c t1.C c++ -o t1 t1.o</code> </pre> <br><br>  2. with XPLINK <br><pre> <code class="bash hljs">c++ -Wc,xplink -Wc,list<span class="hljs-string"><span class="hljs-string">'(t2.list)'</span></span> -c t1.C c++ -Wl,xplink -o t2 t1.o</code> </pre> <br><br>  The key is -Wc, list '(t1.list)', it makes generate a listing for this file. <br>  In the makefile this is added like this. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Here is where we get convlit(iso8859-1) and __LIBASCII # XCCFLAGS = $(CCFLAGS_ASCII) -Wc,list'($*.list)' XCPPFLAGS = $(CPPFLAGS_ASCII) -Wc,list'($*.list)'</span></span></code> </pre> <br><br>  The first line for C programs, the second in C ++. <br>  Run the program, received a dump and messages below. <br><br><pre> <code class="hljs pgsql">/u/mddegt/sb/omni/cpp/test:&gt;t1 CEE3204S The <span class="hljs-keyword"><span class="hljs-keyword">system</span></span> detected a protection <span class="hljs-keyword"><span class="hljs-keyword">exception</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">System</span></span> Completion Code=<span class="hljs-number"><span class="hljs-number">0</span></span>C4). <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> entry <span class="hljs-type"><span class="hljs-type">point</span></span> f1(<span class="hljs-type"><span class="hljs-type">int</span></span>,<span class="hljs-type"><span class="hljs-type">char</span></span>*) at compile unit <span class="hljs-keyword"><span class="hljs-keyword">offset</span></span> +<span class="hljs-number"><span class="hljs-number">0000002</span></span>A at entry <span class="hljs-keyword"><span class="hljs-keyword">offset</span></span> +<span class="hljs-number"><span class="hljs-number">0000002</span></span>A at address <span class="hljs-number"><span class="hljs-number">1000</span></span>A95A. Segmentation fault /u/mddegt/sb/omni/cpp/test:&gt;t2 CEE3204S The <span class="hljs-keyword"><span class="hljs-keyword">system</span></span> detected a protection <span class="hljs-keyword"><span class="hljs-keyword">exception</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">System</span></span> Completion Code=<span class="hljs-number"><span class="hljs-number">0</span></span>C4). <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> entry <span class="hljs-type"><span class="hljs-type">point</span></span> f1(<span class="hljs-type"><span class="hljs-type">int</span></span>,<span class="hljs-type"><span class="hljs-type">char</span></span>*) at compile unit <span class="hljs-keyword"><span class="hljs-keyword">offset</span></span> +<span class="hljs-number"><span class="hljs-number">00000016</span></span> at entry <span class="hljs-keyword"><span class="hljs-keyword">offset</span></span> +<span class="hljs-number"><span class="hljs-number">00000016</span></span> at address <span class="hljs-number"><span class="hljs-number">100063</span></span>D6. Segmentation fault</code> </pre> <br><br>  If you don‚Äôt go into details, then we already have the information we need.  We see that the program fell in the f1 function, and we have an offset.  Now we need a listing that is generated in the same directory as the source (t1.list, t2.list. T1 for a program without XPLINK, and t2 for a program with XPLINK). <br><br>  In the listing look for the beginning of the function in which the program fell. <br><br>  1. without XPLINK <br><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">15694</span></span>A01 V1 R6 z/OS C++ t1.C: f1(<span class="hljs-type"><span class="hljs-type">int</span></span>,<span class="hljs-type"><span class="hljs-type">char</span></span>*) <span class="hljs-number"><span class="hljs-number">02</span></span>/<span class="hljs-number"><span class="hljs-number">14</span></span>/<span class="hljs-number"><span class="hljs-number">06</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">42</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OFFSET</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OBJECT</span></span> CODE <span class="hljs-type"><span class="hljs-type">LINE</span></span># FILE# PSEUDOASSEMBLYLISTING <span class="hljs-number"><span class="hljs-number">000001</span></span> | * <span class="hljs-type"><span class="hljs-type">void</span></span> f1(); <span class="hljs-number"><span class="hljs-number">000002</span></span> | * <span class="hljs-number"><span class="hljs-number">000003</span></span> | * <span class="hljs-type"><span class="hljs-type">int</span></span> f1(<span class="hljs-type"><span class="hljs-type">int</span></span> a, <span class="hljs-type"><span class="hljs-type">char</span></span> *b) f1(<span class="hljs-type"><span class="hljs-type">int</span></span>,<span class="hljs-type"><span class="hljs-type">char</span></span>*) <span class="hljs-number"><span class="hljs-number">000018</span></span> <span class="hljs-number"><span class="hljs-number">000003</span></span> | DS <span class="hljs-number"><span class="hljs-number">0</span></span>D <span class="hljs-number"><span class="hljs-number">000018</span></span> <span class="hljs-number"><span class="hljs-number">47</span></span>F0 F001 <span class="hljs-number"><span class="hljs-number">000003</span></span> | B <span class="hljs-number"><span class="hljs-number">1</span></span>(,r15) <span class="hljs-number"><span class="hljs-number">00001</span></span>C <span class="hljs-number"><span class="hljs-number">01</span></span>C3C5C5 CEE eyecatcher <span class="hljs-number"><span class="hljs-number">000020</span></span> <span class="hljs-number"><span class="hljs-number">000000</span></span>C8 DSA size <span class="hljs-number"><span class="hljs-number">000024</span></span> <span class="hljs-number"><span class="hljs-number">000000</span></span>D8 =A(PPA1-f1(<span class="hljs-type"><span class="hljs-type">int</span></span>,<span class="hljs-type"><span class="hljs-type">char</span></span>*)) <span class="hljs-number"><span class="hljs-number">000028</span></span> <span class="hljs-number"><span class="hljs-number">5050</span></span> D028 <span class="hljs-number"><span class="hljs-number">000003</span></span> | ST r5,<span class="hljs-number"><span class="hljs-number">40</span></span>(,r13) <span class="hljs-number"><span class="hljs-number">00002</span></span>C <span class="hljs-number"><span class="hljs-number">5850</span></span> D04C <span class="hljs-number"><span class="hljs-number">000003</span></span> | L r5,<span class="hljs-number"><span class="hljs-number">76</span></span>(,r13) <span class="hljs-number"><span class="hljs-number">000030</span></span> <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Prolog</code> </pre> <br><br>  2. with XPLINK <br><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">15694</span></span>A01 V1 R6 z/OS C++ t1.C: f1(<span class="hljs-type"><span class="hljs-type">int</span></span>,<span class="hljs-type"><span class="hljs-type">char</span></span>*) <span class="hljs-number"><span class="hljs-number">02</span></span>/<span class="hljs-number"><span class="hljs-number">14</span></span>/<span class="hljs-number"><span class="hljs-number">06</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OFFSET</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OBJECT</span></span> CODE <span class="hljs-type"><span class="hljs-type">LINE</span></span># FILE# PSEUDOASSEMBLYLISTING <span class="hljs-number"><span class="hljs-number">000001</span></span> | * <span class="hljs-type"><span class="hljs-type">void</span></span> f1(); <span class="hljs-number"><span class="hljs-number">000002</span></span> | * <span class="hljs-number"><span class="hljs-number">000003</span></span> | * <span class="hljs-type"><span class="hljs-type">int</span></span> f1(<span class="hljs-type"><span class="hljs-type">int</span></span> a, <span class="hljs-type"><span class="hljs-type">char</span></span> *b) <span class="hljs-number"><span class="hljs-number">000018</span></span> @<span class="hljs-number"><span class="hljs-number">1</span></span>L0 DS <span class="hljs-number"><span class="hljs-number">0</span></span>D <span class="hljs-number"><span class="hljs-number">000018</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>C300C5 =F<span class="hljs-string"><span class="hljs-string">'12779717'</span></span> XPLink entrypoint marker <span class="hljs-number"><span class="hljs-number">00001</span></span>C <span class="hljs-number"><span class="hljs-number">00</span></span>C500F1 =F<span class="hljs-string"><span class="hljs-string">'12910833'</span></span> <span class="hljs-number"><span class="hljs-number">000020</span></span> <span class="hljs-number"><span class="hljs-number">00000090</span></span> =F<span class="hljs-string"><span class="hljs-string">'144'</span></span> <span class="hljs-number"><span class="hljs-number">000024</span></span> <span class="hljs-number"><span class="hljs-number">00000088</span></span> =F<span class="hljs-string"><span class="hljs-string">'136'</span></span> f1(<span class="hljs-type"><span class="hljs-type">int</span></span>,<span class="hljs-type"><span class="hljs-type">char</span></span>*) <span class="hljs-number"><span class="hljs-number">000028</span></span> <span class="hljs-number"><span class="hljs-number">000003</span></span> | DS <span class="hljs-number"><span class="hljs-number">0</span></span>D <span class="hljs-number"><span class="hljs-number">000028</span></span> <span class="hljs-number"><span class="hljs-number">9067</span></span> <span class="hljs-number"><span class="hljs-number">4788</span></span> <span class="hljs-number"><span class="hljs-number">000003</span></span> | STM r6,r7,<span class="hljs-number"><span class="hljs-number">1928</span></span>(r4) <span class="hljs-number"><span class="hljs-number">00002</span></span>C <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Prolog</code> </pre> <br><br>  The first column is the offset, the first is the code that was generated, the third is the row number in the source file. <br>  As you can see, a simple program, without XPLINK, starts immediately, and it got an offset of 000018, and the function with XPLINK first comes the header (blue), and then the program, and it starts with offset 000028. Thus, we calculated the initial offset of the function.  Now we add the offset to the initial offset where our program has fallen.  All calculations are in hexadecimal form. <br><br>  1. 18 + 2A = 42 <br>  2. 28 + 16 = 3E <br><br>  Now in the listing it remains to find the line in which everything fell.  To do this, we go down the function until we see the resulting offset.  At the same time it is necessary not to go beyond the function itself.  If you go beyond, then there may be several reasons for this: <br>  1. The source is different from the one that was when building the program. <br>  2. Somewhere in the calculations of the bias, we made a mistake and found it wrong. <br>  3. What we generally thought. <br><br>  one. <br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">000034</span></span> <span class="hljs-number"><span class="hljs-number">5020</span></span> <span class="hljs-number"><span class="hljs-number">50</span></span>C0 <span class="hljs-number"><span class="hljs-number">000003</span></span> | ST r2,b(,r5,<span class="hljs-number"><span class="hljs-number">192</span></span>) <span class="hljs-number"><span class="hljs-number">000004</span></span> | * { <span class="hljs-number"><span class="hljs-number">000005</span></span> | * .char *<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>L; <span class="hljs-number"><span class="hljs-number">000038</span></span> <span class="hljs-number"><span class="hljs-number">4110</span></span> <span class="hljs-number"><span class="hljs-number">0000</span></span> <span class="hljs-number"><span class="hljs-number">000005</span></span> | LA r1,<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">00003</span></span>C <span class="hljs-number"><span class="hljs-number">1821</span></span> <span class="hljs-number"><span class="hljs-number">000005</span></span> | LR r2,r1 <span class="hljs-number"><span class="hljs-number">00003</span></span>E <span class="hljs-number"><span class="hljs-number">5020</span></span> <span class="hljs-number"><span class="hljs-number">50</span></span>C4 <span class="hljs-number"><span class="hljs-number">000005</span></span> | ST r2,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>(,r5,<span class="hljs-number"><span class="hljs-number">196</span></span>) <span class="hljs-number"><span class="hljs-number">000006</span></span> | * .<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; <span class="hljs-number"><span class="hljs-number">000042</span></span> <span class="hljs-number"><span class="hljs-number">9200</span></span> <span class="hljs-number"><span class="hljs-number">2000</span></span> <span class="hljs-number"><span class="hljs-number">000006</span></span> | MVI (<span class="hljs-type"><span class="hljs-type">char</span></span>)(r2,<span class="hljs-number"><span class="hljs-number">0</span></span>),<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">000007</span></span> | * .<span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-number"><span class="hljs-number">000008</span></span> | * } <span class="hljs-number"><span class="hljs-number">000046</span></span> <span class="hljs-number"><span class="hljs-number">000008</span></span> | @<span class="hljs-number"><span class="hljs-number">1</span></span>L6 DS <span class="hljs-number"><span class="hljs-number">0</span></span>H</code> </pre> <br>  2 <br><pre> <code class="hljs pgsql"> <span class="hljs-number"><span class="hljs-number">000030</span></span> <span class="hljs-number"><span class="hljs-number">5020</span></span> <span class="hljs-number"><span class="hljs-number">4844</span></span> <span class="hljs-number"><span class="hljs-number">000003</span></span> | ST r2,b(,r4,<span class="hljs-number"><span class="hljs-number">2116</span></span>) <span class="hljs-number"><span class="hljs-number">000004</span></span> | * { <span class="hljs-number"><span class="hljs-number">000005</span></span> | * .char *<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>L; <span class="hljs-number"><span class="hljs-number">000034</span></span> <span class="hljs-number"><span class="hljs-number">4130</span></span> <span class="hljs-number"><span class="hljs-number">0000</span></span> <span class="hljs-number"><span class="hljs-number">000005</span></span> | LA r3,<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">000038</span></span> <span class="hljs-number"><span class="hljs-number">1813</span></span> <span class="hljs-number"><span class="hljs-number">000005</span></span> | LR r1,r3 <span class="hljs-number"><span class="hljs-number">00003</span></span>A <span class="hljs-number"><span class="hljs-number">5010</span></span> <span class="hljs-number"><span class="hljs-number">47E0</span></span> <span class="hljs-number"><span class="hljs-number">000005</span></span> | ST r1,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>(,r4,<span class="hljs-number"><span class="hljs-number">2016</span></span>) <span class="hljs-number"><span class="hljs-number">000006</span></span> | * .<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; <span class="hljs-number"><span class="hljs-number">00003</span></span>E <span class="hljs-number"><span class="hljs-number">9200</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span> <span class="hljs-number"><span class="hljs-number">000006</span></span> | MVI (<span class="hljs-type"><span class="hljs-type">char</span></span>)(r1,<span class="hljs-number"><span class="hljs-number">0</span></span>),<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">000007</span></span> | * .<span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-number"><span class="hljs-number">000008</span></span> | * } <span class="hljs-number"><span class="hljs-number">000042</span></span> <span class="hljs-number"><span class="hljs-number">000008</span></span> | @<span class="hljs-number"><span class="hljs-number">1</span></span>L6 DS <span class="hljs-number"><span class="hljs-number">0</span></span>H</code> </pre> <br>  In both cases, we got the same row number 6. Ignoring the assembler, we look at the row number in the 3rd column, 000006. If you wish, you can continue to search for an error in this listing, but I would go to the sources. <br><br>  Further I will not give 2 versions without XPLINK and with XPLINK, I will be limited to the first. <br><br>  If we did not have the stderr output with the information that was higher (I mean the output of the error message), then the same can be found in the CEE dump file.  To do this, open the CEE dump and look for the very first table. <br><br><pre> <code class="hljs pgsql"> Traceback: DSA Addr Program Unit PU Addr PU <span class="hljs-keyword"><span class="hljs-keyword">Offset</span></span> Entry E Addr E <span class="hljs-keyword"><span class="hljs-keyword">Offset</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Statement</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Load</span></span> Mod Service Status <span class="hljs-number"><span class="hljs-number">10020</span></span>CF0 CEEHDSP <span class="hljs-number"><span class="hljs-number">046</span></span>C0B00 +<span class="hljs-number"><span class="hljs-number">000048</span></span>DA CEEHDSP <span class="hljs-number"><span class="hljs-number">046</span></span>C0B00 +<span class="hljs-number"><span class="hljs-number">000048</span></span>DA CEEPLPKA UK10749 <span class="hljs-keyword"><span class="hljs-keyword">Call</span></span> <span class="hljs-number"><span class="hljs-number">100202</span></span>B0 <span class="hljs-number"><span class="hljs-number">1000</span></span>A930 +<span class="hljs-number"><span class="hljs-number">0000002</span></span>A f1(<span class="hljs-type"><span class="hljs-type">int</span></span>,<span class="hljs-type"><span class="hljs-type">char</span></span>*) <span class="hljs-number"><span class="hljs-number">1000</span></span>A930 +<span class="hljs-number"><span class="hljs-number">0000002</span></span>A *PATHNAM <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> <span class="hljs-number"><span class="hljs-number">10020210</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span>A968 +<span class="hljs-number"><span class="hljs-number">0000006</span></span>E main <span class="hljs-number"><span class="hljs-number">1000</span></span>A968 +<span class="hljs-number"><span class="hljs-number">0000006</span></span>E *PATHNAM <span class="hljs-keyword"><span class="hljs-keyword">Call</span></span> <span class="hljs-number"><span class="hljs-number">100200</span></span>F8 <span class="hljs-number"><span class="hljs-number">044</span></span>EFCB6 +<span class="hljs-number"><span class="hljs-number">000000</span></span>B4 EDCZMINV <span class="hljs-number"><span class="hljs-number">044</span></span>EFCB6 +<span class="hljs-number"><span class="hljs-number">000000</span></span>B4 CEEEV003 <span class="hljs-keyword"><span class="hljs-keyword">Call</span></span> <span class="hljs-number"><span class="hljs-number">10020030</span></span> CEEBBEXT <span class="hljs-number"><span class="hljs-number">046</span></span>C69E8 +<span class="hljs-number"><span class="hljs-number">000001</span></span>A6 CEEBBEXT <span class="hljs-number"><span class="hljs-number">046</span></span>C69E8 +<span class="hljs-number"><span class="hljs-number">000001</span></span>A6 CEEPLPKA HLE7709 <span class="hljs-keyword"><span class="hljs-keyword">Call</span></span></code> </pre> <br>  In this table we look for Exception in the last row, this is our function where the program fell, in the Enrty column the name of the function, in the E Offset column the offset by which the program fell. <br><br>  In the same table, we see a full stack of functions (Entry column).  In the same way, we can determine which line of the calling function was the call to the called function. <br><br>  What to do if we do not see the code where the error is. <br><br>  To do this, we look at the CEE dump, the assembler code (a description of the assembly instructions for z / OS can be found in the Principal of Operation, chapter 7). <br><br><pre> <code class="hljs cs"> <span class="hljs-number"><span class="hljs-number">000006</span></span> | * .<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; <span class="hljs-number"><span class="hljs-number">000042</span></span> <span class="hljs-number"><span class="hljs-number">9200</span></span> <span class="hljs-number"><span class="hljs-number">2000</span></span> <span class="hljs-number"><span class="hljs-number">000006</span></span> | MVI (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)(r2,<span class="hljs-number"><span class="hljs-number">0</span></span>),<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  As you can see, this instruction tries to write 0 at the address (r2 + 0).  Instead of zero, there may be any other offset, but in this case 0. The question arises, what about the register r2. <br><br>  To do this, in the CEE dump there are printouts of registers and memory sections to which these registers point. <br><br><pre> <code class="hljs objectivec"> Condition Information <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Active Routines Condition Information <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (DSA address <span class="hljs-number"><span class="hljs-number">100202</span></span>B0) <span class="hljs-built_in"><span class="hljs-built_in">CIB</span></span> Address: <span class="hljs-number"><span class="hljs-number">10021630</span></span> Current Condition: CEE3204S The system detected a protection exception (System Completion Code=<span class="hljs-number"><span class="hljs-number">0</span></span>C4). Location: Program Unit: Entry: f1(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>*) Statement: Offset: +<span class="hljs-number"><span class="hljs-number">0000002</span></span>A Machine State: ILC..... <span class="hljs-number"><span class="hljs-number">0004</span></span> Interruption Code..... <span class="hljs-number"><span class="hljs-number">0004</span></span> PSW..... <span class="hljs-number"><span class="hljs-number">078</span></span>D1400 <span class="hljs-number"><span class="hljs-number">9000</span></span>A95E GPR0..... <span class="hljs-number"><span class="hljs-number">100087E8</span></span> GPR1..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> GPR2..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> GPR3..... <span class="hljs-number"><span class="hljs-number">00000001</span></span> GPR4..... <span class="hljs-number"><span class="hljs-number">1000</span></span>A9A8 GPR5..... <span class="hljs-number"><span class="hljs-number">100202</span></span>B0 GPR6..... <span class="hljs-number"><span class="hljs-number">1000</span></span>AAAC GPR7..... <span class="hljs-number"><span class="hljs-number">1000</span></span>A0F0 GPR8..... <span class="hljs-number"><span class="hljs-number">00000030</span></span> GPR9..... <span class="hljs-number"><span class="hljs-number">80000000</span></span> GPR10.... <span class="hljs-number"><span class="hljs-number">844</span></span>EFCAA GPR11.... <span class="hljs-number"><span class="hljs-number">846</span></span>C69E8 GPR12.... <span class="hljs-number"><span class="hljs-number">1001</span></span>A7D0 GPR13.... <span class="hljs-number"><span class="hljs-number">100202</span></span>B0 GPR14.... <span class="hljs-number"><span class="hljs-number">9000</span></span>A9D8 GPR15.... <span class="hljs-number"><span class="hljs-number">1000</span></span>A930 FPC...... <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR0..... <span class="hljs-number"><span class="hljs-number">4</span></span>DBE5D7C A198209F FPR1..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR2..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR3..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR4..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR5..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR6..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR7..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR8..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR9..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR10.... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR11.... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR12.... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR13.... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR14.... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> FPR15.... <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> Storage dump near condition, beginning at location: <span class="hljs-number"><span class="hljs-number">1000</span></span>A94A +<span class="hljs-number"><span class="hljs-number">000000</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span>A94A <span class="hljs-number"><span class="hljs-number">50</span></span>BC5020 <span class="hljs-number"><span class="hljs-number">50</span></span>C04110 <span class="hljs-number"><span class="hljs-number">00001821</span></span> <span class="hljs-number"><span class="hljs-number">502050</span></span>C4 <span class="hljs-number"><span class="hljs-number">92002000</span></span> <span class="hljs-number"><span class="hljs-number">5850</span></span>D028 <span class="hljs-number"><span class="hljs-number">47</span></span>F0E004 <span class="hljs-number"><span class="hljs-number">070747</span></span>F0 |&amp;.&amp;.&amp;.......&amp;.&amp;Dk....&amp;..<span class="hljs-number"><span class="hljs-number">.0</span></span>....<span class="hljs-number"><span class="hljs-number">.0</span></span>|</code> </pre> <br>  or else you can find further <br><br><pre> <code class="hljs perl"> f1(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,char*) (DSA address <span class="hljs-number"><span class="hljs-number">100202</span></span>B<span class="hljs-number"><span class="hljs-number">0</span></span>): UPSTACK DSA Saved Registers: GPR<span class="hljs-number"><span class="hljs-number">0</span></span>..... <span class="hljs-number"><span class="hljs-number">100087</span></span>E8 GPR1..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> GPR2..... <span class="hljs-number"><span class="hljs-number">00000000</span></span> GPR3..... <span class="hljs-number"><span class="hljs-number">00000001</span></span> GPR4..... <span class="hljs-number"><span class="hljs-number">1000</span></span>A9A8 GPR5..... <span class="hljs-number"><span class="hljs-number">100202</span></span>B<span class="hljs-number"><span class="hljs-number">0</span></span> GPR6..... <span class="hljs-number"><span class="hljs-number">1000</span></span>AAAC GPR7..... <span class="hljs-number"><span class="hljs-number">1000</span></span>A0F<span class="hljs-number"><span class="hljs-number">0</span></span> GPR8..... <span class="hljs-number"><span class="hljs-number">00000030</span></span> GPR9..... <span class="hljs-number"><span class="hljs-number">80000000</span></span> GPR1<span class="hljs-number"><span class="hljs-number">0</span></span>.... <span class="hljs-number"><span class="hljs-number">844</span></span>EFCAA GPR11.... <span class="hljs-number"><span class="hljs-number">846</span></span>C69E8 GPR12.... <span class="hljs-number"><span class="hljs-number">1001</span></span>A7D<span class="hljs-number"><span class="hljs-number">0</span></span> GPR13.... <span class="hljs-number"><span class="hljs-number">100202</span></span>B<span class="hljs-number"><span class="hljs-number">0</span></span> GPR14.... <span class="hljs-number"><span class="hljs-number">9000</span></span>A9D8 GPR15.... <span class="hljs-number"><span class="hljs-number">1000</span></span>A93<span class="hljs-number"><span class="hljs-number">0</span></span> GPREG STORAGE: Storage around GPR<span class="hljs-number"><span class="hljs-number">0</span></span> (<span class="hljs-number"><span class="hljs-number">100087</span></span>E8) -<span class="hljs-number"><span class="hljs-number">0020</span></span> <span class="hljs-number"><span class="hljs-number">100087</span></span>C8 <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> |................................| +<span class="hljs-number"><span class="hljs-number">0000</span></span> <span class="hljs-number"><span class="hljs-number">100087</span></span>E8 <span class="hljs-number"><span class="hljs-number">1001</span></span>C028 <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">10017728</span></span> <span class="hljs-number"><span class="hljs-number">10017732</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> |................................| +<span class="hljs-number"><span class="hljs-number">0020</span></span> <span class="hljs-number"><span class="hljs-number">10008808</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000001</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00000001</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> |................................| Storage around GPR1 (<span class="hljs-number"><span class="hljs-number">00000000</span></span>) +<span class="hljs-number"><span class="hljs-number">0000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> Inaccessible storage. +<span class="hljs-number"><span class="hljs-number">0020</span></span> <span class="hljs-number"><span class="hljs-number">00000020</span></span> Inaccessible storage. +<span class="hljs-number"><span class="hljs-number">0040</span></span> <span class="hljs-number"><span class="hljs-number">00000040</span></span> Inaccessible storage. Storage around GPR2 (<span class="hljs-number"><span class="hljs-number">00000000</span></span>) +<span class="hljs-number"><span class="hljs-number">0000</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> Inaccessible storage. +<span class="hljs-number"><span class="hljs-number">0020</span></span> <span class="hljs-number"><span class="hljs-number">00000020</span></span> Inaccessible storage. +<span class="hljs-number"><span class="hljs-number">0040</span></span> <span class="hljs-number"><span class="hljs-number">00000040</span></span> Inaccessible storage. Storage around GPR3 (<span class="hljs-number"><span class="hljs-number">00000001</span></span>) -<span class="hljs-number"><span class="hljs-number">0001</span></span> <span class="hljs-number"><span class="hljs-number">00000000</span></span> Inaccessible storage. +<span class="hljs-number"><span class="hljs-number">001</span></span>F <span class="hljs-number"><span class="hljs-number">00000020</span></span> Inaccessible storage. +<span class="hljs-number"><span class="hljs-number">003</span></span>F <span class="hljs-number"><span class="hljs-number">00000040</span></span> Inaccessible storage. Storage around GPR4 (<span class="hljs-number"><span class="hljs-number">1000</span></span>A9A8) -<span class="hljs-number"><span class="hljs-number">0020</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span>A988 <span class="hljs-number"><span class="hljs-number">05404140</span></span> <span class="hljs-number"><span class="hljs-number">401</span></span>E07F4 <span class="hljs-number"><span class="hljs-number">90</span></span>E5D00C <span class="hljs-number"><span class="hljs-number">58</span></span>E0D04C <span class="hljs-number"><span class="hljs-number">4100</span></span>E0A<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5500</span></span>C314 <span class="hljs-number"><span class="hljs-number">4140</span></span>F04<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4720</span></span>F014 |. . ..<span class="hljs-number"><span class="hljs-number">4</span></span>.V.....&lt;......C.. <span class="hljs-number"><span class="hljs-number">0</span></span> ..<span class="hljs-number"><span class="hljs-number">0</span></span>.| +<span class="hljs-number"><span class="hljs-number">0000</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span>A9A8 <span class="hljs-number"><span class="hljs-number">5000</span></span>E04C <span class="hljs-number"><span class="hljs-number">9210</span></span>E00<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">50</span></span>D0E004 <span class="hljs-number"><span class="hljs-number">18</span></span>DE580<span class="hljs-number"><span class="hljs-number">0</span></span> C1F4500<span class="hljs-number"><span class="hljs-number">0</span></span> D098C05<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">00000021</span></span> <span class="hljs-number"><span class="hljs-number">5800</span></span>D098 |&amp;..&lt;k...&amp;.......A4&amp;..q.&amp;.......<span class="hljs-string"><span class="hljs-string">q| +0020 1000A9C8 58F04050 41300001 18131825 4DE0F010 47000008 18F35800 D0985000 C1F4180D |</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> &amp;........(.<span class="hljs-number"><span class="hljs-number">0</span></span>......<span class="hljs-number"><span class="hljs-number">3</span></span>...q&amp;.A4..|</code> </pre> <br>  Please note that a listing of registers would refer to this function. <br><br>  Looking at the values ‚Äã‚Äãof the registers, we get r2 = 0 and therefore (0 + 0).  Now everything has become clear, the program is trying to record data at address 0, which is inaccessible neither for reading nor for writing. <br><br>  Everything, now it remains to find in the source code, why it happens, why value indicates 0, but this is another topic. <br><br>  Literature: <a href="http://publibfp.boulder.ibm.com/cgi-bin/bookmgr/BOOKS/dz9zr002/CCONTENTS">z / Architecture Principles of Operation</a> </div><p>Source: <a href="https://habr.com/ru/post/134045/">https://habr.com/ru/post/134045/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134037/index.html">Writing GOST crypto-provider</a></li>
<li><a href="../134039/index.html">Using DSL in Visual Studio</a></li>
<li><a href="../134040/index.html">RedHat CEO: do not get caught in the "cloud" Vendor Lock-in</a></li>
<li><a href="../134041/index.html">Cliffhangers in everyday programming</a></li>
<li><a href="../134043/index.html">Demonstration of setting TrustAccess</a></li>
<li><a href="../134046/index.html">Enot Tablet Video Reviews</a></li>
<li><a href="../134047/index.html">Results of the competition for the restoration of documents after shredder</a></li>
<li><a href="../134048/index.html">Siclum supports User Experience Camp 2011</a></li>
<li><a href="../134049/index.html">Video review of Android applications and games - kedDroid</a></li>
<li><a href="../134053/index.html">Improving the quality and convenience in the manufacture of boards</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>