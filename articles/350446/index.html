<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Container Run Environments (container runtimes) Part 1: Introduction to Container Run Environments</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator : 
 This is a translation of the article Container runtimes Part 1: An Introduction to Container runtimes . 
 The author of the or...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Container Run Environments (container runtimes) Part 1: Introduction to Container Run Environments</h1><div class="post__text post__text-html js-mediator-article">  <i><b>From the translator</b> :</i> <i><br></i>  <i>This is a translation of the article <a href="https://www.ianlewis.org/en/container-runtimes-part-1-introduction-container-r">Container runtimes Part 1: An Introduction to Container runtimes</a> .</i> <i><br></i>  <i>The author of the original publication: <a href="https://www.ianlewis.org/en/about/">Ian Lewis</a> .</i> <br><br>  One of the terms that you often hear when dealing with containers is <b>‚Äúcontainer runtime‚Äù</b> ( <i>hereinafter referred to as <b>‚Äú</b> <b>runtime‚Äù means ‚Äú</b> <b>launch environment‚Äù</b> - translator's comment</i> ).  ‚ÄúContainer launch environment‚Äù can have different meanings for different people, so it comes as no surprise that this is such a confusing and dimly understandable term, even within the Docker user and developer community itself. <br><br>  This post is the first in a series that consists of 4 parts: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Part 1: Introduction to container launch environments: why are they so confusing? </li><li>  Part 2: Deep immersion in low-level launch environments <a href="https://www.ianlewis.org/en/container-runtimes-part-2-anatomy-low-level-contai">(eng)</a> </li><li>  Part 3: Deep immersion in high-level launch environments </li><li>  Part 4: Launch environments in Kubernetes and CRI </li></ol><br>  This post will explain what container launch environments are and where there are so many misunderstandings.  After that, I will delve into the different types of container launch environments, what they do and how they differ from each other. <br><br><img src="https://habrastorage.org/webt/sl/t1/uv/slt1uvflluhimr2fye7dgvoshdq.png"><br>  <i>(In the picture, a play on words: <b>Not sure if this refers to the Kubernetes launch environments of the container, the low-level launch environment of the container or the duration of the movie</b> - translator's note)</i> <br><a name="habracut"></a><br>  Traditionally, a programmer can understand <b>‚Äúruntime‚Äù</b> either as a <i>phase in the life cycle of a</i> program during which it runs, or as an <i>environment of a language</i> that supports this execution.  An example of this is the Java HotSpot runtime.  The last value is the closest to <b>the runtime of the</b> container.  The container launch environment is responsible for all container launch phases that are not directly involved in launching the program itself.  As we will see later in this series, launch environments provide various levels of functions, but the <b>‚Äúlaunch container‚Äù</b> function for the tool is essentially all that is needed to call it a <b>container launch environment</b> . <br><br>  If you are not very familiar with containers, first familiarize yourself with these materials and return: <br><br><ul><li>  <a href="https://jvns.ca/blog/2016/10/10/what-even-is-a-container/">What exactly is a container: namespaces and cgroups</a> </li><li>  <a href="https://www.youtube.com/watch%3Fv%3DsK5i-N34im8">Cgroups, namespaces and beyond: what are the containers made of?</a> </li></ul><br><h2>  Why are container runtimes so confusing? </h2><br>  Docker was released in 2013 and solved many developer problems by running containers in an unbroken chain.  It included: <br><br><ul><li>  Container image format </li><li>  Method for building container images (Dockerfile / docker build) </li><li>  Ability to manage container images (docker images, docker rm, etc.) </li><li>  Ability to manage container instances (docker ps, docker rm, etc.) </li><li>  The ability to share images of containers (docker push / pull) </li><li>  Ability to run containers (docker run) </li></ul><br>  All this time, Docker has been a monolithic system.  However, none of these functions truly depended on each other.  Each of them could be implemented in smaller and specialized tools that could be used together.  Each of the tools could work together with the others, using a common format, a container standard. <br><br>  Because of this, Docker, Google, CoreOS, and other vendors have created the <a href="https://www.opencontainers.org/">Open Container Initiative (OCI)</a> .  After that, they separated their code to launch containers as a tool and library, called <a href="https://github.com/opencontainers/runc">runc</a> , and passed it to OCI, as a reference implementation of the <a href="https://github.com/opencontainers/runtime-spec">OCI launch environment specification</a> . <br><br>  At first, the question of what exactly Docker passed on to OCI was confusing.  What they conveyed was the standard way to launch containers and nothing else.  They did not include the image format or protocols for receiving / unloading the container image from / into the image register (image storage).  When you run the Docker Container, these are the actions that Docker actually performs: <br><br><ol><li>  Download image. </li><li>  Unpacking the image in a "package" (bundle).  This action aligns the layers into a single file system. </li><li>  Starting the container from the package. </li></ol><br>  What Docker standardized was only step # 3.  While this has not been clarified, everyone perceived the container launch environment as a system that supports all the functions that Docker supports.  Over time, the Docker guys explained that the <a href="https://github.com/opencontainers/runtime-spec/commit/77d44b10d5df53ee63f0768cd0a29ef49bad56b6">original specification</a> states that only the ‚Äúlaunch container‚Äù part forms the ‚Äúlaunch environment‚Äù.  This disconnection, which continues even now, makes ‚Äúcontainer launch environments‚Äù such a confusing topic.  I hope to show that both sides are right to some extent, and I will use this term quite widely in this post. <br><br><h2>  Low level and high level container launch environments. </h2><br>  When developers think about container launch environments, here is a list of some examples that might come to mind: runc, lxc, lmctfy, Docker (containerd), rkt, cri-o.  Each of them is designed for different situations and performs different functions.  Some, such as containerd and cri-o, actually use runc to launch the container, but manage images and have an API on top of that.  You can think of these functions ‚Äî which include transferring images, managing images, unpacking images and APIs ‚Äî as high-level functions compared to a low-level runc implementation. <br><br>  With this in mind, you can see that the area of ‚Äã‚Äãthe container launch environment is quite complex.  Each launch environment covers a different part of this spectrum from low level to high level.  Here is a very subjective diagram: <br><img src="https://habrastorage.org/webt/ze/bd/zf/zebdzfbzlg5xlawhm0aqlxsxs8k.png"><br><br>  In practice, container launch environments that focus simply on launching containers are commonly referred to as ‚Äúlow-level container launch environments.‚Äù  Other launch environments that support higher-level features, such as image management and various gRPC / Web APIs, are commonly referred to as ‚Äúhigh-level container tools‚Äù, ‚Äúhigh-level container launching environments‚Äù, or usually simply ‚Äúcontainer-launching environments‚Äù.  I will refer to them as ‚Äúhigh-level container launch environments‚Äù.  It is important to note that low-level and high-level launch environments are fundamentally different things that solve various problems. <br><br>  Containers are implemented using <a href="https://en.wikipedia.org/wiki/Linux_namespaces">namespaces</a> and <a href="https://en.wikipedia.org/wiki/Cgroups">cgroups</a> Linux.  Namespaces give you the ability to virtualize system resources, such as the file system or networking, for each container.  Cgroups provides a way to limit the amount of resources, such as CPU and memory, that each container can use.  At the lowest level, the launch environments of containers are responsible for configuring these namespaces and cgroups.  Support for low-level launch environments uses these features of the operating system. <br><br>  Typically, developers who want to run applications in containers need more features than low-level launch environments provide.  They need APIs and functions around image formats, image management and the ability to share images.  These features provide high-level launch environments.  Low-level launch environments simply do not have enough capacity for such daily needs.  For these reasons, the only ones who will use low-level launch environments will be the developers of high-level launch environments and tools for containers. <br><br>  The developers of low-level launch environments will say that high-level launch environments, such as containerd and cri-o, are not really container launch environments, since from their point of view they delegate the launch of the runc container.  But from the user's point of view, they are full-fledged tools that provide the ability to run containers.  One implementation may change to another, so it makes sense to call them the launch environment from this point of view.  Despite the fact that containerd and cri-o both use runc, these are two very different projects with support for very different functions. <br><br><h2>  Next... </h2><br>  I hope that helped me understand what container environments are and why they are so difficult to understand.  Feel free to leave me comments on the article (on the author‚Äôs website - comment of the translator) or on <a href="https://twitter.com/IanMLewis">Twitter</a> and let me know that in the launch environments of the containers it was the most difficult to understand. <br><br>  In the next post, I'll go headlong into low-level container launch environments.  In it, I will talk about what exactly low-level container launch environments do.  I will talk about both popular low-level launch environments (such as runc and rkt), and unpopular, but important ones (such as lmctfy).  I'll even go over how to run a simple low-level launch environment.  Be sure to subscribe to my RSS feed or <a href="https://twitter.com/IanMLewis">Twitter</a> to get an alert when the next post comes out. <br><br>  Until then, you can join the Kubernetes community through these channels: <br><br><ul><li>  By posting and answering questions on <a href="http://stackoverflow.com/questions/tagged/kubernetes">stack overflow</a> </li><li>  Subscribing to Twitter <a href="https://twitter.com/kubernetesio">@Kubernetesio</a> </li><li>  Joining Kubernetes <a href="http://slack.k8s.io/">Slack</a> and chatting with us.  (I am ianlewis so say "Hello"!) </li><li>  Contributing to Kubernetes on <a href="https://github.com/kubernetes/kubernetes">GitHub</a> </li></ul><br>  <i>Thanks to <a href="https://twitter.com/SandeepDinesh">Sandeep Dinesh</a> , <a href="https://twitter.com/neurotic">Mark Mandel</a> , <a href="https://twitter.com/craigbox">Craig Box</a> , <a href="https://twitter.com/mayakaczorowski">Maya Kaczorowski</a> and Joe Burnett for checking out the drafts of this post.</i> <br><br>  <i><b>From the translator</b> : I, in turn, express my gratitude for checking the draft translation of the user <a href="https://habrahabr.ru/users/gdapsy/" class="user_link">GDApsy</a> .</i> </div><p>Source: <a href="https://habr.com/ru/post/350446/">https://habr.com/ru/post/350446/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350436/index.html">FastTrack Training. "Network Basics". "Basics of a wireless LAN". Part two. Eddie Martin December 2012</a></li>
<li><a href="../350438/index.html">Validation of strings with validate.it.js</a></li>
<li><a href="../350440/index.html">Gini coefficient. From economics to machine learning</a></li>
<li><a href="../350442/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ304 (February 26 - March 4, 2018)</a></li>
<li><a href="../350444/index.html">Implement java promises</a></li>
<li><a href="../350448/index.html">RegExp Unicode Property Escapes in JavaScript: Portrait Strokes</a></li>
<li><a href="../350452/index.html">Load testing "non-HTTP". Part 2 Gatling</a></li>
<li><a href="../350454/index.html">Surprisingly simple messaging with Spring Cloud Stream</a></li>
<li><a href="../350456/index.html">Digital events in Moscow from March 5 to 11</a></li>
<li><a href="../350458/index.html">Publish the game on Google Play. Configuring Play Games Plugin for Unity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>