<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Function overloading in JS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As you know, in JavaScript it is impossible to create several functions that differ only in the list of parameters: the last one created will overwrit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Function overloading in JS</h1><div class="post__text post__text-html js-mediator-article">  As you know, in JavaScript it is impossible to create several functions that differ only in the list of parameters: the last one created will overwrite the previous ones.  About the difference at the level of the types of parameters can not speak at all.  Usually, if a programmer wants to create a function with a multiple interface, he writes something like this: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// getRectangleArea(x1, y1, x2, y2) </font> <font color="#008000">// getRectangleArea(width, height)</font> <font color="#0000ff">function</font> getRectangleArea(x1, y1, x2, y2) { <font color="#0000ff">if</font> (arguments.length==2) <font color="#0000ff">return</font> x1*y1; <font color="#0000ff">return</font> (x2-x1)*(y2-y1); }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> // getRectangleArea(x1, y1, x2, y2)  <font color="#008000">// getRectangleArea(width, height)</font> <font color="#0000ff">function</font> getRectangleArea(x1, y1, x2, y2) { <font color="#0000ff">if</font> (arguments.length==2) <font color="#0000ff">return</font> x1*y1; <font color="#0000ff">return</font> (x2-x1)*(y2-y1); } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#008000">// getRectangleArea(x1, y1, x2, y2) </font> // getRectangleArea(width, height) <font color="#0000ff">function</font> getRectangleArea(x1, y1, x2, y2) { <font color="#0000ff">if</font> (arguments.length==2) <font color="#0000ff">return</font> x1*y1; <font color="#0000ff">return</font> (x2-x1)*(y2-y1); } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#008000">// getRectangleArea(x1, y1, x2, y2) </font> <font color="#008000">// getRectangleArea(width, height)</font> <font color="#0000ff">function</font> getRectangleArea(x1, y1, x2, y2) { <font color="#0000ff">if</font> (arguments.length==2) <font color="#0000ff">return</font> x1*y1; <font color="#0000ff">return</font> (x2-x1)*(y2-y1); } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#008000">// getRectangleArea(x1, y1, x2, y2) </font> <font color="#008000">// getRectangleArea(width, height)</font> <font color="#0000ff">function</font> getRectangleArea(x1, y1, x2, y2) { <font color="#0000ff">if</font> (arguments.length==2) <font color="#0000ff">return</font> x1*y1; <font color="#0000ff">return</font> (x2-x1)*(y2-y1); } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#008000">// getRectangleArea(x1, y1, x2, y2) </font> <font color="#008000">// getRectangleArea(width, height)</font> <font color="#0000ff">function</font> getRectangleArea(x1, y1, x2, y2) { <font color="#0000ff">if</font> (arguments.length==2) <font color="#0000ff">return</font> x1*y1; <font color="#0000ff">return</font> (x2-x1)*(y2-y1); } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#008000">// getRectangleArea(x1, y1, x2, y2) </font> <font color="#008000">// getRectangleArea(width, height)</font> <font color="#0000ff">function</font> getRectangleArea(x1, y1, x2, y2) { <font color="#0000ff">if</font> (arguments.length==2) <font color="#0000ff">return</font> x1*y1; <font color="#0000ff">return</font> (x2-x1)*(y2-y1); } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// getRectangleArea(x1, y1, x2, y2) </font> <font color="#008000">// getRectangleArea(width, height)</font> <font color="#0000ff">function</font> getRectangleArea(x1, y1, x2, y2) { <font color="#0000ff">if</font> (arguments.length==2) <font color="#0000ff">return</font> x1*y1; <font color="#0000ff">return</font> (x2-x1)*(y2-y1); }</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  While the example does not look very scary, but over time the interfaces may become noticeably larger, then the function will become poorly readable.  See what you can do about it. <br><a name="habracut"></a><br>  Firstly, I would like to write separate functions for each set of parameters like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">function</font> getRectangleArea (width, height) { </li><li>  <font color="#0000ff">Return</font> width * height; </li><li>  } </li><li></li><li>  <font color="#0000ff">function</font> getRectangleArea (x1, y1, x2, y2) { </li><li>  <font color="#0000ff">return</font> (x2-x1) * (y2-y1); </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  So the code is more beautiful and more logical, you can give the parameters the talking names in each function.  One problem: it does not work.  But we can write a function generator of the first type, submitting to it a set of subfunctions, as in the second example.  Let, to begin with, all the subfunctions have a different number of parameters.  The number of function parameters can be recognized by <code>functionName.length</code> , and the number of arguments passed by - by <code>arguments.length</code> .  Recall also the great thing <code>apply</code> and write: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">function</font> polymorph () { </li><li>  <font color="#0000ff">var</font> len2func = []; </li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt;arguments.length; i ++) </li><li>  <font color="#0000ff">if</font> ( <font color="#0000ff">typeof</font> (arguments [i]) == <font color="#A31515">"function"</font> ) </li><li>  len2func [arguments [i] .length] = arguments [i]; </li><li>  <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { </li><li>  <font color="#0000ff">return</font> len2func [arguments.length] .apply ( <font color="#0000ff">this</font> , arguments); </li><li>  } </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  The <code>polymorph</code> function takes as arguments a set of subfunctions with a different number of parameters, puts them into an array of <code>len2func</code> , whose index is the number of parameters, and returns a closure function that, depending on the number of arguments, causes a particular subfunction.  Use this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">var</font> getRectangleArea2 = polymorph ( </li><li>  <font color="#0000ff">function</font> (width, height) { </li><li>  <font color="#0000ff">Return</font> width * height; </li><li>  }, </li><li>  <font color="#0000ff">function</font> (x1, y1, x2, y2) { </li><li>  <font color="#0000ff">return</font> (x2-x1) * (y2-y1); </li><li>  } </li><li>  ); </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  Now <code>getRectangleArea2</code> is a complete analogue of <code>getRectangleArea</code> , however, the code has become much more transparent, and now a comment is no longer required: the ways of using are obvious. <br><br>  The situation becomes more complicated if we want to support functions with the same number of parameters that differ in types.  However, types can be controlled using <code>typeof</code> and <code>instanceof</code> , so it is easy to extend the <code>polymorph()</code> function for these cases as well.  Types of parameters will be set in a special object before the function: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">var</font> PolyFunc = polymorph ( </li><li>  <font color="#0000ff">function</font> (a, b, c) { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"Three arguments version - any types"</font> ; </li><li>  }, </li><li></li><li>  {i: Number, str: String}, </li><li>  <font color="#0000ff">function</font> (i, str) { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"Number and string passed"</font> ; </li><li>  }, </li><li></li><li>  {re: RegExp}, </li><li>  <font color="#0000ff">function</font> (re, a) { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"RegExp and something else passed"</font> ; </li><li>  }, </li><li></li><li>  {f: Function, b: Boolean}, </li><li>  <font color="#0000ff">function</font> (f, b) { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"Function and boolean passed"</font> ; </li><li>  }, </li><li></li><li>  {f: Function, i: Number}, </li><li>  <font color="#0000ff">function</font> (f, i) { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"Function and number passed"</font> ; </li><li>  } </li><li>  ); </li><li></li><li>  alert (PolyFunc (1,2,3));  <font color="#008000">// "Three arguments version - any types"</font> </li><li>  alert (PolyFunc (1, <font color="#A31515">"qq"</font> ));  <font color="#008000">// "Number and string passed"</font> </li><li>  alert (PolyFunc ( <font color="#0000ff">function</font> () {}, <font color="#0000ff">true</font> ));  <font color="#008000">// "Function and boolean passed"</font> </li><li>  alert (PolyFunc ( <font color="#0000ff">function</font> () {}, 1));  <font color="#008000">// "Function and number passed"</font> </li><li>  alert (PolyFunc (/ a /, 1));  <font color="#008000">// "RegExp and something else passed"</font> </li><li>  alert (PolyFunc (/ a /, <font color="#A31515">"str"</font> ));  // <font color="#A31515">"RegExp and something else passed"</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  The whole thing I put in the <a href="http://code.google.com/p/polymorph-js/">Google code,</a> and I will be glad if someone comes in handy.  You can overload not only ordinary functions, but also methods and object constructors (examples are by reference), and they can be defined through each other (by calling your version with a different set of parameters).  You can use both built-in and user-defined types of parameters.  It is possible to modify the already created polymorphic function by adding or replacing some subfunctions. <br><br>  Unfortunately, you have to pay for beauty and, as always, with speed.  The overhead on the function call on my Core2DUO @ 2.66GHz was in FF3.6, IE8, Opera10 and Safari about 1-10 Œºs (IE the slowest, then FF, then Opera and Safari).  Chrome shows the best result in the range of 0.3-1 Œºs, overtaking FF 10 times.  For functions that are fast themselves and are called very often, use caution. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/86403/">https://habr.com/ru/post/86403/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../86390/index.html">Norbert Wiener - the founder of cybernetics</a></li>
<li><a href="../86393/index.html">WiFi scanners removed from App Store</a></li>
<li><a href="../86394/index.html">How they caught me</a></li>
<li><a href="../86395/index.html">What awaits us in WordPress 3.0 (review of new features)</a></li>
<li><a href="../86397/index.html">Video tour of the Virus Lab in Poland</a></li>
<li><a href="../86404/index.html">Today, Sony Playstation 2 is 10 years old!</a></li>
<li><a href="../86406/index.html">Did Opera bootles triple thanks to the selection screen in Windows?</a></li>
<li><a href="../86409/index.html">What percentage of working time do you really work, and do not idle?</a></li>
<li><a href="../86412/index.html">Competition for reading habrayuzerov</a></li>
<li><a href="../86413/index.html">Proceedings in the mobile technology market</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>