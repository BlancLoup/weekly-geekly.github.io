<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A couple of plugins that fix shoals in the new (and not quite new) Wordpress</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For the corporate blog, I decided to choose the latest version of Wordpress 2.2.1 (many holes are patched there). After downloading it and testing it,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A couple of plugins that fix shoals in the new (and not quite new) Wordpress</h1><div class="post__text post__text-html js-mediator-article">  For the corporate blog, I decided to choose the latest version of Wordpress 2.2.1 (many holes are patched there).  After downloading it and testing it, I ran into a couple of unpleasant jambs.  In the end, not being a programmer, wrote two plugins. <a name="habracut"></a><br><br>  Plugin: <strong><a href="">Novikov's OLD OPERA Commenting Page Refresh Bugfix</a></strong> <br>  Version: 0.9 <br><br>  <strong>What is the problem:</strong> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In new versions of Wordpress, after adding comments, it redirects the user not just to the same page, but immediately to the added comment. <br><br>  This is done using the HTTP header, in which the code is given 304, and the location of the page with the comments page is indicated.  In new versions of Wordpress, a "# comment-id" structure is inserted in the location to redirect to a specific comment. <br>  The old ‚ÄúOpera‚Äù (tested on version 8.5) seems to have problems with the ‚Äú#‚Äù symbol in location: when adding a comment for the first time, it can successfully refresh the page.  But the next time the page is not updated. <br><br>  The comment gets into the database, but for the user everything looks as if the site is frozen, and the comment is gone.  This leads to repeated shipments, and it just looks ugly. <br><br>  <strong>What this plugin does:</strong> <br><br>  If the user has an old ‚ÄúOpera‚Äù, then the plugin removes the lattice from the location and everything that comes after it.  Thus, the old ‚ÄúOpera‚Äù will successfully update the page, and its owners will be redirected, but not to the added comment, but simply to the top of the page, as before.  Users of other browsers will not notice anything. <br><br>  When a user adds a comment, the file ‚Äúwp_comment_post.php‚Äù is called.  It contains various functions that process this comment, place it in the database, and then call the wp_redirect function.  As an argument of this function, the location is passed - a string containing the URL of the post page and the tail "# comment-id". <br>  Before the wp_redirect function is called, the argument is processed by the comment_post_redirect filter.  The plugin registers its function as this filter, and if the user has ‚ÄúOpera‚Äù less than the ninth version, then he simply bites off the ‚Äútail‚Äù.  Now everyone is happy. <br>  ********************************** <br><br>  Plugin: <strong><a href="">Novikov's FROM Krjakozjabri Bugfix</a></strong> <br>  Version: 0.9 <br><br>  <strong>What is the problem:</strong> <br><br>  When Wordpress sends an email about new comments to the post author, the commentator's name is inserted into the From field of the message header.  Russian letters become kryakozyabry that are unreadable. <br>  It seems that Wordpress authors have a little nasty in the wp_notify_postauthor function, which forms the email header.  First, they insert ‚ÄúMIME-Version: 1.0‚Äù, and then the FROM field, although usually the opposite. <br><br>  <strong>What this plugin does:</strong> <br><br>  Fortunately, the wp_notify_postauthor function can be replaced.  It is in the file ‚Äúwp-includes \ pluggable.php‚Äù, that is, it can be overridden by a plug-in, and not hacked the engine. <br>  Actually, the plugin overrides this function, making the FROM field in notifications beautiful.  Now Russian letters look normal. </div><p>Source: <a href="https://habr.com/ru/post/12018/">https://habr.com/ru/post/12018/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../120173/index.html">PayPal sued Google for Google Wallet</a></li>
<li><a href="../120174/index.html">Class for translating text using the Google Translate service</a></li>
<li><a href="../120175/index.html">Internet Mathematics 2011. Determining Image Similarity</a></li>
<li><a href="../120177/index.html">Gnome 3 - is the end close?</a></li>
<li><a href="../120179/index.html">How will the Sensor and Location platform in Windows 7 change our lives</a></li>
<li><a href="../120180/index.html">Accelerate loading rail</a></li>
<li><a href="../120182/index.html">A simple example of phonetic search</a></li>
<li><a href="../120183/index.html">Visual component monitor COM-port</a></li>
<li><a href="../120185/index.html">New service from Google for those who need to quickly get information about the flight</a></li>
<li><a href="../120186/index.html">World War II mechanical encryption device</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>