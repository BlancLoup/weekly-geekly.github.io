<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Natural randomness</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Carried away by computer graphics, he noticed that a combination of rules and randomness can produce unexpectedly beautiful results. 

 On the one han...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Natural randomness</h1><div class="post__text post__text-html js-mediator-article">  Carried away by computer graphics, he noticed that a combination of rules and randomness can produce unexpectedly beautiful results. <br><br>  On the one hand, looking at such images obviously their computer origin, on the other - the factor of chance makes them unique and unpredictable. <br><br>  I also noticed that repeated repetition of even nondescript forms creates harmonious patterns, if you see them all. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/f62/333/790/f62333790f120b74a657470d23f61206.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/e61/e3d/980/e61e3d980f34f59ccaedfc564ee6d240.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/4e2/931/1ae/4e29311aefe8cf8663309474b47a06a8.jpg"><br><br><a name="habracut"></a><br><br>  Like most programmers, wrote a lot of drawing code, started back in 1993 on Basic for Spectrum, then Pascal, C ++.  Monitors are getting better, resolution is getting bigger, processors are getting faster, and I decided to “remember youth” :) I wrote in C # (using GDI +) another electronic artist. <br><br>  The algorithm is simple: <br><ol><li>  Create a random curve line of random color; <br><img src="https://habrastorage.org/getpro/habr/post_images/d16/1e7/1f4/d161e71f4c8185e6703055488e2d04e4.jpg"></li><li>  We duplicate it many times with a gradual turn around the “local” center, so that we get a “circle”; <br><img src="https://habrastorage.org/getpro/habr/post_images/77a/a85/9c4/77aa859c4819236d14a377840eb81293.jpg"></li><li>  This “circle” is duplicated several times around the “common” center, also turning, it turns out a “layer”; <br><img src="https://habrastorage.org/getpro/habr/post_images/c37/574/326/c3757432633c2c8de8f2dde1e1045da6.jpg"></li><li>  Thus we create several “layers”, overlaying each other. <br><img src="https://habrastorage.org/getpro/habr/post_images/70d/3f2/dd6/70d3f2dd6ef973bd1a4f5f4799f61ef1.jpg"></li></ol><br><br>  That's it, ready.  If desired, you can perform a small post-processing. <br><br>  The code is simple: <br><br><pre><code class="cs hljs">Parameters.Color = GetRandomColor(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stars = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Star[Parameters.Random.Next(Parameters.MinStarCount, Parameters.MaxStarCount)]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; stars.Length; i++) { stars[i] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Star(); stars[i].GenerateRandom(); } progressBar.Maximum = stars.Length + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bitmap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Bitmap(Parameters.PictureSide, Parameters.PictureSide); progressBar.Increment(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gr = Graphics.FromImage(bitmap)) { gr.SmoothingMode = SmoothingMode.HighQuality; gr.Clear(Color.Empty); gr.TranslateTransform((<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)bitmap.Width / <span class="hljs-number"><span class="hljs-number">2</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)bitmap.Height / <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> star <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> stars) { star.Draw(gr); progressBar.Increment(<span class="hljs-number"><span class="hljs-number">1</span></span>); } } pictureBox.Image = bitmap;</code> </pre> <br><br>  and <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Draw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Graphics gr</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rad = Parameters.PictureSide / <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> radius = Parameters.Random.Next(Splines.Spline.MaxRadius, rad - Splines.Spline.MaxRadius); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Splines.Start(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> phase = Parameters.Random.Next(<span class="hljs-number"><span class="hljs-number">360</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oldMatrix = gr.Transform; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; RayCount; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> angle = <span class="hljs-number"><span class="hljs-number">360f</span></span> * (i / (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)RayCount); gr.RotateTransform(phase + angle); gr.TranslateTransform(radius, <span class="hljs-number"><span class="hljs-number">0</span></span>); Splines.Draw(gr); gr.Transform = oldMatrix; } } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { Splines.Stop(); } }</code> </pre><br><br>  and <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Draw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Graphics gr</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oldMatrix = gr.Transform; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; _rotateCount; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> angle = <span class="hljs-number"><span class="hljs-number">360f</span></span> * (i / (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)_rotateCount); gr.RotateTransform(angle); Spline.Draw(gr); gr.Transform = oldMatrix; } }</code> </pre><br><br>  Compiled under .NET 4 (I run on Win7 64-bit).  The maximum image resolution is 460 megapixels (a square with a side of 22 thousand pixels).  Each picture is generated for a few seconds. <br><br>  Of course, not all combinations of random parameters are successful.  Out of a dozen random pictures, I select only a couple of the most successful ones by eye.  Thus, in about 15 minutes you can accumulate a few dozen unique images. <br><br>  A collection of works drawn in this way can be viewed <a href="http://2photo.ru/ru/post/20022">here</a> and <a href="http://2photo.ru/ru/post/16529">here (another algorithm)</a> .  At leisure, I was not even too lazy, I made a gallery of these drawings on <a href="http://www.kalantyr.ru/Personal/ImageGallery.aspx">Silverlight using DeepZoom</a> <br><br>  Examples of pictures obtained by the described algorithm: <br><br><img src="http://i1.2photo.ru/medium/6/1/331818.jpg"><br><img src="http://i2.2photo.ru/medium/7/1/331819.jpg"><br><img src="http://i2.2photo.ru/medium/b/1/331823.jpg"><br><img src="http://i2.2photo.ru/medium/d/1/331825.jpg"><br><img src="http://i2.2photo.ru/medium/f/1/331827.jpg"><br><img src="http://i1.2photo.ru/medium/g/1/331828.jpg"><br><img src="http://i2.2photo.ru/medium/l/1/331833.jpg"><br><img src="http://i1.2photo.ru/medium/i/1/331830.jpg"><br><br>  PS: When I got home from work, I found many interesting comments on the article.  Thank you for understanding!  As a thanks to the community, I post a <a href="">compiled application</a> for experiments.  Who cares - I can send the code.  Now there all parameters are sewn right into the code.  Requires dotNet Framework 4, the size of the generated image is 4096 x 4096 pixels.  I did it for myself, so the interface is minimalistic.  Click on the image to generate a new one.  The rest is in the menu. <br><br>  PPS At the request of the readers, I post the <a href="">project source</a> ( <a href="">mirror</a> ) to study it <a href="">completely</a> . <br><br>  PPPS In the comments and in PM there are requests to tell about the "ivy" algorithm.  I described the algorithm in the <a href="http://habrahabr.ru/blogs/crazydev/112300/">comments</a> , but the <a href="">source code and the compiled exe-shnik</a> ( <a href="">mirror</a> ). </div><p>Source: <a href="https://habr.com/ru/post/112300/">https://habr.com/ru/post/112300/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112292/index.html">Evolution of the Python programmer</a></li>
<li><a href="../112294/index.html">Experience of implementing 1C UAT at a distribution center</a></li>
<li><a href="../112295/index.html">First impressions of the development under Android - we write handsfree</a></li>
<li><a href="../112297/index.html">The Chinese have created a virus that blocks the connection of client PCs with cloud antivirus software.</a></li>
<li><a href="../112298/index.html">About weird icons HTML5</a></li>
<li><a href="../112302/index.html">More evidence that Android contains copied Java code.</a></li>
<li><a href="../112304/index.html">Tesla Motors develops new versions of electric vehicles</a></li>
<li><a href="../112305/index.html">Why I do not believe in simple algorithms for NP-complete problems</a></li>
<li><a href="../112306/index.html">Wonderful gadget. iPhone 3GS + skype video call</a></li>
<li><a href="../112307/index.html">With the layout of mailing lists everything is not so bad</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>