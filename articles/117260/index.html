<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Testing Cloud Provider Drives</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After launching a new storage system in Scalaxi , we migrated all user data from the old system to it and decided to compare the speed of the new syst...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Testing Cloud Provider Drives</h1><div class="post__text post__text-html js-mediator-article">  After launching a <a href="http://habrahabr.ru/company/oversun/blog/116137/">new storage system</a> in <a href="http://www.scalaxy.ru/">Scalaxi</a> , we <a href="http://www.scalaxy.ru/">migrated</a> all user data from the old system to it and decided to compare the speed of the new system with the existing solutions on the market.  Under the <a href="http://www.scalaxy.ru/">cat</a> , the storage performance test of the following cloud providers: <a href="http://aws.amazon.com/ec2/">Amazon</a> , <a href="http://www.rackspace.com/">Rackspace</a> , <a href="http://www.terremark.com/">Terremark</a> , <a href="http://www.scalaxy.ru/">Scalaxi</a> , <a href="http://www.clodo.ru/">Selectel</a> , <a href="http://www.clodo.ru/">Clodo</a> . <br><br>  For those readers who want to immediately find out the result without plunging into the testing methodology, the summary is as follows: the Scalaxi storage system is generally the most productive among the tested providers, but the worst results were shown by the Clodo storage system. <br><br>  Well, now more. <br><a name="habracut"></a><br><h4>  Selection of companies </h4><br>  The initial list of companies was as follows: <a href="http://aws.amazon.com/ec2/">Amazon</a> , <a href="http://www.rackspace.com/">Rackspace</a> , <a href="http://www.terremark.com/">Terremark</a> , <a href="http://www.scalaxy.ru/">Scalaxi</a> , <a href="http://www.clodo.ru/">Selectel</a> , <a href="http://www.activecloud.ru/">Clodo</a> , <a href="http://vmco.ru/">Activecloud</a> , <a href="http://vmco.ru/">VMco</a> , <a href="http://www.it-grad.ru/services/vmware-vcloud">IT-Grad vCloud</a> , <a href="http://slidebar.ru/">Slidebar.ru</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But, some of them fell off due to the following reasons: <br><br>  Activecloud - the lack of hourly pay for resources, which in our opinion is a mandatory requirement. <br>  VMco and IT-Grad vCloud are Russian representatives of the <a href="http://www.vmware.com/">VMware</a> platform and <a href="http://www.netapp.com/">NetApp</a> storage <a href="http://www.netapp.com/">systems</a> , the lack of hourly wages and the manual creation of machines. <br>  Slidebar.ru - cloud hosting on the Microsoft Hyper-V platform, we couldn‚Äôt install Linux here during the week, because the ISO image mount function didn‚Äôt work. <br><br>  Commenting on the rest. <br><br>  <a href="http://scalaxy.ru/">Scalaxi</a> - ourselves, <a href="http://wiki.scalaxy.ru/pages/viewpage.action%3FpageId%3D5701643">IBRAID</a> storage on the Infiniband bus, a solution based on <a href="http://www.xen.org/">Xen</a> . <br><br>  Foreign: <br><br>  <a href="http://aws.amazon.com/ec2/">Amazon</a> is the leader in the global cloud computing market, sets the bar for others, tested the fastest <a href="http://aws.amazon.com/ebs/">EBS</a> disks (which everyone complains about anyway, since the loaded database works with difficulty), a solution based on Xen. <br>  <a href="http://rackspace.com/">Rackspace</a> is also a fairly well-known worldwide hoster that uses local drives in servers, instead of network storage, a Xen-based solution. <br>  <a href="http://terremark.com/">Terremark</a> is a fairly large telecommunications company, the main difference is the VMware platform and high-performance professional <a href="http://russia.emc.com/%3FfromGlobalSiteSelect">EMC</a> storage systems. <br><br>  There are not so many honest Russian cloud hosters, so we took them all: <br><br>  <a href="http://selectel.ru/cloud">Selectel</a> - colleagues working with iSCSI storage, a solution based on Xen. <br>  <a href="http://clodo.ru/">Clodo</a> - colleagues working with the first version of our 2008 architecture, <a href="http://www-03.ibm.com/systems/software/gpfs/">IBM GPFS</a> storage, Xen solution. <br><br><h4>  Testing method </h4><br>  Here, of course, we could, with the help of our <a href="http://disorder.ru/">colleague,</a> paint a long and thick <a href="http://disorder.ru/archives/2385">matan</a> , but limited ourselves to a simpler and more practical way. <br><br>  For each provider, including ourselves, we created three virtual machines with debian 6 (or ubuntu 10.10, in case of its absence), 15 GB disks and 512 MB of RAM (excluding Amazon, their micro instance contains 613 MB), so that the cache in RAM did not greatly affect the results. <br><br>  On all three machines, we simultaneously launched a test script that sequentially launches <a href="http://iozone.org/">iozone</a> , recognized as the "killer" of disks, successively three times in a row, which the disk manufacturers themselves are afraid of.  We started it with the following parameters: <code>iozone -a -i0 -i1 -i2 -O -s8G</code> , which means to perform testing for sequential and random write / read data blocks from 4 KB to 16 MB on a file of 8 GB. <br><br>  Further, the test results <a href="">were collected</a> , entered and averaged in the <a href="https://spreadsheets.google.com/a/scalaxy.ru/ccc%3Fkey%3D0AievdEp3JRO3dHl4RkxLaFJnRUZmSVZNQURmUDhZeEE%26hl%3Den">Google table</a> .  Thus, each test item was performed 9 times (3 times on each of the 3 virtual machines).  The exception was Clodo, due to poor performance for the week we managed to get rid of only 1 test on each machine. <br><br>  Tests were launched at 12 noon, a few hours before the peak load in Moscow.  In general, testing in most cases lasted 2-3 days. <br><br>  Previously, we checked for each provider that they do not use any shaper limiting disk operations.  To do this, we created machines of small, medium and large sizes and compared the speed of unbuffered recording and reading.  Many of them also take some money for disk operations, so there is no point in limiting them.  In our case, we completely turned off the shaping of the discs, and turn them on only after we make it possible to individually adjust the band for each disc. <br><br>  Separately, we should add that on our part two nodes of our storage, completely filled with real data, had a useful capacity of 20 TB and a constant load of 10,000 IOPS for reading and writing, in order not to test just the network speed and caches.  Client profile - 90% of web projects of small and medium traffic (up to 50,000 unique visitors per day).  We can only judge about the volume and occupancy of the repositories of other providers. <br><br><h4>  results </h4><br>  To study the results in more detail, we suggest reading the public <a href="https://spreadsheets.google.com/a/scalaxy.ru/ccc%3Fkey%3D0AievdEp3JRO3dHl4RkxLaFJnRUZmSVZNQURmUDhZeEE%26hl%3Den">Google document</a> . <br><br>  And here are static pictures with comments. <br><br>  Primarily arbitrary read and write.  In accordance with the considerations of <a href="http://iometer.cvs.sourceforge.net/viewvc/iometer/iometer/Docs/Iometer.pdf">Intel</a> engineers <a href="http://iometer.cvs.sourceforge.net/viewvc/iometer/iometer/Docs/Iometer.pdf">, the</a> standard database load profile is 67% of random reads, 33% of random entries in blocks from 2 to 8 KB.  In general, real systems are in most cases arbitrary write and random read, so these tests are the most important. <br><br>  It is worth adding that a regular SATA disk provides 120 random IOPS (operations per second) for reading and 60 arbitrary IOPS for writing, a SAS disk - 250 arbitrary IOPS for reading and 500 arbitrary IOPS for writing (due to write caching). <br><br><h5>  Random read </h5><br><img src="http://wiki.scalaxy.ru/download/attachments/5701643/random+read.png" alt="image"><br><br>  Scalaxi, Terremark and Selectlec cache data, so they generally have a higher reading than the rest.  Selectel uses 1 Gbit / s Ethernet, and Terremark and Scalaxi, 8 Gbit / s <a href="http://en.wikipedia.org/wiki/Fibre_Channel">FibreChannel</a> and 40 Gbit / s <a href="http://en.wikipedia.org/wiki/Infiniband">Infiniband</a> , respectively.  Clodo in theory also uses caching, but IBM GPFS on random access annihilates all the advantage. <br><br>  At the same time, obviously, Terremark, EMC or VMware have some problems with random reading in small blocks. <br><br><h5>  Random record </h5><br><img src="http://wiki.scalaxy.ru/download/attachments/5701643/random+write.png" alt="image"><br><br>  The cached entry again leads Scalaxxi, Terremark and Selectel to leaders.  Amazon and Rackspace show the maximum possible speed of random writing to an array of SAS disks.  Clodo's IBM GPFS is not designed for arbitrary operations and shows the worst results. <br><br>  Terremark in this test as a whole surpassed our storage system, but we got the impression that the nodes of their storage system were not fully occupied and less loaded. <br><br><h5>  Sequential reading </h5><br><img src="http://wiki.scalaxy.ru/download/attachments/5701643/seq+read.png" alt="image"><br><br>  In this test, the Scalaxi shows the best results with a steady 300 MB / s due to the efficiency of its caching system and the <a href="http://en.wikipedia.org/wiki/Readahead">readahead</a> algorithm, which is closest to us in Rackspace speed, shows essentially the speed of reading from an array of local disks.  Clodo is on a par with the rest, since GPFS caches data for reading and more or less works with sequential reading. <br><br><h5>  Sequential write </h5><br><img src="http://wiki.scalaxy.ru/download/attachments/5701643/seq+write.png" alt="image"><br><br>  And again Terremark takes the lead.  The value of Scalaxi is close to the results of Rackspace, namely the sequential writing to an array of local disks. <br><br><h4>  Final summary </h4><br>  Considering that the load in Internet projects is mainly formed by two things - a database and distribution of small pictures and other files, our solution can be called ideal and as productive as possible for such projects. <br><br>  Terremark need to adjust settings and everything will be on top. <br><br>  Amazon‚Äôs strategy today is ‚Äúquantity,‚Äù not ‚Äúquality.‚Äù <br><br>  Selectel is a good solution for ethernet and iSCSI. <br><br>  Rackspace are local drives, which you say, but virtual servers are tightly bound to a physical server and any change can cause a long offline migration. <br><br>  Clodo is too slow to use on real applications. <br><br><h4>  Afterword </h4><br>  Continue to follow our blog and <a href="http://twitter.com/scalaxy">@ twitter</a> , as soon: <br><ul><li>  separate <a href="https://oversun.zendesk.com/entries/329244">network shaping</a> ; </li><li>  separate shaping for disks; </li><li>  VMware based on Infiniband; </li><li>  file storage; </li><li>  and much more; </li><li>  including what you offer <a href="https://oversun.zendesk.com/forums/149794">yourself</a> . </li></ul><br>  In addition, as always, a week of free testing at <a href="http://scalaxy.ru/">registration</a> . </div><p>Source: <a href="https://habr.com/ru/post/117260/">https://habr.com/ru/post/117260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../117255/index.html">Go!</a></li>
<li><a href="../117256/index.html">New components for Proliant</a></li>
<li><a href="../117257/index.html">ICQ protocol opened for alternative clients</a></li>
<li><a href="../117258/index.html">[Translation] Now Twitter search is 3 times faster</a></li>
<li><a href="../117259/index.html">505 million rubles for the redesign of the site about spending to overcome the crisis</a></li>
<li><a href="../117261/index.html">LED Continuous Integration Server Status Monitor</a></li>
<li><a href="../117262/index.html">The story of how to get from the Mac to the RMM server module, but not without Windows</a></li>
<li><a href="../117264/index.html">Creating a multilingual installer for Windows using WiX</a></li>
<li><a href="../117266/index.html">Space Competition "Let's Go!" Or "To iPad 2?"</a></li>
<li><a href="../117268/index.html">Work with mail on MS Exchange server via EWS. Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>