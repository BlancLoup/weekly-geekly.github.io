<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>40 tips for optimizing your PHP code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all. 

 Translation of the note " 40 Tips for optimizing your php code ". Author - Reinhold Weber . 



1. If the method can be static, de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>40 tips for optimizing your PHP code</h1><div class="post__text post__text-html js-mediator-article">  Good day to all. <br><br>  Translation of the note " <a href="http://reinholdweber.com/%3Fp%3D3">40 Tips for optimizing your php code</a> ".  Author - <a href="http://reinholdweber.com/">Reinhold Weber</a> . <br><br><ol><li>  If the method can be static, declare it static. </li><li>  echo is faster than print. </li><li>  Pass several parameters to echo instead of using string concatenation. </li><li>  Set the maximum number of passes of your for loops before the loop, and not during its execution. </li><li>  Delete your variables to free memory, especially if these are large arrays. </li><li>  Beware of magical methods such as __set, __get, __autoload. </li><li>  require_once is expensive. </li><li>  Specify full paths in the include / require constructs, less time will be spent searching for the file. </li><li>  If you need to determine the time when the script was launched, use $ _SERVER ['REQUEST_TIME'] instead of time (). </li><li>  Try to use strncasecmp, strpbrk and stripos instead of regular expressions. </li><li>  str_replace is faster than preg_replace, but strtr is faster than str_replace. </li><li>  If a function, like string replacement, can accept both arrays and single characters in its arguments, and if your argument list is not too long, consider writing several identical replacement expressions, passing one character at a time, instead of one line. code that takes an array as a search and replace argument </li><li>  It is better to choose statements using the else if construct than to use several if statements. </li><li>  Suppressing errors when using @ is very slow. </li><li>  Use the Apache module mod_deflate. </li><li>  Close your database connections when you're done with them. </li><li>  $ row ['id'] is seven times faster than $ row [id]. </li><li>  Error messages are expensive </li><li>  Do not use functions inside a for loop condition, for example like this: for ($ x = 0; $ x &lt;count ($ array); $ x).  In this case, the count () function will be called with each pass of the loop. </li><li>  The increment of a local variable in the method is the fastest.  Almost also the local variable increment in the function works. </li><li>  The increment of a global variable is two times slower than a local one. </li><li>  The increment property of an object (ie, $ this-&gt; prop ++) is three times slower than a local variable. </li><li>  The increment of an undefined variable is 9-10 times slower than it was previously initialized. </li><li>  Declaring a global variable, without using it in a function, also slows down the work (by about the same amount as the increment of a local variable).  PHP probably checks for the existence of a variable. </li><li>  The speed of the method call, apparently, does not depend on the number of methods defined in the class.  I added 10 methods to the test class (before and after the test method), without changing the performance. </li><li>  Methods in derived classes are faster than the ones defined in the base class. </li><li>  Calling a function with one parameter and an empty function body is on average 7-8 increments of a local variable ($ localvar ++).  Calling a similar method is, of course, about 15 increments. </li><li>  Your strings defined with the help of 'rather than' will be interpreted a little faster, because PHP searches for variables inside "..", but not '...'. Of course, you can use it only when There are no variables in the row. </li><li>  Strings separated by commas are displayed faster than strings separated by periods.  Note: this only works with the echo function, which can take multiple lines as arguments. </li><li>  PHP scripts will be processed at least 2-10 times slower than static HTML pages.  Try using more static HTML pages and fewer scripts. </li><li>  Your PHP scripts are recompiled every time if the scripts are not cached.  Caching scripts typically increases performance by 25-100% by removing compile time. </li><li>  Cache as much as possible.  Use memcached is a high-performance system of caching objects in memory, which improves the speed of dynamic web applications by facilitating the loading of the database.  The cached microcode is useful because it allows your script to not compile again for each request. </li><li>  When working with strings, when you need to make sure that the string is of a certain length, you certainly want to use the strlen () function.  This function works very quickly, because it does not perform any calculations, but only returns the already known length of the string available in the zval-structure (internal structure C, used when working with variables in PHP).  However, because strlen () is a function, it will work slowly by calling some operations, such as casting a string to lower case and searching the hash table, only after which the main functions of the function will be performed.  In some cases, you can speed up your code by using tricks with isset (). <br>  It was: if (strlen ($ foo) &lt;5) {echo "Foo is too short";  } <br>  It became: if (! Isset ($ foo {5})) {echo "Foo is too short";  } <br>  A call to isset () is faster than strlen () because, unlike strlen (), isset () is not a function, but a language construct.  Due to this, isset () has almost no overhead for determining the length of the string. </li><li>  Increment or decrement of a variable with $ i ++ is a bit slower than ++ $ i.  This is a special feature of PHP, and you do not need to modify your C and Java code in this way, thinking that it will work faster, this will not happen.  ++ $ i will be faster in PHP because instead of four commands, as is the case with $ i ++, you only need three.  Post-increment is usually used when creating temporary variables, which then increase.  While the pre-increment increases the value of the original variable.  This is one of the ways to optimize PHP-code in byte-code utility Zend Optimizer.  However, this is a good idea, since not all bytecode optimizers optimize this, there are also a lot of scripts that work without optimizing into bytecode. </li><li>  Not everything should be OOP, often this is unnecessary, since each method and object takes a lot of memory. </li><li>  Do not define each data structure as a class; arrays are very useful. </li><li>  Don't break up the methods too much.  Think that you really will reuse. </li><li>  You can always break the code into methods later, if necessary. </li><li>  Use countless predefined functions. </li><li>  If your code has functions that take a very long time, consider writing them in C as an extension. </li><li>  Profile your code.  Profiling will show you how much time your code parts are running. </li><li>  mod_gzip is an Apache module that allows you to compress your data on the fly and can reduce the amount of data transferred by up to 80%. </li><li>  <a href="http://phplens.com/lens/php-book/optimizing-debugging-php.php">Extended article on optimization</a> by John Lim. </li>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I'd add that not all of the tips here I agree.  But translation is translation. </ol></div><p>Source: <a href="https://habr.com/ru/post/22799/">https://habr.com/ru/post/22799/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../227975/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ115 (June 22 - 28, 2014)</a></li>
<li><a href="../22798/index.html">Scroll arrows in Google AdSense ads</a></li>
<li><a href="../227983/index.html">GNU / sed Lisp Interpreter</a></li>
<li><a href="../227987/index.html">Private debugging methods</a></li>
<li><a href="../227989/index.html">Zopo ZP700 - just a good smartphone</a></li>
<li><a href="../227991/index.html">Useful materials for mobile developer # 59 (June 23-29)</a></li>
<li><a href="../227993/index.html">On a compression algorithm for random signals (lossy)</a></li>
<li><a href="../227995/index.html">ASUS fonepad 7 LTE tablet</a></li>
<li><a href="../227999/index.html">AdvoCam-FD Black-GPS budget recorder review: Novatek 96650 vs Ambarella A5</a></li>
<li><a href="../22800/index.html">How much water has flowed?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>