<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Do I need a development standard?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Free translation of the article ‚Äú Should we use a coding standard? "From the blog" Virtuous Code "Avdi Grimm. The opinion of the author of the origina...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Do I need a development standard?</h1><div class="post__text post__text-html js-mediator-article">  Free translation of the article ‚Äú <a href="http://devblog.avdi.org/2016/03/02/should-we-use-a-coding-standard/">Should we use a coding standard?</a>  "From the blog" <a href="http://devblog.avdi.org/">Virtuous Code</a> "Avdi Grimm.  The opinion of the author of the original article may not coincide with the opinion of the publisher. <br>  <font color="#808080"><i>Translator's note: I personally agree with the author.</i></font> <br><br><img src="https://habrastorage.org/files/fdb/a97/6b3/fdba976b3a4046a9a5966fab08037b90.jpg"><a name="habracut"></a><br><br>  <i><b>Avdi, should we use a development standard?</b></i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Yes. <br><br>  <i><b>What standard should we use?</b></i> <br><br>  I do not think that there is any one "correct" standard.  Each project should develop its own standard based on its needs and preferences of developers. <br><br>  I think the variety of styles in the community is good.  This is good even for a large organization. <br><br>  When I worked in such an organization, we had a couple of recommended standards for any language we use.  But the final choice of standard for each new project remained on the conscience of the tmlid. <br><br>  I think that the choice of standard for each specific project is good detail.  Thus, each individual repository and each team can have a separate standard. <br><br>  <i><b>How do we choose a development standard?</b></i> <br><br>  Many communities of programming languages ‚Äã‚Äãhave already developed common standards.  For example, if you are writing C code, you can choose <a href="https://www.gnu.org/prep/standards/html_node/Writing-C.html">the GNU development standard</a> .  Or if you are developing in Ruby, you can use the community standard supported by Bozhidar Batsov: <a href="https://github.com/bbatsov/ruby-style-guide">Bozhidar Batsov's community-influenced standard</a> . <br><br>  These standards are the fruit of community thoughts and debates.  Since the agreements included in these standards are based on a majority decision, this is a good starting point. <br><br>  <i><b>But some decisions in these standards are stupid and wrong!</b></i> <br><br><img src="https://habrastorage.org/files/d96/02a/b28/d9602ab2895b4567b51491d0e6871948.png"><br><br>  True.  That's why I say community standards are a good starting point.  When your team has clear objections to certain agreements in the standards - it's time to modify the standard to fit your needs. <br><br>  <i><b>Our team is divided in half in choosing a particular path!</b></i>  <i><b>How can I convince the other half?</b></i> <br><br>  Let's be honest: it is very unlikely that the team is really divided in half.  Usually there are one or two people on the one hand and about the same on the other, the rest of the team does not choose either side. <br><br>  <i><b>OK, so how can I convince these people on the other side of the barricades?</b></i> <br><br>  The confidence of the other side can be shaken by well-founded, real-life examples of the fact that your version more elegantly reveals the essence of the code, is more concisely written, or shows better dangerous places. <br><br>  <i><b>It's not like that, just my style is more beautiful.</b></i>  <i><b>In any case, this is a more idiomatic approach.</b></i> <br><br>  After many years of acquaintance with different development standards, I can say that acquaintance with this standard is most affected by the attitude to the standard.  I do not even remember how many times I came to the project with a standard that I just hated, but after six weeks of work I stopped worrying about it.  Sometimes I even used it as a new standard for my own projects. <br><br>  For example, when I started developing in C ++, I aligned curly braces so that you can look above and immediately see the opening bracket in the same column: <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">** argv)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>; }</code> </pre> <br><br>  Later, I met with GNU / GNOME-style code, where the opening bracket stands on the line with the method declaration.  Argh! <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">** argv)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>; }</code> </pre><br><br>  I shrugged and continued.  The GNU style option even seemed preferable to me. <br><br>  I encountered many examples of code like ‚ÄúA vs. B‚Äù, where option B was objectively more beautiful than option A. Most of the time it was difficult for me to see the difference, which the author considered obvious. <br><br>  In Ruby, the popularized Rails choice agreement between curly brackets and do ... end, based on the number of lines of code inside a block, is a bit silly.  I was told that one of the reasons for this agreement is that the do ... end on one line objectively looks awful: <br><br><pre> <code class="ruby hljs">h.fetch(<span class="hljs-symbol"><span class="hljs-symbol">:some_key</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> raise <span class="hljs-string"><span class="hljs-string">":some_key is required"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><br>  Personally, I see nothing wrong with this line.  Objective aesthetic judgments are bad as rules. <br><br>  It is worth remembering that the ‚Äústandard‚Äù syntax of the language is usually a bit strange at the beginning.  For example, in each C-based language we denote a ‚Äúmessage‚Äù or ‚Äúattribute‚Äù like this: <br><br><pre> <code class="cpp hljs">farm_boy.fetch_me_that_pitcher()</code> </pre><br><br>  Since these are words in English, let's look at it from the point of view of the English language. <br><br>  A dot usually indicates the end of a sentence, or a separator between the integer and fractional parts of a number.  Here it stands on the place where we usually put a comma: <br><br><pre> <code class="cpp hljs"><span class="hljs-string"><span class="hljs-string">"Farm boy, fetch me that pitcher"</span></span></code> </pre><br><br>  Or a colon: <br><br><pre> <code class="cpp hljs"><span class="hljs-string"><span class="hljs-string">"Farm boy: Fetch me that pitcher!"</span></span></code> </pre><br><br>  In the meantime, words are separated from each other by a symbol that beginners <a href="http://devblog.avdi.org/2012/05/15/underscores-are-stupid/">do not know at all</a> .  I don‚Äôt even want to think about quotes. <br><br>  <i><b>Okay, well, the style is subjective.</b></i>  <i><b>But some things really make the code easier, or errors are more noticeable!</b></i> <br><br>  Yes, I think so. <br><br>  <i><b>And my team leader makes the wrong choice !!</b></i> <br><br>  It is possible that you really have good, holistic, code-quality arguments for a particular style.  And the question of choosing a standard can really dissolve you and your team on opposite sides of the barricades. <br><br>  There is one important question that you need to ask yourself, standing up for choosing a particular style of code.  It is so important that I write it in a separate line. <br><br><h2>  How expensive will your project be? </h2><br><br>  Let's see: you are completely right about the choice of style or development practice.  Your opponents are wrong and stupid. <br><br>  But ask yourself whether your correctness will save enough to compensate: <br><ul><li>  Spent hours of the whole team on meetings regarding the style, which do not end in any sensible? </li><li>  Losing a good relationship as a result of head-on collisions at these meetings? </li><li>  The price of huge chains in the mail with discussions of the pros and cons of different standards? </li><li>  Anger and anger of your team, when they will be forced to follow a style that they do not like, but which they eventually imposed on them? </li></ul><br><br>  Some design standards are worth it all.  But I recommend to think well before rushing into battle. <br><br>  <i><b>Standards of development protect against bad habits, but what is their main advantage?</b></i> <br><br>  Development standards give programmers, especially inexperienced, some protection against bad habits, but I do not consider this a major advantage.  For me, the main gain from standards is consistency. <br><br>  Compare two blocks of Ruby code: <br><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># Block #1 output = [] while word = input.shift unless STOP_WORDS.include?(word.downcase) output &lt;&lt; word end end</span></span></code> </pre><br><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># Block #2 output = input.map(&amp;:downcase) - STOP_WORDS</span></span></code> </pre><br><br>  Is it obvious at first glance that both units are doing the same thing?  More importantly: is it obvious that, despite the similar functionality, the blocks have a small but important difference? <br><br>  The real value of a development standard is that it makes similar things look alike, while different things are different.  Such a sequence helps the team to quickly understand the essence of the written code.  In turn, this means that they can work at a higher level of abstraction most of the time. <br><br>  <i><b>How to understand this for Legacy code?</b></i>  <i><b>Should we update every file in the project for a new standard?</b></i> <br><br>  In a word - no.  I see no use in spending hours updating each file in the project line by line according to the new development standard.  It is not worth the cost of time and effort, and can bring new bugs in Legacy code. <br><br>  <i><b>What if I make a change to the Legacy code?</b></i>  <i><b>Do I have to update the entire file, since I took it?</b></i> <br><br>  My answer differs from the conventional wisdom and sometimes surprises people. <br><br>  The answer is no.  Updating the legacy code style will take time, create a big diff and increase the chance of random regression. <br><br>  <i><b>Does this mean that I should use the new style only in new or modified parts of the code?</b></i> <br><br>  Let's specify a question.  Imagine that this is a piece of legacy code: <br><br><pre> <code class="ruby hljs">STOP_WORDS = [ <span class="hljs-string"><span class="hljs-string">'i'</span></span>, <span class="hljs-string"><span class="hljs-string">'we'</span></span>, <span class="hljs-string"><span class="hljs-string">'if'</span></span>, <span class="hljs-string"><span class="hljs-string">'and'</span></span>, <span class="hljs-string"><span class="hljs-string">'the'</span></span> ]</code> </pre><br><br>  Suppose your task is to add the word ‚Äúthey‚Äù to the list.  And according to the new development standard, all strings should be framed with double quotes. <br><br>  Do I need to update the entire list in the process of adding a new word? <br><br><pre> <code class="ruby hljs">STOP_WORDS = [ <span class="hljs-string"><span class="hljs-string">"i"</span></span>, <span class="hljs-string"><span class="hljs-string">"we"</span></span>, <span class="hljs-string"><span class="hljs-string">"if"</span></span>, <span class="hljs-string"><span class="hljs-string">"and"</span></span>, <span class="hljs-string"><span class="hljs-string">"the"</span></span>, <span class="hljs-string"><span class="hljs-string">"they"</span></span> ]</code> </pre><br><br>  Or apply a new standard only for the added string? <br><br><pre> <code class="ruby hljs">STOP_WORDS = [ <span class="hljs-string"><span class="hljs-string">'i'</span></span>, <span class="hljs-string"><span class="hljs-string">'we'</span></span>, <span class="hljs-string"><span class="hljs-string">'if'</span></span>, <span class="hljs-string"><span class="hljs-string">'and'</span></span>, <span class="hljs-string"><span class="hljs-string">'the'</span></span>, <span class="hljs-string"><span class="hljs-string">"they"</span></span> ]</code> </pre><br><br>  As I said before, for me the value of the standard is the preservation of the sequence.  Consistency is important at the project level, but it is also important at the file level.  Therefore, I do not think that it is necessary to follow the new standard when you update a file written according to the old standard.  On the contrary, if the file already has a consistent style of design, you should try to sustain it. <br><br>  This means that if the words in the list are framed with single quotes, you must add a new word in single quotes. <br><br><pre> <code class="ruby hljs">STOP_WORDS = [ <span class="hljs-string"><span class="hljs-string">'i'</span></span>, <span class="hljs-string"><span class="hljs-string">'we'</span></span>, <span class="hljs-string"><span class="hljs-string">'if'</span></span>, <span class="hljs-string"><span class="hljs-string">'and'</span></span>, <span class="hljs-string"><span class="hljs-string">'the'</span></span>, <span class="hljs-string"><span class="hljs-string">'they'</span></span> ]</code> </pre><br><br>  If you frequently update a file with legacy code, then it seems to me a good idea to schedule an update of this particular file according to new standards.  But I do not think that it is worthwhile to proactively update little-used files.  And I do not support locally inconsistent changes just to stay within the standard. <br><br>  ___ <br><br>  What do you think about design standards?  What standards do you apply?  Tell me about it. </div><p>Source: <a href="https://habr.com/ru/post/283080/">https://habr.com/ru/post/283080/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../283064/index.html">Birds and Unity3D, optimization attempt</a></li>
<li><a href="../283066/index.html">What does the CPU do when it has nothing to do</a></li>
<li><a href="../283070/index.html">The digest of news from the world of development on Unity</a></li>
<li><a href="../283072/index.html">JavaScript in Russian - pycckuu.js</a></li>
<li><a href="../283074/index.html">Intel System Studio for Microcontrollers 2015: First Steps</a></li>
<li><a href="../283082/index.html">My 1st WEB App</a></li>
<li><a href="../283084/index.html">Security Week 18: VirusTotal for justice, vulnerability in Android, leak of Slack tokens</a></li>
<li><a href="../283086/index.html">Full lazyload on node.js</a></li>
<li><a href="../283090/index.html">Quick object cloning in JavaScript</a></li>
<li><a href="../283092/index.html">When we wrote the 100th API, we understood ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>