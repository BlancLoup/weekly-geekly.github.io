<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ubuntu 9.04 vs. fiscal registrar (cash register)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all habrasoobschestvu. 

 I understand very well that most of the people present here have long since gone through all the stages of the f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ubuntu 9.04 vs. fiscal registrar (cash register)</h1><div class="post__text post__text-html js-mediator-article">  Good day to all habrasoobschestvu. <br><br>  I understand very well that most of the people present here have long since gone through all the stages of the formation of the Linuxuid, however, I will share an unexpected experience, maybe it will save someone time. <br><br>  Personally, I am connected with Linux to the extent that (since I exclusively use Ubuntu, I use it from time to time, I installed and configured it several times, in general, a teapot), but the most advanced teapot in this area is the people working in our office. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Therefore, it was I who was instructed to get rid, finally, of not quite legal copies of Windows and put it on the Ubuntu 9.04 desktop machines. <br><br>  Special problems were not foreshadowed - 1C was long ago transferred to terminal access on a far-away server with win 2k3 on board, so ... installation, performance check, "file processing" - proprietary drivers and plug-ins, additional drivers for video and audio, network printers, server smb-ball, terminal.  A set of standard and not frightening. <br><br>  And then I remembered about the hemorrhoids approaching me from the rear in the form of the office fiscal registrar PRIM-07K, who worked on the com-port with the ancient-ancient DOS 'shell. <br><a name="habracut"></a><br>  The hour came, the hard drives were cynically formatted, cd-rom lights flashed merrily, free software was installed on the machines smartly and without conflicts, and I sat and thought ... <br><br><ul><li>  The first and obvious thought - <b>WINE</b> - caused a failure.  <b>WINE</b> completely refused to download the damn program.  Of course, I guessed that <b>MS-DOS</b> has little to <b>do</b> with <b>WinApi</b> and <b>DirectX</b> , but the hope was ... (I remind you that I am a teapot). </li><li>  The next idea and step was the good old <b>DOSbox</b> .  He started everything up perfectly and showed, however ... I didn‚Äôt find any communication functions with a COM port (I wasn‚Äôt looking for it badly?), And therefore I‚Äôve failed again. </li><li>  The third in a row, but, in theory, the one that was supposed to be the very first thought, the memory of <b>DOSEMU</b> crept into my head.  I got it, installed it, set it up after all (with the mouse and the ports), but ... the fiscal registrar management program running in it tightly hung after clicking.  Whatever I tried to do.  Failure.  Got upset.  Depressed </li></ul><br>  Here, in the head, along with ‚Äúwell it all went,‚Äù another idea peeked in, something akin to the hunt for jerboa using nuclear weapons.  And she, characteristically, worked.  Kick me and tell me that this is not Ubuntu-Way, but ... I really wanted to go home. <br><br>  So.  The virtualbox package was downloaded and installed from the official repositories.  On the wild Internet, a ms-dos boot diskette was found (with system files from win98, <a href="http://comp.site3k.net/include/_download.php%3Fget%3D/help/bootdisk.exe">Pick up here</a> ), with a file manager, mouse support and a Russian console, as well as <b>MSDOS 6.22</b> installation diskettes ( <a href="http://www.softportal.com/get-2525-ms-dos.html">Pick up here</a> ), previously, using a standard gnome CD \ DVD-burner in .iso recorded program management fiscal registrar. <br><br>  So: <br>  <strong>Let the lust begin!</strong> <br><br> <code>$ virtualbox</code> <br> <br>  The virtualizer itself will open.  In it, we create a new machine, put the Dos type, 32mb of RAM, create a hard disk of 50 megabytes. <br><ul><li>  We connect the floppy disk image of the downloaded boot floppy and cd-rom the created .iso image, <br>  Do not forget about connecting the right ports.  This was my first and only COM, so in virtualbox ports I only had to enable com1, associate it with / dev / ttyS0 and remember to check that the operation mode is selected in the host device (this means that the device itself will need to manage the port). </li><li>  Turn on the virtual machine, boot from the floppy disk, see the forgotten, but still native ‚Äústarting ms-dos‚Äù, and answer the dispatcher‚Äôs questions unequivocally - ESC. </li><li>  Run fdisk, mark up our small virtual hard disk, go back to the console. </li><li>  We start the file manager (on this diskette it is in ‚ÄúBLOCK \ hc.exe‚Äù) and copy our program from the connected image to the root of the C: virtual machine. </li><li>  Turn off the car. </li><li>  Install the floppy disk with the first MS-DOS diskette, turn on the machine, set up, follow the instructions, and turn off the machine again. </li><li>  Again, we mount the downloaded boot diskette, boot from it, start the file manager and copy it to C: \ keyrus.com and mouse.com (console russification and mouse driver) from the diskette. </li><li>  We do A: \ SYS C: (copying updated system files from disk A: to C :. Without this, the program periodically went into deep depression and finally stopped communicating with me). </li><li>  Open for editing C: \ autoexec.bat, (in the file manager on F4), append to the end of this file: <br><br> <code>keyrus.com <br> mouse.com <br> __.exe (    frs.exe)</code> <br> <br></li><li>  We save. </li></ul>  Basically - everything.  We turn off, once again, the virtual machine, go through the options, removing any unnecessary tinsel, such as network interfaces, unnecessary ports, devices mounted on this guest system and so on.  We turn on, we look at the EXTREMELY flashed on the windows 98 bootstrap, we let out a dirty tear, we are pleased to see the loading console, which immediately deploys your program. <br><br>  We test the program, we hear such a welcome sound of a fiscal registrar opening a session ... rejoice. <br><br>  Well, the last minor touch is quite stupid - we create an application launch button on the desktop, in the ‚Äúcommand‚Äù field we write for it: <br><br> <code>virtualbox -startvm _</code> <br> <br>  put the name "Cashier" and ... absolutely everything.  The manager works with the cash register almost in the same way as it worked with it in Windows XP. <br><br>  I apologize for the lack of screenshots - there is no material at hand, I'm at home, and he is at work). <br><br>  Somehow messy happened.  And mostly about DOS, but ... I hope someone will come in handy).  And yet - I would very much like to hear fair criticism of such a decision, as well as other possible options.  Thanks for attention. <br><br>  <b>UPD</b> : Thank you for the invitation UFO) <br>  <b>UPD1</b> : Promised Screenshots: <br><br>  Dos: <br><img alt="Dos" src="http://img19.imageshack.us/img19/3984/10597914.jpg"><br>  Running program: <br><img alt="The program itself" src="http://img43.imageshack.us/img43/2386/frss.jpg"><br>  Oh my God!  What is it?  (: <br><img alt=")" src="http://img43.imageshack.us/img43/1427/win98.jpg"><br>  Configured virtual machine: <br><img alt="Configured Virtual Machine" src="http://img30.imageshack.us/img30/4364/53672339.jpg"><br>  Start Button: <br><img alt="Button settings" src="http://img43.imageshack.us/img43/7302/buttonwu.jpg"></div><p>Source: <a href="https://habr.com/ru/post/69615/">https://habr.com/ru/post/69615/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../69604/index.html">Away3d Universe - Episode 2: In the beginning it was .... # 000000</a></li>
<li><a href="../69607/index.html">Need For Speed ‚Äã‚ÄãSHIFT: Russian song in the soundtrack of the game</a></li>
<li><a href="../69610/index.html">A new competition for startups has appeared in the Urals - ‚ÄúSuccessful Start 2009‚Äù</a></li>
<li><a href="../69611/index.html">I want 3 !!! My work on the bugs on the idea of ‚Äã‚Äãinterface unification</a></li>
<li><a href="../69614/index.html">Storing the date in mysql, taking into account the time zone</a></li>
<li><a href="../69616/index.html">The simplest generation of an odt file from an existing one</a></li>
<li><a href="../69617/index.html">Processing 1.0 and almost the law of the world</a></li>
<li><a href="../69620/index.html">Dial-in server as a network recovery tool</a></li>
<li><a href="../69622/index.html">Can a simple user participate in the development of the Linux kernel? Why it is needed and what causes</a></li>
<li><a href="../69623/index.html">Asymmetric algorithm for generating short serial numbers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>