<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What we did not show the "Mars-3"?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today is 42 years since the first successful landing of a spacecraft from Mars to Mars - Mars-3. It is known that he successfully sat down because the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What we did not show the "Mars-3"?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/1a3/320/014/1a332001404489cdd1c038b0cb7387f0.jpg"><br><br>  Today is 42 years since the first successful landing of a spacecraft from Mars to Mars - Mars-3.  It is known that he successfully sat down because the radio broadcasting began - he began to transmit the first photo-panorama from the surface.  Antennas could open only in the case of a successful primarseniya. <br><br>  As you probably know, this year he was again remembered when it became known that <a href="http://habrahabr.ru/users/zelenyikot/" class="user_link">Zelenyikot</a> and the subscribers of his Vkontakte group <a href="https://vk.com/curiosity_live">Curiosity - Mars</a> <a href="http://habrahabr.ru/users/zelenyikot/" class="user_link">Rover</a> discovered Mars-3 on Mars. <br>  A few days after the discovery of "Mars-3", I began to see how terrible it was, which species had not been transmitted to Earth by the apparatus.  By that time, I had the experience of creating volumetric objects in Blender 3D based on Curiosity images and height maps attached to them.  Therefore, I thought, ‚ÄúBut would it be possible to do the same, but with the model of the landing site Mars-3, placing the camera on behalf of the device?‚Äù. <br><a name="habracut"></a><br>  In theory, everything is simple.  It was necessary to take the data of the Mars Reconnaissance Orbiter satellite, on the basis of which NASA experts created an <a href="http://www.uahirise.org/ESP_032737_1345">anaglyph surface</a> .  Googling, I did not find a way to convert anaglyph into a height map. <br>  In the group of Curiosity was cry for help.  He found a response, for what I express my deep gratitude to <a href="https://vk.com/d_dur">Daniel Tolkachev</a> , who responded and made a height map based on satellite data. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here is his description of the process: <br>  <i>‚ÄúToolkit: Python + OpenCV.</i>  <i>The algorithm is personally written, albeit standard:</i> <i><br></i>  <i>1. Characteristic features are searched for in the images (SIFT algorithm)</i> <i><br></i>  <i>2. A comparison of point features from two images is made.</i>  <i>As a result, we obtain a matrix linking a point on one image and a line on another (the fundamental matrix)</i> <i><br></i>  <i>3. Based on the fundamental matrix, the images are aligned, thus it turns out that the same object in two images lies on the horizontal.</i>  <i>Anaglyph is based on rectified images.</i>  <i>Stereo comparison is also based on them.</i> <i><br></i>  <i>4. Using the Semiglobal Stereo Matching algorithm, a disparity map is generated.</i>  <i>There are some subtleties with setting up the algorithm and processing a large image.</i> <i><br></i>  <i>It is worth noting that the method used for constructing a height map does not allow for obtaining absolute values, and indeed there may be some distortions associated with the feature of satellite imaging. ‚Äù</i> <br><br>  (It seems to be absent on Habr√©, but if the process is interesting, then I will try to invite him for a detailed description). <br><br>  By that time, a <a href="https://vk.com/wall-41633702_24749">competition</a> for the creation of a <a href="http://www.vmasshtabe.ru/konkursyi/mars-3-spuskaemyiy-apparat-3d.html">Mars-3 3D model</a> was <a href="https://vk.com/wall-41633702_24749">held</a> in <a href="http://www.vmasshtabe.ru/konkursyi/mars-3-spuskaemyiy-apparat-3d.html">the "Mars-</a> rover" group, and it could be added to the panorama. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f05/905/e20/f05905e2037127c5825e7d988fb4ee2e.jpg"><br><br>  Next, the case of technology.  In short: I cut a square piece of the desired area in the picture for the texture and the same on the height map.  In Blender 3D, he created the surface, superimposed a height map on it, slightly corrected proportionality, superimposed the texture, adjusted the Sun, the color of the sky, the atmosphere and put the model of the device in its place in the satellite image (which is the texture). <br><br>  I would like to dwell on proportionality.  Any normal person will ask: "And where is the guarantee that the view in this image more or less corresponds to reality?".  Everything is very simple.  Firstly, the map is based on satellite data.  Secondly, there is such an interesting thing - the objects in the program are scaled proportionally.  Each side of the model is increased by the same number of times.  Therefore, stretching the model exactly to the diameter of the device in satellite photography, we automatically make it proportional to the whole landscape. <br>  As a result, it turned out: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/078/ea4/083/078ea4083e7cf516eb8bbb2422a5743e.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/47a/692/afa/47a692afaf2a120e18913b7ea371f087.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7bf/1ed/f01/7bf1edf0127fb0451939527393bc2dbc.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/577/35d/ef3/57735def3dc542e0c73f0689a69268eb.jpg"><br><br>  Here are the pictures that were taken by placing the camera on behalf of the Mars-3 cameras themselves (the length and height of the image corresponds to the format of the camera of the device): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a90/93f/3b5/a9093f3b565f699ecf149d8b80d4c111.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/851/170/4ff/8511704ff400e7c23d78189d01bd8f62.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ae/5e8/85c/9ae5e885ca76b33bf26c09b490892690.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cba/9ae/e46/cba9aee469979b3642aaf0cd5c4a9d88.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f66/3dc/07b/f663dc07b5de66b6632dce934a2f5118.jpg"><br><br>  In the pictures, the most remarkable detail is the mountains in the background - this is the shaft of the 18-kilometer crater Reutov, which was so <a href="http://zelenyikot.livejournal.com/10411.html">named</a> in August 2013. <br><br>  I emphasize that they do not claim to be accurate, but I‚Äôm sure that 60% corresponds to what we would see if the device did transmit images from the surface (and the quality of its cameras would exceed what was set there in 70- e yr). <br>  Unfortunately, we do not have 3D models of the brake motor connected with chains to the lower part of the torus container, and there is no model of the foam casing with which the probe defended itself when it hit the surface.  Therefore, we can not establish a complete picture of the landing site.  There are no drawings either; even the model of the Mars-3 itself was created ‚Äúby eye‚Äù, on the basis of photographs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cee/22d/e76/cee22de76599f6ac8f9e449e43ca0ff7.jpg"><br><br>  As you can see, in the simulation and the surface is not enough stones, all sorts of small details that can be seen in the satellite image.  Therefore, if there are people among the habrayusers who can suggest how to do it more intelligently, or do it themselves, I will be very happy and ready to provide all possible assistance. </div><p>Source: <a href="https://habr.com/ru/post/204562/">https://habr.com/ru/post/204562/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204542/index.html">Two months in a row electric cars topped the ranking of sales in Norway</a></li>
<li><a href="../204548/index.html">Infographics. Everything you wanted to know about her</a></li>
<li><a href="../204552/index.html">Paper airplane PowerUp 3.0 - at the intersection of origami and modern technology</a></li>
<li><a href="../204556/index.html">My answer to Pavel Durov's competition (late Friday)</a></li>
<li><a href="../204558/index.html">Ciklum Minsk invites to the meeting Distributed Teams Management: How do you get the ‚Äúdistance‚Äù to disappear?</a></li>
<li><a href="../204564/index.html">The Japanese company proposes to transmit solar energy from the moon</a></li>
<li><a href="../204566/index.html">Lecture notes "Haskell as the first programming language." Part 2</a></li>
<li><a href="../204568/index.html">Current cryptocurrencies besides bitcoin</a></li>
<li><a href="../204570/index.html">Translation and dubbing of a movie at home - The Mars Underground</a></li>
<li><a href="../204572/index.html">DigitalOcean launched a new data center in Amsterdam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>