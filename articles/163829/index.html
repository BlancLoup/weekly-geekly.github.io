<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Network Rendering on Hybrid Cluster</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once, DEPO Computers received a request to calculate a solution for 10 design designers working in 3ds Max. It was required to pick up not only workst...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Network Rendering on Hybrid Cluster</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/bd0/a77/76c/bd0a7776c65013714189c4fee23a601d.jpg" align="left"><br>  Once, <a href="http://www.depo.ru/category_c1923576.aspx%3Futm_source%3Dtopic251212%26utm_medium%3Dupcut%26utm_campaign%3Dhabrahabr">DEPO Computers</a> received a request to calculate a solution for 10 design designers working in 3ds Max.  It was required to pick up not only workstations, but also a render server for visualizing the results obtained.  There were no problems with graphic stations, but the render server did not want to fit into the budget.  The scope of work on rendering was not assumed to be large, but the speed of execution of the calculation required a high one.  I recommended the customer to use distributed computing on all workstations by means of network rendering, but the customer was not satisfied with this option.  He said that when starting the calculation, all network machines are loaded at 100%, and the possibility of local work is almost eliminated.  At the same time, the available tools that allow you to adjust the load on the network machines involved in the calculation are quite complex and cannot always solve the task. <br><br>  We had to develop a new way to implement the solution, which would provide the necessary functionality within a given budget. <br><a name="habracut"></a><br>  The basis of the solution was the isolation of resources intended for local work and resources allocated for network calculations.  This task was solved by transfer of computing resources to a virtual environment and integration into a computing cluster.  The virtual environment was built on the basis of the Parallels Workstation 6 hypervisor. <br><br><h5>  Implementation example </h5><br>  The operating system and the Parallels Workstation hypervisor are installed on all graphic stations.  With the help of the hypervisor, a virtual machine is created on which the operating system is installed - in our case it is Windows 7, but installation of various operating systems is possible.  In our configuration, the host machine has 12 computing threads, 10 out of 12 are allocated for the virtual machine. The remaining 2 streams will ensure stable operation of the host machine. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/4ac/531/767/4ac53176795f3e4ccae87fee6565c4f8.jpg"><br><br>  Also, a physical network adapter is allocated to the virtual computing server to provide high-speed access to the local network.  The virtual machine receives the amount of RAM and disk space required for operation. <br><br><img src="https://habrastorage.org/storage2/e23/cac/334/e23cac33461d795237c6adafd787c8c4.jpg"><br><br>  On the host machine is installed specialized software that allows you to make network calculations.  Virtual modules are installed software modules (solvers) that will identify the machine on the network as part of the computing cluster. <br>  In our case, the Autodesk 3Ds MAX program for three-dimensional modeling and the Mental Ray visualization system with network rendering support are used.  In order to use the computing power of network machines when calculating the render, we prescribe the IP addresses of each machine in the settings of the visualization system.  In our example, 5 graphic stations are involved, one of which is the initiator of the calculation. <br><br><img src="https://habrastorage.org/storage2/cb6/fc3/bb5/cb6fc3bb566974d15c2c0ed9c7dede25.jpg"><br><br>  In the process of rendering, the visualization system uses 90-100% of the computing power of all the machines involved in the calculation.  Since not all station resources are allocated in a hybrid solution for a virtual machine, the host machine will retain the ability to work locally during network calculation.  The image shows an example of loading the computational resources of the virtual machine and the host under the following load: the virtual machine participates in the network calculation, and a full HD video is played locally on the graphic station and the 3D object is processed. <br><br><img src="https://habrastorage.org/storage2/395/9e9/e0c/3959e9e0ca1a685bac11aef17fcb4fd0.jpg"><br><br>  Resource Monitor shows 100% virtual machine load and 93% graphic station load.  If the local work of the graphics station requires more computing power, in the settings of the hypervisor, you can reallocate resources in favor of the host. <br>  At the moment when the work on the graphics station was not conducted and only the virtual machine was active, the host machine load was reduced to 50-60%.  This means that there is a supply of computing resources for the local operation of the graphics station. <br><br><img src="https://habrastorage.org/storage2/95a/a86/435/95aa864356724477cbdd8c6c65012284.jpg"><br><br>  The performance gain in this solution is proportional to the number of cores involved in the calculation of the processors (provided they are the same) <br><br>  Thus, a hybrid graphics solution for cluster computing allows you to efficiently use the computing resources of each graphics station without sacrificing local work and make simple calculations without using dedicated servers.  This solution can be used to improve system performance in software products ANSYS, MSC, Mental ray, V-Ray and other programs using distributed computing. <br><br>  I hope that this simple solution will help someone with the optimization of the work of a group of users in design and graphics applications. </div><p>Source: <a href="https://habr.com/ru/post/163829/">https://habr.com/ru/post/163829/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../163817/index.html">Gold and silicon fever - what is common?</a></li>
<li><a href="../163819/index.html">Pre-training of the neural network using a limited Boltzmann machine</a></li>
<li><a href="../163821/index.html">EBay data center and adiabatic wetting</a></li>
<li><a href="../163825/index.html">DevCon 2013: last chance for a 25% discount</a></li>
<li><a href="../163827/index.html">Live Suggest.io search: +7 to relevance algorithms</a></li>
<li><a href="../163831/index.html">Amazing Mars</a></li>
<li><a href="../163835/index.html">CentOS 5.x and Motion: View video stream after authorization</a></li>
<li><a href="../163837/index.html">We understand the development of Windows 8 applications on XAML / –° #, implementing a simple RSS Reader. Part 2</a></li>
<li><a href="../163839/index.html">Product Lifecycle Management. Popularly about the processes of life cycle management of telecommunications services</a></li>
<li><a href="../163841/index.html">Display generated on the fly html pages without saving to the clipboard or file system</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>