<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Spring IoC Annotation-based configuration, part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article, I talked about the main annotations of Spring IoC, but there are still a few interesting things that I would like to tell. 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Spring IoC Annotation-based configuration, part 2</h1><div class="post__text post__text-html js-mediator-article">  In the previous <a href="http://flashxl.habrahabr.ru/blog/48439/">article,</a> I talked about the main annotations of Spring IoC, but there are still a few interesting things that I would like to tell. <br>  For those who do not know what the Spring Framework is, I suggest reading this <a href="http://habrahabr.ru/blogs/java/48564/">article</a> . <br><br><a name="habracut"></a><br><br><h3>  A few more words about @Autowired </h3><br>  The @Autowired annotation can be applied not only to bin fields to inject dependencies in them, but also to setters, constructors, and methods.  Consider what it means to @Autowired in each of these cases. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1. @Autowired applied to the setter</b> <br>  Let our experimental bin, <b>which</b> we will inject, look like this: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">package ru.mypackage; <br> <br> import org.springframework.context.annotation.Scope; <br> import org.springframework.stereotype.Service; <br> <br> @Service( <font color="#A31515">"testBean"</font> ) <br> @Scope( <font color="#A31515">"singleton"</font> ) <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> TestBean { <br> <font color="#0000ff">private</font> <font color="#2B91AF">String</font> data = <font color="#A31515">"I am a singleton!!"</font> ; <br> <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> getData() { <br> <font color="#0000ff">return</font> data; <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> setData( <font color="#2B91AF">String</font> data) { <br> <font color="#0000ff">this</font> .data = data; <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  And bin <b>in which</b> we will inject such: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">package ru.mypackage; <br> <br> import org.springframework.beans.factory.annotation.Autowired; <br> import org.springframework.context.annotation.Scope; <br> import org.springframework.stereotype.Service; <br> <br> @Service( <font color="#A31515">"lab1Bean"</font> ) <br> @Scope( <font color="#A31515">"session"</font> ) <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> SimpleBean { <br> <br> <font color="#0000ff">private</font> TestBean bean; <br> <br> @PostConstruct <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> init() { <br> System. <font color="#0000ff">out</font> .println(bean.getData()); <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> setBean(TestBean bean) { <br> <font color="#0000ff">this</font> .bean = bean; <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Actually in this case, if we put @Autowired before the setBean setter: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@Autowired <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> setBean(TestBean bean) { <br> <font color="#0000ff">this</font> .bean = bean; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  he will put a testbean singleton in the bin field and in the console we will see the cherished ‚ÄúI am a singleton !!‚Äù. <br><br>  <b>2. @Autowired applied to the constructor</b> <br>  The situation is similar - if we add the following constructor: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@Autowired <br> <font color="#0000ff">public</font> SimpleBean (TestBean bean) { <br> <font color="#0000ff">this</font> .bean = bean; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  then in the console we will see the long-awaited "I am a singleton !!". <br><br>  <b>3. @Autowired applied to the method</b> <br>  The most interesting situation, here we add this method <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@Autowired <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> doSomething(TestBean bean) { <br> <font color="#0000ff">this</font> .bean = bean; <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"I'm an autowired method and "</font> + bean.getData()); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Spring will automatically call doSomething and give it an instance of TestBean.  The console will appear: <br>  I'm an autowired method and I am a singleton !!! <br>  I am a singleton !!! <br>  The first prints doSomething, the second prints init. <br>  Note that you must set the bean field value; Spring will not do this for you.  That is, if you do not write this.bean = bean; then in the init method there will be a NullPointerException. <br>  @Autowired also has an optional required property.  If required = false, Spring will not throw an exception if it does not find the required bean in the context.  That is, this class will be created quite normally: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">package ru.mypackage; <br> <br> import org.springframework.beans.factory.annotation.Autowired; <br> import org.springframework.context.annotation.Scope; <br> import org.springframework.stereotype.Service; <br> <br> @Service( <font color="#A31515">"lab1Bean"</font> ) <br> @Scope( <font color="#A31515">"session"</font> ) <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> SimpleBean { <br> <br> @Autowired(required= <font color="#0000ff">false</font> ) <br> <font color="#0000ff">private</font> TestBean bean; <br> <br> @PostConstruct <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> init() { <br> <font color="#008000">//    System.out.println(bean.getData());</font> <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> setBean(TestBean bean) { <br> <font color="#0000ff">this</font> .bean = bean; <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><h3>  Abstract <a href="https://habrahabr.ru/users/qualifier/" class="user_link">Qualifier</a> </h3><br>  This annotation allows several specification of a bin, which is necessary for @Autowired.  <a href="https://habrahabr.ru/users/qualifier/" class="user_link">Qualifier</a> takes one input parameter - the name of the bean. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@Autowired <br> @Qualifier( <font color="#A31515">"specialTestBean"</font> ) <br> <font color="#0000ff">private</font> TestBean bean;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  This construct will search in the context of a bin named specialTestBean and in our example we will respectively receive an exception, since the TestBean is declared with the name 'testBean' (@Service ("testBean")). <br>  On the basis of <a href="https://habrahabr.ru/users/qualifier/" class="user_link">Qualifier,</a> you can create your own attributes of beans, this is written quite well (and, importantly, with a huge number of examples) in the Spring Reference Manual. <br><br><h3>  Annotation <a href="https://habrahabr.ru/users/resource/" class="user_link">Resource</a> </h3><br>  <a href="https://habrahabr.ru/users/resource/" class="user_link">Resource</a> - Java EE 5 and Java 6 annotation. The action is similar to @Autowired.  As a parameter, 'name' can take the name of a bean.  The examples above can be rewritten like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// @Autowired</font> <br> <font color="#008000">// </font> <br> @Resource <br> <font color="#0000ff">private</font> TestBean bean;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  and <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// @Autowired</font> <br> <font color="#008000">// @Qualifier("specialTestBean")</font> <br> @Resource(name= <font color="#A31515">"specialTestBean"</font> ) <br> <font color="#0000ff">private</font> TestBean bean;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  This is where Spring IoC annotations can be completed.  We must draw some conclusions ... <br>  Spring has certainly become slimmer, more beautiful with the advent of the configuration style annotations, however, as practice shows, the mechanism is not yet debugged, because  sometimes it happens that Spring, for the life of me, does not want to take an annotated bin, and the one described through XML easily swallows. </div><p>Source: <a href="https://habr.com/ru/post/48606/">https://habr.com/ru/post/48606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48592/index.html">AMD moves: Phenom II and Dragon platform</a></li>
<li><a href="../48594/index.html">What's happening?</a></li>
<li><a href="../48598/index.html">GPS navigator iPhone 3G in the middle of Russia</a></li>
<li><a href="../48599/index.html">Eee PC T91 and Eee PC T101H ‚Äî ASUS 'first netbook tablet PCs</a></li>
<li><a href="../48605/index.html">In-vivo mapping services test</a></li>
<li><a href="../48607/index.html">Let's beat Ruby together! Drop the second</a></li>
<li><a href="../48608/index.html">Formatting if ‚Äì else</a></li>
<li><a href="../48611/index.html">GiiNii Movit Mini - the first TabletPC running Android</a></li>
<li><a href="../48612/index.html">Theme I love Symbian</a></li>
<li><a href="../48614/index.html">Ruby syntax highlighting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>