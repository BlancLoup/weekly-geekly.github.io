<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Measurement of resistance and inductance of a DC motor</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Formulation of the problem 
 There is a DC motor. The task is to develop, assemble and test a device that allows realizing the current loop as applied...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Measurement of resistance and inductance of a DC motor</h1><div class="post__text post__text-html js-mediator-article"><h1>  Formulation of the problem </h1><br>  There is a DC motor.  The task is to develop, assemble and test a device that allows realizing the current loop as applied to this engine.  The desired transition time on a locked engine (without back-EMF) is no more than 10 ms.  Interface communication with an external control controller - SPI. <br><br>  DC motor, collector, maximum voltage 24V, operating current up to 5A. <br><br>  What does current loop mean?  The most common drivers for engine control are all kinds of half-bridge variations that increase the voltage.  And I want the driver to take at the input not the voltage, but the amperage.  The force developed by the electric drive is directly proportional to the strength of the flowing current.  So, it is directly proportional to the acceleration on the motor shaft.  Such a current loop will avoid the perversions that need to be done without it, as I did <a href="https://habrahabr.ru/post/280486/">here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I have broken this text into two articles: <br><br><ul><li>  <b>1. Measurement of motor resistance and inductance</b> </li><li>  <a href="https://habrahabr.ru/post/315488/">2. Development of the control circuit</a> </li></ul><br>  This is how the layout of the controlling iron looks like: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1b5/a46/085/1b5a46085014b5705f481b05ba580c63.jpg"><br><a name="habracut"></a><br><h1>  Iron </h1><br>  The system will include: <br><br><ul><li>  The power chip of the keys, which takes the input PWM signal and amplifies it. </li><li>  Current sensor. </li><li>  Control microcontroller that implements feedback and control law. </li></ul><br><h2>  Power driver </h2><br>  The <a href="http://www.robotshop.com/media/files/pdf/overview-1212.pdf">widely available board</a> ($ 18) from Pololu based on the Freescale MC33926 chip, the maximum PWM frequency of 20kHz, 5A at the peak, and the switching voltage from 5 to 28 volts was chosen as the power driver. <br><br>  This chip was taken for its ability to measure the absolute magnitude of the flowing current, which in the end was not used.  Thus, you can save a little by taking a cheaper driver with similar characteristics. <br><br><h2>  Current sensor and its verification </h2><br>  The <a href="http://www.microbot.it/documents/mr003-006_datasheet.pdf">Allegro ACS714 Hall sensor</a> ($ 3) is selected as the current <a href="http://www.microbot.it/documents/mr003-006_datasheet.pdf">sensor</a> , which produces an analog signal with a center of 2.5V and 185mV / A, a typical error of 1.5%.  An RC-chain was added to the sensor as a low-pass filter with a cut-off frequency of 16 kHz. <br><br>  The current sensor was powered from a 4.96V source, a resistor was connected in series with the sensor, through which 2A was passed.  The theoretical voltage at the output pin should be 4.96 / 2 + (2 * 0.185 + - 1.5%), the measurement showed 2.84 V, which fits into the calculated parameters.  Then the direction of current flow through the resistor was varied, at -2A, the measured voltage at the output pin of the sensor was 2.11V, which again fits into the calculated parameters: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/13f/ae2/1f5/13fae21f55264157a5e1f6555e5c0390.jpg"><br><br>  This check was necessary because  I bought several prototypes with ACS712 and ACS714 from different manufacturers, and only one got into the datasheet parameters! <br><br><h2>  Microcontroller </h2><br>  <a href="http://www.atmel.com/images/Atmel-8271-8-bit-AVR-Microcontroller-ATmega48A-48PA-88A-88PA-168A-168PA-328-328P_datasheet_Complete.pdf">ATMega328p</a> operating at 16 MHz was chosen as the control microcontroller.  The binding of the microcontroller is a Chinese clone Arduino Nano v3 ($ 1.5). <br><br>  The microcontroller generates a PWM signal through an eight-bit counter with a divider 8, thus the frequency of the PWM signal is 16 * 10 ^ 6/255/8 = 7.8 kHz, which fits into the maximum available for the 20kHz driver. <br><br>  The ADC divider of the microcontroller is set to 128;  since each measurement requires approximately 13 clocks, the maximum measurement frequency of the flowing current is approximately 16 * 10 ^ 6/128/13 = 9.6 kHz.  Measurements are performed in the background, notifying the main program of the termination by calling the appropriate interrupt. <br><br><h2>  Logs </h2><br>  I have long struggled with how to record what is happening inside the microcontroller, because he has very little memory.  As a result, I found that the native SPI interface is very fast, and as a result, all debugging information is transmitted by the microcontroller via the SPI interface, the widely available ( <a href="http://www.dx.com/p/logic-analyzer-w-dupont-lines-and-usb-cable-for-scm-black-148945">$ 10 on dilextreme</a> , $ 6 on aliexpress) Chinese clone of the logic analyzer Saelae Pro 8 Logic was used to record it.  After a completely <a href="http://gronlier.fr/blog/2014/07/usbee-ax-pro-reprogramming/">uncomplicated manipulation of the VID / PID flashing</a> , it can be used with the native software from Saelae.  I use sigrok (pulseview).  It has an exceptionally simple format of log files, which I just read with my own handwritten program in fifty lines.  I bought this analyzer on the advice of <a href="https://habrahabr.ru/users/gbg/" class="user_link">gbg</a> , which I remotely repaired my Spectrum (thank you so much!), And I consider this the most profitable investment in the last two years. <br><br>  For example, I gave a sinusoidal signal (in PWM) to the controller output, and the logic analyzer sees it perfectly: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f6/288/e58/5f6288e58da2b0b991cf2ff649f17a02.png"><br><br>  All this was combined together, the photo is given in the title of the post. <br><br><h1>  Lyrical digression </h1><br>  Almost all the articles that I post here are my work diary.  I learn something (in this case, control theory) and carefully write down what I learned.  The best way to write is to write an explanation of how this all works.  Then I post articles at various sites, for example here. <br><br>  I have two goals when writing text: <br><br>  a) <b>get feedback from people who know more than me.</b>  For example, almost everything that I learned for these two articles, I was told by the distinguished <a href="https://habrahabr.ru/users/arastas/" class="user_link">Arastas</a> , I ask you to love and favor: a person who spends personal time learning such obtuses like me. <br><br>  Again, <a href="https://habrahabr.ru/users/gbg/" class="user_link">gbg</a> , who <a href="https://habrahabr.ru/post/249101/">wrote me linear algebra</a> for my lectures <a href="https://github.com/ssloy/tinyrenderer/wiki">on computer graphics</a> , and then for many thousands of kilometers by telephone debugil me electronics. <br><br>  b) <b>just write it down:</b> this way I get a library of personal experience, which I periodically return to.  <i>By the way, themed media, what percentage of authors agree to your terms of support program?</i> <br><br><h1>  Required educational program </h1><br><h3>  Fourier transform </h3><br>  The first thing to understand when reading my texts: I believe that function and vector are one and the same.  All the talk about infinity bored me and obscure the essence of what is happening.  Generalized functions and the like are a way to treat pathological cases using the same language as cases where there are no pathologies.  Here only pathologies do not interest me. <br><br>  Valery Opoytsev (Boss) <a href="http://www.alleng.ru/d/math/math171.htm">spoke</a> well on this subject: <br><br><blockquote> In any field it is useful to be in a suitable environment of oral communication, where the husks of a book fall off.  There sometimes nothing changes in essence, but there is a feeling of falling into a rut and liberation from dogma.  For science, which is always in a mask, this is especially important.  The essence behind the scenes, before the eyes - lace.  And forever something is missing.  That simplicity, the complexity, but just can not determine - what.  Something is striding somewhere, you are on the side of the road, and time goes into the sand, not to mention life. <br><br>  Next, an attempt is made to move the situation from the scene, simulating a written environment where ‚Äúthe covers fall down‚Äù.  The external outline of the content is more or less unclear from the table of contents, but the main goal is the one behind the scenes.  Remove the veil, make-up, remove the scenery.  To oversimplify, even to lie a little, for the dosing of truth is the cornerstone of explanation.  The results, overloaded with details, do not crawl where necessary.  Illumination happens when a plump head falls to the level of ‚Äútwo and two‚Äù, while the bill goes to the millions.  Such is the dialectic here. </blockquote><br>  If we have a vector (7,12,18, -2), then it can be considered as a set of coefficients in a weighted sum.  7 * (1,0,0,0) + 12 * (0,1,0,0) + 18 * (0,0,1,0) + (-2) * (0,0,0,1) .  Exactly the same can be considered this vector as function values ‚Äã‚Äãat points 0, 1, 2, 3, because our vectors (0,1,0,0) and others like it can be considered as a shift of a single impulse: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7b/ecc/23d/a7becc23dee5f3dc6cbcbe92059cdcb8.gif"></div><br>  If we constantly increase the number of vectors (shifted unit impulses) in the basis, we get the usual functions. <br><br>  Unfortunately, it is rather inconvenient to work with such a basis.  Let's take the following function as an example: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c94/071/90a/c9407190a257da5643ddf878dd761df9.png"></div><br>  We have already <a href="https://habrahabr.ru/post/308526/">talked</a> about what Fourier transform is.  In short, this is a change of basis. <br><br>  In our case, the Fourier transform is a function from real to complex numbers: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/28b/656/f4f/28b656f4fb2e6dd1d88e79951632a2b9.png"></div><br>  The function argument (real number) is simply the number of the basis function or vector (in fact, a pair of basis functions), and its value is the corresponding (pair) of coordinates in for these two vectors in the basis.  The Fourier basis is the sines and cosines of various frequencies.  Frequency is the number of the basis function. <br><br>  For our particular function f (t), which is already a weighted sum of sine and cosine, it is very easy to calculate its decomposition into the Fourier basis: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/829/ea2/8b2/829ea28b22ed5210aaafb326c89ee6d3.png"></div><br>  That is, our function f (t) has zero coordinates for all basis vectors, except vectors number 11 and 41. <br><br>  How is the Fourier basis useful?  For example, the operation of differentiation linearly transforms this basis.  Suppose we want to calculate the Fourier transform of the derivative f '(t).  How to do it?  Alternatively, in the forehead: first calculate the derivative, and then calculate the Fourier transform: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/140/3c5/3dc/1403c53dcc0f264489566716967dc72d.png"></div><br>  Obviously, when differentiating sin (x), it becomes sin (x + 90 ¬∞), that is, it is extremely easy to find a correspondence expansion in the Fourier basis of the original function and its derivative: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2fd/3f6/fa4/2fd3f6fa42a1c38e56a3da91c8ccf79f.png"></div><br>  Multiplication by <i>i</i> is simply a rotation of the complex plane, which corresponds to + 90 ¬∞ in the argument of our function.  That is, the operation of differentiation, which is difficult to do in the basis of single impulses, in the Fourier basis is just a scaling and a rotation of 90 degrees.  Beautiful, is not it? <br><br><h3>  Laplace transform </h3><br>  Roughly the same story happens with the Laplace transform.  Unfortunately, unlike the Fourier basis, the Laplace basis is non-orthogonal, so for an intuitive understanding a bit more complicated.  Well, not the essence.  Laplace went a little further.  If Fourier had only sinusoids in the basis, then Laplace had an exponential decay in the basis of the sinusoids.  Where did he get them?  This is extremely, extremely useful in solving linear differential equations.  Let's think about what function transforms itself into differentiation?  Exhibitor.  And when differentiating twice?  Sinus.  And their combinations provide all the possible functions that may appear when solving (linear) diffuros, which was used by the Marquis de Laplace. <br><br>  We will not go into details of how these properties are derived (better consider carefully the properties of the Fourier basis, it is simpler), let's just note the following facts: <br><br>  1. The Laplace transform is linear: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a8d/5c8/9a1/a8d5c89a11d95725ee52bc058b71f59b.png"></div><br>  2. The Laplace transform of the derivative is an affine action on the transform of the function itself: <br>  3 <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d7/0df/427/0d70df4273d66a80b11149e9d276049e.png"></div><br><h1>  We proceed directly to the case </h1><br>  So, if we have a DC motor, then the flowing current I (t) and the voltage at the terminals U (t) are related by the following differential equation, where w (t) is the speed of rotation of the motor shaft: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5c4/9c3/4a0/5c49c34a00d10bd864362ff317ad4300.png"></div><br>  Here L is the inductance, and R is the resistance that we are looking for.  I will not repeat where this diffur comes from, since I have already <a href="https://habrahabr.ru/post/280486/">painted</a> it in detail on the fingers (see ‚ÄúMaxwell's Equations on the Fingers‚Äù). <br><br>  Since our task is to find L and R, let's rigidly fix the motor shaft, thus causing w (t) to be zero: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/104/9ed/ab6/1049edab66786af0d556715cde12fed6.jpg"><br>  On the advice of <a href="https://habrahabr.ru/users/arastas/" class="user_link">Arastas,</a> I gave two types of signals to my engine: a meander and a sine wave.  Then I measured the current flowing, the picture is approximately as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90b/54a/37b/90b54a37bb1249c1d13bc01b3417d9f6.png"><br><br>  Here, the blue curves are the input voltage that I monitor, and the green ones are the current measurements obtained with the ACS714. <br><br>  My microcontroller code, which generates 11 experiments with a meander and sinusoids of various amplitudes and frequencies, <a href="">can be found here</a> . <br><br>  Let's solve our differential equation for both types of voltage signal, obtain a parametric output current signal, and select parameters so that the theoretical curve approximates real measurements as best as possible. <br><br><h2>  Input signal - Heaviside function (half-period of meander) </h2><br>  So, w (t) = 0, the initial conditions I (0) = 0, the current at the very beginning does not flow.  We apply a constant voltage U0 to the motor terminals. How should the current flow? <br><br>  Let's take the Laplace transform of the left and right sides of the differential equation (1): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/029/bb3/116/029bb31160ecd2a4194b1c9a9e641eb5.png"></div><br>  For the second line, I used the Laplace transform linearity, I took U0 / s from the <a href="https://en.wikipedia.org/wiki/List_of_Laplace_transforms">table</a> (usually, the Laplace transforms manually do not count, they use the tables). <br><br>  To get the third line, use the derivative property. <br><br>  The last line is obtained from the penultimate use of the <a href="https://en.wikipedia.org/wiki/Partial_fraction_decomposition">method of indefinite decompositions</a> .  The meaning of this transition is to get a table function again.  Of course, in the twenty-first century, it <a href="http://www.wolframalpha.com/widgets/view.jsp%3Fid%3Dec4a062bb304f88c2ba0b631d7acabbc">‚Äôs useless</a> . <br><br>  Now it remains to apply the inverse Laplace transform (for the right side we look at the table) and we decided our diffur.  The transition to the Laplace basis has turned the differential equation into the usual algebraic one! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/973/b8d/893/973b8d89300c12ff419b32f2e234e9fd.png"></div><br>  Quick check of the result: after a few milliseconds, the inductance will no longer play a role, and we get the flowing current U_0 / R (Ohm's law).  At the very beginning, the current flowing is zero and increases exponentially, and the rate of increase is directly dependent on the inductance.  Sanity check passed. <br><br>  The measurement file is <a href="">here</a> .  Three columns, seconds, applied voltage (in volts), measured current (in amperes). <br><br>  Here is the code that selects the resistance and inductance parameters for this experiment: <br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.optimize <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> curve_fit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt U0 = <span class="hljs-number"><span class="hljs-number">19.2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unit_step_current</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x, R, L)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [U0/R - U0/R*np.exp(-t*R/L) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x] data = np.genfromtxt(<span class="hljs-string"><span class="hljs-string">'unit_step_19.2V.csv'</span></span>, delimiter=<span class="hljs-string"><span class="hljs-string">','</span></span>, names=[<span class="hljs-string"><span class="hljs-string">'t'</span></span>, <span class="hljs-string"><span class="hljs-string">'V'</span></span>, <span class="hljs-string"><span class="hljs-string">'A'</span></span>]) [R, L] = curve_fit(unit_step_current, data[<span class="hljs-string"><span class="hljs-string">'t'</span></span>], data[<span class="hljs-string"><span class="hljs-string">'A'</span></span>])[<span class="hljs-number"><span class="hljs-number">0</span></span>] print(R, L) fig = plt.figure() ax1 = fig.add_subplot(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) ax1.set_title(<span class="hljs-string"><span class="hljs-string">"Resistance/inductance fitting"</span></span>) ax1.set_xlabel(<span class="hljs-string"><span class="hljs-string">'Time, seconds'</span></span>) ax1.set_ylabel(<span class="hljs-string"><span class="hljs-string">'Current (A), tension (V)'</span></span>) ax1.plot(data[<span class="hljs-string"><span class="hljs-string">'t'</span></span>], data[<span class="hljs-string"><span class="hljs-string">'V'</span></span>], color=<span class="hljs-string"><span class="hljs-string">'b'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'input tension'</span></span>) ax1.plot(data[<span class="hljs-string"><span class="hljs-string">'t'</span></span>], data[<span class="hljs-string"><span class="hljs-string">'A'</span></span>], color=<span class="hljs-string"><span class="hljs-string">'g'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'measured current'</span></span>) model=unit_step_current(data[<span class="hljs-string"><span class="hljs-string">'t'</span></span>], R, L) ax1.plot(data[<span class="hljs-string"><span class="hljs-string">'t'</span></span>], model, color=<span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'fitted curve'</span></span>) ax1.legend() plt.show()</code> </pre> <br></div></div><br>  He says that the pair R = 4.4 Ohm, L = 6m Henry is well suited, here is the graph: <br><img src="https://habrastorage.org/getpro/habr/post_images/333/055/23e/33305523e48083abb5a4c270d8b23091.png"><br><h2>  Input - sine </h2><br>  Repeat the procedure for a voltage sine wave with amplitude U0 and frequency F0.  Apply the Laplace transform to equation (1), first to the right side: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ea/775/031/7ea775031f9125efd42c808cc347ac5d.png"></div><br>  and then to the left: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/342/cc0/3e9/342cc03e907d287bba18d4bfd8627a95.png"></div><br>  Now the inverse transformation will give us the following law of current flow: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/703/47e/5f7/70347e5f7dd0fffe90ccff79d3b425c5.png"></div><br>  Again, fast sanity check: zero current at the very beginning, a few milliseconds of transients (exponent, directly dependent on inductance).  After some time, the current flowing is the weighted sum of the sine and cosine of the same frequency (the frequency is equal to the input, this is good).  This amount gives a sinusoid slightly shifted in time.  Great, the result is believable. <br><br>  The measurements are <a href="">here</a> , and the parameter selection code is <a href="https://github.com/ssloy/tutorials/blob/master/tutorials/dcmotor/sine_fit.py">here</a> .  It gives approximately the same values ‚Äã‚Äãof resistance and inductance, which we needed.  Here is the schedule: <br><img src="https://habrastorage.org/getpro/habr/post_images/9a1/7b4/675/9a17b4675f315411da6e13daf524b98b.png"><br><h1>  Conclusion </h1><br>  Why not measure the parameters directly, why all this garden with microcontrollers?  First, I have nothing to measure inductance.  Yes, and measuring the resistance of the engine with an ohmmeter can have its own nuances. <br><br>  Further, the parameters found at a high signal amplitude do not quite coincide with what is obtained at low voltages.  It may be interesting (not considered here) to make a model not only of the engine, but of the whole system, including the non-linearity of the PWM driver. <br><br>  Well, then it remains to develop a regulator that will take the required current strength at the input.  Stay in touch! </div><p>Source: <a href="https://habr.com/ru/post/314520/">https://habr.com/ru/post/314520/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314508/index.html">Synthesis of images using deep neural networks. Lecture in Yandex</a></li>
<li><a href="../314510/index.html">6 functional programming concepts. Use and examples of use</a></li>
<li><a href="../314512/index.html">Names of large numbers in idle games</a></li>
<li><a href="../314514/index.html">Sudoku: so how many of them? Part 2/2</a></li>
<li><a href="../314518/index.html">Working with the VKontakte C # API</a></li>
<li><a href="../314522/index.html">Auto-collection of data about database files and logical disks of the operating system in MS SQL Server</a></li>
<li><a href="../314524/index.html">.NET Tools. Interview with Sergey Shkredov (JetBrains), Pavel Avsenin and Alexander Zakharov (DevExpress)</a></li>
<li><a href="../314528/index.html">The power of ITIL and the problem with the guru</a></li>
<li><a href="../314532/index.html">Procedural vegetation on OpenGL and GLSL</a></li>
<li><a href="../314534/index.html">Bug Inside: a tiny chance to make a huge mistake on the Pentium</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>