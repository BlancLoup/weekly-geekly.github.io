<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GridStack - A practical example of flex + bison</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently , several articles devoted to the grammatical analysis of expressions have appeared on Habr√©. 
 And that's great! In my humble opinion, every...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GridStack - A practical example of flex + bison</h1><div class="post__text post__text-html js-mediator-article">  Recently <a href="http://habrahabr.ru/blogs/algorithm/50349/">,</a> <a href="http://habrahabr.ru/blogs/algorithm/50276/">several</a> <a href="http://habrahabr.ru/blogs/algorithm/50196/">articles</a> devoted to the grammatical analysis of expressions <a href="http://habrahabr.ru/blogs/algorithm/50349/">have appeared</a> on Habr√©. <br>  And that's great!  In my humble opinion, every programmer should at least once in his life write an expression parsing.  I will try and make my contribution to the common cause. <br><br>  There are many methods of analysis (I recommend the following review by <i>Dick Grune, Ceriel JH Jacobs - Parsing Techniques: A Practical Guide, ISBN 0-13-651431-6</i> ).  Moreover, implementations of methods range from fully manual to using automated generators, such as bison, antlr, lemon, and others. <br>  While manual writing of lexical and syntactic (I will call from lexer and parser) allows you to achieve maximum speed and control (especially over errors and ways to overcome them), the use of generators allows you to focus directly on the task, facilitates the modification of grammar and saves time.  The ability to own such tools allows more often to resort to DSL (Domain Specific Language) and generally see the possibility of their use. <br><br>  I want to give an example of using bison (parser) and flex (lexer) in real life: from the origin of the problem, to its solution. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  There is a wonderful program <a href="http://habrahabr.ru/blogs/arbeit/13111/">GridMove</a> , which allows you to organize application windows by any kind of binding grid.  Binding grids are specified in a regular ini-file, in which the trigger areas and the corresponding window sizes and positions are indicated.  Together, many remarkable meshes have been developed.  But there was a problem: they didn‚Äôt fit my layouts, creating several grids manually, I wanted to somehow automate the process. <br><br>  After analyzing the grids I needed, I realized that they can be described by a simple recursive structure. <br>  A region is either a summary window, or a vertical region, or a horizontal region.  The vertical region consists of regions that have the same width and divide the height in the specified shares.  The horizontal region, respectively, consists of regions that have the same height and divide the width in the specified shares. <br><br>  Consider a simple example. <br><img src="http://img220.imageshack.us/img220/7100/windowzd8.png" alt="window splitting example"><br>  The entire monitor is represented as a horizontal region, which consists of subregions A and B. Region A is a vertical region of subregions C and D. Region C is simply a window that is no longer divided.  Region D is a horizontal region of three simple windows.  Region B is a vertical region of three simple windows. <br>  This can all be described as follows on the DSL invented by me: <br><blockquote>  Monitor <font color="#cc66cc">1</font> <br>  HStack # All Window <br>  <font color="#66cc66">(</font> <br>  VStack <font color="#cc66cc">3</font> # Region A <br>  <font color="#66cc66">(</font> <br>  Window <font color="#cc66cc">2</font> # Region C <br>  HStack # Region D <br>  <font color="#66cc66">(</font> <br>  Window # Region E <br>  Window # Region F <br>  Window # Region G <br>  <font color="#66cc66">)</font> <br>  <font color="#66cc66">)</font> <br>  VStack # Region B <br>  <font color="#66cc66">(</font> <br>  Window # Region H <br>  Window # Region I <br>  Window # Region J <br>  <font color="#66cc66">)</font> <br>  <font color="#66cc66">)</font> <br></blockquote><br>  Window, HStack, VStack is a description of the regions.  Numbers in the region - relative weight, the proportion of the region in the superregion (default == 1).  If the number is accompanied by the ‚Äú!‚Äù Sign, then this is a hard-coded pixel size. <br><br>  When I realized that the arrangement of the windows on the screen can be described as follows, I scribbled something above on a piece of paper, only in Russian.  Then I decided that it would be more convenient for me to create a DSL, disassemble it and process it. <br>  Let's build a grammar.  Non-terminal symbols are italicized. <br>  <i>start</i> :: = <i>monitor_list</i> <br>  <i>monitor_list</i> :: = <i>monitor</i> |  <i>monitor</i> <i>monitor_list</i> <br>  <i>monitor</i> :: = MONITOR DIMENSION <i>region</i> <br>  <i>region_list</i> :: = <i>region</i> |  <i>region</i> <i>region_list</i> <br>  <i>region</i> :: = <i>window</i> |  <i>hstack</i> |  <i>vstack</i> <br>  <i>window</i> :: = WINDOW DIMENSION |  WINDOW FIX_DIMENTION |  WINDOW <br>  <i>hstack</i> :: = HSTACK OPEN <i>region_list</i> CLOSE |  HSTACK DIMENSION OPEN <i>region_list</i> CLOSE |  HSTACK FIX_DIMENTION OPEN <i>region_list</i> CLOSE <br>  <i>vstack</i> :: = VSTACK OPEN <i>region_list</i> CLOSE |  VSTACK DIMENSION OPEN <i>region_list</i> CLOSE |  VSTACK FIX_DIMENTION OPEN <i>region_list</i> CLOSE <br><br>  There are very few terminal characters for which you need to build a lexical analyzer: MONITOR, HSTACK, VSTACK, WINDOW, OPEN, CLOSE, DIMENSION and FIX_DIMENTION.  For such a case, you can, of course, write a lexical analyzer manually, but even for such a case it is easier to use flex.  I will <i>provide the</i> finished <i>GridStack.lex</i> file.  Please do not pay special attention to how the case-insensitive vocabulary is implemented.  It was possible to call flex with the <b>-i option</b> , but I did case-insensitively that way.  I started the terminals for the brackets, as I was not sure about the final format. <br><blockquote> <code><font color="#808080">/*&lt;br/&gt; <br> * GridStack.lex&lt;br/&gt; <br> */</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#339933">%</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#339933">#include &lt;stdio.h&gt;</font> &lt;br/&gt; <br> <font color="#339933">#include &lt;string.h&gt;</font> &lt;br/&gt; <br> <font color="#339933">#include &lt;malloc.h&gt;</font> &lt;br/&gt; <br> <font color="#339933">#include "common.h"</font> &lt;br/&gt; <br> <font color="#339933">#include "GridStack.tab.h"</font> &lt;br/&gt; <br> <font color="#808080">/*"GridStack.tab.h"                  */</font> &lt;br/&gt; <br> <font color="#808080">/*       yylval,       */</font> &lt;br/&gt; <br> <font color="#808080">/*    bison                */</font> &lt;br/&gt; <br> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#339933">#undef ECHO</font> &lt;br/&gt; <br> <font color="#339933">#define ECHO</font> &lt;br/&gt; <br> <font color="#339933">%</font> <font color="#009900">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> digit <font color="#009900">[</font> <font>0</font> <font color="#339933">-</font> <font color="#0000dd">9</font> <font color="#009900">]</font> &lt;br/&gt; <br> &lt;br/&gt; <br> int_constant <font color="#009900">{</font> digit <font color="#009900">}</font> <font color="#339933">+</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#339933">%</font> option noyywrap <font color="#339933">&lt;---</font>      yywrap    &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#339933">%%</font> &lt;br/&gt; <br> <font color="#009900">[</font> Mm <font color="#009900">]</font> <font color="#009900">[</font> Oo <font color="#009900">]</font> <font color="#009900">[</font> Nn <font color="#009900">]</font> <font color="#009900">[</font> Ii <font color="#009900">]</font> <font color="#009900">[</font> Tt <font color="#009900">]</font> <font color="#009900">[</font> Oo <font color="#009900">]</font> <font color="#009900">[</font> Rr <font color="#009900">]</font> <font color="#009900">{</font> &lt;br/&gt; <br> yylval. <font color="#202020">IntVal</font> <font color="#339933">=</font> MONITOR;&lt;br/&gt; <br> <font color="#b1b100">return</font> MONITOR;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#009900">[</font> Hh <font color="#009900">]</font> <font color="#009900">[</font> Ss <font color="#009900">]</font> <font color="#009900">[</font> Tt <font color="#009900">]</font> <font color="#009900">[</font> Aa <font color="#009900">]</font> <font color="#009900">[</font> Cc <font color="#009900">]</font> <font color="#009900">[</font> Kk <font color="#009900">]</font> <font color="#009900">{</font> &lt;br/&gt; <br> yylval. <font color="#202020">IntVal</font> <font color="#339933">=</font> HSTACK;&lt;br/&gt; <br> <font color="#b1b100">return</font> HSTACK;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#009900">[</font> Vv <font color="#009900">]</font> <font color="#009900">[</font> Ss <font color="#009900">]</font> <font color="#009900">[</font> Tt <font color="#009900">]</font> <font color="#009900">[</font> Aa <font color="#009900">]</font> <font color="#009900">[</font> Cc <font color="#009900">]</font> <font color="#009900">[</font> Kk <font color="#009900">]</font> <font color="#009900">{</font> &lt;br/&gt; <br> yylval. <font color="#202020">IntVal</font> <font color="#339933">=</font> VSTACK;&lt;br/&gt; <br> <font color="#b1b100">return</font> VSTACK;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#009900">[</font> Ww <font color="#009900">]</font> <font color="#009900">[</font> Ii <font color="#009900">]</font> <font color="#009900">[</font> Nn <font color="#009900">]</font> <font color="#009900">[</font> Dd <font color="#009900">]</font> <font color="#009900">[</font> Oo <font color="#009900">]</font> <font color="#009900">[</font> Ww <font color="#009900">]</font> <font color="#009900">{</font> &lt;br/&gt; <br> yylval. <font color="#202020">IntVal</font> <font color="#339933">=</font> WINDOW;&lt;br/&gt; <br> <font color="#b1b100">return</font> WINDOW;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#009900">{</font> int_constant <font color="#009900">}</font> <font color="#339933">!</font> <font color="#009900">{</font> &lt;br/&gt; <br> sscanf <font color="#009900">(</font> yytext <font color="#339933">,</font> <font color="#ff0000">"%d!"</font> <font color="#339933">,&amp;</font> yylval. <font color="#202020">IntVal</font> <font color="#009900">)</font> ;&lt;br/&gt; <br> <font color="#b1b100">return</font> FIX_DIMENTION;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#009900">{</font> int_constant <font color="#009900">}</font> <font color="#009900">{</font> &lt;br/&gt; <br> sscanf <font color="#009900">(</font> yytext <font color="#339933">,</font> <font color="#ff0000">"%d"</font> <font color="#339933">,&amp;</font> yylval. <font color="#202020">IntVal</font> <font color="#009900">)</font> ;&lt;br/&gt; <br> <font color="#b1b100">return</font> DIMENSION;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> \ <font color="#009900">(</font> <font color="#009900">{</font> &lt;br/&gt; <br> yylval. <font color="#202020">IntVal</font> <font color="#339933">=</font> OPEN;&lt;br/&gt; <br> <font color="#b1b100">return</font> OPEN;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> \ <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> yylval. <font color="#202020">IntVal</font> <font color="#339933">=</font> CLOSE;&lt;br/&gt; <br> <font color="#b1b100">return</font> CLOSE;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#339933">#.*$                                    /*      */</font> &lt;br/&gt; <br> <font color="#009900">[</font> \n\r\t <font color="#009900">]</font> <font color="#339933">+</font> <font color="#808080">/*       */</font> &lt;br/&gt; <br> . <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#b1b100">return</font> <font color="#339933">*</font> yytext;&lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#339933">%%</font> &lt;br/&gt; <br> &lt;br/&gt; <br></code> </blockquote><br><br>  When writing a parser, there are usually two approaches: <br><ol><li>  The implementation of all logic immediately in place. </li><li>  Data collection and subsequent processing.  In this case, the structure is usually built called AST (Abstract Syntax Tree). </li></ol><br>  I am a supporter of the second method, so all I did was collect all the data.  An additional advantage is that now you can bring the code entirely, without clearing the excess logic of calculating the dimensions of the regions. <br>  Here is a file <b>GridStack.y</b> with comments. <br><br><blockquote>  <font color="#339933">%</font> <font color="#009900">{</font> <br>  <font color="#339933">#include &lt;stdio.h&gt;</font> <br>  <font color="#339933">#include &lt;malloc.h&gt;</font> <br>  <font color="#339933">#include "common.h"</font> <br>  <font color="#339933">%</font> <font color="#009900">}</font> <br>  <font color="#339933">%</font> <font color="#993333">union</font> <font color="#808080">/ * This is the definition of the yylval join type, which bison and flex * /</font> <br>  <font color="#009900">{</font> <font color="#808080">/ * used to transfer the values ‚Äã‚Äãof tokens.</font>  <font color="#808080">And bison for data transfer * /</font> <br>  <font color="#993333">int</font> intVal;  <font color="#808080">/ * between the rules.</font>  <font color="#808080">Field names are types that can be assigned * /</font> <br>  TRegion <font color="#339933">*</font> Region;  <font color="#808080">/ * tokens and nonterminals.</font>  <font color="#808080">* /</font> <br>  TListCage <font color="#339933">*</font> RegionList;  <font color="#808080">/ * Below, the type of tokens is set with% token, and with% type - * /</font> <br>  TMonitor <font color="#339933">*</font> Monitor;  <font color="#808080">/ * non-terminals.</font>  <font color="#808080">When used in rules of structures of the form $ 1, .., n and $$ * /</font> <br>  <font color="#009900">}</font> <font color="#808080">/ * the corresponding yylval fields are used.</font>  <font color="#808080">* /</font> <br><br>  <font color="#339933">%</font> token <font color="#339933">&lt;</font> IntVal <font color="#339933">&gt;</font> MONITOR WINDOW HSTACK VSTACK OPEN CLOSE <br>  <font color="#339933">%</font> token <font color="#339933">&lt;</font> IntVal <font color="#339933">&gt;</font> DIMENSION FIX_DIMENTION <br>  <font color="#339933">%</font> type <font color="#339933">&lt;</font> Region <font color="#339933">&gt;</font> window hstack vstack region <br>  <font color="#339933">%</font> type <font color="#339933">&lt;</font> RegionList <font color="#339933">&gt;</font> region_list <br>  <font color="#339933">%</font> type <font color="#339933">&lt;</font> Monitor <font color="#339933">&gt;</font> monitor monitor_list <br><br>  <font color="#339933">%%</font> <br>  start <font color="#339933">:</font> monitor_list <br>  <font color="#009900">{</font> <br>  Monitors <font color="#339933">=</font> $ <font color="#0000dd">1</font> ; <br>  <font color="#009900">}</font> <br>  ; <br>  monitor_list <font color="#339933">:</font> monitor <br>  <font color="#009900">{</font> <br>  $$ <font color="#339933">=</font> $ <font color="#0000dd">1</font> ; <br>  <font color="#009900">}</font> <br>  |  monitor monitor_list <br>  <font color="#009900">{</font> <br>  $ <font color="#0000dd">1</font> <font color="#339933">-&gt;</font> Next <font color="#339933">=</font> $ <font color="#0000dd">2</font> ; <br>  $$ <font color="#339933">=</font> $ <font color="#0000dd">1</font> ; <br>  <font color="#009900">}</font> <br>  ; <br>  monitor <font color="#339933">:</font> MONITOR DIMENSION region <br>  <font color="#009900">{</font> <br>  TMonitor <font color="#339933">*</font> Monitor <font color="#339933">=</font> <font color="#009900">(</font> TMonitor <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TMonitor <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Monitor <font color="#339933">-&gt;</font> Region <font color="#339933">=</font> $ <font color="#0000dd">3</font> ; <br>  Monitor <font color="#339933">-&gt;</font> Monitor <font color="#339933">=</font> $ <font color="#0000dd">2</font> ; <br>  Monitor <font color="#339933">-&gt;</font> Next <font color="#339933">=</font> <font color="#000000">NULL</font> ; <br>  $$ <font color="#339933">=</font> Monitor; <br>  <font color="#009900">}</font> <br>  ; <br>  region_list <font color="#339933">:</font> region <br>  <font color="#009900">{</font> <br>  TListCage <font color="#339933">*</font> Cage <font color="#339933">=</font> <font color="#009900">(</font> TListCage <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TListCage <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Cage <font color="#339933">-&gt;</font> Region <font color="#339933">=</font> $ <font color="#0000dd">1</font> ; <br>  Cage <font color="#339933">-&gt;</font> Next <font color="#339933">=</font> <font color="#000000">NULL</font> ; <br>  $$ <font color="#339933">=</font> Cage; <br>  <font color="#009900">}</font> <br>  |  region region_list <br>  <font color="#009900">{</font> <br>  TListCage <font color="#339933">*</font> Cage <font color="#339933">=</font> <font color="#009900">(</font> TListCage <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TListCage <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Cage <font color="#339933">-&gt;</font> Region <font color="#339933">=</font> $ <font color="#0000dd">1</font> ; <br>  Cage <font color="#339933">-&gt;</font> Next <font color="#339933">=</font> $ <font color="#0000dd">2</font> ; <br>  $$ <font color="#339933">=</font> Cage; <br>  <font color="#009900">}</font> <br>  ; <br>  region <font color="#339933">:</font> window <br>  |  hstack <br>  |  vstack <br>  ; <br>  window <font color="#339933">:</font> WINDOW DIMENSION <br>  <font color="#009900">{</font> <br>  TRegion <font color="#339933">*</font> Window <font color="#339933">=</font> <font color="#009900">(</font> TRegion <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TRegion <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionType <font color="#339933">=</font> rtWindow; <br>  Window <font color="#339933">-&gt;</font> isFixed <font color="#339933">=</font> <font>0</font> ; <br>  Window <font color="#339933">-&gt;</font> Dimension <font color="#339933">=</font> $ <font color="#0000dd">2</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionList <font color="#339933">=</font> <font color="#000000">NULL</font> ; <br>  $$ <font color="#339933">=</font> Window; <br>  <font color="#009900">}</font> <br>  |  WINDOW FIX_DIMENTION <br>  <font color="#009900">{</font> <br>  TRegion <font color="#339933">*</font> Window <font color="#339933">=</font> <font color="#009900">(</font> TRegion <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TRegion <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionType <font color="#339933">=</font> rtWindow; <br>  Window <font color="#339933">-&gt;</font> isFixed <font color="#339933">=</font> <font color="#0000dd">1</font> ; <br>  Window <font color="#339933">-&gt;</font> Dimension <font color="#339933">=</font> $ <font color="#0000dd">2</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionList <font color="#339933">=</font> <font color="#000000">NULL</font> ; <br>  $$ <font color="#339933">=</font> Window; <br>  <font color="#009900">}</font> <br>  |  WINDOW <br>  <font color="#009900">{</font> <br>  TRegion <font color="#339933">*</font> Window <font color="#339933">=</font> <font color="#009900">(</font> TRegion <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TRegion <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionType <font color="#339933">=</font> rtWindow; <br>  Window <font color="#339933">-&gt;</font> isFixed <font color="#339933">=</font> <font>0</font> ; <br>  Window <font color="#339933">-&gt;</font> Dimension <font color="#339933">=</font> <font color="#0000dd">1</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionList <font color="#339933">=</font> <font color="#000000">NULL</font> ; <br>  $$ <font color="#339933">=</font> Window; <br>  <font color="#009900">}</font> <br>  ; <br>  hstack <font color="#339933">:</font> HSTACK OPEN region_list CLOSE <br>  <font color="#009900">{</font> <br>  TRegion <font color="#339933">*</font> Window <font color="#339933">=</font> <font color="#009900">(</font> TRegion <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TRegion <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionType <font color="#339933">=</font> rtHorizontal; <br>  Window <font color="#339933">-&gt;</font> isFixed <font color="#339933">=</font> <font>0</font> ; <br>  Window <font color="#339933">-&gt;</font> Dimension <font color="#339933">=</font> <font color="#0000dd">1</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionList <font color="#339933">=</font> $ <font color="#0000dd">3</font> ; <br>  $$ <font color="#339933">=</font> Window; <br>  <font color="#009900">}</font> <br>  |  HSTACK DIMENSION OPEN region_list CLOSE <br>  <font color="#009900">{</font> <br>  TRegion <font color="#339933">*</font> Window <font color="#339933">=</font> <font color="#009900">(</font> TRegion <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TRegion <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionType <font color="#339933">=</font> rtHorizontal; <br>  Window <font color="#339933">-&gt;</font> isFixed <font color="#339933">=</font> <font>0</font> ; <br>  Window <font color="#339933">-&gt;</font> Dimension <font color="#339933">=</font> $ <font color="#0000dd">2</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionList <font color="#339933">=</font> $ <font color="#0000dd">4</font> ; <br>  $$ <font color="#339933">=</font> Window; <br>  <font color="#009900">}</font> <br>  |  HSTACK FIX_DIMENTION OPEN region_list CLOSE <br>  <font color="#009900">{</font> <br>  TRegion <font color="#339933">*</font> Window <font color="#339933">=</font> <font color="#009900">(</font> TRegion <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TRegion <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionType <font color="#339933">=</font> rtHorizontal; <br>  Window <font color="#339933">-&gt;</font> isFixed <font color="#339933">=</font> <font color="#0000dd">1</font> ; <br>  Window <font color="#339933">-&gt;</font> Dimension <font color="#339933">=</font> $ <font color="#0000dd">2</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionList <font color="#339933">=</font> $ <font color="#0000dd">4</font> ; <br>  $$ <font color="#339933">=</font> Window; <br>  <font color="#009900">}</font> <br>  ; <br>  vstack <font color="#339933">:</font> VSTACK OPEN region_list CLOSE <br>  <font color="#009900">{</font> <br>  TRegion <font color="#339933">*</font> Window <font color="#339933">=</font> <font color="#009900">(</font> TRegion <font color="#339933">*</font> <font color="#009900">)</font> malloc <font color="#009900">(</font> <font color="#993333">sizeof</font> <font color="#009900">(</font> TRegion <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  Window <font color="#339933">-&gt;</font> RegionType <font color="#339933">=</font> rtVertical; <br>  Window <font color="#339933">-&gt;</font> isFixed <font color="#339933">=</font> <font>0</font> ; <br>  Window <font color="#339933">-&gt;</font> Dimension <font color="#339933">=</font> <font color="#0000dd">1</font> ; <br>  Window &lt;font color </blockquote></div><p>Source: <a href="https://habr.com/ru/post/50509/">https://habr.com/ru/post/50509/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../50500/index.html">A Seagate engineer clarified the cause of the problems in the 7200.11 series.</a></li>
<li><a href="../50504/index.html">Using Yota Driver for Linux</a></li>
<li><a href="../50506/index.html">The future of film distribution</a></li>
<li><a href="../50507/index.html">What is a "startup" in fact</a></li>
<li><a href="../50508/index.html">Crisis and bosses</a></li>
<li><a href="../50510/index.html">Need a Yandex.Maps plugin for wordpress</a></li>
<li><a href="../50512/index.html">Map of Kiev (Metro) in the Internet</a></li>
<li><a href="../50513/index.html">Tim O'Reilly. Work that matters: basic principles</a></li>
<li><a href="../50515/index.html">Social advertising from Montana Meth Project</a></li>
<li><a href="../50517/index.html">Geotagging: no single cards</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>