<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is static needed?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quite often recently I read various articles on optimization, many of them wrote that if a function is used as static, then from an optimization point...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is static needed?</h1><div class="post__text post__text-html js-mediator-article">  Quite often recently I read various articles on optimization, many of them wrote that if a function is used as static, then from an optimization point of view it is better to write a static modifier before declaring it. <br><a name="habracut"></a><br>  Interesting, I thought, and what a real performance boost can be obtained by adding 6 characters to the function declaration. <br><br>  So the initial configuration <br>  Server: 2 x Intel Pentium D CPU 3.00GHz (although the second processor was not much needed) <br>  PHP: PHP 5.2.5 (cli) (built: Apr 9 2008 06:17:23) <br><br>  The first thing that comes to mind as a test is the function of calculating the factorial of a number.  In the example, I took the calculation of factorial 30 as a test (why 30 is described in the second example).  Sample test (do not pay attention to the idiotic timer), multiplication by 1,000,000 was chosen to improve the perception of the results 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I apologize, but the editor could not be defeated, for a correct reproduction of the sign is less, instead of it is a bracket. <br><br><blockquote>  class Math <br>  { <br>  function fac ($ v) <br>  { <br>  return ($ v == 0 || $ v == 1)? 1: ($ v * Math :: fac ($ v-1)); <br>  } <br>  static function sfac ($ v) <br>  { <br>  return ($ v == 0 || $ v == 1)? 1: ($ v * Math :: sfac ($ v-1)); <br>  } <br>  } <br>  function gettime () <br>  { <br>  $ arr = explode ('', microtime ()); <br>  return $ arr [1] + $ arr [0]; <br>  } <br>  for ($ i = 1; $ i [= 100; ++ $ i) <br>  { <br>  echo $ i. "\ t"; <br>  $ v = gettime (); <br>  for ($ j = 0; $ j [$ i; ++ $ j) <br>  Math :: fac (30); <br>  echo ((gettime () - $ v) / $ i * 1,000,000). "\ t"; <br><br>  $ v = gettime (); <br>  for ($ j = 0; $ j [$ i; ++ $ j) <br>  Math :: sfac (30); <br>  echo ((gettime () - $ v) / $ i * 1,000,000). "\ n"; <br>  } <br></blockquote><br>  <strong>results</strong> <br><br>  The average operation time of the function declared without the static modifier is 64.518451690674 microseconds. <br>  The average running time of the function declared with the static modifier is 31.158924102783 microseconds <br><br>  Then I wanted to choose some complex calculations.  I took the calculation of 30 members of <a href="http://ru.wikipedia.org/wiki/%25D0%25A7%25D0%25B8%25D1%2581%25D0%25BB%25D0%25B0_%25D0%25A4%25D0%25B8%25D0%25B1%25D0%25BE%25D0%25BD%25D0%25B0%25D1%2587%25D1%2587%25D0%25B8">the Fibonacci sequence</a> .  Deep enough recursion.  Sample test (do not pay attention to the idiotic timer) <br><br><blockquote>  class Math <br>  { <br>  function fib ($ v) <br>  { <br>  return ($ v == 0 || $ v == 1)? 1: (Math :: fib ($ v-1) + Math :: fib ($ v-2)); <br>  } <br>  static function sfib ($ v) <br>  { <br>  return ($ v == 0 || $ v == 1)? 1: (Math :: sfib ($ v-1) + Math :: sfib ($ v-2)); <br>  } <br>  } <br>  for ($ i = 1; $ i [= 100; ++ $ i) <br>  { <br>  echo $ i. "\ t"; <br>  $ v = gettime (); <br>  for ($ j = 0; $ j [$ i; ++ $ j) <br>  Math :: fib (30); <br>  echo ((gettime () - $ v) / $ i). "\ t"; <br><br>  $ v = gettime (); <br>  for ($ j = 0; $ j [$ i; ++ $ j) <br>  Math :: sfib (30); <br>  echo ((gettime () - $ v) / $ i). "\ n"; <br>  } <br></blockquote><br>  100 calculations were taken to see more accurately the mean <br><br>  <strong>results</strong> <br><br>  The average running time of the function declared without the static modifier is 5.5365417218208 seconds. <br>  The average running time of the function declared with the static modifier is 2.6412206792831 seconds <br><br>  What can we conclude, except that I spent 11 hours of CPU time :-). <br>  If functions are frequently called, especially in recursive calculations, adding a static modifier will significantly increase performance. <br>  However, if this is a simple function that is called only once, the performance increase will be negligible. <br><br>  <strong>update:</strong> Many may ask why do 1 start in succession, then 2 start in succession, ..., then 100 start.  It was possible to immediately run 100 iterations.  Yes you can, but I simultaneously explored other things that have nothing to do with static </div><p>Source: <a href="https://habr.com/ru/post/23268/">https://habr.com/ru/post/23268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../232665/index.html">Vscan: a portable ultrasound sensor from GE Healthcare</a></li>
<li><a href="../232671/index.html">Asynchronous JavaScript: without callbacks and promises</a></li>
<li><a href="../232673/index.html">To help create a supplier of performance counters v 2.0 in NET. Framework</a></li>
<li><a href="../232675/index.html">Experience using Google Apps for Business</a></li>
<li><a href="../232677/index.html">We learn to make prototypes</a></li>
<li><a href="../232685/index.html">The company uBeam introduced the technology of wireless charging devices based on ultrasound</a></li>
<li><a href="../232687/index.html">Microsoft recreated 1994 website</a></li>
<li><a href="../232689/index.html">More SSD practical and different: AMD launches its own line of solid-state drives</a></li>
<li><a href="../23269/index.html">IBM released the world's fastest UNIX computer with 5 GHz processors</a></li>
<li><a href="../232693/index.html">Wi-fi on the passport. Denial!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>