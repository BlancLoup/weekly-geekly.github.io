<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hell Visualization 1.1 - Book 1: Overview</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ad visualization 1.1: 

- Book 1: Overview 
- Book 2: Problems 
- Book 3: Decisions 
- Book 4: Conclusion 
 Lack of knowledge can sometimes be a virtu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hell Visualization 1.1 - Book 1: Overview</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ed8/806/863/ed8806863e7447c48a6a59e735d3db06.png" align="left">  <i>Ad visualization 1.1:</i> <ul><li>  <b>Book 1: Overview</b> </li><li>  <a href="http://habrahabr.ru/post/245823/">Book 2: Problems</a> </li><li>  <a href="http://habrahabr.ru/post/246133/">Book 3: Decisions</a> </li><li>  <a href="http://habrahabr.ru/post/246133/">Book 4: Conclusion</a> </li></ul><br clear="all">  Lack of knowledge can sometimes be a virtue, because you naively say to yourself: ‚ÄúPff ... is it really difficult?‚Äù And just dive into the problem with your head.  I started this article by thinking: ‚ÄúHmm ... What is Draw Call?‚Äù.  During the "5-minute" study, I did not find an explanation that satisfied me.  I checked the clock and, as there was still 30 minutes left until sleep, I said ... <br><blockquote>  Pff ... Is it difficult to write yourself? <br></blockquote>  ... and just started.  It was two months ago and since then I have continuously read, written and asked many questions. <br><br>  It was the most difficult and low-level research I've ever done, and for me non-programmer it was a nightmare consisting of ‚Äúyes, but in this particular case ...‚Äù and ‚Äúdepends on the implementation of the API ...‚Äù.  It was my personal hell of visualization, but I went through it and brought something with myself: Four books, each of which is an attempt to explain one of the parts of the visualization from the point of view of the artist.  I hope you enjoy it. <br><a name="habracut"></a><br><img src="https://habrastorage.org/files/93f/b51/812/93fb51812aa34c72a35680d3693c377d.png"><br><br>  Today, artists need to be well-versed: From a computer point of view, your gaming resources are just sets of vertices and texture data.  The conversion of these raw data into a ‚Äúnext generation‚Äù image is primarily done by your central processing unit ( <b>CPU</b> ) and graphics processing unit ( <b>GPU</b> ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1. Copying data into RAM for quick access </h4><br>  First, all the necessary data is loaded from your hard disk ( <b>HDD</b> ) into random access memory ( <b>RAM</b> ) for quick access.  After that, the necessary polygonal grids and textures are loaded into the graphics card memory ( <b>VRAM</b> ).  This is done because the graphics card has significantly faster access to VRAM and in most cases does not have access to RAM. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/67WPO30il-M%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253&amp;usg=ALkJrhiBcdyn5McNQqBcpXDWXHFJ6Jr6Eg" frameborder="0" allowfullscreen=""></iframe><br><br>  Before the renderer can get down to work, the CPU sets some global values ‚Äã‚Äãthat describe <b>how the</b> polygon mesh should be displayed.  This set of values ‚Äã‚Äãis called a <b>Render State</b> . <br><br><h4>  2. Setting Render State Values </h4><br>  Render State is some kind of global definition of <b>how a</b> polygonal mesh should be rendered.  It contains information about: <br><blockquote>  ‚ÄúVertex and pixel shaders, textures, materials, lighting, transparency and so forth.  [...] "[ <a href="http://www.realtimerendering.com/book.html">Real-Time Rendering</a> : p. 711] <br></blockquote>  <b>It is important</b> that <b>each</b> polygonal mesh that the CPU sends to the GPU for drawing will be displayed with these conditions!  You can draw a stone, a chair, or a sword ‚Äî they will all use the same rendering parameters (such as material), unless you change the Render State before the next grid is displayed. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/B7bIhvU8VaY%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253&amp;usg=ALkJrhicC0eshAUvIGbiwOeSj8snwMlWUA" frameborder="0" allowfullscreen=""></iframe><br><br>  After the preparation is finished, the CPU can finally turn to the GPU and tell it what to draw.  This command is known as <b>Draw Call</b> . <br><br><h4>  3. Draw Call </h4><br>  Draw Call is a command to display a <b>single</b> polygonal grid.  It is given by the central processor.  It gets a graphics processor.  The command points only to the polygon mesh to be displayed, and <b>does not contain</b> any information about the material, since it is already defined through the Render State setting.  At this point, the polygonal mesh is in the graphics card memory (VRAM). <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/rAq-t0VAb34%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253&amp;usg=ALkJrhgTmxixrDDj3kM-1rF1cfhhxW378Q" frameborder="0" allowfullscreen=""></iframe><br><br>  After the command is given, the GPU takes the parameters of the Render State (material, texture, shader, ...) and all the vertex data and converts this information with the help of some magic into beautiful (hopefully) pixels on your screen.  This conversion process is called a <b>pipeline</b> . <br><br><h4>  4. Conveyor </h4><br>  As I said above, game resources are, in some way, just sets of vertices and texture data.  To transform them into a stunning picture, the graphics card needs to create triangles from the vertices, calculate their illuminance, display texture pixels on them, and much more.  These actions are called states.  Conveyor states. <br><br>  Depending on what materials you read, you find that almost everything is done by the graphics processor.  But sometimes it is said that, for example, the creation of triangles and fragments is done by other parts of the graphics card. <br><br><img src="https://habrastorage.org/files/09b/cf6/cd5/09bcf6cd58b64c1f8ea747855949876c.png"><br><blockquote>  This example of the pipeline is extremely simplified and should be interpreted only as giving a general idea.  I tried to portray it as well as I could, but as a non-programmer, I have trouble understanding when the example becomes so simple that it leads you in the wrong direction.  So please do not take it seriously and look at all the other wonderful sources that I cited at the end of the article.  Or feel free to send me a letter, tweet or Facebook message to improve the animation / explanation.  :) <br></blockquote><img src="https://habrastorage.org/files/09b/cf6/cd5/09bcf6cd58b64c1f8ea747855949876c.png"><br><br>  Here is an example with a <b>single</b> GPU core: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/c0TrznM4Z7Y%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253&amp;usg=ALkJrhhAwos9NwzqLrA1DcwLXoeBbWPtlQ" frameborder="0" allowfullscreen=""></iframe><br><br>  A visualization is simply the execution of a huge number of <i>small</i> tasks, such as calculating something for thousands of vertices or drawing millions of pixels on the screen.  At least (it would be good) at 30 frames per second. <br><br>  It is important to be able to calculate these things <b>at the same time</b> , rather than each vertex / pixel one by one.  In the good old days, processors had only one core and there was no graphic acceleration - they could only do one thing at a time.  The games looked like ... retro.  Modern CPUs have 6-8 cores, while GPUs contain several thousand (they are not as complex as CPU cores, but they are ideal for passing through a huge amount of vertex and pixel data). <br><br>  When data (for example, a bunch of vertices) get to the pipeline stage, the work on the transformation of points / pixels is divided between several cores so that the majority of these small elements are formed in parallel into the big picture: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Y-B-KlAqjxw%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253&amp;usg=ALkJrhhu0H-0WRYEMwRKb5q_rXHYqOKkrQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Now we know that the GPU can process everything in parallel.  But what about the communication between the CPU and the GPU?  Is the CPU waiting for the moment when the GPU finishes its work and is able to receive new commands? <br><br><img src="https://habrastorage.org/files/7e4/05e/9c6/7e405e9c65be45ee8f64d495d6210968.gif"><br><br><h1>  Not! </h1><br>  Fortunately, no!  The reason is that such communication will form ‚Äúbottlenecks‚Äù (for example, when the CPU cannot deliver commands quickly enough) and make parallel operation impossible.  The solution is a list in which commands can be added to the CPU and read by the GPU independently of each other!  Such a list is called <b>a command buffer</b> . <br><br><h4>  5. Command buffer </h4><br>  The command buffer allows the CPU and GPU to operate independently of each other.  If the CPU wants to display something, it places the command in the queue, and when the resources appear in the GPU, it takes a command from the list and executes it (but since the list is organized as a <a href="https://ru.wikipedia.org/wiki/FIFO">FIFO</a> , the GPU can take only the oldest command from the list ( which was added first) and execute it). <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/PYENJ0D4kY0%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253&amp;usg=ALkJrhhdkLoidrY8bLE_Eqs2c0STi6N-Ew" frameborder="0" allowfullscreen=""></iframe><br><br>  However, the commands may be different.  One of the examples is Draw Call, the other can be a change to the Render State. <br><br>  This concludes the first book.  Now you should have a general understanding of these game resources, Draw Calls, Render States, and the interaction between the CPU and the GPU. <br><br>  <b>the end</b> </div><p>Source: <a href="https://habr.com/ru/post/245713/">https://habr.com/ru/post/245713/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../245695/index.html">Verve 2 Review: Basic Electronics for Kids and Teens. What can be done with the help of an electronic designer?</a></li>
<li><a href="../245697/index.html">Big update for smartwatch 3</a></li>
<li><a href="../245699/index.html">How do we get free software without using torrent trackers</a></li>
<li><a href="../245707/index.html">How will the marketing technologies change in 2015?</a></li>
<li><a href="../245709/index.html">From math to generalized programming</a></li>
<li><a href="../245717/index.html">WiFi Pineapple Mark V: black box for wireless interception</a></li>
<li><a href="../245719/index.html">Obfuscation of lines at compile time</a></li>
<li><a href="../245721/index.html">If the customer is a revision</a></li>
<li><a href="../245727/index.html">Concurrency structure in .net. ConcurrentDictionary from the inside</a></li>
<li><a href="../245729/index.html">CPU vs GPU. Distance field</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>