<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rasking through the parts of a particularly hardy iron bullion S line, where 768 GB of RAM</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We detach from the front of the Ultra capacitor module - the thing is designed for the operation of the power supply units in the Active / Passive mod...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rasking through the parts of a particularly hardy iron bullion S line, where 768 GB of RAM</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/483/d73/ce7/483d73ce79954a1aac092ef39f2b7ae8.jpg"><br>  <i>We detach from the front of the Ultra capacitor module - the thing is designed for the operation of the power supply units in the Active / Passive mode, as well as for the guaranteed switching without power drawdowns to the backup power supply unit.</i>  <i>It turns out that it can also be used to protect the server against a potential adversary, quickly converting it into a powerful stun gun.</i>  <i>And you know what?</i>  <i>They let him on the plane when you say "yes, this server is like an apartment opposite the Kremlin!"</i> <br><br>  <b>Looking around what else to put in the crowbar, we became interested in the Bull server hardware and decided to take one of the servers for testing.</b>  In general, there is the Atos Bull product line.  Bullion S is a high-performance server with a sea of ‚Äã‚Äãmemory on board based on x86 architecture servers.  All that needs to be considered inside the RAM is their diocese.  The declared feature is high fault tolerance combined with power and relative cheapness. <br><br>  In general, we got one.  The first surprise was that it was loaded for 15 minutes (the vendor says: in full calculation up to half an hour), 768 GB of operatives are being tested.  Loaded - we started pulling everything we could.  Yeah, right on the go.  The piece of iron behaved adequately.  For all I / O experienced normally, just crossed the path, and the disks remained available with some delay.  When pulling out other pieces, short rebuilds were sometimes made (performance dropped), then everything was restored.  Restored - we continued to unscrew the details further.  By the way, if you tear off this kapasiti module with a photo or a power supply, the server will also survive this without incident. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The only time is if you remove the memory plate ‚Äúhot‚Äù with your hands from it during the load, it will reboot under certain conditions (I‚Äôll tell you about them below). <br><a name="habracut"></a><br><br><img src="https://habrastorage.org/web/851/bea/52a/851bea52af3c4b6eb220dd5785b76532.jpg"><br><br><h2>  Meet the bullion S server </h2><br>  So, we set ourselves the task of checking these statements, to get acquainted and in every way to torment the equipment provided.  For 2 weeks, we were allocated a bullion S4 server, in fact, these are two x86 nodes combined into one high-performance server.  The server came as a ready-made stand in a 20U-rack with a Cisco 2960 switch, a console with a KVM switch, and a PDU. <br><br><img src="https://habrastorage.org/web/f1d/7f0/f48/f1d7f0f4862e4e32a65183970070a52c.jpeg"><br><br><img src="https://habrastorage.org/web/fc5/1ea/682/fc51ea68253a41c1b64f6f78250f9cb6.jpeg"><br><br><h2>  Configuration and features </h2><br>  The feature of the server is the VMWare ESXi OS pre-installed from the box. That is, in fact, this is a ready-made solution: I took a server out of the box, connected and deployed the virtuals.  If necessary, the ESXi version can be updated. <br><br>  Server configuration is presented in the table: <br><table><tbody><tr><td colspan="2"><br><p>  <strong>bullion S4</strong> </p><br></td></tr><tr><td><br><p>  Form factor </p><br></td><td><br><p>  19 inches, 6U </p><br></td></tr><tr><td><br><p>  PROCESSORS </p><br></td><td><br><p>  4xCPU Intel Xeon E7v3 </p><br></td></tr><tr><td><br><p>  Chipset </p><br></td><td><br><p>  Intel C602J </p><br></td></tr><tr><td><br><p>  XQPI interface </p><br></td><td><br><p>  Max.  9.6 GT / s </p><br></td></tr><tr><td><br><p>  Memory </p><br></td><td><br><p>  4 blades for 6 slats 32GB DDR4 RDIMM </p><br></td></tr><tr><td><br><p>  Embedded NICs </p><br></td><td><br><p>  1Gb Ethernet: 2 √ó 2 ports </p><br></td></tr><tr><td><br><p>  Nic </p><br></td><td><br><p>  1Gb Ethernet: 4 ports per node, 10GbE 2 ports per node </p><br></td></tr><tr><td><br><p>  HBA </p><br></td><td><br><p>  8/16 Gbit / s: 2 modules with 2 ports per node </p><br></td></tr><tr><td><br><p>  Flush </p><br></td><td><br><p>  SSD, 1.6 TB </p><br></td></tr><tr><td><br><p>  SAS </p><br></td><td><br><p>  12 Gbps: 2 external connectors per blade module </p><br></td></tr><tr><td><br><p>  Controller </p><br></td><td><br><p>  1 I / O blade with RAID 0.1 (12 Gb / s) Raid controller 9380 4i4e for RAID 5/6 on bullion disks </p><br></td></tr><tr><td><br><p>  Power Supply </p><br></td><td><br><p>  2 per node </p><br></td></tr><tr><td><br><p>  Fan </p><br></td><td><br><p>  6 per node </p><br></td></tr><tr><td><br><p>  HDD </p><br></td><td><br><p>  2 √ó 600 GB per node </p><br></td></tr></tbody></table><br>  All server components are reserved, like any server in a good configuration. <br><br><img src="https://habrastorage.org/web/355/05c/ce3/35505cce3c3d4ac3a8af105703835498.jpeg"><br><br><img src="https://habrastorage.org/web/259/20f/0ac/25920f0ace7a479da84ae26ae4b6569c.png"><br><br>  Each bullion S node is a server with two sockets, 48 ‚Äã‚Äãmemory slots, at the maximum the server can be scaled up to 8 such nodes, which makes it possible to get a bold 24U server with 16 sockets, 24Tb of memory and 56 8xPCI-e slots.  Plus possible Node Partitioning. <br><br>  The OS is loaded from the master node, from two disks in RAID1.  The server has a modular structure, all I / O cards, memory cards, not to mention the PSU and fans, are designed so that they can be removed to the hot from the front or back of each node. <br><br>  The scalability of bullion is his thing.  For communication of processors between nodes, eXtended Quick Path Interconnect is used, which was developed by Bull and works 2 times faster and reduces the average delay between the local and remote processor memory compared to Intel QPI.  Physically, this is the built-in coherent Bull switch (abbreviated as BCS). <br><br>  The architecture is traced below. <br><br>  S4 <br><img src="https://habrastorage.org/web/047/5e9/254/0475e9254b1e44ab9d5aec6c20ca34cb.png"><br><br>  S8 <br><img src="https://habrastorage.org/web/a8c/3e0/356/a8c3e0356e03485391301330f539c03f.png"><br><br>  S16 <br><img src="https://habrastorage.org/web/025/922/564/0259225645c043399cbd04ea0929d67b.png"><br>  <i>Excess star</i>  <i>Distinguishes bullion from KunLun and SDX</i> <br><br><h2>  Monitoring and Management </h2><br>  The server has a rather strange external display, which is a bit confusing, but that is the design. <br><br><img src="https://habrastorage.org/web/a96/9ac/c8e/a969acc8efa7476c841936c5e341ac7f.jpeg"><br><br>  In fact, the orange light indicates that the UCM (ultra capacitor module) is charged. <br><br>  The status of the server and its components can be monitored through the Server Hardware Console. <br><br><img src="https://habrastorage.org/web/59d/d60/5d4/59dd605d4fc44a28ab165675962c0b2c.png"><br><br><img src="https://habrastorage.org/web/55c/3e1/bbb/55c3e1bbb6f4433485662fe79a85ef93.png"><br><br><img src="https://habrastorage.org/web/f62/f85/f42/f62f85f42d41427a8ace672b61688cda.jpeg"><br><br>  Vendor says that iCare (Bull insight care) tool exists to monitor a large number of servers. <br><br><img src="https://habrastorage.org/web/8a3/6a5/d88/8a36a5d884854254a8c06f2eba12e3e0.png"><br><br>  There is also the possibility of integration with vRealize.  There is also a powerful CLI "BSMHW_NG_140" for management - it is installed separately, it can work together with BPM (Bull Platform Manager). <br><br><h2>  Testing </h2><br>  Turned on the server.  Initialization when restarting or turning on takes 15‚Äì20 minutes, mainly due to the memory check: the more, the longer.  The boot process can be monitored by connecting, for example, with the help of Putty (terminal) to the SHC, where the process of controller initialization, memory checking, etc. is detailed. <br><br><img src="https://habrastorage.org/web/afb/c43/421/afbc4342157745c988741ca99fce0b8d.jpeg"><br><br>  We made a couple of virtual locks, we connected the server with both nodes to our entry level of the DS3500 storage system and started pulling the modules.  Here we have a blade with memory.  Taken out?  Removed! <br><br><img src="https://habrastorage.org/web/b69/fbd/72c/b69fbd72c3a740cab95eb0b90472b4db.jpeg"><br><br>  Reboot caught when installing memory back, although it is stated that the server supports hot plug memory, in small print (or in parentheses) add that only certain operating systems. <br><br><img src="https://habrastorage.org/web/7fc/9d7/297/7fc9d72977854d07a73058a29c1ef107.png"><br><br>  ‚ÄúLook, another detail.  Now I pull out, shoot: " <br><br><img src="https://habrastorage.org/web/bab/465/4bb/bab4654bbd26485b9b0e89080e0cbd2c.jpeg"><br><br>  Interestingly, a stun gun get?  It turns out! <br><br><img src="https://habrastorage.org/web/958/d3b/753/958d3b7537394005bca2bd3d10851962.jpeg"><br><br>  After that, the manual read that it is impossible to do so, it is dangerous - you must first defuse! <br><br><img src="https://habrastorage.org/web/216/9ef/0e0/2169ef0e0327476385ffa86a0f477f70.jpg"><br><br>  While tugging I / O cards - the moon remained alive, throwing ways. <br><br>  They wanted to understand if it can in the single-mode config - they jerked the whole node.  The entire server has disconnected (well, the reverse vendor did not declare, but suddenly) ÔÅä.  In this regard, a software cluster is preferable to a hardware cluster. <br><br>  A colleague says: let MSM (Management Switch Module) take a closer picture.  No question, hold on, buddy: <br><br><img src="https://habrastorage.org/web/8d3/154/f3e/8d3154f3e5d54f1d9a6253c6d3492990.jpeg"><br><br><img src="https://habrastorage.org/web/911/ed7/4ef/911ed74efa6945adb0c848a0170e3bc6.jpeg"><br><br>  The server is still alive.  With the help of the program Perfomance test we conducted several performance tests, on a small virtual machine and a virtual machine with maximum resources.  Although considering that these are virtual machines, I don‚Äôt see much point in this, the main purpose of the server is Oracle, SAP HANA, virtualization.  Test data - at the end. <br><br>  There was a thought to demolish the hypervisor and install something else, but the vendor was very requested not to do it.  Most likely, because the car goes "hands-on" on the tests.  In general, the zoo arrived, we played, the zoo went on tour. <br><br>  According to materials published on <a href="http://www.spec.org/">www.spec.org</a> , bullion is the most powerful corporate x86 server.  Bullion still offers up to 16 processors (compared to eight for the so-called "direct" models - an architecture in which up to 8 processors are connected to each other without an additional switch), that is, up to 384 cores on one server. <br><br><img src="https://habrastorage.org/web/7cd/ea1/4f3/7cdea14f3f1b4d999a8663e3b5c7e34a.png"><br><br><h2>  The results of our tests </h2><br>  CPU Test 1/1 <br><img src="https://habrastorage.org/web/0e9/18f/f1e/0e918ff1eba944a4a4ccf7a99dca7ba8.jpg"><br><br>  MemTest 1/1 <br><img src="https://habrastorage.org/web/b2c/1c3/e6a/b2c1c3e6a33144e5956c5faae6967bdc.jpg"><br><br>  CPU Test 2 <br><img src="https://habrastorage.org/web/201/fa3/16a/201fa316abbb4c19b8c189a1bae5a0b6.jpg"><br><br>  Mem test 2 <br><img src="https://habrastorage.org/web/c9e/380/6a2/c9e3806a20d24d65bc8ceecf8cd663aa.jpg"><br><br><h2>  Impressions </h2><br>  It‚Äôs quite a regular dvuhnodovy hardware cluster, Bull is not the first to unite Q86 servers using QPI, IBM and HPE did it, although there is such power there.  Of course.  was not, you can grow here: S4-S6-S8-S10.  The OS can be any: Linux, Windows, VMware ... Although here, in my opinion, the chassis with blade servers and vMotion is more reliable than all the virtual machines in one box (but here it is necessary to take into account the cost of licenses for sokety). <br><br><h2>  Why is he so beautiful need </h2><br>  The main scenario of using servers is a platform for in-memory computing.  As the most common example of such calculations is the SAP HANA solution.  The server can also be used under the database Oracle, SQL Server, virtualization, a good option for the transition from the P-series and mainframe.  Price list in the Russian Federation for some hardware configurations certified for SAP HANA: <br><br><table><tbody><tr><td><br><p>  Name </p><br></td><td><br><p>  Model </p><br></td><td><br><p>  CPU </p><br></td><td><br><p>  DB </p><br></td><td><br><p>  DIMMs </p><br></td><td><br><p>  Russian list Price </p><br></td></tr><tr><td><br><p>  S4-80V4-1TB-32GB </p><br></td><td><br><p>  S4 </p><br></td><td><br><p>  8880V4 </p><br></td><td><br><p>  1TB </p><br></td><td><br><p>  32GB </p><br></td><td><br><p>  166 872 ‚Ç¨ </p><br></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><br><p>  S4-80V4-2TB-32GB </p><br></td><td><br><p>  S4 </p><br></td><td><br><p>  8880V4 </p><br></td><td><br><p>  2TB </p><br></td><td><br><p>  32GB </p><br></td><td><br><p>  211,104 ‚Ç¨ </p><br></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><br><p>  S4-90V4-4TB-64GB </p><br></td><td><br><p>  S4 </p><br></td><td><br><p>  8890V4 </p><br></td><td><br><p>  4TB </p><br></td><td><br><p>  64GB </p><br></td><td><br><p>  356,820 ‚Ç¨ </p><br></td></tr><tr><td><br><p>  S6-80V4-4.5-32GB </p><br></td><td><br><p>  S6 </p><br></td><td><br><p>  8880V4 </p><br></td><td><br><p>  4.5TB </p><br></td><td><br><p>  32GB </p><br></td><td><br><p>  366 567 ‚Ç¨ </p><br></td></tr><tr><td><br><p>  S6-90V4-6TB-64GB </p><br></td><td><br><p>  S6 </p><br></td><td><br><p>  8890V4 </p><br></td><td><br><p>  6TB </p><br></td><td><br><p>  64GB </p><br></td><td><br><p>  529,161 ‚Ç¨ </p><br></td></tr><tr><td><br><p>  S8-80V4-3TB-32GB </p><br></td><td><br><p>  S8 </p><br></td><td><br><p>  8880V4 </p><br></td><td><br><p>  3TB </p><br></td><td><br><p>  32GB </p><br></td><td><br><p>  417 102 ‚Ç¨ </p><br></td></tr><tr><td><br><p>  S8-80V4-6TB-32GB-CIS-Op </p><br></td><td><br><p>  S8 </p><br></td><td><br><p>  8880V4 </p><br></td><td><br><p>  6TB </p><br></td><td><br><p>  32GB </p><br></td><td><br><p>  570 437 ‚Ç¨ </p><br></td></tr><tr><td><br><p>  S8-90V4-6TB-32GB-CIS-Op </p><br></td><td><br><p>  S8 </p><br></td><td><br><p>  8890V4 </p><br></td><td><br><p>  6TB </p><br></td><td><br><p>  32GB </p><br></td><td><br><p>  617 785 ‚Ç¨ </p><br></td></tr><tr><td><br><p>  S8-90V4-8TB-64GB </p><br></td><td><br><p>  S8 </p><br></td><td><br><p>  8890V4 </p><br></td><td><br><p>  8TB </p><br></td><td><br><p>  64GB </p><br></td><td><br><p>  816 410 ‚Ç¨ </p><br></td></tr><tr><td><br><p>  S8-90V4-8TB-64GB-CIS-Cu </p><br></td><td><br><p>  S8 </p><br></td><td><br><p>  8890V4 </p><br></td><td><br><p>  8TB </p><br></td><td><br><p>  64GB </p><br></td><td><br><p>  820 337 ‚Ç¨ </p><br></td></tr></tbody></table><br>  This, of course, is the street price, almost no one ever buys it.  But if you know how much to usually deduct, gives an idea. <br><br><h2>  Links </h2><br><ul><li>  <a href="http://support.bull.com/ols/product/platforms/bullion/bullion-S/">Documentation</a> , there is a disk image, and inside it is a PDF with documentation </li><li>  <a href="https://youtu.be/2rfWxBIjsyY">Video</a> about Bull in Russia </li><li>  Demonstration <a href="https://www.youtube.com/watch%3Fv%3DEUCBYaTEpwM">video of bullion S</a> </li><li>  Video demonstration <a href="https://www.youtube.com/watch%3Fv%3DRWt1xJQEffM">sequana</a> </li><li>  <a href="https://habrahabr.ru/company/croc/blog/265139/">How do we usually test iron</a> </li><li>  <a href="https://habrahabr.ru/company/croc/blog/307086/">Past test</a> servers with two independent ways to calculate each processor clock cycle </li><li>  My mail is krahimov@croc.ru </li></ul></div><p>Source: <a href="https://habr.com/ru/post/331996/">https://habr.com/ru/post/331996/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331986/index.html">Football as an exact science: how ITMO University helps the organizers of the Confederations Cup and the 2018 World Cup</a></li>
<li><a href="../331988/index.html">Graphics for indie games. What to do if the roundels and sticks do not suit you</a></li>
<li><a href="../331990/index.html">Tale about NePetu, or rather not about Petya</a></li>
<li><a href="../331992/index.html">‚ÄúIceberg instead of Oscar!‚Äù Or as I tried to learn the basics of DataScience on kaggle</a></li>
<li><a href="../331994/index.html">Ruining people not beer</a></li>
<li><a href="../331998/index.html">Using Python and Excel to process and analyze data. Part 2: libraries for working with data</a></li>
<li><a href="../332000/index.html">Autoencoders in Keras, Part 5: GAN (Generative Adversarial Networks) and tensorflow</a></li>
<li><a href="../332004/index.html">Savings on matches or data recovery from the grating HDD Seagate ST3000NC002-1DY166</a></li>
<li><a href="../332006/index.html">"Factory Method" in the development for Android. The best way to handle pushes</a></li>
<li><a href="../332008/index.html">Retrospective. 10 years of Yota and 10 interesting facts about the company</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>