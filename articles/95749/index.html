<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Build JavaEE application by maven</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When I translated my ejb3 projects to maven, I had a lot of trouble with setting up the project, connecting the ‚Äúcorrect‚Äù libraries. Information or no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Build JavaEE application by maven</h1><div class="post__text post__text-html js-mediator-article">  When I translated my ejb3 projects to maven, I had a lot of trouble with setting up the project, connecting the ‚Äúcorrect‚Äù libraries.  Information or not, or it was outdated.  I use JBoss 5.1.0.GA in my work, so all the examples will be based on it. <br>  Task.  You need to create a maven2 project for JBoss.  Let it be an Enterprise Application.  Inside there is an ejb3 module and a web application. <br><a name="habracut"></a><br>  The biggest difficulty with the maven + JBoss bundle is the selection of dependencies.  JBoss is a fairly dynamic project.  Over time, its structure changes, the necessary classes crawl from one artifact to another.  To determine the necessary dependencies, I developed a whole algorithm: <br><ul><li>  we find a jar that includes the required class, if you are lucky, the archive is compiled using maven and inside META-INF / maven there is all the necessary description </li><li>  if not lucky - in the root directory of JBoss we find the jar-versions.xml file, in it we look for the version description </li><li>  Go to <a href="http://repository.jboss.com/maven2/org/jboss/">the JBoss repository</a> and try to find a suitable artifact </li></ul><br>  As a rule, this is enough to find the necessary dependencies. <br><br>  The directory structure, according to the ideology of maven, is set in advance.  The entire project is described in a special pom.xml file. With the help of individual settings in this file you can redo the whole structure.  But it‚Äôs better not to do this - pom.xml will make it harder for others to understand what and where your project is going to be difficult. <br><br>  The project will be integral.  The root module, which sets the general settings, and "child" modules.  Each module is a separate application (ejb3, war, ear).  Create a directory structure <br> <code># ejb-3  <br> mkdir -p jee-project/ejb/src/main/java <br> mkdir -p jee-project/ejb/src/main/resources <br> mkdir -p jee-project/ejb/src/test/java <br> #web  <br> mkdir -p jee-project/web/src/main/java <br> mkdir -p jee-project/web/src/main/resources <br> mkdir -p jee-project/web/src/main/webapp <br> mkdir -p jee-project/web/src/test/java <br> #ear  <br> mkdir -p jee-project/ear <br></code> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now create the pom.xml for the root module.  File quote fully to describe some of its elements. <br><hr><br><pre> &lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
 &lt;project xmlns = "http://maven.apache.org/POM/4.0.0"
     xmlns: xsi = "http://www.w3.org/2001/XMLSchema-instance"
     xsi: schemaLocation = "http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
     &lt;modelVersion&gt; 4.0.0 &lt;/ modelVersion&gt;

     &lt;! - Group identifier.  Just a way to group projects.  -&gt;
     &lt;groupId&gt; my.labs &lt;/ groupId&gt;

     &lt;! - ID of the project itself.  -&gt;
     &lt;artifactId&gt; jee-project &lt;/ artifactId&gt;

     &lt;! - An important point.  Indicates the "type" of the project.  If the project contains subprojects
        (modules) - "pom" must be specified -&gt;
     &lt;packaging&gt; pom &lt;/ packaging&gt;

     &lt;! - Version.  SNAPSHOT indicates that work is underway.  Ideology maven suggests
        that development is on SHAPSHOT-versions.  By readiness with the help of special
        release procedures.  It is better to follow the generally accepted pattern, less
        surprises will be -&gt;
     &lt;version&gt; 1.0-SNAPSHOT &lt;/ version&gt;

     &lt;! - We list the modules included in the current project, in fact - this is the name of the directories,
        in which maven will look for child modules.  -&gt;
     &lt;modules&gt;
         &lt;module&gt; ejb &lt;/ module&gt;
         &lt;module&gt; web &lt;/ module&gt;
         &lt;module&gt; ear &lt;/ module&gt;
     &lt;/ modules&gt;

     &lt;! - In the dependencyManagement block, the dependencies are specified, which are found throughout the project,
        including  in modules.  In the subprojects themselves, it suffices to refer to the dependencies already mentioned.  -&gt;
     &lt;dependencyManagement&gt;
         &lt;dependencies&gt;

             &lt;! - junit will be used for testing, as discussed by &lt;scope&gt; test &lt;/ scope&gt; -&gt;
             &lt;dependency&gt;
                 &lt;groupId&gt; junit &lt;/ groupId&gt;
                 &lt;artifactId&gt; junit &lt;/ artifactId&gt;
                 &lt;version&gt; 4.4 &lt;/ version&gt;
                 &lt;scope&gt; test &lt;/ scope&gt;
             &lt;/ dependency&gt;

             &lt;! - dependency set for JavaEE -&gt;
             &lt;dependency&gt;
                 &lt;groupId&gt; javax.annotation &lt;/ groupId&gt;
                 &lt;artifactId&gt; jsr250-api &lt;/ artifactId&gt;
                 &lt;version&gt; 1.0 &lt;/ version&gt;
                 &lt;scope&gt; provided &lt;/ scope&gt;
             &lt;/ dependency&gt;
             &lt;dependency&gt;
                 &lt;groupId&gt; javax.ejb &lt;/ groupId&gt;
                 &lt;artifactId&gt; ejb-api &lt;/ artifactId&gt;
                 &lt;version&gt; 3.0 &lt;/ version&gt;
                 &lt;scope&gt; provided &lt;/ scope&gt;
             &lt;/ dependency&gt;
             &lt;dependency&gt;
                 &lt;groupId&gt; javax.jms &lt;/ groupId&gt;
                 &lt;artifactId&gt; jms &lt;/ artifactId&gt;
                 &lt;version&gt; 1.1 &lt;/ version&gt;
                 &lt;scope&gt; provided &lt;/ scope&gt;
             &lt;/ dependency&gt;
             &lt;dependency&gt;
                 &lt;groupId&gt; javax.persistence &lt;/ groupId&gt;
                 &lt;artifactId&gt; persistence-api &lt;/ artifactId&gt;
                 &lt;version&gt; 1.0 &lt;/ version&gt;
                 &lt;scope&gt; provided &lt;/ scope&gt;
             &lt;/ dependency&gt;
             &lt;dependency&gt;
                 &lt;groupId&gt; javax.servlet &lt;/ groupId&gt;
                 &lt;artifactId&gt; servlet-api &lt;/ artifactId&gt;
                 &lt;version&gt; 2.5 &lt;/ version&gt;
                 &lt;scope&gt; provided &lt;/ scope&gt;
             &lt;/ dependency&gt;
         &lt;/ dependencies&gt;
     &lt;/ dependencyManagement&gt;

     &lt;! - we specify the source code encoding and java version -&gt;
     &lt;build&gt;
         &lt;plugins&gt;
             &lt;plugin&gt;
                 &lt;groupId&gt; org.apache.maven.plugins &lt;/ groupId&gt;
                 &lt;artifactId&gt; maven-compiler-plugin &lt;/ artifactId&gt;
                 &lt;configuration&gt;
                     &lt;source&gt; 1.6 &lt;/ source&gt;
                     &lt;target&gt; 1.6 &lt;/ target&gt;
                     &lt;encoding&gt; UTF-8 &lt;/ encoding&gt;
                 &lt;/ configuration&gt;
             &lt;/ plugin&gt;
         &lt;/ plugins&gt;
     &lt;/ build&gt;
 &lt;/ project&gt;
</pre><br><hr><br><br>  Everything, the head project is described.  Now briefly about the subsidiary projects. <br>  You need to put ejb in the maul <pre>  &lt;packaging&gt; ejb &lt;/ packaging&gt; </pre>  and describe the ejb3 build settings <br><pre>     &lt;build&gt;
         &lt;plugins&gt;
             &lt;plugin&gt;
                 &lt;groupId&gt; org.apache.maven.plugins &lt;/ groupId&gt;
                 &lt;artifactId&gt; maven-ejb-plugin &lt;/ artifactId&gt;
                 &lt;version&gt; 2.1 &lt;/ version&gt;
                 &lt;configuration&gt;
                     &lt;ejbVersion&gt; 3.0 &lt;/ ejbVersion&gt;
                 &lt;/ configuration&gt;
             &lt;/ plugin&gt;
         &lt;/ plugins&gt;
     &lt;/ build&gt;
</pre><br><br>  Setting the ear module also has some of its features.  All modules that we want to include in the final ear-archive should be specified in dependencies.  When building maven in a chain, it will process the dependencies of the modules and include all jares with scope = compile into the archive.  By default, these archives in application.xml will not be mentioned.  To correct the situation, a special element is used. <br><pre>     &lt;build&gt;
         &lt;plugins&gt;
             &lt;plugin&gt;
                 &lt;groupId&gt; org.apache.maven.plugins &lt;/ groupId&gt;
                 &lt;artifactId&gt; maven-ear-plugin &lt;/ artifactId&gt;
                 &lt;version&gt; 2.3.2 &lt;/ version&gt;
                 &lt;configuration&gt;
                     &lt;version&gt; 5 &lt;/ version&gt;

                     &lt;! - we list modules -&gt;
                     &lt;modules&gt;
                         &lt;ejbModule&gt;
                             &lt;groupId&gt; $ {project.groupId} &lt;/ groupId&gt;
                             &lt;artifactId&gt; ejb &lt;/ artifactId&gt;
                         &lt;/ ejbModule&gt;
                         &lt;webModule&gt;
                             &lt;groupId&gt; $ {project.groupId} &lt;/ groupId&gt;
                             &lt;artifactId&gt; web &lt;/ artifactId&gt;
                         &lt;/ webModule&gt;
                     &lt;/ modules&gt;
                     &lt;! - the same element that specifies the need to specify all libraries in application.xml -&gt;
                     &lt;includeLibInApplicationXml&gt; true &lt;/ includeLibInApplicationXml&gt;
                 &lt;/ configuration&gt;
             &lt;/ plugin&gt;
         &lt;/ plugins&gt;
         &lt;finalName&gt; $ {project.parent.artifactId} &lt;/ finalName&gt;
     &lt;/ build&gt;
</pre><br><br>  The build is a team <br> <code>mvn package <br></code> <br>  Naturally, maven should be installed.  When it is first launched, it will create the $ HOME / .m2 directory and will long and tediously download project dependencies and dependency dependencies.  But this is the first time.  All downloaded it will add to the local $ HOME / .m2 / repository cache and in the future will access it. <br>  The topic information is most likely suitable for any J2EE server.  But I'm not sure, it was tested on JBoss.  If there are any corrections, I‚Äôm happy to include it here. </div><p>Source: <a href="https://habr.com/ru/post/95749/">https://habr.com/ru/post/95749/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../95741/index.html">Metroshka - a tablet from topographical criticalism</a></li>
<li><a href="../95743/index.html">Just worked ...</a></li>
<li><a href="../95744/index.html">Microsoft stops paying for using Bing</a></li>
<li><a href="../95745/index.html">Independent study of circuit design. Synthesis of automata on triggers. Part 1</a></li>
<li><a href="../95747/index.html">If doctors were admins</a></li>
<li><a href="../95750/index.html">WWDC'10-tote</a></li>
<li><a href="../95751/index.html">The parochial "Pionernet" with the eyes of a technician. Part two</a></li>
<li><a href="../95753/index.html">Habrability test</a></li>
<li><a href="../95755/index.html">WebMoney Root Certificate Expiration - What to do</a></li>
<li><a href="../95757/index.html">On the organization of the working atmosphere and space</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>