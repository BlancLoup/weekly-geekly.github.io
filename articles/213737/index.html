<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We record video from the VGA output of the video card - iron methods</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Record video from VGA output - what could be simpler ... It would seem. But alas, in fact, everything is a little more complicated. In this post I wil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We record video from the VGA output of the video card - iron methods</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/297/a12/873/297a12873e0511db11da36fdfa22c7c8.jpg" align="right">  Record video from VGA output - what could be simpler ... It would seem.  But alas, in fact, everything is a little more complicated.  In this post I will tell you how I solved the problem of recording video from the VGA output of a <b>very old computer</b> video card, what were the intermediate solutions and what stopped there.  Fans of old games of iron, as well as new technologies and video capture is dedicated. <br><br><a name="habracut"></a><br><br><h2>  What for </h2><br>  Of course, you may have other goals, but I had the following need: to record video from old computers that is displayed on a monitor.  Wherein: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Computers are old and weak, it‚Äôs not possible to plant a kind of ‚Äúfraps analog‚Äù on them.  Yes, and what software to write you put on the machine, where Win 3.1 will go with a creak?  Yes, for the first Pentium or for the <b>DOS</b> mode, you are also unlikely to find anything. </li><li>  The option ‚Äúplug in a video card with a TV-out‚Äù is also not an option.  And if I want to record a picture from the first Voodoo or some other more exotic?  And again, we rest on the software.  Need versatility. </li><li>  The ‚Äúrun on emulator‚Äù option is not suitable.  The ‚Äúlate DOS‚Äù games manage to slow down or not go smoothly even on modern <b>i7</b> , if you emulate them with <b>DosBox</b> .  If we need to start the game, which is even buggy on WinXP, and normally works on an OS no older than Win98 or Win95, but it requires three-dimensional acceleration - here the emulators will not help much, the acceleration of the game graphics is sad there. </li><li>  Remove the screen with a camera?  No, there are lovers of ‚Äúscreen‚Äù, but this method smacks of perversion and ‚Äúlast chance‚Äù. </li></ol><br><h2>  Iron to capture </h2><br>  The following computer was used as a video capture machine: <br><br>  Processor: Intel Core 2 Duo E4500, 2.2 GHz <br>  Video card: NVidia 8800 GS <br>  RAM: 2 GB DDR2 <br>  Hard disk: WDC WD1600, connected via SATA <br><br>  I didn‚Äôt pick it up specifically - it was just at hand. <br><br><h2>  Attempt number one - Chinese </h2><br>  The first attempt was the following idea: what if I picked up a <b>VGA-to-TV</b> adapter?  Cheap and angry.  And we will write the resulting picture with a TV tuner, I just had one from Beholder (model 503, option for PCI bus).  No sooner said than done.  For $ 20, I bought this Chinese adapter called <b>VGA to TV RCA Composite S-video Converter Box for PC Laptop TTH-123462</b> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/321/86a/68a/32186a68a1e87c92c01fd7615fa90834.jpg"><br><br><div class="spoiler">  <b class="spoiler_title">One more photo.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/bad/886/51c/bad88651cd5988978f2fd23d68dc7c5c.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/72c/c9f/1ce/72cc9f1ce74931edc451472dd23d807c.jpg"><br></div></div><br>  Interesting moments of this piece of iron: <br><ul><li>  It is powered by a USB cable (a round plug goes into the device, and a normal USB plug comes out) </li><li>  NTSC / PAL switch available </li><li>  In addition to the VGA input there is a VGA output!  You can simultaneously connect the monitor and TV tuner or TV.  I did not notice a drop in the quality of the picture on a parallel stuck monitor. </li><li>  Judging by the description ( <b>did not check!</b> ), You can send a signal in the opposite direction, i.e.  TV -&gt; VGA. </li></ul><br>  The idea looked sensible, but ... Here are some screenshots from the resulting video. <br><br><div class="spoiler">  <b class="spoiler_title">SCREENSHOTS</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/3da/ee5/bc2/3daee5bc2f330b4ac7c7423fa04f4fc3.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/665/316/ec1/665316ec1e30ad0ae6f64eb150712f64.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/154/f83/df4/154f83df444ab479d83cb38cc67e8062.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ba/eee/e2b/4baeeee2b55167b977af357f69f232dc.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a6a/a0a/cb5/a6aa0acb5dae99c8a070c0bf802a828d.png"></div></div><br>  The fact is that there is no permission at the entrance - the output will be television.  And there are no compression artifacts, no, this is exactly the output image.  The result is warm, lampy and unclear.  On the other hand, for $ 20 + price of the tuner (for which I did not have to spend money) - the result is acceptable.  But I wanted something more ... <br><br><h2>  Attempt number two - full </h2><br>  After trying with the tuner, it became clear that the cheap solutions do not get off.  Rummaging through shopping, I discovered that the only available option is the <b>AVerMedia Game Broadcaster HD</b> , already under PCI-E.  This is NOT the latest model in the lineup, but there is a nuance: it looks like the last one, which has a VGA input for capture.  Later have only HDMI and are 2 times more expensive.  And we need a VGA! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee1/a90/0f3/ee1a900f32e6c6b44658c375dc3fea23.jpg"><br><br>  Price issue: 4-5 thousand rubles. <br>  For a start - positive, screenshots from the video: <br><br><div class="spoiler">  <b class="spoiler_title">SCREENSHOTS</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/c0f/cdc/0c8/c0fcdc0c8633055391aa661d59778a8a.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/94c/83b/fab/94c83bfabb8ef600690e4045a8f8f2fd.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e48/722/c2d/e48722c2d7bd6c8bfaed541014b394e5.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c59/79a/6b8/c5979a6b817c1b335856478d004e6983.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f8b/291/6e4/f8b2916e46ebb203b0c37555d9910191.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/135/e41/dbe/135e41dbe3cb4892fc416c670bc712d3.png"><br></div></div><br>  As I hope, it is clear that the result is much better.  Again, the HDMI input, which means - the ability to write video from modern consoles or, for example, android-devices.  Positively.  Conveniently. <br><br>  A separate pleasant moment - in the ‚Äúpreview‚Äù mode on the computer, the picture is shown without lag, in real time, unless of course the computer has enough power (more on this below). <br><br><h2>  And now - the disadvantages, problems and enema tar </h2><br><ol><li>  <b>Soft</b>  Bundled software comes only under <b>Windows Vista</b> and above.  Want an option under <b>Windows XP</b> ?  Download from the manufacturer‚Äôs website.  Considering that the CD with drivers and software is free for about 70% of the place (occupied around 180 MB) - I don‚Äôt know what to call it.  I have a licensed Windows XP on that computer, I hurt. <br><br></li><li>  <b>Capture resolution below 640x480.</b>  Not officially supported.  If you try, you get either a message about unsupported resolution, or garbage instead of a signal.  But, glory to open source, if you use the program <b>VirtualDub</b> - you can consistently record a picture in resolutions below 640x480.  The truth will look something like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ff3/4da/7ed/ff34da7edf2b7ac4f1184f53647d0e69.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec9/5bb/e65/ec95bbe6560d24e26dd0fc1c8cfa8a5f.png"><br><br>  Ie, the picture is really written in 640x480, but with garbage in the fields.  However, no one bothers us to cut off the excess, and on the fly (thanks again to the authors of VirtualDub) <br><br></li><li> <b>Record videos from Voodoo and Voodoo 2.</b> <br>  The native utility writes a couple of seconds, loses the signal, the inscription ‚ÄúNo Signal‚Äù is shown for a couple of seconds, finds the signal, writes a couple of seconds, loses the signal ... And so on. <br><br>  VirtualDub writes without problems and objections.  So that's it.  Again open source on horseback.  ;) <br><br>  In principle, you can write a picture with Voodoo in your own software.  To do this, you need to connect voodoo to the base card in a non-classical way, via a separate cable: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/10a/496/da9/10a496da9c1be37d2aba0fd700187acf.png"><br><br>  And poke the cable from the monitor between a regular map and Voodoo when launching / disabling the game under voodoo.  You can live like this, but perhaps life? <br><br></li><li>  <b>Sound recording</b> will have to be kept in a separate cord, i.e.  for example, from the line output of the sound card of the first computer to the line input of the computer for recording.  Well, yes, this is normal.  But the sound of HDMI writes fine. <br><br></li><li>  <b>Computer power to record and encode video.</b> <br>  The computer indicated at the beginning of the article is enough to write and encode video in h264 in real time - but only up to a resolution of 800x600.  Having tried to write 1280x720, I received a frame drop on the final record.  But in real-time MPEG2, in this and a higher resolution, it writes easily, but the picture quality is visually a little worse. <br><br></li><li>  <b>Permissions</b> <br>  When connected to a VGA resolution of <b>800x600, my</b> native utility once registered at <b>720x576</b> , without any explanation or declaration of war. <br><br>  For HDMI, the picture from the mobile android console (screen resolution <b>800x480</b> ) was recorded at <b>720x480</b> (hana proportions). <br><br>  There are no such surprises with VirtualDub.  In short, I would like to send my own utility to the scrap, but there is no perfection in the world.  When I tried to write an incoming signal at 1280x720 (at least VGA, at least HDMI) - VirtualDub displayed some kind of image instead of an image, and writes to the file, respectively, also nonsense.  But if you file <b>1280x720</b> at the entrance, and VirtualDub says that at the entrance it is actually <b>1920x1080</b> - it will write as pretty, but stretching the resolution to <b>1920x1080</b> .  Native utility writes everything right. </li></ol><br>  Draw your own conclusions.  If you know the best way to write video on VGA - welcome to the comments! <br><br>  PS I don‚Äôt post video examples for the following reason: if I put it on YouTube on my channel, then the topic would have to be moved to the ‚ÄúI am promoting‚Äù section.  If there is interest - write in a personal, I will give links to videos of both options. <br><br>  Thanks for attention!  For the most patient readers - bonus cat, as promised.  :) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e2/11b/c28/4e211bc28c8459d3a75884aaf8af6c8c.png"><br><br><h3>  Update on 02/18/2015 </h3><br><ul><li>  Native software under Vista and above is noticeably better than XP's, there are practically no glitches </li><li>  The sound for HDMI still writes, it was not right </li><li>  If, when submitting a picture with a resolution below 640x480, the board says that the signal is higher than the permissible limits, then we start something 640x480 on the same machine, allow the board to detect the usual signal, and then go to a lower resolution - the board will continue to capture the image and work how to.  It will work with native software. </li></ul><br><h3>  Update on 03/02/2016 </h3><br>  The latest version of the software works better, but there was also a problem: when I try to record video in 640x480, I get distortion of proportions.  If you select ‚Äú800x600‚Äù resolution in the settings with a signal source of 640x480, it will write 640x480 without distortion. </div><p>Source: <a href="https://habr.com/ru/post/213737/">https://habr.com/ru/post/213737/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213719/index.html">Another example of a penetration test from own practice</a></li>
<li><a href="../213721/index.html">500 words per minute without preparation</a></li>
<li><a href="../213727/index.html">The authors accuse the organizers of the Olympics in piracy, while the deputies change the law</a></li>
<li><a href="../213729/index.html">How I bought a wi-fi scale, quit my job and started living</a></li>
<li><a href="../213733/index.html">True or False or False = False</a></li>
<li><a href="../213739/index.html">NginX load balancing on Apache servers</a></li>
<li><a href="../213741/index.html">Authorizing clients in nginx via SSL certificates</a></li>
<li><a href="../213743/index.html">Published list of open-source organizations participating in Google Summer of Code 2014</a></li>
<li><a href="../213745/index.html">Reverse engineering comic xkcd</a></li>
<li><a href="../213747/index.html">Samsung announced Galaxy S5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>