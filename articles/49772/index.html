<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kung Fu: javascript style</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article began as a comment on another article on habrahabr . After writing the first sheet, I realized that the comment was too extensive :). I d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kung Fu: javascript style</h1><div class="post__text post__text-html js-mediator-article">  This article began as a comment on <a href="http://habrahabr.ru/blogs/javascript/48542/" title="another article on habrahabr">another article on habrahabr</a> .  After writing the first sheet, I realized that the comment was too extensive :).  I decided to write, because I want to focus on points that, in my opinion, were missed.  The limitation of this article is my goal to state everything as accessible as possible, do not look here for mathematical accuracy in the definition of terms, and yet I attach links where mathematicians will find high-class definitions understandable only to them :) <br><br>  Probably every article on JS is made to begin with words about its undervalued :) It's true :) When I said a couple of years ago that JS was my favorite language, they looked at me as an overgrown schoolchild who had just written his first page on HTML and those who knew me, like a grandmaster, who said that he only knows how the pieces go :).  Such people did not become much less, alas: ( <br><br><a name="habracut"></a>  So, the first moment - nothing is said about how Javascript differs fundamentally from Java or C ++.  The difference in the approach ( <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B0%25D1%2580%25D0%25B0%25D0%25B4%25D0%25B8%25D0%25B3%25D0%25BC%25D0%25B0_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F" title="paradigms">paradigm</a> ) of programming taken as a basis when creating a language.  I do not appreciate ‚Äúwhat is better?‚Äù, Neither in the coma case, which is more convenient :) or like :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br><h3>  The difference between the traditional <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5" title="Object oriented programming">class-object</a> and the <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D1%2582%25D0%25BE%25D1%2582%25D0%25B8%25D0%25BF%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5" title="Prototype programming">prototype</a> <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B0%25D1%2580%25D0%25B0%25D0%25B4%25D0%25B8%25D0%25B3%25D0%25BC%25D0%25B0_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F" title="paradigms">paradigm</a> </h3><br>  Most people who look down on JS talk about him as if not about OOP language :).  To begin with, these are different things and cannot be compared at all.  Of course, you can program in JS using the skills learned from programming in C ++ or Java, but this is not so effective.  JS works differently, there are no classes in it, there are objects in it (do not faint, read the article).  This does not mean that it is impossible to do <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B1%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585" title="abstractions">abstraction</a> , <a href="http://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D0%25BA%25D0%25B0%25D0%25BF%25D1%2581%25D1%2583%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F_%2528%25D0%25B2_%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25BC_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B8%2529" title="encapsulation">encapsulation</a> , <a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D1%2581%25D0%25BB%25D0%25B5%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%2528%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%2529" title="inheritance">inheritance</a> or <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D0%25BB%25D0%25B8%25D0%25BC%25D0%25BE%25D1%2580%25D1%2584%25D0%25B8%25D0%25B7%25D0%25BC_%25D0%25B2_%25D1%258F%25D0%25B7%25D1%258B%25D0%25BA%25D0%25B0%25D1%2585_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F" title="polymorphism">polymorphism</a> in JS.  The main differences in the implementation of <a href="http://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D0%25BA%25D0%25B0%25D0%25BF%25D1%2581%25D1%2583%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F_%2528%25D0%25B2_%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25BC_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B8%2529" title="encapsulation">encapsulation</a> , <a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D1%2581%25D0%25BB%25D0%25B5%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%2528%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%2529" title="inheritance">inheritance</a> , and the work of the designer.  In JS, as in almost all prototype languages, the term <a href="http://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D0%25BA%25D0%25B0%25D0%25BF%25D1%2581%25D1%2583%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F_%2528%25D0%25B2_%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25BC_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B8%2529" title="encapsulation">encapsulation</a> should be used; there is a <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BC%25D1%258B%25D0%25BA%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%2528%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%2529" title="closure">closure</a> . <br><br><h3>  Short circuit </h3><br>  I note that on <a href="http://habrahabr.ru/blogs/webdev/38642/" title="Habr√© already had an article about closures">Habr√© was already an article about closures</a> .  I will try to explain "on the fingers" and add an example. <br><br>  The closures in JS call the scope within which the variable makes sense :).  This may be a definition of an object or function.  A variable can be either primitive, or an object or function.  Phew ... now, my favorite, example: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() );</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() ); <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> bicubic(count) { <font color="#0000ff">var</font> values = []; <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; count; i++) { values[i] = ( <font color="#0000ff">function</font> (n) { <font color="#0000ff">return</font> <font color="#0000ff">function</font> () { <font color="#0000ff">return</font> Math.pow(n, 3); } } )(i); } <font color="#0000ff">return</font> values; } <font color="#0000ff">var</font> vals = bicubic(10); alert( vals[3]() );</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  If I were shown these lines and asked to say ‚Äúwhat the hell is this‚Äù, I would spend more than one minute to figure it out :) This is what gives the supporter JS so much strength in the statement that class-based languages ‚Äã‚Äãlead to excessive when writing code Programmers focus on hierarchy and class relationships with each other, which in my opinion is true. <br><br>  Let's take it in order :) <ol><li>  A bicubic function is created that produces an array; </li><li>  The trick is that the array members are functions without a parameter: Math.pow (n, 3).  In this case, n, thanks to the miracle of the circuit, becomes the value of i at the time of the cycle, and not after it! <br></li><li>  The magic in brackets (...) (i) is a function call with the parameter i, and in brackets the definition of this function. </li></ol><br>  since after the cycle i = count, then without these brackets, we get a completely different answer - a constant 10'000, and with them 27. <br><br>  By the way, this technique is called closure break. <br><br>  That is why <a href="http://jquery.com/" title="jQuery">jQuery</a> recommends writing plugins for this framework inside the construct <nobr>(... your plugin ...) () ;,</nobr> it allows you to: <br><ol><li>  Write safe code </li><li>  Do not overload the browser with global variables. <br></li></ol><h3>  Instance, constructor, object and prototype </h3><br>  So I recently wrote that in JS there are no classes, but there are objects.  I meant the following: <br><br>  In class-oriented languages, a new instance is created through a call to the class constructor (possibly with a set of parameters).  The resulting instance has a structure and behavior that is strictly defined by its class.  Here are the lines from Wikipedia: <br><blockquote>  In prototype-oriented systems (for example, JS), two methods are provided for creating a new object: <i>cloning an</i> existing object, or creating an object <i>from scratch</i> .  To create an object from scratch, the programmer is provided with syntactic means of adding properties and methods to the object.  Further, a complete copy of the clone can be obtained from the resulting object.  In the process of cloning a copy inherits all the characteristics of its prototype, but from that moment it becomes independent and can be changed.  In some implementations, copies store references to prototype objects, delegating to them some of their functionality;  however, the prototype change may affect all copies.  In other implementations, new objects are completely independent of their prototypes. <br></blockquote>  Demonstration: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">function</font> win () { </li><li>  <font color="#0000ff">this</font> .open = <font color="#0000ff">function</font> () </li><li>  { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"open 1"</font> ; </li><li>  } </li><li>  } </li><li></li><li>  win.open = <font color="#0000ff">function</font> () { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"open 2"</font> ; </li><li>  } </li><li></li><li>  alert (win.open ());  <font color="#008000">// 1. open 2</font> </li><li></li><li>  win.prototype = { </li><li>  save: <font color="#0000ff">function</font> () </li><li>  { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"open 3"</font> ; </li><li>  } </li><li>  } </li><li></li><li>  alert (win.save ());  <font color="#008000">// 2. error - no save</font> </li><li></li><li>  win.prototype.open = <font color="#0000ff">function</font> () </li><li>  { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"open 4"</font> ; </li><li>  } </li><li></li><li>  alert (win.open ());  <font color="#008000">// 3. open 2</font> </li><li></li><li>  <font color="#0000ff">var</font> vista = <font color="#0000ff">new</font> win (); </li><li></li><li>  alert (vista.open ());  <font color="#008000">// 4. open 1</font> </li><li>  alert (vista.save ());  <font color="#008000">// 5. open 3</font> </li><li></li><li>  vista.open = ( </li><li>  <font color="#0000ff">function</font> () </li><li>  { </li><li>  <font color="#0000ff">return</font> <font color="#A31515">"open 5"</font> ; </li><li>  } </li><li>  ) (); </li><li></li><li>  alert (vista.open);  <font color="#008000">// 6. open 5</font> </li><li></li><li>  alert (win.open ());  <font color="#008000">// 7. open 2</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br>  "Open 4" we will not get, because  The open method is defined in the object itself, which does not apply to save. <br><br>  An attentive reader will ask me - where is the designer in this devilish mixture?  Yes, he was not here.  The constructor is the object itself, started when the clone is created, using the new operator or initializing the object itself.  Demonstration: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">function</font> win () </li><li>  { </li><li>  <font color="#0000ff">var</font> str = <font color="#A31515">"open 1"</font> ; </li><li></li><li>  <font color="#0000ff">this</font> .open = <font color="#0000ff">function</font> () </li><li>  { </li><li>  <font color="#0000ff">return</font> str; </li><li>  } </li><li>  } </li><li></li><li>  alert (( <font color="#0000ff">new</font> win ()). open ());  <font color="#008000">// open 1</font> </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote>  Creating an object "from scratch" in JS, "this thing"!  I will give an example that helps save the muscular efforts of the fingers: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">function</font> plugin (options) </li><li>  { </li><li>  options = options ||  {}; </li><li></li><li>  options.list = options.list ||  []; </li><li></li><li>  <font color="#008000">// then you can safely work</font> </li><li>  <font color="#008000">// options, check its properties, for example,</font> </li><li>  <font color="#008000">// a with list as with an array</font> </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br><h3>  Prototype, "inheritance" in javascript </h3><br><br><blockquote>  It is very difficult to find a black cat in a dark room, especially if it is not there :) <br>  <i>¬© folk wisdom</i> </blockquote><br>  In JS, there is no inheritance and especially plural.  Each object has a prototype, an object which can be shared among several objects or their copies, and then changed :) <br><br><br><h3>  Total </h3><br>  Guys praying on the OOP paradigm, wake up, there are many other programming paradigms.  There is no best, there are the most suitable for certain tasks.  JS is one of the languages ‚Äã‚Äãin the long-occupied niche, including because under it is a very powerful <a title="prototype programming paradigm" href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D1%2582%25D0%25BE%25D1%2582%25D0%25B8%25D0%25BF%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">foundation of the prototypical programming paradigm</a> . <br><br>  The rest, I hope to learn something useful :) <br><br>  Sincerely, Arthur Dudnik <br>  The most valuable human trait - the desire for self-improvement ¬© <br><br></div><p>Source: <a href="https://habr.com/ru/post/49772/">https://habr.com/ru/post/49772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../49764/index.html">Mini Media Center - computer in the style of the 50s</a></li>
<li><a href="../49765/index.html">Change in US government</a></li>
<li><a href="../49768/index.html">Solar panels in Intel data centers</a></li>
<li><a href="../49769/index.html">Simple RDF repository for PHP and MySQL for beginners</a></li>
<li><a href="../49771/index.html">DO ROOM - 3d models of real things</a></li>
<li><a href="../49773/index.html">Wet snow</a></li>
<li><a href="../49774/index.html">Turn on jabber.</a></li>
<li><a href="../49778/index.html">About what happened to ICQ today (part 1)</a></li>
<li><a href="../49779/index.html">Web 2.0 and Enterprise 2.0 as a paradigm shift</a></li>
<li><a href="../49784/index.html">Set up associations for files in Firefox under Gentoo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>