<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a tweak on the example of the Phone application. Yes, it will be a plus!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Prehistory 
 After the release of iOS 7, some users started complaining about problems with the Phone app. The problem is that when dialing ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a tweak on the example of the Phone application. Yes, it will be a plus!</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br><h4>  Prehistory </h4><br>  After the release of iOS 7, some users started complaining about problems with the Phone app.  The problem is that when dialing the international number +375 (code) xxx-xx-xx you cannot dial '+'.  If you hold '0', then instead of plus you get a combination <s>of three fingers</s> '0+'.  The problem is most likely local, since, apart from the users from Belarus, no one else expressed his discontent. <br><br>  For various reasons, I haven‚Äôt been updated to iOS 7 for a long time, but having been updated I was unpleasantly surprised.  The problem remained, despite the release of several minor updates.  After reading the forums, I found the following solutions to this problem: <br><ol><li>  use 8 when dialing </li><li>  use 00 </li><li>  hold '0', press the delete button until a plus appears </li></ol><br>  The first option is quite a workable.  I didn‚Äôt manage to make a second call, most likely my operator doesn‚Äôt support this format.  The third works, but for this you need skill and a second hand, and it's cold outside. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And then I decided to fix this little misunderstanding with tweak. <br><a name="habracut"></a><br><h4>  Go! </h4><br>  On Habr√©, there was already an <a href="http://habrahabr.ru/post/164341/">article</a> about creating tweaks using <a href="https://github.com/rpetrich/theos">theos</a> , so we‚Äôll skip creating the project and setting up theos and go straight to the interesting. <br><br>  So, since we are going to change something in the Phone application, it would be nice to find out what it is inside.  I had an application on my device in <code>/var/stash/Applications.BTFCTa/MobilePhone.app</code> .  Let's use the <code>class-dump</code> utility and get a list of class prototypes. <br><br><pre> <code class="bash hljs">‚ûú class-dump -H -o MobilePhone MobilePhone.app</code> </pre><br>  As it turned out they are not so little. <br><div class="spoiler">  <b class="spoiler_title">Header list</b> <div class="spoiler_text">  ABNewPersonViewControllerDelegate-Protocol.h <br>  ABPeoplePickerNavigationControllerDelegate-Protocol.h <br>  ABPeoplePickerNavigationControllerPrivateMemberCellDelegate-Protocol.h <br>  ABUnknownPersonViewControllerDelegate-Protocol.h <br>  AVCaptureFileOutputRecordingDelegate-Protocol.h <br>  AudioDeviceController.h <br>  CDStructures.h <br>  CNFRegWizardControllerDelegate-Protocol.h <br>  CommunicationDisplayViewController.h <br>  ConferenceManagementTable.h <br>  DialerController.h <br>  DialerLCDFieldDelegate-Protocol.h <br>  DialerLCDFieldProtocol-Protocol.h <br>  DialerViewDelegate-Protocol.h <br>  IDSIDQueryControllerDelegate-Protocol.h <br>  InCallBottomButton.h <br>  InCallController.h <br>  InCallLCDField.h <br>  InCallLCDView.h <br>  MPDetailSliderDelegate-Protocol.h <br>  MobilePhoneApplication.h <br>  NSArray-MPRecentsExtensions.h <br>  NSDate-DayComparison.h <br>  NSDictionary-PHVoicemailAudioController.h <br>  NSDictionary-VoicemailAudioRouting.h <br>  NSError-VoicemailExtras.h <br>  NSIndexSet-MPRecentsExtensions.h <br>  NSObject-Protocol.h <br>  PHAbstractDialerView.h <br>  PHAddressBookController.h <br>  PHAudioPlayer.h <br>  PHAudioPlayerDataSource-Protocol.h <br>  PHAudioPlayerDelegate-Protocol.h <br>  PHAudioPlayerVoicemailDataSource.h <br>  PHAudioRecorder.h <br>  PHAudioRecorderDelegate-Protocol.h <br>  PHConferenceParticipantCell.h <br>  PHConferenceParticipantCellProtocol-Protocol.h <br>  PHEmergencyDialerButton.h <br>  PHEmergencyDialerViewController.h <br>  PHEmergencyHandsetDialerLCDView.h <br>  PHEmergencyHandsetDialerView.h <br>  PHF FavoritesCell.h <br>  PHF FavoritesContactPhotoView.h <br>  PHF FavoritesEntry.h <br>  PHF LOVE.Manager.h <br>  PHF LavidViewController.h <br>  PHHandsetDialerLCDView.h <br>  PHHandsetDialerNameLabelView.h <br>  PHHandsetDialerView.h <br>  PHInCallNumberPadButton.h <br>  PHInCallRingView.h <br>  PHInfoButtonMaskView.h <br>  PHRecentCall.h <br>  PHRecentMultiCall.h <br>  PHRecentsCell.h <br>  PHRecentsManager.h <br>  PHRecentsPersonFaceTimeHeaderSummaryView.h <br>  PHRecentsPersonFaceTimeHeaderView.h <br>  PHRecentsPersonHeaderSummaryView-Protocol.h <br>  PHRecentsPersonHeaderView.h <br>  PHRecentsPersonPhoneHeaderSummaryView.h <br>  PHRecentsPersonPhoneHeaderView.h <br>  PHRecentsToggleButton.h <br>  PHRecentsViewController.h <br>  PHStarkActionSheetTableViewCell.h <br>  PHStarkActionSheetViewController.h <br>  PHStarkDialerLCDView.h <br>  PHStarkDialerView.h <br>  PHStarkDialerViewController.h <br>  PHStarkF-00-00TableViewCell.h <br>  PHStarkF FavoritesViewController.h <br>  PHStarkGenericTableViewCell.h <br>  PHStarkGenericTableViewController.h <br>  PHStarkGenericViewController.h <br>  PHStarkHardwareControlsBroadcaster.h <br>  PHStarkHardwareMenuTableViewCell.h <br>  PHStarkInCallDialerLCDView.h <br>  PHStarkInCallDialerView.h <br>  PHStarkInCallKeypadViewController.h <br>  PHStarkInCallViewController.h <br>  PHStarkLozengeLabel.h <br>  PHStarkMainMenuContainerViewController.h <br>  PHStarkManager.h <br>  PHStarkNoContentBannerView.h <br>  PHStarkPlayPauseButton.h <br>  PHStarkRecentsTableViewCell.h <br>  PHStarkRecentsViewController.h <br>  PHStarkRootContainerViewController.h <br>  PHStarkTelephonyStateMonitor.h <br>  PHStarkTelephonyStateMonitorDelegate-Protocol.h <br>  PHStarkVoicemailManager.h <br>  PHStarkVoicemailPlayerViewController.h <br>  PHStarkVoicemailTableViewCell.h <br>  PHStarkVoicemailViewController.h <br>  PHStaticDialerPad.h <br>  PHTextCycleLabel.h <br>  PHVoicemailAudioController.h <br>  PHVoicemailBlockedListViewController.h <br>  PHVoicemailCell.h <br>  PHVoicemailCellConfigurationDelegate-Protocol.h <br>  PHVoicemailCellDelegate-Protocol.h <br>  PHVoicemailFolderCell.h <br>  PHVoicemailGreetingCell.h <br>  PHVoicemailGreetingViewController.h <br>  PHVoicemailGreetingViewControllerDelegate-Protocol.h <br>  PHVoicemailInboxListViewController.h <br>  PHVoicemailListMaskView.h <br>  PHVoicemailListMaskViewDelegate-Protocol.h <br>  PHVoicemailListViewController.h <br>  PHVoicemailListViewControllerConcrete-Protocol.h <br>  PHVoicemailNavigationController.h <br>  PHVoicemailNoContentViewController.h <br>  PHVoicemailSetupViewController.h <br>  PHVoicemailSlider.h <br>  PHVoicemailTrashListViewController.h <br>  PHVoicemailUnavailableCell.h <br>  PhoneApplication.h <br>  PhoneBadgeable-Protocol.h <br>  PhoneBaseViewController-Protocol.h <br>  PhoneContentView.h <br>  PhoneDesktopView.h <br>  PhoneNavigationController.h <br>  PhoneRootView.h <br>  PhoneRootViewController.h <br>  PhoneTabBarController.h <br>  PhoneTabViewController-Protocol.h <br>  PhoneViewController.h <br>  RadiosPreferencesDelegate-Protocol.h <br>  SixSquareButton.h <br>  SixSquareView.h <br>  TPDialerKeypadDelegate-Protocol.h <br>  TPSetPINViewControllerDelegate-Protocol.h <br>  TPStarkInCallViewControllerDelegate-Protocol.h <br>  TPSuperBottomBarDelegateProtocol-Protocol.h <br>  UIActionSheetDelegate-Protocol.h <br>  UIApplicationDelegate-Protocol.h <br>  UIFont-MobilePhoneAdditions.h <br>  UIFont-UIFont_InCallLCDView.h <br>  UIGestureRecognizerDelegate-Protocol.h <br>  UIImage-MobilePhoneAdditions.h <br>  UINavigationControllerDelegate-Protocol.h <br>  UIScrollViewDelegate-Protocol.h <br>  UITabBarControllerDelegate-Protocol.h <br>  UITableView-PHStarkExtensions.h <br>  UITableViewCell-VoicemailCellAdditions.h <br>  UITableViewDataSource-Protocol.h <br>  UITableViewDelegate-Protocol.h <br>  UIViewController-Testing.h <br>  VMVoicemail-MobilePhone.h <br>  VideoConferenceController.h <br></div></div><br>  Further logic of my actions was as follows.  Once we have a problem when you press a button, then you need to look for something that is associated with it. <br><br><pre> <code class="bash hljs">‚ûú ls | grep -i <span class="hljs-string"><span class="hljs-string">"key"</span></span> PHStarkInCallKeypadViewController.h TPDialerKeypadDelegate-Protocol.h</code> </pre><br>  <code>TPDialerKeypadDelegate-Protocol.h</code> turned out to be quite interesting.  In it, as you can see, describes the methods responsible for pressing the buttons. <br><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"NSObject.h"</span></span></span><span class="hljs-meta"> @protocol TPDialerKeypadDelegate </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;NSObject&gt;</span></span></span><span class="hljs-meta"> @optional - (void)phonePad:(id)arg1 dialerCharacterButtonWasHeld:(unsigned int)arg2; - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2; - (void)phonePadDidEndSounds:(id)arg1; - (void)phonePadWillBeginSounds:(id)arg1; - (void)phonePad:(id)arg1 keyUp:(BOOL)arg2; - (void)phonePad:(id)arg1 keyDown:(BOOL)arg2; - (void)phonePadDeleteLastDigit:(id)arg1; - (void)phonePad:(id)arg1 appendString:(id)arg2; @end</span></span></code> </pre><br>  Well, since this is a protocol, then someone is implementing it! <br><br><pre> <code class="bash hljs">‚ûú grep -l -r <span class="hljs-string"><span class="hljs-string">"TPDialerKeypadDelegate"</span></span> . ./DialerController.h ./InCallController.h ./PHEmergencyDialerViewController.h ./PHHandsetDialerView.h ./TPDialerKeypadDelegate-Protocol.h</code> </pre><br>  Later on, using the scientific method, it was revealed that <code>DialerController</code> is the class we need, and <code>phonePad:replaceLastDigitWithString:</code> is the method we need.  You can verify this by writing the following code: <br><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;substrate.h&gt;</span></span></span><span class="hljs-meta"> %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { %log; %orig(arg1, arg2); } %end</span></span></code> </pre><br>  The log shows that the last parameter is what we need: <br><br><pre> <code class="bash hljs">&lt;Warning&gt;: -[&lt;DialerController: 0x165e91e0&gt; phonePad:&lt;TPDialerNumberPad: 0x1677fc40; baseClass = UIControl; frame = (28 84; 264 296); opaque = NO; layer = &lt;CALayer: 0x1677f1d0&gt;&gt; replaceLastDigitWithString:+]</code> </pre><br>  It would be nice now to find where the string itself is stored, to which our plus is added.  To do this, look again at <code>DialerController</code> . <br><div class="spoiler">  <b class="spoiler_title">DialerController.h</b> <div class="spoiler_text"><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"PhoneViewController.h"</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ABNewPersonViewControllerDelegate.h"</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ABPeoplePickerNavigationControllerDelegate.h"</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"DialerViewDelegate.h"</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"TPDialerKeypadDelegate.h"</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"UIActionSheetDelegate.h"</span></span></span><span class="hljs-meta"> @class NSString, NSTimer, PHAbstractDialerView, UINavigationController; @interface DialerController : PhoneViewController </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ABNewPersonViewControllerDelegate, ABPeoplePickerNavigationControllerDelegate, DialerViewDelegate, UIActionSheetDelegate, TPDialerKeypadDelegate&gt;</span></span></span><span class="hljs-meta"> { PHAbstractDialerView *_dialerView; UINavigationController *_newContactNavigationController; NSTimer *_deleteTimer; NSTimer *_lookupTimer; NSString *_lastDialedNumberCache; NSString *_myPrefix; int _shouldUseMyPrefixAsHint; unsigned int _calledNumber:1; unsigned int _didDeleteRepeat:1; unsigned int _dtmfPlaying; int _dialerType; } + (id)defaultPNGName; + (id)tabBarIconName; + (id)tabBarIconImageSelected; + (id)tabBarIconImage; + (id)tabBarIconImageName; + (int)tabViewType; + (BOOL)launchFieldTestIfNeeded:(id)arg1; + (BOOL)shouldStringAutoDial:(id)arg1 givenLastChar:(BOOL)arg2; @property int dialerType; // @synthesize dialerType=_dialerType; @property(readonly) PHAbstractDialerView *dialerView; // @synthesize dialerView=_dialerView; - (void)_statusBarHeightChanged:(id)arg1; - (void)_handleSIMInsertionOrRemoval; - (void)performDeleteAction; - (void)performCallAction; - (void)_deleteButtonDown:(id)arg1; - (void)_deleteButtonClicked:(id)arg1; - (void)_stopDeleteTimer; - (void)_startDeleteTimer; - (void)_deleteRepeat; - (void)peoplePickerNavigationController:(id)arg1 insertEditorDidConfirm:(BOOL)arg2 forPerson:(void *)arg3; - (BOOL)peoplePickerNavigationController:(id)arg1 shouldShowInsertEditorForPerson:(void *)arg2 insertProperty:(int *)arg3 copyInsertValue:(id *)arg4 copyInsertLabel:(id *)arg5; - (BOOL)peoplePickerNavigationController:(id)arg1 shouldContinueAfterSelectingPerson:(void *)arg2 property:(int)arg3 identifier:(int)arg4; - (BOOL)peoplePickerNavigationController:(id)arg1 shouldContinueAfterSelectingPerson:(void *)arg2; - (void)peoplePickerNavigationControllerDidCancel:(id)arg1; - (void)newPersonViewController:(id)arg1 didCompleteWithNewPerson:(void *)arg2; - (void)actionSheet:(id)arg1 clickedButtonAtIndex:(int)arg2; - (void)_dismissNewContactView:(BOOL)arg1; - (void)actionSheet:(id)arg1 didDismissWithButtonIndex:(int)arg2; - (void)_addButtonClicked:(id)arg1; - (void)_addToExistingContact; - (void)_addToNewContact; - (id)_qualifyNumberIfNecessary:(id)arg1; - (void *)_newPersonWithValue:(id)arg1 forMultiValueProperty:(int)arg2; - (void)_hideNewContactView; - (void)_showNewContactView; - (void)_dialVoicemail; - (void)phonePad:(id)arg1 keyUp:(BOOL)arg2; - (void)phonePad:(id)arg1 keyDown:(BOOL)arg2; - (void)phonePadDidEndSounds:(id)arg1; - (id)_myPrefix; - (BOOL)_shouldUseMyPrefixAsHint; - (void)phonePadDeleteLastDigit:(id)arg1; - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2; - (void)_phonePad:(id)arg1 appendString:(id)arg2 suppressClearingDialedNumber:(BOOL)arg3; - (void)phonePad:(id)arg1 appendString:(id)arg2; - (void)phonePad:(id)arg1 dialerCharacterButtonWasHeld:(unsigned int)arg2; - (void)starkInCallViewControllerAppearedNotification:(id)arg1; - (void)_callButtonPressed:(id)arg1; - (void)_callButtonLongPress; - (void)_updateCallButtonEnabledState:(id)arg1; - (void)_updateLCDNameLabelWithOriginallyPastedString:(id)arg1; - (void)_updateLCDNameLabelWithAMatchingName:(BOOL)arg1; - (void)_updateCallButtonEnabledState:(id)arg1 updateNameNow:(BOOL)arg2; - (void)dialerView:(id)arg1 stringWasPasted:(id)arg2; - (void)dialerViewTextDidChange:(id)arg1; @property(retain) NSString *lastDialedNumber; - (void)_getPersonName:(id *)arg1 personLabel:(id *)arg2 personUID:(int *)arg3 forPhoneNumberString:(id)arg4; - (void)_updateName; - (void)_stopLookupTimer; - (BOOL)shouldSnapshot; - (void)prepareForSnapshot; - (void)_clearDisplayIfNecessary; - (void)dealloc; - (id)initWithDialerType:(int)arg1; - (void)applicationDidResume; - (void)viewDidDisappear:(BOOL)arg1; - (void)viewWillDisappear:(BOOL)arg1; - (void)viewDidAppear:(BOOL)arg1; - (void)viewWillAppear:(BOOL)arg1; - (BOOL)_isFirstLaunchFromDefaultPNGToDialer; - (BOOL)isShowingDoubleHeightStatusBar; - (void)unloadView; - (void)didReceiveMemoryWarning; - (void)dialerViewPhoneNumberWasTapped:(id)arg1; - (void)loadView; @end</span></span></code> </pre><br></div></div><br>  Sadness, an obvious place where the text would be stored, is not visible.  But let's look at the <code>_dialerView</code> variable and the <code>PHAbstractDialerView</code> class. <br><div class="spoiler">  <b class="spoiler_title">PHAbstractDialerView.h</b> <div class="spoiler_text"><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"UIView.h"</span></span></span><span class="hljs-meta"> #import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"DialerLCDFieldDelegate.h"</span></span></span><span class="hljs-meta"> @class UIControl, UIView</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;DialerLCDFieldProtocol&gt;</span></span></span><span class="hljs-meta">, UIView</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;TPDialerKeypadProtocol&gt;</span></span></span><span class="hljs-meta">; @interface PHAbstractDialerView : UIView </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;DialerLCDFieldDelegate&gt;</span></span></span><span class="hljs-meta"> { BOOL _inCallMode; UIView</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;DialerLCDFieldProtocol&gt;</span></span></span><span class="hljs-meta"> *_lcdView; UIView</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;TPDialerKeypadProtocol&gt;</span></span></span><span class="hljs-meta"> *_phonePadView; id </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;DialerViewDelegate&gt;</span></span></span><span class="hljs-meta"> _delegate; UIControl *_addContactButton; UIControl *_callButton; UIControl *_deleteButton; } @property(retain, nonatomic) UIControl *deleteButton; // @synthesize deleteButton=_deleteButton; @property(retain, nonatomic) UIControl *callButton; // @synthesize callButton=_callButton; @property(retain, nonatomic) UIControl *addContactButton; // @synthesize addContactButton=_addContactButton; @property(nonatomic) id </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;DialerViewDelegate&gt;</span></span></span><span class="hljs-meta"> delegate; // @synthesize delegate=_delegate; @property(retain, nonatomic) UIView</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;TPDialerKeypadProtocol&gt;</span></span></span><span class="hljs-meta"> *phonePadView; // @synthesize phonePadView=_phonePadView; @property(retain, nonatomic) UIView</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;DialerLCDFieldProtocol&gt;</span></span></span><span class="hljs-meta"> *lcdView; // @synthesize lcdView=_lcdView; @property(nonatomic) BOOL inCallMode; // @synthesize inCallMode=_inCallMode; - (void)dialerField:(id)arg1 stringWasPasted:(id)arg2; - (void)dialerLCDFieldTextDidChange:(id)arg1; - (void)dealloc; @end</span></span></code> </pre><br></div></div><br>  It has a <code><code>UIView *_lcdView,    DialerLCDFieldProtocol . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code></code> view <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> <div class="spoiler"> <code><b class="spoiler_title"><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> DialerLCDFieldProtocol-Protocol.h <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</b></code> <div class="spoiler_text"> <pre> <code class="hljs pgsql"><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setDelegate:(id)arg1; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setHighlighted:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg1; - (<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)highlighted; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setInCallMode:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg1; - (<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)inCallMode; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)deleteCharacter; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setText:(id)arg1 needsFormat:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg2; - (id)<span class="hljs-type"><span class="hljs-type">text</span></span>; @optional - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setText:(id)arg1 needsFormat:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg2 <span class="hljs-type"><span class="hljs-type">name</span></span>:(id)arg3 label:(id)arg4; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setName:(id)arg1 numberLabel:(id)arg2; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br> <br>  <code>setText:needsFormat:</code>  <code><span class="hljs-type"><span class="hljs-type">text</span></span></code>  .     ! <br> <br> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;substrate.h&gt; %hook DialerController - (<span class="hljs-type"><span class="hljs-type">void</span></span>)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(<span class="hljs-type"><span class="hljs-type">text</span></span>)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br>  <span class="hljs-string"><span class="hljs-string">'0'</span></span>            ,         : <br> <br> <code class="bash">&lt;<span class="hljs-built_in"><span class="hljs-built_in">Warning</span></span>&gt;: <span class="hljs-type"><span class="hljs-type">text</span></span>: (<span class="hljs-number"><span class="hljs-number">0</span></span> )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;substrate.h&gt; %hook DialerController - (<span class="hljs-type"><span class="hljs-type">void</span></span>)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(<span class="hljs-type"><span class="hljs-type">text</span></span>)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - <span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'0'</span></span>) { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { %orig(arg1, arg2); } } %<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone <span class="hljs-number"><span class="hljs-number">4</span></span>  iPhone <span class="hljs-number"><span class="hljs-number">5</span></span> c   <span class="hljs-number"><span class="hljs-number">7.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>.</code> </pre> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> </div></div> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> <pre> <code class="hljs pgsql"><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setDelegate:(id)arg1; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setHighlighted:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg1; - (<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)highlighted; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setInCallMode:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg1; - (<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)inCallMode; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)deleteCharacter; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setText:(id)arg1 needsFormat:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg2; - (id)<span class="hljs-type"><span class="hljs-type">text</span></span>; @optional - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setText:(id)arg1 needsFormat:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg2 <span class="hljs-type"><span class="hljs-type">name</span></span>:(id)arg3 label:(id)arg4; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setName:(id)arg1 numberLabel:(id)arg2; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br> <br>  <code>setText:needsFormat:</code>  <code><span class="hljs-type"><span class="hljs-type">text</span></span></code>  .     ! <br> <br> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;substrate.h&gt; %hook DialerController - (<span class="hljs-type"><span class="hljs-type">void</span></span>)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(<span class="hljs-type"><span class="hljs-type">text</span></span>)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br>  <span class="hljs-string"><span class="hljs-string">'0'</span></span>            ,         : <br> <br> <code class="bash">&lt;<span class="hljs-built_in"><span class="hljs-built_in">Warning</span></span>&gt;: <span class="hljs-type"><span class="hljs-type">text</span></span>: (<span class="hljs-number"><span class="hljs-number">0</span></span> )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;substrate.h&gt; %hook DialerController - (<span class="hljs-type"><span class="hljs-type">void</span></span>)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(<span class="hljs-type"><span class="hljs-type">text</span></span>)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - <span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'0'</span></span>) { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { %orig(arg1, arg2); } } %<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone <span class="hljs-number"><span class="hljs-number">4</span></span>  iPhone <span class="hljs-number"><span class="hljs-number">5</span></span> c   <span class="hljs-number"><span class="hljs-number">7.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>.</code> </pre> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> <pre> <code class="hljs pgsql"><code class="bash"><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setDelegate:(id)arg1; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setHighlighted:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg1; - (<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)highlighted; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setInCallMode:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg1; - (<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)inCallMode; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)deleteCharacter; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setText:(id)arg1 needsFormat:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg2; - (id)<span class="hljs-type"><span class="hljs-type">text</span></span>; @optional - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setText:(id)arg1 needsFormat:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg2 <span class="hljs-type"><span class="hljs-type">name</span></span>:(id)arg3 label:(id)arg4; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setName:(id)arg1 numberLabel:(id)arg2; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br> <br>  <code>setText:needsFormat:</code>  <code><span class="hljs-type"><span class="hljs-type">text</span></span></code>  .     ! <br> <br> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;substrate.h&gt; %hook DialerController - (<span class="hljs-type"><span class="hljs-type">void</span></span>)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(<span class="hljs-type"><span class="hljs-type">text</span></span>)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br>  <span class="hljs-string"><span class="hljs-string">'0'</span></span>            ,         : <br> <br> &lt;<span class="hljs-built_in"><span class="hljs-built_in">Warning</span></span>&gt;: <span class="hljs-type"><span class="hljs-type">text</span></span>: (<span class="hljs-number"><span class="hljs-number">0</span></span> ) <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;substrate.h&gt; %hook DialerController - (<span class="hljs-type"><span class="hljs-type">void</span></span>)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(<span class="hljs-type"><span class="hljs-type">text</span></span>)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - <span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'0'</span></span>) { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { %orig(arg1, arg2); } } %<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone <span class="hljs-number"><span class="hljs-number">4</span></span>  iPhone <span class="hljs-number"><span class="hljs-number">5</span></span> c   <span class="hljs-number"><span class="hljs-number">7.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>.</code></code> </pre> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> <div class="spoiler"> <code><b class="spoiler_title"><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br>  <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</b></code> <div class="spoiler_text"> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> </div></div> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> <pre> <code class="hljs pgsql"><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setDelegate:(id)arg1; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setHighlighted:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg1; - (<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)highlighted; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setInCallMode:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg1; - (<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)inCallMode; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)deleteCharacter; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setText:(id)arg1 needsFormat:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg2; - (id)<span class="hljs-type"><span class="hljs-type">text</span></span>; @optional - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setText:(id)arg1 needsFormat:(<span class="hljs-type"><span class="hljs-type">BOOL</span></span>)arg2 <span class="hljs-type"><span class="hljs-type">name</span></span>:(id)arg3 label:(id)arg4; - (<span class="hljs-type"><span class="hljs-type">void</span></span>)setName:(id)arg1 numberLabel:(id)arg2; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br> <br>  <code>setText:needsFormat:</code>  <code><span class="hljs-type"><span class="hljs-type">text</span></span></code>  .     ! <br> <br> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;substrate.h&gt; %hook DialerController - (<span class="hljs-type"><span class="hljs-type">void</span></span>)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(<span class="hljs-type"><span class="hljs-type">text</span></span>)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br>  <span class="hljs-string"><span class="hljs-string">'0'</span></span>            ,         : <br> <br> <code class="bash">&lt;<span class="hljs-built_in"><span class="hljs-built_in">Warning</span></span>&gt;: <span class="hljs-type"><span class="hljs-type">text</span></span>: (<span class="hljs-number"><span class="hljs-number">0</span></span> )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;substrate.h&gt; %hook DialerController - (<span class="hljs-type"><span class="hljs-type">void</span></span>)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(<span class="hljs-type"><span class="hljs-type">text</span></span>)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - <span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'0'</span></span>) { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { %orig(arg1, arg2); } } %<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone <span class="hljs-number"><span class="hljs-number">4</span></span>  iPhone <span class="hljs-number"><span class="hljs-number">5</span></span> c   <span class="hljs-number"><span class="hljs-number">7.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>.</code> </pre> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> <h4> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> </h4> <code><code>UIView *_lcdView,    DialerLCDFieldProtocol</code> . <br> <b class="spoiler_title">DialerLCDFieldProtocol-Protocol.h</b> <code class="objectivec">#import "NSObject.h" @protocol DialerLCDFieldProtocol &lt;NSObject&gt; - (void)setDelegate:(id)arg1; - (void)setHighlighted:(BOOL)arg1; - (BOOL)highlighted; - (void)setInCallMode:(BOOL)arg1; - (BOOL)inCallMode; - (void)deleteCharacter; - (void)setText:(id)arg1 needsFormat:(BOOL)arg2; - (id)text; @optional - (void)setText:(id)arg1 needsFormat:(BOOL)arg2 name:(id)arg3 label:(id)arg4; - (void)setName:(id)arg1 numberLabel:(id)arg2; @end</code> <br> <br>  <code>setText:needsFormat:</code>  <code>text</code>  .     ! <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); NSLog(@"text: %@", currentText); objc_msgSend(lcdView, @selector(setText:needsFormat:), @"+375123456789", YES); } %end</code> <br>  '0'            ,         : <br> <br> <code class="bash">&lt;Warning&gt;: text: (0 )</code> <br> <b class="spoiler_title"></b> <img src="https://habrastorage.org/getpro/habr/post_images/dfc/f0c/8ac/dfcf0c8aca66512bb1ec10fa318755a0.png"> <br> <br>   ,    .    . <br> <br> <code class="objectivec">#import &lt;substrate.h&gt; %hook DialerController - (void)phonePad:(id)arg1 replaceLastDigitWithString:(id)arg2 { id dialerView = MSHookIvar&lt;id&gt;(self, "_dialerView"); id lcdView = MSHookIvar&lt;id&gt;(dialerView, "_lcdView"); NSString *currentText; currentText = objc_msgSend(lcdView, @selector(text)); currentText = [currentText stringByReplacingOccurrencesOfString:@"(" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@")" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@"-" withString:@""]; currentText = [currentText stringByReplacingOccurrencesOfString:@" " withString:@""]; if ([arg2 isEqualToString:@"+"] &amp;&amp; currentText.length &amp;&amp; [currentText characterAtIndex:currentText.length - 1] == '0') { currentText = [currentText stringByReplacingCharactersInRange:NSMakeRange(currentText.length - 1, 1) withString:@"+"]; objc_msgSend(lcdView, @selector(setText:needsFormat:), currentText, YES); } else { %orig(arg1, arg2); } } %end</code> <br>      ,  ,      ,       <code>()-</code> . <br> <br>  <br>     <a href="https://github.com/gennick/Plus4Belarus">github</a> . <br> <br>     ,    <a href="http://gennick.ru/cydia/">http://gennick.ru/cydia/</a> .   Plus4Belarus. <br> <br>    iPhone 4  iPhone 5 c   7.0.4.</code> </div><p>Source: <a href="https://habr.com/ru/post/209990/">https://habr.com/ru/post/209990/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209974/index.html">Vkontakte presented SDK for Android</a></li>
<li><a href="../209976/index.html">Cooper Journal: Your flat design is convenient for only one of us.</a></li>
<li><a href="../209982/index.html">Gartner Report: PaaS Market Leaders for Enterprise Applications</a></li>
<li><a href="../209984/index.html">Overview of the static analyzer CppCat</a></li>
<li><a href="../209986/index.html">University timetable s01e03: season finale</a></li>
<li><a href="../209994/index.html">Gravity Beads</a></li>
<li><a href="../209996/index.html">What are the topics of letters working by the sweat</a></li>
<li><a href="../209998/index.html">Do electric cars dream of cars?</a></li>
<li><a href="../210000/index.html">An inside view or infrastructure of the Likeastore project</a></li>
<li><a href="../210002/index.html">Future home lighting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>