<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AdminVK - monitoring your own Vkontakte groups for new events using push notifications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Do you have a community vkontakte? Does it happen that someone wrote a negative comment, insulted someone, or just wrote a review about your company o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AdminVK - monitoring your own Vkontakte groups for new events using push notifications</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/a04/d9e/c91/a04d9ec918974a3a960c7b6db9eeaa81.png"><br><br>  Do you have a community vkontakte?  Does it happen that someone wrote a negative comment, insulted someone, or just wrote a review about your company or a question that you need to quickly answer?  We wrote a microservice in PushAll, which allows you to receive notifications about various events in your communities.  The fact is that Vkontakte recently rolled out the <a href="https://vk.com/dev/callback_api">Callback API for communities</a> , and we decided to use it to oblige from the API into the format of push-notifications. <br><br>  If you are too lazy to read and want to immediately use - <a href="https://pushall.ru/adminvk">AdminVK</a> (completely free, unlimited number of connected groups and communities) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h1>  How to use it? </h1><br><img src="https://habrastorage.org/files/d25/23d/2dd/d2523d2dd4d84736a8079eeaa08027a6.png"><br><br>  You just need to subscribe to <a href="https://pushall.ru/adminvk">the microservice channel</a> and follow the instructions. <br><br>  You register the microservice address in a special section in the settings of your group, and in the microservice settings you prescribe the code that you need to check with vkontakte.  Also, you must pass authorization through OAuth VK in order for microservice to receive information about users - avatars and names. <br><br><img src="https://habrastorage.org/files/bec/a5b/da0/beca5bda0d454b09b70f59b026c23bf8.png"><br><br>  After that, you will receive all notifications that you specify in the "Types of events" section. <br><br><img src="https://habrastorage.org/files/5a6/7dd/5a2/5a67dd5a2aa94a41a73d2f3d12d26909.png"><br><br>  It should be understood that not all types of events are supported: <br><ul><li>  Messages </li><li>  Comments </li><li>  Records </li><li>  Logout / Community Entry </li><li>  Discussions </li></ul><br>  These types come with the avatar and the user name of the user who initiated the event, with the name of the event and the event itself. <br><br><img src="https://habrastorage.org/files/c53/9c2/97d/c539c297dd4e46339f5c9bb5f863ed0f.png"><br><br>  The remaining types, at the moment come in the form of "Unsupported notification" and transmit the entire JSON, which gives vkontakte.  During the week they will be completed. <br><br><h1>  Where are the notifications coming? </h1><br>  For those who do not know where PushAll sends notifications: <br><ul><li>  Android application </li><li>  Chrome add-on with history </li><li>  Web push in chrome (Android + PC), Yandex browser, vivaldi, firefox, Safari </li><li>  Telegram bot </li><li>  Email </li><li>  iOS (Beta) </li></ul><br>  Coverage of devices and connectivity will increase. <br><br><h1>  Security </h1><br>  Vkontakte has come to security thoroughly - the script receives only the data you specify, and there is no access to control.  Providing access to the API, which is required for avatars and usernames, only requests offline permission, without even asking for the user's email. <br><br><h1>  Restrictions </h1><br>  Microservice is completely free.  You can connect several communities if you specify the same microservice address, while changing the verification code in the microservice settings each time.  That is, you can connect an unlimited number of groups to receive notifications. <br><br>  At the same time now there is no filtering - that is, all that you specify in the VK will come to you as a push.  In the future, it podrumavaetsya <br><ul><li>  Make it possible to transfer JSON to another script, that is, you can use AdminVK as a proxy, receive notifications, and send the request further to your analytics collection script or somewhere else </li><li>  Make it possible to specify trusted user IDs and user IDs that should receive notifications.  Those.  as an administrator, you can share your pushes on your moderators </li><li>  Filter by words.  For example, getting not all the pushes, but only those that contain the names of certain brands - on the one hand the mention of a brand is not a reason for a ban, but here it depends on the context </li><li>  Distribution of notifications between moderators, i.e.  based on the second point, it will be possible to evenly distribute incoming notifications to reduce the burden on people </li></ul><br><br><h1>  Why do we need it? </h1><br>  In essence, this is a ‚Äúproof-of-concept‚Äù, that is, this microservice is created to show how PushAll can be used for small services related to notifications.  For example, it took me about 1 hour to write the entire microservice to be ready to work in the form of the first alpha, using the standard PushAll API, and anyone can also write their own microservice that can send users notifications on various events on many platforms. <br><br>  This is only the first microservice of many that we will do later. <br><br>  To those who read to the end I remind the subscription link: <a href="https://pushall.ru/adminvk">AdminVK</a> <br><br>  Ps. <br><img src="https://habrastorage.org/files/fe6/eab/408/fe6eab40886c418bb6be30f73f946c4f"><br><img src="https://habrastorage.org/files/cab/9dc/b6d/cab9dcb6d1c9436c9d7636541d7150fc"><br>  Added support for photo, video, audio, messages.  Everywhere where you need to show either a preview or avatar of the user, shows the one who posted the content, and when clicked, links lead to the content itself.  And it turned out that on VKontakte you can give a direct link to the audio, when you switch to which you immediately play (it‚Äôs legal at all? :)) </div><p>Source: <a href="https://habr.com/ru/post/282297/">https://habr.com/ru/post/282297/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282277/index.html">Notes with MBC Symposium: applying deep learning in brain modeling</a></li>
<li><a href="../282281/index.html">How to use JSON restrictions when working with PostgreSQL</a></li>
<li><a href="../282283/index.html">Student projects within the Google Summer of Code</a></li>
<li><a href="../282287/index.html">Separate host and user configurations in 3CX Phone System v14</a></li>
<li><a href="../282293/index.html">Use CommonJS modules in Rails with Browserify</a></li>
<li><a href="../282299/index.html">Especially unscientific: Tarantool 1.6 vs Golang (by speed)</a></li>
<li><a href="../282301/index.html">C / C ++: how to measure CPU time</a></li>
<li><a href="../282305/index.html">Optimizing the Nested Set model in PHPixie</a></li>
<li><a href="../282311/index.html">Organization of functional requirements for a large project</a></li>
<li><a href="../282313/index.html">Magic, broken calculator or just a "divorce"?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>