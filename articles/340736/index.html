<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Three bugs iOS developer, which can be costly</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Creating an iOS application is not an easy task. Developers want to complete this process as quickly as possible and finally run in the AppStore. But ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Three bugs iOS developer, which can be costly</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/59/ed/d4/59edd40ab11de405434459.png"><br><br>  Creating an iOS application is not an easy task.  Developers want to complete this process as quickly as possible and finally run in the AppStore.  But this does not end there: the creators have for many years correcting errors, improving functions and working with other developers.  We would like to make life a little easier for them and for this we decided to sort out three things that should be avoided during iOS development (thanks to <a href="https://code.tutsplus.com/articles/three-terrible-mistakes-of-ios-developers--cms-29355">Envato Tuts +</a> for the information). <br><a name="habracut"></a><br><h2>  1. Constants, constants ... me and with variable norms </h2><br>  At first glance, variables are more universal than constants.  But if you can use a constant, then it is better not to resort to variables.  Constants have several advantages. <br><br><h3>  Readability </h3><br>  This is perhaps the main advantage.  Suppose you are writing an e-commerce application for the USA.  Specify the local sales tax rate - 8.75%.  And at this moment conditional Vasya, who does not know anything about the sales tax, is connected to the development. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you enter a variable to indicate the sales tax rate, it can change it literally with a single line of code, which can seriously harm the application.  If you change the keyword from <code>var</code> to <code>let</code> , the compiler will report that this value cannot be changed, and Vasya will remove his fateful fingers from the keyboard. <br><br><h3>  Reference to value </h3><br>  With the help of <code>let</code> you can refer to any value in the code.  You create the application, create it and suddenly, following the example of the Rolling Stones, you decide to paint everything black.  If you have registered a constant, then if you change it in one place, all other references to color will also change.  And if not, then you have to look for and change everything manually. <br><br><h3>  Instantiating a class or structure </h3><br>  If you are creating a singleton, you need to create a shared instance of the class.  This is usually done through a static let declaration inside a class declaration.  After that, you give a name to a constant, assign it to an instance of a class, and you can safely use it throughout the application. <br><br>  If you need to create an instance of a regular class (say, in ViewController.swift), you create a constant and assign it to an instance of the class you need - this creates a link that you can easily use throughout the file.  Constants are back in business! <br><br>  As you can see, constants have many advantages.  They increase the readability of the code, they are useful for storing immutable values ‚Äã‚Äãand, of course, not as useless as you think.  Cool developers love constants and change them with variables only if there‚Äôs no way to change the values. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/17b/362/aca/17b362aca98a20ebfa6c76286d158e64.png"><br><br><h2>  2. Bang Operator!  How cool it sounds, what is needed for the optional! </h2><br>  Options is a very powerful feature of Swift.  These are types a la <code>int</code> and <code>String</code> , annotated with a question mark after the type declaration.  If you want to declare a variable as an optional string, you can simply write: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> someVariable: <span class="hljs-type"><span class="hljs-type">String?</span></span></code> </pre> <br>  This is a signal to the compiler that there will either be a value in it or not.  String?  and String are considered two different types. <br><br>  The optional is a gift box.  This box may or may not store the value.  If you want to know this, you need to optionally deploy.  This is done in different ways. <br><br><h3>  Wrong: Forced Unwrapping (Forced Extract Value) </h3><br>  This operation (performed with an exclamation mark) is called a Bang Operator.  We do not advise her to use.  If the value of the optional extracted in this way is nil (nothing), then the application will crash.  For example, like here: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> someVariable: <span class="hljs-type"><span class="hljs-type">String?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> somethingElse: <span class="hljs-type"><span class="hljs-type">String</span></span> = <span class="hljs-string"><span class="hljs-string">"hello"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupApp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.somethingElse = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.someVariable! }</code> </pre><br>  In this example, the application will crash because we have not defined the value of someVariable and are trying to assign it to a variable of type String.  The optionals were created to protect against such errors, and we are reducing all their efforts. <br><br><h3>  Correct: Optional Binding </h3><br>  This is one of the most popular options for working with optionals.  You simply assign an optional value to a constant using an if statement.  If you can retrieve a value from an optional value, the compiler is included in the closure, and you can use the created constant.  Otherwise, you go to the else branch and pretend that nothing happened. <br><br>  For comparison, take the same example: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> someVariable: <span class="hljs-type"><span class="hljs-type">String?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> somethingElse: <span class="hljs-type"><span class="hljs-type">String</span></span> = <span class="hljs-string"><span class="hljs-string">"hello"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupApp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> theThing = someVariable {        <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.somethingElse = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.someVariable!    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {        <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"error"</span></span>)    } }</code> </pre><br>  With the optional binding, the compiler does not crash the entire application, but quietly enters the else branch and prints an ‚Äúerror‚Äù. <br><br><h3>  And again correctly: Optional Chaining (optional chain) </h3><br>  Another common way to safely retrieve an option is an optional chain.  So you can completely avoid nil values ‚Äã‚Äãwith just one line.  If at some point such a value is obtained, this line of code simply stops executing.  For example: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> someClass: <span class="hljs-type"><span class="hljs-type">SomeClass?</span></span> = <span class="hljs-type"><span class="hljs-type">SomeClass</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> somethingElse: <span class="hljs-type"><span class="hljs-type">String?</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupApp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.somethingElse = someClass?.createString() }</code> </pre> <br>  If someClass is nil, then the entire line will not be executed, the value of somethingElse becomes equal to nil.  If the value is different from nil, as in the example above, then it is assigned to the variable somethingElse.  In any case, the application will not fall. <br><br><h3>  And again true: Nil Coalescing (Combine Operator by nil) </h3><br>  This method allows you to process options in a single line, but unlike the method above, you must specify a default value or ‚Äúelse‚Äù.  That is, for the scenario when the optional is nil).  For example: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> someVariable: <span class="hljs-type"><span class="hljs-type">String?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> somethingElse: <span class="hljs-type"><span class="hljs-type">String</span></span> = <span class="hljs-string"><span class="hljs-string">"hello"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupApp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.somethingElse = someVariable ?? <span class="hljs-string"><span class="hljs-string">"error"</span></span> }</code> </pre> <br><br>  It looks mysterious, but the essence is simple.  If the expression on the left has any value (that is, not equal to nil), then that value will be used.  If the value is nil, then the default value will be used - in this case, the hard-coded string.  The expression on the right must be different from nil, and its type must be non-optional ‚Äî otherwise the whole meaning is lost. <br><br><h2>  3. Leave all these architecture patterns for later </h2><br>  And finally, a classic mistake.  Many people do not structure the code, which causes sustainability, efficiency and the ability to support it in principle.  You can squeeze all your code into the ViewController classes, but this rash step will be shed in flammable tears when you have to change and debug the code. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/009/296/cd5/009296cd51b2335e5c639c18022f5357.png"><br><br>  Code is the foundation on which you develop your application.  Without a consistently laid foundation, the multi-storey building of your application will collapse easily.  The foundation of an iOS application is the selected design pattern.  Consider the two most commonly used templates. <br><br><h3>  MVC (Model-View-Controller) </h3><br>  The <b>Model-View-Controller</b> , or MVC, design pattern divides each part of your code into three parts: model, view, and controller. <br><br><ul><li>  <b>Model</b>  This is essentially an application data.  This part covers reusable structures and classes that work <i>only</i> with application data.  The model <i>does not</i> work with anything related to the view or how information will be shown to the user. <br></li><li>  <b>View</b>  Responsible only for the visual presentation of data, as well as for user interaction.  It <i>does not</i> handle anything related to data or specific views.  It's just a class that can be reused without repeating the code. <br></li><li>  <b>Controller</b> .  Here is our main character.  It takes data from the model, and then sends it to the view to display it to the user.  This usually happens in ViewController.swift - it accepts input data and changes the model as needed. <br></li></ul><br>  There are many variations of MVC, for example, MVVM and MVP.  It is worth reading about them, but the principle of their work is similar to MVC, therefore we will not dwell on them here.  All of these are design patterns that make our code modular. <br><br><h3>  Singletons </h3><br>  Singleton is the only instance of a class that is always present in memory.  And what is special about it?  Suppose you create an application that connects to the database, and you need to put all the connections somewhere.  Singltons are perfect for this.  Here's how to create them: <br><br><pre> <code class="hljs pgsql">// Declaration <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> DataService {    static var shared = DataService()        func createUser() {    } } // <span class="hljs-keyword"><span class="hljs-keyword">Call</span></span>-site DataService.shared.createUser()</code> </pre><br>  If you follow these simple tips, the application will be easier to maintain and you will find errors faster than customers. <br><br>  All the errors we have considered perfectly illustrate the old Russian wisdom: "If you go slower, you will continue."  We hope that the article was useful, and we expect that you will also tell us how some pitfalls of iOS development were avoided.  We promise a nice gift from the EFS Program to the author of the most original story! </div><p>Source: <a href="https://habr.com/ru/post/340736/">https://habr.com/ru/post/340736/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340726/index.html">Code hiding and refactoring areas</a></li>
<li><a href="../340728/index.html">Monitoring with Prometheus at Kubernetes in 15 minutes</a></li>
<li><a href="../340730/index.html">Review of music software code defects. Part 3. Rosegarden</a></li>
<li><a href="../340732/index.html">Asynchrony 3: Subject model</a></li>
<li><a href="../340734/index.html">Eleven project management mistakes on the example of the transatlantic yacht crossing</a></li>
<li><a href="../340738/index.html">DevOops 2017: Docker, Docker, Docker</a></li>
<li><a href="../340740/index.html">Vim after 15 years</a></li>
<li><a href="../340742/index.html">You can‚Äôt please everyone, or what we learn from the 2006 redesign of the Facebook feed</a></li>
<li><a href="../340744/index.html">Time Travel Debugging in the new WinDbg</a></li>
<li><a href="../340746/index.html">Video calls to Zoom video from web pages</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>