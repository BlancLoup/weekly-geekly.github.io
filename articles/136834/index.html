<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Request Life Cycle in the MVC 3 Framework Application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Any developer knows that the URL in MVC routing plays a key role. As you know, there is a standard routing: 



routes.MapRoute( "Default", "{controll...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Request Life Cycle in the MVC 3 Framework Application</h1><div class="post__text post__text-html js-mediator-article">  Any developer knows that the URL in MVC routing plays a key role.  As you know, there is a standard routing: <br><br><pre><code class="cs hljs">routes.MapRoute( <span class="hljs-string"><span class="hljs-string">"Default"</span></span>, <span class="hljs-string"><span class="hljs-string">"{controller}/{action}/{id}"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> { controller = <span class="hljs-string"><span class="hljs-string">"Home"</span></span>, action = <span class="hljs-string"><span class="hljs-string">"Index"</span></span>, id = UrlParameter.Optional );</code> </pre> <br><br>  It is the rule by which routes are chosen.  In the simplest cases, you can swap the action and controller, or add many more parameters that will appear in the url as follows: param1 / param2 / param3 /.  Sometimes, for example in CMS systems, it is necessary to make part of the url come as a variable. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cs hljs">routes.MapRoute( <span class="hljs-string"><span class="hljs-string">"Default"</span></span>, <span class="hljs-string"><span class="hljs-string">"{controller}/{action}/{*url}"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> { controller = <span class="hljs-string"><span class="hljs-string">"Content"</span></span>, action = <span class="hljs-string"><span class="hljs-string">"Home"</span></span>, url = UrlParameter.Optional });</code> </pre> <br><br>  This rule allocates Action and Controller, and assigns the rest of the variable url. <br>  Routes are registered when the application starts.  Namely, in the Global.asax file in the Application_Start () method. <br><br>  To create most applications of this knowledge is enough.  The goal of my article is to go through the entire Request life cycle and see what happens before the application parses the url and transfers control to the desired action. <br><br><a name="habracut"></a>  <b>1. Create the MVC request handler.</b> <br>  MVC includes the following handler types: <i>(Based on MSDN)</i> <br>  <i>‚Ä¢ MvcHandler.</i>  <i>This handler is responsible for initiating the ASP.NET pipeline for the MVC application.</i>  <i>It receives an instance of Controller from the MVC controller factory;</i>  <i>This controller performs further processing of the request.</i>  <i>Note that although MvcHandler implements IHttpHandler, it cannot be mapped as a handler (for example, for the .mvc file name extension), because the class does not support a no-parameter constructor.</i>  <i>(The only constructor requires a RequestContext object).</i> <i><br></i>  <i>‚Ä¢ MvcRouteHandler.</i>  <i>This class implements IRouteHandler, so it can be integrated with ASP.NET routing.</i>  <i>The MvcRouteHandler class associates a route with an MvcHandler instance.</i>  <i>An instance of MvcRouteHandler is registered with routing, using the MapRoute method.</i>  <i>When you call the MvcRouteHandler class, the class creates an instance of MvcHandler using the current RequestContext instance.</i>  <i>It then passes the control to the new MvcHandler instance.</i> <i><br></i>  <i>‚Ä¢ MvcHttpHandler.</i>  <i>This handler is used to simplify the direct mapping of the handler bypassing the routing module.</i>  <i>This is useful when you need to map a file name extension, such as .mvc, directly to an MVC handler.</i>  <i>Internally, MvcHttpHandler performs the same tasks as regular ASP.NET routing (passing through MvcRouteHandler and MvcHandler).</i>  <i>However, it performs these tasks as a handler, not a module.</i>  <i>This handler is usually not used if UrlRoutingModule is enabled for all requests.</i> <br><br>  What can it be needed for? <br><ul><li>  a.  The simplest example for application localization (Thread.CurrentThread.CurrentUICulture and Thread.CurrentThread.CurrentCulture). </li><li>  b.  For routing between multiple applications. </li><li>  c.  To make settings before Dependency Injection (for example, select the connection string to the DB). </li></ul><br>  The general view of the MvcRouteHandler override is as follows: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CustomRouteHandler</span></span> : <span class="hljs-title"><span class="hljs-title">MvcRouteHandler</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> IHttpHandler </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHttpHandler</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RequestContext requestContext</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something return base.GetHttpHandler(requestContext); } }</span></span></code> </pre> <br><br>  You need to initialize CustomRouteHandler in the Global class Application_Start method () <br><br><pre> <code class="cs hljs">routes.IgnoreRoute(<span class="hljs-string"><span class="hljs-string">"{resource}.axd/{*pathInfo}"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> route = routes.MapRoute( <span class="hljs-string"><span class="hljs-string">"Default"</span></span>, <span class="hljs-comment"><span class="hljs-comment">// Route name "{controller}/{action}/{id}", // URL with parameters new { controller = "Home", action = "Index", id = UrlParameter.Optional } // Parameter defaults ); route.RouteHandler = new CustomRouteHandler();</span></span></code> </pre> <br><br>  <b>2. Selection and creation of a controller</b> <br>  The ControllrerFactory class is responsible for selecting and creating the controller.  This class implements the IControllerFactory interface. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IControllerFactory</span></span> { <span class="hljs-function"><span class="hljs-function">IController </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RequestContext requestContext, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> controllerName</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-function">SessionStateBehavior </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetControllerSessionBehavior</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RequestContext requestContext, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> controllerName</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReleaseController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IController controller</span></span></span><span class="hljs-function">)</span></span>; }</code> </pre> <br><br>  Naturally, you can create your own controller factory by implementing this interface, but as a rule, to meet your needs, it is enough to override the methods of the DefaultControllerFactory class.  Typically, this is an IController CreateController (RequestContext requestContext, string controllerName).  Below is an example of a redefined controller factory. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyControllerFactory</span></span> : <span class="hljs-title"><span class="hljs-title">DefaultControllerFactory</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> IController </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RequestContext requestContext, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> controllerName</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something Type controllerType = this.GetControllerType(requestContext, controllerName); return this.GetControllerInstance(requestContext, controllerType); } public override void ReleaseController(IController controller) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something var disposable = controller as IDisposable; if (disposable != null) { disposable.Dispose(); } } protected override IController GetControllerInstance(RequestContext requestContext, Type controllerType) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something try { return (IController)Activator.CreateInstance(controllerType); } catch (Exception exception) { throw new InvalidOperationException(); } } }</span></span></code> </pre> <br><br>  By the way, Autofac, Ninject, Unity all create their own controller factory for Dependency Injection. <br>  Registering your own factory, also happens in the Global class, Application_Start () method <br> <code>ControllerBuilder.Current.SetControllerFactory(new MyControllerFactory());</code> <br> <br>  <b>3. Action</b> <br>  After creating the controller instance, the IController.Execute () method is called.  In the Execute () method, we need to perform the actions we need.  In the standard Controller class, control is transferred to ActionInvoker, he is responsible for calling a specific action. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CustomActionInvoker</span></span> : <span class="hljs-title"><span class="hljs-title">IActionInvoker</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InvokeAction</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ControllerContext context, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> actionName</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> invoke Action // if action was found // return true return false; } }</span></span></code> </pre> <br><br>  You can register it in the controller by initializing it in the constructor. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CustomActionInvokerController</span></span> : <span class="hljs-title"><span class="hljs-title">Controller</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CustomActionInvokerController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ActionInvoker = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CustomActionInvoker(); } }</code> </pre> <br><br>  Before calling, ActionInvoker checks Action attributes derived from ActionMethodSelectorAttribute and FilterAttribute <i>(AuthorizeAttribute, HandleErrorAttibute, ValidateAntiForgeryTokenAttribute, ValidateInputAttribute)</i> before calling.  These attributes allow you to decide whether to transfer control to one or another action. <br>  To create your own action selectors - inherit from this attribute <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">AttributeUsage(AttributeTargets.Method, AllowMultiple = false, Inherited = true)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ActionMethodSelectorAttribute</span></span> : <span class="hljs-title"><span class="hljs-title">Attribute</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsValidForRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ControllerContext controllerContext, MethodInfo methodInfo</span></span></span><span class="hljs-function">)</span></span>; }</code> </pre> <br><br>  <b>4. Binders</b> <br>  As we already know, the MVC mechanism allows, besides the simplest parameters (int, string), to use more complex, for example, classes.  But sometimes you need to take, quite an exotic class, with which the standard binder can not cope.  In this case, we can write our own binder.  To do this, it is enough to inherit from DefaultModelBinder and override its methods. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CustomModelBinder</span></span> : <span class="hljs-title"><span class="hljs-title">DefaultModelBinder</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">object</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BindModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ControllerContext controllerContext, ModelBindingContext bindingContext</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something return base.BindModel(controllerContext, bindingContext); } protected override object CreateModel(ControllerContext controllerContext, ModelBindingContext bindingContext, Type modelType) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something return base.CreateModel(controllerContext, bindingContext, modelType); } protected override System.ComponentModel.PropertyDescriptorCollection GetModelProperties(ControllerContext controllerContext, ModelBindingContext bindingContext) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something return base.GetModelProperties(controllerContext, bindingContext); } protected override void BindProperty(ControllerContext controllerContext, ModelBindingContext bindingContext, PropertyDescriptor propertyDescriptor) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something base.BindProperty(controllerContext, bindingContext, propertyDescriptor); } protected override object GetPropertyValue(ControllerContext controllerContext, ModelBindingContext bindingContext, System.ComponentModel.PropertyDescriptor propertyDescriptor, IModelBinder propertyBinder) { return base.GetPropertyValue(controllerContext, bindingContext, propertyDescriptor, propertyBinder); } protected override ICustomTypeDescriptor GetTypeDescriptor(ControllerContext controllerContext, ModelBindingContext bindingContext) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something return base.GetTypeDescriptor(controllerContext, bindingContext); } protected override void OnModelUpdated(ControllerContext controllerContext, ModelBindingContext bindingContext) { base.OnModelUpdated(controllerContext, bindingContext); } protected override bool OnModelUpdating(ControllerContext controllerContext, ModelBindingContext bindingContext) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something return base.OnModelUpdating(controllerContext, bindingContext); } protected override void OnPropertyValidated(ControllerContext controllerContext, ModelBindingContext bindingContext, PropertyDescriptor propertyDescriptor, object value) { base.OnPropertyValidated(controllerContext, bindingContext, propertyDescriptor, value); } protected override bool OnPropertyValidating(ControllerContext controllerContext, ModelBindingContext bindingContext, PropertyDescriptor propertyDescriptor, object value) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something return base.OnPropertyValidating(controllerContext, bindingContext, propertyDescriptor, value); } protected override void SetProperty(ControllerContext controllerContext, ModelBindingContext bindingContext, PropertyDescriptor propertyDescriptor, object value) { //</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something base.SetProperty(controllerContext, bindingContext, propertyDescriptor, value); } }</span></span></code> </pre> <br><br>  As you can see, the base class provides us with a lot of opportunities. <br>  You can connect your ModelBinder directly to the model.  With an attribute. <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">ModelBinder(typeof(CustomModelBinder))</span></span>]</code> </pre> <br><br>  Or in the Global class, the Application_Start () method. <br><br><pre> <code class="cs hljs">ModelBinders.Binders.Add(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(CustomTypeModel), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CustomModelBinder());</code> </pre> <br><br>  <b>5 ActionResult</b> <br>  Finally, after the action has completed, on returns ActionResult ().  This can be View (), PartialView (), JsonResult (), FileResult (), EmptyResult (). <br>  Naturally, this list can be expanded and supplemented with our implementations of ActionResult ().  For this, it suffices to inherit from the ActionResult class, and override the void method ExecuteResult (ControllerContext context) <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CustomResult</span></span> : <span class="hljs-title"><span class="hljs-title">ActionResult</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExecuteResult</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ControllerContext context</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> something } }</span></span></code> </pre> <br><br>  There is also an interesting way to add the necessary methods to the View () and use them directly from the * .cshtml file.  For this we inherit from the class WebViewPage. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CustomView</span></span> : <span class="hljs-title"><span class="hljs-title">WebViewPage</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HelloWordPrint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello Word"</span></span>; } }</code> </pre> <br><br>  In the very RazorView, we use the following directive <br><br><pre> <code class="cs hljs">@inherits CustomView</code> </pre> <br><br>  Now you can use new methods in View. <br><br>  <b>Conclusion</b> <br>  That's all.  In this post, we went through all the stages of Request in MVC, we looked at how we can influence each stage.  I hope now you have a complete picture of how the MVC3 framework works. </div><p>Source: <a href="https://habr.com/ru/post/136834/">https://habr.com/ru/post/136834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136828/index.html">Implementing Iterators in C # (Part 1)</a></li>
<li><a href="../136829/index.html">Types of instance in amazon ec2</a></li>
<li><a href="../136830/index.html">Imaginary personalities. How to create your twins for the good</a></li>
<li><a href="../136831/index.html">Every fifth American now has a tablet</a></li>
<li><a href="../136833/index.html">Authorization on the site using phpBB / XenForo</a></li>
<li><a href="../136835/index.html">Underwater stone in foreach ($ items as & $ item)</a></li>
<li><a href="../136836/index.html">Electronic signature technologies</a></li>
<li><a href="../136840/index.html">CyanogenMod developers create alternative to Android Market</a></li>
<li><a href="../136841/index.html">Induc still a threat to delphi</a></li>
<li><a href="../136843/index.html">How to cheat GLONASS. Part one - we spoil the trackers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>