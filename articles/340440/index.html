<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Spotify front-end life</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Images are, as a rule, the ‚Äúheaviest‚Äù static on the web. Many front-vendors are aware of responsive images that allow certain images to be used for di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Spotify front-end life</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/59/e8/41/59e8417562ace147364519.jpeg"><br><br>  Images are, as a rule, the ‚Äúheaviest‚Äù static on the web.  Many front-vendors are aware of responsive images that allow certain images to be used for different resolutions.  But this is not their only plus, because how and when we load them also affects the speed of your web application. <br><br>  At the <a href="https://2017.frontfest.ru/%3Futm_source%3Dhabr%26utm_medium%3Dnews%26utm_campaign%3Dperez">FrontFest 2017,</a> Jose M. Perez from Spotify comes to us with the report ‚Äú <a href="https://2017.frontfest.ru/lecture/10/%3Futm_source%3Dhabr%26utm_medium%3Dnews%26utm_campaign%3Dperez">Progressive Image Rendering</a> ‚Äù.  He will talk about progressive rendering techniques based on placeholders, dominant colors, blurry images and lazy loading that will help improve performance. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      On the eve of the conference, we talked with Jose about the web stack, releases and process management in Spotify, attitudes towards Open Source and the weather in Spain, Sweden and Russia. <br><a name="habracut"></a><br>  - <b>Hi, tell me about yourself.</b> <br>  - My name is Jose, I work in Spotify, Stockholm, Sweden.  Doing web for about 10 years.  Started with Java and C # and moved to the web.  The web is cool because the product is quickly delivered to the battle. <br><br>  - <b>Have you been to Russia before?</b> <br>  - Only St. Petersburg and just a couple of hours when I was on a cruise.  But even a few hours was enough to understand: the climate is similar to the one in which I live now.  By the way, I am from Spain and when I tell my Spanish friends that I live in Sweden, they think that it is always incredibly cold in Sweden and it‚Äôs impossible to live at all.  But it is not.  Colds are only a few months.  About Russia, I have about the same opinion, in contrast to the widespread opinion that there is always snow here. <br><br>  - <b>Scary to go?</b> <br>  - Hah.  Not!  Should it?  Spotify has a lot of employees from different countries and from different cultures, so I‚Äôve already broken a lot of stereotypes in my head.  TV can not be trusted.  In real life, it's not like that. <br><br>  - <b>Do you know the speakers?</b> <br>  - Run through the list of speakers and some names look familiar.  He may have seen at other conferences, but he is not personally acquainted.  Interestingly, not so long ago I was in Alicante, my hometown in Spain, at a mitap and met a programmer from Moscow there.  This is very strange, because the mitap is local.  He said he would be at FrontFest. <br><br>  - <b>What about Russian companies?</b> <br>  - It seems that apart from Yandex, I no longer know the companies.  In general, I was very surprised when I learned that there are local large search engines that Russians prefer to Google.  I can't remember anything more, but I like that Yandex came up with BEM. <br><br><img src="https://habrastorage.org/webt/59/e7/ea/59e7eaeeef1f7643923315.jpeg"><br><br><img src="https://habrastorage.org/webt/59/e7/f0/59e7f0c94cae9498690963.jpeg"><br><br>  - <b>Tell me about the work.</b> <br>  - I have been working at Spotify for five years.  First in Spain, now in Sweden.  Visited several teams.  Now I am developing a player that works on various platforms. <br><br><blockquote>  The main discovery of these years is that the products we make on web technologies work confidently not only on the web. </blockquote><br>  - <b>What technologies do you use?</b> <br>  - Previously, the server was PHP.  Now we rewrite almost everything in Java.  We tried to do something on Node.js, but realized that for us it is inconvenient and unprofitable.  Understood that we have enough client application without server rendering, without an interlayer in the form of Node.js and so on. <br><br>  - <b>And what about the client?</b> <br>  - Each team has its own.  I know a team that uses Angular, and I want to say that they scale very well and everything is in order.  In my player team, we use React.  Web, desktop and TV are the same application written in React, and we are very pleased with it.  I also like React because it is very easy to test.  The same Jest is very convenient.  Sometimes we use GraphQL.  Redux, of course.  It's easier to say that we just use the React stack. <br><br>  - <b>I can not ask: Angular vs React vs Vue.js.</b>  <b>What will you choose?</b> <br>  - Not very much worked with Angular.  It was the first version, perhaps, I did not understand everything then, it was a few years ago.  With Vue.js did not work at all.  So the comparison is not entirely fair.  I have expertise only in React and I like his approach. <br><br>  - <b>Okay.</b>  <b>Returning to the technologies you use - what are you testing?</b> <br>  - Jest with Mocha.  Also use Snapshot.  In addition, we love Browserstack.  PhantomJS, Google Web Driver.  In general, everything is like everyone else :) <br><br>  - <b>Spotify Contribute to Open Source?</b> <br>  - We love Open Source very much and we have several projects in Java and Python.  There used to be a few JavaScript, but now we do not support them.  It seems that modern Open Source in JS is very developed, there are cool tools, so we don‚Äôt open anything under JS. <br><br><img src="https://habrastorage.org/webt/59/e7/ea/59e7eaeeef1f7643923315.jpeg"><br><br><img src="https://habrastorage.org/webt/59/e7/f0/59e7f0c945ce2873847552.jpeg"><br><br>  - <b>The toughest release in Spotify for you?</b> <br>  - New player - definitely.  Previous worked for several years, it had to be rewritten.  We started making a new application on the client.  Just began to use React.  It was difficult to defeat all browsers, to achieve one working solution everywhere - this, by the way, is the most difficult thing in the work of the fronterer - you can‚Äôt control the environment in which your application will run.  Another difficult moment was when we began to look at the performance of the application and realized that it was very slow.  Then we got into the React code to better understand it.  We watched when, how and why the components were rendered and so on.  After all this, I can say that we have learned really a lot of cool tricks on using React. <br><br>  - <b>How long have you been making the player?</b> <br>  - About a year. <br><br>  - <b>What about the deadline in the company?</b> <br>  - They are, as in all grocery companies, but we evaluate ourselves and ask other teams about integration.  If we do not have time, then everyone understands that some functionality can be released a little later.  But if in this case we do not have time, then we ask for help from other teams. <br><br>  - <b>Did you have to work late to release something?</b> <br>  - No never.  You can always finish tomorrow, or ask for help.  The brain is a tool and it needs rest.  If you work 12 hours a day, you do not need to wait from the brain that it will work fine all this time.  Moreover, if you are late, they will approach you and ask you what happened, they will offer help.  This usually indicates poor planning and should work better with your time. <br><br>  - <b>But in cases when there was a difficult release or a difficult week / month, what are you doing to reboot?</b>  <b>Maybe you go to a bar for a drink?</b> <br>  ‚ÄúDrinking is definitely not my way to relax.‚Äù  I'm just going home.  I have a family, baby.  And I realized that I love to cook and it relaxes well.  By the way, wherever I go, I try local cuisine.  But I have not tried Russian yet. <br><br>  - <b>Be sure to show you the local cuisine in Moscow!</b>  <b>You said about cooking.</b>  <b>If we talk about a hobby - what if not programming?</b> <br>  - Personally, I loved to run and even ran a half marathon.  We have a lot of people in Spotify who like to play computer games.  If you do not just have fun, you can learn something new. <br><br><img src="https://habrastorage.org/webt/59/e7/ea/59e7eaeeef1f7643923315.jpeg"><br><br>  - <b>By the way about learning: do you have a higher education?</b>  <b>Do I need it to get into Spotify?</b> <br>  - I finished Computer Science, but now I understand that it is not necessary at all.  Now is the time that you can learn programming yourself without spending time and money on it at the university.  Although I do not deny that the university taught me to communicate with people and in general gave me a lot.  In Spotify, no one requires education.  At the interviews we are interested in the experience of solving problems, the course of thoughts of a person.  It is rather something like ‚Äúwhat will happen if you click here‚Äù, ‚Äúand how to make sure that there is no such error‚Äù.  Well, some basic things, like algorithms, patterns, sorting.  It is important that a person understands that this is how it works and where it can be useful.  I believe that all large companies in general should refuse to require such a formality as higher education for programmers.  But I do not think so in all areas.  In some, in my opinion, you should have proof of your skills.  This is necessary for lawyers and doctors, for example.  But in programming - definitely not. <br><br>  - <b>We already have Apple Music, Google Play Music, Yandex.Music.</b>  <b>When is Spotify?</b> <br>  - I know that we are not yet in Russia, but I cannot say when we will appear in this market.  Spotify is always open to new territories, but first we conduct large-scale studies of the audience, music, and how UI and UX should change.  And Russia is a big country.  I think there is just a lot of work here and it will not be easy to enter. <br><br><img src="https://habrastorage.org/webt/59/e7/ea/59e7eaeeef1f7643923315.jpeg"><br><br>  - <b>The latest technology on the web that surprised?</b> <br>  - Maybe not surprised, but I like it when the React approach is implemented more compactly.  For example, Preact.  It is very great when such ideas are implemented in a smaller size, which is very important for the client.  In addition, I am a big fan of Next.js and in general everything that comes out from under the wing of ZEIT.  It seems to me that very talented guys work there, I follow everything. <br><br>  ‚Äú <b>Who else are you following?‚Äù</b>  <b>Who do you think is moving the web forward now?</b> <br>  - The first thing that comes to mind is Facebook.  Apparently, because of the entire React infrastructure.  Flux, Redux do a lot for Open Source.  Microsoft is experimenting a lot with new APIs, inspiring people to experiment.  Edge supports a lot of things.  Of course, TypeScript.  A lot of cool stuff from Google - I like how they move the PWA theme.  Maybe some other companies, but in general, I think that now the web has a large community and everything is in order with development. <br><br><img src="https://habrastorage.org/webt/59/e7/ea/59e7eaeeef1f7643923315.jpeg"><br><br>  - <b>Give the final question - about your report.</b>  <b>Why ‚ÄúProgressive Image Rendering‚Äù?</b>  <b>Were there any problems with Spotify with this?</b>  <b>How did you dig up the topic?</b> <br><br>  - Yes, when we dealt with the performance of the application, we began to think about how to reduce the size of assets, how to deliver the application faster.  But at the same time, I was involved in a side project: I experimented with WebP, SVG, and looked at how other companies are doing it.  More precisely, in order to see this, I had to do reverse engineering.  Reverse engineering is another cool web thing when everyone has open source code on a client and you can go through it and understand the course of events.  So I did.  And I realized that in general there are many inventive ways to solve the problems of heavy images, but nowhere was this well written.  Now there are new image formats, new ways of lazy loading, the Intersection Observer API and many others.  In addition, some techniques I found in the book Eddie Osmani <a href="https://images.guide/">Essential Image Optimization</a> .  In general, I hope that the report will be informative for everyone. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hvztfegIBQk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><hr><br>  PS As you already understood, Jose will come <a href="https://2017.frontfest.ru/speaker/12591/%3Futm_source%3Dhabr%26utm_medium%3Dnews%26utm_campaign%3Dperez">to speak</a> at the FrontFest front-end conference.  <a href="https://2017.frontfest.ru/%3Futm_source%3Dhabr%26utm_medium%3Dnews%26utm_campaign%3Dperez">Come</a> listen to him personally, it will be cool! <br><br>  And we have a rich program, we have already written about it on Habr√©.  For example, about the section <a href="https://habrahabr.ru/company/2gis/blog/339212/">MIX</a> , <a href="https://habrahabr.ru/company/2gis/blog/339708/">VYORSTKA</a> and <a href="https://habrahabr.ru/company/2gis/blog/340156/">JAVASCRIPT</a> . </div><p>Source: <a href="https://habr.com/ru/post/340440/">https://habr.com/ru/post/340440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340430/index.html">Friday format: 7 sure ways to ruin the work with ServiceNow at the start</a></li>
<li><a href="../340432/index.html">25 materials on ITSM, incident handling and business process development</a></li>
<li><a href="../340434/index.html">About the benefits of brevity</a></li>
<li><a href="../340436/index.html">Seminar "Clouds for Critical Systems", October 26, Moscow</a></li>
<li><a href="../340438/index.html">Why a smart antenna is the best solution for wireless networks with a high density of client devices</a></li>
<li><a href="../340442/index.html">Conducting Containers: How Kubernetes and Istio Work</a></li>
<li><a href="../340444/index.html">We are at Highload ++ this November: ask a question to Badoo engineers</a></li>
<li><a href="../340446/index.html">OpenShift.IO: all-in-one development platform and CI / CD</a></li>
<li><a href="../340448/index.html">Arduino brain: pulse position sensor</a></li>
<li><a href="../340454/index.html">Start of the competition MERC-2017 from the Neurodata Lab</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>