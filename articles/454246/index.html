<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Varieties of coordinates used in Unity3d GUI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why species and how many of them? 
 Often I come across the fact that people simply do not understand how to move an object in the UI to some value, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Varieties of coordinates used in Unity3d GUI</h1><div class="post__text post__text-html js-mediator-article"><h3>  Why species and how many of them? </h3><br>  Often I come across the fact that people simply do not understand how to move an object in the UI to some value, and they are surprised that the result is often unpredictable.  Or suppose how to get the correct coordinates of the object in the UI.  If, through the debager, we derive the usual position of the object (position), then it will be very different from what we see in the inspector of the UI element, so what do we see there and how does it work?  As a result, 100,500 solutions are being sorted out from the forums, whichever is appropriate.  I want to give such processes meaningful movement. <br><br>  The essence of the trick is as follows - the usual Transform has a descendant of RectTransform which is responsible for the position and many things associated with the size, scale and so on - the UI element.  And thanks to him we can get the following coordinates. <br><br><ol><li>  position </li><li>  localPosition </li><li>  anchoredPosition (there is still anchoredPosition3D, but we will not consider it separately, but we will assume that this is a subspecies test.anchoredPosition </li></ol><br><img src="https://habrastorage.org/webt/ch/x3/qd/chx3qdjikxif9cwdrxw6q27290e.jpeg"><br><a name="habracut"></a><br><h3>  Normal position </h3><br>  The usual position does not refer to the coordinate system UI of the word in general.  These are some common coordinates of the object in the whole world of the unit, and in the world there is some representation of the position of the object that is not related to the interface. If you want to move the object by its width, this will not work, since the canvas has coordinates in pixels relative to the screen.  And in global coordinates these are not pixels.  Therefore, the object will shift in the world, let's say, by 200 units of measurement of the world, and not by 200 pixels, and just fly away to unknown distances.  But it can be reasonably used.  Later I will tell you how. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Anchor Position (anchoredPosition) </h3><br>  What we see in the inspector is it. <br><br><img src="https://habrastorage.org/webt/am/lb/e8/amlbe8_0mwzy7wq67gc4ls0qkbw.jpeg"><br><br>  In a unit, you can set anchor points, this is a certain point relative to which the UI element will be positioned, including with changes in the size / proportions of the parent object. <br><br><img src="https://habrastorage.org/webt/qe/yr/fs/qeyrfsm296lump4kxjgnl4fzyrk.jpeg"><br><br>  Here you can see that we changed the size of the parent object and the proportions, our object follows the center of the parent object, and its coordinates have not changed, although on the screen it is not in the same place as before. <br><br>  Anchor position - the coordinates of the object relative to the anchor.  Anchor in the upper left corner and see that the coordinates have changed. <br><br><img src="https://habrastorage.org/webt/u1/q-/ek/u1q-ek3ppgafvwz37iqjir5j8je.jpeg"><br><br>  If you want to move an object to its width, then you need to change the anchoredPosition or localPosition.  The local position for UI elements is also calculated in pixels, but differently.  Therefore, if you need to manipulate two UI elements relative to each other.  It is better to use a local position.  Why so? <br><br><h3>  Local Position (localPosition) </h3><br>  So, what is the local position: <br><br><img src="https://habrastorage.org/webt/tx/cg/gl/txcgglcs709omxirmuwhk5-gwp8.jpeg"><br><br>  This is the coordinate system when the center of the parent object is 0. The upper right corner is the positive width of the rect divided in half.  Left upper negative width value.  That is, if the width of the rect is 800 pixels, then in the middle x = 0, in the upper right 400, in the upper left -400.  Therefore, if you need to calculate the coordinates without anchors, it is better to use local positions.  Provided that they have a common ancestor / rek.  By the way, anchors can be used not only as a specific point on the parent object, but also as proportions relative to the parent object.  In the second case, anchoredPosition will return localPosition. <br><br>  What can I use the normal position for UI elements?  Let's say so, within the global coordinates, if one object is assigned the coordinates of the second, then they will be at one point, regardless of their anchors or local positions, sometimes it is convenient - when the elements are on different canvases / in different panels and local / anchor coordinate systems do not match. <br><br><h3>  Conclusion / Summary </h3><br><ol><li>  In the inspector, UI elements show anchoredPosition or proportions relative to the parent object.  AnchoredPosition is considered depending on the position of the anchor. </li><li>  localPosition allows you to get common coordinates relative to the parent, without reference to the anchors. </li><li>  position is the global position of the element in the scene space, not tied to the UI. </li></ol><br><br>  I hope someone will help :-) </div><p>Source: <a href="https://habr.com/ru/post/454246/">https://habr.com/ru/post/454246/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454232/index.html">OOP in graphical programming languages. Part 2 MOP and OOP</a></li>
<li><a href="../454236/index.html">Two stories about how ANKI can help you learn a foreign language and prepare for an interview.</a></li>
<li><a href="../454238/index.html">Marvin Minsky "The Emotion Machine" (habra translate, round two)</a></li>
<li><a href="../45424/index.html">New sales record in the gaming industry</a></li>
<li><a href="../454242/index.html">‚ÄúLook what a jet pack I have!‚Äù - ‚ÄúHa, look what a rocket I have!‚Äù (Notes from the rocket-making championship)</a></li>
<li><a href="../454248/index.html">Serfs in the era of artificial intelligence</a></li>
<li><a href="../45425/index.html">Christmas present</a></li>
<li><a href="../454252/index.html">Even the web resources of well-known organizations are not protected from children's mistakes.</a></li>
<li><a href="../454254/index.html">We write Reverse socks5 proxy on powershell. Part 3</a></li>
<li><a href="../454256/index.html">What is wrong with our IT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>