<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Intel¬Æ Galileo Gen 2. Features of the beginning of operation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As I wrote in a previous post, the Internet of Things laboratory at St. Petersburg GUT them. Prof. M.A. Bonch-Bruevich provided me with the Intel Gali...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Intel¬Æ Galileo Gen 2. Features of the beginning of operation</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/b74/e0e/f03/b74e0ef030d44820a1f4e82fce54b617.jpg"><br><br>  As I wrote in a previous post, <a href="http://iotlab.ru/">the Internet of Things laboratory at St. Petersburg GUT them.</a>  <a href="http://iotlab.ru/">Prof. M.A. Bonch-Bruevich</a> provided me with the Intel Galileo Gen 2 motherboard. I managed to integrate it into my project, and I want to tell you about the experience of working with this board, gained in the course of this integration. <br>  I will not touch on the programming of the Linux component of the board, but will only talk about the features of using its Arduino functionality. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The description of the board, where to download the documentation and software, is well described in <a href="http://habrahabr.ru/company/intel/blog/248279/">this</a> post.  Therefore, I will not repeat. <br>  So, the first inclusion.  The port is located, we fill in the standard Blink, everything is perfectly flooded and earned.  I tried a sketch with a conclusion to the comport, and then the first surprise awaited me.  No matter what I did, a long number was put into the comport and that's it ... The digging in the docks began.  As it turned out for Windows, you need to install the driver.  The author of the above post worked on a Mac, and probably there, no additional drivers are required.  The answer is found in <a href="http://flprog.ru/images/hostingFiles/247400472.pdf">this</a> document.  If there is no driver in the system, then such a device is installed. <br><br><img src="https://habrastorage.org/files/68f/912/ebd/68f912ebd64445a8a8ff755f30b4ecbb.PNG"><br><br>  The driver is located in the Arduino IDE folder along the path: <b><i>hardware / arduino / x86 / tools</i></b> <br>  After installing the driver, this port will appear <br><br><img src="https://habrastorage.org/files/e2b/898/34d/e2b89834df50419a82812c906812a920.png"><br><br>  It seems all is well.  In the com - port appeared the expected data.  But then another difficulty began.  When you turn off the power, or press a general reset, the slap in the controller disappeared.  Installing an SD card and connecting the battery resulted in nothing.  On the Internet, I did not find the same answer to this question.  The guys from the Internet of Things laboratory checked this situation on four more boards, the effect was repeated.  So this is not a defect of my copy.  As a last resort, I decided to repeat the installation of OC Yocto in this post.  And immediately waiting for me the next difficulty.  The downloaded flash drive image has the extension .direct.  I did not find anything about how to transfer it to a USB flash drive under Windows.  The author of the post works on a Mac, and wrote about the process on other OSs. <br><blockquote>  All the steps will be done on the Mac, for Windows and * nix-platforms, everything is the same (of course, with the appropriate "amendments" to the operating system) </blockquote><br>  Probably, for some it‚Äôs all simple, but I didn‚Äôt find a solution to this problem.  It was necessary for this operation to put a Mac axis in a virtual machine, and carry out all operations according to the post.  Well, okay - it worked out.  But I would very much like knowledgeable people to explain how to do it under Windows. <br>  But the difficulties did not end there.  After installing the flash drive with the operating system, the com-port disappeared into the board.  The system found an incorrectly installed device. <br><br><img src="https://habrastorage.org/files/596/244/18c/59624418cac14a57bd750e8f6a00d329.png"><br><br>  So, we are looking for firewood again.  Found ...  On the very flash drive we just made. <br><br><img src="https://habrastorage.org/files/10f/168/0b2/10f1680b2e7d44ad95f273d9c3aba29f.PNG"><br><br>  Install.  And here it is happiness.  Both the comport and the flash drive appeared as a plug-in drive, and most importantly, the sketches began to persist.  And they are clearly stored on this very flash drive.  Checked on standard Blink.  When you remove the flash drive and restart the LED stops blinking.  When you install the flash drive back - it starts flashing again without restarting the sketch. <br>  Well, now about the results of testing libraries.  In Galileo, pin operation as an output is provided by a special port expansion chip with an I2C interface from Cypress.  Accordingly, libraries using direct access to registers and applying exact time calculations do not work.  OneWare library did not work.  Therefore, it is impossible to use such convenient temperature sensors as DS18B20.  For the same reason, the DHT sensor library did not start. <br>  Library does not work to decode the signal from the IR control receiver.  It is based on interruptions with which Galileo has the same bad thing.  The library of writing to the SD card also refused to work.  The reason is unknown. <br>  The sketch for controlling the stepper motor compiled without errors, but the engine refused to work.  Servomotors operate only on outputs with PWM. <br>  The BMP-085 sensor library did not start.  Compile error.  I have not figured out the cause yet. <br>  What works. <br>  The SPI and I2C bus works.  Works library displays HD44780 and EEPROM.  Works ultrasonic rangefinder.  Well, the Ethernet library works fine. <br>  All the features described, and of course all the basic logic is implemented in the FLProg program for this board.  In the current version of the program, one common Arduino IDE version 1.5.3 is installed for programming both the Arduino boards and the Galileo board.  Unfortunately, the environment for Galileo is combined only with this version.  But for Arduino, the environment with version 1.6 has already been released, which is much more interesting and with a more optimized compiler.  Therefore, in the next FLProg release, there will be three versions of the program.  One for Arduino, the second for Galileo, and the third for both, but of a larger size, since there will be two versions of IDE in the distribution. <br>  I hope this post will help someone easier to start your acquaintance with this interesting board. </div><p>Source: <a href="https://habr.com/ru/post/252407/">https://habr.com/ru/post/252407/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252395/index.html">Half a pixel?</a></li>
<li><a href="../252397/index.html">A large collection of links about galleries and everything connected with them.</a></li>
<li><a href="../252399/index.html">Do it with love - an application that teaches you to love</a></li>
<li><a href="../252403/index.html">Budget SAN Storage on LSI Syncro Part 1</a></li>
<li><a href="../252405/index.html">How to rewrite a big project or refactoring that is painless for business</a></li>
<li><a href="../252409/index.html">PaintCode 2, a brief digression and notes</a></li>
<li><a href="../252411/index.html">Putting Wi-Fi robot</a></li>
<li><a href="../252415/index.html">LVS + OpenVZ</a></li>
<li><a href="../252417/index.html">Announcement of the book by Brian Kernigan "The Go Programming Language"</a></li>
<li><a href="../252419/index.html">C #: how not to "shoot yourself in the leg"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>