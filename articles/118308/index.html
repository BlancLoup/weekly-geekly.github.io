<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The choice of technology for developing browser games</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Task Description 
 In connection with the current situation with the support (or rather lack thereof) of Flash technology on iOS, I was asked to check...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The choice of technology for developing browser games</h1><div class="post__text post__text-html js-mediator-article"><h4>  Task Description </h4><br>  In connection with the current situation with the support (or rather lack thereof) of Flash technology on iOS, I was asked to check the possibility of implementing games with rich graphics on ‚Äúclean‚Äù browser technologies.  Honestly, Flash is far from my favorite platform (since it is a closed Adobe product, not open source), which only added to my motivation to show that good results are possible without it ... <br><a name="habracut"></a><br>  However, despite personal preferences, Flash provides not only a single execution environment (runtime), which is equally implemented on many platforms, but also a rich development environment that cannot be completely replaced today. <br><br>  As a result, the review of technologies looked like a search for compromises between the ability to support the final product on a mass of platforms and the convenience of software development. <br><br>  The list of browser platforms we need to support: <br><ul><li>  Explorer 9+ </li><li>  Firefox 3.6+ </li><li>  Opera </li><li>  Chrome </li><li>  Safari </li><li>  iOS MobileSafari </li><li>  Android Browser on WebKit </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Also, you need to create a convenient process of interaction with the designer. <br><br>  Today, in my opinion, <a href="http://www.sencha.com/products/animator/">there are no adequate alternatives to</a> the Flash design environment, which allows you to script animation, contain an object model (‚Äú <a href="http://en.wikipedia.org/wiki/Scene_graph">Scene Graph</a> ‚Äù), as well as integrate freely with Adobe Illustrator and other design tools. <br><br>  As soon as we leave the trodden path of a commercial vendor, the responsibility for determining the methods for transferring graphics from the designer to the frontend programmer falls on us. <br><br><h4>  The search begins </h4><br>  <a href="http://coin.to/svgtest/scene.html">SVG was</a> initially <a href="http://coin.to/svgtest/scene.html">tested</a> as a high-level graphical language.  It has the following advantages: <br><br><ul><li>  Relatively high level of abstraction - has its own object model, which allows you to handle events. </li><li>  Supports complex animation elements, such as <a href="http://www.w3.org/TR/SVG11/animate.html">movement of an object along a path</a> , morphing forms, declarative animation </li><li>  all the advantages of vector format </li><li>  the object model of the format itself somewhat replaces the need for a scene object model ‚Äî Scene Graph. </li><li>  SVG is a common format, easily exported and read by various graphical applications. </li></ul><br>  With such a list of benefits, one would think that the technology is just perfect.  However, when testing the following disadvantages appeared: <br><br><ul><li>  The level of implementation and support of a complex standard is very different between browsers and platforms. </li><li>  On some platforms, the implementation is very slow. </li><li>  The SVG object model (DOM) is overly complex and difficult to work with scenes in which you need to dynamically add and remove objects. </li></ul><br>  As a result, it was decided to try the approach at a lower level, using the <a href="http://dev.w3.org/html5/canvas-api/canvas-2d-api.html">Canvas</a> with the <a href="http://processingjs.org/">Processing.JS</a> abstraction library to facilitate the work.  Benefits: <br><br><ul><li>  Canvas is a simple standard, and as a result is universally supported on modern browsers. </li><li>  Processing provides an additional level of abstraction, which makes it possible, for example, to import SVG. </li><li>  Canvas gives pixel control of the canvas. </li></ul><br>  <a href="http://coin.to/processingtest/scene.html">The implementation of the first test scene</a> in Canvas / Processing showed that many of the basic functions of SVG are missing, and they had to be added by hand.  For example: <br><br><ul><li>  trajectory movement </li><li>  object response to mouse actions </li><li>  morphing forms, being difficult to implement algorithmically, was translated to the equivalent of sprite animation, and step-by-step animation itself was implemented in <a href="http://inkscape.org/">Inkscape</a> editor. </li></ul><br><br>  You can certainly close your eyes to all these shortcomings, if as a result we can get a real cross-platform solution for writing browser games.  To test this, it was decided to build a new demo, <a href="http://coin.to/casinotest/table.html">closer to the real game</a> .  Unfortunately, it immediately showed that the MobileSafari (iOS) Canvas simply does not pull and runs with a very low framerate. <br><br>  Attempts were made to optimize the demo (the frame-by-frame background redrawing was canceled, the number of objects on the screen was reduced, the texture of objects was canceled).  But the result still remained unsatisfactory. <br><br><h4>  Decision </h4><br>  By this time, having unsuccessfully spent a significant amount of time on achieving a very clear and definite goal, I was forced to think about a different approach.  After all, the weak link in this chain is iOS, as well as all slow mobile platforms that have limited browser choices. <br><br>  On these devices, fast graphics is feasible only when using native graphics acceleration.  And in MobileSafari, this is just the HTML object model (DOM). <br><br>  It was this thought that led to the fact that the <a href="http://coin.to/casinotest/table2.html%3Fnosound%3D1">Black Jack demo of the table was redone</a> , this time using HTML and CSS3.  The sound and some transparency effects were also added ... and it worked!  Immediately after the transition, the framerate on MobileSafari improved. <br>  After <a href="http://www.facebook.com/note.php%3Fnote_id%3D491691753919">additional reading and specialized optimizations</a> , the speed was raised even higher.  It turns out that in iOS 4.x MobileSafari is only partially accelerated, and you must carefully choose the method of accessing the DOM in order to get the most out of this browser. <br><br>  Personally, I was surprised at the possibility of implementing a browser game with rich graphics using only CSS transformations and HTML.  Being embraced by the search for ‚Äúsilver bullet‚Äù in the form of advanced technology, I almost missed the ‚Äúbread and salt‚Äù of web programming until I tried and set aside all other possibilities. <br>  I don‚Äôt want to say that Canvas and SVG do not have their place.  But with the aforementioned goals, SVG is no longer suitable for static complex diagrams, and Canvas does not pull on Apple devices of this generation.  Only one thing remains: CSS3. <br><br>  The choice of this technology, dictated by a common denominator of platforms, forced us to debug our process of processing and assembling graphics from the designer‚Äôs sources into a solid format.  But more about that another time .. <br><br><h4>  Source Code References </h4><br>  All code examples in this text can be downloaded and viewed from the writer's GitHub account: <br><br><ul><li>  <a href="https://github.com/guyromm/svg-test">initial SVG demo</a> </li><li>  <a href="https://github.com/guyromm/processing-test">initial demo of Canvas / Processing</a> </li><li>  <a href="https://github.com/guyromm/processing-casino-test">BlackJack demo for the table, Processing (table.html) and CSS3 (table2.html)</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/118308/">https://habr.com/ru/post/118308/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118302/index.html">New ThinkPad: behind the scenes</a></li>
<li><a href="../118303/index.html">Repatriates' diary: how we raised a $ 1 million investment in six weeks (and gave less than 15%)</a></li>
<li><a href="../118304/index.html">Open discussion</a></li>
<li><a href="../118305/index.html">Lead Bitcoin Developer Invited to CIA for Presentation</a></li>
<li><a href="../118306/index.html">Translation of the speech of David Heinemeyer Hansson on Startup School'2008</a></li>
<li><a href="../118309/index.html">3D landscape in a browser using WebGL</a></li>
<li><a href="../118310/index.html">Node.js - a guide to convincing the authorities</a></li>
<li><a href="../118311/index.html">The concept of the visual image of the XXII Olympic and XI Paralympic Games 2014 is presented.</a></li>
<li><a href="../118313/index.html">Good Rules for Permission Design on File Servers</a></li>
<li><a href="../118314/index.html">Android 3.0 - this is not an accident!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>