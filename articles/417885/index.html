<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About M and about V and about C</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The news from a number of pleasantly unexpected awakened all sorts of memories, sweet and not so good. And from it I got on this article , and at once...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About M and about V and about C</h1><div class="post__text post__text-html js-mediator-article"><p>  <a href="https://habr.com/post/417629/">The news</a> from a number of pleasantly unexpected awakened all sorts of memories, sweet and not so good.  And from it I got on <a href="https://habr.com/post/111554/">this article</a> , and at once I didn‚Äôt want to be nostalgic, and from the height of the past seven years I wanted to get into the weight of such an ellipsis after it. </p><a name="habracut"></a><br><p>  Dephi was a completely brilliant decision.  Well, you know, like the Beatles, like a graphical user interface with a mouse, like an internal combustion engine.  The ingenious solution that came into our lives so widely that they no longer believe that it was once there, and drawing windows, checkboxes and buttons in Windows could be a real pain. </p><br><p>  Brilliant, perfect, part of Delphi was VCL - the same set of checkboxes and buttons for Windows windows, which suddenly became so easy and simple to drag on each other, and create beautiful and unusual Windows applications. </p><br><p>  And like any decent UI, this one worked, of course, according to the event model.  OnClick in the button object described everything that the button does, OnChange when typing in the text field, everything is just like adults.  But further - further, unfortunately, there was still nothing. </p><br><p>  None of what we know now, I mean.  MVC, for example - Delphi, consider, consisted of one V, then everything remained at the mercy of the developer.  Directly from OnClick to pull the query into the database?  Yes please.  In OnChange, open any file and try to write to it, and if the file was not in place it quietly crashes with something like Memory Access Violation - at every step (however, this has nothing to do with Delphi as a platform). </p><br><p>  And it must be said that for many years this suited everyone perfectly, but it still suits some of them to this day.  The benefits of a slim and beautiful UI component library are immediately visible; the benefits of all controllers and models become obvious not in the first year of development, and not in the first hundred kilobytes of source code. </p><br><p>  And even if it has become - it is easy to forget about it, a mind trap takes place here, like those optical and sound illusions about which they argue furiously on the Internet.  So let me try to throw a small bridge from Delphi to the modern understanding of the UI and we can figure out what happens. </p><br><p>  So, the key idea: we separate the presentation from the data, the widget is separate, all work with the information in it is separate.  How separate?  For example, the button still has an inscription, and sometimes an icon.  In the text field, this inscription can be driven in by the user, and sometimes the text field has another inscription explaining to the user what it is driving.  The general rule: the widget deals with the display, the minimum (SIC!) Of the logic that can be present in it should be associated only with the display and nothing else.  For example, if a button is not ready to stretch along with an inscription on it - the label should either be cut off (for example, show ellipsis and the full version in ToolTip), or give an error when trying to set a value greater than it fits (really the idea is so-so, such a mistake will most likely come out already during the execution of the program, at the most inappropriate moment). </p><br><p>  The text entry field can throw carriage translations out of the text if it is single-line, but it is not necessary to require, for example, that only numbers are entered into it - this is not his job.  Just like in the handler for pressing a button, no checks are needed, no redraw calls, the button handler must pull the external code, which is already responsible for the logic of the UI and the entire application. </p><br><p>  And if you live in the beautiful new reactive world, looking from top to bottom at all this OOP-event fuss, the principle still remains the same: pressing the button changes the state, adding the appropriate Action to it, and then some code, no code associated with elements of the UI, look at this Action, and draw the appropriate conclusions, and change the state so that there is something to display on the UI back. </p><br><p>  That is, regardless of the environment, platform and paradigm, the visual elements themselves carry a minimum of functionality and zero logic in themselves.  They receive information in the most general form, so if you have a TextBox, it is also Input, it is the text field, it takes exactly the string, and returns the string.  And the task of turning a line into a number, whose name or something even more cunning is no longer for the widget. </p><br><p>  Well, then the Controller, or Presenter, processes the result and gives the result.  Call him as you are accustomed to, but do not pop into him any visual elements. </p><br><p>  What is the profit?  I list in order from the most obvious to the most, in my opinion, essential. </p><br><p>  Firstly, reusability.  Quite a lot of time is spent on it to understand that the field for entering a postal address, for entering a surname, and for entering a sum is, in fact, the same field.  The same widget, with the same set of features, comes down to jerking a text input event or updating a state.  And only the logic of working with text inside it may differ.  An example of ‚Äúhow not to‚Äù from life: make a field for entering a sum of money (up to two decimal places), and then fiddle with it for a long time, reworking it so that it can sometimes be entered in the same field and quantity (up to 4 decimal places) .  Break all the places in the process where the amount is entered in the application, and rush to repair them in the middle of the night.  This is despite the fact that according to the logic of their work, they had differences in the third decimal place.  You can write poems about how fields for entering postal addresses become fields for entering geographic addresses with the help of inheritance and the word of God. </p><br><p>  Secondly: testability.  You can test and UI.  Almost any UI.  But it will be expensive, in terms of time and resources spent on developing tests and executing tests, and they are unlikely to be launched at every reassembly, but when tests crash on the release, it will be force majeure.  But UI-components are the most risky in terms of breakdowns, they break, as a rule, most often, most obviously, and most painfully.  But the code from the widgets themselves torn off, really cover unit tests (unit tests).  And unit tests are much cheaper - and it is easier to write, and you can run literally after any changes, and always be sure that nothing is broken. </p><br><p>  And third, the most important, in my opinion.  Drawing a piece of UI together with logic in one piece is extremely difficult to overcome laziness and ponder deeper into how it works.  To work out scenarios other than ideally positive, when the user entered exactly what was expected of him, did exactly what was needed, and got exactly what he wanted.  That, sacramentally programmer "all works for me". </p><br><p>  Separation of the visual part and the logical part makes one wonder, first of all, how the visual part works: what comes into it, what comes out of it, what happens if it is not exactly what was expected or entered.  And writing the logic separately from the control forces writing it according to cases, that is, according to possible usage scenarios in a particular place of a particular application, including the processing of errors that occur precisely here, and helping the user in the difficulties experienced by him.  Well, yes, not always, or rather not in everything, the solution in general is better than the solution sharpened for a particular case. </p><br><p> Summarizing.  You can write on Delph, or an application for iOS, torment the long-suffering web some-there-0, or rivet some microcontroller game on Python, if your code has outgrown the formula ‚Äúone form, one request, one result‚Äù - I tell you I strongly recommend to decisively separate the widgets from any logic of their work, and then there is a chance that the flies in your cutlets will be smaller.  And despite the initial perfect non-obviousness of the advantages of such a decision, the further you work with it, the more these advantages will appear to you. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/417885/">https://habr.com/ru/post/417885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../417875/index.html">Getting out of the rabbit burrow SPA with modern Rails</a></li>
<li><a href="../417877/index.html">How Tinder (slightly) hides your location</a></li>
<li><a href="../417879/index.html">How to take Microsoft exams for free [on the example of a recent competition]</a></li>
<li><a href="../417881/index.html">Digest of fresh materials from the world of the frontend for the last two weeks ‚Ññ323 (July 8 - 22, 2018)</a></li>
<li><a href="../417883/index.html">Creating a dialogue to select a ringtone</a></li>
<li><a href="../417887/index.html">Special purpose audio gadget: Stirlitz voice recorder, its real prototype and bold historical modeling</a></li>
<li><a href="../417889/index.html">Collection of demographic stories in one map</a></li>
<li><a href="../417891/index.html">Digital events in Moscow from July 23 to July 29</a></li>
<li><a href="../417893/index.html">Artificial brain recipe: nanotubes, polyoxometallate and a pinch of electrons</a></li>
<li><a href="../417895/index.html">Repair of 3D printers and machines: how the Top 3D Shop service works in Moscow and St. Petersburg</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>