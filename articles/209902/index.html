<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hello, I am error 217 and I will not tell you anything</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probably many have met with such a "partisan" at the start or end of the application: 



 A very informative message, immediately understand the caus...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hello, I am error 217 and I will not tell you anything</h1><div class="post__text post__text-html js-mediator-article">  Probably many have met with such a "partisan" at the start or end of the application: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/688/cf7/782/688cf77827a760180f1cde2f8eba4d0f.png"><br><br>  A very informative message, immediately understand the cause of the error, the place and the way to solve it. <br>  However, if no joke, what is it all about? <br>  Of course, this is an exception, but neither the type of the exception nor its description is available to us - just ‚ÄúRuntime error 217‚Äù and the address, and then ourselves ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To be honest, before, I somehow did not even think about this exception, because  in my projects, it is a rare phenomenon, until one day the whole series of users started to reproduce exactly the 217th error. <br>  However, even then I did not go the right way and just added an additional level of logging to the project, according to the results of which I quickly found the cause and corrected it. <br>  But, in fact, I just spent my time ... <br><br>  And I would spend it in the future, if the other day Viktor Fedorenkov did not contact me and did not tell about his thoughts on the error number 217. <br><a name="habracut"></a><br><h4>  Theory and problem analysis </h4><br>  Without theory, we are nowhere, otherwise we can face the limits of our own knowledge. <br>  Therefore, we begin, of course, with the theoretical part. <br><br>  For a start, I refreshed my ideas about errors in principle, after re-reading part of the article <a href="http://www.delphikingdom.ru/asp/viewitem.asp%3Fcatalogid%3D1392">‚ÄúError Handling - Chapter 1.2.2‚Äù</a> by Alexander Alekseev, from which I learned that error 217 would be displayed if the SysUtils module was not initialized, moreover, Alexander has this illustrated quite clearly: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/db2/878/253/db287825382295a729501175d18c5b80.png"><br>  <a href="">View full size image ...</a> <br><br>  Based on this picture, you can make a rough conclusion: while SysUtils is alive - all exceptions should be displayed in the normal form, which is a separate mention: <br><br><blockquote>  For example, if you see a message about a runtime error, then, judging by the above scheme, it is unlikely that an error occurs in event handlers on the form.  But it is much more likely that it occurs, say, in some kind of finalization section (which is performed after the finalization section of the SysUtils module) or in the assigned ExitProcessProc procedure.  But, of course, the cause of the error can sit anywhere - including in the event handlers mentioned. </blockquote><br>  Well, let's check, write the code in which SysUtils should be finalized after Unit1, in which we artificially generate an exception: <br><br><pre><code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">unit</span></span> Unit1; <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uses</span></span> Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms, Dialogs; <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-title"><span class="hljs-title">TForm1</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TForm) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-comment"><span class="hljs-comment">{ Private declarations }</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-comment"><span class="hljs-comment">{ Public declarations }</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Form1: TForm1; <span class="hljs-keyword"><span class="hljs-keyword">implementation</span></span> <span class="hljs-meta"><span class="hljs-meta">{$R *.dfm}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">initialization</span></span> <span class="hljs-keyword"><span class="hljs-keyword">finalization</span></span> <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception.Create(<span class="hljs-string"><span class="hljs-string">'finalization exception'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre> <br>  Build, run, close the form and ... Runtime error 217. <br><br>  The statement that 217 is displayed after finalizing SysUtils is completely true, but let's look at the finalization code itself: <br><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FinalizeUnits</span></span></span><span class="hljs-function">;</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> ... Count := InitContext.InitCount; Table := InitContext.InitTable^.UnitInfo; ... <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> Dec(Count); InitContext.InitCount := Count; P := Table^[Count].FInit; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Assigned(P) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> ... TProc(P)(); ... <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> FinalizeUnits; <span class="hljs-comment"><span class="hljs-comment">{ try to finalize the others }</span></span> <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre><br>  See what happens: the FinalizeUnits procedure calls all finalizing procedures whose addresses are located in the InitContext.InitTable ^ .UnitInfo array in the order in which they were initialized, i.e.  the first ones are located at the beginning of the array (and finalization comes from the end). <br>  Somewhere at the very bottom is SysUtils + System, and we, with our Unit1 module, are somewhere at the top. <br>  But suddenly an exception occurs in our module and "women", the order of catharsis is broken. <br><br>  After the "broads", FinalizeUnits is called again, skipping our module that caused the exception, as a result of which SysUtils and various class destructors found along the way are destroyed, System crashes to the heap with the memory manager (sitting at the top of the list), after which there is a control shot to the forehead - RAISE, this is where we sailed - hello 217. <br><br>  But what if an exception occurs in the initialization section of any module? <br><br>  Yes, all the same: <br><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InitUnits</span></span></span><span class="hljs-function">;</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> FinalizeUnits; <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre><br>  We conclude: any <b>unhandled exception</b> in the initialization or finalization sections will result in the loss of the exception description and result in error 217. <br><br>  On this with theory, I think, we will finish. <br>  Having an understanding of the reason for the occurrence of Runtime error 217, let's try to get our hands on a more familiar version of the message about the exception. <br><br><h4>  Disable module finalization </h4><br>  At the very beginning of the discussion, Viktor proposed a rather effective way of circumventing this error. <br><br>  His analysis was as follows: the general initialization of the exception handler is performed in the InitExceptions procedure of the SysUtils module, and the finalization is done with the DoneExceptions call. <br><br>  If in any way you disable the call to DoneExceptions plus prevent the memory manager from collapsing by blocking the call to the System finalization block, we will receive an exception message in an acceptable form. <br><br>  As a solution, the following code was proposed, which needs to be connected to the project file by the very first module (will work starting from D2005 and higher): <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">unit</span></span> suShowExceptionsInInitializeSections; <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uses</span></span> SysUtils; <span class="hljs-keyword"><span class="hljs-keyword">implementation</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uses</span></span> Windows; <span class="hljs-comment"><span class="hljs-comment">//  PackageInfo   // System     InitTable,       function GetInitTable: PackageInfo; var Lib: PLibModule; TypeInfo: PPackageTypeInfo; begin Result := nil; Lib := LibModuleList; if not Assigned(Lib) then Exit; //    (BPL ),  , //      / BPL,    //  if Assigned(Lib^.Next) then Exit; Typeinfo := Lib^.TypeInfo; if Assigned(TypeInfo) then begin //  TPackageTypeInfo //     PackageInfo //  . // IDA ,   TypeInfo     //PackageInfo  //      PackageInfo     //TypeInfo    Result := PackageInfo(PByte(TypeInfo) - (LongWord(@PackageInfoTable(nil^).TypeInfo))); end; end; //      procedure DisableAllFinalization; var Loop: Integer; OldProtect: LongWord; InitTable: PackageInfo; Table: PUnitEntryTable; begin InitTable := GetInitTable; if Assigned(InitTable) then begin Table := InitTable^.UnitInfo; if Assigned(Table) then //        /   if VirtualProtect(Table, SizeOf(PackageUnitEntry) * InitTable^.UnitCount, PAGE_READWRITE, OldProtect) then for Loop := 0 to InitTable^.UnitCount - 1 do Table^[Loop].FInit := nil; end; end; initialization finalization //    ,  SysUtils  ,  //   .       , //       (  System), //      . //       //1.  Exception    -  //2.    // //    ,      ,   //      . //   ,     DLL ,    //   if IsLibrary then Exit; //          //      RTTI.   ,    //  ,       //.         DPR , //   . //       , //          . //      DisableAllFinalization; end.</span></span></code> </pre><br>  To be honest - I applauded standing. <br>  Here it is: <b>hack in the dirtiest form as it is</b> - such things can be done only by those who truly understand what this means :) <br>  And this module brought the work of our IT department to about three hours - it was a tough discussion :) <br><br>  But, by the way, let's analyze the logic of this code: <br>  Its essence is simple, you need to go to the data on the loaded modules (including BPL) in the form in which the Delphi application understands them.  This was done by accessing the start of the unidirectional list of TLibModule structures.  The first element of the list will be a structure that describes the current image, from where we just need to get data on the UnitInfo structure, which contains data on both the number of initialized modules and the addresses of their initialization and finalization procedures as a PackageUnitEntry entry. <br><br>  Blocking module finalization occurs by setting the FInit parameter to <b>nil</b> for each PackageUnitEntry entry. <br><br>  When numbing this parameter, FinalizeUnits will not be able to make a call to the handler, and as a result, the same <b>raise</b> I wrote about above will be able to correctly display the raised exception. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/51e/720/642/51e7206427b9fefefc9bc4f0986ce39b.png"><br><br>  But then everything is more complicated. <br><br><h4>  Trying to brush a good thought. </h4><br>  The idea is sound and the reasons are clear, but somehow, the resources are still not released, FastMem will stop working normally (it collects leaks just when finalizing), and compatibility is not enough, for example, as I said above, under Delphi 7 This code will not work at all. <br><br>  After the first hour of discussions in the IT department, we even managed to come to the following conclusion: ‚ÄúYes, to hell with them with SysUtils and System - they don‚Äôt carry anything critical.‚Äù <br>  And then, they began to argue again - well, this approach did not suit us, everything seemed to be fine, but not neatly somehow. <br><br>  There were even considered options for direct splicing of blocks of finalization and to the Exception destructor pile - but the additional hack did not suit anyone at all on an existing hack. <br><br>  And here, sitting in the debugger and running the code on the 70th time, the thought came. <br>  So this ... and how in general the message on an exceeding is displayed? <br><br>  And it is displayed by transferring control to ExceptHandler, in the code of which there is nothing secret. <br>  And what are we doing removing the finalization of the modules? <br>  That's right, we force him to volunteer. <br><br>  Let's try to emulate the ExceptHandler call. <br>  We write a test unit and connect it to the project the very first: <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">unit</span></span> Test; <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uses</span></span> SysUtils; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> E: Exception; <span class="hljs-keyword"><span class="hljs-keyword">implementation</span></span> <span class="hljs-keyword"><span class="hljs-keyword">initialization</span></span> <span class="hljs-keyword"><span class="hljs-keyword">finalization</span></span> E := AcquireExceptionObject; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> E &lt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> ShowException(E, ExceptAddr); E.Free; Halt(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre><br>  Launch and ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47d/42d/cb6/47d42dcb64ea62c155d19ff3a072666f.png"><br>  Happened. <br><br>  Having integrated into the finalization cycle, we displayed the exception that occurred and continued the finalization further by calling Halt (1). <br><br>  As a result, the problem is solved, correctly and documented, and compatible with Delphi 7, but ... <br><br><h4>  And if not to develop an idea? </h4><br>  There is such a thing as ‚Äúinduced errors‚Äù, i.e.  errors occurred due to the fact that before them, too, an error occurred. <br><br>  Well, for example, function A, which should return an instance of a certain class and function B, which uses this instance in its work.  For example, in function A, an unhandled exception occurred (for example, there was no access to the file) and it did not create a class, and then somewhere much later, using the application code, procedure B calls the instance and Access Violation occurs as a result. <br><br>  The same can happen in the initialization / finalization procedures, and the exception that occurred in the finalization will hide from us the very reason. <br><br>  For the demonstration, we will write the following code, in which, when the application is initialized, a certain logger will be created, into which the operation stages of the application will be written, and in the finalization there will be a record of completion. <br>  To generate an exception, let the logger be created using a nonexistent path: <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">uses</span></span> Classes; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Logger: TFileStream; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> StartLog: AnsiString = <span class="hljs-string"><span class="hljs-string">'  '</span></span> + sLineBreak; EndLog: AnsiString = <span class="hljs-string"><span class="hljs-string">'  '</span></span> + sLineBreak; <span class="hljs-keyword"><span class="hljs-keyword">implementation</span></span> <span class="hljs-keyword"><span class="hljs-keyword">initialization</span></span> Logger := TFileStream.Create(<span class="hljs-string"><span class="hljs-string">'A:\MyLog,txt'</span></span>, fmCreate); Logger.WriteBuffer(StartLog[<span class="hljs-number"><span class="hljs-number">1</span></span>], Length(StartLog)); <span class="hljs-keyword"><span class="hljs-keyword">finalization</span></span> Logger.WriteBuffer(EndLog[<span class="hljs-number"><span class="hljs-number">1</span></span>], Length(EndLog)); Logger.Free; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre><br>  Few people have ‚ÄúA‚Äù on the system, so the result of this code will be either ‚ÄúRuntime error 216‚Äù (specifically 216, not 217), or if we include the code from the previous chapter: <br><br><blockquote>  Exception EAccessViolation in module Project2.exe at 001B1593. <br>  Access violation at address 005B1593 in module 'Project2.exe'.  Read of address 00000000. </blockquote><br>  But the reason is that lies in the very first exception, which is not displayed by us and with a swoop to understand the cause of the error will not work. <br><br>  In order to correct this injustice, you can brush the code a bit and bring it to this state: <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">unit</span></span> ShowExceptSample; <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uses</span></span> SysUtils, Classes; <span class="hljs-keyword"><span class="hljs-keyword">implementation</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> PRaiseFrame = ^TRaiseFrame; TRaiseFrame = <span class="hljs-keyword"><span class="hljs-keyword">packed</span></span> <span class="hljs-keyword"><span class="hljs-keyword">record</span></span> NextRaise: PRaiseFrame; ExceptAddr: Pointer; ExceptObject: TObject; ExceptionRecord: PExceptionRecord; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-comment"><span class="hljs-comment">//      CurrentRaiseList: Pointer = nil; //       function GetNextException: Pointer; begin if CurrentRaiseList = nil then CurrentRaiseList := RaiseList; if CurrentRaiseList &lt;&gt; nil then begin Result := PRaiseFrame(CurrentRaiseList)^.ExceptObject; PRaiseFrame(CurrentRaiseList)^.ExceptObject := nil; CurrentRaiseList := PRaiseFrame(CurrentRaiseList)^.NextRaise; end else Result := nil; end; var ExceptionStack: TList; E: Exception; initialization finalization // ,    ? E := GetNextException; if E &lt;&gt; nil then begin ExceptionStack := TList.Create; try //  ,     while E &lt;&gt; nil do begin ExceptionStack.Add(E); E := GetNextException; end; //      ,     while ExceptionStack.Count &gt; 0 do begin E := ExceptionStack[ExceptionStack.Count - 1]; ExceptionStack.Delete(ExceptionStack.Count - 1); ShowException(E, ExceptAddr); E.Free; end; finally ExceptionStack.Free; end; //     Halt(1); end; end.</span></span></code> </pre><br>  Here the idea is simple, the GetNextException function essentially repeats the call to AcquireExceptionObject, but after its call does not lose the reference to the next exception in the queue, it stores the address of the next frame in an external variable. <br>  After that, all exceptions are entered in the list (the most recent will be the first in the list) and are displayed to the programmer in accordance with the sequence, with the result that we will immediately understand what happened here first: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e11/2f5/60b/e112f560b18bd1ee065bdb652f5b6ec9.png"><br><br>  And only after him did all sorts of AVs go there. <br><br>  Now for the rest of the error codes. <br>  Why did I start with ‚ÄúRuntime error 217‚Äù? <br>  Well, because it is the most easily reproducible, and so technically, using the above module, we will get into our hands a completely normal description of all possible Runtime errors, of which we have how many: <br><br><pre> <code class="delphi hljs"> reMap: <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> [TRunTimeError] <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Byte = ( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reNone }</span></span> <span class="hljs-number"><span class="hljs-number">203</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reOutOfMemory }</span></span> <span class="hljs-number"><span class="hljs-number">204</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reInvalidPtr }</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reDivByZero }</span></span> <span class="hljs-number"><span class="hljs-number">201</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reRangeError }</span></span> <span class="hljs-comment"><span class="hljs-comment">{ 210 Abstract error }</span></span> <span class="hljs-number"><span class="hljs-number">215</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reIntOverflow }</span></span> <span class="hljs-number"><span class="hljs-number">207</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reInvalidOp }</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reZeroDivide }</span></span> <span class="hljs-number"><span class="hljs-number">205</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reOverflow }</span></span> <span class="hljs-number"><span class="hljs-number">206</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reUnderflow }</span></span> <span class="hljs-number"><span class="hljs-number">219</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reInvalidCast }</span></span> <span class="hljs-number"><span class="hljs-number">216</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reAccessViolation }</span></span> <span class="hljs-number"><span class="hljs-number">218</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ rePrivInstruction }</span></span> <span class="hljs-number"><span class="hljs-number">217</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reControlBreak }</span></span> <span class="hljs-number"><span class="hljs-number">202</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reStackOverflow }</span></span> <span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reVarTypeCast }</span></span> <span class="hljs-number"><span class="hljs-number">221</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reVarInvalidOp }</span></span> <span class="hljs-number"><span class="hljs-number">222</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reVarDispatch }</span></span> <span class="hljs-number"><span class="hljs-number">223</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reVarArrayCreate }</span></span> <span class="hljs-number"><span class="hljs-number">224</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reVarNotArray }</span></span> <span class="hljs-number"><span class="hljs-number">225</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reVarArrayBounds }</span></span> <span class="hljs-comment"><span class="hljs-comment">{ 226 Thread init failure }</span></span> <span class="hljs-number"><span class="hljs-number">227</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reAssertionFailed }</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reExternalException not used here; in SysUtils }</span></span> <span class="hljs-number"><span class="hljs-number">228</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reIntfCastError }</span></span> <span class="hljs-number"><span class="hljs-number">229</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reSafeCallError }</span></span> <span class="hljs-number"><span class="hljs-number">235</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ reMonitorNotLocked }</span></span> <span class="hljs-number"><span class="hljs-number">236</span></span> <span class="hljs-comment"><span class="hljs-comment">{ reNoMonitorSupport }</span></span> <span class="hljs-meta"><span class="hljs-meta">{$IFDEF PC_MAPPED_EXCEPTIONS}</span></span> <span class="hljs-comment"><span class="hljs-comment">{ 230 Reserved by the compiler for unhandled exceptions }</span></span> <span class="hljs-meta"><span class="hljs-meta">{$ENDIF PC_MAPPED_EXCEPTIONS}</span></span> <span class="hljs-meta"><span class="hljs-meta">{$IF defined(PC_MAPPED_EXCEPTIONS) or defined(STACK_BASED_EXCEPTIONS)}</span></span> <span class="hljs-comment"><span class="hljs-comment">{ 231 Too many nested exceptions }</span></span> <span class="hljs-meta"><span class="hljs-meta">{$ENDIF}</span></span> <span class="hljs-meta"><span class="hljs-meta">{$IF Defined(LINUX) or Defined(MACOS)}</span></span> <span class="hljs-comment"><span class="hljs-comment">{ 232 Fatal signal raised on a non-Delphi thread }</span></span> , <span class="hljs-number"><span class="hljs-number">233</span></span> <span class="hljs-comment"><span class="hljs-comment">{ reQuit }</span></span> <span class="hljs-meta"><span class="hljs-meta">{$ENDIF LINUX or MACOS}</span></span> <span class="hljs-meta"><span class="hljs-meta">{$IFDEF POSIX}</span></span> , <span class="hljs-number"><span class="hljs-number">234</span></span> <span class="hljs-comment"><span class="hljs-comment">{ reCodesetConversion }</span></span> <span class="hljs-meta"><span class="hljs-meta">{$ENDIF POSIX}</span></span> , <span class="hljs-number"><span class="hljs-number">237</span></span>, <span class="hljs-comment"><span class="hljs-comment">{ rePlatformNotImplemented }</span></span> <span class="hljs-number"><span class="hljs-number">238</span></span> <span class="hljs-comment"><span class="hljs-comment">{ reObjectDisposed }</span></span> );</code> </pre><br><h4>  Total </h4><br>  With such a careless code, we can get what we don‚Äôt want to say about the error code 217. <br><br>  However, I do not think that this approach will be unfamiliar to experienced programmers. <br>  Most likely this is hello bike, because most likely this problem has already been solved by someone earlier, but I just did not know about this solution. <br><br>  And if not, then I will be the second. <br><br>  A separate respect to the co-author and inspirer of this article is Viktor Fedorenkov. <br><br>  Good luck. </div><p>Source: <a href="https://habr.com/ru/post/209902/">https://habr.com/ru/post/209902/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209880/index.html">Unbearable programming complexity</a></li>
<li><a href="../209882/index.html">Yandex cloud platform: read more about Elliptics</a></li>
<li><a href="../209886/index.html">Official launch of email alerts</a></li>
<li><a href="../209894/index.html">Which HDD is more reliable? Backblaze statistics on 27134 drives for 4 years of work</a></li>
<li><a href="../209898/index.html">With regards to points</a></li>
<li><a href="../209906/index.html">DMMR: radio control via USB- "whistle"</a></li>
<li><a href="../209910/index.html">In the wake of the bug and a little about the events of MotionEvent in Android</a></li>
<li><a href="../209912/index.html">Cloud API for mobile applications do it yourself. Part 1</a></li>
<li><a href="../209914/index.html">Interesting moments in C # (foreach)</a></li>
<li><a href="../209916/index.html">Smart House. Concrete implementation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>