<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ratings of car brands: an example of analyzing variables with multiple response</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In questionnaire marketing research quite often there are questions in which respondents can choose several suitable options from the list of possible...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ratings of car brands: an example of analyzing variables with multiple response</h1><div class="post__text post__text-html js-mediator-article"><p> <a href=""><img src="https://habrastorage.org/webt/h2/ao/sb/h2aosb01wroheacfhj8ljd76gxs.png"></a> </p><br><p>  In questionnaire marketing research quite often there are questions in which respondents can choose several suitable options from the list of possible answers (check all that apply questions).  Answers of respondents to such questions are set by variables with multiple response (multiple-response variables).  The appropriate statistical methods for working with multiple-response variables are not widely known.  In this article, we consider the analysis of such variables on the example of data on car ratings. </p><a name="habracut"></a><br><h3 id="dannye">  Data </h3><br><p>  This is a typical example of a questionnaire that allows multiple answers. <br> <a href=""><img src="https://habrastorage.org/webt/_r/s6/it/_rs6itoe57z8ih3vtqnwivdiii4.png"></a> <br>  Customer Satisfaction Survey Template.  Source: <a href="https://www.surveymonkey.com/mp/customer-satisfaction-survey-template/">Survey Monkey</a> </p><br><p>  We will use data on car ratings in this article (Van Gysel 2011).  They are freely distributable and are included in the <a href="https://cran.r-project.org/package%3Dplfm">plfm</a> R-package.  These data should be perceived only as an object for the demonstration of mathematical methods and visualization tools.  One should not assume that the results were obtained on the basis of a full-fledged representative survey of any group. </p><br><p>  The header image provides an overview of the data, all click-through images open in full size.  We see that 78 respondents participated in the survey.  The survey questionnaire found out opinions on 14 car brands.  For each of them, the respondents noted those characteristics (from the proposed list with 15 names) to which the car corresponds.  The picture above shows that 40 respondents believe that the Fiat 500 is an attractive car. </p><br><h3 id="sravnenie-reytingov">  Rating Comparison </h3><br><p>  To compare the ratings on the characteristics between the two cars, the well-known McNemar test, or rather its McNemar mid-p test, is used.  This test analyzes paired observations.  The mid-p correction allows working with small samples and is less conservative than the exact binomial test.  Details can be found, for example, in this article (Fagerland, Lydersen, and Laake 2013). </p><br><p> <a href=""><img src="https://habrastorage.org/webt/qp/-_/tz/qp-_tzqohvjhtiwcuzgh3wskrpe.png"></a> </p><br><p>  The diagram in the center displays only statistically significant, for a given confidence level, differences in ratings between a pair of compared cars.  Blue color corresponds to a higher rating value for the first car, red - for the second. </p><br><p>  We can change the confidence level value and, if desired, remove the grouping border on the diagram. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/7s/6-/qr/7s6-qrilyh8on0ksi6jmhefmqrq.png"></a> </p><br><p>  You can also compare the values ‚Äã‚Äãof the ratings of the car with the average selection ratings for all 14 cars.  In this case, use the binomial mid-p test. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/md/9b/6x/md9b6xpbmu_phh6_qnjvcb51mg0.png"></a> </p><br><p> Both the McNemar mid-p test and the binomial mid-p test are available in the <a href="https://cran.r-project.org/package%3Dexact2x2">exact2x2</a> R-package, but can be easily implemented with the basic <code>R</code> tools. </p><br><h3 id="zavisimost-mezhdu-dvumya-multiple-response-peremennymi">  Dependence between two multiple-response variables </h3><br><p>  The task is as follows: we have chosen a set of characteristics and an arbitrary pair of car models.  Is it possible to assert that the distribution of respondent answers for these cars is independent?  In other words, we have no reason to believe that there is some statistical relationship in the rating of these two brands in a given set of characteristics. </p><br><p>  For example, consider the following 8x8 table: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/to/pv/ne/topvnesirnqxvl8twxamn099p7w.png"></a> </p><br><p>  In it, the value of the cell, say Opel Corsa |  Economical - Volkswagen Golf |  Relible, equal to 41, means that exactly 41 respondents indicated that the Opel Corsa is an economical car and the Volkswagen Golf is reliable. </p><br><p>  If both the Opel Corsa and Volkswagen Golf were single-response variables, this table would set the joint distribution of these variables.  Then we could apply a chi-square test to this table to check the independence of this pair of variables.  But we have a completely different case, and according to this table, for example, it is even unclear how many respondents believe that the Opel Corsa is an economical car. </p><br><p>  For each cell of this marginal table sits a 2x2 table, which determines the distribution in a separate pair of selected characteristics.  These 8 tables for the diagonal cells of the marginal table were used in McNemar tests for this pair of cars. </p><br><p>  But this set of all 64 tables is not enough to specify the joint distribution of two multiple-response variables with 8 categories each.  In general, this will require a table size <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>2</mn><mn>8</mn></msup><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><msup><mn>2</mn><mn>8</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.87ex" height="2.419ex" viewBox="0 -935.7 4680.3 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-38" x="707" y="557"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-74" x="1204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-69" x="1565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-6D" x="1911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-65" x="2789" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-73" x="3256" y="0"></use><g transform="translate(3725,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-38" x="707" y="557"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>8</mn></msup><mtext>&nbsp;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><msup><mn>2</mn><mn>8</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-1"> 2 ^ 8 \ times 2 ^ 8 </script>  .  So, the sum of 64 chi-squares of statistics found for 2x2 tables, due to the dependence of the observations (not variables) in the input data, is not a value <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>h</mi><msub><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>64</mn></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.605ex" height="2.419ex" viewBox="0 -780.1 2413.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-68" x="683" y="0"></use><g transform="translate(1260,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-69" x="0" y="0"></use><g transform="translate(345,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-36"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-34" x="500" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>c</mi><mi>h</mi><msub><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mn>64</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ chi_ {64} </script>  distribution.  Information from the table <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>2</mn><mn>8</mn></msup><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><msup><mn>2</mn><mn>8</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.87ex" height="2.419ex" viewBox="0 -935.7 4680.3 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-38" x="707" y="557"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-74" x="1204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-69" x="1565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-6D" x="1911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-65" x="2789" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-73" x="3256" y="0"></use><g transform="translate(3725,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-38" x="707" y="557"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>8</mn></msup><mtext>&nbsp;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><msup><mn>2</mn><mn>8</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-3"> 2 ^ 8 \ times 2 ^ 8 </script>  allow you to find a second-order Rao-Scott amendment and apply it to the sum of these 64 chi-square values.  Details and formulation of the criterion of independence can be found in the article (Bilder and Loughin 2004). </p><br><p>  For each pair of vehicles with a given set of characteristics and at the chosen level of significance, we check the hypothesis of independence of these variables.  If the independence hypothesis is rejected, we connect this pair of cars with an edge with a weight equal to the p-value of the obtained Rao-Scott statistics.  We obtain a weighted graph, to which we optionally apply an algorithm for finding the minimum spanning tree (for each connected component of the graph).  That is, we leave the minimum possible number of the strongest bonds. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/es/tm/ot/estmot04cd0dbt7uylwfmi07oa0.png"></a> <br>  When you click on the picture, it will open in full size. <br>  Almost half of the cars in the resulting graph is the strongest dependence observed with the Volkswagen Golf. </p><br><p>  If a vertex of the graph is selected, then in addition a treemap of the chi-squared 2x2 statistics table with pairs of characteristics for adjacent vertices is displayed. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/ry/ql/jp/ryqljpinbtpgkbbo-k2molbfubk.png"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/gk/yi/ln/gkyiln3lr0dpinwqotm0sseogua.png"></a> </p><br><p>  The cell size is proportional to the chi-square statistic, the color is determined by the logarithm of the odds ratio: the blue spectrum is positive values, the white color is zero, the red spectrum is negative values.  The color scale is not symmetrical, that is, the left border in absolute value does not necessarily coincide with the right edge of the scale. </p><br><p>  Below are examples of a minimum spanning tree with a different set of characteristics and a graph with a full set of links. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/c2/kw/do/c2kwdotexjdht9glm6sfo6rdsa0.png"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/xx/5a/dp/xx5adpj24efnpz3nq7galscf5ik.png"></a> </p><br><h3 id="vychisleniya-i-zapusk-prilozheniya">  Calculate and run the application </h3><br><p>  The approach proposed in (Bilder and Loughin 2004) is implemented in the R-package <a href="https://cran.r-project.org/package%3DMRCV">MRCV</a> .  However, for the above 8x8 marginal table, the independence check function for these variables from this library returns an error: <em>cannot allocate vector of size 32.0 Gb</em> .  The reason is that in the process of calculating order matrices arise <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>16</mn></mrow></msup><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>16</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.514ex" height="2.419ex" viewBox="0 -935.7 5388.1 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-36" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-74" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-69" x="1919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-6D" x="2265" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-65" x="3143" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMATHI-73" x="3610" y="0"></use><g transform="translate(4079,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/345296/&amp;xid=17259,1500004,15700002,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhj8B4j_xIgcvgOw-sQyA2332FvGDA#MJMAIN-36" x="500" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>16</mn></mrow></msup><mtext>&nbsp;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>16</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-4"> 2 ^ {16} \ times 2 ^ {16} </script>  . </p><br><p>  An approach was proposed in which the implementation of this test in <code>R</code> does not require such a large amount of memory and is much more productive.  For comparison, the calculation of the complete graph with 14 vertices and 7 characteristics in the <code>MRCV</code> package will take more than 30 minutes.  In an improved implementation, this calculation is performed for about 1 second.  <a href="https://github.com/e-chankov/MItest_improvements/blob/master/Improved%2520implementation%2520of%2520the%2520marginal%2520independence%2520test.pdf">In this pdf</a> you can find the details of this calculation method.  Source code and performance tests are available <a href="https://github.com/e-chankov/MItest_improvements">on github</a> . </p><br><p>  You can start this shiny application yourself by running the R commands. </p><br><pre> <code class="hljs lisp">library(<span class="hljs-name"><span class="hljs-name">shiny</span></span>) runGitHub(<span class="hljs-string"><span class="hljs-string">"BrandsAnalysis"</span></span>, <span class="hljs-string"><span class="hljs-string">"e-chankov"</span></span>)</code> </pre> <br><p>  Make sure you have installed </p><br><div class="spoiler">  <b class="spoiler_title">necessary libraries</b> <div class="spoiler_text"><pre> <code class="hljs css">#### <span class="hljs-selector-tag"><span class="hljs-selector-tag">shiny</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libraries</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">shiny</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">shinythemes</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">shinydashboard</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">shinyBS</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.61</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">shinyWidgets</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span> #### <span class="hljs-selector-tag"><span class="hljs-selector-tag">libraries</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">for</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">visualization</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">wordcloud2</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">highcharter</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">googleVis</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">visNetwork</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">RColorBrewer</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1-2</span></span> #### <span class="hljs-selector-tag"><span class="hljs-selector-tag">data</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">munging</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libraries</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">data</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.table</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">checkmate</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Matrix</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.2-11</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">igraph</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">stringi</span></span>) # <span class="hljs-selector-tag"><span class="hljs-selector-tag">version</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span></code> </pre> </div></div><br><p>  Input data is read from a text file.  The application can be used to analyze data from surveys about any brands with its own set of characteristics.  Input requirements can be found in the application <a href="https://github.com/e-chankov/brandsAnalysis">description</a> . </p><br><h3 id="literatura">  Literature </h3><br><p>  Bilder, C., and T. Loughin.  2004. ‚ÄúTesting for Marginal Independence Between Two Categorical Variables with Multiple Responses.‚Äù Biometrics 60 (1): 241‚Äì48. <a href=""></a>  <a href="">http://dx.doi.org/10.1111/j.0006-341X.2004.00147.x</a> . </p><br><p>  Fagerland, Morten W., Stian Lydersen, and Petter Laake.  2013. ‚ÄúThe Mcnemar Test for Binary Matched Data Pairs: Mid-P and Asymptotic Are Better Than Exact Conditional.‚Äù BMC Medical Research Methodology 13 (1): 91. <a href="https://doi.org/10.1186/1471-2288-13-91"></a>  <a href="https://doi.org/10.1186/1471-2288-13-91">https://doi.org/10.1186/1471-2288-13-91</a> . </p><br><p>  Van Gysel, E. 2011. ‚ÄúPerceptuele Analyzers Automotive Met Met Probabilistische Feature Modellen.‚Äù <br>  Master's thesis, Hogeschool-Universiteit Brussel. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/345296/">https://habr.com/ru/post/345296/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345282/index.html">Devops in a bloody enterprise</a></li>
<li><a href="../345284/index.html">Selection of resources for a job seeker programmer</a></li>
<li><a href="../345286/index.html">Severe Siberian and Kazakh microelectronics 2017: Verilog, ASIC and FPGA in Tomsk, Novosibirsk and Astana</a></li>
<li><a href="../345290/index.html">HDD performance doubled: Multi Actuator technology</a></li>
<li><a href="../345294/index.html">From tanks to nuclear power plants: looking back at Heisenbug 2017 Moscow</a></li>
<li><a href="../345298/index.html">Automatic update of LetsEncrypt certificates in MDaemon mail server: step-by-step instructions</a></li>
<li><a href="../345300/index.html">Free Software Developer Self-Financing Guide</a></li>
<li><a href="../345302/index.html">Distributed Team Anatomy - Requirements Preparation Process</a></li>
<li><a href="../345304/index.html">‚ÄúVery handles‚Äù: make Tableau / Qlik from R and ‚Äúblue tape‚Äù</a></li>
<li><a href="../345306/index.html">Working with the in-memory database using Intel Optane</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>