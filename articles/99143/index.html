<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>To the issue of cross-browser SVG usage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For vector graphics on the Internet, the SVG format is the most. First, it supports scaling of any degree. Secondly, it is possible to refer to any co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>To the issue of cross-browser SVG usage</h1><div class="post__text post__text-html js-mediator-article">  For vector graphics on the Internet, the <abbr title="Scalable Vector Graphics">SVG</abbr> format is the most.  First, it supports scaling of any degree.  Secondly, it is possible to refer to any constituent elements of such a picture - to address them, to stylize and script.  Thirdly, with the exception of very small files, this format wins in compactness before any raster representations, especially if gzip compression is used.  Fourth, this is the <abbr title="World Wide Web Consortium">W3C standard</abbr> . <br><br>  But how to put the <abbr title="Scalable Vector Graphics">SVG-</abbr> picture in the <abbr title="HyperText Markup Language">HTML-</abbr> document? <br><br><a name="habracut"></a><h1>  How to embed SVG in HTML </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It is known that there are three ways: <br><br><ul><li>  directly into the code (but - alas! oh - <abbr title="Internet Explorer">IE</abbr> this method does not accept, and other browsers allow only in the <abbr title="Extensible Hypertext Markup Language">XHTML</abbr> document, which is not always possible) </li><li> in the <code>iframe</code> floating frame (I didn‚Äôt even try it, considering the frames to be an outdated evil); </li><li>  via the <code>object</code> tag (we‚Äôll do this trick). </li></ul><br><br>  The first surprise gives us ... guess which browser?  Well, of course, this <abbr title="Internet Explorer">IE</abbr> doesn‚Äôt allow the <abbr title="Scalable Vector Graphics">SVG</abbr> image embedded by the <code>object</code> tag to be scripted and fills its transparent background with white!  Fortunately, it provides its proprietary <code>embed</code> tag for this purpose.  Through conditional comments and style management, you can easily and validly ensure that normal browsers will display <abbr title="Scalable Vector Graphics">SVG</abbr> via an <code>object</code> element, and <abbr title="Internet Explorer">IE</abbr> through an <code>embed</code> .  But will it? <br><br>  The second surprise: will not be until we install the plugin - for example, <a href="http://www.adobe.com/svg/viewer/install/">Adobe <abbr title="Scalable Vector Graphics">SVG</abbr> Viewer</a> .  True, <a href="http://www.adobe.com/">Adobe</a> , it seems, has stopped supporting it since January 1, 2009, but what has been done so far should suffice, and, in the end, there is also RENESIS Player 1.0 for Internet Explorer and <a href="http://www.savarese.com/software/svgplugin/">Ssrc <abbr title="Scalable Vector Graphics">SVG</abbr> Plugin</a> .  In addition, no matter how hard <a href="http://microsoft.com/">Microsoft</a> slashes <a href="http://microsoft.com/">over its <abbr title="Vector Markup Language">VML</abbr> , with which the <abbr title="World Wide Web Consortium">W3C</abbr> threw it in 1999, introducing native support for the <abbr title="Scalable Vector Graphics">SVG</abbr> is being</a> <a href="http://habrahabr.ru/blogs/svg/71542/">ruined</a> by authorities such as <a href="http://google.com/">Google</a> and the <a href="http://wikimediafoundation.org/">Wikimedia Foundation</a> .  The encouraging <a href="http://www.opennet.ru/opennews/art.shtml%3Fnum%3D24922">news</a> that ‚Äú <i>Microsoft has submitted an application to join the working group of the development of the SVG format in the W3C organization</i> ‚Äù on <a href="http://habrahabr.ru/">Habr√©</a> has already been <a href="http://habrahabr.ru/blogs/ie/80082/">discussed</a> .  So there is every reason for optimism. <br><br>  Further.  In the descriptions of the <code>embed</code> tag in many places on the Internet, you can read that it has such a wonderful <code>pluginspage</code> attribute that indicates the address that supposedly " <i>will be sent to the user if his browser does not support <abbr title="Scalable Vector Graphics">SVG</abbr> graphics</i> ." <br><br>  <strong>Do not believe!</strong>  This is the third surprise: in reality, <abbr title="Internet Explorer">IE</abbr> ignores this attribute. <br><br>  And in order to make it work, there is a very little known (judging by the total lack of references in thematic materials on the Internet) a <a href="http://www.adobetutorialz.com/articles/1494/1/About-the-SVG-Auto-Installer">clever way</a> using scripts in JScript and <abbr title="Visual Basic Scripting Edition">VBScript</abbr> .  In principle, nothing terrible, but you need to know about it. <br><br><h1>  Adobe Upgrade Solution </h1><br><br>  The solution is, however, not quite good.  Firstly, it is not valid, and secondly, it is designed for some antediluvian browsers that no one uses, but, thirdly, it does not work with modern browsers (strictly speaking, it does not work at all in the form what is given).  However, the basic idea of ‚Äã‚Äãthe solution is correct, so we will try to make it workable and up-to-date. <br><br>  To begin with, there is a problem with this line: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JavaScript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- checkAndGetSVGViewer(); // --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  The function in it is not executed, unless we transfer its call to a new line.  Only in <abbr title="Extensible Hypertext Markup Language">XHTML</abbr> screening will be performed even more difficult, therefore, we make a function call to an external script: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JavaScript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewSVJ.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Go ahead.  The current code believes that Firefox, Chrome and Safari need a plugin to display <abbr title="Scalable Vector Graphics">SVG</abbr> , and Opera is completely hopeless in this respect.  However, Opera has native support for <abbr title="Scalable Vector Graphics">SVG</abbr> from version 8.0 (April 19, 2005), Firefox from version 1.5 (November 30, 2005), Safari from version 3.0 (June 11, 2007), and Chrome from birth ( September 2, 2008).  In fact, all the tricks are needed only for the Internet Browser, that is, Internet Explorer, whose support is expected only in version 9. <br><br>  Then all three connected scripts can be hidden from other browsers in a conditional comment (well, as for the language, we stop pretending that this is JavaScript): <br><br><pre> <code class="hljs javascript">&lt;!--[<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> IE]&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"JScript"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"svgcheck.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script language=<span class="hljs-string"><span class="hljs-string">"VBScript"</span></span> src=<span class="hljs-string"><span class="hljs-string">"svgcheck.vbs"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script language=<span class="hljs-string"><span class="hljs-string">"JScript"</span></span> src=<span class="hljs-string"><span class="hljs-string">"viewSVJ.js"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;![endif]--&gt;</code> </pre> <br><br>  Where the <abbr title="Scalable Vector Graphics">SVG</abbr> image is directly connected, we can conclude the recommended code in the same comment, and then write something like this: <br><br><pre> <code class="hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!--[if !IE]&gt;--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/svg+xml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hello.svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"600"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--&lt;![endif]--&gt;</span></span></code> </pre> <br><br>  In sum, a rather cumbersome construction is obtained, and, moreover, a confusing presentation with behavior.  In fact, you can simply write: <br><br><pre> <code class="hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!--[if IE]&gt; &lt;embed src="hello.svg" height="100" width="100" type="image/svg-xml" pluginspage="http://www.adobe.com/svg/viewer/install/"&gt; &lt;![endif]--&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--[if !IE]&gt;--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/svg+xml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hello.svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--&lt;![endif]--&gt;</span></span></code> </pre> <br><br>  And in the <code>viewSVJ.js</code> plugin script, if the <abbr title="Scalable Vector Graphics">SVG</abbr> plugin is still not installed, we will go through the elements of the <code>embed</code> and replace them with warnings with links: <br><br><pre> <code class="hljs pgsql">checkAndGetSVGViewer(); <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.attachEvent( "onload", <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(){  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.svgInstalled)// SVG-    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;  var embeds=document.getElementsByTagName("embed");  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(var embedNumber=<span class="hljs-number"><span class="hljs-number">0</span></span>, embedTypeAttr; embedNumber&lt;embeds.length; embednumber++){   embedtypeattr=embeds[embedNumber].attributes["type"];   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(embedtypeattr="image/svg-xml" <span class="hljs-comment"><span class="hljs-comment">/*MSIE 5*/</span></span> || embedtypeattr.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>="image/svg-xml")    embeds[embednumber].outerhtml="&lt;p&gt;To view this page you need an SVG viewer. &lt;a href=\""+getSVGInstallPage()+"\"&gt;Click here&lt;/a&gt; for more information.&lt;/p&gt;";  } } );</code> </pre> <br><br>  But the <abbr title="HyperText Markup Language">HTML</abbr> code still looks overly bloated.  After all, a conditional comment with an <code>embed</code> element should be written for each <abbr title="Scalable Vector Graphics">SVG</abbr> picture, and links to several scripts (and also with a conditional comment) for each page containing them!  Of course, there is a standardization, but ... In addition, these scripts litter the global namespace, and I don‚Äôt want to go into sorting out their obsolete code. <br><br>  Tame the scripts first.  We will hook <code>fixSVG.js</code> page one <code>fixSVG.js</code> script, where for <abbr title="Internet Explorer">IE</abbr> we will write our branch, in which we will load into a dynamically created floating frame (yes, I snorted at their address, but this is the same solution for the browser, which has not been better yet!) scripts from "Edoubi" (Adobe);  use them to check for the presence of an installed <abbr title="Scalable Vector Graphics">SVG</abbr> plugin;  if it is not installed, replace the images with the corresponding notifications with a link;  and, finally, delete this frame (for the sake of purity of the page).  Implementation details see below. <br><br>  Finally, you can get rid of the heavy construction in place of each image by donating <abbr title="Internet Explorer">IE</abbr> to the browser with the <abbr title="Scalable Vector Graphics">SVG</abbr> plug-in installed but JScript disabled.  I tend to resolutely sacrifice.  Everyone knows how much this browser requires crutches to comply with standards, so if a person disables scripts in him, he tacitly agrees to see the Internet "conditionally." <br><br>  You can write simply: <br><br><pre> <code class="hljs pgsql">&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="image/svg+xml" data="hello.svg"&gt;&lt;/<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;</code> </pre> <br><br>  However, if someone described the above option of roads, as a memory, it is possible and so: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/svg+xml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hello.svg"</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.adobe.com/svg/viewer/install/"</span></span></span><span class="hljs-tag">&gt;</span></span>SVG viewer<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Then for <abbr title="Internet Explorer">IE,</abbr> we have to replace the <code>object</code> element with an <code>embed</code> element if the <abbr title="Scalable Vector Graphics">SVG</abbr> plugin is installed, and with a notification with a link if it is not already installed. <br><br>  In the header of the page, as already indicated, we write: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/ecmascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fixSVG.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  The <code>fixSVG.js</code> file looks like this (using an already scripted conditional comment): <br><br><pre> <code class="hljs lua">/*@cc_on <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(@_jscript_version&lt;<span class="hljs-number"><span class="hljs-number">9</span></span>)  window.attachEvent(   <span class="hljs-string"><span class="hljs-string">"onload"</span></span>,   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{    var iframe=document.createElement(<span class="hljs-string"><span class="hljs-string">"iframe"</span></span>);    iframe.src=<span class="hljs-string"><span class="hljs-string">"js/fixSVG_IE_5-8.html"</span></span>;    document.body.appendChild(iframe);   }  ); @*/</code> </pre> <br><br>  The contents of <code>fixSVG_IE_5-8.html</code> , loaded into a dynamically created floating frame: <br><br><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1999/xhtml"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=UTF-8"</span></span></span><span class="hljs-tag">/&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Fix SVG for IE 5-8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/jscript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"svgcheck.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/vbscript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"svgcheck.vbs"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/jscript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkSVGViewer.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  The <code>svgcheck.js</code> and <code>svgcheck.vbs</code> are adware, intact.  And <code>fixSVG_IE_5-8.js</code> is ours: <br><br><pre> <code class="hljs coffeescript">checkAndGetSVGViewer();<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  SVG- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.svgInstalled){ var objects=<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.parent.<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByTagName(<span class="hljs-string"><span class="hljs-string">"object"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(var objectNumber=objects.length, objectNode, objectTypeAttr, embedNode, codebase, attrNumber, attrNode; objectNumber--;){  objectNode=objects[objectNumber];  objectTypeAttr=objectNode.attributes[<span class="hljs-string"><span class="hljs-string">"type"</span></span>];  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(objectTypeAttr==<span class="hljs-string"><span class="hljs-string">"image/svg+xml"</span></span> || objectTypeAttr.value==<span class="hljs-string"><span class="hljs-string">"image/svg+xml"</span></span>){   embedNode=<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.parent.<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"embed"</span></span>);   embedNode.setAttribute(<span class="hljs-string"><span class="hljs-string">"type"</span></span>, <span class="hljs-string"><span class="hljs-string">"image/svg-xml"</span></span>);   embedNode.setAttribute(<span class="hljs-string"><span class="hljs-string">"pluginspage"</span></span>, <span class="hljs-string"><span class="hljs-string">"http://www.adobe.com/svg/viewer/install/"</span></span>);   embedNode.setAttribute(<span class="hljs-string"><span class="hljs-string">"wmode"</span></span>, <span class="hljs-string"><span class="hljs-string">"transparent"</span></span>);<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     codebase=objectNode.getAttribute(<span class="hljs-string"><span class="hljs-string">"codebase"</span></span>);   embedNode.setAttribute(<span class="hljs-string"><span class="hljs-string">"src"</span></span>, ((<span class="hljs-literal"><span class="hljs-literal">null</span></span>===codebase)?<span class="hljs-string"><span class="hljs-string">""</span></span>:codebase)+objectNode.getAttribute(<span class="hljs-string"><span class="hljs-string">"data"</span></span>));   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(attrNumber=objectNode.attributes.length; attrNumber--;){    attrNode=objectNode.attributes[attrNumber];    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>! IE   indexOf!     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"archive"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"classid"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"codebase"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"codetype"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"data"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"declare"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"standby"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"tabindex"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"type"</span></span> &amp;&amp;     attrNode.name!=<span class="hljs-string"><span class="hljs-string">"usemap"</span></span>    )     embedNode.setAttribute(attrNode.name, attrNode.value);   }   objectNode.parentNode.replaceChild(embedNode, objectNode);  } } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.svgViewerAvailable){<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  ( ,   IE <span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-number"><span class="hljs-number">-8</span></span>   !)  var message;  <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(navigator.browserLanguage.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>)){   case <span class="hljs-string"><span class="hljs-string">"ru"</span></span>:    message=<span class="hljs-string"><span class="hljs-string">"    "</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;   case <span class="hljs-string"><span class="hljs-string">"en"</span></span>:   default:    message=<span class="hljs-string"><span class="hljs-string">"To view this page you need an"</span></span>;  }  var objects=<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.parent.<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByTagName(<span class="hljs-string"><span class="hljs-string">"object"</span></span>);  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(var objectNumber=objects.length, objectTypeAttr; objectNumber--;){   objectTypeAttr=objects[objectNumber].attributes[<span class="hljs-string"><span class="hljs-string">"type"</span></span>];<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>objects[objectNumber].getAttribute(<span class="hljs-string"><span class="hljs-string">"type"</span></span>)===<span class="hljs-literal"><span class="hljs-literal">null</span></span>!   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(objectTypeAttr==<span class="hljs-string"><span class="hljs-string">"image/svg+xml"</span></span> || objectTypeAttr.value==<span class="hljs-string"><span class="hljs-string">"image/svg+xml"</span></span>)<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  IE5    objects[objectNumber].outerHTML=<span class="hljs-string"><span class="hljs-string">"&lt;p&gt;"</span></span>+message+<span class="hljs-string"><span class="hljs-string">" &lt;a href=\""</span></span>+getSVGInstallPage()+<span class="hljs-string"><span class="hljs-string">"\"&gt;SVG viewer&lt;/a&gt;.&lt;/p&gt;"</span></span>;  } } <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.frameElement.parentNode.removeChild(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.frameElement);<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  ,   </code> </pre> <br><br><h1>  SVG graphics in Webkit browsers </h1><br><br>  Google Chrome and Safari, however, reveal two problems.  For a start, they do not provide proportional scaling of the <abbr title="Scalable Vector Graphics">SVG</abbr> picture in general.  The 4th version for this required that the <code>svg</code> element be given the <code>width</code> and <code>height</code> attributes, and the 5th, on the contrary, that they were not set!  But at the same time scaling is not quite satisfactory. <br><br>  The second problem is more serious: if the SVG-pictures inserted through the <code>object</code> SVG-images have a transparent background, it is filled with white (this is a <a href="https://bugs.webkit.org/show_bug.cgi%3Fid%3D17744">bug</a> ! And it is very old, more than two years old, and in 5 versions of these browsers it is not fixed), as in <abbr title="Internet Explorer">IE</abbr> (but there we can simply add an <code>embed</code> element to the <code>wmode</code> attribute with the value <code>transparent</code> ). <br><br>  If you use not <code>object</code> , but <code>img</code> , then everything is fine, but so far Firefox does not understand this way of inserting the <abbr title="Scalable Vector Graphics">SVG</abbr> image.  Therefore, we write a script for Webkit-browsers in the above-mentioned <code>fixSVG.js</code> file (accepting the white background in the abnormal situation of disabled Javascript), replacing the loaded <code>object</code> document with the SVG-image on <code>img</code> : <br><br><pre> <code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-regexp"><span class="hljs-regexp">/AppleWebKit/</span></span>.test(navigator.userAgent)) <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(  <span class="hljs-string"><span class="hljs-string">"load"</span></span>,  function(){   var objects=<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByTagName(<span class="hljs-string"><span class="hljs-string">"object"</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(var objectNumber=objects.length, objectNode, codebase, imageNode, attrNumber, attrNode; objectNumber--;){    objectNode=objects[objectNumber];    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(objectNode.getAttribute(<span class="hljs-string"><span class="hljs-string">"type"</span></span>)===<span class="hljs-string"><span class="hljs-string">"image/svg+xml"</span></span>){     imageNode=<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"img"</span></span>);     codebase=objectNode.getAttribute(<span class="hljs-string"><span class="hljs-string">"codebase"</span></span>);     imageNode.setAttribute(<span class="hljs-string"><span class="hljs-string">"src"</span></span>, ((<span class="hljs-literal"><span class="hljs-literal">null</span></span>===codebase)?<span class="hljs-string"><span class="hljs-string">""</span></span>:codebase)+objectNode.getAttribute(<span class="hljs-string"><span class="hljs-string">"data"</span></span>));     imageNode.setAttribute(<span class="hljs-string"><span class="hljs-string">"alt"</span></span>, <span class="hljs-string"><span class="hljs-string">"SVG"</span></span>);<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  alt    HTML     <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(attrNumber=objectNode.attributes.length; attrNumber--;){      attrNode=objectNode.attributes[attrNumber];      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-number"><span class="hljs-number">-1</span></span>===[<span class="hljs-string"><span class="hljs-string">"declare"</span></span>, <span class="hljs-string"><span class="hljs-string">"classid"</span></span>, <span class="hljs-string"><span class="hljs-string">"codebase"</span></span>, <span class="hljs-string"><span class="hljs-string">"data"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>, <span class="hljs-string"><span class="hljs-string">"codetype"</span></span>, <span class="hljs-string"><span class="hljs-string">"archive"</span></span>, <span class="hljs-string"><span class="hljs-string">"standby"</span></span>, <span class="hljs-string"><span class="hljs-string">"tabindex"</span></span>].indexOf(attrNode.name))       imageNode.setAttribute(attrNode.name, attrNode.value);     }     objectNode.parentNode.replaceChild(imageNode, objectNode);    }   }  },  <span class="hljs-literal"><span class="hljs-literal">false</span></span> );</code> </pre> <br><br>  Alas, the scripts stop working on the images inserted in this way, so the solution is not universal! <br><br>  Like this.  Just remember when styling and scripting that in Firefox, Opera and, obviously, <abbr title="Internet Explorer">IE</abbr> 9 will be an <code>object</code> element, in Safari and Google Chrome (I hope sometime everywhere) - <code>img</code> , and in <abbr title="Internet Explorer">IE</abbr> 5‚Äî8 - <code>embed</code> . <br><br><h1>  Scripting embedded SVG images </h1><br><br>  In advanced browsers, accessing an <abbr title="Scalable Vector Graphics">SVG</abbr> document from an <abbr title="HyperText Markup Language">HTML</abbr> document is trivial.  On the <code>load</code> event, the <code>object</code> element is available to us, we can also hang a <code>load</code> event on it, and in its handler we will get the required one in a remarkable way.  With jQuery, this could be done like this: <br><br><pre> <code class="hljs javascript">$( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{  $(<span class="hljs-string"><span class="hljs-string">"object#SceletonObject"</span></span>).load(   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SVGDocument=$(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].getSVGDocument();    ‚Ä¶   }  ); } );</code> </pre> <br><br>  Problems arise in Internet Explorer.  After we load the page, we can get an <code>embed</code> element in it and it even has a <abbr title="Scalable Vector Graphics">SVG</abbr> document already available, but that's the point!  - it is completely empty.  I could not <code>embed</code> <code>load</code> event to the <code>embed</code> element;  it seems that it is not supported at all (however, those of the <a href="http://msdn.microsoft.com/en-us/library/ms535245%2528VS.85%2529.aspx">supposedly supported events</a> that I have tried do not work either). <br><br>  In addition, another creep has emerged: the contents of elements such as <code>object</code> and <code>embed</code> <a href="http://javascript.ru/tutorial/events/timing">loaded asynchronously</a> , in a separate thread.  This means, as I understand that, on the one hand, until the parsing of the main page is completed, the element is not yet available for attaching an event handler to it, and when it is finished, the element load event may already work and then the handler is already useless.  It seems that it was the last case that I occasionally observed in experiments without catching any regularity in the glitch. <br><br>  And by <a href="http://www.w3.org/TR/html401/struct/objects.html">the</a> way, by the way, the <code>load</code> event for the <code>object</code> element is <strong>missing</strong> - it is in <abbr title="HyperText Markup Language">HTML</abbr> only for the <code>body</code> element.  So the fact that it even works somewhere is wrong! <br><br>  The output is found as follows (not very elegant, but ... let's still think!): We write a <code>load</code> event inside the <abbr title="Scalable Vector Graphics">SVG</abbr> code of the <code>svg</code> element, calling the function <abbr title="HyperText Markup Language">HTML</abbr> document from there.  Somehow: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2000/svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"InitSVG(document);"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Well, or, so that, so, consistently worked in all browsers: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2000/svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"if('InitSVG' in window) InitSVG(document); else parent.InitSVG(document);"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Or even simply (since <code>parent</code> in the top-level window points to this window itself): <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2000/svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent.InitSVG(document);"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  In the <code>InitSVG</code> function we can already get the <abbr title="Scalable Vector Graphics">SVG</abbr> document and from it all its elements.  Lepote! <br><br>  Only it should be borne in mind that working with <abbr title="Scalable Vector Graphics">SVG</abbr> elements using jQuery will not work (maybe there is some workaround, but I haven‚Äôt been able to dig up or invent it so far and I personally thought that it wasn‚Äôt worth making a game).  The fact is that its functions expect to get from the <code>getElementsByTagName</code> method a result of the <code>HTMLCollection</code> type, from which you can select elements by index, as from a regular array.  And here we get (everywhere except Firefox) a result of the <code>NodeList</code> type, from which the item can only be pulled out using the special <code>item( <i></i> )</code> method <code>item( <i></i> )</code> .  The framework does not count on this and breaks off (in any case, it was so in the fall, when I experimented with it).  So you have to work directly with <abbr title="Document Object Model">DOM</abbr> methods, keeping cross-browser compatibility in mind.  This is stressful, but possible. <br><br>  Two private observations on the scripting <abbr title="Scalable Vector Graphics">SVG</abbr> -document.  First, it turned out that the styles specified in it cannot be changed by the script;  All dynamics should be implemented through attributes (which, of course, is not very correct when it comes to design, for example, the color <code>fill</code> - <code>fill</code> ).  Secondly, if the <abbr title="Scalable Vector Graphics">SVG</abbr> element does not have any fill, then the <code>mouseover</code> and <code>mouseout</code> work only on the frame and may well not have time to work at all (fortunately, you can write the <code>fill</code> attribute once on the ancestor element and <code>mouseout</code> ). <br><br>  It's funny that this method stopped working <strong>locally</strong> in Chrome 5.0 due to some of its security problems.  It‚Äôs not at all funny that, as already indicated, it doesn‚Äôt work in Webkit browsers at all if we use the <code>img</code> tag. <br><br><h4>  How to give from SVGZ server </h4><br><br>  <abbr title="Scalable Vector Graphics">SVG</abbr> graphics are recommended to <abbr title="GNU zip">gzip</abbr> .  It is correct, the file size can then become three to four times smaller.  If someone, like me, does not want to mess around with the <a href="http://www.gnu.org/software/gzip/">gzip</a> utility launched from the command line, he can use the <a href="http://www.7-zip.org/">7-Zip</a> archiver for this purpose, which is not less free, but endowed with a graphical interface (in the archive settings, you must select the Gzip method!). <br><br>  Archived, changing the extension from the automatically <code>.svg.gz</code> to <code>.svgz</code> , then with amazement we see that the resulting file is adequately perceived only by Opera and Internet Explorer, and Firefox, Safari and Chrome turn up the nose, cursing the syntax of <abbr title="eXtensible Markup Language">XML</abbr> .  Well, of course, what is <abbr title="eXtensible Markup Language">XML</abbr> there until you unzip it?  And why, in fact, they do not unzip? <br><br>  It turns out apache is to blame.  Until now (version 2.2.12), in the default configuration, it sends the <code>Content-Type: image/svg+xml</code> header required for <abbr title="Scalable Vector Graphics">SVG</abbr> format to the browser <code>Content-Type: image/svg+xml</code> , but the <code>Content-Encoding: gzip</code> header <code>Content-Encoding: gzip</code> not required for its <abbr title="GNU zip">gzip</abbr> version.  Therefore, we will fix the server configuration or simply write the line ‚Äú <i><code>AddEncoding gzip .svgz</code></i> ‚Äù to the .htaccess file. <br><br>  <a href="http://wiki.svg.org/SVGZ">I</a> also <a href="http://wiki.svg.org/SVGZ">met</a> another advice to add the following (for the sake of Firefox) the following: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FilesMatch</span></span></span><span class="hljs-tag"> \</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">.svgz</span></span></span><span class="hljs-tag">$&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">IfModule</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mod_gzip.c</span></span></span><span class="hljs-tag">&gt;</span></span>  mod_gzip_on No <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">IfModule</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FilesMatch</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Perhaps it makes sense if the server is configured to automatically <abbr title="GNU zip">gzip the</abbr> output files;  I do not know. <br><br>  Recently, I had on this issue a funny butt with tech support from my host, which lasted a month.  I understand that there is a nginx front-end in front of Apache, which in some way limits the ability to use Apache directives.  More specifically, the <code>AddType</code> directive works, but <code>AddEncoding</code> does not.  Of course, the ‚ÄúHelp‚Äù section on the provider's website does not contain a word about this quirk, or even even a single mention of nginx.  Technical support stubbornly did not want to listen to me and give out their secrets, giving me insane replies: ‚ÄúThe title is not given, because the server does not have the necessary settings for <br>  the work of the AddEncoding directive is the Apache Mod_gzip module, ‚Äúnginx is responsible for compression, the other Apache directives are fully supported‚Äù (not true, by the way), ‚ÄúWe apologize.  You can transfer the svgz format only if there is a mod_deflate module, which, unfortunately, is not available on the servers you use the services ‚Äù(and then there is an offer to buy a five more expensive plan!).  In the end, they didn‚Äôt explain to me what they wanted, but they gave up and began to give the correct title themselves. </div><p>Source: <a href="https://habr.com/ru/post/99143/">https://habr.com/ru/post/99143/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../99138/index.html">What will you choose?</a></li>
<li><a href="../99139/index.html">Ghetto workout</a></li>
<li><a href="../99140/index.html">How to find in the domain. RF sites of government agencies?</a></li>
<li><a href="../99141/index.html">The final release of openSuSE 11.3</a></li>
<li><a href="../99142/index.html">The global override problem of new / delete in C ++ / CLI</a></li>
<li><a href="../99144/index.html">Toolduino</a></li>
<li><a href="../99146/index.html">Code That Cannot Be Supported (Part 2)</a></li>
<li><a href="../99147/index.html">The most expensive domains in the zone .RU</a></li>
<li><a href="../99150/index.html">Relatively new features in GMail labs: partial removal of the read mark and manual update of POP accounts</a></li>
<li><a href="../99152/index.html">Opera habragost - we approve the schedule</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>