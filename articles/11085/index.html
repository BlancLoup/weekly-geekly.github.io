<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reflections on the purity of the URL in flash-sites</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gone are the days when Jacob Nielsen scolded the flash, because it lacks easy navigation, for example the ability to assign a certain link to a specif...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reflections on the purity of the URL in flash-sites</h1><div class="post__text post__text-html js-mediator-article">  Gone are the days when Jacob Nielsen scolded the flash, because it lacks easy navigation, for example the ability to assign a certain link to a specific page, the Back and Forward buttons, etc. do not work. <br><br>  Jacob Nielsen, Article - <a href="http://webmascon.com/topics/designdetails/14a.asp">Flash is 99% Unacceptable</a> : <br><br>  <em>‚ÄúVisitors to the site move as they like, when they want it.</em>  <em>That is why the Web is so convenient to work, despite the presence of other shortcomings.</em>  <em>Unfortunately, many Flash-designers limit this freedom of users and turn sites into presentations, which are more like television advertising than an interactive program.</em>  <em>It is impossible to ‚Äúunscrew‚Äù the movie back, the Back button does not work ‚Äù</em> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This article was written in 1999 and then all these points that Jacob Nielsen mentioned were really difficult to translate into reality.  Almost impossible. <br><a name="habracut"></a><br>  On the web on this topic, there is not so much information, and this question is often asked on forums and newsletters: <br><br>  <a href="http://www.flashguru.co.uk/">FlashGuru</a> , article - <a href="http://www.flashguru.co.uk/effective-flash-navigation-presentation-files/">Effective Flash Navigation</a> and by <a href="http://noregret.org/tutor/">Michael Antipin</a> , article - <a href="http://noregret.org/tutor/navigation/">Interaction Flash - JavaScript and navigation through a flash site</a> . <br><br>  As a result, navigation on your flash-site, after reading these lessons, will look like this: <a href="https://habr.com/ru/post/11085/">http://yoursite.com/#news/2006/08/25</a> <br><br>  And besides, the ‚ÄúBack‚Äù and ‚ÄúForward‚Äù buttons will work (FlashGuru only has buttons. The address bar is not updated). <br><br>  This article is not a little bit about that - it's about that, but here I want to show how you can make the URL more beautiful (clean).  The URL would look something like this: <a href="http://yoursite.com/news/2006/08/25">http://yoursite.com/news/2006/08/25</a> . <br><br>  Notice the difference with the previous example?  Yes, the # sign is absent. <br>  It seems a trifle, but without #, everything is early, agree more nice. <br><br>  I advise you on this topic to read the chapter from the Artemy Lebedev Surgery: <br>  ¬ß 48. <a href="http://www.artlebedev.ru/kovodstvo/48/">Fighting for clean URL</a> <br><br>  But my method is not without flaws, alas: <br><br>  The ‚ÄúBack‚Äù and ‚ÄúForward‚Äù buttons work, but only when they are pressed, the html page is completely reloaded.  The real update of the address bar, passing requests from Flash, will not occur.  But Flash can receive requests from the address bar and, based on them, load certain data.  But more on that below. <br><ul><li> Your server must support the <code>.htaccess</code> file (and not only mod_rewrite) </li><li>  But of course, there are advantages: </li><li>  Undeniable - beautiful and clean URL. </li><li>  Supported by all browsers and platforms. </li><li>  The method is very easy to implement. </li></ul><br>  I will try to explain how this works and why you need the <code>.htaccess</code> file for this. <br><br>  The <code>.htaccess</code> file (according to Wikipedia) <br><br>  <code>.htaccess</code> - additional configuration file for the Apache web server, as well as similar servers.  Allows you to set a large number of additional parameters and permissions for the web server, such as password access to directories, reassigning file types, etc. <br><br>  <code>.htaccess</code> is a similarity to <code>httpd.conf</code> , with the only difference being that it affects only the directory in which it is located and its child directories.  The ability to use <code>.htaccess</code> in a particular directory is specified in httpd.conf. <br><br>  <em>For details on the .htaccess file, go here -</em> <a href="http://en.wikipedia.org/wiki/.htaccess"><em></em></a><em><a href="http://en.wikipedia.org/wiki/.htaccess">en.wikipedia.org/wiki/.htaccess</a></em> <em>, as well as to the apache.org website</em> <br><br>  1) So, create a <code>.htaccess</code> file: <br><br> <code>RewriteEngine On <br> RewriteBase /    <br> RewriteCond %{REQUEST_FILENAME} !-f <br> RewriteCond %{REQUEST_FILENAME} !-d <br> RewriteRule . / -     -/index.php [L]</code> <br> <br>  I will not go into details about how it works.  In general, putting the <code>.htaccess</code> file with the above typed code into the root folder of your site, no matter what path you write in the address bar, the index.php file that is located along with the <code>.htaccess</code> file is loaded in any way in the same root folder. . <br><br>  Not necessarily index.php (your server may not support PHP), you can index.htm and index.html.  The main thing that your server would know that if the file is index. (N-resolution), then you need to load this or that directory. <br><br>  I think my idea is already starting to clear up a bit. <br><br>  In index.php we embed swf, no matter how, you can in the standard way, but you can also with the help of <a href="http://blog.deconcept.com/swfobject/">SWFObject</a> (I recommend).  It is very important to specify the full path to the swf: <br><br> <code>var so = new SWFObject("main.swf", "main", "100%", "100%", "8", "0x000000", false, "high");so.addVariable("app", getQueryParamValue("app")); <br> so.addVariable("id", getQueryParamValue("id")); <br> so.write("flashcontent");</code> <br> <br>  So, if you specified just main.swf, then when you query from the address bar, say <a href="http://yoursite.com/eng/portfolio/design/my_first_work/">http://yoursite.com/eng/portfolio/design/my_first_work/</a> , SWFObject simply would not find main.swf, because the eng directory and portfolio etc.  in reality does not exist. <br><br>  Now, how does main.swf know that it is in the <a href="http://yoursite.com/eng/portfolio/design/my_first_work/">http://yoursite.com/eng/portfolio/design/my_first_work/</a> directory? <br><br>  There are two ways: <br><ol><li>  Using javascript ( <code>location.pathname</code> ) and <code>flashvars</code> </li><li>  Directly using ActionScript <code>(_root._url</code> ) </li></ol><br>  I prefer the first way. <br>  The scheme is this - the <code>location.pathname</code> property retrieves from the URL the part that contains the path.  It sends the URL using <code>flashvars</code> to the main.swf file (by the way, using JavaScript, parse <code>location.pathname</code> and pass each main variable separately to main.swf. In my example, the <code>location.pathname</code> parsing occurs directly in main.swf): <br><br> <code>var so = new SWFObject("http://yourserver.com/main.swf", "main", "100%", "100%", "8", "0x000000", false, "high"); <br> so.addVariable("location_pathname", location.pathname); <br> so.write("flashcontent"); <br></code> <br><br>  Well, then in main.swf, through <code>_root</code> , we get the variable <code>location_pathname</code> , say: <br>  <code>_root.location_pathname="/eng/portfolio/design/my_first_work/"</code> and then comes the usual serialization of strings.  The process of serialization depends on the structure of your site.  For example, I‚Äôll give you the code for the simple function of the <code>Location Serializer</code> function (this is the simplest example): <br><br> <code>var location:Object = new Object(); <br> location.pathname = _root.location_pathname <br> function LocationSerializer(path:String) { <br> var pathname_str:String = path.substr(1, path.length-2); <br> var path_arr:Array = pathname_str.split("/"); <br> trace("Language: " path_arr[0]); <br> trace("Category: " path_arr[1]); <br> trace("SubCategory: " path_arr[2]); <br> trace("Id: " path_arr[3]); <br> } <br> LocationSerializer (location.pathname); <br></code> <br><br>  Based on <code>path_arr[0]</code> , etc., you can send a request to download xml (there are many solutions - you can give a link to a regular static xml, or store data in mysql and display xml on request). <br>  Something like: <br><br> <code>loadXML("project.php?lang="+ path_arr[0]+"&amp;category="+ path_arr[1]+ path_arr[2]+"&amp;id="+ path_arr[3])</code> <br> <br>  Naturally you will say - <code>path_arr[0]</code> , <code>[1]</code> , <code>[n...]</code> manually create is not profitable.  I agree, for me, for my projects - there is a special class (or rather, a group of classes) that do this.  But this is a separate topic for conversation. <br><br>  In this article, I share the general principles of creating clean URLs for flash sites, the so-called deeplinks.  Basically, that's all. <br>  I hope that I clearly laid out my idea - and gave you a reason for reflection. <br><br>  And the reason for reflection is weight - for example: <br><ol><li>  What if xml was not loaded?  Yep, exactly!  generate a 404 page. </li><li>  Think about serialization.  This is a rather complicated question.  Maybe on this topic I'll write an article. </li><li>  How to notify the user that he has moved from the home page to / eng / portfolio / design / my_first_work /? </li></ol><br>  Here again, two options: <br><ol><li>  Or roughly open the page with <code>getURL</code> (which would entail - a lot of traffic and a long load of main.swf).  I strongly advise against using this option. </li><li>  Or create a special panel DIRECT LINK, which stores the current URL of the site.  The implementation of this effect can be viewed at <a href="http://thefwa.com/">thefwa.com</a> </li></ol><br>  By the way, navigation on <a href="http://thefwa.com/">thefwa.com</a> functionality is exactly the same as mine: <br>  <a href="http://www.thefwa.com/%3Fapp%3Dwinners%26amp%3Bid%3D6025">http://www.thefwa.com/?app=winners&amp;id=6025</a> <br>  The advantages of my example are obvious if it were used on <a href="http://thefwa.com/">thefwa.com</a> : <br>  <a href="http://www.thefwa.com/winners/6025">http://www.thefwa.com/winners/6025</a> <br><br>  Easier to type, easier to read.  And in general, the URL is clearer, say for the secretary who came to this site.  By the way, many people have a question about how to do <a href="http://www.thefwa.com/%3Fapp%3Dwinners%26amp%3Bid%3D6025">http://www.thefwa.com/?app=winners&amp;id=6025</a> .  Everything is elementary, using the same SWFObject: <br><br> <code>var so = new SWFObject("main.swf", "main", "100%", "100%", "8", "0x000000", false, "high"); <br> so.addVariable("app", getQueryParamValue("app")); <br> so.addVariable("id", getQueryParamValue("id")); <br> so.write("flashcontent");</code> <br> <br>  You should read the article in Russian <a href="http://noregret.org/tutor/swfobject/">SWFObject - all about SWF implementation, player version detection and ExpressInstall.</a> <br>  Actually everything.  Let the URL of your site ‚Äúbe as clean as a baby‚Äôs kiss‚Äù. <br><br>  <strong>UPDATE</strong> : I will use this library ‚Äî <a href="http://www.asual.com/download/%3Fswfaddress">SWFAddress</a> , which solves many problems with navigation (the Back, Forward, etc. buttons). </div><p>Source: <a href="https://habr.com/ru/post/11085/">https://habr.com/ru/post/11085/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../11084/index.html">eBay Desktop Beta - Made by Adobe AIR</a></li>
<li><a href="../110841/index.html">People.net - small scammers</a></li>
<li><a href="../110842/index.html">Megaphone - work on the bugs?</a></li>
<li><a href="../110843/index.html">The first online collection of "excuses" - the results of the year</a></li>
<li><a href="../110845/index.html">Hi Habr</a></li>
<li><a href="../110850/index.html">How to safely destroy the object. And other thoughts</a></li>
<li><a href="../110855/index.html">CakePHP Community Launches CakePHP TV Project</a></li>
<li><a href="../110857/index.html">Yandex.Start together with inCube Business Incubator and GreenfieldProject</a></li>
<li><a href="../110859/index.html">New Year's release Hedgewars 0.9.15!</a></li>
<li><a href="../11086/index.html">Incomprehensibilities</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>