<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ubuntu ui toolkit on Ubuntu Touch and Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I would like to talk about the experience of launching an application written using the Ubuntu ui toolkit on the Ubuntu Touch and Android platforms. F...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ubuntu ui toolkit on Ubuntu Touch and Android</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/de2/a3d/e61/de2a3de615f99416496bf07acaeb502e.jpg"><br><br>  I would like to talk about the experience of launching an application written using the Ubuntu ui toolkit on the Ubuntu Touch and Android platforms.  For the test, I used the application from the <a href="http://habrahabr.ru/post/177971/">previous article</a> .  Tulkit is under development, for those interested in the current state of information under the cat. <br><a name="habracut"></a><br><h4>  Ubuntu touch </h4><br>  Installing Ubuntu Touch on the device is described <a href="https://wiki.ubuntu.com/Touch/Install">on the site</a> .  Official builds exist for Nexus series devices, but there are plenty of options on the network for other devices. <br>  Compiling and building is much easier with Qt Creator, which comes with the Ubuntu SDK suite. <br><ol><li>  After connecting the device in the tab <b>Devices</b> will be available to enable developer mode.  This action will install the necessary packages (gcc, ssh).  Do not forget about <a href="http://developer.android.com/tools/device.html">permissions in udev</a> and the availability of the Internet </li><li>  Depending on the type of project in the <b>Build &gt;&gt; Ubuntu Touch</b> menu, options will be available to launch the application (.qmlproject), or to compile, build and install the package on the device (.pro) </li></ol><br><div class="spoiler">  <b class="spoiler_title">A few screenshots from the Galaxy Nexus:</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/a93/821/a7b/a93821a7b58597fe40f666f2a558d5a5.png"><br><br><img src="https://habrastorage.org/storage2/95d/653/21b/95d65321b068cca5d4e674fc8fe47e59.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/74d/bf3/36b/74dbf336bf728dcd7b1c7da9e11ab413.png"><br></div></div><br>  As always there are some problems, for example, the application runs in the background and some actions are needed to see it.  But in general, everything works well and Ubuntu Touch pleases with its application development capabilities. <br><br><h4>  Android </h4><br>  Here the path is much longer and more thorny. <br><br><h5>  Qt5 </h5><br>  First we need to build Qt5 source code using the Android NDK.  The assembly process is described in detail in the <a href="http://qt-project.org/wiki/Qt5ForAndroidBuilding">article</a> . <br>  On Ubuntu 13.10, I had to install the <i>openjdk-6-jdk</i> and <i>zlib1g-dev</i> packages before the build, make <i>export ANDROID_API_VERSION = android-14</i> .  Parameters for the configuration script: <br> <code>./configure -opensource -confirm-license -developer-build -xplatform android-g++ -nomake tests -nomake examples -android-ndk /opt/android-ndk-r8e -android-sdk -android-sdk /opt/adt-bundle-linux-x86_64-20130219/sdk -skip qttools -skip qttranslations -skip qtwebkit -skip qtserialport -skip qtwebkit-examples-and-demos</code> <br>  After that, the build was successful.  When building, the qtwebkit and qttranslations modules were disabled, their performance promises release of Qt version 5.1. <br><br><h5>  Bad start </h5><br>  By opening the project of our application and adding the Kit for Android (in <b>Tools</b> &gt;&gt; <b>Options</b> &gt;&gt; <b>Build &amp; Run</b> , then in the <b>Projects</b> &gt;&gt; <b>Add kit</b> tab), you can try running the program on the device.  If everything went well, you will be prompted to install <a href="https://play.google.com/store/apps/details%3Fid%3Dorg.kde.necessitas.ministro">Ministro</a> .  This service installs and provides qt libraries for applications.  After downloading the libraries, we will see a gray background and messages from the absence of the Ubuntu module in the log. <br><br><div class="spoiler">  <b class="spoiler_title">Process screenshots</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/15e/756/122/15e75612251a86d188de0668739328dc.png"><br><br><img src="https://habrastorage.org/storage2/12e/0f2/1e1/12e0f21e106fb847a4bf23258c4554e0.png"><br><br><img src="https://habrastorage.org/storage2/d13/079/0f9/d130790f91a016bac1103b2864a24b3b.png"><br><br><img src="https://habrastorage.org/storage2/561/09e/966/56109e9660bbed70d87e8d48cc8778a1.png"><br></div></div><br><br><h5>  Ubuntu ui toolkit </h5><br>  You can get the code from the <a href="https://launchpad.net/~ubuntu-sdk-team/%2Barchive/ppa">repository</a> , immediately <a href="">archive</a> or through bazaar.  The code is built by Qt Creator, using Qt5 for Android.  Also during the build it will be necessary to comment out the code using the functions of disabled modules, mainly qttranslations. <br><br><h5>  ‚ÄúSuccessful launch‚Äù </h5><br>  Copy the Ubuntu ui toolkit to the device.  Ministro uses the <i>/ data / local / tmp / qt /</i> folder, where I copied the themes and modules from the Ubuntu ui toolkit.  It also requires two environment variables UITK_THEME_PATH (path to the themes folder) and GRID_UNIT_PX (coefficient for converting gp to screen pixels). <br> <code>qputenv("UITK_THEME_PATH", "/data/local/tmp/qt/themes"); <br> qputenv("GRID_UNIT_PX", "25"); <br></code> <br>  The disappointment was the inoperability of the qtwebkit module, because of this, it is impossible to authorize the user.  Screenshot of the result. <br><img src="https://habrastorage.org/storage2/f3e/bea/e54/f3ebeae546ba17cf264aa7a43d5253d0.png"><br><br><div class="spoiler">  <b class="spoiler_title">CurrencyConverter to smooth the impression</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/5a7/0ed/762/5a70ed7626a61f4d66638fef7c7fa045.png"><br><br><img src="https://habrastorage.org/storage2/ff5/876/435/ff5876435c81fb35b3d036e0ee9ecb0f.png"><br><br><img src="https://habrastorage.org/storage2/02e/e9f/ddb/02ee9fddb98f6a5c06176c32bfdc2128.png"><br></div></div><br><br><h4>  Blackberry 10 </h4><br>  There is <a href="http://kodira.de/2013/01/ubuntu-phone-components-on-blackberry-10/">an article</a> about running applications using the Ubuntu ui toolkit on BB10.  Everything looks workable, although some adaptation is required. </div><p>Source: <a href="https://habr.com/ru/post/179595/">https://habr.com/ru/post/179595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179575/index.html">Now all developers can respond to reviews on Google Play</a></li>
<li><a href="../179579/index.html">Igor Ashmanov on iForum-2013. Information sovereignty, modern reality</a></li>
<li><a href="../179583/index.html">Video interview from Silicon Valley. Sergey Burkov - a serial entrepreneur, mentor 500 Startups, the first head of the Google development center in Russia</a></li>
<li><a href="../179587/index.html">Idea. Constructor sites in the dialogue mode</a></li>
<li><a href="../179589/index.html">Internal cuisine: a recipe for effective work with a remote employee. Part 1</a></li>
<li><a href="../179597/index.html">Work with bad files on the command line in Linux</a></li>
<li><a href="../179603/index.html">Site, non-standard port and Kerio Control</a></li>
<li><a href="../179605/index.html">Write your Watermark TextBox and PasswordBox for Win8 / RT, Windows Phone</a></li>
<li><a href="../179609/index.html">Application for Russian StackOverflow has moved to the Commitment stage</a></li>
<li><a href="../179613/index.html">Library for homomorphic encryption HELib</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>