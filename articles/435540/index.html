<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New keywords in java</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the near future, new features will appear in the Java language, over which work is currently underway in the framework of the Valhalla, Panama and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New keywords in java</h1><div class="post__text post__text-html js-mediator-article">  In the near future, new features will appear in the Java language, over which work is currently underway in the framework of the Valhalla, Panama and Loom projects.  Expansion of a language is not an easy task, all the more so with a language in which emphasis is placed on backward compatibility;  therefore, in order for their integration in Java to go smoothly, the architects of the language have to solve the accumulated fundamental issues. <br><br>  Yesterday (January 8), Brian Goetz, who works for Oracle at the Java Language Architect position, published a <a href="http://mail.openjdk.java.net/pipermail/amber-spec-experts/2019-January/000945.html">letter</a> in the Amber mailing list <a href="http://mail.openjdk.java.net/pipermail/amber-spec-experts/2019-January/000945.html">‚ÄúWe need more keywords, captain!‚Äù</a> , In which he proposed a way to solve the problem of adding new keywords to the language.  As a result, keywords such as <i>non-null</i> , <i>non-final</i> , <i>eventually-final</i> and <i>this-return</i> may appear in the language (the full list is waiting for you under the cut at the end of the post). <br><br>  Since in the past this problem occurred infrequently in the language, they usually didn‚Äôt particularly think about it and ‚Äútried to get out of the neck as quickly as possible‚Äù;  due to the shortcomings of the already existing approaches in the future, their application will be problematic, and therefore it was decided to work ahead.  Proposed solution: try to expand the set of lexical forms that can be used as keywords: allow keywords separated by a hyphen, which will include one (or more) existing keyword or a reserved identifier. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Important note: Brown notes that new keywords are given solely as an illustrative example, and that you shouldn‚Äôt focus your attention on them.  However, it is obvious that we have a deliberate demonstration of how the syntax of a language can change in the future - the author mentions in the letter that this idea will help add many desired missing language constructs to Java. <br><a name="habracut"></a><br><h3>  "Old" methods </h3><br>  As is known, today in the Java language there are 50 keywords ( <i>keywords</i> ), which are forbidden to be used as identifiers of variables.  Their complete list is given <a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html">in the JLS language specification in clause 3.9</a> .  This list has not changed much from the first version of the language - only <i>assert was</i> added in 4 versions, <i>enum</i> in 5 and <i>_</i> in 9. Besides them, there are also ‚Äúreserved identifiers‚Äù - this is <i>true</i> , <i>false</i> and <i>null</i> - which behave similar to keywords in a way. <br><br>  When developers need to add a new keyword to the language, they have to resort to one of the following methods. <br><br><ul><li>  Forcible alienation of property: take the words that were previously identifiers, and turn them into keywords (for example, <i>assert</i> ). </li><li>  Disposal: an existing keyword begins to be used in a way that it was never planned to use (example ‚Äî using <i>default</i> for annotation values ‚Äã‚Äãor default methods). </li><li>  Do without it: find a way to use syntax that does not require a new keyword ‚Äî for example, use the <i><a href="https://habr.com/users/interface/" class="user_link">interface</a></i> for annotations instead of <i>annotation</i> ‚Äî or discard the feature altogether. </li><li>  Appearance creation: create an illusion of context-dependent <i><a href="https://stackoverflow.com/questions/49102553/what-is-the-conceptual-difference-between-a-restricted-keyword-and-reserved-t">keywords</a></i> using heroic linguistic achievements ( <i><a href="https://stackoverflow.com/questions/49102553/what-is-the-conceptual-difference-between-a-restricted-keyword-and-reserved-t">restricted keywords, reserved type names</a></i> ). </li></ul><br>  In principle, you can usually use any of these methods, but each of them has its drawbacks, and for a serious full-scale language extension these methods alone are not enough - for future innovations, it will be necessary to eliminate the impossibility of a full-scale language syntax extension. <br><br><h4>  Adding new keywords </h4><br>  Against ‚Äújust‚Äù taking and adding new words, there are the following arguments. <br><br><ul><li>  The more convenient and popular the chosen keyword is, the more often it will appear in the source code of programs, which will add incompatibility to the language (for example, when the word <i>assert</i> appeared in Java SE 1.4, all test frameworks stopped working). </li><li>  The cost of eliminating such incompatibility of code by the developer will vary greatly from small (renaming a local variable) to fatal (when an interface or public type method becomes invalid). </li><li>  Words most likely to be used by language developers are popular identifiers (for example, <i>value</i> , <i>var</i> , or <i>method</i> ); </li><li>  If you choose words that are rarely used in the source code and which will have fewer collisions, you will have to use constructions like <i>usually_but_not_always_final</i> , which naturally I would like to avoid. </li><li>  If, after all, resorting to the choice of rarely used words, then using this method too often will not work - breaking compatibility is not good, and there are not that many more successful combinations. </li></ul><br><h4>  Reuse of ‚Äúold‚Äù keywords </h4><br>  In order to "just" continue to live with those words, have your own thoughts. <br><br><ul><li>  The use cases of keyword reuse in different contexts are found in many programming languages ‚Äã‚Äã(an example from Java is the use of ( <i>(ab) use</i> ) <i>final</i> for the symbols "not changeable", "not redefinable" and "not extensible"). </li><li>  Sometimes this approach makes sense and comes by itself, but usually it is not a priority. </li><li>  Over time, the set of requirements for a set of keywords expands, and things can get ridiculous - no one wants to use <i>null final</i> in their code. </li><li>  If the latter seemed to be an exaggeration to you, then keep in mind that while working on <a href="https://openjdk.java.net/jeps/325">JEP 325</a> , it was quite seriously suggested to use the <i>new switch</i> construct to describe a <i>switch</i> with different semantics than accepted - if we continue in the same spirit, in ten years we can reach <i>new new switch</i> . </li></ul><br>  How to live without new keywords?  You can only completely stop doing the evolution of the language, as some suggest.  But this is not serious and does not fit with the opinion of the others, since there is a healthy interest on the part of developers to the new possibilities of the language. <br><br><h4>  Contextual keywords </h4><br>  Contextual keywords that are used to provide a specific value in the code, but they are not reserved words ( <a href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/keywords/contextual-keywords">used in C #</a> ) at first glance seem to be the very ‚Äúmagic wand‚Äù, but here Brian sets out his own view on their use based on practice ( for example, the <i>var</i> implementation in Java 10, which is not the keyword, but the <i><a href="https://stackoverflow.com/questions/49102553/what-is-the-conceptual-difference-between-a-restricted-keyword-and-reserved-t">reserved type name</a></i> ).  In exchange for the illusion of adding new keywords without having to ‚Äúbreak‚Äù existing programs, we get increased complexity and distortion in the language. <br><br>  Contextual keywords create difficulties for authors of specifications, compilers, and IDEs.  In the case of one or two special cases, this does not cause problems, but when they are used everywhere, it results in a much higher cost of maintaining the code or the tail of the bugs. <br><br>  One could brush aside this - they say, this is not a problem of the users of the language, but of its creators and those who write compilers and IDE.  But in fact, all end up suffering.  For an IDE, this can be a significant problem: more input information is required in order to guess what the developer is introducing ‚Äî the context keyword or identifier.  As a result, users get a deterioration in the work of syntax highlighting code, autocompletion and refactoring capabilities. <br><br>  You can use this tool, but it should be done with caution. <br><br><h3>  Language distortion </h3><br>  It would seem that with the problems that cause the listed approaches - with awkward syntax, unnecessary complication of life and bugs - in principle it would be possible to accept.  But there is another not the most obvious problem - the nuances of using keywords lead to a distorted design of the language itself. <br><br>  For Java developers, writing the <i><a href="https://habr.com/users/interface/" class="user_link">interface</a></i> instead of <i>annotation</i> is a common thing today, but everyone agrees that using the clear term <i>annotation</i> instead of the combination of @ and the "old" keyword would be much more logical. <br><br>  Another example: the set of available modifiers (public, private, static, final, etc.) cannot be called complete - we can‚Äôt say <i>not final</i> or <i>not static</i> .  In turn, this means that you cannot create features in which variables or classes are <i>final</i> by default, or members are <i>static</i> by default, since there is no way to indicate that we would like to discard this modifier. <br><br>  This problem is not so obvious for those who use the language - but the authors of the language itself, because of their desire to develop it, are constantly faced with it and pay for such decisions (when it is obvious, when it is implicit) that we all end up with. <br><br>  The conclusion from all of the above suggests itself: we need another source of keywords. <br><br><h3>  Proposed solution </h3><br>  In the experimental possibilities of the language, the syntax is used to preliminarily designate new keywords, in which the new keywords themselves are preceded by two underscores (for example, in the <a href="https://en.wikipedia.org/wiki/Project_Valhalla_(Java_language)">Project Valhalla</a> prototype this is <i>__ByValue</i> ).  The reason for this decision is clear - you need to point out that this is a temporary replacement, for which you will need to make a decision about the final syntax in the future, and you can easily avoid collisions with existing code.  One could suggest using a similar format for new keywords - start them with one or two underscores - but this solution cannot be called beautiful, because in this case we will get confusion from ordinary and new keywords at the output. <br><br>  Therefore, it is proposed to use keywords constructed using a hyphen, which will include one or more ‚Äúold‚Äù keywords or reserved identifiers. <br><br>  Unlike <i><a href="https://www.dummies.com/programming/java/restricted-java-keywords/">restricted keywords</a></i> , this approach will create much fewer problems for parsing, since (hereinafter - an example) <i>not-null</i> cannot be confused with a subtraction expression, and the lexer can always determine whether <i>ab is</i> three tokens or one.  Thanks to this, new opportunities are opening up for us to create keywords that are much less likely to conflict with existing source code or with each other.  On top of that, they are much more likely to have meaningful names, since much of what the creators of the language want to add to Java is based on the language constructs that already exist in it ‚Äî for example, <i>non-null</i> . <br><br>  As examples of new keywords, potential candidates for new keywords are cited (I remind you that, according to the author, at the moment this list is purely illustrative): <br><br>  - <i>non-null</i> ; <br>  - <i>non-final</i> ; <br>  - <i>package-private</i> (modifier of the level of access to the members of the class by default, which is currently not indicated in any way); <br>  - <i>public-read</i> (publicly read, privately written); <br>  - <i>null-checked</i> ; <br>  - <i>type-static</i> (a concept necessary for <a href="https://en.wikipedia.org/wiki/Project_Valhalla_(Java_language)">Valhalla</a> ; means static with respect to a specific specialization of a class, not the class itself); <br>  - <i>default-value</i> ; <br>  - <i>eventually-final</i> (what is supposed to be done now using <i><a href="https://habr.com/users/stable/" class="user_link">Stable</a></i> annotation), <br>  - <i>semi-final</i> (as an alternative to <i>sealed</i> ); <br>  - <i>exhaustive-switch</i> ; <br>  - <i>enum-class</i> , <i>annotation-class</i> , <i>record-class</i> (the authors of the language could use these keywords as an alternative to <i>enum</i> and <i><a href="https://habr.com/users/interface/" class="user_link">interface</a></i> if they had such an opportunity); <br>  - <i>this-class</i> (to describe the class literal for the current class); <br>  - <i>this-return</i> (often asked to add a way to mark the setter / builder method as returning its recipient). <br><br>  Surely there are other versions of lexical schemes, according to which it would be possible to make keywords so that they minimally overlap with the already written source code.  The proposed option with a hyphen is quite readable for both cars and humans. <br><br>  It is understood that this approach in no way excludes the possibility of using together with those that were used previously, and will be used along with them. </div><p>Source: <a href="https://habr.com/ru/post/435540/">https://habr.com/ru/post/435540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../435530/index.html">Paid Subscriptions - Dependency of Auto Connection on Mobile</a></li>
<li><a href="../435532/index.html">Tornado vs Aiohttp: a journey into the wilds of asynchronous frameworks</a></li>
<li><a href="../435534/index.html">Data Science: entry level books</a></li>
<li><a href="../435536/index.html">Humanoid robots: the benefits and problems of anthropomorphic mechanisms</a></li>
<li><a href="../435538/index.html">In 2018, in Germany, more "green" energy was received than electricity from the burning of coal</a></li>
<li><a href="../435542/index.html">Game development and diploma defense or ‚ÄúHow I killed two birds with one stone the first pancake‚Äù</a></li>
<li><a href="../435544/index.html">Innopolis University employee received a Facebook grant</a></li>
<li><a href="../435546/index.html">Practical tips, examples, and SSH tunnels</a></li>
<li><a href="../435548/index.html">Hacking public services - you can, if you really need</a></li>
<li><a href="../435550/index.html">GitLab 11.6 released with serverless functions and Kubernetes clusters for groups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>