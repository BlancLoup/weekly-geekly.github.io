<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Like clockwork, or animated at 60 FPS on CSS 3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Images and text belong to their authors. 


 Animation of elements in mobile applications is easy. Proper animation can also be simple ... if you foll...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Like clockwork, or animated at 60 FPS on CSS 3</h1><div class="post__text post__text-html js-mediator-article"><p>  <i>Images and text belong to their authors.</i> </p><br><p>  Animation of elements in mobile applications is easy.  <i>Proper</i> animation can also be simple ... if you follow the tips presented in the article. </p><br><p>  Today, whoever does not use CSS 3 animation in their projects, however, not only everything, but very few people can do it correctly.  Even the so-called ‚Äúbest practices‚Äù are described, but people continue to do everything in their own way.  Most likely because they simply do not understand why everything is arranged that way and not otherwise. </p><br><a name="habracut"></a><br><p>  The range of mobile devices only does what expands, so if you do not optimize your code with this in mind, such an approach will sooner or later make itself felt in the form of application brakes that your users will encounter. </p><br><p>  Remember: in spite of the fact that there are several flagship devices in the world, constantly pushing the progress forward, people use their favorite antiques, with which they are reluctant to part. </p><br><p>  Using CSS 3 correctly will eliminate some of the problems, so we want to help you understand some things. </p><br><h2>  Taming time </h2><br><p>  What does the browser do when rendering and managing all these elements on the page?  The answer is this simple timeline, called <strong>CRP</strong> (Critical Rendering Path). </p><br><img src="https://habrastorage.org/getpro/habr/post_images/8c0/c03/188/8c0c03188321c5d073033dd6d3721919.png" alt="image"><br><br><p>  To achieve smooth animations, we need to focus on changing the properties that affect the <strong>Composite</strong> step. </p><br><h2>  Styles </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/ceb/ac4/d5e/cebac4d5e64788269ce88c0b3d59799d.png" alt="image"><br><br><p>  The browser starts counting styles to apply them to the elements. </p><br><h2>  Frame </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/b00/19e/c05/b0019ec05f3097ad50d3e56169948398.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  At this stage, the browser generates and determines the position of elements on the page.  It is at this point that the browser sets page attributes, such as width, height, indents, and others. </p><br><h2>  Drawing </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/465/c01/c3f/465c01c3fc59ef267dd67a795b9cb157.png" alt="image"><br><br><p>  The browser forms the elements as separate layers, applying properties such as <strong>box-shadow</strong> , <strong>border-radius</strong> , <strong>color</strong> , <strong>background-color,</strong> and so on. </p><br><h2>  Overall picture </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/441/ae3/e7c/441ae3e7cfbeaea0e2f421b4e61f00ed.png" alt="image"><br><br><p>  It is at this stage that your magic will be needed, since right now the browser draws all the formed layers on the screen.  Modern browsers perfectly animate four kinds of properties, in terms of transformation and translucency. </p><br><ol><li>  <strong>Position.</strong>  transform: translateX ( <em>n</em> ) translateY ( <em>n</em> ) translateZ ( <em>n</em> ); <br></li><li>  <strong>Scaling.</strong>  transform: scale ( <em>n</em> ); <br></li><li>  <strong>Turn.</strong>  transform: rotate ( <em>n</em> deg); <br></li><li>  <strong>Translucency.</strong>  opacity: <em>n</em> ; <br></li></ol><br><h2>  How to reach 60 FPS </h2><br><p> Let's start with HTML and create a simple structure for the application menu inside the <code>.layout</code> container. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"layout"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùapp-menu‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùheader‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/5bd/d12/b59/5bdd12b59222d403553a0cca064c4ce6.gif" alt="image"><br><br><h2>  Wrong Way </h2><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: -<span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: left <span class="hljs-number"><span class="hljs-number">300ms</span></span> linear; } <span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu-open</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: left <span class="hljs-number"><span class="hljs-number">300ms</span></span> linear; }</code> </pre> <br><p>  Notice which properties we change?  You should avoid using transformations with the properties <strong>left / top / right / bottom</strong> .  They do not allow you to create a smooth animation, because they force the browser to reassemble the layers each time, and this will affect all the children. </p><br><p>  The result is something like this: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/c85/0c3/223/c850c32235dc53a91a57138aaa48f23a.gif" alt="image"><br><br><p>  The animation slows down.  We checked the DevTools timeline to see what was really going on, and here‚Äôs the result: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/9f5/9de/840/9f59de84077b9bbd0f7d4bdf7df3361d.png" alt="image"><br><br><p>  The picture clearly shows the instability of the FPS and, as a result, poor performance. </p><br><h2>  Use transformations </h2><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateX</span></span>(-100%); <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateX</span></span>(-100%); <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: transform <span class="hljs-number"><span class="hljs-number">300ms</span></span> linear; } <span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu-open</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transform</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: transform <span class="hljs-number"><span class="hljs-number">300ms</span></span> linear; }</code> </pre> <br><p>  In contrast to the above properties, transformations are applied to already drawn blocks, that is, at the <strong>Composite</strong> stage.  In the example above, we kind of tell the browser that before the start of the animation, all the layers will already be drawn and ready for manipulation. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/2fd/3b8/8ee/2fd3b88ee5cea6fa0c4489f617f0d441.gif" alt="image"><br><br><p>  The timeline shows that the FPS has become more even, so the animation will look somewhat smoother. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/7b0/b19/c6c/7b0b19c6c9825f6dc7ee2c4644c35320.png" alt="image"><br><br><h2>  GPU Animation </h2><br><p>  Everything could be even better.  For this we will use a graphics accelerator. </p><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateX</span></span>(-100%); <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateX</span></span>(-100%); <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: transform <span class="hljs-number"><span class="hljs-number">300ms</span></span> linear; <span class="hljs-attribute"><span class="hljs-attribute">will-change</span></span>: transform; }</code> </pre> <br><p>  While <strong>translateZ ()</strong> or <strong>translate3d ()</strong> is still required by some browsers as a kind of hack, the future behind the <strong>will-change</strong> property.  It tells the browser to move the elements into a separate layer so that it then does not check the entire frame for assembly or rendering. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/426/5ee/5fb/4265ee5fbf994665455b02ecd81be8ee.gif" alt="image"><br><br><p>  See how smooth the animation has become?  Timeline confirms this: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/c65/a61/db8/c65a61db81b605a02913f9abe913e8bd.png" alt="image"><br><br><p>  FPS has become even more stable, but still there is one slow segment of the animation at the beginning.  Based on the menu structure, JS usually writes something like this: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toggleClassMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> layout = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">".layout"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!layout.classList.contains(<span class="hljs-string"><span class="hljs-string">"app-menu-open"</span></span>)) { layout.classList.add(<span class="hljs-string"><span class="hljs-string">"app-menu-open"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { layout.classList.remove(<span class="hljs-string"><span class="hljs-string">"app-menu-open"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menu = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">".menu-icon"</span></span>); menu.addEventListener(<span class="hljs-string"><span class="hljs-string">"click"</span></span>, toggleClassMenu, <span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre> <br><p>  The problem is that by adding a class to the container <code>.layout</code> , we force the browser to recalculate styles again, and this affects the speed of layout and rendering. </p><br><h2>  Like clockwork </h2><br><p>  But what if the menu was located behind the scope?  By doing this, we would use only the element that really needs to be animated, that is, our menu.  For clarity, the HTML structure is: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"menu"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app-menu"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"layout"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Now we can control the status of the menu a little differently.  We will manage the animation through a class that is deleted after the animation ends using the <strong>transitionend</strong> event. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toggleClassMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ myMenu.classList.add(<span class="hljs-string"><span class="hljs-string">"menu--animatable"</span></span>); myMenu.classList.add(<span class="hljs-string"><span class="hljs-string">"menu--visible"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTransitionEnd</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ myMenu.classList.remove(<span class="hljs-string"><span class="hljs-string">"menu--animatable"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myMenu = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">".menu"</span></span>), menu = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">".menu-icon"</span></span>); myMenu.addEventListener(<span class="hljs-string"><span class="hljs-string">"transitionend"</span></span>, onTransitionEnd, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); menu.addEventListener(<span class="hljs-string"><span class="hljs-string">"click"</span></span>, toggleClassMenu, <span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre> <br><p>  Well, now all together.  Your attention to the full example of CSS 3, where everything is in its place: </p><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: fixed; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: hidden; <span class="hljs-attribute"><span class="hljs-attribute">pointer-events</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">150</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.menu</span></span>‚Äî<span class="hljs-selector-tag"><span class="hljs-selector-tag">visible</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">pointer-events</span></span>: auto; } <span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; <span class="hljs-attribute"><span class="hljs-attribute">max-width</span></span>: <span class="hljs-number"><span class="hljs-number">400px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">90%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2px</span></span> <span class="hljs-number"><span class="hljs-number">6px</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0, 0, 0, 0.5); <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateX</span></span>(-103%); <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">translateX</span></span>(-103%); <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: flex; <span class="hljs-attribute"><span class="hljs-attribute">flex-direction</span></span>: column; <span class="hljs-attribute"><span class="hljs-attribute">will-change</span></span>: transform; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">160</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">pointer-events</span></span>: auto; } <span class="hljs-selector-class"><span class="hljs-selector-class">.menu</span></span>‚Äî<span class="hljs-selector-tag"><span class="hljs-selector-tag">-visible</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transform</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">transform</span></span>: none; } <span class="hljs-selector-class"><span class="hljs-selector-class">.menu-</span></span>‚Äî<span class="hljs-selector-tag"><span class="hljs-selector-tag">animatable</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: all <span class="hljs-number"><span class="hljs-number">130ms</span></span> ease-in; } <span class="hljs-selector-class"><span class="hljs-selector-class">.menu--visible</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.menu</span></span>‚Äî<span class="hljs-selector-tag"><span class="hljs-selector-tag">-animatable</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.app-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: all <span class="hljs-number"><span class="hljs-number">330ms</span></span> ease-out; } <span class="hljs-selector-class"><span class="hljs-selector-class">.menu</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:after</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,0,0,0.4); <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">will-change</span></span>: opacity; <span class="hljs-attribute"><span class="hljs-attribute">pointer-events</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: opacity <span class="hljs-number"><span class="hljs-number">0.3s</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cubic-bezier</span></span>(0,0,0.3,1); } <span class="hljs-selector-class"><span class="hljs-selector-class">.menu</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.menu--visible</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:after</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">pointer-events</span></span>: auto; }</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/2e3/fc9/6fe/2e3fc96fea13bf9ab3b54849ed1a3a1e.gif" alt="image"><br><br><p>  And what does the timeline show? </p><br><img src="https://habrastorage.org/getpro/habr/post_images/fc5/26a/673/fc526a6739e1c38db85bb4e771b57123.png" alt="image"><br><br><p>  Something like this. </p></div><p>Source: <a href="https://habr.com/ru/post/308006/">https://habr.com/ru/post/308006/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307990/index.html">First release candidate Laravel 5.3 RC1 released</a></li>
<li><a href="../307992/index.html">Instagram as a tool to promote a product</a></li>
<li><a href="../307996/index.html">How to maximize battery life on Mac and other Parallels Desktop 12 features</a></li>
<li><a href="../308002/index.html">How to make friends Tensorflow and C ++</a></li>
<li><a href="../308004/index.html">From the makers of Pok√©mon Go: what did Niantic do before taking over the world</a></li>
<li><a href="../308008/index.html">Myself a designer. We test 7 online services to create visual content</a></li>
<li><a href="../308010/index.html">How to determine the level of IT maturity of your company - and what they are</a></li>
<li><a href="../308014/index.html">How protected from cyber attacks banks and stock exchanges: Statistics and expert opinions</a></li>
<li><a href="../308020/index.html">Introducing the new UWP Community Toolkit</a></li>
<li><a href="../308024/index.html">The effectiveness of the implementation of information systems. Practice experience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>