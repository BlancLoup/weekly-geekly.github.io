<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Setting up a Linux server backup in 5 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Before me it became necessary to set up a backup on a new Linux server, this task is very important, but painfully boring: you need to write and debug...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Setting up a Linux server backup in 5 minutes</h1><div class="post__text post__text-html js-mediator-article">  Before me it became necessary to set up a backup on a new Linux server, this task is very important, but painfully boring: you need to write and debug scripts that will archive the necessary folders (and it is desirable to make incremental archives), databases, subversion repositories, and then transfer these archives to a remote server.  That's why I tried to google a ready-made solution for this task and as a result I came across a <a href="http://www.backup-manager.org/about/">backup-manager</a> , a wonderful open source set of bash scripts that allow: <ul><li>  archive any folders, including creating incremental archives.  The config simply indicates the list of directories to be copied, as well as the ‚Äúblack list‚Äù of files that will not be copied. </li><li>  back up MySQL databases.  In the config, the username and password of the mysql user who has access to the databases are specified, and the rest of the work is done by the backup manager itself. </li><li>  backup svn-repositories, and the backup is done not by copying the folder with the vault, but using the <em>svnadmin dump</em> command. </li><li>  encrypt archives. </li><li>  copy the archives to remote servers via FTP, SSH or (this is the most important feature for me) in the Amazon S3 storage, and burn them to DVD. </li></ul><br>  Thus, this one set of scripts solved absolutely all my backup tasks.  All this economy is configured in no more than five minutes, since in the configuration file each parameter has detailed comments, so no one should have problems with the settings. <br><a name="habracut"></a><br>  You can download it from here: <a href="http://www.backup-manager.org/downloads/">www.backup-manager.org/downloads</a> , or you can simply install the <i>backup-manager</i> package (example for Debian): <br><br> <code>aptitude install backup-manager <br></code> <br>  In addition, you need to take into account that in order to copy data to the Amazon S3 repository, the libnet-amazon-s3-perl and libfile-slurp-perl packages must be installed on the system: <br><br> <code>aptitude install libnet-amazon-s3-perl libfile-slurp-perl <br></code> <br>  Now it remains only to configure the start-up backup-manager on the krone and you can sleep peacefully. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>Upd.</strong> <br>  All settings are stored in the /etc/backup-manager.conf file, here are its main parameters: <br><br> <code># ,       <br> export BM_REPOSITORY_ROOT="/var/archives" <br> <br> #     <br> export BM_ARCHIVE_METHOD="tarball-incremental mysql svn" <br> <br> #            <br> #  ,     <br> BM_TARBALL_TARGETS[0]="/etc" <br> BM_TARBALL_TARGETS[1]="/boot" <br> BM_TARBALL_TARGETS[2]="/var/www" <br> export BM_TARBALL_TARGETS <br> <br> #  ,       ,     <br> export BM_TARBALL_BLACKLIST="/dev /sys /proc /tmp *imagecache*" <br> <br> #      -    <br> export BM_TARBALLINC_MASTERDATETYPE="weekly" <br> export BM_TARBALLINC_MASTERDATEVALUE="1" <br> <br> #   MySQL         mysql- <br> export BM_MYSQL_DATABASES="__ALL__" <br> export BM_MYSQL_ADMINLOGIN="user" <br> export BM_MYSQL_ADMINPASS="1234" <br> <br> #   subversion-     <br> export BM_SVN_REPOSITORIES="/var/repositories" <br> <br> #         <br> # (   ftp, ssh, ssh-gpg, rsync) <br> export BM_UPLOAD_METHOD="s3" <br> <br> #     Amazon S3   , access key  secret key <br> export BM_UPLOAD_S3_DESTINATION="basket-name" <br> export BM_UPLOAD_S3_ACCESS_KEY="ABC123" <br> export BM_UPLOAD_S3_SECRET_KEY="DEF456" <br></code> <br><br>  These are the most basic settings, in the config itself there are a couple of dozen of parameters, all of which are commented in detail. </div><p>Source: <a href="https://habr.com/ru/post/87435/">https://habr.com/ru/post/87435/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../87427/index.html">Torrents effect</a></li>
<li><a href="../87428/index.html">SPRN - Missile Assault Warning System</a></li>
<li><a href="../87430/index.html">We etch "taste of Yandex"</a></li>
<li><a href="../87433/index.html">Code Bubbles: A New Programming Environment</a></li>
<li><a href="../87434/index.html">Database of all known firmware for Android phones</a></li>
<li><a href="../87436/index.html">Linux backup</a></li>
<li><a href="../87438/index.html">Google is 99% sure of closing its Chinese search engine: report</a></li>
<li><a href="../87439/index.html">Habraklient for mobile devices</a></li>
<li><a href="../87440/index.html">Simpler! Simpler! Even easier! How to get out when not enough hands</a></li>
<li><a href="../87441/index.html">40 beautifully illustrated examples of web design (part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>