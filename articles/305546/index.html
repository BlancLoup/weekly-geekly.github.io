<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Who is aggregated by Meduza?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hegel believed that society becomes modern when news replaces religion. 
 The News: A User's Manual, Alain de Botton 


 Read all the news has become ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Who is aggregated by Meduza?</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  Hegel believed that society becomes modern when news replaces religion. <br>  <a href="http://alaindebotton.com/news-users-manual/">The News: A User's Manual, Alain de Botton</a> </blockquote><br><p>  Read all the news has become extremely impossible.  And it's not just that Stephen Bushemi writes them in between bowling with Lebowski, but rather that there are too many of them.  Here news aggregators come to the rescue and the question naturally arises: who and how do they aggregate? </p><br><p>  Noticing a <a href="https://habrahabr.ru/post/283058/">couple of</a> <a href="https://habrahabr.ru/post/259471/">interesting</a> articles on Habr√© about the API and data collection of the popular Meduza news site, I decided to uncover the <a href="https://goo.gl/8TM2wo">Perseus shield</a> and continue the glorious affair.  Meduza monitors a variety of different news sites, and today we will understand which sources prevail in it, whether they can be grouped intelligently and whether there is a <em>core</em> here that forms the backbone of the news feed. </p><br><p>  A brief definition of what Meduza is: </p><br><blockquote>  "Remember how stupid people all the time called the" Tape "?  They said that "Tape" - aggregator.  And let‚Äôs make an aggregator ‚Äù( <a href="http://www.forbes.ru/kompanii/internet-telekom-i-media/267611-galina-timchenko-nikto-iz-nas-ne-mechtaet-delat-kolokol">Forbes interview</a> ) </blockquote><br><p> <a href=""><img src="https://habrastorage.org/files/c5a/fcf/3b2/c5afcf3b291a4a2aaa82fec73e5b0013.png"></a> <br>  (this is not just KDPV, but the top 35 media by the number of news items listed as sources on the Meduza website, including its own) </p><br><p>  We concretize and formalize the questions: </p><br><ul><li>  <strong>Q <sub>1</sub> :</strong> What are the key sources of the news feed? </li></ul><br><p>  In other words, can we select a small number of sources that sufficiently cover the entire news feed? </p><br><ul><li>  <strong>Q <sub>2</sub> :</strong> Is there some kind of simple and interpretable structure on them? </li></ul><br><p>  Simply put, can we cluster sources into meaningful groups? </p><br><ul><li>  <strong>Q <sub>3</sub> :</strong> Is it possible to determine the general parameters of the aggregator by this structure? </li></ul><a name="habracut"></a><br><p>  General parameters here are values ‚Äã‚Äãsuch as the amount of news in time. </p><br><h1>  What is the source? </h1><br><p>  Each news item on the site has a specified source, marked as an example in red below. </p><br><p> <a href=""><img src="https://habrastorage.org/files/063/f88/c44/063f88c4441c43d289b8f7988fa16747.png"><br></a> <br></p><br><p>  This parameter will be of particular interest to us today.  For the analysis, we need to collect meta-data on all the news.  To do this, Meduza has an internal API that can be used for its needs - the query below will return the 10 latest Russian-language news: </p><br><p><code>https://meduza.io/api/v3/search?chrono=news&amp;page=0&amp;per_page=10&amp;locale=ru</code> </p> <br><p>  Based on <a href="https://habrahabr.ru/post/283058">this Habra article</a> with a brief description of the API and similar requests, we get the code for downloading data </p><br><div class="spoiler">  <b class="spoiler_title">Parsim and download posts from Meduza.io through their API</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> tqdm <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tqdm stream = <span class="hljs-string"><span class="hljs-string">'https://meduza.io/api/v3/search?chrono=news&amp;page={page}&amp;per_page=30&amp;locale=ru'</span></span> social = <span class="hljs-string"><span class="hljs-string">'https://meduza.io/api/v3/social'</span></span> user_agent = <span class="hljs-string"><span class="hljs-string">'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.3411.123 YaBrowser/16.2.0.2314 Safari/537.36'</span></span> headers = {<span class="hljs-string"><span class="hljs-string">'User-Agent'</span></span> : user_agent } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_page_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(page)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#   ans = requests.get(stream.format(page = page), headers=headers).json() #     ans_social = requests.get(social, params = {'links' : json.dumps(ans['collection'])}, headers=headers).json() documents = ans['documents'] for url, data in documents.items(): try: data['social'] = ans_social[url]['stats'] except KeyError: continue with open('dump/page{pagenum:03d}_{timestamp}.json'.format(pagenum = page, timestamp = int(time.time())), 'w', encoding='utf-8') as f: json.dump(documents, f, indent=2) for i in tqdm(range(25000)): get_page_data(i)</span></span></code> </pre> </div></div><br><p>  An example of what the data looks like to study: </p><br><div class="spoiler">  <b class="spoiler_title">An example of the meta data of one of the news items</b> <div class="spoiler_text"><pre> <code class="hljs javascript">affiliate <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> authors [] bg_image <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> chapters_count <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> chat <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> document_type news document_urls <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> full False full_width False fun_type <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> hide_header <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> image <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> keywords <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> layout_url <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> live_on <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> locale ru modified_at <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> one_picture <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> prefs <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> pub_date <span class="hljs-number"><span class="hljs-number">2015</span></span><span class="hljs-number"><span class="hljs-number">-10</span></span><span class="hljs-number"><span class="hljs-number">-23</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> published_at <span class="hljs-number"><span class="hljs-number">1445601270</span></span> pushed False second_title <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> share_message <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> social {<span class="hljs-string"><span class="hljs-string">'tw'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'vk'</span></span>: <span class="hljs-number"><span class="hljs-number">148</span></span>, <span class="hljs-string"><span class="hljs-string">'reactions'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'fb'</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>} source  sponsored <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> sponsored_card <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> table_of_contents <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> tag {<span class="hljs-string"><span class="hljs-string">'name'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'path'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>} thesis <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> title       topic <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> updated_at <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> url news/<span class="hljs-number"><span class="hljs-number">2015</span></span>/<span class="hljs-number"><span class="hljs-number">10</span></span>/<span class="hljs-number"><span class="hljs-number">23</span></span>/rostrud-ob-yavil-o-prekraschen... version <span class="hljs-number"><span class="hljs-number">2</span></span> vk_share_image /image/share_images/<span class="hljs-number"><span class="hljs-number">16851</span></span>_vk.png?<span class="hljs-number"><span class="hljs-number">1445601291</span></span> webview_url <span class="hljs-literal"><span class="hljs-literal">NaN</span></span> with_banners True fb <span class="hljs-number"><span class="hljs-number">4</span></span> reactions <span class="hljs-number"><span class="hljs-number">0</span></span> tw <span class="hljs-number"><span class="hljs-number">0</span></span> vk <span class="hljs-number"><span class="hljs-number">148</span></span> trust <span class="hljs-number"><span class="hljs-number">3</span></span> Name: news/<span class="hljs-number"><span class="hljs-number">2015</span></span>/<span class="hljs-number"><span class="hljs-number">10</span></span>/<span class="hljs-number"><span class="hljs-number">23</span></span>/rostrud-ob-yavil-o-prekraschenii-rosta-bezrabotitsy, <span class="hljs-attr"><span class="hljs-attr">dtype</span></span>: object</code> </pre> </div></div><br><p>  Data for the article was collected in mid-July 2016 and available <a href="https://github.com/SergeyParamonov/datasets">here</a> {git}. </p><br><h1>  Document types and source reliability </h1><br><p>  Let's start with the following simple question: what is the share of news among all the available documents and what type of distribution of document types does it have? </p><br><p> <a href=""><img src="https://habrastorage.org/files/94a/19e/004/94a19e00476b4c568382e83a35666d91.png"></a> </p><br><p>  From this distribution it can be seen (for convenience, here is a tabular representation of this distribution below) that news makes up about 74% of all documents. </p><br><div class="spoiler">  <b class="spoiler_title">The distribution is in the form of a table.</b> <div class="spoiler_text"><p> <a href=""><img width="300" src="https://habrastorage.org/files/4fa/2ef/e71/4fa2efe71a984ee7bcc2ade02133f787.png"><br></a> </p></div></div><br><p>  Next, we focus on the news and, as an illustration, consider the ‚Äúsource reliability‚Äù parameter, applicable only to news: </p><br><p> <a href=""><img width="400" src="https://habrastorage.org/files/571/f07/895/571f078958304311954658e3d9b9f716.png"><br></a> </p><br><p>  As we see, virtually all news falls into the category of "reliable source" or "requires confirmation." </p><br><h1>  Analysis and clustering of sources </h1><br><p>  On the very first graph (at the beginning of the article) we see that a significant contribution is made by several top sources.  Let's take the sources, which account for about 100 links and try to find a structure on them. </p><br><p> <a href=""><img src="https://habrastorage.org/files/b5d/80a/614/b5d80a614e0f48ef8ea415b3584f35c3.png"><br></a> <br>  (the dimensions of the vertex and the arcs are proportional to the number of links) </p><br><p>  Of course, the number of clusters and the partition itself may be different and in many respects here is subjective. </p><br><p>  From the chart above, we see that the largest contribution is made by Russian news agencies ~ 30% of all news, followed by business media with ~ 11.5%, then English-language media transfers ~ 8.5% and world news agencies ~ 3.5%.  Together, these four clusters cover most of the news (50% +).  The remaining clusters &lt;3%.  Author's material (source: Meduza itself) is about 5%. </p><br><h1>  Analysis of the total number of publications </h1><br><p>  It is also interesting: how much the amount of news from various sources is comparable in time and whether we can take the top (for example, the top 10) and evaluate the general trend for the entire amount of news. </p><br><p>  We see that only TASS and Interfax are quantitatively significantly different from the rest of the top, the other sources are quantitatively quite close to each other. <br> <a href=""><img src="https://habrastorage.org/files/4f3/0d0/4b6/4f30d04b694747f3ab9d94f4f13f83b1.png"><br></a> </p><br><p>  If we add the top 10 and the total number of news, we note that the first well approximates the second, that is, the number of news in the top 10 gives a good idea of ‚Äã‚Äãthe total number of news. <br> <a href=""><img src="https://habrastorage.org/files/24f/2b1/cab/24f2b1cabd6549cda0f058db447b2fae.png"><br></a> </p><br><h1>  Comparison with Medialogy </h1><br><p>  The data and graphics in this part are taken <a href="https://vk.com/medialogia">from here</a> . </p><br><p>  It is interesting to look at how such a sample correlates with the overall ratings of quoted news on the network.  Consider the available data medialogiya for May 2016: </p><br><p> <a href=""><img height="500" src="https://habrastorage.org/files/6df/23f/219/6df23f2191464d33923252c979994ad5.jpg"></a> </p><br><p>  In general, we see that the troika is presented in the top just as well, although in a different order (which is quite natural, the aggregator may not necessarily deliver high-cited news to itself, for example, because it may consider it viral and unworthy of significant attention , or attributable to an unreliable source - which is consistent with the distribution of news reliability). </p><br><div class="spoiler">  <b class="spoiler_title">Also sites and magazines</b> <div class="spoiler_text"><p> <a href=""><img height="500" src="https://habrastorage.org/files/621/fb8/5da/621fb85daac3418582ab2a26ce55920f.jpg"></a> </p><br><p> <a href=""><img height="500" src="https://habrastorage.org/files/064/1ea/c6d/0641eac6dca4455199cdb8e172eb06a7.jpg"></a> </p></div></div><br><h1>  Conclusions and reference to data </h1><br><p>  Tezisno, conclusions on the issues at hand: </p><br><ul><li><p>  <strong>Q <sub>1</sub> :</strong> Top 10-15 news sources constituting the majority of news: Russian news agencies and business media, as well as translations of well-known international news agencies and media (more than half of all news) - see the first chart. </p><br></li><li><p>  <strong>Q <sub>2</sub> :</strong> Seven clusters are identified on top sources: the four key sources listed above ( <strong>Q <sub>1</sub></strong> ) cover most of the top sources and most of the news themselves - see the chart in the section ‚ÄúAnalysis and Clustering of Sources‚Äù. </p><br></li><li>  <strong>Q <sub>3</sub> :</strong> Top 10 sources allow you to assess the overall trend in the number of news aggregator over time - see the graph in the "Analysis of the total number of publications" section. </li></ul><br><p>  Data (relevance - mid July 2016) are available in the <a href="https://github.com/SergeyParamonov/datasets">git repository</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/305546/">https://habr.com/ru/post/305546/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305530/index.html">Linux kernel module on Swift</a></li>
<li><a href="../305532/index.html">Sort warnings of static analyzers by priority when searching for and fixing program errors</a></li>
<li><a href="../305534/index.html">Clojure course materials</a></li>
<li><a href="../305536/index.html">Rust code is included in Firefox 48</a></li>
<li><a href="../305544/index.html">Expansion of functionality Scene View in Unity3D. Interception of events</a></li>
<li><a href="../305548/index.html">Fighting BEM: 10 major mistakes and how to avoid them</a></li>
<li><a href="../305550/index.html">TP-LINK lost the right to the domain used to configure routers and amplifiers</a></li>
<li><a href="../305556/index.html">9 ways to split your work so as to maintain concentration and productivity</a></li>
<li><a href="../305558/index.html">Vectorization of coordinate transformation code in space on Intel¬Æ Xeon Phi ‚Ñ¢ using low-level instructions</a></li>
<li><a href="../305560/index.html">Steve Wozniak - an enthusiast who changed the world of personal computers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>