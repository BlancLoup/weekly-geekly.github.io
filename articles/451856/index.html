<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Install openmeetings 5.0.0-M1. WEB-conferences without Flash</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear Habravchane and guests of the portal! 

 Not so long ago, I needed to raise a small server for video conferencing. Not so many op...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Install openmeetings 5.0.0-M1. WEB-conferences without Flash</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, dear Habravchane and guests of the portal! <br><br>  Not so long ago, I needed to raise a small server for video conferencing.  Not so many options were considered - BBB and Openmeetings, because  only they responded in terms of functionality: <br><br><ol><li>  Is free </li><li>  Demonstration of the desktop, documents, etc. </li><li>  Interactive work with users (common board, chat, etc.) </li><li>  No additional software is required for customers </li></ol><br>  I started with the BBB ... well, it didn‚Äôt actually grow together ... The first is the requirement of real iron, because  on the virtual do not guarantee performance;  The second is resource consumption.  Yes, a good picture and excellent sound, but for my tasks it is not comparable with the resources consumed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Began to try openmeetings.  As an amateur of verified by other users and stable releases, I installed the latest stable release 4.0.8 (we will not consider this process here).  All is well, except that he is on FLASH.  Well, if so, he refused to work in chrome, went to Fox ... but this contradicts clause 4, since  Not everyone uses FF and not everyone likes it.  I managed to get upset when I saw that version 5.0.0-M1 was declared without FLASH!  Here it all began.  I will say right away, it didn‚Äôt work for me to start everything right away, about 2 weeks, 1-2 hours a day, it took me to a full launch. <br><br>  And so, I put on ubuntu 18.0.4-LTS. Requirements: <br><a name="habracut"></a><br><ul><li>  JRE 8 </li><li>  Kurento Media server </li></ul><br>  Let's start with JRE8.  By default, the repositories are set to 11, so we will add to the repositories, and then we will start the installation of the version we need: <br><br><pre><code class="bash hljs">sudo add-apt-repository ppa:webupd8team/java sudo apt-get update sudo apt-get install oracle-java8-installer</code> </pre> <br>  After installation, you must specify the default running version of Java: <br><br><pre> <code class="bash hljs">sudo apt-get install oracle-java8-set-default</code> </pre> <br>  check version <br><br><pre> <code class="bash hljs">java -version</code> </pre> <br>  must issue <br><br><pre> <code class="bash hljs">java version <span class="hljs-string"><span class="hljs-string">"1.8.0_201"</span></span> Java(TM) SE Runtime Environment (build 1.8.0_201-b09) Java HotSpot(TM) 64-Bit Server VM (build 25.201-b09, mixed mode)</code> </pre> <br>  now it is necessary to set home directories. <br><br><pre> <code class="bash hljs">cat &gt;&gt; /etc/environment &lt;&lt;EOL JAVA_HOME=/usr/lib/jvm/java-8-oracle JRE_HOME=/usr/lib/jvm/java-8-oracle/jre EOL</code> </pre> <br>  For normal operation of video / audio streams need Kurento Media server (KMS).  The options for setting it are different, I used the Docker option.  The installation and configuration of Docker is not included in this article, the benefit of the Internet is full of information.  And so, we run KMS <br><br><pre> <code class="bash hljs">docker run -d --name kms -p 8888:8888 kurento/kurento-media-server:latest</code> </pre> <br>  Now we proceed to the installation of related components: <br>  <b>MySQL</b> - OM has a built-in database, but it is not recommended to use it in the combat version.  We put any convenient version of you.  Suitable from standard repositories. <br><br><pre> <code class="bash hljs">sudo apt-get install mysql</code> </pre> <br>  To connect Java to MySQL, you need to <a href="http://www.mysql.com/downloads/connector/j/">download the connector</a> and put it in the / webapps / openmeetings / WEB-INF / lib / folder.  The MySQL connection configuration is in the /webapps/openmeetings/WEB-INF/classes/META-INF/mysql_persistence.xml file <br>  <b>ImageMagick</b> - Need for a common board, demonstration of documents and images.  also take from the standard turnips. <br><br><pre> <code class="bash hljs">sudo apt-get install imagemagick</code> </pre> <br>  <b>GhostScript</b> - if we want to work with pdf, nowhere without it.  Repositories are also standard. <br>  <b>OpenOffice</b> or <b>Libre Office</b> - for outputting all office document formats ... <br>  <b>FFMpeg</b> and <b>SoX</b> - for recording video conferencing in various formats.  Version must be 10.3 or newer. <br><br><pre> <code class="bash hljs">sudo apt install ffmpeg sudo apt-get install sox</code> </pre> <br>  Well, now we are ready to download openmeetings itself. <br>  <a href="https://openmeetings.apache.org/downloads.html">https://openmeetings.apache.org/downloads.html</a> <br>  Download, unpacked in the folder we need. <br><br>  It seems that everything is ready for launch (especially if you follow the <a href="https://openmeetings.apache.org/installation.html">official instructions</a> ), but there is this kind of link <a href="https://localhost:5443/openmeetings/install">https: // localhost: 5443 / openmeetings / install</a> .  If you pay attention to https and port 5443, we understand that nothing will come of it.  Of course, you can run the script ./bin/startup.sh and start the server.  You can even go to it and configure it via the link <a href="http://localhost:5080/openmeetings/install">http: // localhost: 5080 / openmeetings / install</a> , but this will not be normal work.  Now all browsers, and Chrome so especially, are fighting for the user's safety and working with the camera and microphone are only allowed via https.  Through FF, you will be able to log in and allow work with the camera, but this again binds us to one browser.  Therefore, we proceed to the installation and configuration of SSL.  You can make a certificate for the money, but you can do it yourself, the OM will not become worse from this. <br><br>  OM version 5.0.0-M1 is based on TomCat, not Apache.  The web server configuration is located in the ./conf/ folder.  I have already <a href="https://habr.com/ru/post/134453/">described</a> how to create a self-signed certificate and install it in TomCate. <br><br>  Well, https is configured, now go to the ./bin folder and run statup.sh and after starting the server go to the web installer <a href="https://localhost:5443/openmeetings/install">https: // localhost: 5443 / openmeetings / install</a> .  Here everything is already simple and intuitively EXCEPT the section ‚ÄúConverters‚Äù.  Here it is necessary to register the path to our additionally installed packages. <br><br><ol><li>  ImageMagick Path / usr / bin </li><li>  FFMPEG path / usr / bin </li><li>  SoX Path / usr / bin </li><li>  OpenOffice / LibreOffice Path for jodconverter / usr / lib / libreoffice (I set up libra) </li></ol><br>  Further, the settings are not complicated again. <br><br>  After the first login, we MUST go to ‚ÄúAdministration‚Äù -&gt; ‚ÄúConfiguration‚Äù, find the <b>path.ffmpeg</b> item and delete the value written to it ‚Äú/ usr / bin‚Äù.  Save the settings. <br><br>  Well, actually our VKS server is configured and ready to go. <br><br>  After restarting the server, you must start <br><br><ol><li>  database database (if you do not use the built-in Derby) </li><li>  KMS </li><li>  script statup.sh </li></ol><br>  You can manually but you can create startup scripts. <br><br>  To output "out" in the firewall, you must allow ports 5443,5080,8888 <br><br>  Enjoy using it! <br><br>  PS If the camera does not transmit the image and you do not see anyone except yourself, you need to add the domain and port to the exceptions in the exceptions.  If Casper is, then it works fine and skips everything (surprisingly!), But Avast and Windows built-in work hard.  will have to hemorrhage with settings. </div><p>Source: <a href="https://habr.com/ru/post/451856/">https://habr.com/ru/post/451856/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451842/index.html">About finding yourself</a></li>
<li><a href="../451848/index.html">Automation of management of Let's Encrypt SSL certificates using DNS-01 challenge and AWS</a></li>
<li><a href="../451850/index.html">"HumHub" - Russian-language replica of the social network in I2P</a></li>
<li><a href="../451852/index.html">Remote execution of arbitrary code in the RDP protocol</a></li>
<li><a href="../451854/index.html">Interview - 10 questions about Swift. Part 1</a></li>
<li><a href="../451858/index.html">Making a simple Spring-based Circuit Breaker</a></li>
<li><a href="../45186/index.html">Subtlely beautiful user experience</a></li>
<li><a href="../451860/index.html">Mathematicians have discovered the perfect way to multiply numbers.</a></li>
<li><a href="../451862/index.html">Joe Diprima's musical lightning: a self-taught engineer makes Tesla coils for fun and money</a></li>
<li><a href="../451864/index.html">Critical EternalBlue RCE vulnerability detected in Windows</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>