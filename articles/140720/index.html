<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Features of restoring / transferring FreeBSD to a host with a different hardware configuration</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="FreeBSD port 
 Specifically, we will discuss the most common problem in the transfer of BSD system 

 For professionals who know Linux, BSD systems ar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Features of restoring / transferring FreeBSD to a host with a different hardware configuration</h1><div class="post__text post__text-html js-mediator-article"><h4>  FreeBSD port </h4><br><h5>  Specifically, we will discuss the most common problem in the transfer of BSD system </h5><br><br>  For professionals who know Linux, BSD systems are understandable ‚Äúby analogy,‚Äù with the exception of some features.  About the features and talk. <br>  Yes, there is an excellent guide on FreeBSD on the official site, and even in Russian it is also there, but the point about which will be discussed is described far from the first page, but if the critical server ‚Äúfalls‚Äù, which was most recently approached back (or never), and it should be urgently raised on another host with a non-analogous configuration, then you can search for a long time. <br>  And at the same time, these are the basics, without studying of which it is impossible to go further. <br><br>  So, a practical task: transferring FreeBSD to another host (controllers may vary: IDE / Raid ISCI / VMware ESX / Citrix Xen). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  Everyone knows that if the hard drive with WinXP is transferred to another computer (similar), then most likely (~ 99%), the system will boot.  If the HDD controllers are incompatible, you can get a familiar BSOD.  A similar situation with Linux - there will be a black kernel panic.) <br>  There are a couple of interesting options with BSD. <br>  My first topic will be short, so I will consider only one of my "bad" option. <br><br>  Transferring "in the forehead" gives an error loading the root directory. <br>  What made it happen? <br>  a) The disk naming system has changed (the naming notation itself can be viewed in any BSD manual) <br>  b) The disk numbering system has also changed (In BSD, there is a difference in which IDE / Sata port you connected to the hard disk, and this <b>does not</b> depend on the arrangement in the BIOS loader) <br><br>  <i>(However, briefly about the necessary additional information:</i> <i><br></i>  <i>"Main section" - Slice - plot.</i>  <i>The abbreviation s1 is the first segment.</i>  <i>A partition in BSD is a segment within a region (‚ÄúWindows of the primary partition‚Äù).</i> <i><br></i>  <i>A section (analogous to a logical disk in Windows) has a special file, the naming of which is derived from the name of the section-slice by adding a letter (a, b, c, d, e, f ...).</i>  <i>Swap traditionally has the letter ‚Äúb‚Äù.</i>  <i>On a disk - a site no more than 4, sections no more than 8.</i> <i><br></i>  <i>Logical structure - Disk Label</i> <i><br></i>  <i>Disc structure description:</i> <i><br></i>  <i>/ etc / fstab</i> <i><br></i>  <i>Standard directory structure - partition name, mount point</i> <i><br></i>  <i>/ root (root directory, not a root folder)</i> <i><br></i>  <i>/ swap (2 (3) xRAM)</i> <i><br></i>  <i>/ tmp</i> <i><br></i>  <i>/ var</i> <i><br></i>  <i>/ usr)</i> <br><br>  Algorithm of the decision: <br>  1) Boot from a boot disk that supports the FreeBSD file system.  Suit frenzy. <br>  At boot time, we carefully look at the name of the detected old disk on our new hardware. <br>  Remember that our boot system can mount the found disk in the ‚Äúread only‚Äù mode, so we check it with the mount command, and if so, we will remount (unmount and mount again) in the normal mode. <br>  Next, we find the fstab file (responsible for mounting disks) and manually (vi, mc) rule the right one. <br>  Personally, in my case, strings like ad4s1a (... ad4s1f) (root directory /) and all the others needed to be renamed to da0s1a, (... da0s1fa), which corresponds to section 1 of a zero SCSI disk. <br>  In another case, the naming may change. <br>  Persist. <br>  Reboot. <br>  It should load. <br><br>  Next, you will find a test of the network, software, possible reassembly of ports, etc., but this question is next ... </div><p>Source: <a href="https://habr.com/ru/post/140720/">https://habr.com/ru/post/140720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140715/index.html">Introduction to CSS3 Grid Layout. We work with nets</a></li>
<li><a href="../140716/index.html">Skype 5.5 decrypted for reverse engineering</a></li>
<li><a href="../140717/index.html">Speech Synthesis through Microsoft Translator for Asterisk</a></li>
<li><a href="../140718/index.html">Runet Today, March 26, 2012. Experts of the issue: Pavel Cherkashin, Askar Tuganbayev</a></li>
<li><a href="../140719/index.html">Reactive programming</a></li>
<li><a href="../140721/index.html">Packet Compression and Open Source C # Client Protection</a></li>
<li><a href="../140722/index.html">Is there a community on the site and in social networks? Cat analogy</a></li>
<li><a href="../140723/index.html">New Notepad ++ 6.0</a></li>
<li><a href="../140725/index.html">Android Overview of combat applications</a></li>
<li><a href="../140726/index.html">Comparison of hardware IP-ATC with cloud solutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>