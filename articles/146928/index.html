<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to create a business intelligence system and do not break the wood</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To make business decisions correctly, it is necessary to have the most complete and detailed information on the state of affairs in the company. But o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to create a business intelligence system and do not break the wood</h1><div class="post__text post__text-html js-mediator-article">  To make business decisions correctly, it is necessary to have the most complete and detailed information on the state of affairs in the company.  But often this information is limited to annual and quarterly reports. <br><br>  This is certainly not enough.  For effective analysis, enterprises often implement business intelligence systems (English business intelligence, hereinafter - BI-systems).  Today we want to share a few tips that can help you create a BI system in your company (and that would help us a year ago). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/d1e/3a0/929/d1e3a09291de6cd950537d72b7898542.png"></div><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Design </h2><br><h4>  Keep the original data, not the cuts on them </h4><br>  You should never hope that there will be enough fixed schedules and reports.  On the contrary, managers will ask you to build more detailed graphs.  And there will be a lot of refinements. <br><br>  For example, we received a request about how much money was spent by single heterosexuals from California under the age of 25 years for each month of the previous year.  To be ready to answer this question, we need to have at hand not only a table with full user profiles, but also a table with their payments. <br><br><h4>  Analyze raw data, not ready slices </h4><br>  Try to analyze the raw data.  Do not pre-aggregate.  Remember: as soon as you do data aggregation, you lose information. <br><br>  For example, you need to get statistics on the number of new contacts per day for New Yorkers.  If you make an analysis of the data itself, you can confirm the results with specific examples: who, when and with whom. <br><br><h4>  Forget the ‚ÄúNot Invented Here‚Äù syndrome </h4><br>  Remember that you are not the first to create a BI system.  And for many tasks ready solutions already exist.  Therefore, much of the development can simply be reduced to collecting data and configuring analysis programs. <br><br>  Today Badoo uses the Vectorwise column database and Pentaho's analytical frontend.  Thus, almost everything comes down to loading data into the database. <br><br><h4>  Remember customers </h4><br>  The system that you design will be used by ordinary managers, in whom the words ‚Äúfirst time derivative‚Äù can cause unbearable heartburn.  The interface to the data should be extremely simple and unambiguous.  That is why you should not reinvent the interface.  It is better to see what has been invented before you. <br><br>  Many BI tools have demo pages where you can look at a specific tool in action.  It is advisable to ask future users of the BI system to evaluate how clear this or that tool is to them. <br><br><h4>  Do not delay the creation of a BI-system </h4><br>  Designing, developing and implementing a BI system is a rather long and complicated process.  This is the case when 9 women will not be able to have a baby in one month.  The implementation of the BI system in Badoo has not yet been completed, but the first significant results were achieved just about 9 months after the start.  The BI team included 3 people plus 1 consultant. <br><br><h2>  Development </h2><br><h4>  Collect data asynchronously </h4><br>  If you want to start collecting data about user behavior, then do it asynchronously.  You can write to the logs, you can write in Scribe.  Remember that the collection of data about the object should be carried out without any noticeable interference with the behavior of this object.  And in principle, problems in the BI system should not affect the object under study. <br><br>  When developing an infrastructure for collecting information about user behavior, we knew about the large amount of data being processed.  And all this data was necessary to collect in one data warehouse.  Of course, any problems in the work of this repository should be invisible to users of the site.  Therefore, it was decided to write the primary data to the logs, and only then transfer them to the storage with a separate background script.  In the future, the logs and parsers were replaced by the Scribe service. <br><br><h4>  Forget normalization </h4><br>  Do not be afraid to "denormalize" the data.  So, if you have a table with users and a table with their payments, you may find the table with user-payment pairs (the result of joining two tables) useful.  On the one hand, you get hard data duplication.  On the other hand, instead of the complex ‚Äújoin‚Äù operation for each request, you will get a simpler operation for calculating unique values. <br><br>  As an example of the effectiveness of working with the said table, take a request that will give out the amount of money spent by women and men last year: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sum</span></span>(money), gender <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> UserPayment <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> gender <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-string"><span class="hljs-string">'M'</span></span>,<span class="hljs-string"><span class="hljs-string">'F'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">year</span></span>(payment_date) = <span class="hljs-keyword"><span class="hljs-keyword">year</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">now</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><br>  This query can be easily "parallelized", since all that the DBMS needs to do to execute it is to process the table in one pass. <br><br><h4>  Watch data streams </h4><br>  Be sure to draw for yourself a data movement scheme in the system.  Make sure that there are no cycles (feedback). <br><br>  Do not allow the objects under study to receive information from the BI system.  For example, the manager after analyzing the data decides to send a reminder by mail to a specific group of users.  Directly the list of recipients should not be formed in the BI-system. <br><br><h2>  Implementation </h2><br><h4>  Check the collected data </h4><br>  When introducing a BI system, it is necessary to check the incoming data, and this should be done very carefully.  For example, if you get the parameters of the system users, be sure to check the distribution of registration dates, birthdays, etc.  Ideally, you should check the distribution of values ‚Äã‚Äãin each column or even in pairs of columns. <br><br>  Often when adding new data there is a situation when the value of the column in all rows is the same.  Almost always the cause is the human factor - the developer simply forgot about this column. <br><br><h4>  Superfluous data does not happen, there are repetitions </h4><br>  When you look at what data you need to import into the system, remember that there is no unnecessary data.  There are repetitions of data.  And now you need to treat the repetitions with suspicion.  It is better to take additional data and make sure that you have the same values ‚Äã‚Äãthan to opt out of repeats in advance.  This helps to identify errors in the systems. <br><br>  This is how many bugs were fixed in the process of introducing the BI system into Badoo.  These were errors in user profiles, errors in city data, and even a few errors in financial data. <br><br><h4>  Do not strive for 100% compliance. </h4><br>  Comparing and comparing data from different sources, do not pursue 100% match.  If you have reached a 95% match, this is likely already enough.  You are still not designing an accounting system, when you have to follow every penny. <br><br>  Very often, data discrepancies are caused by objective reasons, such as time out-of-sync.  For example, the time of registration of payment in its own "billing" and in the payment system.  The time difference of 1 second on December 31 may lead to the fact that the same payment will be dated by different years. <br><br><h2>  Conclusion </h2><br>  These tips are not universal, for each of them you can find an exception.  No need to perceive them as absolute truth.  On the contrary, the more counter-examples you can bring, the better you will understand the essence of these rules.  And if you have specific questions, we will try to answer them. <br><br>  <i>Alexey <a href="http://habrahabr.ru/users/alexxz/" class="user_link">alexxz</a> Eremihin, developer of Badoo.</i> </div><p>Source: <a href="https://habr.com/ru/post/146928/">https://habr.com/ru/post/146928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146921/index.html">Intellectual video gadget OViVO will appear on the market in July</a></li>
<li><a href="../146922/index.html">UDP and response delivery problem</a></li>
<li><a href="../146924/index.html">Car Navigator Lexand ST 5650 Pro HD</a></li>
<li><a href="../146925/index.html">The blogger is trying to sue Yandex 10 million for poor indexing</a></li>
<li><a href="../146927/index.html">Algorithm for an IT interview</a></li>
<li><a href="../146929/index.html">App-blog Tanya Misyutinoy</a></li>
<li><a href="../146930/index.html">Sony Xperia go went on sale in Russia</a></li>
<li><a href="../146931/index.html">Nokia: Plan B in case of a WP failure</a></li>
<li><a href="../146932/index.html">Ubuntu 12.04 unofficial builds with GNOME Shell and Classic interfaces are available for download.</a></li>
<li><a href="../146933/index.html">Do you get paid enough? (opinion of programmers)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>