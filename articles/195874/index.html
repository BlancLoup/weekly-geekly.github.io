<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Petrovich declines Russian names</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Do you often have to deal with declining usernames in Russian? When sending letters, when displaying pages and mentions, when generating advertisement...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Petrovich declines Russian names</h1><div class="post__text post__text-html js-mediator-article">  Do you often have to deal with declining usernames in Russian?  When sending letters, when displaying pages and mentions, when generating advertisements?  Most likely, you have to dodge and write all the messages in the nominative case - <i>Ivanov Petr Sergeevich</i> . <br><br>  It is not always convenient, not always beautiful, not always appropriate.  The Russian language is endowed with a rich morphology, which somewhat complicates its automatic processing.  Everyone knows that <i>anthroponyms</i> , as nouns rely on, obey all the rules of word formation. <br><br>  To solve this problem when using Ruby, there is <b>Petrovich</b> , a convenient lightweight library for <i>automagical</i> declination of Russian names, surnames and patronymic names. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/714/8e1/16d/7148e116d1e71ac6cea7266531d042c5.gif"><br><a name="habracut"></a><br><h4>  The essence </h4><br>  The Petrovich algorithm is based on the manual derivation rule base.  It will be very easy for an application programmer to work with the library: the input is a word in <abbr title="The nominative case, the singular.">canonical form</abbr> , the output is the word of the requested kind and case. <br><br><h4>  Using </h4><br>  The basic syntax is simple enough to understand. <br><br><pre><code class="ruby hljs">petrovich = Petrovich.new(<span class="hljs-symbol"><span class="hljs-symbol">:male</span></span>) petrovich.lastname(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:dative</span></span>) <span class="hljs-comment"><span class="hljs-comment"># =&gt;  petrovich.firstname('', :dative) # =&gt;  petrovich.middlename('', :dative) # =&gt; </span></span></code> </pre> <br>  As you can see, there are two parameters that describe the behavior of the analyzer: the floor is passed to the constructor of the <code>Petrovich</code> class, the case is passed to the second parameter of the declination method. <br><br>  First, the gender of the name.  Petrovich considers three options: <br><ul><li>  male gender <code>:male</code> ; </li><li>  female, <code>:female</code> ; </li><li>  ‚ÄúAndrogynous‚Äù gender <code>:androgynous</code> , in which the shape of the last name does not depend on the gender of the person.  For example, <i>Prokopenko</i> . </li></ul><br>  Secondly, the required case.  Valid cases that change the word are described below in the table. <br><table><tbody><tr><th>  Death case </th><th>  Characterizing question </th><th>  Designation </th></tr><tr><td>  Genitive </td><td>  Whom?  What? </td><td> <code>genitive</code> </td> </tr><tr><td>  Dative </td><td>  To whom?  What </td><td> <code>dative</code> </td> </tr><tr><td>  Accusative </td><td>  Whom?  What? </td><td> <code>accusative</code> </td> </tr><tr><td>  Instrumental </td><td>  By whom?  Than? </td><td> <code>instrumental</code> </td> </tr><tr><td>  Prepositional </td><td>  About whom?  About what? </td><td> <code>prepositional</code> </td> </tr></tbody></table>  It is possible to mix the module <code>Petrovich::Extension</code> into any class.  This is especially useful when using ActiveRecord and similar ORM. <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> &lt; ActiveRecord::Base </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Petrovich::Extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">petrovich</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">firstname</span></span></span><span class="hljs-class"> =&gt; :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_firstname</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">middlename</span></span></span><span class="hljs-class"> =&gt; :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_middlename</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lastname</span></span></span><span class="hljs-class"> =&gt; :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_lastname</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">gender</span></span></span><span class="hljs-class"> =&gt; :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_gender</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_firstname</span></span></span><span class="hljs-class"> '' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_middlename</span></span></span><span class="hljs-class"> '' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_lastname</span></span></span><span class="hljs-class"> '--' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#     ,    #    .      , #        . def my_gender :male # :male, :female  :androgynous end end</span></span></span></span></code> </pre><br>  Using the <code>petrovich</code> method, methods representing the last name, first name and patronymic are indicated.  In this example, it is indicated that the method <code>my_firstname</code> represents the name, the method <code>my_lastname</code> represents the last name, the method <code>my_middlename</code> represents the middle name.  Nothing prevents the module from being mixed into a regular class; everything will work just as well.  Methods with the cases described in the table will be added to the target class. <br><br><pre> <code class="ruby hljs">user = User.new user.my_firstname <span class="hljs-comment"><span class="hljs-comment"># =&gt;  user.my_firstname_genitive # =&gt;  user.my_middlename_genitive # =&gt;  user.my_lastname_genitive # =&gt; --</span></span></code> </pre><br>  Some features of Russian spelling are taken into account quite well. <br><br><h4>  Accuracy rating </h4><br>  For the sake of decency, an assessment was made of the accuracy of the declension of words.  As a reference, a list of surnames and their forms was taken from the <a href="http://seman.svn.sourceforge.net/viewvc/seman/trunk/Docs/Morph_UNIX.txt%3Frevision%3DHEAD%26view%3Dmarkup">AOT morphological dictionary</a> .  Accuracy was evaluated based on processing 88,314 examples using the formula <br><br><img src="https://habrastorage.org/getpro/habr/post_images/16c/203/5a7/16c2035a74f3a5627071b66bd5b63c91.png">  , <br><br>  where <i>case</i> is a case, <i>gender</i> is a gender, <i>V <sub>case, gender</sub></i> is the number of correct inflection for the specified case and gender, <i>N <sub>case, gender</sub></i> is the total number of examples for the specified case and gender. <br><br>  At the time of this writing, an average accuracy of 99.6614% is observed based on processing 88,314 examples.  Details are given in the table below.  This information may be useful when using Petrovich in combat. <br><table><tbody><tr><td>  Gender / Case </td><th>  Genitive </th><th>  Dative </th><th>  Accusative </th><th>  Instrumental </th><th>  Prepositional </th></tr><tr><th>  Male </th><td>  99.7137% </td><td>  99.7386% </td><td>  99.7635% </td><td>  97.9858% </td><td>  99.7261% </td></tr><tr><th>  Female </th><td>  99.9102% </td><td>  99.9401% </td><td>  99.9701% </td><td>  99.4636% </td><td>  99.9401% </td></tr></tbody></table><h4>  Requisites </h4><br>  The repository on GitHub is located at <a href="https://github.com/petrovich/petrovich-ruby">petrovich / petrovich-ruby</a> .  The library is distributed under the MIT License.  The authors of the library are <a href="https://github.com/tanraya">Andrei Kozlov</a> ( <a href="https://habrahabr.ru/users/bonch/" class="user_link">Bonch</a> ) and <a href="https://linkedin.com/in/ustalov">Dmitry Ustalov</a> ( <a href="https://habrahabr.ru/users/dustalov/" class="user_link">dustalov</a> ). <br><br>  To install Petrovich and use it in your own applications, just run <code>gem install petrovich</code> or add the appropriate line in the <i>Gemfile</i> . <br><br><h4>  Web interface </h4><br>  It's nice that <a href="http://sitnik.ru/">Andrei Sitnik</a> ( <a href="https://habrahabr.ru/users/iskin/" class="user_link">Iskin</a> ) from Evil Martians made a cool interface that allows you to play with Petrovich directly from the browser. <br><br> <a href="http://petrovich.nlpub.ru/"><img src="https://habrastorage.org/getpro/habr/post_images/9ac/1fc/64e/9ac1fc64e924b0261dee99a61c4fa984.png"></a> <br><br>  Currently, the interface is available at <a href="http://petrovich.nlpub.ru/">http://petrovich.nlpub.ru/</a> . <br><br><h4>  Porting </h4><br>  It would be great if developers working with other programming languages ‚Äã‚Äãwould have ported this library to their languages.  We are happy to answer any questions about Petrovich.  In general, you can start porting with our <a href="">rule base</a> . <br><br>  Thank you for reading to the end! <br><br>  <i>The illustrations with Petrovich belong to Andrei Bilzho, the author of <a href="http://petrovich.ru/">comics about Petrovich</a> .</i> </div><p>Source: <a href="https://habr.com/ru/post/195874/">https://habr.com/ru/post/195874/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../195862/index.html">Can we weave new electronics from the web covered with nanotubes?</a></li>
<li><a href="../195864/index.html">Hello World on Derby.js</a></li>
<li><a href="../195866/index.html">Caterham F1 Team & Dell @ Moscow City Racing 2013</a></li>
<li><a href="../195870/index.html">Introduction to Nashorn</a></li>
<li><a href="../195872/index.html">Google Play Music service is finally available in Russia</a></li>
<li><a href="../195876/index.html">A tale of how the Dell PowerEdge server Hurricane Sandy survived</a></li>
<li><a href="../195878/index.html">New Brief: Samsung announces new pixel CMOS technology - ISOCELL</a></li>
<li><a href="../195880/index.html">Google has released an HTML5 editor for web design.</a></li>
<li><a href="../195882/index.html">The development of taxonomy of creative expression through the conceptual apparatus of mathematical game theory</a></li>
<li><a href="../195884/index.html">Radiadic floor lamp or another "2 pennies" in the piggy bank of the "smart home"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>