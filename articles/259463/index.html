<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We calculate gamemasters characters in World of Warcraft using Python</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I once had a website for searching for twinks in World of Warcraft. Anyone could enter a nickname and get a list of characters on the same record (if ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We calculate gamemasters characters in World of Warcraft using Python</h1><div class="post__text post__text-html js-mediator-article">  I once had a website for searching for twinks in World of Warcraft.  Anyone could enter a nickname and get a list of characters on the same record (if the data were in the base of the site, of course). <br><br>  Then one day a visitor from Blizzard came to me: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a63/53d/0ab/a6353d0ab566660f791daf3d98d1505a.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      99% of people during the first visit are looking for themselves and their friends.  A visitor from France was no exception and left several characters in the log view, most likely belonging to the Blizzard employees (which was evident from the activity on the forum and other signs).  Of course, it became interesting to me how the characters of gamemasters differ from the characters of ordinary mortals and whether they differ at all. <br><a name="habracut"></a><br>  After viewing the achivok of these characters, it became clear that when they entered the new GM service, they were given a set of collection editions of all the Blizzard games.  After a closer examination, one detail <b>came to</b> light: <b>all the collections were received on the same day</b> (apparently, the approximate date of receipt for work). <br><br><img src="https://habrastorage.org/files/359/83c/697/35983c69719c4172939c42c379d8a0a4.png" alt="image"><br><br><h2>  We use API Battle.net </h2><br>  GMs receive all existing (as of the date of receipt) collectors - and, therefore, the very first, ‚Äúvanilla‚Äù.  It was released more than 10 years ago and today you can only get it on ebay for 2-3 thousand euros.  That is what we will use to search for other characters. <br><br>  We will search for characters who have such a pet (it is given as a bonus for activating a vanilla collection): <br><br><img src="https://habrastorage.org/files/4f8/cd7/898/4f8cd7898f8b4521971881e449f88d55.png" alt="image"><br><br>  Since the API does not provide direct access to the character lists, we will look for characters through an auction. <br><br><pre><code class="python hljs">realm = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-comment"><span class="hljs-comment"># ,      #      r = requests.get("http://eu.battle.net/api/wow/auction/data/%s" % realm) auction_dump_url = json.loads(r.text)["files"][0]["url"] #       auc_data = json.loads(requests.get(auction_dump_url).text) #   /  chars = {(lot["owner"], lot["ownerRealm"]) for lot in auc_data["auctions"]["auctions"]}</span></span></code> </pre> <br>  In this function, we determine whether the character is a potential hmus: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_gm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name, realm)</span></span></span><span class="hljs-function">:</span></span> r = requests.get(CHAR_API_URL.format(name=name, realm=realm)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> r.text.find(<span class="hljs-string"><span class="hljs-string">"Panda Cub"</span></span>) != <span class="hljs-number"><span class="hljs-number">-1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre><br>  Run the scan: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, realm <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> chars: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> is_gm(name, realm): print(<span class="hljs-string"><span class="hljs-string">" : %s %s"</span></span> % (name, realm)) time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Entire script code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time CHAR_API_URL = <span class="hljs-string"><span class="hljs-string">"http://eu.battle.net/api/wow/character/{realm}/{name}?fields=pets,guild"</span></span> <span class="hljs-comment"><span class="hljs-comment">#    ,      def is_gm(name, realm): r = requests.get(CHAR_API_URL.format(name=name, realm=realm)) if r.text.find("Panda Cub") != -1: return True realm = "" # ,      #      r = requests.get("http://eu.battle.net/api/wow/auction/data/%s" % realm) auction_dump_url = json.loads(r.text)["files"][0]["url"] #       auc_data = json.loads(requests.get(auction_dump_url).text) #   /  chars = {(lot["owner"], lot["ownerRealm"]) for lot in auc_data["auctions"]["auctions"]} #   for name, realm in chars: if is_gm(name, realm): print(" : %s %s" % (name, realm)) time.sleep(1)</span></span></code> </pre><br></div></div><br>  <i>Note: the script only searches for characters who put up lots at auction.</i>  <i>For broader coverage, you can also scan the guilds of each lot owner.</i> <br><br>  Then you need to look at other signs - how many collections were received in one day, their total number, and so on. <br>  Of course, not every character that meets the criteria belongs to GM.  This may be just a collector, for example. <br><br>  To display the results of the script created a simple website: <a href="http://wow-gm-track.website/">http://wow-gm-track.website</a> <br><br>  Of the interesting things: during the scanning process, entire nests were revealed - guilds, in which several <i>different</i> accounts belonging to (presumably) GMs at once.  For example: The <a href="http://eu.battle.net/wow/ru/guild/%25D0%25B0%25D0%25B7%25D1%2583%25D1%2580%25D0%25B5%25D0%25B3%25D0%25BE%25D1%2581/%25D0%2597%25D0%25BE%25D0%25B2_%25D0%2594%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BD%25D0%25B8%25D1%2585/roster%3Fsort%3Drank%26dir%3Da">Call of the Ancients</a> (6 pieces, including the head of the guild). <br><br>  And there are some statistics: as of today, 1.7 million characters have been scanned in Russian-speaking realms, 1306 characters have vanilla collectibles (0.07%), of which only 380 characters received at least 4 collectibles in one day (0.02% of the total ). </div><p>Source: <a href="https://habr.com/ru/post/259463/">https://habr.com/ru/post/259463/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259451/index.html">Why buy monsters? - The practice of domestic import substitution software</a></li>
<li><a href="../259453/index.html">STM32 training for the masses</a></li>
<li><a href="../259455/index.html">Attackers use Linux / Moose to compromise Linux-embedded systems, part 2</a></li>
<li><a href="../259457/index.html">How did jQuery start</a></li>
<li><a href="../259459/index.html">Understanding x64 support in WPE Pro</a></li>
<li><a href="../259465/index.html">Modeling objects for animation on Canvas</a></li>
<li><a href="../259467/index.html">How to write your NIF in Elixir</a></li>
<li><a href="../259469/index.html">Manage Windows computers from the Linux console</a></li>
<li><a href="../259471/index.html">API Jellyfish: write full text RSS</a></li>
<li><a href="../259473/index.html">Compass with PWM on the stm32f3discovery debug board</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>