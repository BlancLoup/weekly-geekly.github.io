<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Box Backup - hot backup.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Backup issues will never lose their relevance. This is something without which it is not possible to present any information structure. Today we will ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Box Backup - hot backup.</h1><div class="post__text post__text-html js-mediator-article"> Backup issues will never lose their relevance.  This is something without which it is not possible to present any information structure.  Today we will talk about on-line backup. <br><br><a name="habracut"></a><br>  <b>How do they do it ‚Äúusually‚Äù?</b> <br>  When they talk about creating backups of the existing information structure, scripts from cron, incremental archives, a powerful server with a huge disk array, a streamer and other external media recorders immediately come to mind.  Without all this, it is quite difficult to imagine a full-fledged backup system, although many still work somehow without backups at all.  I will not describe and prove the need to have ‚Äústrong rear‚Äù, because it is known to all. <br><br>  The above software and hardware components are designed to provide the ability to recover files if they are lost for one reason or another.  As a rule, the need for incremental backup is due to the huge amounts of information that is constantly changing and needs to be backed up. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You take as a basis one of the redundancy schemes, ADD the EXCESSABILITY you need in your opinion and put the obtained solution into operation.  Not the worst option would be the scheme below: <br><br>  ‚Ä¢ Once a month, a full backup of absolutely all files that need it is done. <br>  ‚Ä¢ Daily copying of the data changed for the current day. <br>  ‚Ä¢ All weekly data is copied weekly. <br>  ‚Ä¢ Once every two weeks, all files modified during this period are copied, or archives are combined in two weeks. <br>  ‚Ä¢ The pattern is repeated again until a new month arrives. <br><br>  You can store two weekly copies or one at a time, depending on your preferences or the standards adopted by your company.  The procedure for restoring files is the reverse of the procedure for their entry into the archive. <br><br>  ‚Ä¢ Restore the last monthly copy. <br>  ‚Ä¢ Restore two weekly copy. <br>  ‚Ä¢ Restore weekly copy. <br>  ‚Ä¢ Restore copies by day in the reverse order. <br><br>  Schemes similar to those described are used in many companies.  Using this scheme, you can be sure that all files will be restored at the time of the creation of the last "daily" copy.  With sufficiently large amounts of data (which is certainly not uncommon), you are forced to use external storage media and have the necessary amount of hard disk space to create at least one full copy.  (The condition is not mandatory, but greatly simplifies life.) <br><br>  This and similar to this scheme work in many companies for a very long time.  However, they have a number of significant drawbacks.  Among which: <br><br>  ‚Ä¢ Known issues when backing up "external" users.  You cannot force laptop users to leave their computers on at the office every day. <br>  ‚Ä¢ Backup security issues. <br>  ‚Ä¢ A relatively large amount of time to recover, as a single lost files, and large arrays. <br>  ‚Ä¢ The inconvenience of working with archives - the search time in the backup database can be very long. <br>  ‚Ä¢ Need for help from a system administrator to work with archives. <br><br>  Far from all the existing problems are listed, these are only those that I had to face.  Perhaps the solution you use is devoid of these shortcomings.  Perhaps your backup software package is purchased and meets all your requirements.  Perhaps you are satisfied with the existing order of affairs.  But I still try to convince you to pay attention to another principle of creating backups. <br><br>  <b>Online Backup Box Backup.</b> <br>  The system refers to the online backup.  Why does it have such a name? <br><br>  Unlike the scheme described above, hot backup is done ... constantly.  It is like replacing a failed server power supply without shutting it down.  (I think you have come across such computers or at least heard about them.) Creating a backup copy of the user's files occurs interactively as they change.  The scheme of work is simple: <br><br>  ‚Ä¢ At initial start-up, the system scans the directories indicated to it and transfers them to the archive.  Then monitors what is happening in the file system. <br>  ‚Ä¢ As it detects changed files, it transfers them to the archive. <br><br>  In other words, the most recent versions of files are always (!) In the backup.  In case of loss of data on the original system, you can safely and quickly restore them in full.  Is it tempting isn't it? <br><br>  Box Backup can work in a rather impressive list of OS: <br>  ‚Ä¢ OpenBSD; <br>  ‚Ä¢ Linux; <br>  ‚Ä¢ NetBSD; <br>  ‚Ä¢ FreeBSD; <br>  ‚Ä¢ Darwin / Mac OS X 10.5; <br>  ‚Ä¢ Cygwin (Windows) (client only); <br>  ‚Ä¢ Native Windows (client only); <br>  ‚Ä¢ Solaris. <br><br>  Some quite logical questions that arise when you first get acquainted with this system of hot backup.  I will try to answer the most obvious ones. <br><br>  ‚Ä¢ If the user deleted files, what will happen to the backup? <br>  ‚Ä¢ Permanent copying of files implies huge network traffic and a large server load backups.  How to solve this problem? <br>  ‚Ä¢ How is copying secured? <br>  ‚Ä¢ And if there are a lot of files, how much resources will the program need for the program to verify changes? <br><br>  <b>Removal procedure.</b> <br>  Files that have been deleted from the system actually do not disappear anywhere.  (I am not talking, of course, about the client computer.) In the backup, they are only marked as deleted.  A user (yes, a user, not a system administrator, but more on that later) can at any time ask the system to return a file deleted by mistake.  The archived data from the archive will disappear only when the allowable amount allocated for the reservation approaches the mark beyond which there is no choice - either to clear the marked files or to copy new ones. <br><br>  <b>Demanding of resources.</b> <br>  A large network load, as one would expect, can actually be observed only when creating an initial backup, when the system needs to transfer a large amount of data at a time.  However, the process priority (by default) of the Box Backup client is quite low and is calculated so as not to interfere with the overall operation of the computer.  It works in the background and does not bring discomfort from the ‚Äúthoughtfulness‚Äù of the system as a whole.  Subsequently, the system will need to transfer only new or modified files, and this is not so much traffic. <br><br>  <b>Backup security.</b> <br>  Ensuring security is not a lot of attention. <br><br>  ‚Ä¢ Client authorization on the server backups. <br>  ‚Ä¢ Data transfer security. <br>  ‚Ä¢ Data encryption. <br>  ‚Ä¢ Protection of the data structure. <br>  ‚Ä¢ Secure data storage. <br><br>  SSL is used to authenticate the client on the server side of the Box Backup system.  Every computer whose data needs to be backed up creates an SSL certificate that is signed on the server. <br><br>  TLS encryption is used to ensure a secure transmission medium.  Any operations between the client and the server occur over an encrypted channel.  This allows the backup system to be used even in an insecure environment without the fear that data can be intercepted. <br><br>  The security of files in backups is provided by encryption.  Each Box Backup client creates a unique key during configuration.  With this key, all transmitted files are encrypted.  And only having the key you can get access to the archive to view or restore files. <br><br>  Moreover, the backup server files are stored under unique numbers, not names.  Without knowing where a file is located, it is not possible to guess what it is.  However, even knowing that the file in front of you, you can not achieve anything.  After all, they are encrypted, and for access you need a key.  No passwords are required. <br><br>  <b>Installing the server part of Box Backup.</b> <br>  I will consider installing Box Backup on the example of the gentoo system.  Installation on other systems will differ in only a few details, which I will mention later. <br><br>  So, first install the server side of the system.  The ebuild Box Backup is in the standard ports tree, so we only need to use the standard installation procedure for packages on the gentoo system. <br><br>  #emerge -av boxbackup <br><br>  Please note that by default you will be asked to install an older version of the system - 0.09.  I would recommend to follow the tree of ports to the desired branch and install a newer version, as many corrections were made to it. <br><br>  #cd / usr / portage / app-backup / boxbackup <br>  #emerge -av boxbackup-0.10.ebuild <br><br>  Of course, you can make corrections to your /etc/portage/package.keywords, but I don‚Äôt see any reason to do it for the sake of one package (the system does not require other packages for its work). <br><br>  After the package build is complete, you can proceed with the configuration.  Here it is important to note one thing.  If your system does not have a raid controller for backup, but just several disks are used - Box Backup offers to create several directories that provide redundancy in case of disk errors. <br><br>  If the raid is installed, then you can safely refuse to use this structure. <br><br>  To use Box Backup's ‚Äúraid‚Äù, execute the following command: <br><br>  # raidfile-config / etc / boxbackup 2048 /raid/0.0 /raid/0.1 /ind/0.2 <br><br>  Or we will refuse its use by a command of other type: <br><br>  # raidfile-config / etc / boxbackup 2048 /raid/0.0 <br><br>  The list of parameters in this command: <br>  ‚Ä¢ / etc / boxbackup - directory where configuration files will be created.  (If you are installing the system not in gentoo linux, then by default use the / etc / box directory); <br>  ‚Ä¢ 2048 - block size of files; <br>  ‚Ä¢ /raid/0.0 and the rest are directories where backups will be stored directly.  These directories must be created by you.  They will not be created automatically. <br><br>  After the configuration file is ready, create a user from whom Box Backup will work. <br><br>  #useradd _bbstored <br><br>  And create the main system configuration file: <br><br>  # bbstored-config / etc / boxbackup hostname _bbstored <br><br>  Where: <br>  ‚Ä¢ / etc / boxbackup - directory of configuration files; <br>  ‚Ä¢ hostname - computer name; <br>  ‚Ä¢ _bbstored is the name of the user from whom the system is working. <br><br>  If you built the package yourself on another system, use the / etc / box directory for configuration files. <br><br>  Executing this command will create the Box Backup / etc / boxbackup/bbstored.conf main configuration file, which will contain the basic parameters. <br><br>  Assigning _bbstored directory permissions to our user <br><br>  #chown -R _bbstored / etc / boxbackup / bbstored <br>  #chmod -R go-rwx / etc / boxbackup / bbstored <br><br>  This completes the configuration of the server part of the Box Backup system.  All that remains is to create an SSL certificate for our system and add customer accounts.  We will do this after installing the client part on the machine that will be backed up. <br><br>  <b>Installing the client part of the Box Backup system in Linux.</b> <br>  Since we are talking about gentoo linux and in the previous output of the command <br><br>  #emerge -av boxbackup-0.10.ebuild <br><br>  you probably noticed the -client-only flag, then we‚Äôll use it.  Run the following command on the system that needs to be reserved: <br><br>  #cd / usr / portage / app-backup / boxbackup <br>  # USE = 'client-only' emerge boxbackup-0.10.ebuild <br><br>  this will install a client system on our system. <br><br>  After the client is installed, we will configure it to work with our server.  Here two options are possible: <br><br>  ‚Ä¢ lazy - in this mode, the backup daemon bbackupd constantly monitors file changes and as soon as the modified file is closed, it transfers it to the backup. <br>  ‚Ä¢ snapshot - the operation of this mode is understandable by its name.  Once at the time you set, the bbackupctl sync command is run, after receiving which the bbackupd daemon starts scanning all the directories specified in the configuration file.  In case of discrepancy of the last modified date - the file is transferred to the backup server. <br><br>  Which mode to choose depends directly on the number of files that need to be backed up, the workload of the computer and network traffic.  I think the dependencies are quite obvious.  I can only say that if you install Box Backup on a laptop that often works outside the local network where the backup server is located, you should probably prefer the snapshot mode. <br><br>  Of course, no one bothers you to install Box Backup Server so that it is accessible from the outside.  But in this case, you should consider the amount of traffic that will be created by computers during backup. <br><br>  Run the command, which will create the main configuration file, system key and SSL certificate for authorization on a remote server. <br><br>  # bbackupd-config / etc / boxbackup lazy account_name hostname / var / bbackupd / home <br><br>  Where: <br>  ‚Ä¢ / etc / boxbackup - storage location for configuration files; <br>  ‚Ä¢ lazy - reservation method; <br>  ‚Ä¢ 99 - the name of the account on the server backups (usually, I just use the last digits of the ip address of the computer); <br>  ‚Ä¢ hostname - network name of the backup server (Do not accidentally specify the name of your computer in this parameter!); <br>  ‚Ä¢ / var / bbackupd - a place where the temporary files of the Box Backup system will be stored (make sure there is enough free space); <br>  ‚Ä¢ / home - path for backup (folders are easily configured in the configuration file and we'll talk about it soon). <br><br>  Now we just need to specify the folders, the backup copies of which we want to make and the rules for them.  The main configuration file of the Box Backup client is located in the / etc / boxbackup directory and is called bbackupd.conf. <br><br>  The parameters set in this file contain the necessary and very transparent explanations, so I will focus only on the description of the paths for backup. <br><br>  The structure of the description is as follows: <br><br>  BackupLocations <br>  { <br>  home-directory <br>  { <br>  Path = / home <br>  ExcludeDir = / home / ftp <br>  ExcludeFilesRegex = *. (Avi | AVI) $ <br>  } <br>  etc <br>  { <br>  Path = / etc <br>  } <br>  } <br><br>  home-directory and etc in this case are conditional directory descriptions for the Box Backup system.  It is under these names that they will be displayed when you request a backup. <br><br>  Path - actually the path to the directories and files that need to be backed up.  When specifying the paths you should take into account that the backup will be performed recursively, that is, with all subfolders. <br><br>  ExcludeDir is, as it is easy to guess, the option of excluding some subfolder from the backup. <br><br>  ExcludeFilesRegex - a mask indicating file extensions that should be ignored and not transferred to backup. <br><br>  The remaining options are not less clear and do not need a separate description. <br><br>  The lazy and snapshot modes in configuration files differ only in parameters: <br><br>  AutomaticBackup = no <br>  UpdateStoreInterval = 0 <br>  MinimumFileAge = 0 <br>  MaxUploadWait = 0 <br><br>  (in the case of snapshot mode).  To change the mode of operation, it is enough to change the values ‚Äã‚Äãof these variables for other parameters, which can always be viewed on the neighboring system.  Do not rerun the configuration command, as it will replace your encryption key and SSL certificates.  In this case, the signature procedure will have to be repeated.  (Of course, you can first copy the key and the SSL certificate, but ... isn't it easier to change the value of several variables?) <br><br>  Now that we have configured the client and server parts of the Box Backup system, it's time to figure out SSL certificates for authorization. <br><br>  <b>SSL certificates for server side.</b> <br>  To create a basic certificate structure, run the command: <br><br>  # bbstored-certs ca init <br><br>  If you get any errors when executing this command, please make sure first of all that you have the OpenSSL package installed. <br><br>  After the formation of the certificate, we will sign it: <br><br>  # bbstored-certs ca sign-server hostname-csr.pem <br><br>  This completes the preparation of certificates for the Box Backup server part. <br><br>  <b>SSL certificates for the client part.</b> <br>  We already have a client SSL certificate, we only need to sign it on the server, and at the same time copy the certificate from the server to the client.  To do this, you need to transfer (scp, samba, ftp or some other way) to the server the file /etc/boxbackup/bbackupd/account_name-csr.pem <br><br>  It is best to place the client certificate on the server in the / etc / boxbackup / bbackupd / folder <br><br>  After that, execute the command on the server: <br><br>  # bbstored-certs / ca sign /etc/boxbackup/bbackupd/account_name-csr.pem <br><br>  By answering Yes, we will sign the certificate and see the instruction that we need to copy two files to the client: <br><br>  /ca/clients/account_name-cert.pem <br>  /ca/roots/serverCA.pem <br><br>  On the client side, we put these files in / etc / boxbackup / bbackupd. <br><br>  Now it remains only to create an account for our client to reserve. <br><br>  <b>Creating an account in the backup system.</b> <br>  To create an account, use the command: <br><br>  #bbstoreaccounts create account_name 0 10000M 15000M <br><br>  Where: <br>  ‚Ä¢ account_name - the name of the account in numeric form (for example, as I said, the last digit in the client's ip address). <br>  ‚Ä¢ 10000M - soft limit on the size of the backup.  In this case, I allocated 10 gigabytes per user (you can also specify 10G). <br>  ‚Ä¢ 15000M - hard limit on the size of the backup. <br><br>  After that, you can safely start the services of the Box Backup client and server system.  Backup system is ready! <br><br>  <b>Other operations with accounts.</b> <br>  In addition to creating accounts, of course, you can delete them, change the size of the allowed backup space, view information on the occupied space, as well as check backups for errors. <br><br>  Team: <br>  #bbstoreaccounts info account_name <br><br>  will show fairly detailed information about the current state of affairs in the specified account.  It will look like this. <br><br>  Account ID: 00000003 <br>  Last object ID: 390831 <br>  Blocks used: 59659618 (116522.69Mb) <br>  Blocks used by old files: 110818 (216.44Mb) <br>  Blocks used by deleted files: 1670369 (3262.44Mb) <br>  Blocks used by directories: 73637 (143.82Mb) <br>  Block soft limit: 61440000 (120000.00Mb) <br>  Block hard limit: 64000000 (125000.00Mb) <br>  Client store marker: 1145862657000000 <br><br>  As you can see, everything is quite transparent and clear. <br><br>  Team: <br>  #bbstoreaccounts setlimit account_name 30000M 35000M <br><br>  will change the allowable backup for this user.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(As I wrote above, the volume can be specified in gigabytes.) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To check the backup, use the command: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#bbstoreaccounts check account_name </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and, in case of errors, fix it with: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#bbstoreaccount check account_name fix </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And finally, the command: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#bbstoreaccounts delete account_name </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will delete the existing account. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restore files from backup.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> After everything we talked about, perhaps it is time to find out how the actual files are restored from the backup. For this, there is a bbackupquery utility. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/olpictures/a91/cd1/8e7/a91cd18e7d3e505d7960cab42e490a41.png" width="450" height="292" alt="Displays help with the bbackupquery utility." hspace="10" vspace="10"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 1. Help output by the bbackupquery utility.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This utility works like a remote shell. It does not need the bbackupd daemon running and allows you to communicate with the backup server using input commands. The connection to the server is established using the same SSL certificates and still passes through TLS channel encryption. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 1 shows the output of the help command. As you can see, quite a large number of commands are available, among which there is even compare that allows you to compare versions of files on a local hard disk and files available in a backup. Working with bbackupquery is somewhat similar to communicating with an ftp server via a console client, so I will not dwell on it in detail. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/olpictures/94b/773/034/94b773034215c807229e867b32264099.png" width="450" height="224" alt="List of directories (by tags from the configuration file)." hspace="10" vspace="10"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 2. Directory list (by tags from the configuration file). </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boxi graphical shell.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, the world is not without good people and there is a graphical shell for working with backup. A project called </font></font><a href="http://boxi.sourceforge.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">boxi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . It has a rather spartan interface, but nevertheless it makes it much more convenient to communicate with your backup than the console bbackupquery and allows you to perform all the basic operations for working with a backup. Such as - comparison of versions, removal from the archive, file recovery, review of the directory structure and so on. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/olpictures/aac/e9a/c67/aace9ac671429879e2c2d0a0fbfe93b2.png" width="450" height="391" alt="Ascetic boxi." hspace="10" vspace="10"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 3. Ascetic boxi.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">However, at the moment the use of Boxi is not possible. The reason is that this utility can only work with Box Backup version 0.09, and as I wrote above, version 0.10 has undergone many changes and is recommended for installation. According to the developer of this utility, the next version, ready to work with the 0.10 version, should be expected no earlier than after three months. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But if convenience is more important to you, then it may be worthwhile to install an older version in order to be able to work with the graphical utility. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It should also be noted that to work, Boxi needs all the Box Backup system configuration files. Therefore, when it is used, many people launch the bbackupd process not from the system, but from their user. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backup windows systems.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> So far, I have ignored the use of the system backup windows windows workstations (and servers, of course). </font></font> I will explain why. <br><br> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On the site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you can find the Windows native client, running at least in the systems of the Windows 2000 and Windows XP family. </font><font style="vertical-align: inherit;">In the archive you will find all the necessary files that are recommended to be copied to the c: \ Program Files \ Box Backup \ directory. All that </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remains is to generate a client certificate, sign it on the server and transfer the signed and server certificates back. </font><font style="vertical-align: inherit;">And there may be some difficulties. </font><font style="vertical-align: inherit;">The fact is that the scripts responsible for generating certificates are written in the Perl language and there are no guarantees that it will be in your windows system. </font><font style="vertical-align: inherit;">It is possible by long suffering to achieve the desired result, but there is a way much faster and more convenient.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On any of your linux systems, first save the / etc / boxbackup / bbackupd directory in a safe place ... generate certificates for the windows system.</font></font> Why not?<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After all, it does not matter where the encryption key and certificate will be created. After that, it will only be necessary to sign the newly created certificate and transfer the necessary files to the windows system. And do not forget to return the contents of the folder bbackupd to its rightful place. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thus, connecting windows of a workstation to backup also becomes a very simple task. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In MS Windows, all the options of the Box Backup configuration files and both modes - lazy, snapshot are available to you. In order to install bbackupd as a system service, just run the command: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bbackupd -i </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The </font><font style="vertical-align: inherit;">Boxi </font><font style="vertical-align: inherit;">graphical shell also exists under Windows, but for the reasons described above, it is unlikely to be useful for you until you return to Box Backup version 0.09 'but.</font></font><br><br>  <b>It is important.</b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is important to remember that all information in the backup is encrypted and cannot be extracted without the FileEncKeys.raw key. Therefore, it is strongly recommended to copy the contents of all the / etc / boxbackup / bbackupd folders to a place protected from unauthorized access, as well as transfer them to external media and put them away. In case of loss of a key, recovery of files from the archive will become impossible. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also, you should pay attention to the synchronization of time on the client and server machines, since Box Backup uses in its work the date of the last file change. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Good luck to your hot backup!</font></font><br><br>  References: <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1] </font></font><a href="http://boxi.sourceforge.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">boxi.sourceforge.net</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [2] </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">boxbackup.hostworks.ca/index.php/0.10 </font></font></a> <br><br> <a href="http://habrahabr.ru/users/akeeper/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akeeper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alexey Korshunov. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First published in the journal </font></font><a href="http://www.samag.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"System Administrator".</font></font></a> </div><p>Source: <a href="https://habr.com/ru/post/8156/">https://habr.com/ru/post/8156/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../81551/index.html">Install Ovi Maps 3.0 on Nokia N95</a></li>
<li><a href="../81552/index.html">Augmented Reality: Servant-Robocop</a></li>
<li><a href="../81553/index.html">WYSIWYG image upload</a></li>
<li><a href="../81555/index.html">Mass Effect 2 output</a></li>
<li><a href="../81557/index.html">Light my mirror, say ... Hello?</a></li>
<li><a href="../81560/index.html">nginx - frontend configuration to ~ username - public_html</a></li>
<li><a href="../81562/index.html">The tragedy of Haiti: before and after</a></li>
<li><a href="../81566/index.html">Canonical offers official support for IBM Lotus Symphony</a></li>
<li><a href="../81568/index.html">How much have you already ‚Äúrolled in‚Äù (in rubles of the Russian Federation) into your project (regardless of its age)</a></li>
<li><a href="../8157/index.html">The most popular ideas for the last month. Summary.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>