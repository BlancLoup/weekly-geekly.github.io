<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic generation of test scripts using neural networks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In recent years, the use of Deep Learning technologies has allowed significant progress in such areas as pattern recognition, automatic translation, e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic generation of test scripts using neural networks</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/576/5ff/0c4/5765ff0c4951978804690afae2f5ddf5.jpg" alt="image"><br><br>  In recent years, the use of Deep Learning technologies has allowed significant progress in such areas as pattern recognition, automatic translation, etc. This success, as well as developments in the field of unmanned vehicles and computer achievements in the GO game, allowed us to dream that Artificial Intelligence would soon will do the work that people are doing now, and <a href="https://www.theverge.com/2017/11/30/16719092/automation-robots-jobs-global-800-million-forecast">will claim their jobs</a> . <br><a name="habracut"></a><br>  The widespread replacement of people for robots is a fascinating process, but not a quick one.  However, now you can use the increased computing power of computers in order to facilitate the solution of problems that people face every day.  For example, the process of writing programs.  The use of systems that facilitate the programming process is not exceptional, any development environment provides many such tools. <br><br>  This article presents a technology that helps a programmer write a test based on a Java module.  The technology allows you to significantly save time compared to writing a test manually. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Tests </h3><br>  In the process of creating a program module, we always want to be sure that the programmed functionality meets our requirements.  In order to know that the real behavior of the program created by us corresponds to the expected result, tests are used. <br><br>  Necessity, all the pros and cons of writing tests <a href="https://habr.com/company/sberbank/blog/354096/">are listed here</a> .  However, there is no doubt that writing tests takes considerable time (research shows that developers spend up to <a href="https://www.cs.ox.ac.uk/news/1332-full.html">30% of the time to create tests</a> ).  In addition, this activity does not develop the functionality of the main software module, so it is logical that many teams try to avoid writing tests.  On the other hand, the support of the old functionality and the programming of the new one are greatly complicated without the use of tests. <br><br>  In addition to monitoring the correctness of the program, tests can also explain the functionality of the program being executed in ‚Äúnatural language‚Äù.  That is, test scripts can be accompanied by documentation text that explains the behavior of the test and the program under test in the <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> paradigm. <br><br>  In this article we discuss the technology of automatic test generation.  In the synthesis of tests, we will use <a href="https://en.wikipedia.org/wiki/Cucumber_(software)">Gherkin-notation</a> . <br><br>  Sample test in Russian using Gherkin: <br><br><pre><code class="hljs 1c"><span class="hljs-meta"><span class="hljs-meta"># language: ru @all :         PIN-      , </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    PIN-  , </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    PIN- :               PIN- @correct :   </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    PIN-           @fail :   </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    PIN-    ,   PIN- </span></span></code> </pre> <br><h3>  BDD, TDD </h3><br>  TDD and BDD techniques imply that the test is written prior to the development of the module being tested ( <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B0%25D0%25B7%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0_%25D1%2587%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B7_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">https://ru.wikipedia.org/wiki/Development_through_testing</a> ), <br><br>  <b>Test -&gt; Module</b> <br><br>  Without discussing the pros and cons of the TDD and BDD approach, I must say that in life there are very often situations (and, perhaps, most of these cases), when tests are written after the module is ready, or tests are not written at all.  This leads to the fact that the code becomes unreadable and difficult to maintain, leading, in particular, to the phenomenon of legacy code. <br><br>  Thus, we offer the opportunity to synthesize the test and code description in the BDD format on the basis of the finished code - if there were no tests at all or were going to write tests after creating a program module. <br><br>  <b>Module -&gt; Test</b> <br><br><h3>  Synthesis </h3><br>  The process of creating tests begins with the analysis of the finished software module.  We are currently working with classes written in Java.  The general scheme of work is this - at first we collect logs and information about the execution of the program module, then, on the basis of these logs, we train the neural network, then we use the neural network to generate ready-made test scripts. <br><br><h3>  Collecting logs </h3><br>  Suppose we have a module that serves a client bank account. <br><br><img src="https://habrastorage.org/webt/ln/uq/kh/lnuqkh7jsgbdgcgyvu1qztb3yqa.jpeg"><br><br>  We collect logs at each step of the program, starting with information about input and output, and ending with changes to variables <br><br><img src="https://habrastorage.org/webt/s2/hh/od/s2hhodgr_mimzmffk51dwvart8o.jpeg"><br><br>  The collection itself is as follows: <br><br>  We take inputs - these can be data from access logs, or options provided by the programmer, or automatically generated data using various genetic or random mechanisms ( <a href="http://www.evosuite.org/">Evosuite</a> , <a href="https://randoop.github.io/randoop/">Randoop</a> ). <br><br>  In special cases, we can leave the log collection module in production, but in general it is not recommended. <br><br><h3>  Neural network training </h3><br>  Neural network learning occurs in the <a href="https://arxiv.org/abs/1511.06279">Neural Programmer-Interpreters</a> paradigm. <br><br>  NPI works like this: based on the input data (in the picture, ‚Äúprevious NPI state‚Äù, ‚Äúenvironment observation‚Äù, ‚Äúinput program‚Äù), the command (‚Äúoutput program‚Äù) predicts. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/32e/2f6/91f/32e2f691fd0a14a105fe217d2a7a29e2.gif" alt="image"><br><br>  Being able to recognize the environment for predicting simple programs (addition, matching), the program can predict Gherkin notation for this data.  The quality of the use of NPI depends both on the ability to process certain input data and on the development of the neural network architecture. <br><br><img src="https://habrastorage.org/webt/si/ds/af/sidsaf91axszlrsas0xko_w9jgy.png"><br><br>  Thus, the trained neural network solves the problem traditional for software synthesis - how to find the right program (Gherkin notation, test case) for the current input data (env1 '). <br><br><img src="https://habrastorage.org/webt/n6/3_/0f/n63_0faeszsblr8jo6pf7gyttes.png"><br><br><h3>  Script generation. </h3><br>  Test cases are generated on the basis of a trained neural network.  In the simplest case, there are lists of data that have been validated and lists of data that have not passed validation. <br><br><img src="https://habrastorage.org/webt/4d/rv/d-/4drvd-sncexhbxxxcrvz39ppogm.jpeg"><br><br>  Finished scripts can be edited to meet the final requirements.  Gherkin tests are written in ‚Äúnatural language‚Äù, which implies the ability to read and edit these tests by the whole team, both by those who wrote the code and those who were not involved in the development of the module. <br><br>  At each execution, the tests will check the conditions that are encoded in them.  In the event that the functionality of the tested software module has changed, the neural network can be re-trained to generate new tests. <br><br>  Tests in the Gherkin language are performed on the <a href="https://en.wikipedia.org/wiki/Cucumber_(software)">Cucumber</a> test framework. <br><br>  The framework supports the automatic execution of scripts when building with Maven. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>info.cukes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>cucumber-java<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.2.4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>test<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>info.cukes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>cucumber-junit<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.2.4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Cucumber also integrates with other continuous integration tools such as Jenkins and more. <br><br><h3>  Test script generation, restrictions </h3><br>  The automatic generator has several limitations at once.  All of them are due to the fact that the program does not ‚Äúlearn‚Äù to program or ‚Äúunderstand‚Äù algorithms.  The goal of the program is to be able to compare the types of input data it understands with the output data, and select labels, which is a simple case of <a href="https://arxiv.org/abs/1703.05698">conditional program generation</a> : <br><br><h4>  Simple cases </h4><br>  Without intuition or a deep understanding of the logic of the program, the system can only detect simple cases of program failures (for example, parameters that lead to error messages), while at the same time there are cases that can only be detected by the programmer. <br><br><h4>  Limited set of logged parameters </h4><br>  It is easy to log and analyze the primitive types (lines, numbers) by the neural network, it is more difficult to log and analyze objects. <br><br><h4>  Identify simple relationships </h4><br>  Accordingly, it is easy to identify simple relationships in simple data.  All of the above implies that, at the moment, the validation and refinement of automatic tests is done manually. <br><br><h3>  Perspectives </h3><br>  The main direction of the development of the system is an increase in the number and complexity of patterns recognized. <br><br>  In case of interest, I will be glad to discuss in more detail - <a href="">email to nayname@gmail.com</a> </div><p>Source: <a href="https://habr.com/ru/post/358564/">https://habr.com/ru/post/358564/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358552/index.html">Best practices for designing productive mobile APIs</a></li>
<li><a href="../358554/index.html">Confrontation: results</a></li>
<li><a href="../358558/index.html">The whole program Backend Conf: from microservices to endless data</a></li>
<li><a href="../358560/index.html">Digest news from the world of PostgreSQL. Issue number 6</a></li>
<li><a href="../358562/index.html">Open Testing Conference Free Broadcast - Heisenbug 2018 Piter</a></li>
<li><a href="../358566/index.html">Open webinar: "Scopes and invisibility"</a></li>
<li><a href="../358568/index.html">RIT ++: how the largest Russian technology festival appeared</a></li>
<li><a href="../358570/index.html">Critical vulnerabilities in PGP and S / MIME allow reading encrypted email messages</a></li>
<li><a href="../358572/index.html">If you really want: 10-gigabit on copper</a></li>
<li><a href="../358574/index.html">How to create your dataset with Kirkorov and Face on Yandex Toloka</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>