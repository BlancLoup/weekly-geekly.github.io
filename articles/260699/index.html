<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cloud WLAN from Cisco Meraki: what it is and what it is eaten with</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon friends! 

 This summer, our company has planned a strong expansion of the WLAN infrastructure, and therefore considered various option...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cloud WLAN from Cisco Meraki: what it is and what it is eaten with</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon friends! <br><br>  This summer, our company has planned a strong expansion of the WLAN infrastructure, and therefore considered various options for organizing this expansion: both classic AP-Controller solutions from Cisco, and new items, one of which is Cisco Meraki. <br><br>  A small background to the question of what Meraki is, where it came from and why it is needed, you can learn from this article: <a href="http://habrahabr.ru/post/182700/">‚ÄúA cloud-based way of organizing a VPN to connect networks‚Äù</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Without further ado, I went to the Meraki website and ordered a set of access points for trial use (4 access points MR32 AP and more expensive MR34 AP).  Initially, the company offered 14 days of trial, but quite easily managed to extend this period by half, therefore, it is possible to drive the device in distantly close to combat conditions. <br><a name="habracut"></a><br><h4>  Device request </h4><br>  The process of obtaining trial devices was quite simple: I left a request on the Meraki website, I was contacted by an annoying manager who sent me a link to the trial order form, and then hedged for two weeks with calls ‚Äúwell, when, well, when?‚Äù. <br><br>  In the end, I gave up, filled out the order form and waited for the delivery of devices to our company address. <br>  On the same day, all the equipment was sent by UPS from the Netherlands, from the warehouse of Meraki‚Äôs partner, to Hamburg, and while the package was flying to us, it was proposed to establish its network in the control panel. <br><br><img src="https://habrastorage.org/files/2fd/76a/f86/2fd76af8617d4aff96993d32a0293f8e.png"><br><br>  I ran ahead saying that there was no need to start any networks, caring managers of Meraki did everything for me.  It was necessary only to kill their default grid and make their own by moving the devices there.  But first things first. <br><br><h4>  My dears have arrived! </h4><br>  In just a couple of days, DPD delivered the package. <br>  Hooray, open! <br><img src="https://habrastorage.org/files/833/a95/69b/833a9569b05748498636916c4eec141b.jpg"><br><br><img src="https://habrastorage.org/files/cb4/8c1/2aa/cb48c12aaf14440f9be7f9a1af10f250.jpg"><br><br>  There were 5 subboxes in the box and a small instruction with 10 tips from Meraki. <br><br><img src="https://habrastorage.org/files/77e/a99/da2/77ea99da2cfc4c09b5f1f049119bab6b.jpg"><br><br>  Tips that we did not ask, we do not like, because we postpone the book.  Unpacking the subboxes: <br><br><img src="https://habrastorage.org/files/f55/7a0/7f1/f557a07f15fe49cba42420dab371643b.jpg"><br><br><img src="https://habrastorage.org/files/4fc/529/320/4fc52932011e45ee871b8af3e37c7b0d.jpg"><br><br>  As you can see, the models cannot be distinguished from each other, the devices look quite stylish, but discreet.  Personally, I seem to like Cisco APs much more, but the appearance of access points is the last thing to compare. <br><br><h4>  Connection and first look </h4><br>  We take the access point, connect it to the Ethernet socket ... voila!  An open and unprotected grid with my login in Meraki is broadcast to the whole district! <br><br>  We connect to it and get the IP from the preset range via DHCP: <br><br><img src="https://habrastorage.org/files/c97/77a/1f0/c9777a1f05144e5b9bd947d0d0f80609.png"><br><br>  Great, now we know the possible IP address of the access point itself. <br>  We climb on HTTPS on 10.128.128.128 ... She, darling! <br>  In the web-access point of the access points, you can specify a number of settings (VLAN, WiFi broadcast channels and power, as well as a proxy, which could be useful if we had a firewall on UDP) <br><br>  Meraki equipment is managed using the administration panel, which <s>is located in the US state of California, is</s> hosted on the Internet, and tricky and incomprehensible mechanisms that allow you to manage devices.  Consequently, Meraki devices must have access to the external network using the following protocols: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e7c/715/d53/e7c715d533020cab6eb585cccd1bfee5.png"><br><br>  Okay, let's open the necessary ports for tests, see what happens. <br><br><h4>  Management console and all-all </h4><br>  Login to the Meraki Management Console: <br><br><img src="https://habrastorage.org/files/0b3/c56/b68/0b3c56b6844a44b591b647e25d5e5566.png"><br><br>  and we see that the caring staff of Meraki have already created for me all the default wIreless infrastructure with no specific parameters.  As I already wrote, I was not satisfied with this radically, I took everything down and began to do it from scratch, removing all APs from the test WLAN network. <br><br>  Delete ... <br><br><img src="https://habrastorage.org/files/a06/38e/86f/a0638e86f73045b8b57a08d18ddd7877.png"><br><br>  ... and create a new network to which we add access points: <br><br><img src="https://habrastorage.org/files/951/ba5/2ac/951ba52ac6a54b31adaf894bc5bda21e.png"><br><br>  Access points for tens of seconds received a new config and began to distribute the SSID "ISH Test". <br><br>  Let's configure our cloud infrastructure so that everything looks a bit more serious: we will install encryption, a network key. <br><br>  Go to the section Wireless - SSIDs: <br><br><img src="https://habrastorage.org/files/e1d/f79/519/e1df795192714ce58d9513ec460dd5a7.png"><br><br>  There can be up to 15 SSIDs per wireless network. <br>  Tyrka in edit settings for the first SSID, go to its settings: <br><br><img src="https://habrastorage.org/files/5b9/e22/f7e/5b9e22f7e258403881618895cd38792c.png"><br><br>  As you can see from the screenshot, the set of possibilities for authentication is complete. <br><br>  Key Access (WPA2 / WEP) <br>  Access based on the MAC address table <br>  WPA2-Enterprise with the ability to use both an internal RADIUS server and a Meraki server.  In the case of using Meraki, authentication is performed using credentials with which you need to log into the network control panel. <br><br><br>  In addition, you can choose the type of WPA encryption: WPA1 and WPA2 or only WPA2. <br>  Next comes the parameter Splash page - the page that is displayed after authorization in the WIFI network (this mechanism is often used in public networks - at airports, hotels, cafes ...).  We list the possibilities by points: <br><ol><li>  Direct access - by default - disable Splash page </li><li>  Click-through - clients should poke a button on the page that the access point gives them.  You can apply, for example, in order to get users to read the Terms of Use of the network and accept them </li><li>  Additional authentication with <br><ul><li>  server meraki </li><li>  RADIUS </li><li>  Ldap </li><li>  Active Directory </li><li>  Facebook Wi-Fi </li><li>  3rd party credentials (only Google authentication is currently available) </li></ul><br></li><li>  Authentication by entering SMS code.  The first 15 messages are free, then you need to register on Twilio service, buy a subscription and pay money for messages (for example, in Germany $ 0.07 for SMS) </li><li>  Billing (paid access) - the option is compatible only with open access, without authorization in the first paragraph. </li><li> Available in the future, the Systems Manager Entry - option is the System Manager Sentry Splash for Android (OS) or Windows devices. </li></ol><br><br>  The primary authentication options are of little interest, we do not use it in the RADIUS network.  Open access from the Splash page will test later, so far choose Meraki Radius.  In order to use Meraki RADIUS, you need to create users in the admin panel, passwords for them, specify their email (users can receive their credentials by mail automatically) and set an option that includes user access to the SSID. <br><br>  Connect to the network with the credentials, look - everything works <br><br>  Go back to the open network, see options Splash Page. <br><ol><li>  Direct Access - everything is clear, no pages are issued, we immediately get into the network </li><li>  Click through - connect, in the browser we see an offer to click the button and get on the Internet: <br><br><img src="https://habrastorage.org/files/684/897/510/684897510bb64716995603dc8f0a6496.png"><br></li><li>  Using additional authentication. Configuring access to a domain controller: <br><br><img src="https://habrastorage.org/files/a40/20c/411/a4020c4115464681b6c96e26e6034422.png"><br>  We test the ability to authenticate using the Test button (enter the username and password of a user in AD - the test is successful).  Let's try to authenticate in WIFI with such settings: <br><br><img src="https://habrastorage.org/files/a81/f6b/962/a81f6b96260e4a76aadaa4f89db11293.png"><br><br>  One of the other interesting authentication options is through Facebook WIFI.  In order to activate Facebook WIFI authentication, you need to have a Local Business Page organization. <br>  Go to Facebook WIFI settings, set the following: <br><br><img src="https://habrastorage.org/files/1cf/87d/d1b/1cf87dd1b5ea4ed2ad85953448a38f02.png"><br><br>  We are trying to connect to WiFi, we get to the authentication page: <br><br><img src="https://habrastorage.org/files/f87/3fa/92c/f873fa92cb28495087c3fc0bf57e7457.png"><br><br>  Voila!  The user has access to the Internet, the organization page on the FB received a check-in.  Everyone is happy. <br><br></li><li>  SMS authentication: <br><br><img src="https://habrastorage.org/files/1c8/2dc/eec/1c82dceecbce4b4886f6a6e5c707d839.jpg"><br><br></li><li>  Paid access. <br>  Enable the option "Billing (paid access)", set up Billing plans: <br><br><img src="https://habrastorage.org/files/63b/049/30f/63b04930f41e4c5496538acb8f5db9f9.png"><br><br>  And try to connect: <br><br><img src="https://habrastorage.org/files/7a9/bf1/f90/7a9bf1f90e944b9ead26003b951a5049.png"><br><img src="https://habrastorage.org/files/5b8/817/b22/5b8817b220db4769a0b9dc9a17f71520.png"><br><br>  We pay from the card, we get access.  You can not imagine what the temptation was to make WiFI paid for employees and students. <br></li></ol><br>  That's all the options for additional authentication through Splash Page. <br>  We should also note that it is possible to restrict access to the network from certain platforms (Android, BlackBerry, Chrome OS, iPad, iPhone, iPod, MacOS, Windows, Windows Phone, B &amp; N Nook, other OS), as well as to limit the possibility of using one and the same same login on multiple devices at the same time. <br><br><h4>  Routing and traffic </h4><br>  Meraki WLAN access points support 5 types of addressing: <br><br><ol><li>  NAT mode, clients will receive IP from a range of 10.0.0.0/8, will not be able to contact each other.  In this mode, you can enable content filtering, which can work in two modes: blocking adult content or specifying your DNS, which is assigned this blocking function. </li><li>  Bridge mode, clients work on the subnet to which the access point is connected.  VLAN tags are supported.  Bonjour forwarding and disabling is supported. </li><li>  Roaming Layer 3, - this mode is still in the BETA stage - similar to the Bridge mode, but in this case, clients will keep their IP when switching from one access point to another (if the access points work on the same subnet).  VLAN tags are supported.  Bonjour forwarding and disabling is supported. </li><li>  Roaming Layer 3 with a hub - customers go to the network through a Meraki hub, which is a separate device.  I, unfortunately, did not order it </li><li>  VPN: tunnel data to a concentrator.  Same as 4), only data is encrypted and goes through an encrypted VPN connection between the AP and the hub. </li></ol><br><br>  WIFI settings. <br>  Here you can select the frequency at which the access point will operate.  Possible options: <br><ul><li>  2.4 and 5Ghz in parallel </li><li>  5 Ghz only </li><li>  2.4 and 5Ghz in parallel with the forced switching of devices that support 5Ghz at this frequency </li></ul><br><br><h4>  Firewall and traffic restriction </h4><br>  Meraki allows you to cut traffic on the 3rd and on the 7th OSI levels. <br><br>  This is what the settings window looks like: <br><br><img src="https://habrastorage.org/files/cab/b94/e4c/cabb94e4cfde4ec3b4910467db64962d.png"><br><br>  And here is what Meraki can do: <br><br><ol><li>  Allow or deny traffic at the 3rd level to certain nodes and certain TCP and UDP ports </li><li>  Forbid traffic at the 7th level of the following types: <br><ul><li>  Blogging (all, blogger, wordpress) </li><li>  Email (all, gmail, host-based imap or pop or smtp, hotmail, web-based email, yahoo, outlook, hotmail) </li><li>  File sharing (all, dropbox, skydrive, icloud, windows file sharing) </li><li>  Gaming (on the choice of a list of game servers like battle.net) </li><li>  News (CNN, NYT, Gizmodo, etc) </li><li>  Online-backup </li><li>  P2P </li><li>  Social Web (FB, Twitter ... Vkontakte does not know how to block so far) </li><li>  Software and antivirus updates </li><li>  Sport news </li><li>  Video and music streaming (ie Youtube and Vimeo) </li><li>  VoIP </li><li>  Web file sharing (Rapishare and so on) </li><li>  Arbitrary HTTP host </li><li>  Arbitrary port </li><li>  IP address range </li><li>  The range of IP addresses and the port for them. </li></ul></li><li>  Restrict channel for clients (down, up, all) </li><li>  Restrict access point channel </li><li>  Restrict the channel for certain applications (all those that can be blocked in step 2) </li></ol><br><br>  Additional features: <br><ul><li>  Arbitrary view of the Splash page </li><li>  SSID broadcast for all access points / each individual, scheduled broadcast </li><li>  Channel planning with the possibility of automatic signal attenuation or operation is always at 100% power, switching on / off DFS channels.  Configure channels on each of the access points separately </li><li>  Enable / Disable SNMP v2c and v3 </li><li>  SAML support </li><li>  Various security settings for access to the Meraki admin panel </li><li>  Certificate Generation for Apple MDM </li><li>  Configure various alerts when access points are unavailable, Rogue AP is found, changes are made to the config </li><li>  Setting up sending logs to syslog server </li><li>  Automatic firmware update (as scheduled) </li></ul><br>  At this point, the possibility of setting up a cloud WIFI network ends. <br><br><h4>  Monitoring </h4><br>  Let's see what data can be viewed in the network monitoring <br><br><ol><li>  General information about the access point with data on MAC, IP (external and internal), address, number of configured SSID, number of clients at the moment, channel, VLAN'ah, using a channel with schedules. <br><br><img src="https://habrastorage.org/files/d2f/cc6/bdd/d2fcc6bdd734471bb905d49b99018b34.png"><br></li><li>  Channel load at point location: <br><br><img src="https://habrastorage.org/files/c6d/e88/39a/c6de8839a90946da8353b800e412860f.png"><br></li><li>  View ARP Access Point Tables </li><li>  Ping &amp; Traceroute. </li><li>  You can flash a light bulb or reboot the AP </li><li>  You can see the login attempts of different users. </li></ol><br><br>  Meraki has released mobile applications for iOS and Android, the possibilities are rather scarce, but you can monitor traffic using them: <br><br><img src="https://habrastorage.org/files/255/e60/df2/255e60df27854f55a0446549f1dfa830.jpg"><br><img src="https://habrastorage.org/files/26a/a41/aa0/26aa41aa0c7244e199ad8226839b0301.jpg"><br><img src="https://habrastorage.org/files/fef/edc/f9b/fefedcf9b59e477392ab58b54e427888.jpg"><br><br><h4>  Personal impressions </h4><br>  Next comes only my IMHO. <br>  The devices that Meraki want to implement around the world, and along with them, Cisco, turned out to be quite interesting.  Scope of application where similar devices could be useful is quite wide.  This includes university campuses, restaurants, hotels, maybe libraries, concert halls and other crowded places that need access to the Internet. <br><br>  These devices are good because they can be configured quite easily, they can be geographically distributed as you like.  If I were the owner of any restaurant chain (or IT director or administrator), I would consider these devices on a priority basis. <br><br>  On the other hand, I would not use such devices in a typical business, especially if there is a place to work with highly private data.  It is not cool at one point to understand that it is not known when in the past an attacker got access to the management console of your WLAN and used it for his own selfish purposes.  It‚Äôs not very cool to know at one point that all traffic that goes from access points to Meraki servers and back is intercepted by unknowns. <br><br>  Maybe I'm too cautious and conservative, but for our purposes, covered in the beginning of the article, we still chose the classic version with WLAN Controller and access points from Cisco. <br><br><h4>  Technical characteristics of access points </h4><br>  Access points are very similar in characteristics.  Here are the common ones: <br><br>  3 radios: 2.4 and 5 GHz, dual-band WIDS / WIPS <br>  2-stream 802.11ac and 802.11n, up to 1.2 Gbps <br>  Integrated bluetooth low energy radio <br>  Gigabit ethernet port <br>  PoE: Full functionality with 802.3af <br>  AC adapter available <br>  Cloud management <br>  Network-wide visibility and control <br>  Self-provisioning for rapid deployment <br>  Automatic reporting <br>  Seamless firmware updates <br>  Enterprise security <br>  802.1X and native Active Directory integration <br>  Air Marshal: real-time WIPS with forensics <br>  Stateful Layer 3-7 firewall <br>  Identity-based group policies <br>  Built-in antivirus scan (NAC) <br><br>  MR34, unlike MR32, can distribute a network up to 1. 75Gbps and requires PoE + for full functionality. <br><br><h4>  Price </h4><br>  Supplier Meraki in our region put such a price: <br>  430 ‚Ç¨ for each MR32 <br>  750 ‚Ç¨ for MR34 <br>  ‚Ç¨ 160 for a 5 year Enterprise Cloud Controller license for each device. <br><br>  Overall, not bad.  The price is good for the devices themselves (comparable to the price of the AP 16XX and 36XX from Cisco), the price for the license is also not that high. <br><br><h4>  Afterword </h4><br>  The access points will be at my disposal for at least another couple of weeks, because if you have any questions, requests and desire to hear some details (which test can be done) - write in the comments, if possible, I will definitely do it. </div><p>Source: <a href="https://habr.com/ru/post/260699/">https://habr.com/ru/post/260699/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260683/index.html">Free speech recognition from the Russian company Stel</a></li>
<li><a href="../260685/index.html">Erasure Code - more storage space on Nutanix</a></li>
<li><a href="../260691/index.html">The history of light and shadow in one small but proud game</a></li>
<li><a href="../260693/index.html">Fighting phishing and malicious Web links in email</a></li>
<li><a href="../260695/index.html">Interesting for iOS developers for the week</a></li>
<li><a href="../260703/index.html">Latest news from E3 2015: Bethesda, Microsoft, Electronic Arts, Ubisoft and Sony</a></li>
<li><a href="../260705/index.html">3CX Free License Updates: Important Information</a></li>
<li><a href="../260707/index.html">Android development - Gradle JarJar plugin</a></li>
<li><a href="../260709/index.html">Webinar Recording - Optimize Kerio Connect Performance</a></li>
<li><a href="../260711/index.html">Free mono-vendor seminar on Kerio solutions - Kerio Control</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>