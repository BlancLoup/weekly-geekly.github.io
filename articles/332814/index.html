<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Translation of the Appium Essentials book. Chapter 5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hey. We continue to translate the book Appium Essentials and the study of mobile automation. What has already been completed: 



- Chapter 1, in whic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Translation of the Appium Essentials book. Chapter 5</h1><div class="post__text post__text-html js-mediator-article">  Hey.  We continue to translate the book Appium Essentials and the study of mobile automation.  What has already been completed: <br><br><ul><li>  <a href="https://habrahabr.ru/post/331224/">Chapter 1, in which we understand what's here and how</a> </li><li>  <a href="https://habrahabr.ru/post/331248/">Chapter 2 about installing and configuring everything you need to work</a> </li><li>  <a href="https://habrahabr.ru/post/331714/">Chapter 3, where we learn what is Appium GUI</a> </li><li>  <a href="https://habrahabr.ru/post/332706/">Chapter 4: How to localize items in a mobile application.</a> </li></ul><br>  In this chapter, we turn to application automation: <br><br><ul><li>  Automation of native applications </li><li>  Hybrid Application Automation </li><li>  Work with web applications and native browsers </li><li>  Work with web applications and Safari </li></ul><br>  There is a lot of code ahead.  Go! <br><a name="habracut"></a><br><hr><br><h2>  Before the start </h2><br>  Before launching Appium, let's make sure that all the necessary software is installed: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Requirements for Android: <br><br><ul><li>  Java (version 7 and up) </li><li>  Android SDK API (version 17 and higher) </li><li>  Emulator </li><li>  Eclipse [well, or Idea] </li><li>  Testng </li><li>  Appium server </li><li>  Appium Client Library (Java) </li><li>  Selenium Server and WebDriver java-library </li><li>  APK of the application under test </li></ul><br>  Requirements for iOS: <br><br><ul><li>  Mac OS 10.7 and higher </li><li>  Xcode (version 4.6.3 and higher; 5.1 recommended) </li><li>  Simulator </li><li>  The simulator is Safari </li><li>  Java version 7 </li><li>  Eclipse [or Idea] </li><li>  Testng </li><li>  Appium server </li><li>  Appium Client Library (Java) </li><li>  Selenium Server and WebDriver java-library </li></ul><br>  When working with Appium, you must install the desired capabilities and initiate the Android / iOS driver. <br><br><hr><br><h2>  Required desired capabilities for Android and launch of Android driver </h2><br>  There are two ways to set the desired capabilities: via Appium GUI and by initiating the object desired capabilities.  The object desired capabilities preferred.  Consider both options: Below are the Android settings in Appium GUI for native and hybrid applications: <br><br><img src="https://habrastorage.org/web/693/c32/6e1/693c326e135144299b22a56d5d7959f2.jpg"><br><br>  How to setup: <br><br><ul><li>  Open Android settings in Appium GUI. </li><li>  Specify the path to the application under test. </li><li>  Select a package from the list. </li><li>  Select from the list of activations to run. <br><br><div class="spoiler">  <b class="spoiler_title">Note from the author</b> <div class="spoiler_text">  If the application is already installed on a virtual device, steps 2-4 are not necessary.  You need to transfer APK information to the emulator for further work.  How to do it: <ol><li>  Run the emulator </li><li>  Open command prompt [on computer] </li><li>  Write <pre><code class="hljs sql">adb -e <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> &lt;  apk&gt;</code> </pre> </li><li>  Press enter </li><li>  You should see a message about the successful installation. </li></ol></div></div><br></li><li>  Turn on Launch AVD and select the emulator created from the list [it is assumed that you have already created the emulator]. </li><li>  Select PlatformVersion from the list. </li><li>  Turn on the Device Name and write "Android emulator". </li><li>  Start the Appium server. </li></ul><br>  Now about Android settings in Appium GUI for web applications: <br><br><img src="https://habrastorage.org/web/865/77a/034/86577a03438e457fb6bea34fa9bc5c92.jpg"><br><br>  How to configure: <br><br><ol><li>  Open Android settings. </li><li>  Turn on Launch AVD and select the emulator created from the list [it is assumed that you have already created the emulator]. </li><li>  Select PlatformVersion from the list. </li><li>  Turn on the Use Browser and select a browser from the list. </li><li>  Turn on the Device Name and write "Android emulator". </li><li>  Start the Appium server. </li></ol><br>  Now about the second method of forming DC. <br><br><h3>  Desired capabilities for native and hybrid applications </h3><br>  In the first chapter we have already discussed what the desired capabilities are and why they are needed, so here we will immediately plunge into the code [at the bottom !! 1!].  First of all, you need to import packages: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType;</code> </pre> <br>  Then create the desired capabilities (for native and hybrid): <br><br><pre> <code class="java hljs">DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities();<span class="hljs-comment"><span class="hljs-comment">//  File app=new File("path of the apk");//  File,     apk caps.setCapability(MobileCapabilityType.APP,app);//,       . caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, "4.4");//  Android caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "Android");// OS caps.setCapability(MobileCapabilityType.DEVICE_NAME, "Android emulator");//,     caps.setCapability("avd","Name of the AVD to launch");//,      caps.setCapability(MobileCapabilityType.APP_PACKAGE, "package name of your app (you can get it from apk info app)");// package   caps.setCapability(MobileCapabilityType.APP_ACTIVITY, "Launch activity of your app (you can get it from apk info app)");//activity  </span></span></code> </pre> <br><h3>  Desired capabilities for web applications </h3><br>  In Android web applications, some options are not needed.  For example, APP, APP PACKAGE and APP ACTIVITY, because we are launching a browser. <br><br>  First, you need to import the packages: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType;</code> </pre> <br>  Then create the desired capabilities (for the web): <br><br><pre> <code class="java hljs">DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities();<span class="hljs-comment"><span class="hljs-comment">//  caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, "4.4");//  Android caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "Android");// OS caps.setCapability(MobileCapabilityType.DEVICE_NAME, "Android emulator");//,     caps.setCapability("avd","Name of the AVD to launch");//,      caps.setCapability(MobileCapabilityType.BROWSER_NAME, "Browser"); //  </span></span></code> </pre> <br>  As part of the desired capabilities, we did everything.  Now you need to initiate the Android driver and connect it to the Appium-server. <br><br>  Again, you need to import the packages: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL;</code> </pre> <br>  Then, initialize the Android driver: <br><br><pre> <code class="java hljs">AndroidDriver driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidDriver (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), caps); <span class="hljs-comment"><span class="hljs-comment">//caps   </span></span></code> </pre> <br>  This line will launch the application on the emulator, using the settings that were specified in the desired capabilities. <br><br>  Well, now you can create a blank for the test using TestNG: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.MalformedURLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.annotations.AfterClass; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.annotations.BeforeClass; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.annotations.Test; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAppIication</span></span></span><span class="hljs-class"> </span></span>{ AndroidDriver driver; <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException</span></span>{ <span class="hljs-comment"><span class="hljs-comment">// desired capabilities DesiredCapabilities caps = new DesiredCapabilities(); File app=new File("path of the apk"); caps.setCapability(MobileCapabilityType.APP,app); caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, "4.4"); caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "Android"); caps.setCapability(MobileCapabilityType.DEVICE_NAME, "Android emulator"); caps.setCapability("avd","Name of the AVD to launch"); caps.setCapability(MobileCapabilityType.APP_PACKAGE, "package name of your app (you can get it from apk info app)"); caps.setCapability(MobileCapabilityType.APP_ACTIVITY, "Launch activity of your app (you can get it from apk info app)"); caps.setCapability(MobileCapabilityType.BROWSER_NAME, "Browser");//    - driver = new AndroidDriver (new URL("http://127.0.0.1:4723/wd/hub"), caps); driver.manage().timeouts().implicitlyWait(30,TimeUnit.SECONDS); } @Test public void testExample(){ //    } @AfterClass public void tearDown(){ driver.closeApp();//CloseApp()        ,  quit()  close() -   } }</span></span></code> </pre> <br><hr><br><h2>  Required desired capabilities for iOS and launch of iOS drivers </h2><br>  Also, as on Android, you can set the desired capabilities in two ways. <br><br>  Settings for native and hybrid applications: <br><br><img src="https://habrastorage.org/web/480/ecb/d11/480ecbd11bcb414d9465f4aac7379a29.jpg"><br><br><ol><li>  Open iOS Settings </li><li>  Specify the path to the application under test. </li><li>  Turn on Force Device and select a simulator from the list. </li><li>  Choose from the list Platform Version (or you can write for yourself, for example 8.1) </li><li>  Start the Appium server </li></ol><br>  Settings for web applications: <br><br><img src="https://habrastorage.org/web/d0e/b70/6c2/d0eb706c2b01439d977f68c119e4dbd0.jpg"><br><br><ol><li>  Open iOS Settings </li><li>  Select "Use Mobile Safari" </li><li>  Turn on Force Device and select a simulator from the list. </li><li>  Choose from the list Platform Version (or you can write for yourself, for example 8.1) </li><li>  Start the Appium server </li></ol><br><h3>  Desired capabilities for native and hybrid applications </h3><br>  What are DC and why, we discussed in Chapter 1, so let's go straight to the code.  First, import packages: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType;</code> </pre> <br>  Then create the desired capabilities (for native and hybrid): <br><br><pre> <code class="java hljs">DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities();<span class="hljs-comment"><span class="hljs-comment">//  File app=new File("path of the app");//  File,      caps.setCapability(MobileCapabilityType.APP,app);//    caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, "8.1");// iOS caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "iOS");// OS caps.setCapability(MobileCapabilityType.DEVICE_NAME, "iPhone 5");//     Appium  </span></span></code> </pre> <br><h3>  Desired capabilities for web applications </h3><br>  Import packages: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType;</code> </pre> <br>  Now install the desired capacities for the web application: <br><br><pre> <code class="java hljs">DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities();<span class="hljs-comment"><span class="hljs-comment">//  caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, "8.1");// iOS caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "iOS");// OS caps.setCapability(MobileCapabilityType.DEVICE_NAME, "iPhone 5");//     Appium   caps.setCapability(MobileCapabilityType.BROWSER_NAME, "Safari"); //  Safari</span></span></code> </pre> <br>  It remains to initialize the driver iOS. <br><br>  Import: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.ios.IOSDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL;</code> </pre> <br>  Initialization: <br><br><pre> <code class="java hljs">IOSDriver driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IOSDriver (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>),caps);</code> </pre> <br>  Now you can write a test using TestNG: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.ios.IOSDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.MalformedURLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.annotations.AfterClass; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.annotations.BeforeClass; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.annotations.Test; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAppIication</span></span></span><span class="hljs-class"> </span></span>{ IOSDriver driver; <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException</span></span>{ <span class="hljs-comment"><span class="hljs-comment">// desired capabilities DesiredCapabilities caps = new DesiredCapabilities(); File app=new File("path of the .app"); caps.setCapability(MobileCapabilityType.APP,app); caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, "8.1"); caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "iOS"); caps.setCapability(MobileCapabilityType.DEVICE_NAME, "iPhone 5"); caps.setCapability(MobileCapabilityType.BROWSER_NAME, "Safari");//    - driver = new IOSDriver (new URL("http://127.0.0.1:4723/wd/hub"), caps); driver.manage().timeouts().implicitlyWait(30,TimeUnit.SECONDS); } @Test public void testExample(){ //    } @AfterClass public void tearDown(){ driver.closeApp();//     //driver.quit(); // - } }</span></span></code> </pre> <br><hr><br><h2>  Automation of native applications </h2><br><h3>  Android </h3><br>  Below is an example of Android calculator automation.  In the example we are trying to add two numbers. <br><br><img src="https://habrastorage.org/web/253/134/7ab/2531347ab24f4218a08cbd885fa60ecd.jpg"><br><br><ol><li>  Update the desired capabilities in the setup () method to run the calculator: <br><br><pre> <code class="java hljs">caps.setCapability(<span class="hljs-string"><span class="hljs-string">"avd"</span></span>,<span class="hljs-string"><span class="hljs-string">"AVD_Nexus_4"</span></span>);<span class="hljs-comment"><span class="hljs-comment">// Mention the created AVD name caps.setCapability(MobileCapabilityType.APP_PACKAGE, "com.android.calculator2"); caps.setCapability(MobileCapabilityType.APP_ACTIVITY, "com.android.calculator2.Calculator");</span></span></code> </pre> <br></li><li>  Now you need to find two numbers.  We will search for them by name: <br><br><pre> <code class="java hljs">WebElement five=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"5"</span></span>)); WebElement four=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"4"</span></span>));</code> </pre> <br></li><li>  Also, you need to find the signs "+" and "=";  we will search by AccessabilityID: <br><br><pre> <code class="java hljs">WebElement plus=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"+"</span></span>)); WebElement equalTo=driver.findElementByAccessibilityId(<span class="hljs-string"><span class="hljs-string">"equals"</span></span>));</code> </pre> <br></li><li>  Now, click: <br><br><pre> <code class="java hljs">five.click(); plus.click(); four.click(); equalTo.click();</code> </pre> <br></li><li>  Run your test using TestNG: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAppIication</span></span></span><span class="hljs-class"> </span></span>{ AndroidDriver driver; <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException</span></span>{ DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities(); caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, <span class="hljs-string"><span class="hljs-string">"4.4"</span></span>); caps.setCapability(MobileCapabilityType.PLATFORM_NAME, <span class="hljs-string"><span class="hljs-string">"Android"</span></span>); caps.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"Android emulator"</span></span>); caps.setCapability(<span class="hljs-string"><span class="hljs-string">"avd"</span></span>,<span class="hljs-string"><span class="hljs-string">"AVD_Nexus_4"</span></span>);<span class="hljs-comment"><span class="hljs-comment">// Mention the created AVD name caps.setCapability(MobileCapabilityType.APP_PACKAGE, "com.android.calculator2"); caps.setCapability(MobileCapabilityType.APP_ACTIVITY, "com.android.calculator2.Calculator"); driver = new AndroidDriver (new URL("http://127.0.0.1:4723/wd/hub"), caps); driver.manage().timeouts().implicitlyWait(30,TimeUnit.SECONDS); } @Test public void testExample(){ WebElement five=driver.findElement(By.name("5")); five.click(); WebElement plus=driver.findElement(By.name("+")); plus.click(); WebElement four=driver.findElement(By.name("4")); four.click(); WebElement equalTo=driver.findElementByAccessibilityId("equals")); equalTo.click(); } @AfterClass public void tearDown(){ driver.closeApp(); } }</span></span></code> </pre> <br></li></ol><br><h3>  iOS </h3><br>  Below is an example of working with the TestApp application;  You can download it <a href="">from here</a> .  After downloading, unzip it. <br><br><img src="https://habrastorage.org/web/39a/82f/767/39a82f767e964f9ba4967b0b1e0d82bc.jpg"><br><br>  In this example, let's try to add two numbers: <br><br><ol><li>  Update the setup () method to start TestApp: <br><br><pre> <code class="java hljs">File app=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(<span class="hljs-string"><span class="hljs-string">"/Users/mhans/appium/ios/TestApp.app"</span></span>);<span class="hljs-comment"><span class="hljs-comment">//You can change it with your app address caps.setCapability(MobileCapabilityType.APP,app);</span></span></code> </pre> <br></li><li>  Now you need to find the elements for entering numbers;  we will search by name: <br><br><pre> <code class="java hljs">WebElement editBox1=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"TextField1"</span></span>)); WebElement editBox2=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"TextField2"</span></span>));</code> </pre> <br></li><li>  Then, find the compute button;  use AccessibilityID: <br><br><pre> <code class="java hljs">WebElement computeSumBtn=driver.findElementByAccessibilityId(<span class="hljs-string"><span class="hljs-string">"Compute Sum"</span></span>));</code> </pre> <br></li><li>  Enter a value in the first field: <br><br><pre> <code class="java hljs">editBox1.sendKeys(<span class="hljs-string"><span class="hljs-string">"10"</span></span>);</code> </pre> </li><li>  Let's enter the value in the second: <br><br><pre> <code class="java hljs">editBox2.sendKeys(<span class="hljs-string"><span class="hljs-string">"20"</span></span>);</code> </pre> </li><li>  Now, click on the Compute Sum button: <br><br><pre> <code class="java hljs">computeSumBtn.click();</code> </pre> </li><li>  Run your test using TestNG: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAppIication</span></span></span><span class="hljs-class"> </span></span>{ IOSDriver driver; <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException</span></span>{ File app=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(<span class="hljs-string"><span class="hljs-string">"/Users/mhans/appium/ios/TestApp.app"</span></span>);<span class="hljs-comment"><span class="hljs-comment">//You can change it with your app address DesiredCapabilities caps = new DesiredCapabilities(); caps.setCapability(MobileCapabilityType.APP,app); caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, "8.1"); caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "iOS"); caps.setCapability(MobileCapabilityType.DEVICE_NAME, "iPhone 5"); driver = new IOSDriver (new URL("http://127.0.0.1:4723/wd/hub"), caps); driver.manage().timeouts().implicitlyWait(30,TimeUnit.SECONDS); } @Test public void testExample(){ WebElement editBox1=driver.findElement(By.name("TextField1")); editBox1.sendKeys("10"); WebElement editBox2=driver.findElement(By.name("TextField2")); editBox2.sendKeys("20"); WebElement computeSumBtn=driver.findElementByAccessibilityId("Compute Sum")); computeSumBtn.click(); } @AfterClass public void tearDown(){ driver.closeApp(); } }</span></span></code> </pre> <br></li></ol><br><hr><br><h2>  Work with web applications </h2><br><h3>  Android </h3><br>  As an example, take the Google search page.  To work, we will use the Android native browser: <br><br><img src="https://habrastorage.org/web/94a/5fb/25f/94a5fb25f02d42feac7c1c8de2901c18.jpg"><br><br><ol><li>  Update the setup () method to launch the browser: <br><br><pre> <code class="java hljs">caps.setCapability(<span class="hljs-string"><span class="hljs-string">"avd"</span></span>,<span class="hljs-string"><span class="hljs-string">"AVD_Nexus_4"</span></span>); caps.setCapability(MobileCapabilityType.BROWSER_NAME, <span class="hljs-string"><span class="hljs-string">"Browser"</span></span>);</code> </pre> <br></li><li>  Now you need to go to <a href="https://www.google.com/">www.google.com</a> : <br><br><pre> <code class="java hljs">driver.get(<span class="hljs-string"><span class="hljs-string">"https://www.google.com"</span></span>);</code> </pre> <br></li><li>  We need to find the element searchBox;  we will search by name: <br><br><pre> <code class="java hljs">WebElement searchBox=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"q"</span></span>));</code> </pre> <br></li><li>  Then, enter the search query: <br><br><pre> <code class="java hljs">searchBox.sendKeys(<span class="hljs-string"><span class="hljs-string">"Appium for mobile automation"</span></span>);</code> </pre> <br></li><li>  Run your test using TestNG: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAppIication</span></span></span><span class="hljs-class"> </span></span>{ AndroidDriver driver; <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException</span></span>{ DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities(); caps.setCapability(MobileCapabilityType.BROWSER_NAME, <span class="hljs-string"><span class="hljs-string">"Browser"</span></span>); caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, <span class="hljs-string"><span class="hljs-string">"4.4"</span></span>); caps.setCapability(MobileCapabilityType.PLATFORM_NAME, <span class="hljs-string"><span class="hljs-string">"Android"</span></span>); caps.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"Android emulator"</span></span>); caps.setCapability(<span class="hljs-string"><span class="hljs-string">"avd"</span></span>,<span class="hljs-string"><span class="hljs-string">"AVD_Nexus_4"</span></span>);<span class="hljs-comment"><span class="hljs-comment">// Mention the created AVD name driver = new AndroidDriver (new URL("http://127.0.0.1:4723/wd/hub"), caps); driver.manage().timeouts().implicitlyWait(30,TimeUnit.SECONDS); } @Test public void testExample() { driver.get("https://www.google.com"); WebElement searchBox=driver.findElement(By.name("q")); searchBox.sendKeys("Appium for mobile automation"); } @AfterClass public void tearDown(){ driver.quit(); } }</span></span></code> </pre> <br></li></ol><br><h3>  iOS </h3><br>  As an example, take the Google search page.  To work, we will use the native Safari browser: <br><br><img src="https://habrastorage.org/web/01b/b3d/cff/01bb3dcff6694914a0faa0198cd9ed51.jpg"><br><br><ol><li>  Update the setup () method to launch Safari: <br><br><pre> <code class="java hljs">caps.setCapability(MobileCapabilityType.BROWSER_NAME, <span class="hljs-string"><span class="hljs-string">"Safari"</span></span>);</code> </pre> <br></li><li>  Go to <a href="https://www.google.com/">www.google.com</a> : <br><br><pre> <code class="java hljs">driver.get(<span class="hljs-string"><span class="hljs-string">"https://www.google.com"</span></span>);</code> </pre> <br></li><li>  Then, find the search string (by name): <br><br><pre> <code class="java hljs">WebElement searchBox=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"q"</span></span>));</code> </pre> <br></li><li>  In the search box send a request: <br><br><pre> <code class="java hljs">searchBox.sendKeys(<span class="hljs-string"><span class="hljs-string">"Appium for mobile automation"</span></span>);</code> </pre> <br></li><li>  Run your test using TestNG: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAppIication</span></span></span><span class="hljs-class"> </span></span>{ IOSDriver driver; <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException</span></span>{ DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities(); caps.setCapability(MobileCapabilityType.BROWSER_NAME, <span class="hljs-string"><span class="hljs-string">"Safari"</span></span>); caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, <span class="hljs-string"><span class="hljs-string">"8.1"</span></span>); caps.setCapability(MobileCapabilityType.PLATFORM_NAME, <span class="hljs-string"><span class="hljs-string">"iOS"</span></span>); caps.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"iPhone 5"</span></span>); driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IOSDriver (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), caps); driver.manage().timeouts().implicitlyWait(<span class="hljs-number"><span class="hljs-number">30</span></span>,TimeUnit.SECONDS); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testExample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ driver.get(<span class="hljs-string"><span class="hljs-string">"https://www.google.com"</span></span>); WebElement searchBox=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"q"</span></span>)); searchBox.sendKeys(<span class="hljs-string"><span class="hljs-string">"Appium for mobile automation"</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@AfterClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tearDown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ driver.quit(); } }</code> </pre> <br></li></ol><br><hr><br><h2>  Hybrid Application Automation </h2><br><h3>  Android </h3><br>  For study, we use testApp.  You can download it <a href="">from here</a> .  Before working with hybrid applications, you need to follow the <a href="https://developer.chrome.com/devtools/docs/remote-debugging">instructions</a> . <br><br><img src="https://habrastorage.org/web/54e/ba2/214/54eba2214ea046499e2fe60ca8f5669b.jpg"><br><ol><li>  Update the setup () method to start the application: <br><br><pre> <code class="java hljs">File app=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(<span class="hljs-string"><span class="hljs-string">"C:\\Appium_test\\testApp.apk"</span></span>); caps.setCapability(MobileCapabilityType.APP,app); caps.setCapability(<span class="hljs-string"><span class="hljs-string">"avd"</span></span>,<span class="hljs-string"><span class="hljs-string">"AVD_Nexus_4"</span></span>); caps.setCapability(MobileCapabilityType.APP_PACKAGE, <span class="hljs-string"><span class="hljs-string">" com.example.testapp"</span></span>); caps.setCapability(MobileCapabilityType.APP_ACTIVITY, <span class="hljs-string"><span class="hljs-string">" MainActivity"</span></span>);</code> </pre> <br></li><li>  We need to find a field to enter our URL (https://www.google.com), find it by ID: <br><br><pre> <code class="java hljs">WebElement editBox=driver.findElement(By.id(<span class="hljs-string"><span class="hljs-string">"com.example.testapp:id/urlField"</span></span>)); editBox.sendKeys(<span class="hljs-string"><span class="hljs-string">"https://www.google.com"</span></span>);</code> </pre> <br></li><li>  Now find the Go button: <br><br><pre> <code class="java hljs">WebElement goButton=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"Go"</span></span>));</code> </pre> <br></li><li>  Click on the button: <br><br><pre> <code class="java hljs">goButton.click();</code> </pre> <br></li><li>  Now you need to switch the context: <br><br><pre> <code class="java hljs">Set&lt;String&gt; contexts = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String context : contexts) { System.out.println(context); <span class="hljs-comment"><span class="hljs-comment">//    NATIVE_APP  WEBVIEW_com.example.testapp }</span></span></code> </pre> <br></li><li>  Switch to web_view: <br><br><pre> <code class="java hljs">driver.context(<span class="hljs-string"><span class="hljs-string">"WEBVIEW_com.example.testapp"</span></span>);</code> </pre> <br>  or so: <br><br><pre> <code class="java hljs">driver.context((String) contextNames.toArray()[<span class="hljs-number"><span class="hljs-number">1</span></span>]);</code> </pre> <br></li><li>  Now you can work with the Google webpage.  We can click on the Images tab and find the item by linkText: <br><br><pre> <code class="java hljs">WebElement images=driver.findElement(By.linkText(<span class="hljs-string"><span class="hljs-string">"Images"</span></span>)); images.click();</code> </pre> <br></li><li>  Run your test using TestNG: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAppIication</span></span></span><span class="hljs-class"> </span></span>{ AndroidDriver driver; <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException</span></span>{ DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities(); File app= <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(<span class="hljs-string"><span class="hljs-string">"/Users/mhans/appium/ios/webViewApp. app"</span></span>); caps.setCapability(MobileCapabilityType.APP,app<span class="hljs-string"><span class="hljs-string">"); caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, "</span></span><span class="hljs-number"><span class="hljs-number">4.4</span></span><span class="hljs-string"><span class="hljs-string">"); caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "</span></span>Android<span class="hljs-string"><span class="hljs-string">"); caps.setCapability(MobileCapabilityType.DEVICE_NAME, "</span></span>Android emulator<span class="hljs-string"><span class="hljs-string">"); caps.setCapability("</span></span>avd<span class="hljs-string"><span class="hljs-string">","</span></span>AVD_Nexus_4<span class="hljs-string"><span class="hljs-string">");// Mention the created AVD name caps.setCapability(MobileCapabilityType.AUTOMATION_NAME, "</span></span>Appium<span class="hljs-string"><span class="hljs-string">");//Use Selendroid in case of &lt;4.4 android version caps.setCapability(MobileCapabilityType.APP_PACKAGE, "</span></span>com.example.testapp<span class="hljs-string"><span class="hljs-string">"); caps.setCapability(MobileCapabilityType.APP_ACTIVITY, "</span></span>com.example.testapp.MainActivity<span class="hljs-string"><span class="hljs-string">"); driver = new AndroidDriver (new URL("</span></span>http:<span class="hljs-comment"><span class="hljs-comment">//127.0.0.1:4723/wd/hub"), caps); driver.manage().timeouts().implicitlyWait(30,TimeUnit.SECONDS); } @Test public void testExample(){ WebElement editBox=driver.findElement(By.id("com.example.testapp:id/urlField")); editBox.sendKeys("https://www.google.com"); WebElement goButton=driver.findElement(By.name("Go")); goButton.click(); Set&lt;String&gt; contexts = driver.getContextHandles(); for (String context : contexts) { System.out.println(context); } driver.context((String) contexts.toArray()[1]); WebElement images=driver.findElement(By.linkText("Images")); images.click(); } @AfterClass public void tearDown(){ driver.closeApp(); } }</span></span></code> </pre></li></ol><br><h3>  iOS </h3><br>  Here we take, for example, WebViewApp.  You can download <a href="">from here</a> .  After downloading, unzip the application: <br><br><img src="https://habrastorage.org/web/709/62e/5b3/70962e5b380d48679b2e09f0aefa9f88.jpg"><br><br><ol><li>  Update the setup () method to start the application: <br><br><pre> <code class="java hljs">File app=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(<span class="hljs-string"><span class="hljs-string">"/Users/mhans/appium/ios/WebViewApp.app"</span></span>); caps.setCapability(MobileCapabilityType.APP,app);</code> </pre> <br></li><li>  You need to find a search string to pass the URL there (https://www.google.com).  Let's find it by className: <br><br><pre> <code class="java hljs">WebElement editBox=driver.findElement(By.className(<span class="hljs-string"><span class="hljs-string">"UIATextField"</span></span>)); editBox.sendKeys(<span class="hljs-string"><span class="hljs-string">"www.google.com"</span></span>);</code> </pre> <br></li><li>  Now, by name find the Go button: <br><br><pre> <code class="java hljs">WebElement goButton=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"Go"</span></span>));</code> </pre> <br></li><li>  Cry: <br><br><pre> <code class="java hljs">goButton.click();</code> </pre> <br></li><li>  Now we need to get a list of contexts: <br><br><pre> <code class="java hljs">Set&lt;String&gt; contexts = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String context : contexts) { System.out.println(context); }</code> </pre> <br></li><li>  And switch to work with web_view: <br><br><pre> <code class="java hljs">driver.context(<span class="hljs-string"><span class="hljs-string">"WEBVIEW_com.example.testapp"</span></span>);</code> </pre> <br>  or <br><br><pre> <code class="java hljs">driver.context((String) contextNames.toArray()[<span class="hljs-number"><span class="hljs-number">1</span></span>]);</code> </pre> <br></li><li>  Now you can work with the Google webpage.  We can click on the Images tab and find the item by linkText: <br><br><pre> <code class="java hljs">WebElement images=driver.findElement(By.linkText(<span class="hljs-string"><span class="hljs-string">"Images"</span></span>)); images.click();</code> </pre> <br></li><li>  Run your test using TestNG: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAppIication</span></span></span><span class="hljs-class"> </span></span>{ IOSDriver driver; <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException</span></span>{ DesiredCapabilities caps = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities(); caps.setCapability(MobileCapabilityType.PLATFORM_VERSION, <span class="hljs-string"><span class="hljs-string">"8.1"</span></span>); caps.setCapability(MobileCapabilityType.PLATFORM_NAME, <span class="hljs-string"><span class="hljs-string">"iOS"</span></span>); caps.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"iPhone 5"</span></span>); driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IOSDriver (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), caps); driver.manage().timeouts().implicitlyWait(<span class="hljs-number"><span class="hljs-number">30</span></span>,TimeUnit.SECONDS); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testExample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ WebElement editBox=driver.findElement(By.className(<span class="hljs-string"><span class="hljs-string">"UIATextField"</span></span>)); editBox.sendKeys(<span class="hljs-string"><span class="hljs-string">"https://www.google.com"</span></span>); WebElement goButton=driver.findElement(By.name(<span class="hljs-string"><span class="hljs-string">"Go"</span></span>)); goButton.click(); Set&lt;String&gt; contexts = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String context : contexts) { System.out.println(context); } driver.context((String) contexts.toArray()[<span class="hljs-number"><span class="hljs-number">1</span></span>]); WebElement images=driver.findElement(By.linkText(<span class="hljs-string"><span class="hljs-string">"Images"</span></span>)); images.click(); } <span class="hljs-meta"><span class="hljs-meta">@AfterClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tearDown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ driver.closeApp(); } }</code> </pre> </li></ol><br><hr><br>  That's all.  In the next chapter, we will look at the features of working with real devices. </div><p>Source: <a href="https://habr.com/ru/post/332814/">https://habr.com/ru/post/332814/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332802/index.html">Pathfinder: how we make the interface for CRPG</a></li>
<li><a href="../332804/index.html">Simple form validation without JS</a></li>
<li><a href="../332806/index.html">Oculus Rift integration into desktop Direct3D application on the example of Renga</a></li>
<li><a href="../332808/index.html">How I revived VCSA 6.0</a></li>
<li><a href="../332812/index.html">Stupidly Simple DDoS Protocol (SSDP) generates 100 Gbps DDoS</a></li>
<li><a href="../332816/index.html">24-core CPU, and I can not move the cursor</a></li>
<li><a href="../332818/index.html">Translation of excerpts from Robert Heinlein‚Äôs book, Take Your Government Back - part 26</a></li>
<li><a href="../332820/index.html">How to grow better support in 15 years</a></li>
<li><a href="../332822/index.html">How to confuse analytics - 5. Conceptual apparatus</a></li>
<li><a href="../332824/index.html">What is your career after ITMO University? Graduates tell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>