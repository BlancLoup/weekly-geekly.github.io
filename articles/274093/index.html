<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Third New Year Call Center: Ultra-fast ReactJS and Typescript Development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Happy, colleagues! We have a tradition in voximplant - before each new year we do a New Year's call center where we run new features of our platform. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Third New Year Call Center: Ultra-fast ReactJS and Typescript Development</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/9e2/da2/37c/9e2da237c5484360afb3d5d54f97a912.jpeg" align="left">  Happy, colleagues!  We have a tradition in voximplant - before each new year we do a <a href="http://habrahabr.ru/company/Voximplant/blog/164247/">New Year's</a> <a href="http://habrahabr.ru/company/Voximplant/blog/247345/">call center</a> where we run new features of our platform.  This year, a lot of features happened.  In addition to video calls and video recording, we began to actively use typescript and react.  The modern ‚Äúhipster‚Äù technology stack accelerates the development incredibly: from the moment maxim magazine suggested that we make a call center with photo models as Snow Maidens and less than two days passed before the first accepted video call.  This year we did not make the announcement of the promo itself on Habr√©, after all the format is not the same, we want to talk about code and development, right?  Therefore, under the cut, I will share our experience of creating solutions in a short time and will tell you what difficulties we encountered. <br><br><a name="habracut"></a><br><br>  The idea of ‚Äã‚Äãpromo is extremely simple.  Maxim chooses several sociable finalists of various beauty contests and puts them in the studio.  We provide them with a simple ‚Äúdispatching‚Äù interface with a large ‚Äúready to talk‚Äù button, and for the publishing site we are making a ‚Äúuser-friendly‚Äù interface with the ability to make a video call from the barser.  In this case, the dispatching interface is displayed on a special url of our site, and the user interface on the site of the publication in the iframe. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/7f6/58b/9fd/7f658b9fd22a41d98108514ed8bb63b7.png" align="right">  ReactJS and Typescript I mentioned in the title for a reason - both of these technologies play a key role in very fast development.  Let's start with React, the main force of which is not at all in the ‚Äúshadow dom‚Äù and props, as many people think.  The power of ReactJS is to split the user interface into smaller components.  This allows you not only to reuse components between similar projects, but also to quickly assemble ‚Äúcomposite‚Äù user interfaces from pieces.  Simple if in the component ‚Äúmain window‚Äù allows, depending on the state of the program, to show either the login form, or an error message, or a queue interface, or a video call window.  Such a declarative approach gives the programmer an opportunity to focus on user experience and not wrestle with questions ‚Äúoh, how can parts of my program communicate with each other and what should I do with all these flags‚Äù.  Creating an interface from small pieces allows you to quickly work with errors: in case of an erroneous situation, you do not need to ‚Äúswitch‚Äù, create ‚Äúwindows‚Äù, use global objects - just one if in the ‚Äúrender‚Äù method and now the login window ‚Äúmagically‚Äù shows a beautiful A red notification that the login did not happen due to an incorrect login and password. <br><br><img src="https://habrastorage.org/files/6ed/82d/0c7/6ed82d0c757345a5b2a39c8efaee4abf.png" align="left">  The power of Typescript lies on a different plane: optional strong typing.  The code is written ‚Äúlike es6‚Äù, but in key places the programmer leaves ‚Äúhints‚Äù for the compiler in the form of types.  The result - the majority of errors float and are corrected at a compilation stage and static analysis.  And if you add a web server with dev server at the ready, the development becomes a turbojet: the developer saves the changes, the webpack reassembles the project in the background, typescript and eslint study it carefully, and less than a second you can see the build result or not ( pop-up window provides a special module webpack-notifier, highly recommended). <br><br clear="all">  Not without complications.  It is important to understand that for all its strength, the ‚Äúreactjs + typescript + webpack‚Äù bundle is very young and still ‚Äúraw‚Äù.  You need to know the "nuances" (which we try to regularly talk about in Habr√©), get a hand on quickly decoding the typescript compiler errors (which, by the confusion of messages in places, gives a light to C ++) and generally be prepared for surprises.  But it's worth it - the extremely fast prototyping and ‚Äúupgrade‚Äù of the code to the production state by successive addition of types and checks allowed us to collect our promo in less than two days.  Of course, we used the cheat in the face of our own platform, which gave us ‚Äúout of the box‚Äù web sdk with video calls, automatic user authorization by key and queue of calls.  For simple projects, we even have an internal <a href="https://github.com/voximplant/vox-react-skeleton">skeleton</a> , which is assembled into three teams: <br><br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/voximplant/vox-react-skeleton.git &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> vox-react-skeleton npm install npm run build</code> </pre> <br><br><img src="https://habrastorage.org/files/17c/f82/502/17cf82502b214508b2fbb6c41baa8175.png" align="right">  It took a little bit to finish the platform with a file - this was the first case of using an automated <a href="http://habrahabr.ru/company/Voximplant/blog/247345/">queue</a> with video calls, and it turned out that the corresponding flag in api simply does not exist.  The <b>video</b> parameter was quickly added to the <b>VoxEngine.enqueueACDRequest</b> method, setting it to <b>true</b> turns an ordinary call into a video call. <br><br>  What else of the fun?  Next to our video chat, a completely new-fashioned periscope was located, but it quickly had to be turned off - a flurry of comments about Snow Maiden went beyond what was allowed on the air.  On average, the girls talked with each caller for 2-3 minutes, that is, from 10 to 20 "good" calls per hour.  As promised, the video call is lower, and another video is on <a href="https://missxmas.maximonline.ru/">the</a> promo <a href="https://missxmas.maximonline.ru/">website</a> .  Happy New Year! <br><br clear="all"><iframe width="560" height="315" src="https://www.youtube.com/embed/Re03z93FmrU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/274093/">https://habr.com/ru/post/274093/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274075/index.html">Christmas sale: rent a VPS or a server in the Netherlands or the USA and receive from 1 to 3 months as a gift</a></li>
<li><a href="../274077/index.html">Maaaalenka PDF assembly of hardcore articles about GameDev</a></li>
<li><a href="../274081/index.html">John Horton Conway: Life is like a game</a></li>
<li><a href="../274083/index.html">As I wrote the C compiler in 40 days</a></li>
<li><a href="../274091/index.html">‚ÄúRoslyn is still a very raw technology‚Äù - an interview with Sergey Shkredov, the head of .NET-direction in JetBrains</a></li>
<li><a href="../274097/index.html">Receptions work in Blender. Part 2</a></li>
<li><a href="../274099/index.html">Who needs Go and why?</a></li>
<li><a href="../274101/index.html">The digest of interesting materials from the world of Drupal # 16</a></li>
<li><a href="../274103/index.html">Simple algebraic data types</a></li>
<li><a href="../274105/index.html">GOTPass: new passwordless user authentication system</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>