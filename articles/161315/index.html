<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AWS Insight: How Placement Groups Work</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Many have projects with a highload. Few use clusters on AWS. And those who still use them, should use the Placement group. 

 What it is 
 P...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AWS Insight: How Placement Groups Work</h1><div class="post__text post__text-html js-mediator-article">  Hello! <img src="https://habrastorage.org/storage2/de2/8d5/cd3/de28d5cd30892edd8b0d669b656dfede.png" alt="image" align="right"><br><br>  Many have projects with a highload.  Few use clusters on AWS.  And those who still use them, should use the Placement group. <br><br><h4>  What it is </h4><br>  <b>Placement Groups</b> (logical groups) - logical associations of cluster types of AWS instances, which allow to reduce network delays.  AWS guarantees 10 Gb speed between servers running in the same placement group.  Theoretically, these instances run geographically nearby. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At usual placement of instans approximately the following picture turns out: <br><img src="https://habrastorage.org/storage2/478/cd5/de1/478cd5de19872b52bc8b111442f5aa79.png"><br><a name="habracut"></a><br>  When instances start in the placement group, the instances are physically close, thus it turns out to win in network delays: <br><img src="https://habrastorage.org/storage2/62b/486/079/62b48607919fe0a6aa2075a5e845d3ce.png"><br><br><h4>  How to create a placement group and run instances in it </h4><br>  There are 2 ways to create both a placement group and to launch instances in it.  Note that already launched cars can no longer be placed in the placement group. <br><br><h5>  1. CLI Tools </h5><br>  Create a placement group: <br><pre><code class="bash hljs">$ ec2-create-placement-group MyFirstCluster -strategy cluster</code> </pre> <br>  And we will launch 10 cluster GPU instances in it: <br><pre> <code class="bash hljs">$ ec2-run-instances ami-02f54a6b -n 10 --instance-type cg1.4xlarge --placement-group MyFirstCluster --group MyClusterSecurityGroup</code> </pre><br><h5>  2. AWS Console </h5><br>  Create a placement group: <br><img src="https://habrastorage.org/storage2/6d6/95b/6c1/6d695b6c167ad0bce1842bb07db86806.png"><br><br>  And we add 10 new instances to the group, choosing the placement group when creating them: <br><img src="https://habrastorage.org/storage2/25d/19f/7f1/25d19f7f13ecf4fdad8ca02c5e665c96.png"><br><br><h4>  Performance tests </h4><br>  An article would be ‚Äúabout nothing‚Äù if there were no network performance tests between cluster instances outside and in the placement groups. <br><br><h5>  Test </h5><br>  The test is performed between two <b>Cluster Compute Quadruple Extra Large Instance</b> cluster instances (cc1.4xlarge).  On one, the default NGINX is installed and started.  On the other is httpd with the Apache Bench tool. <br><br>  1000 times a line of the form is launched: <br><pre> <code class="bash hljs">ab -c 60 -n 4000 http://<span class="hljs-variable"><span class="hljs-variable">$ADDR</span></span>/</code> </pre><br>  As a result, 1000 * 60 * 4000 = <b>240.000.000 requests were</b> sent to the server.  We will calculate the average response time, and on this we will build our guesses about how well the placement group works. <br><br><h5>  results </h5><br>  Of course it is hard to figure out whether a test is valid, but that is, that is. <br><br>  Here is a graph of the average server response time (grep 'Time per request' | grep "across"): <br><img src="https://habrastorage.org/storage2/a1d/7b3/a47/a1d7b3a475f79925ba0528b70329fe70.png"><br><br>  It can be seen that the schedule with servers in the placement group is a little faster than outside it. <br><br><h4>  findings </h4><br>  When using cluster instances on EC2 / VPC, it is necessary and useful to use Placement Groups.  This slightly reduces network latency, which, with long-term use, can significantly affect cluster performance. <br><br>  AWS recommends that you do not use more than 128 instances in one placement group, therefore it is better to divide them into several groups if you have many servers. <br><br>  Do you use Placement Groups in your AWS projects?  Any interesting performance data? </div><p>Source: <a href="https://habr.com/ru/post/161315/">https://habr.com/ru/post/161315/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../161297/index.html">Vice.com declassified John McAfee‚Äôs location via EXIF ‚Äã‚Äãmetadata</a></li>
<li><a href="../161301/index.html">We forge your signature with the help of a hinge mechanism. Kempe theorem</a></li>
<li><a href="../161305/index.html">Google Cloud Messaging - write backend in PHP</a></li>
<li><a href="../161307/index.html">If you decide to implement an ERP system</a></li>
<li><a href="../161311/index.html">Autographer</a></li>
<li><a href="../161317/index.html">Backup (RK) of data of IBM SAP HANA by means of IBM Tivoli Storage Manager</a></li>
<li><a href="../161319/index.html">Petersburg students - champions of Russia in programming in 2012</a></li>
<li><a href="../161321/index.html">Rockchip RK3066 compatible version of Ubuntu appeared</a></li>
<li><a href="../161323/index.html">What do you think of Windows 8?</a></li>
<li><a href="../161325/index.html">We continue acquaintance with Technopark Skolkovo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>