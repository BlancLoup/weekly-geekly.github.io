<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I set up IPv6 6to4 on Keenetic</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It so happened that my provider Rostelecom does not want or still cannot provide me with IPv6. And I really want to try it. Immediately make a reserva...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I set up IPv6 6to4 on Keenetic</h1><div class="post__text post__text-html js-mediator-article">  It so happened that my provider Rostelecom does not want or still cannot provide me with IPv6.  And I really want to try it.  Immediately make a reservation: for normal operation requires static IPv4. <br><br>  ZyXEL Keenetic router users know that it can be configured through a tunnel broker.  And those who have already tried and set up, have remained dissatisfied with the speed of work and ping, which depend on the broker‚Äôs network and are not very pleased with the users in Russia. <br><br>  So, having tried all kinds of free brokers, I threw this idea, but did not quit studying the issue.  So I came across <a href="https://version6.ru/6to4/howto">6to4</a> .  Everything there is certainly interesting, but to set up a slightly lazy business on every device in the house.  Well, once the question I learned, what came?  IPv6 6to4 is the same IPv6 6in4 that brokers provide us.  It remains to be the case - to try to feed all this to ZUHEL. <br><a name="habracut"></a><br>  Do not forget to check the section "System Requirements" of the above site.  It says: <i>Check if you have access to the IPv4 address 192.88.99.1 (for example, using ping).</i>  <i>If this address is not pinged, it‚Äôs most likely that your ISP has something seriously ‚Äúnot so‚Äù configured, and in this case, 6to4 with automatic gateway selection will not work.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In order not to sit with a calculator and a notepad, we will use the site <a href="https://6to4.ru/debian/">6to4.ru</a> and find out the IPv6 address for your static IPv4.  <s>It is written in the upper right corner after the words: <i>Your 6to4 prefix is</i></s> . <br><br>  <b>The site made changes and added a calculator.</b>  Enter IPv4, click <i>Get config</i> and get IPv6. <br><br>  And this is why static: if we configure all this for a dynamic address, then after each IP change we will need to return to the settings of the router and change the address there. <br><br>  We learned the address, now we go to the router. <br><br>  On the IPv6 configuration page, in the <i>Server Address</i> field <i>,</i> enter the address 192.88.99.1.  In the <i>IPv6 Address</i> field <i>, we</i> indicate the address ‚Äúcounted‚Äù on the site without a prefix, but with the addition of 1 at the end.  Since  This will be the address of our router.  In the <i>IPv6 routing address</i> field <i>,</i> specify the address along with the prefix. <br><br><img src="https://habrastorage.org/files/9c7/a5c/9f2/9c7a5c9f2d124c8c8d3b5f859edf73fd.png"><br><br>  Everything seems to be set, but it was not there.  There is a problem with DNS servers. <br>  Since  The name server is unknown, we will not open sites. <br>  Let's use the favorite servers' DNS servers: 2001: 4860: 4860 :: 8888 and 2001: 4860: 4860 :: 8844. <br>  Specify on each machine manually?  Not interesting either. <br><br>  Web muzzle does not allow us to specify these addresses, swears at the syntax. <br><br>  Having rummaged on the ZyXEL website, we find out that the DNS server can be set by a command through the terminal.  But I took the path of least resistance and, through the same web, downloaded the <i>startup-config</i> configuration file, edited it and downloaded it back. <br><br>  Almost at the very end of the file, after the line: <b>ipv6 local-prefix default</b> , added lines: <br><br>  <b>ipv6 name-server 2001: 4860: 4860 :: 8888</b> <b><br></b>  <b>ipv6 name-server 2001: 4860: 4860 :: 8844</b> <br><br>  After downloading the configuration file, we reboot the router and get IPv6 on all machines, including smartphones. <br><br>  Now we have fast IPv6 Internet and small ping without dependence on tunnel brokers. <br><br><img src="https://habrastorage.org/files/2d8/a68/206/2d8a68206e294d74a11329bbcacabb77.png"><br><br>  <b>UPD:</b> <br>  After the article, ZyXEL support decided to add IPv6 6to4 to the firmware. <br>  Now it is enough to execute commands in the console: <br>  <b>interface TunnelSixToFour0</b> <b><br></b>  <b>ipv6 force-default</b> <b><br></b>  <b>up</b> <b><br></b>  <b>system config-save</b> <br><br>  Or in the configuration file after all your interfaces add the same lines: <br>  <i>interface bridge2</i> <i><br></i>  <i>name Home2</i> <i><br></i>  <i>- // -</i> <i><br></i>  <i>!</i> <i><br></i>  <i>interface PPPoE0</i> <i><br></i>  <i>description inet</i> <i><br></i>  <i>- // -</i> <i><br></i>  <i>!</i> <br>  <b>interface TunnelSixToFour0</b> <b><br></b>  <b>ipv6 force-default</b> <b><br></b>  <b>up</b> <b><br></b>  <b>!</b> </div><p>Source: <a href="https://habr.com/ru/post/257863/">https://habr.com/ru/post/257863/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257843/index.html">As we thought out the designer for children's robotics. # 2</a></li>
<li><a href="../257851/index.html">Secrets of formatting letters in helpdesk</a></li>
<li><a href="../257853/index.html">‚ÄúConvenient hosting‚Äù: Pre-installation of the control panel and additional order of licenses on the fly</a></li>
<li><a href="../257855/index.html">Nutanix Community Edition - open beta testing. Free software version for everyone</a></li>
<li><a href="../257861/index.html">We put controllers on a diet: Android</a></li>
<li><a href="../257865/index.html">Z-monitor: monitoring and control of government orders</a></li>
<li><a href="../257867/index.html">DIY Robot Vacuum Cleaner</a></li>
<li><a href="../257869/index.html">MyBatis and OSGi</a></li>
<li><a href="../257871/index.html">MBLT15: A week before the international mobile conference</a></li>
<li><a href="../257875/index.html">Thoughts on the ideal programming language</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>