<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of space shooter for android using the Unity3D game engine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! In this article, I want to share the experience of developing my game using the Unity game engine. 

 The concept of the game is that you ne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of space shooter for android using the Unity3D game engine</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/dea/578/b7d/dea578b7d7d642ad9ea271c04363b1ba.png"></div><br>  Good day!  In this article, I want to share the experience of developing my game using the Unity game engine. <br><br>  The concept of the game is that you need to take control of the starship and destroy as many meteorites as possible.  On your way will appear enemy spaceships that will disturb you and after their destruction there will appear ‚Äúcapsules‚Äù after selecting which a new type of weapon will be available.  The game will be called Galaxy Desteroid. <br><a name="habracut"></a><br><h2>  Development </h2><br>  The graphics of the game consists of the following textures: <br><br><img src="https://habrastorage.org/files/df5/832/03c/df583203cdb54da28d32bebabbd711db.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Based on these textures, the following prefabs were created. <br><br><img src="https://habrastorage.org/files/e8f/da5/e6c/e8fda5e6ccc94d809fc011a7c07915ab.png"><br><br>  Where: <br><br>  asteroidrotate - meteorite to be destroyed <br><br>  enemy - enemy spaceship <br><br>  explosionasteroid, explosionenemy, explosionplayer - this is an explosion animation created using particle system <br><br>  gunactivator (s) - these are capsules that will activate a different type of weapon in the game. <br><br>  Everything else like laser, etc.  this is a weapon. <br><br>  The game will include 2 scenes: the main menu and the game scene. <br><br><h2>  Main menu </h2><br><img src="https://habrastorage.org/files/a1c/984/fec/a1c984fec34543168ff6ecdf3dac768a.png"><br><br>  Where ‚Äúmenu‚Äù is the main menu and ‚Äú1‚Äù is a game scene. <br><br><img width="400" src="https://habrastorage.org/files/0e8/90a/7b0/0e890a7b01fa49009d2b7151b9a0b852.png"><br><br><img src="https://habrastorage.org/files/bcc/259/cd2/bcc259cd2a374baab828bf28fa34e22f.png"><br><br>  I used a sprite with the name ‚Äúspace‚Äù as a background, a space was drawn on it. <br><br><img src="https://habrastorage.org/files/074/211/a76/074211a76b744b539dbefd0c8b7f332e.png"><br><br>  Next, create the menu.cs script (right click ‚Üí select Create ‚Üí C # Script) and ‚Äúhang‚Äù it on the background.  background is a sprite with 100% transparency on which the main controls (START / EXIT) are created and the space is just for decoration. <br><br>  Script content: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Runtime.Serialization.Formatters.Binary; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.SceneManagement; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">menu</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GUIStyle mystyle;<span class="hljs-comment"><span class="hljs-comment">//      GUI (,  ...) string score; void Start () { StreamReader scoredata = new StreamReader (Application.persistentDataPath + "/score1.gd");//   score = scoredata.ReadLine ();//  scoredata.Close ();//   } // Update is called once per frame void Update () { } void OnGUI(){ GUI.Box (new Rect (Screen.width*0.15f, Screen.height*0.8f, Screen.width*0.7f, Screen.height*0.1f), "MAX DESTROYED:"+score,mystyle); if (GUI.Button (new Rect (Screen.width*0.15f, Screen.height*0.25f, Screen.width*0.7f, Screen.height*0.1f), "START",mystyle)) { SceneManager.LoadScene (1);//   } if (GUI.Button (new Rect (Screen.width*0.15f, Screen.height*0.4f, Screen.width*0.7f, Screen.height*0.1f), "EXIT",mystyle)) { Application.Quit();//   } } }</span></span></code> </pre> <br>  Do not forget to hang the activemenu script on the ‚Äúspace‚Äù.  It serves to create a motion animation for the menu background.  Then create a copy of ‚Äúspace‚Äù and put it a little higher. <br><br>  The contents of the activemenu script: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">activemenu</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed=<span class="hljs-number"><span class="hljs-number">-0.1f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-comment"><span class="hljs-comment">// Update is called once per frame void Update () { transform.Translate (new Vector3 (0f,speed,0f)); if (transform.position.y &lt; -12f) { transform.position=new Vector3(0f,13f,0f); } } }</span></span></code> </pre><br>  It should look like this: <br><br><img src="https://habrastorage.org/files/997/7ef/462/9977ef4624cd4134aa46e3e4025cb3ea.gif"><br><br><img src="https://habrastorage.org/files/e03/3b4/032/e033b4032b5d47c6a469a7548b282459.png"><br><br><h2>  Creating a game scene </h2><br><img src="https://habrastorage.org/files/c56/5fe/529/c565fe529840483d9b4d5ac5a6f4c0cd.png"><br><br>  The game scene consists of the following key objects: <br><br>  space (sprite "space") <br>  player <br>  meteorites <br>  enemy ships <br>  other (lasers and explosions). <br><br>  Space is also organized in the main menu.  Here you can not touch anything. <br><br>  Next, you need to pay attention to the fact that the game will be constantly generated from prefabs, such objects as meteorites, shots and enemies.  And those objects that the player missed need to be deleted so as not to burden the memory once again. <br><br>  This can be done as follows.  We create a new game object on the scene (I have this ‚Äúcontrolcountobjects‚Äù), add the boxcollider component to it and stretch it around the gaming zone. <br><br><img src="https://habrastorage.org/files/373/2ad/a9a/3732ada9af3245dc8c686cc9aff7a424.png"><br><br>  Next, add a script to it with the following contents: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">systemcontrolobjects</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerExit2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D col</span></span></span><span class="hljs-function">)</span></span> { Destroy(col.gameObject); } }</code> </pre><br>  In this script, the elements are deleted when exiting the box control of the controlcountobject object.  Thus, a certain zone is obtained when exiting from which objects are deleted. <br><br><h4>  Meteorite generation </h4><br>  Add this script to the camera: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Runtime.Serialization.Formatters.Binary; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">blockgenerator</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject asteroid;<span class="hljs-comment"><span class="hljs-comment">//     float x,y,timer; float timerespawn=0.25f;//  .         . bool trigtime=false;//   .    true        . public int score;//                     .       .      ,       . public float data; void Start () { score = 0;// timer = timerespawn; StreamReader scoredata = new StreamReader (Application.persistentDataPath + "/score1.gd"); data = float.Parse(scoredata.ReadLine ()); scoredata.Close (); } void Update () { if (timer==timerespawn)//       : { x = Random.Range (-2.5f, 2.5f);//1)         . Instantiate(asteroid, new Vector3(x,5.5f,-2.17f),transform.rotation);//2)   . x      . trigtime = true;//3)    .         timerrespawn    . } if (trigtime==true)//  { timer = timer-Time.deltaTime;//     . } if (timer &lt; 0)//     : { timer = timerespawn;//1)      timerespawn trigtime = false;//2)   //     " ".           .     } } }</span></span></code> </pre><br><img src="https://habrastorage.org/files/ecf/cff/b27/ecfcffb2784a40a7ac16b9c5ddf1adec.gif"><br><br><h4>  Meteorite </h4><br>  Above you can see, the fact that the meteorites that appear on the scene of different sizes and still they rotate.  This is all because the meteorite is implemented using two GameObjects, where one is inside the other (the Russian doll). <br><br><img src="https://habrastorage.org/files/0be/678/0d5/0be6780d50204452ac91278c4816cc47.png"><br><br><img src="https://habrastorage.org/files/ed5/4ee/62b/ed54ee62bbb94d2093984d0fe9d32e4d.png"><br><br>  The external object ‚Äúasteroidrotate‚Äù describes the motion of a meteorite, contains a circle collider and triggers an explosion effect in the event of a collision, and ‚Äúaster‚Äù randomly creates a direction of rotation and size when created. <br><br>  Script for asteroidrotate: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">asteroidlogic</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject explosion;<span class="hljs-comment"><span class="hljs-comment">//     float speedasteroid=-0.1f;//   void Start () { } void Update () { transform.Translate (new Vector3 (0, speedasteroid, 0f));//         } void OnTriggerEnter2D(Collider2D col) { if (col.tag == "systemcontrol") { return;//       controlcountobjects } if (col.tag == "laser") //       { Destroy (col.gameObject);//   GameObject.Find ("Main Camera").GetComponent&lt;blockgenerator&gt; ().score++;//       Instantiate(explosion, transform.position,transform.rotation);//    Destroy (this.gameObject);//  } } }</span></span></code> </pre><br>  Script for aster: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">rotator</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> f; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sc; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { f = Random.Range (<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); sc = Random.Range (<span class="hljs-number"><span class="hljs-number">0.1f</span></span>,<span class="hljs-number"><span class="hljs-number">0.2f</span></span>); transform.localScale = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3 (sc,sc,sc);<span class="hljs-comment"><span class="hljs-comment">// } void Update () { transform.rotation *= Quaternion.AngleAxis (f,new Vector3(0,0,1));// } }</span></span></code> </pre><br><h4>  Player </h4><br>  We throw a sprite with a starship on the game scene, add a box collider to it (do not forget to mark ‚ÄúIs Triger‚Äù), add a rigibody (we need to freeze the Y coordinate).  All this is necessary so that the player can interact with other game objects. <br><br><img src="https://habrastorage.org/files/837/7f9/172/8377f917213a48cea6477f8514a0c986.png"><br><br>  You can also add the particle system component, which will represent the jet from the engine. <br><br><img src="https://habrastorage.org/files/9f0/4e8/44c/9f04e844c2bb48f9a05d2fbcb98100bc.png"><br><br>  In the script for the player, a ‚Äúconnection‚Äù is established with prefabs such as explosionplayer, laser, laser3x, laser3xhor, etc.  as well as the organization of control and selection of "capsules" for the activation of other types of weapons.  Management is arranged so that the game object simply moves after the user's finger and in the process fires. <br><br>  Script content: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.SceneManagement; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Runtime.Serialization.Formatters.Binary; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">carconroller</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject laser;<span class="hljs-comment"><span class="hljs-comment">//      laser public GameObject laser3x;//      laser3x public GameObject laserhor;//      laserhor public GameObject laser3xhor;//      laser3xhor public GameObject sphere;//      sphere public GameObject sphere3x;//      sphere3x public GameObject explosionplayer;//      explosionplayer float x,y,z,x1,y1; bool trigtime=false; public float speedreset=0.25f;//     float timer; Vector2 startpos; Vector2 startcar; // laser...sphere3x          public bool gun1 = true;//   1 (laser),       ,     (laser3x...) public bool gun2 = false; public bool gun3 = false; public bool gun4 = false; public bool gun5 = false; public bool gun6 = false; //        .        . int guncount=0;//   ,    .          . void Start () { timer = speedreset; y = laser.transform.position.y; z = laser.transform.position.z; } public void Update () { if (timer &lt; 0) { timer = speedreset; trigtime = false; } if (Input.GetMouseButton(0))//    { Vector2 pos = Camera.main.ScreenToWorldPoint (Input.mousePosition);//   pos  ,    . transform.position = pos;//       pos transform.position = new Vector2 (transform.position.x,transform.position.y+1f);//  () if (timer==speedreset)//  ( ) { if (gun1 == true)//   { Instantiate (laser, new Vector2(transform.position.x,transform.position.y+1.1f), transform.rotation);//    laser     (  ) trigtime = true; } if (gun2 == true &amp;&amp; guncount &gt; 0)//   2-        { guncount--;//   if (guncount == 0) //       1     { gun1 = true; gun2 = false; gun3 = false; gun4 = false; gun5 = false; gun6 = false; } Instantiate (laser3x, new Vector2(transform.position.x,transform.position.y+1.1f), transform.rotation);//    laser3x trigtime = true; } //    ""    if (gun3 == true &amp;&amp; guncount &gt; 0) { guncount--; if (guncount == 0) { gun1 = true; gun2 = false; gun3 = false; gun4 = false; gun5 = false; gun6 = false; } Instantiate (laserhor, new Vector2(transform.position.x,transform.position.y+1.1f), transform.rotation); trigtime = true; } if (gun4 == true &amp;&amp; guncount &gt; 0) { guncount--; if (guncount == 0) { gun1 = true; gun2 = false; gun3 = false; gun4 = false; gun5 = false; gun6 = false; } Instantiate (laser3xhor, new Vector2(transform.position.x,transform.position.y+2f), transform.rotation); trigtime = true; } if (gun5 == true &amp;&amp; guncount &gt; 0) { guncount--; if (guncount == 0) { gun1 = true; gun2 = false; gun3 = false; gun4 = false; gun5 = false; gun6 = false; } Instantiate (sphere, new Vector2(transform.position.x,transform.position.y+1.1f), transform.rotation); trigtime = true; } if (gun6 == true &amp;&amp; guncount &gt; 0) { guncount--; if (guncount == 0) { gun1 = true; gun2 = false; gun3 = false; gun4 = false; gun5 = false; gun6 = false; } Instantiate (sphere3x, new Vector2(transform.position.x,transform.position.y+2f), transform.rotation); trigtime = true; } } if (trigtime == true) { timer = timer - Time.deltaTime;//    } } } void OnTriggerEnter2D(Collider2D col) { if (col.tag == "systemcontrol") { return;//       controlcountobject } if (col.tag == "gunactivator2")//    ""  gunactivator2 { gun2 = true;//   guncount = 85;//   gun1 = false;//  "" gun3 = false; gun4 = false; gun5 = false; gun6 = false; Destroy (col.gameObject);// ""     return; } //   if (col.tag == "gunactivator3") { gun3 = true; guncount = 50; gun1 = false; gun2 = false; gun4 = false; gun5 = false; gun6 = false; Destroy (col.gameObject); return; } if (col.tag == "gunactivator4") { gun4 = true; guncount = 15; gun1 = false; gun3 = false; gun2 = false; gun5 = false; gun6 = false; Destroy (col.gameObject); return; } if (col.tag == "gunactivator5") { gun5 = true; guncount = 100; gun1 = false; gun3 = false; gun4 = false; gun2 = false; gun6 = false; Destroy (col.gameObject); return; } if (col.tag == "gunactivator6") { gun6 = true; guncount = 50; gun1 = false; gun3 = false; gun4 = false; gun5 = false; gun2 = false; Destroy (col.gameObject); return; } //   ""           ,     .       Handheld.Vibrate ();// ( ) if (GameObject.Find ("Main Camera").GetComponent&lt;blockgenerator&gt; ().score&gt;GameObject.Find ("Main Camera").GetComponent&lt;blockgenerator&gt; ().data)//              ,        { StreamWriter scoredata=new StreamWriter(Application.persistentDataPath + "/score1.gd"); scoredata.WriteLine(GameObject.Find ("Main Camera").GetComponent&lt;blockgenerator&gt; ().score); scoredata.Close(); } Instantiate (explosionplayer, transform.position, transform.rotation);//    Destroy (col.gameObject);//      Destroy(this.gameObject);//     } }</span></span></code> </pre><br><img src="https://habrastorage.org/files/881/c3d/1d1/881c3d1d11be4d21a7a6ff39fac1ff3c.png"><br><br>  Weapon activators. <br><br><img src="https://habrastorage.org/files/6e3/7b6/669/6e37b66697de49f3ad28796706a2c628.gif"><br><br>  The result of the script. <br><br>  When a player is removed and a new record of destroyed meteorites is recorded in the file, then you need to go to the main menu. <br><br>  Create a script with the following content and connect it to the camera: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.SceneManagement; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Runtime.Serialization.Formatters.Binary; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Exit</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject target;<span class="hljs-comment"><span class="hljs-comment">//    float timer=3f; void Start () { } void Update () { if (Input.GetKey (KeyCode.Escape))//       , : { if (GameObject.Find ("Main Camera").GetComponent&lt;blockgenerator&gt; ().score&gt;GameObject.Find ("Main Camera").GetComponent&lt;blockgenerator&gt; ().data) { StreamWriter scoredata=new StreamWriter(Application.persistentDataPath + "/score1.gd"); scoredata.WriteLine(GameObject.Find ("Main Camera").GetComponent&lt;blockgenerator&gt; ().score); //     score  "blockgenerator",     scoredata.Close(); } SceneManager.LoadScene (0);//   } if (!GameObject.Find ("playercar"))//       ( )   timer     { timer = timer - Time.deltaTime; if (timer &lt; 0) { SceneManager.LoadScene (0); } } } }</span></span></code> </pre><br>  This script monitors the status of the player. <br><br><h4>  Explosions </h4><br>  The explosion effect can be created using Particle System.  But then he will be looped and forever repeated.  To prevent this, add the following script to the prefab explosion. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DestroyAsteroid</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Destroy (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gameObject,<span class="hljs-number"><span class="hljs-number">0.4f</span></span>);<span class="hljs-comment"><span class="hljs-comment">//     .   400 .   . } }</span></span></code> </pre><br><img src="https://habrastorage.org/files/3ed/59d/ada/3ed59dadadb64cecb63bd6722e02dd34.gif"><br><br><h4>  Shots </h4><br>  Shots are generated from the location of the player during his movement. <br><br><img src="https://habrastorage.org/files/4e8/4fd/1d6/4e84fd1d6d42431da5046bfc522cba9e.png"><br><br>  In the script for the shot you need to set only the speed and direction. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Runtime.Serialization.Formatters.Binary; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">laser</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speedlaser=<span class="hljs-number"><span class="hljs-number">0.5f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { transform.Translate (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3 (<span class="hljs-number"><span class="hljs-number">0</span></span>, speedlaser, <span class="hljs-number"><span class="hljs-number">0f</span></span>)); } }</code> </pre><br><h4>  Generation of opponents </h4><br>  The generation of opponents is similar to the generation of meteorites. <br><br><img src="https://habrastorage.org/files/18b/939/6f2/18b9396f2c7d4bfb87a620eb43ae4910.png"><br><br>  The contents of the script Enemygenerator: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">enemygenerator</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject enemy; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> trigtime=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speedreset=<span class="hljs-number"><span class="hljs-number">2f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> timer,x; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { timer = speedreset; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (timer &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { timer = speedreset; trigtime = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (timer == speedreset) { x = Random.Range (<span class="hljs-number"><span class="hljs-number">-2.5f</span></span>, <span class="hljs-number"><span class="hljs-number">2.5f</span></span>);<span class="hljs-comment"><span class="hljs-comment">//  Instantiate(enemy, new Vector2(x,5.5f),transform.rotation);//    trigtime = true; } if (trigtime == true) { timer = timer - Time.deltaTime; } } }</span></span></code> </pre><br><img src="https://habrastorage.org/files/111/f76/6f1/111f766f19fe4defabc5ef0c78f9cab2.gif"><br><br><h4>  Enemy logic </h4><br>  The enemy's behavior is organized in such a way that he just flies in a straight line, firing and in case of defeat he can leave a capsule for the player to activate <br><br>  It looks like this: <br><br><img src="https://habrastorage.org/files/46a/61e/65c/46a61e65c3d044a8bd79ac3e13b3c34a.gif"><br><br><img src="https://habrastorage.org/files/c11/b53/a23/c11b53a239a14550a53ffc8596c4eaff.png"><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">enemylogic</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject explosionenemy;<span class="hljs-comment"><span class="hljs-comment">//  public GameObject laserenemy;//  //       public GameObject gunactivator2; public GameObject gunactivator3; public GameObject gunactivator4; public GameObject gunactivator5; public GameObject gunactivator6; // bool trigtime=false; float speedreset=1.5f;//  float timer; float speedenemy = -0.02f;//   float x; void Start () { timer = speedreset; } void Update () { if (timer &lt; 0) { timer = speedreset; trigtime = false; } if (timer == speedreset) { Instantiate (laserenemy, new Vector2(transform.position.x,transform.position.y-0.4f), transform.rotation); trigtime = true; } if (trigtime == true) { timer = timer - Time.deltaTime; } transform.Translate (new Vector3 (0, speedenemy, 0f)); } void OnTriggerEnter2D(Collider2D col) { if (col.tag == "systemcontrol") { return; } if (col.tag == "Player") { Instantiate (explosionenemy, transform.position, transform.rotation); Destroy(this.gameObject); } if (col.tag == "laser") { x = Random.Range (0f, 100f);//    0  100 if (x &gt; 1f &amp;&amp; x &lt; 5f) //     1  5    gunactivator2 { Instantiate (gunactivator2, transform.position, transform.rotation); } //   if (x &gt; 20f &amp;&amp; x &lt; 25f) { Instantiate (gunactivator3, transform.position, transform.rotation); } if (x &gt; 40f &amp;&amp; x &lt; 45f) { Instantiate (gunactivator4, transform.position, transform.rotation); } if (x &gt; 60f &amp;&amp; x &lt; 65f) { Instantiate (gunactivator5, transform.position, transform.rotation); } if (x &gt; 80f &amp;&amp; x &lt; 85f) { Instantiate (gunactivator6, transform.position, transform.rotation); } Instantiate (explosionenemy, transform.position, transform.rotation); Destroy(this.gameObject); } } }</span></span></code> </pre><br>  Each prefab "capsule" with a weapon just moves towards the player and in the case of crossing is destroyed. <br><br><img src="https://habrastorage.org/files/018/9c3/143/0189c314339847b3946a31c668f3bbcd.png"><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">gunactivatorlogic</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed = <span class="hljs-number"><span class="hljs-number">-0.025f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { transform.Translate (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3 (<span class="hljs-number"><span class="hljs-number">0</span></span>, speed, <span class="hljs-number"><span class="hljs-number">0f</span></span>)); } }</code> </pre><br><h4>  Total </h4><br><img src="https://habrastorage.org/files/826/b87/107/826b8710798b40cd98109a5568550e85.gif"><br><br><h4>  Publication </h4><br>  The release of the game on google play was not a big success.  For all the time in the market a little more than 500 downloads. <br>  <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.WRXM4STER.SpaceStriker">play.google.com/store/apps/details?id=com.WRXM4STER.SpaceStriker</a> <br><br><img src="https://habrastorage.org/files/1e9/f32/f7a/1e9f32f7adbe4e648de17bd3eb56de43.png"></div><p>Source: <a href="https://habr.com/ru/post/324288/">https://habr.com/ru/post/324288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324274/index.html">We build Docker images for CI / CD quickly and conveniently along with dapp (review and video)</a></li>
<li><a href="../324276/index.html">Iptables: a little about the action of REDIRECT, its limitations and scope</a></li>
<li><a href="../324280/index.html">How to create music for video games</a></li>
<li><a href="../324284/index.html">Resizing images based on content</a></li>
<li><a href="../324286/index.html">easymake - ‚Äúalmost‚Äù regular task-runner for building, testing and other tasks for node.js</a></li>
<li><a href="../324290/index.html">Make your anonymizer in 10 minutes</a></li>
<li><a href="../324292/index.html">Design patterns, iOS view developer. Part 2. The Observer</a></li>
<li><a href="../324294/index.html">Browser-based WebRTC broadcasts with low latency RTSP IP cameras</a></li>
<li><a href="../324296/index.html">Again about Monty Hall or statistics as a collective intuition</a></li>
<li><a href="../324298/index.html">Experience passing certified Openstack Administrator (COA)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>