<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Server platform SuperMicro SYS-5017A-EF or atomic virtualization (Part 1)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have long been a fan of energy-efficient and compact solutions on the Mini-ITX platform and Barebone systems, this time I decided to transfer all ho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Server platform SuperMicro SYS-5017A-EF or atomic virtualization (Part 1)</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e2/899/3c6/0e28993c6c9453f72367dbc9e2e4b694.jpg"></div><br><br>  I have long been a fan of energy-efficient and compact solutions on the Mini-ITX platform and Barebone systems, this time I decided to transfer all home subsystems to a dedicated server.  The choice fell on the new atomic <acronym>SoC</acronym> processor <a href="http://ark.intel.com/ru/products/71267/Intel-Atom-Processor-S1260-1MB-Cache-2_00-GHz">S1260</a> for servers.  It took two weeks to find a supplier in Tyumen, since the only server on this processor is not officially being delivered to Russia yet.  And now, about two weeks ago, I received a great platform from Supermicro on the first Atom server line with hardware virtualization support, <abbr title="Hardware virtualization">VT-x</abbr> and <abbr title="I / O Virtualization">VT-d</abbr> .  The motherboard has a built-in IPMI2.0 controller with a dedicated Ethernet port and control via <abbr title="Technology from Supermicro is similar to ILO2 from HP and other solutions.">iKVM</abbr> .  The server was ordered in the following configuration: <br><br><table><tbody><tr><td>  <b>Component</b> </td><td>  <b>Model</b> </td><td>  <b>Price</b> </td></tr><tr><td>  SuperMicro Platform </td><td>  SYS-5017A-EF </td><td>  18860 r. </td></tr><tr><td>  Fan fastener </td><td>  MCP-320-81302-0B </td><td>  275 r. </td></tr><tr><td>  Chassis for hard disk 2x2.5 (2 pcs.) </td><td>  MCP-220-00044-0N </td><td>  275 r. </td></tr><tr><td>  RAM transcend </td><td>  TS1GSK72V3H-I </td><td>  6000 p. </td></tr><tr><td>  Western Digital Server Hard Drive </td><td>  WD20NPVT </td><td>  6676 r. </td></tr><tr><td>  Server SSD OCZ </td><td>  D2CSTK251A20-0060 </td><td>  4329 r. </td></tr></tbody></table><br><a name="habracut"></a><br>  Total the entire server cost a symbolic amount of 36,690 wood.  The waiting time is 7 weeks and the memory arrived, another week - the server itself with giblets.  The hard drive had to wait another three weeks, although in Tyumen it was at the same time as the server.  Suppliers balked with delivery. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main purpose of buying a home server is to transfer hosting functionality, telephony, file dumps and Internet gateways from DS411Slim network storage to dedicated virtual machines in order to improve performance and subsequent scaling (GSM gateway for Asterisk, full-fledged LVM environment, resource management, etc.) ). <br><br>  Traditionally I cite photos of unpacking (unboxing) server (clickable).  I apologize for the quality of some of the photos, because the photographer of me is awkward, and my spouse was in Surgut at the time of unpacking. <br><br>  Platform in box: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/058/d16/6eb/058d166eba701c3cb984fa294ae2682d.jpg"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/48a/87d/d2a/48a87dd2a51a9dde14dc6b6fdbd00180.jpg"></a> <br>  Box contents: Assembly and installation instructions, two power cables - Euro and American, couplers and a set of fixing bolts for the server rack.  Rails were not ordered, since the server installation will be wall-mounted.  The server case itself is half-depth (HalfDepth) and weighs only 4.5 kilograms in the collection. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/8e2/0de/a21/8e20dea21911927adbd6400d44e5564b.jpg"></a> <br>  There is nothing superfluous on the front side of the server - the display, the power, reset and ventilation buttons.  The edges at the server are a separate topic of conversation, they are well perforated at the bottom, the design of the case for passive cooling affects. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/623/206/b7a/623206b7af324901c3b673ef68cf9b10.jpg"></a> <br>  Indication close-up - server indicator in the rack (included via IPMI), indicators of network activity, hard disk, power and two buttons - reset and power on, respectively. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/ca5/296/eab/ca5296eab735ffa3d76fda011b785f42.jpg"></a> <br>  On the back panel, we see a single power supply fan, RS232, two USB3.0 ports, three 1gE network ports, one of which is reserved for IPMI and DSUB video output. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9bc/0c8/448/9bc0c8448b47d222dc175028dd01429b.jpg"></a> <br>  The server assembly itself looks pretty compact.  There is no that hub of air ducts and fan stacks that we used to see in HP servers; cooling is passive, as one would expect from a processor with a TDP of 8.5 watts.  And yes, the power supply to the motherboard is started up with a 20-pin ATX plug, not 24 + 4 as on classic atomic boards. <br>  On the motherboard there is an impressive number of jumpers for fine tuning, with the help of them you can enable and disable such equipment, such as a VGA controller.  In general, Supermicro tried to make the platform so that it was possible to reduce server consumption to a minimum, leaving only the necessary functionality. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/575/f8a/1f5/575f8a1f5f8774675943299d363b9b12.jpg"></a> <br>  All server components are hardware for the fan, memory, chassis, and SSD disk.  Fasteners for the fan was taken just in case, if you have to cool the hard drives (there are only four, two terabyte drives migrated from the network storage). <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/2ae/d2f/f65/2aed2ff65b1222355eb76f4bfbed5963.jpg"></a> <br>  Despite the Transcend brand and the industrial class of memory, I didn‚Äôt avoid rejects - an error in the upper segment (stable server hangs when the memory test is 6-8 gigabytes). <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/ec1/772/bac/ec1772bac0136f3bb7ef5b198c1c33f5.jpg"></a> <br>  SSD drive from OCZ Deneva 2 positioned for servers has a volume of 60 gigabytes (it is gigabyte, in gibbytes it is much smaller), it is made using Asynchronous MLC technology and officially provides a data transfer rate of 500 megabytes / s.  In fact, the figure is about 480 megabytes / s for reading / writing, which is pretty good.  The disk will be used as a cache on a hardware controller with HyperDUO technology. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/eff/35b/c93/eff35bc9321960ba7a14eefd3324a29c.jpg"></a> <br>  The hard disk for servers from Western Digital of a class Green, is specially intended for file storages and servers with passive cooling.  It has a low noise level and heat generation at high capacity, and speed of operation, providing a read / write speed of 135 megabytes / s, with a volume of 2 terabytes.  For such characteristics you have to pay an increased thickness of the hard disk.  Due to the thickness of 15mm, it is not possible to install such a hard disk in laptops, even in a MacBook, in which its terabyte and half-terabyte counterparts are stuck. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/ce6/fe1/589/ce6fe158900d2ba268fb3a0c4f3a0348.jpg"></a> <br>  The power supply is certified according to the Gold Plus class and has a total output power of 200 watts.  By the way, peripheral equipment can connect up to 50 watts, but the actual consumption of the platform does not exceed 16 watts under load when using a hard drive and SSD drive, according to US tests. <br><br>  In conclusion: Currently, the server has worked for two weeks, during operation, periodic server hangs under the load were detected.  The test run showed a hang on the memory test in the 6-8 gigabyte area (factory defect Transcend), testing was carried out with different versions of memtest, including 5.0RC.  In connection with the replacement of memory, virtual machines are transferred to a home computer running Core2Duo E7500, virtual users subjectively work more brakingly than on an atom, maybe because of the used DDR2 memory. <br><br>  When the new memory arrives, I‚Äôll post the UnixBechmark and Phoronix Test Suite test results in a physical and virtual environment. <br><br>  Any questions and criticism are welcome. </div><p>Source: <a href="https://habr.com/ru/post/188696/">https://habr.com/ru/post/188696/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../188678/index.html">The seine with the mud sea has returned ...</a></li>
<li><a href="../188682/index.html">Optimize the speed of [search] applications</a></li>
<li><a href="../188690/index.html">The contract for the development of the site: so and not otherwise</a></li>
<li><a href="../188692/index.html">Introduction to the theory of magic</a></li>
<li><a href="../188694/index.html">What is missing indie developer?</a></li>
<li><a href="../188698/index.html">Beautiful background textures in iOS</a></li>
<li><a href="../188700/index.html">"Kranik", or an algorithm for finding digits of Pi</a></li>
<li><a href="../188702/index.html">Convenient web server on Virtualbox</a></li>
<li><a href="../188704/index.html">Tale of a clustered index</a></li>
<li><a href="../188708/index.html">JavaScript tracing, debugging, profiling - filling gaps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>