<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Improving the subjective speed of the site with the help of browser prompts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am surprised that this technique was mentioned on Habr√© only once and in passing - if you believe the search, of course. 
 I do not leave the feelin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Improving the subjective speed of the site with the help of browser prompts</h1><div class="post__text post__text-html js-mediator-article">  I am surprised that this technique was mentioned on Habr√© only once and in passing - if you believe the search, of course. <br>  I do not leave the feeling that in fact everyone knows about it, but I still tell you. <br><br>  The bottom line is that the browser can tell which page the user will open next - and he will begin to load it in advance. <br><br>  This is made easy - you just need to add a couple of meta tags to the head: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NEXT PAGE URI"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prerender"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NEXT PAGE URI"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><br>  Now more about the limitations and nuances. <br><a name="habracut"></a><br>  The first thing that comes to mind, of course, is that far from everywhere and not always applicable - it is not always clear where this strange citizen will go next. <br>  But for multi-page articles, for example, will fit just right.  Or for a blog entry with links to previous and next posts.  Or for the registration funnel - in general, there are also quite a few cases where you can apply. <br><br>  Secondly, AFAIK only supports Firefox and Chrome with such ears with ears at the moment, and the first one - for many years, which is interesting.  Actually, the first <b>rel</b> value is recognized by Firefox, the second by Chrome.  There is a difference between them, and it lies in the fact that in Chrome this is implemented much better, in more detail a bit later. <br><br>  But the prefetch version is already in the current WHATWG version: <a href="http://www.whatwg.org/specs/web-apps/current-work/">www.whatwg.org/specs/web-apps/current-work/#link-type-prefetch</a> .  This does not mean that WHATWG chose the worst of the two options - the definition of the value of this attribute is very general (‚Äúbrowser should cache the specified content‚Äù), and nothing prevents a particular browser from making it work at the Chrome level or even better. <br><br>  So you can hope that support will appear in other browsers, especially on the WebKit engine (do you understand that in Gecko-based browsers this already exists, but where are they, popular Gecko browsers, except FF?) <br><br>  Thirdly, it is important to understand that the browser starts loading something only after it has loaded the entire current page - and the FF also takes into account the downloading of files by the browser, and, probably, network activity in other tabs. <br>  However, I believe, Chrome may traditionally be more aggressive in this matter and start shipping at an earlier stage - but I did not hold a candle.  If someone can look right in the sorts, it will be interesting to know for sure. <br><br>  We‚Äôll finish on a major note - in both browsers, these meta tags are absolutely correct when dynamically added.  And there may be several. <br><br>  Now, what is the difference between <b>prefetch</b> in Firefox and <b>prerender</b> in Chrome? <br>  Chrome, meeting the prerender instruction, creates an <i>invisible tab</i> , and starts loading a page in it, with all the scripts (which it even executes), pictures, and so on.  If the user actually goes to the predicted address, the current tab is replaced with this invisible one, and he is on the already loaded ‚Äî or at least the loading ‚Äî page. <br>  Firefox just loads the html of the specified page, all external resources begin to load only during the transition.  I did not find this in the official FAQ on MDN [1], and I did not even find where I initially read it - but field experiments with the 15th version seem to say that this is how it is. <br><br>  True, it is necessary to make a reservation here - you can indicate in the meta tag not only the addresses of the pages, but also links to css, pictures, you name it.  So, by creating new tags, you can force FF to load and more - but this is far from elegance. <br>  However, in the approach of Chrome, you can also find cons, especially if we recall that not everyone has no limit - but I like it more. <br>  Apparently, because I have no limit :-) <br><br><hr><br><br>  I am writing this article in two hubs - and one of them is the corporate blog of the company <a href="http://surfingbird.ru/">Surfingbird</a> . <br>  So now how we used it - if not interested, you can skip. <br>  The main mode of using the site is surfing, when (in any case, I formulate) the user switches from one of our recommendations to another.  He views them in the form of an iframe, which occupies almost the entire browser window.  In the process of putting likes, dislikes, reacts in other ways - and we rearrange his issue on the fly. <br><br>  So we started by saying that we started requesting the next recommendation not when he clicked on the ‚ÄúSurf‚Äù button - which, in fact, is ‚ÄúNext!‚Äù - but right away, according to the document ready, and this is already saving milliseconds. 300 <br>  And since the answer returns the full url of the next page, we started generating these meta tags with the received url on the fly - and save even more. <br><br>  The last caveat remains - the user can set preferences while surfing ‚Äî such as restricting categories, domains, authors of links ‚Äî and it‚Äôs important, of course, to use previously received recommendations only if the settings have not changed.  However, this is observed in the vast majority of cases. <br><br>  Visually, in Chrome, it turns out that if you linger on the current page for a few seconds, the next one opens instantly.  The effect is stunning - they were happy like children when they checked. <br><br><hr><br><br>  Make sure that it works, in Chrome, you can here - chrome: // net-internals / # prerender, I will not tell you about FF, unfortunately. <br><br>  I foresee remarks that it affects the statistics and even, perhaps, violates privacy (not in the case of surfingbird.ru, of course, but in general - imagine that evil people told your browser to load a page with child porn and your ip got into logs), increases traffic, and something else. <br>  On the one hand, some of the questions can be answered that FF sends a special header when prefetching, while Chrome suggests using Page Visibility API, and for evil people there are many other ways to do disgusting things. <br>  On the other - I personally do not consider this a serious problem.  The advantages seem to me much more significant. <br><br>  [1] <a href="https://developer.mozilla.org/en-US/docs/Link_prefetching_FAQ">developer.mozilla.org/en-US/docs/Link_prefetching_FAQ</a> <br>  [2] <a href="http://www.chromium.org/developers/design-documents/prerender">www.chromium.org/developers/design-documents/prerender</a> </div><p>Source: <a href="https://habr.com/ru/post/151197/">https://habr.com/ru/post/151197/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151191/index.html">IBM Augmented Reality Will Change Shopping</a></li>
<li><a href="../151192/index.html">Debugging Android applications without source codes: native methods</a></li>
<li><a href="../151193/index.html">Course lectures "Startup". Peter Thiel. Stanford 2012. Activity 1</a></li>
<li><a href="../151195/index.html">Launch of Delphi XE3 and RAD Studio XE3 in St. Petersburg, Moscow and Online</a></li>
<li><a href="../151196/index.html">An inexpensive alternative to the Arduino. Give a chance?</a></li>
<li><a href="../151198/index.html">Steam on your TV</a></li>
<li><a href="../151199/index.html">ebay Crime and Punishment</a></li>
<li><a href="../151201/index.html">Workplace standing for 600 rubles</a></li>
<li><a href="../151202/index.html">GoDaddy.com lies</a></li>
<li><a href="../151203/index.html">Animated GIF with sound</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>