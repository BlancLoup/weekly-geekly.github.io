<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Information system based on Semantic MediaWiki</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 It‚Äôs fortunate that a few days ago there appeared a good article about Semantic MediaWiki . Without claiming the same deep presentation of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Information system based on Semantic MediaWiki</h1><div class="post__text post__text-html js-mediator-article"><h1>  Foreword </h1><br>  It‚Äôs fortunate that a few days ago there appeared a good article about <a href="http://habrahabr.ru/post/173877/">Semantic MediaWiki</a> .  Without claiming the same deep presentation of the material, pick up the baton and describe my practical experience of using MediaWiki with almost zero initial knowledge.  I apologize to the author of the first article, <a href="https://habrahabr.ru/users/ganqqwerty/" class="user_link">ganqqwerty,</a> for running ahead and telling you about the Semantic Forms. <br><br><h1>  Start </h1><br>  At the beginning of the year I volunteered to solve a non-core task - to create an information system for our organization.  Now the decision has more or less taken shape, I will try to share my experience. <br><br>  Our employees annually report on their achievements.  Based on this information, quantitative indicators are calculated.  Also all sorts of pivot tables are interesting.  In general, there is enough really useful information there, it makes sense to make it convenient to mine. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Previously, everything was designed as an Excel table of a certain structure.  Each employee filled out his sheet, the indicators were considered according to the specified formulas.  On this, in general, the information ended its way - if it was used somewhere else, it had to be extracted again. <br><br>  As it always happens, I didn‚Äôt come up with this idea at all - I wanted, roughly speaking, to make my contact person to improve the awareness of each other.  The idea in the minds of the authorities was transformed and shot me with this project - they say, great, we will definitely do it, but we have annual reports on the nose, can this information be hammered into such a system?  I make a kind of " <a href="http://tsitaty.org/tsitaty-petra-1/"><em>dashing and silly</em></a> ", I answer in the affirmative and go to study the material part. <br><br><h1>  Task </h1><br>  So, it is required to make a site very, very quickly, where each user can easily and simply place information of a certain structure.  And so that this information could be easily processed - read all indicators, build lists.  The search, of course, is needed, and not just a text one, but taking into account the structure of this very information. <br><a name="habracut"></a><br><h1>  Mediawiki </h1><br>  There was almost no time to study implementation options, I had to rely on intuition.  I decided that if <a href="https://www.mediawiki.org/">MediaWiki is</a> successfully used in large projects, first of all by <a href="http://ru.wikipedia.org/">Wikipedia</a> , then we should be.  They don't write everything there with their hands, there should be automation tools that I need. <br>  As befits a serious system, MediaWiki has an <a href="https://www.mediawiki.org/wiki/Category:Extensions">extension</a> mechanism and this gives hope that everything you need is already written. <br><br>  <a href="https://www.mediawiki.org/wiki/Installation">Installation</a> and initial <a href="https://www.mediawiki.org/wiki/Manual:Configuration">setup of</a> MediaWiki was in full compliance with the instructions.  A sign of the maturity of the product - <a href="http://www.redmine.org/">Redmine</a> had to mess around much longer. <br><br>  I had to suffer a little longer with setting up LDAP authentication due to some kind of deep error, but everything also worked out and the employees were able to use the system with their credentials.  Anonymous access was completely denied. <br><br><h1>  Facilitate input - forms </h1><br>  The first task is to save users from wiki markup.  This barrier is too high, at best I‚Äôm overwhelmed with questions, at worst - no one will use the system.  I am looking for an extension that allows you to use forms to enter information.  After a couple of simple long abandoned extensions, I find what I need: <a href="https://www.mediawiki.org/wiki/Extension:Semantic_Forms">Semantic Forms</a> . <br><br>  This extension allows you to create form descriptions that are placed on pages in the <code>Form</code> namespace. <br>  For example, the description of the form for filling out employee information is on the <code>Form:</code> page <code>Form:</code> and, as a first approximation, looks like this: <br><br><pre> <code class="hljs django"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">noinclude</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      .     .       includeonly.</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">noinclude</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">includeonly</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{for template|}}</span></span><span class="xml"><span class="xml">} : </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{field|}}</span></span><span class="xml"><span class="xml">} : </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{field|}}</span></span><span class="xml"><span class="xml">} </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{end template}}</span></span><span class="xml"><span class="xml">} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">includeonly</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br><br>  Now on any page you need to insert a special function call: <br><br><pre> <code class="hljs 1c">       <span class="hljs-keyword"><span class="hljs-keyword"></span></span>   : {{<span class="hljs-meta"><span class="hljs-meta">#forminput:form=}}</span></span></code> </pre> <br><br>  The result will be the entry field for the name of the new / edited page and the button: <br><br><img src="https://habrastorage.org/storage2/d73/edf/809/d73edf809ee155bc17b864aab64142c5.png"><br><br>  As expected, clicking on the button will open a page with the form: <br><br><img src="https://habrastorage.org/storage2/7b6/416/6f5/7b64166f5e99a5c27235c1d281ad3cde.png"><br><h1>  Templates </h1><br>  Next - the most interesting.  In what form is saved the data entered into the form and what to do with them next? <br><br>  Turning to edit the source text of the saved page, you can see the following structure: <br><br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-template-variable"><span class="xml"></span><span class="hljs-template-variable">{{ |= |= }}</span></span><span class="xml"></span><span class="xml"></span></code> </pre> <br><br>  This is a call to the <code>Template:</code> with the values ‚Äã‚Äãof the parameters of the <code></code> and <code></code> equal to the <code></code> and <code></code> respectively.  Templates are defined on pages from the <code>Template</code> namespace and determine what the template call will be replaced with.  The values ‚Äã‚Äãof the template parameters will be substituted for the names of the parameters in triple curly brackets.  If you define a pattern like this: <br><br><pre> <code class="hljs lua">: {{{}}} : {{{}}} <span class="hljs-string"><span class="hljs-string">[[Category:]]</span></span></code> </pre> <br><br>  the page of Ivan Ivanov will look like this: <br><br><img src="https://habrastorage.org/storage2/d4d/1b4/2c7/d4d1b42c700c4ddad0efa82b808f1352.png"><br><br>  The last line in the template definition indicates that the page belongs to the <code></code> category.  Each category has its own page in the <code>Category</code> namespace (in our case, <code>Category:</code> ), which lists all pages from this category.  On the same page, you can set special category properties, for example, the form that will be used to edit category pages: <br><br><pre> <code class="hljs lua"><span class="hljs-string"><span class="hljs-string">[[Has default form::]]</span></span></code> </pre> <br><br><h1>  Semantic MediaWiki and semantic annotations (properties) </h1><br>  Some categories are not enough to structure information.  And here comes heavy artillery to the rescue - the expansion of the Semantic Forms brought me to <a href="https://www.mediawiki.org/wiki/Extension:Semantic_MediaWiki">Semantic MediaWiki</a> .  This extension allows you to explicitly define <em>semantic annotations</em> .  For ease of understanding, programmers may consider wiki pages as objects, and semantic annotations as named properties of these objects.  I will also continue to talk about the properties.  The syntax for defining properties is similar to the syntax for defining categories (belonging to a category can be considered a property of an object): <br><br><pre> <code class="hljs lua"><span class="hljs-string"><span class="hljs-string">[[::]]</span></span></code> </pre> <br><br>  In our template, Position and Department are natural candidates for the role of properties.  Fix it in the template: <br><br><pre> <code class="hljs lua">: <span class="hljs-string"><span class="hljs-string">[[::{{{}}}]]</span></span> : <span class="hljs-string"><span class="hljs-string">[[::{{{}}}]]</span></span> <span class="hljs-string"><span class="hljs-string">[[Category:]]</span></span></code> </pre> <br><br>  Visually, almost nothing has changed - instead of defining the property, its value is displayed, that is, the value of the template parameter: <br><br><img src="https://habrastorage.org/storage2/040/3a5/d24/0403a5d24b5cf7571616a0d8b1cd5aed.png"><br><br>  By default, the property has a value of the Page type, that is, the name of the wiki page, so the property values ‚Äã‚Äãturn red ‚Äî this is how links to nonexistent pages are shown.  If the pages existed, the links would be blue.  The type of property can be changed.  A question for the reader to understand the basic ideas: where and how can the type of property be changed? <br><br><ul><li>  Where: like other entities, properties have their own namespace.  Therefore, the properties (type, etc.) of the <code></code> property itself are set on the <code>Property:</code> page. </li><li>  As: by itself, using the same mechanism of properties.  Let‚Äôs assign the property <code></code> type a <code>String</code> and a set of possible values: </li></ul><br><br><pre> <code class="hljs lua">This is a property of <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-string"><span class="hljs-string">[[Has type::String]]</span></span>. The allowed values <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> this property are: * <span class="hljs-string"><span class="hljs-string">[[Allows value::]]</span></span> * <span class="hljs-string"><span class="hljs-string">[[Allows value::]]</span></span></code> </pre> <br><br>  By the way, this change will also affect the form: the <code></code> field will turn into a drop-down list with the corresponding values. <br><br>  Note: if the magic does not work, you have to add the <code>property</code> parameter to the definition of the field.  The parameter value is the name of the property used by this field: <br><br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-template-variable"><span class="xml"></span><span class="hljs-template-variable">{{{field||property=}}</span></span><span class="xml"><span class="xml">}</span></span></code> </pre> <br><br><h1>  Requests </h1><br>  It remains to deal with data processing.  Categories and properties can be used in the <a href="http://www.semantic-mediawiki.org/wiki/Help:Parser_function_ask">queries</a> , the results of the queries included in the text of the pages.  Instead of Hello, world!  we derive a table of employees: <br><br><pre> <code class="hljs lua">{{#ask: <span class="hljs-string"><span class="hljs-string">[[Category:]]</span></span> |? |? |<span class="hljs-built_in"><span class="hljs-built_in">format</span></span>=<span class="hljs-built_in"><span class="hljs-built_in">table</span></span>}}</code> </pre> <br><br>  First, a couple of words for a general understanding of the syntax: <code>{{#f: ... }}</code> is a function call with the name f.  Functions are defined in extensions, I have not tried to define them.  Vertical sticks share function parameters.  That is, we have a call to the ask function with four parameters. <br><br>  This query consists of two parts.  The first part (the first parameter of the ask function) selects pages that satisfy a certain rule.  In this case - belonging to the category <code></code> .  The second part (the remaining parameters) determines the way the results are displayed.  In this case, it will be a table with three columns: <br><ol><li>  <em>The name of the page</em> .  The column is <code>mainlabel=-</code> by default, but this can be suppressed if necessary with the parameter <code>mainlabel=-</code> . </li><li>  <em>Position</em>  This we have already asked. </li><li>  <em>Department</em>  And this, too, we. </li></ol><br><br>  If necessary, you can add a filter, for example, selecting employees of a specific department (the Department column can be deleted in this case, it is boring): <br><br><pre> <code class="hljs lua">{{#ask: <span class="hljs-string"><span class="hljs-string">[[Category:]]</span></span> <span class="hljs-string"><span class="hljs-string">[[::]]</span></span> |?=      |<span class="hljs-built_in"><span class="hljs-built_in">format</span></span>=<span class="hljs-built_in"><span class="hljs-built_in">table</span></span>}}</code> </pre> <br><br>  <a href="http://www.semantic-mediawiki.org/wiki/Result_formats">The output formats</a> of the ask function can do quite a lot.  I, in particular, used <code>format=sum</code> to sum up the values ‚Äã‚Äãof a given property for the found object pages.  For example, if each employee has the Salary property, then in this way you can calculate the total salary by department. <br><br><h1>  Calculations </h1><br>  For more complex calculations, the <a href="https://www.mediawiki.org/wiki/Extension:ParserFunctions">ParserFunctions</a> extension offers a <a href="https://www.mediawiki.org/wiki/Help:Extension:ParserFunctions">set of functions</a> similar to control structures (if and switch) and expressions in programming languages. <br><br>  Loops are not directly supported, you can instead use recursion on auxiliary templates, but it does not add readability and performance.  There is a separate <a href="https://www.mediawiki.org/wiki/Extension:LoopFunctions">LoopFunctions</a> extension for <a href="https://www.mediawiki.org/wiki/Extension:LoopFunctions">loops</a> , but I have not tried it. <br><br>  For my computational problems, ParserFunctions was enough, but as a general solution it would be interesting to find an extension that allows using a scripting language inside the wiki.  Possible candidates, if I understood their descriptions correctly, are: <br><ol><li>  <a href="https://www.mediawiki.org/wiki/Extension:Scribunto">Scribunto</a> - extensions for embedding scripting languages, while only Lua is supported; </li><li>  <a href="https://www.mediawiki.org/wiki/Extension:Script">Script</a> - calculations on R; </li><li>  <a href="https://www.mediawiki.org/wiki/Extension:Winter">Winter</a> - ( <strong>W</strong> iki <strong>Inter</strong> preter) - its own language, reminiscent of PHP and a bit of LISP, as written in the <a href="https://www.mediawiki.org/wiki/Extension:Winter/Documentation">documentation</a> ; </li><li>  <a href="https://www.mediawiki.org/wiki/Extension:StackFunctions">StackFunctions</a> - almost PostScript without graphics. </li></ol><br><br>  Choosing an extension for the scripting language, pay attention to security! <br><br><h1>  Subobjects </h1><br>  Borderless objects whose values ‚Äã‚Äãare entity lists are too simple a case.  In life, everything is much harder and we must be able to cope with it. <br><br>  Suppose you want to give employees the opportunity to keep records of their travels: departure and return dates and a goal.  Simply adding a field for entering arbitrary text is not suitable - the structure of information and the possibility of its analysis are lost. <br><br>  It would be possible to create a separate page for each trip, and to display the result of a request for his trips on the employee‚Äôs page (those who wish can implement the appropriate forms, templates and requests for training).  But quite often this approach unnecessarily complicates the input of information.  If necessary, everything can fit on one page. <br><br>  By tradition, let's start with the user interface.  If the template parameter is a list of sub-objects, then the form field for this parameter should be associated with the form to define the sub-object. <br>  The SemanticForms extension will automatically generate an interface to manage the list of sub-objects. <br>  It was not easy to formulate, to read, I think, even more difficult, therefore I will give an example. <br><br>  For the <code></code> Form field, the <code></code> must specify the <code>holds template</code> parameter, and below (otherwise it will not work) define another form ( <code></code> ) and specify <code>multiple</code> parameters in it - can enter several times and <code>embed in field=[]</code> - this form determines the value <code></code> <code></code> Form fields: <br><br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-template-variable"><span class="xml"></span><span class="hljs-template-variable">{{{for template|}}</span></span><span class="xml"><span class="xml">} ... </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{field||holds template}}</span></span><span class="xml"><span class="xml">} </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{end template}}</span></span><span class="xml"><span class="xml">} </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{for template||label=|multiple |embed in field=[]}}</span></span><span class="xml"><span class="xml">} : </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{field|}}</span></span><span class="xml"><span class="xml">} : </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{field|}}</span></span><span class="xml"><span class="xml">} : </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{field|}}</span></span><span class="xml"><span class="xml">} </span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{end template}}</span></span><span class="xml"><span class="xml">}</span></span></code> </pre><br><br>  Note: The same template ( <code></code> ) <a href="https://www.mediawiki.org/wiki/Extension_talk:Semantic_Forms/Archive_January_to_February_2013">cannot be tied to several fields</a> ( <code></code> and anything else).  You have to create intermediate templates. <br><br>  The result will be the following interface: <br><img src="https://habrastorage.org/storage2/404/e32/0e5/404e320e51b586b09d11d54e76b286c4.png"><br><br>  After saving the page, the value of the field <code></code> will be a list of calls to the template <code></code> : <br><br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-template-variable"><span class="xml"></span><span class="hljs-template-variable">{{ ... |={{ |=2013/04/30 |=2013/05/10 |=   }}</span></span><span class="xml"></span><span class="hljs-template-variable"><span class="xml"></span><span class="hljs-template-variable">{{}}</span></span><span class="xml"><span class="xml"> }}</span></span></code> </pre><br><br>  In the definition of the <code></code> pattern, the assignment of the <code></code> parameter will cause a recursive substitution of the <code></code> pattern, which we define as: <br><br><pre> <code class="hljs django"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">includeonly</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{#subobject: |={{{}}</span></span><span class="xml"><span class="xml">} |=</span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{}}</span></span><span class="xml"><span class="xml">} |=</span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{{}}</span></span><span class="xml"><span class="xml">} }}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">includeonly</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><br>  Now not only the employee‚Äôs page is an object, on this page a sub-object is defined for each trip.  The same query language is used to select sub-objects.  By adding the following request to the <code></code> template definition: <br><br><pre> <code class="hljs lua">{{#ask: <span class="hljs-string"><span class="hljs-string">[[-Has subobject::{{FULLPAGENAME}}]]</span></span> |? |? |?}}</code> </pre> <br><br>  we will receive a sign with all employee travel.  From the new here, only the use of the <code>Has subobject</code> .  This property is automatically defined on all pages and its value is the set of sub-objects defined on this page.  A minus at the beginning means that this property should be <a href="https://semantic-mediawiki.org/wiki/Inverse_Properties">inverted</a> , that is, use feedback from the sub-object to the page.  <code>{{FULLPAGENAME}}</code> is a built-in variable, the value of which is the name of the current page.  Thus, we select business trips for the current employee. <br><br>  The documentation describes this point rather turbidly, some of the information in the <a href="http://wikimedia.7.x6.nabble.com/semantic-forms-internal-objects-subobjects-td4971093.html">discussion</a> , I had to act by trial and error.  In the end, the solution and understanding were found, I share. <br><br><h1>  Access rights </h1><br>  Of course, I agreed at the beginning of the project that it‚Äôs bad with the restriction of access rights in MediaWiki and any registered user will be able to see all the information.  However, the appetite comes with eating and access restriction did have to be screwed. <br><br>  Examination of <a href="http://www.mediawiki.org/wiki/Category:Page_specific_user_rights_extensions">extensions that implement access rights management has</a> shown that <a href="http://wiki.4intra.net/IntraACL/">IntraACL</a> is the <a href="http://wiki.4intra.net/IntraACL/">leader</a> .  This extension and patch is MediaWiki.  There is still no guarantee of complete control, because the extensions have direct access to the database and you need to view and patch them for good.  Fortunately, this level of security is all arranged. <br><br>  Unfortunately, the finished patch was only for MediaWiki 1.18.6, and I already installed 1.20.2 and downloaded decent data.  I had to sit and port the patch for several days.  According to the law of meanness, the very next day, after everything worked for me, a ready-made patch for MediaWiki 1.20.3 appeared. <br><br>  When installing, pay attention to the ACL namespace index - it should not conflict with other namespaces.  It seems that everything should work, because in the <code>HACL_GlobalFunctions.php</code> file this index is defined in 300: <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($haclgNamespaceIndex)) $haclgNamespaceIndex = <span class="hljs-number"><span class="hljs-number">300</span></span>;</code> </pre><br><br>  But in <code>HACL_Initialize.php</code> variable is pre-initialized improperly: <br><br><pre> <code class="hljs perl">$haclgNamespaceIndex = <span class="hljs-number"><span class="hljs-number">102</span></span>;</code> </pre> <br><br>  IntraACL allows you to define groups of users and assign rights for specific pages, namespaces and categories to groups and individual users.  Group definitions and access rules are stored on pages in the ACL namespace.  You can work through a graphical interface or directly edit the sources of wiki-pages. <br><br>  I came across an annoying feature - if you create a list of access rights before a user is created, then the rights do not work until you save the page with the list of access rights.  It brought trouble until I found the <code>maintenance/createAndPromote.php</code> and refined it so that ordinary users could be created without waiting for them to log in.  Let me remind you that the list of users is known to me in advance. <br><br>  Probably, if I immediately knew about the <a href="http://wiki.4intra.net/">Mediawiki4Intranet</a> assembly, which includes IntraACL, I would use this solution and save myself a few days. <br><br><h1>  Debugging server code </h1><br>  While IntraACL patch, I figured out <a href="http://www.mediawiki.org/wiki/Manual:How_to_debug">the debugging tools</a> .  I really liked the debugging console, which allows you to view the log file directly on the page.  Turns on like this: <br><br><pre> <code class="hljs bash"><span class="hljs-variable"><span class="hljs-variable">$wgDebugToolbar</span></span> = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br><br><h1>  Conclusion </h1><br><br>  Semantic MediaWiki as a basis for creating an information system I liked.  The tasks are almost solved: <br><ul><li>  Users independently enter and edit information. </li><li>  According to this information, indicators are calculated and summary tables are displayed. </li><li>  It is possible to determine access rights to individual parts of the system. </li><li>  A large number of ready-made extensions and good documentation allow you to quickly add new functionality. </li></ul><br><br>  There are disadvantages: <br><ul><li>  As I recall, wiki markup was invented to simplify the creation of pages by ordinary users.  In this case, the tasks are too complicated.  In my opinion, similar constructions in the syntax of programming languages ‚Äã‚Äãwould look simpler.  Although it may be all a matter of habit. <br>  Forms allow you to hide markup from regular users, but administrators who define forms and templates have to suffer. </li><li>  Delay in updating query results.  To update information often have to re-save the page.  This can be a source of errors. </li><li>  I am a little strained by the globality of the names of properties, templates and other service entities.  In programming languages ‚Äã‚Äãwith this stricter. </li></ul><br><br><h1>  Thanks </h1><br>  I am very grateful: <br><ul><li>  <a href="https://www.mediawiki.org/wiki/User:Yaron_Koren">Yaron Koren</a> , MediaWiki developer, who <a href="https://www.mediawiki.org/wiki/Extension_talk:Semantic_Forms">answers user questions</a> on the Semantic Forms; </li><li>  IntraACL expansion developers, in particular <a href="http://yourcmc.ru/wiki/%25D0%25A3%25D1%2587%25D0%25B0%25D1%2581%25D1%2582%25D0%25BD%25D0%25B8%25D0%25BA:VitaliyFilippov">VitaliyFilippov</a> . </li></ul></div><p>Source: <a href="https://habr.com/ru/post/177615/">https://habr.com/ru/post/177615/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177603/index.html">Leap Motion support appeared in Google Earth</a></li>
<li><a href="../177605/index.html">The crib on the graphic design of Android applications</a></li>
<li><a href="../177607/index.html">Advanced file navigation</a></li>
<li><a href="../177609/index.html">Working with FTP and uploading data to xlsx (Cach√© Object Script)</a></li>
<li><a href="../177611/index.html">Connecting the LCD panel from iPad to personal computer</a></li>
<li><a href="../177617/index.html">How we made a movie for Shadow Fight 2</a></li>
<li><a href="../177619/index.html">How to get into the "golden billion" or sobering statistics</a></li>
<li><a href="../177621/index.html">Are we all ready to go to electric cars (Fermi problem)</a></li>
<li><a href="../177623/index.html">Asterisk speech recognition through Google + smart IVR</a></li>
<li><a href="../177625/index.html">Disabling the main application thread from the debugger and avoiding interception CreateFile ()</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>