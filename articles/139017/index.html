<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Performance comparison of IoC containers under Windows Phone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good time, dear habrazhiteli! 

 For a smartphone, the optimality of the application architecture is especially important, so I decided to compare the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Performance comparison of IoC containers under Windows Phone</h1><div class="post__text post__text-html js-mediator-article">  Good time, dear habrazhiteli! <br><br>  For a smartphone, the optimality of the application architecture is especially important, so I decided to compare the performance of free and open container libraries available for Windows Phone. <br>  The following libraries have received attention (the most recent versions at the time of testing): <br><a name="habracut"></a><br>  <a href="http://code.google.com/p/autofac/">Autofac 2.5.2</a> <br>  <a href="http://caliburnmicro.codeplex.com/">Caliburn.Micro v1.3.1 (component SimpleContainer)</a> <br>  <a href="http://funq.codeplex.com/">Funq 1.0</a> <br>  <a href="http://microioc.codeplex.com/">MicroIoc 1.0</a> <br>  <a href="http://www.ninject.org/">Ninject 2.2.1</a> <br>  <a href="https://github.com/grumpydev/TinyIoC">Tinyoc</a> <br><br>  It is noteworthy that TinyIoC is a single source file in C # language (VB is on the way).  Its latest version requires a small fix for WP7, otherwise it will produce a compilation error <br><blockquote>  'System.Type' doesn‚Äôt contain a definition for the 'FindInterfaces' and no extension method of the 'System.Type' could be found? </blockquote><br>  Solved by simple replacement of the line. <br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!registerImplementation.FindInterfaces((t, o) =&gt; t.Name == registerType.Name, <span class="hljs-literal"><span class="hljs-literal">null</span></span>).Any())</code> </pre> <br>  on line <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (registerImplementation.GetInterface(registerType.Name, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) == <span class="hljs-literal"><span class="hljs-literal">null</span></span>)</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      All tests were run on a real HTC Titan device running Windows Phone 7.5 in release configuration without a connected debugger and with a full battery charge. <br><br>  Three interfaces have been announced and their respective implementations.  They were registered in the test container: the first - as a singleton (always one copy), the second and the third - as a transient (a new instance is created each time the container is accessed).  The first two implementations have constructors without parameters, the third - a constructor with injection of the first two interfaces. <br>  Each interface has been requested from the container 1 million times.  Time was measured using Stopwatch in milliseconds. <br><br><h4>  results </h4><br><img src="https://habrastorage.org/storage2/a76/2da/8b6/a762da8b653d7c2b74a91b29142103c8.png"><br>  The time in the table is in milliseconds. <br><br>  When testing Ninject, it turned out that its response time depends exponentially on the number of hits to it.  He makes about 10 thousand permissions of a transient-object tolerably, and on half a million he practically dies just by hanging up the application.  Therefore, we had to reduce the number of iterations in the test for it to ten thousand and recalculate the result per one million for comparison with other libraries.  However, this fact of special behavior Ninject should be borne in mind when choosing a container. <br><br>  The most significant is the last column, as the most common in practice.  With one call to the Ninject container, the worst result was almost one millisecond.  Funq has the best result, which is not surprising, since  this is almost the same as calling the new operator. <br>  Despite the high speed of work, Funq has a drawback: when registering, all dependencies will have to be registered manually, which is extremely inconvenient, since  will have to rewrite the registration code when updating the object constructor.  By the way, this possibility of registration provides and Autofac, but it has not been investigated. <br><br><img src="https://habrastorage.org/storage2/55a/41d/881/55a41d8812dbd49b4f047b7b05f3a0d0.png"><br>  The higher the bar, the more time the container needs to initialize, the worse. <br><br>  Of course, performance is not the only criterion for choosing one or another container for your project, so here‚Äôs a couple of plates with the characteristics of the libraries under study. <br><br><img src="https://habrastorage.org/storage2/c86/888/0a7/c868880a71dd7b9ec2386060eb1a8c01.png"><br><img src="https://habrastorage.org/storage2/1b8/fd8/2a1/1b8fd82a1731b862e3289aac7ed6bb66.png"><br><img src="https://habrastorage.org/storage2/2f7/977/83b/2f797783b14b1cbb8556bf668aa76b34.png"><br><br><h4>  findings </h4><br>  If you need broad functionality, the choice is clear - this is Autofac.  You will get good performance, but the price for this is the relatively large size of the library file. <br>  If you are satisfied with the availability of simple methods for registering objects and receiving them from the container, then you should pay attention to TinyIoC.  This is a small and fast container with standard functionality. <br>  Caliburn.Micro's SimpleContainer also performed well.  But you should not use it only for the sake of the container, you have to pay for it with the size of the distribution kit.  However, if you plan to use other components of the library, the choice is obvious. </div><p>Source: <a href="https://habr.com/ru/post/139017/">https://habr.com/ru/post/139017/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139007/index.html">Content Interaction Tracking with Google Analytics</a></li>
<li><a href="../139008/index.html">Live wallpaper on Android without native code or the story of writing Two Hearts Live Wallpaper</a></li>
<li><a href="../139010/index.html">New mobile applications "Rambler News"</a></li>
<li><a href="../139012/index.html">Comparison of compression programs as applied to transferring large amounts of data</a></li>
<li><a href="../139016/index.html">A simple and secure way to transfer user data to a non-system disk.</a></li>
<li><a href="../139021/index.html">Why sql?</a></li>
<li><a href="../139022/index.html">Recommender systems: problem statement</a></li>
<li><a href="../139023/index.html">The second long-awaited Dropquest 2012 from Dropbox.com</a></li>
<li><a href="../139024/index.html">Twitter Screensaver</a></li>
<li><a href="../139025/index.html">How many laws do you need for happiness?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>