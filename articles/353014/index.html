<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introducing the new dialog item</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! I present to you the translation of the article " Meet the New Dialog Element " by Keith J. Grant. 

 HTML 5.2 introduced a new dialog eleme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introducing the new dialog item</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  I present to you the translation of the article " <a href="https://keithjgrant.com/posts/2018/meet-the-new-dialog-element/">Meet the New Dialog Element</a> " by Keith J. Grant. <br><br>  <a href="https://www.w3.org/TR/html52/">HTML 5.2</a> introduced a new <i>dialog</i> element for native modal windows.  At first glance, it seems quite simple (it is), but after playing with it, I found that it has several great features that are easy to miss. <br><br>  I built a full demo at the end of the article, but if you want to take a look at it while reading, <a href="https://codepen.io/keithjgrant/pen/eyMMVL">you can find it here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here is an example of the basic markup for the dialog window: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dialog</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">open</span></span></span><span class="hljs-tag">&gt;</span></span> Native dialog box! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dialog</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The <i>open</i> attribute means that the dialog is visible.  Without this attribute, the dialog will be hidden until you use JavaScript to make it visible.  Without any styling, the dialogue is as follows: <br><br><img src="https://habrastorage.org/webt/-m/3o/il/-m3oilkmpn-7zievyxbk_keyikc.png"><br><a name="habracut"></a><br>  On the page it is absolutely positioned, so that it will appear ahead of all the content, as you would expect, and it will be horizontally centered.  By default, its width is equal to the width of the content inside. <br><br><h2>  Basic operations </h2><br>  JavaScript has several methods and properties to make it easier to work with the <i>dialog</i> element.  <i>showModal ()</i> and <i>close ()</i> are the two methods that you may need most. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> modal = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'dialog'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   (  "open") modal.showModal(); //   (  "open") modal.close();</span></span></code> </pre> <br>  When you use <i>showModal ()</i> to open a dialog, a background is added to the page, blocking user interaction with content outside the modal window.  By default, the background is completely transparent, but you can make it visible with CSS (more on this below). <br><br>  Pressing Esc will close the dialog, and you can also create a close button with a call to the <i>close ()</i> method. <br><br>  There is a third method, <i>show ()</i> , which also shows a modal window, but without a background background.  The user will be able to interact with items outside the dialog. <br><br><h3>  Browser and polyfill support </h3><br>  Currently <i>dialog is</i> supported only in Chrome.  Firefox provides basic styling, but to use the JavaScript API, the user must explicitly enable this feature.  I think soon Firefox will enable it by default. <br><br>  Fortunately, we have a <a href="https://github.com/GoogleChrome/dialog-polyfill">polyfill</a> that supports both JavaScript behavior and default styling.  To use it, install the <i>dialog-polyfill</i> in npm, or use the good old <i>script</i> tag.  Polyfill works in IE9 and higher. <br><br>  When using a polyfill, each dialog on the page must be initialized: <br><br><pre> <code class="javascript hljs">dialogPolyfill.registerDialog(modal);</code> </pre> <br>  This technique does not replace the native behavior of the dialog for browsers that support it. <br><br><h2>  Stylization </h2><br>  It is pleasant to open and close a modal window, however it doesn‚Äôt look very professional.  Adding styling is as easy as styling any other element.  The background can be styled using the new pseudo-element <i>:: backdrop</i> . <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">dialog</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">0.6rem</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1em</span></span> black; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">dialog</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::backdrop</span></span> { <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0, 0, 0, 0.4); }</code> </pre> <br>  For older browsers that use polyfill, this pseudo-element will not work.  In this case, the polyfill adds the <i>.backdrop</i> element, which immediately follows the dialog.  You can style it with CSS like this: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">dialog</span></span> + <span class="hljs-selector-class"><span class="hljs-selector-class">.backdrop</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0, 0, 0, 0.4); }</code> </pre> <br>  Add a little more markup for styling.  The generally accepted approach is to break the dialog box into title, body, and footer: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dialog</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"demo-modal"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-header"</span></span></span><span class="hljs-tag">&gt;</span></span>A native modal dialog box<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Finally, HTML has a native dialog box element! This is fantastic.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>And a polyfill makes this usable today.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-footer"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"close"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag">&gt;</span></span>close<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dialog</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  By adding some CSS, you can make the modal window look exactly as you need it: <br><br><img src="https://habrastorage.org/webt/pz/89/wr/pz89wrbpmf427i7ksggor33tvck.png"><br><br><h2>  More control </h2><br>  Often we want a bit of reverse interaction with the user through the dialog box.  When the dialog closes, you can pass the string value to the <i>close ()</i> method.  This value is assigned to the <i>returnValue</i> property of the DOM <i>dialog</i> element, so you can read it later: <br><br><pre> <code class="javascript hljs">modal.close(<span class="hljs-string"><span class="hljs-string">'Accepted'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(modal.returnValue); <span class="hljs-comment"><span class="hljs-comment">//  `Accepted`</span></span></code> </pre> <br>  There are also other events to which you can subscribe.  Two very useful ones: <i>close</i> (triggered when the window is closed) and <i>cancel</i> (triggered when you press Esc to close the window). <br><br>  The only missing thing is the ability to close the modal window when clicking on the background, but there is a workaround.  Clicking the background triggers a click event on the <i>dialog</i> as the target element.  And if you create a dialog so that the children fill the entire space of the dialog box, these children will be targeted for any clicks inside the dialog.  Thus, you can subscribe to events of a click on a dialogue, and close it when the immediate purpose of the click is the dialog window itself: <br><br><pre> <code class="javascript hljs">modal.addEventListener(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, (event) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (event.target === modal) { modal.close(<span class="hljs-string"><span class="hljs-string">'cancelled'</span></span>); } });</code> </pre> <br>  It's not perfect, but it works.  Please let me know if you find the best way to track background clicks. <br><br><h2>  Work demo </h2><br>  I worked a lot on the demo below.  Play around with it and see what else you can do with the <i>dialog</i> element.  The demo includes a polyfill, so it will work in most browsers. <br><br>  Link to the <a href="https://codepen.io/keithjgrant/pen/eyMMVL">demo</a> . </div><p>Source: <a href="https://habr.com/ru/post/353014/">https://habr.com/ru/post/353014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353002/index.html">Mass Attack on Cisco Equipment</a></li>
<li><a href="../353006/index.html">Parsing tasks from Odnoklassniki on JPoint 2018</a></li>
<li><a href="../353008/index.html">Overview of cases of interesting Big Data implementations in financial sector companies</a></li>
<li><a href="../353010/index.html">N + 6 useful books</a></li>
<li><a href="../353012/index.html">Do I need to collect NAS?</a></li>
<li><a href="../353016/index.html">More than a state: British East India Trading Company</a></li>
<li><a href="../353018/index.html">Unit testing interfaces in Headless Chrome. Yandex lecture</a></li>
<li><a href="../353020/index.html">Check incoming data. The root cause of the vulnerability and attacks on Cisco IOS</a></li>
<li><a href="../353022/index.html">Metalsmith static site generator</a></li>
<li><a href="../353024/index.html">Operating systems from scratch; level 2 (upper half)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>