<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The calculation of the priority of combinations in Texas Hold'em (poker) for PHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will talk about my method of calculating the priority of combinations in Texas Hold'em (poker with 2 pocket cards and 5 common). Con...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The calculation of the priority of combinations in Texas Hold'em (poker) for PHP</h1><div class="post__text post__text-html js-mediator-article">  In this article I will talk about my method of calculating the priority of combinations in Texas Hold'em (poker with 2 pocket cards and 5 common).  Conventionally, I will divide the article into 6 parts: Creating an array of cards, Calculation of a Straight, Calculation of a Flush and a Straight Flush, Calculation of Pair Combinations, Final Calculation, Display.  I write the code in procedural style. <br><br>  Objective: to get the output of the program readable result available for debugging and debugging at the stage of writing code.  To achieve this goal, I make the difference between combinations of 1e + 2 (100) times. <br><br>  An approximate view of what should come out in the end, where I consider the last 2 cards pocket and the first 5 common: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/web/85e/51b/b50/85e51bb500074a908fee8cb3147445a8.png"><br><a name="habracut"></a><h2>  Create an array of maps </h2><br>  In the deck there are 4 suits and 13 virtues, therefore I will form an array of 7 numbers in the range [2‚Äì14, 102‚Äì114, 202‚Äì214, 302‚Äì314], and then operate the remainder of division by 100 (% 100) of these numbers.  You can, of course, form an array of numbers in the range [2 - 14, 22 - 34, 42 - 54, 62 - 74], and then compare the residuals from division by 20 (% 20).  But the readability of the first option in my face, so I will focus on it. <br><br><pre><code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cardsCreation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $arrayCards = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i = <span class="hljs-number"><span class="hljs-number">0</span></span>; $i &lt; <span class="hljs-number"><span class="hljs-number">7</span></span>; $i++) { $card = mt_rand(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>); <span class="hljs-comment"><span class="hljs-comment">//       2  14 $multiplier = mt_rand(0, 3); //    if (1 == $multiplier) { //   1,    100 $card = $card + 100; } else if (2 == $multiplier) { //   2,    200 $card = $card + 200; } else if (3 == $multiplier) { //   3,    300 $card = $card + 300; } if (!in_array($card, $arrayCards)) { //,      ,       $arrayCards = array_merge($arrayCards, [$card]); } else { //     ,  ,     $i--; } } return $arrayCards; }</span></span></code> </pre> <br><h2>  Determining and calculating a Street combination </h2><br>  A straight is a combination where the cards are in order.  Therefore, it makes no sense to take into account when calculating all the cards that make up this combination, it suffices only the first card in seniority. <br><br>  There are several options for determining and calculating a Street combination.  I think most of them come down to the task of sorting out the remnants of dividing the members of the original array in descending order, and then somehow selecting the elements that make up the combination (in the case where more than 5 cards make a straight, you need to choose the largest). <br><br>  The essence of my method for determining a straight comes down to the fact that after sorting, I will first check the first five cards for a straight, then the second and third.  I also remember that ace, two, three, four and five also make a straight.  Therefore, if there is an ace (value 14) in the set, I add the eighth element to the array - 1. And therefore in this case, you need to check the fourth five of the cards. <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">straight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $arrayCards)</span></span></span><span class="hljs-function"> </span></span>{ $newArrayCards = []; $ace = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($arrayCards <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $arrayCard) { $newArrayCards = array_merge($newArrayCards, [$arrayCard % <span class="hljs-number"><span class="hljs-number">100</span></span>]); <span class="hljs-comment"><span class="hljs-comment">//       100 if(14 == $arrayCard % 100) { //     , 2, 3, 4, 5 $ace = true; } } if($ace == true) { $newArrayCards = array_merge($newArrayCards, [1]); //    ,    1 } rsort($newArrayCards); //       $count = 0; //,    1  ,         = 1 $length = 4; //,       $result = 0; //  $begin = 0; // ,      for($i = 1; $i &lt;= $length; $i++) { if (-1 == ($newArrayCards[$i] - $newArrayCards[$i - 1])) { $count++; } if($length == $i) { if(4 == $count) { //$count == 4,   $result = $newArrayCards[$begin] * 1e+8; } else if($length &lt; 6 or (6 == $length and $ace == true)) {//  ,      $length++; // ,     $begin++; // ,     $i = $begin; //   for  $i   1 ($i++  for) $count = 0; //  } } } return $result; }</span></span></code> </pre><br><h2>  Definition and calculation of combinations of Flash and Street Flash </h2><br>  Flush - a combination of cards of the same suit.  When calculating you need to consider all the cards that make up the combination. <br><br>  When calculating a straight flush, as in the calculation of a straight, you can only consider the highest card of the combination. <br><br>  To determine the flush, run loop through the array.  In the loop, create 4 auxiliary arrays (by the number of suits).  In the first array I will put all cards of the first suit, in the second - the second, etc.  If there is no suit, the corresponding array will be empty.  If the number of elements in the array is greater than or equal to 5, then this suit formed a flush. <br><br>  Flush is more priority than straight, so it is logical to check whether the combination of a straight flush formed exactly in the flash function.  Also, I think it is clear that it is inconvenient to write a separate function that checks both the straight and the flush.  It is better to write a function that checks an array for a flash, and in it to call a function that checks a flash for a straight. <br><br>  If the flush does not form a straight flush, sort the remainder of the division by 100 (% 100) of the original array.  Next, multiply the first five members of the resulting array by 1 + 10, 1 + 8, 1 + 6, 1 + 4, 1 + 2, respectively. <br><br>  I will build a function by definition of a straight flush based on a function by definition of a straight, with the only difference that it is necessary to take into account that an array with less than 7 elements can come into the function (I‚Äôm sending only those cards that make up the flush). <br><br>  Function to determine Flash: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pokerFlush</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $arrayCards)</span></span></span><span class="hljs-function"> </span></span>{ $suit1 = []; <span class="hljs-comment"><span class="hljs-comment">//  $suit2 = []; //  $suit3 = []; //  $suit4 = []; //  foreach ($arrayCards as $arrayCard) { // 4 ,      if($arrayCard &gt;= 2 and $arrayCard &lt;= 14) { $suit1 = array_merge($suit1, [$arrayCard]); } else if($arrayCard &gt;= 102 and $arrayCard &lt;= 114) { $suit2 = array_merge($suit2, [$arrayCard]); } else if($arrayCard &gt;= 202 and $arrayCard &lt;= 214) { $suit3 = array_merge($suit3, [$arrayCard]); } else { $suit4 = array_merge($suit4, [$arrayCard]); }} if(count($suit1) &gt;= 5) { //        5 $result = straightFlush($suit1); //        if(0 == $result) {//    foreach ($suit1 as $key1 =&gt; $s1) {//     100 $suit1[$key1] = $s1 % 100; } rsort($suit1); //    $result = $suit1[0] * 1e+10 + $suit1[1] * 1e+8 + $suit1[2] * 1e+6 + $suit1[3] * 1e+4 + $suit1[4] * 1e+2; } } else if (count($suit2) &gt;= 5) { //        5 $result = straightFlush($suit2); if(0 == $result) { foreach ($suit2 as $key2 =&gt; $s2) { $suit2[$key2] = $s2 % 100; } rsort($suit2); $result = $suit2[0] * 1e+10 + $suit2[1] * 1e+8 + $suit2[2] * 1e+6 + $suit2[3] * 1e+4 + $suit2[4] * 1e+2; } } else if (count($suit3) &gt;= 5) { //        5 $result = straightFlush($suit3); if(0 == $result) { foreach ($suit3 as $key3 =&gt; $s3) { $suit3[$key3] = $s3 % 100; } rsort($suit3); $result = $suit3[0] * 1e+10 + $suit3[1] * 1e+8 + $suit3[2] * 1e+6 + $suit3[3] * 1e+4 + $suit3[4] * 1e+2; } } else if (count($suit4) &gt;= 5) { //        5 $result = straightFlush($suit4); if(0 == $result) { foreach ($suit4 as $key4 =&gt; $s4) { $suit4[$key4] = $s4 % 100; } rsort($suit4); $result = $suit4[0] * 1e+10 + $suit4[1] * 1e+8 + $suit4[2] * 1e+6 + $suit4[3] * 1e+4 + $suit4[4] * 1e+2; } } else { $result = 0; } return $result; }</span></span></code> </pre><br>  The function for determining a Street Flush (similar to a Street, only it is necessary to take into account that the number of elements in an array can be not only 7, but also 5 and 6, and that the returned result of this function should be more): <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">straightFlush</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $arrayCards)</span></span></span><span class="hljs-function"> </span></span>{ $newArrayCards = []; $ace = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($arrayCards <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $arrayCard) { $newArrayCards = array_merge($newArrayCards, [$arrayCard % <span class="hljs-number"><span class="hljs-number">100</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">14</span></span> == $arrayCard % <span class="hljs-number"><span class="hljs-number">100</span></span>) { $ace = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($ace == <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { $newArrayCards = array_merge($newArrayCards, [<span class="hljs-number"><span class="hljs-number">1</span></span>]); } rsort($newArrayCards); $count = <span class="hljs-number"><span class="hljs-number">0</span></span>; $length = <span class="hljs-number"><span class="hljs-number">4</span></span>; $result = <span class="hljs-number"><span class="hljs-number">0</span></span>; $begin = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i = <span class="hljs-number"><span class="hljs-number">1</span></span>; $i &lt;= $length; $i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">-1</span></span> == ($newArrayCards[$i] - $newArrayCards[$i - <span class="hljs-number"><span class="hljs-number">1</span></span>])) { $count++; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($length == $i) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span> == $count) { $result = $newArrayCards[$begin] * <span class="hljs-number"><span class="hljs-number">1e+16</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-number"><span class="hljs-number">7</span></span> == count($arrayCards) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> ($length &lt; <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (<span class="hljs-number"><span class="hljs-number">6</span></span> == $length <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> $ace == <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>))) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (<span class="hljs-number"><span class="hljs-number">6</span></span> == count($arrayCards) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> ($length &lt; <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (<span class="hljs-number"><span class="hljs-number">5</span></span> == $length <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> $ace == <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>))) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-comment"><span class="hljs-comment">//     = 6 (5 == count($arrayCards) and (5 == $length and $ace == true))) { //     = 5 $length++; $begin++; $i = $begin; $count = 0; } } } return $result; }</span></span></code> </pre><br><h2>  Definition and calculation of pair combinations </h2><br>  There are five pair combinations: four of a kind (4 cards of the same value), full house (3 cards of the same value and 2 cards of another value), a triple (3 cards of the same value), two pairs (2 cards of the same value and 2 cards of another value), a pair (2 cards of the same value). <br><br>  When calculating, it is important to remember that in a full house combination, the main one is a combination of three cards, and two of the second cards, that is, for example, a combination of 3 twos and 2 dozens will be considered as 3 * 1e + 12 + 10 * 1e + 10, and not on the merits of the cards. <br><br>  And also when calculating pair combinations you need to consider the problems: <br><br>  1. The fact that more than 5 cards form a combination. <br>  2. The fact that we may have a situation in which combinations of more than one. <br><br>  To count the matching cards I will use three counters that will count the pair cards in the deck.  Where the counter is 1 - 2 cards are involved in the combination, where the counter is 2 - 3 cards, where 3 - 4 cards. <br><br>  Consider all possible combinations of counters: <br><br>  100 - couple <br>  110 - 2 pairs <br>  111 - 3 pairs (need to convert to view 110 (two pairs)) <br>  200 - three <br>  210 - full house <br>  120 - full house (needs to be converted to view 210 (full house)) <br>  211 (121, 112) - full house + pair (must be converted to the form 210 (full house)) <br>  220 - 2 triples or a full house + 1 card (you need to convert to the form 210 (full house)) <br>  300 - quads <br>  310 (130) - caret + pair (need to convert to mind 300 (caret)) <br>  320 (230) - four of a kind + three (need to convert to a kind of 300 (four of a kind)) <br>  Next, I will make the final calculation of pair combinations. <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">couple</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $arrayCards)</span></span></span><span class="hljs-function"> </span></span>{ $newArrayCards = []; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($arrayCards <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $arrayCard) { $newArrayCards = array_merge($newArrayCards, [$arrayCard % <span class="hljs-number"><span class="hljs-number">100</span></span>]); <span class="hljs-comment"><span class="hljs-comment">//       100 } rsort($newArrayCards); //       $count1 = 0; //    $count2 = 0; //    $count3 = 0; //    $match1 = 0; //     $match2 = 0; //     $match3 = 0; //     for($i = 1; $i &lt; count($newArrayCards); $i++) { if ($newArrayCards[$i] == $match1 or $match1 == 0) { //   if ($newArrayCards[$i] == $newArrayCards[$i - 1]) { $match1 = $newArrayCards[$i]; $count1++; } } else if ($newArrayCards[$i] == $match2 or $match2 == 0) { //   if ($newArrayCards[$i] == $newArrayCards[$i - 1]) { $match2 = $newArrayCards[$i]; $count2++; } } else if ($newArrayCards[$i] == $match3 or $match3 == 0) { //   if ($newArrayCards[$i] == $newArrayCards[$i - 1]) { $match3 = $newArrayCards[$i]; $count3++; } } } //   111  110 (2 )  211  210 ( ) if(($count1 == 1 or $count1 == 2) and $count2 == 1 and $count3 == 1) { $count3 = 0; } //   121   211   ,    210 ( ) else if($count2 == 2 and $count1 == 1 and $count3 == 1) { $support = $match2; $match2 = $match1; $match1 = $support; $count1 = 2; $count2 = 1; $count3 = 0; } //   112   211   ,    210 ( ) else if($count3 == 2 and $count1 == 1 and $count2 == 1) { $support = $match3; $match2 = $match1; $match1 = $support; $count1 = 2; $count3 = 0; } //   220  210 ( ) else if($count1 == 2 and $count2 == 2 and $count3 == 0) { $count2 = 1; } //   120  210 ( ) else if ($count1 == 1 and $count2 == 2 and $count3 == 0) { $support = $match1; $match1 = $match2; $match2 = $support; $count1 = 2; $count2 = 1; } //320  300  310  300 else if($count1 == 3 and ($count2 == 2 or $count2 == 1)) { $count2 = 0; } //230  320    300  130  310    300 else if($count2 == 3 and($count1 == 2 or $count1 == 1)) { $support = $match2; $match2 = $match1; $match1 = $support; $count1 = 3; $count2 = 0; } // if ($count1 == 3) { $count1 = 1e+14; } //  else if ($count1 == 2 and $count2 == 1) { $count1 = 1e+12; $count2 = 1e+10; } // else if ($count1 == 2 and $count2 == 0) { $count1 = 1e+6; } //2  else if ($count1 == 1 and $count2 == 1) { $count1 = 1e+4; $count2 = 1e+2; } // else if ($count1 == 1 and $count2 == 0) { $count1 = 1e+2; } $result = $match1 * $count1 + $match2 * $count2;// $match1  $match2   0,     return $result; }</span></span></code> </pre><br><h2>  Final settlement </h2><br>  Now we have functions that check the array of cards for straight, flush, straight flush and pair combinations.  I will call them together and calculate the final result, I also remember about the calculation of the high card. <br><br>  Calculation of the high card: <br><br>  1. Determine the highest and lowest priority pocket cards.  To do this, compare them with the remnants of division by 100 (% 100). <br>  2. I will add the lowest priority divided by 100 to the highest priority map. <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">priority</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $arrayCards)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     if($arrayCards[5] % 100 &gt; $arrayCards[6] % 100) { //,      -  $highCard1 = $arrayCards[5] % 100; $highCard2 = $arrayCards[6] % 100; } else { $highCard1 = $arrayCards[6] % 100; $highCard2 = $arrayCards[5] % 100; } $flush = pokerFlush($arrayCards); //     $straight = straight($arrayCards); //     $couple = couple($arrayCards); //     //      if($flush &gt;= 1e+16) { $result = $flush; //  } else if($couple &gt;= 1e+14 and $couple &lt; 1e+16) { $result = $couple; // } else if($couple &gt;= 1e+12 and $couple &lt; 1e+14) { $result = $couple; //  } else if($flush &gt;= 1e+10) { $result = $flush; // } else if($straight &gt;= 1e+8 and $straight &lt; 1e+10) { $result = $straight; // } else if($couple &gt;= 1e+6 and $couple &lt; 1e+8) { $result = $couple; // } else if($couple &gt;= 1e+4 and $couple &lt; 1e+6) { $result = $couple; //  } else if($couple &gt;= 1e+2 and $couple &lt; 1e+4) { $result = $couple; // } else { $result = $highCard1 + $highCard2 * 1e-2; //  } return $result; }</span></span></code> </pre><br><h2>  About the display </h2><br>  I brought the result to the browser, using the following sprite (I took a picture from the site: <a href="http://fondhristianin.ru/%3Fp%3D2941">fondhristianin.ru/?p=2941</a> ), as background-image for a div. <br><br><img src="https://habrastorage.org/web/eb4/38e/790/eb438e7903fa4cf8ae2ff1e43c0d9ec2.png"><br><br>  The width and height for the div were set equal to the size of one map, i.e.  if the image size is 572px * 328px (as in this case), the number of cards is 13 in width, 5 in height, and 44px * 65.6px in width and height.  Then I changed the background-position in view of the previously formed array map. <br><br>  Calculate the background-position for any of the divs along the x axis <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">100</span></span>/<span class="hljs-number"><span class="hljs-number">12</span></span> * ($arrayCards[$i] % <span class="hljs-number"><span class="hljs-number">100</span></span> - <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre><br>  where $ arrayCards is a previously formed array. <br>  $ i - the serial number of the card. <br><br>  <i>Explanation of the calculation:</i> <br>  In the series of 13 cards, the beginning of the 1st card is 0%, the beginning of the 13th card is 100%, therefore the position difference is 100% / 12 (and not 13).  We give the number of cards from the form [2-14, 102-114, 202-214, 302-314] to [0-12].  To do this, take the remainder of the card number and subtract 2. 2. Multiply the resulting number by the difference in position. <br><br>  Calculate background-position for any of the divs on the y-axis <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">100</span></span>/<span class="hljs-number"><span class="hljs-number">4</span></span> * floor($arrayCards[$i] / <span class="hljs-number"><span class="hljs-number">100</span></span>)</code> </pre><br>  <i>Explanation of the calculation:</i> <br>  In the row of 5 cards, the beginning of the 1st card is 0%, the beginning of the 5th card is 100%, therefore the difference of positions is 100% / 4 (and not 5).  We give the number of cards from the form [2-14, 102-114, 202-214, 302-314] to [0-3].  To do this, divide the card number by 100 and round it down (you can use a simple rounding operation, it will work in the same way).  Multiply the resulting number by the position difference. </div><p>Source: <a href="https://habr.com/ru/post/335540/">https://habr.com/ru/post/335540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../335530/index.html">So you decided to deploy OpenStack</a></li>
<li><a href="../335532/index.html">Hidden features of Windows. How can BitLocker help protect data?</a></li>
<li><a href="../335534/index.html">The digest of interesting materials for the mobile developer # 216 (August 6 - August 13)</a></li>
<li><a href="../335536/index.html">5 popular myths about logo design</a></li>
<li><a href="../335538/index.html">Pygest # 15. Releases, articles, interesting projects from the world of Python [August 01, 2017 - August 14, 2017]</a></li>
<li><a href="../335544/index.html">A little about ‚Äúashipki‚Äù in software and the help of the theory of the finite state machine</a></li>
<li><a href="../335546/index.html">PHP Digest number 114 - the latest news, materials and tools (August 1 - 14, 2017)</a></li>
<li><a href="../335548/index.html">How to recognize scam ico? Part II. Vision</a></li>
<li><a href="../335550/index.html">As a freelancer to open a company in Latvia and what advantages it gives</a></li>
<li><a href="../335552/index.html">How does the Kubernetes scheduler actually work?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>