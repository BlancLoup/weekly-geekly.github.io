<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Switch Management Automation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We have already written a lot about the possibilities provided by modern switches with ONIE boot environment and open OS based on Linux for them. Buil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Switch Management Automation</h1><div class="post__text post__text-html js-mediator-article"><img align="right" width="500" src="https://habrastorage.org/files/5c1/80b/e66/5c180be66ac442e192784b8663fc8950.png"><br>  We have already written a lot about the possibilities provided by modern switches with ONIE boot environment and open OS based on Linux for them.  <a href="http://habrahabr.ru/company/etegro/blog/240013/">Building L3-factories</a> , <a href="http://habrahabr.ru/company/etegro/blog/240913/">L2 overlay virtual networks</a> , all this already.  But one important topic remained unsolved, which was mentioned a lot - automation capabilities. <br><br>  The command line is, of course, great and generally classic, but in 2014 I want more.  Especially if you have to work with tens and hundreds of devices on the same network. <br><br>  So what do we get when using a switch with a Linux-based OS, such as Cumulus? <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Automation begins at the stage of connecting the switch to the network environment.  And for that, thanks to the ONIE installation environment, which replaced the PXE.  When you first boot using option 239 DHCP, you request a URL from which to get a system image.  And along with it a script is requested that will be executed during installation.  The list of supported languages ‚Äã‚Äãincludes Bash (Shell), Perl, Python, Ruby.  A typical example looks like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9c3/315/d08/9c3315d08a9244f89f5f03c34aeea1ea.png"></div><br>  <i>Zero Touch Provisioning</i> <br><br>  This option can greatly facilitate the process of expanding or expanding the network, in which there are a large number of similar settings.  However, it is already very valuable to fill in the set of necessary software ‚Äúby default‚Äù; any person who has to assemble computers or servers in an amount different from ‚Äúone for personal use‚Äù knows this. <br><br>  But here we have broken through the installation phase, and here the most interesting things that exist in the Linux world already begin. <br><br>  <b>Routing</b> <br>  There is a choice from: <br><ul><li>  <a href="http://www.nongnu.org/quagga/">Quagga</a> </li><li>  <a href="http://bird.network.cz/">BIRD</a> </li></ul><br><br>  The first package is considered more common and convenient, but there is an opinion that the second one has better scalability.  For our part, we are just glad of the possibility of choice and offer you the following statistics on the use of various options on the ‚ÄúNines‚Äù: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/bd9/e6d/ebf/bd9e6debf46e48ca9dd05d0b547275d1.png"></div><br>  <i>Routing on traffic exchange nodes</i> <br><br>  <b>Virtualization</b> <br>  Here the choice is small, but quite decent in terms of the possibilities offered: <br><ul><li>  <a href="http://www.vmware.com/ru/products/nsx">VMware NSX</a> </li><li>  <a href="http://www.openstack.org/">Openstack</a> </li></ul><br><br>  We wrote about VMware NSX in <a href="http://habrahabr.ru/company/etegro/blog/240913">our previous material</a> , and OpenStack is such a voluminous topic that it requires not even a separate article, but a whole cycle of articles, so we will probably leave this part without additional comments. <br><br>  <b>Interface Management Automation</b> <br>  When it comes directly to automation control, here we have: <br><ul><li>  <a href="http://www.puppetlabs.com/">Puppet</a> - written in Ruby is one of the most well-known client-server configuration management systems of the OS and software using a special language Guide </li><li>  <a href="http://getchef.com/">Chef</a> is another well-known configuration system. </li><li>  <a href="http://cfengine.com/">CFEngine</a> - the third world-renowned configuration system </li></ul><br><br>  As always happens in such cases, holivars about which of the systems is more convenient never stop.  Therefore, with only the support of all three systems in the switch OS, it can be said that it has the necessary flexibility to be successfully integrated into most of the existing environments. <br>  However, even if you use third-party or samopisnye management systems, no one bothers you to adapt their client for use within the open operating system of the switch. <br><br>  And a few more words about popular network interface management packages.  Surely, many people know such a Debian package as <i>ifupdown</i> .  Cumulus uses its updated version of <a href="https://github.com/CumulusNetworks/ifupdown2">ifupdown2</a> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a01/3d4/3b4/a013d43b4a88454a984b4c80f7d1c39e.png"></div><br>  <i>ifupdown2</i> <br><br>  By and large, this is still the same package, with preserved backward compatibility, but rewritten in python and with enhanced functionality.  In the new version the command syntax has been significantly simplified.  But perhaps the most useful feature is the ability to make incremental changes to the configuration of network interfaces, without restarting the interfaces. <br><br>  <b>Monitoring</b> <br>  Understanding the processes occurring at any time, the desire to always keep abreast of what is happening is a characteristic feature of any good administrator, be it system or network. <br><br>  For those who are used to Linux'ov utilities, there is a whole host of multi-functional long-developed packages: <br><ul><li>  <a href="https://collectd.org/">collectd</a> </li><li>  <a href="http://ganglia.sourceforge.net/">Ganglia</a> </li><li>  <a href="http://www.net-snmp.org/">Net-SNMP</a> </li><li>  <a href="http://graphite.wikidot.com/">Graphite</a> </li><li>  <a href="https://www.icinga.org/">Iscinga</a> </li></ul><br>  Well, "networkers" rather like the usual <a href="http://www.sflow.org/">sFlow</a> taste. <br><br>  <b>Prescriptive Topology Manager (PTM)</b> <br>  Another useful feature at the interface of monitoring and automation is PTM.  This package allows using LLDP survey of nearest neighbors and BFD (Bidirectional Forwarding Detection) to find failures in existing paths, build a real-existing network topology and compare it with the predefined topology.dot file.  The latter is a graphviz-DOT format file - a relatively common way of textual description of the connection graph, which is rather convenient both for working with it as text and for converting it into a graphic display of topology. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c93/a7e/f7b/c93a7ef7b00a4e6e8cad69f1b41b4226.png"></div><br>  <i>Prescriptive Topology Manager</i> <br><br>  As a result, we get a convenient way to check the correctness of connecting cables, which is very important for large installations.  In addition, we get another mechanism for monitoring the state of network connections, and it is easily scripted and already integrated with quagga. <br><br>  Well, somehow the situation with automation in modern networked open OS looks like. <br>  What do you use? </div><p>Source: <a href="https://habr.com/ru/post/242575/">https://habr.com/ru/post/242575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242561/index.html">Machine learning as a service - free and in the cloud</a></li>
<li><a href="../242567/index.html">How to sell an idea or 7 types of idea buyers</a></li>
<li><a href="../242569/index.html">Internet services: how to find now and what they promise in the near future</a></li>
<li><a href="../24257/index.html">Solutions for creating a social network</a></li>
<li><a href="../242571/index.html">Will SAFe be an industry standard in Enterprise Agile?</a></li>
<li><a href="../242577/index.html">The process of connecting Yii 1.1.15 to the CMS as an application on the example of Shop-Script 5</a></li>
<li><a href="../242579/index.html">Understanding the frame extensions for FFCMS - hello world!</a></li>
<li><a href="../24258/index.html">Data graveyard</a></li>
<li><a href="../242581/index.html">New malware for iOS can infect devices without jailbreak</a></li>
<li><a href="../242585/index.html">Features of the Android TV box with multicast broadcasting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>