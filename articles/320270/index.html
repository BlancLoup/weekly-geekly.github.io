<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Internet intelligence in action: who is Mr./Ms. Habraman?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last article on Internet intelligence , the process of collecting and analyzing data on a specific person was briefly discussed. Since the topi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Internet intelligence in action: who is Mr./Ms. Habraman?</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="https://habrahabr.ru/company/echelon/blog/319334/">last article on Internet intelligence</a> , the process of collecting and analyzing data on a specific person was briefly discussed.  Since the topic has caused great interest, we continue the work we have started and in this article we will look at how you can collect information about a whole group of users. <br><br>  Consider the following situation: the new Habr user, having received a minus in karma before his first post / comment on the resource, decides to find out who is behind the sophisticatedly invented nicknames of Habr users and asks: who is Mr./Ms.  Habraman? <br><a name="habracut"></a><br>  We will follow the intelligence cycle: <br><br>  <b>Step 1. Task setting</b> <br>  The task can be formulated as follows: it is required to make a portrait of the average user Habr. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Step 2. Planning</b> <br><br>  2.1 Hypotheses <br><br>  To effectively gather information, we will need working hypotheses, based on which we will understand what data we need and where to find them.  To formulate hypotheses it is often necessary to have some preliminary knowledge of the subject. <br><br>  For preliminary information about Habr's users, our inexperienced user refers to the Lurkmore site, which, as we know, is distinguished by a multilateral coverage of any phenomenon in the modern world.  Puzzled by the negative attitude of the author of the <a href="http://lurkmore.to/%25D0%25A5%25D0%25B0%25D0%25B1%25D1%2580%25D0%25B0">article,</a> our Internet intelligence officer formulates the following hypotheses about who the average user Habr is all the same: <br><br><ul><li>  Hypothesis 1. Severe IT-specialist in age, living in one of our capitals, embittered by hustle in the subway or multi-kilometer traffic jams; </li><li>  Hypothesis 2. An alien who has remained on our planet before the final repair of the control system of his ship, which he hopes to complete according to the guidelines placed on Habr√© by other aliens; </li><li>  Hypothesis 3. A young educated person with a wide range of interests who is interested not only in computers. </li></ul><br>  Please note that in formulating hypotheses we try to follow the MECE (mutually exclusive and collectively exhaustive) rule, which can be translated as a ‚Äúmutually exclusive and jointly exhaustive list‚Äù). <br><br>  2.2 Data and its sources <br><br>  Based on the set of formulated hypotheses, we can now determine what data we need to be able to verify them. <br><br>  Accordingly, we are interested in the following data: <br><br><ul><li>  Interests (hobbies, movies, books, etc.); </li><li>  Floor; </li><li>  Age; </li><li>  Location (city, country). </li></ul><br>  A good source of such information, as we know, are social networks, in particular the Russian network VKontakte, in which our hero finds <a href="https://vk.com/habr">the Habrhabr group</a> with almost 670 thousand subscribers and with a motto that indirectly confirms one of the formulated hypotheses: ‚ÄúUFO is with you!‚Äù . <br><br>  <b>Step 3. Data collection</b> <br><br>  3.1 Tools <br><br>  To access the data of subscribers of the group in the VKontakte network, we will need: <br><br><ul><li>  Network access token; </li><li>  <a href="https://www.r-project.org/">R</a> is a programming language for statistical data processing and their visualization by graphics; </li><li>  Library for access to VK API: <a href="https://github.com/Dementiy/vkR">vkR;</a> </li><li>  Development environment for R: <a href="https://www.rstudio.com/">RStudio</a> ; </li><li>  MS Excel and LibreOffice. </li></ul><br>  3.2 Accessing Data <br><br>  To upload data from users of the VKontakte social network, you need to use the VK API.  Thanks to <a href="https://github.com/Dementiy">Dmitry Sorokin</a> , who created the vkR library, working with the VK API from the R environment is now available to any confident (and insecure) user. <br><br>  In order to be able to access the VK API, <a href="http://all-for-vkontakte.ru/catalog/access-token-vkontakte">it is necessary to generate a so-called</a> access token. <br><br>  3.3 Data Collection Process <br><br>  Since in the comments to the previous article, dear readers showed great interest in the practical component of the data collection process, we present here an example of code in the R language, on the basis of which, if desired, you can fully reproduce the steps described below. <br><br>  To work with the data of users of the Habkhabr group on the VKontakte network, you will need its unique identifier, which is easy to identify by hovering the mouse pointer, for example, on the ‚ÄúWrite a message‚Äù button and seeing a link of the following type ‚Äú <a href="https://vk.com/im%3Fsel%3D-20629724">vk.com/im?sel=- 20629724</a> .  The numbers are 20629724 and are the required ID. <br><br><pre><code class="hljs pgsql">#  vkR &gt;install.packages("vkR") #          &gt;library(vkR) #      &gt;setAccessToken(access_token = "000000000..000") #   userids      &gt;userids&lt;-getGroupsMembersExecute(group_id = "20629724", progress_bar = <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>) #   <span class="hljs-number"><span class="hljs-number">3000</span></span>     &gt;sampleids&lt;-sample(userids, <span class="hljs-number"><span class="hljs-number">3000</span></span>, replace=<span class="hljs-keyword"><span class="hljs-keyword">FALSE</span></span>) #     # : https://vk.com/page<span class="hljs-number"><span class="hljs-number">-1</span></span>_27445058 &gt;groupdata&lt;-getUsersExecute(sampleids,fields = "sex,bdate,city,country,education,universities,relation,interests,movies,tv,books,games,about", <span class="hljs-keyword"><span class="hljs-keyword">drop</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">FALSE</span></span>, flatten = <span class="hljs-keyword"><span class="hljs-keyword">FALSE</span></span>, progress_bar = <span class="hljs-keyword"><span class="hljs-keyword">TRUE</span></span>) #  ,    &gt; qofmale_female&lt;-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>.data.frame(<span class="hljs-keyword"><span class="hljs-keyword">table</span></span>(groupdata$sex)) #,   &gt; qofmale_female Var1 Freq <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">853</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2145</span></span> #       qofmale_female$<span class="hljs-type"><span class="hljs-type">name</span></span>&lt;-c("", "", "") #     qofmale_female$color&lt;-c("#51b828", "#ff5d4e", "#2879a8") #  &gt; barplot(qofmale_female$Freq, names.arg = qofmale_female$<span class="hljs-type"><span class="hljs-type">name</span></span>, col=qofmale_female$color, border = NA) #  CSV-        MS Excel/LibreOffice <span class="hljs-keyword"><span class="hljs-keyword">write</span></span>.csv2(qofmale_female, "C://girlsboysaliens.csv")</code> </pre> <br>  3.4 Sampling <br><br>  Internet intelligence should be efficient and effective, so ‚Äúshoveling‚Äù all 670,000 users is not a good idea.  We need a large enough sample, formed randomly.  Our hero likes the number 3000 and he stops at it.  Taking into account the <a href="https://www.surveymonkey.ru/mp/sample-size/">recommendations of sociologists</a> , this volume will be enough even if not all profiles are completely filled. <br><br>  <b>Step 4. Data processing</b> <br><br>  Thanks to R, data processing turned out to be quite simple.  The only problem our scout encountered was a problem with the encoding: after downloading data from the Vkontakte network, the RStudio console did not display the text correctly, but the problem was solved as follows: <br><br><ol><li>  We unload the data received from the social network into a variable; </li><li>  Save to CSV file; </li><li>  Open in LibreOffice - check that everything is read as it should; </li><li>  Save the CSV file by setting the unicode UTF-8 encoding; </li><li>  We load it back into R using read.csv with the UTF-8 encoding specified. </li></ol><br>  Surely, there is a more optimal solution to this problem, who knows - share information in the comments to the article. <br><br>  <b>Step 5. Analysis of information</b> <br><br>  We proceed to the analysis of the data. <br><br>  5.1 Guys, girls and aliens <br><br>  If you look at the distribution by sex, you can see the following picture: <br><img src="https://habrastorage.org/files/32d/3e0/c78/32d3e0c782684b798c970feeca259952.png"><br><br>  We see that about 2/3 were guys, 1/3 were girls, but there were only two aliens who couldn‚Äôt decide whether they belonged to any particular gender.  Hypothesis 2 can be safely discarded. <br><br>  5.2 Cities and countries <br><br>  Checking the first hypothesis, including the assumption that among the users of Habr are mostly residents of our two capitals, we will look at the distribution by cities. <br>  This field in their profile indicated a total of 2092 users from our sample.  The list of the top 15 cities turned out to be this: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/c52/1d6/7a8/c521d67a85d142acb45e0b859606ee51.png"></div><br>  Two capitals occupy the first positions, but the total number of users who have indicated Moscow and St. Petersburg is less than a quarter of 2092. Accordingly, it is difficult to call a purely capital Habr. <br><br>  As for the countries in which our users live, it is clear that we are talking mainly about Russia, Ukraine, Kazakhstan and Belarus. <br><img src="https://habrastorage.org/files/dbe/fcb/136/dbefcb136c904a10aeab0aacf3f590e1.png"><br><br>  5.3 Age of the audience <br><br>  It is interesting to look at the distribution of Habr's users from the sample by year of birth and to see that the age of the majority of users is in the range of 20-30 years. <br><img src="https://habrastorage.org/files/cea/577/210/cea577210b4148aaabe1559f5ca4d400.png"><br>  The assumption of age from the first hypothesis can be safely excluded, but the corresponding assumption from the third hypothesis is confirmed. <br><br>  5.4 Interests <br><br>  Let's see what our users live.  This can be done, at a minimum, by analyzing the following fields listed in the profiles: interests, movies, tv, books, games, about.  Additionally, you can analyze the groups in which our users are members, since we have a great getGroupsForUsers () method.  With the analysis of groups and begin.  Below are the top 15 groups of the VKontakte network in which users of Habr like to be members. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/117/a23/ce8/117a23ce80454133b48d4d0bc904fcbf.png"></div><br>  As you can see, information technologies and programming occupy not the last place in the life of Habr users, but obviously no one dwells on them. <br><br>  It makes sense to build histograms by the field values ‚Äã‚Äãof interests, movies, tv, books, games, about after a long comparison of what users indicated with general categories, but this time, unfortunately, no.  Therefore, let's go through some points that caught my eye. <br><br>  1. Apparently a significant number of Habr's audience does not favor the TV, but this is not a fact, but an assumption, since we see only about 20 people, and we do not know how many people chose not to report about it, although they do just that. <br><br><img src="https://habrastorage.org/files/10e/9bd/b8a/10e9bdb8ad4e4b439cb0d6ea9de98fcf.png"><br><br>  2. Literature is the most diverse, and, characteristically, the works of Donald Knuth are not included in the list of favorite books for the night. <br><br><img src="https://habrastorage.org/files/92d/745/c27/92d745c276e940aabc4897ec275ed782.png"><br><br>  3. Interests are distinguished by exceptional diversity, and, which is especially pleasing, sport is not the last. <br><br><img src="https://habrastorage.org/files/868/868/5f1/8688685f160b46db8ef7b76be4b299f9.png"><br><br>  5.5 Just Curiosity: Top 25 Names <br><br>  Analyzing the collected data, it became interesting to see, and what are the most common names of Habr users, most of them trying to choose the mysterious nickname.  The result is a table from the TOP-25 names from our sample: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1f8/df4/48c/1f8df448c97e4fe89e72b4735cffdf82.png"></div><br>  <b>Step 6. Report preparation and presentation of results.</b> <br><br>  Thus, summing up the results of a small study, we can safely describe the portrait of the average Mr.  or Ms.  Habraman: <br><br><ul><li>  Age from 20 to 30 years; </li><li>  He lives in a large city in Russia, Ukraine, Kazakhstan or Belarus; </li><li>  Leads an active lifestyle, is interested in IT, modern science and much more; </li><li>  The probability that a guy is in front of us is 2/3, and that a sweet girl is 1/3, and definitely not an alien. </li></ul><br>  Accordingly, of the three formulated hypotheses, the third was the most likely.  The first two were discarded. <br><br>  <b>Data checking</b> <br><br>  When someone presents his analysis, and even reports his findings, the real intelligence officer always recheck.  Let's do it and we will compare the results with available data from alternative sources. <br><br>  Let's compare with the data that is presented in the <a href="https://habrahabr.ru/users/">"Users"</a> section available to any Habr user. <br><br>  Matches: <br><br><ul><li>  Total users: 739,159, and in the VKontakte group almost 670 thousand are the same order. </li><li>  The order of countries in the number of users almost coincides: Russia, Ukraine, Belarus, Kazakhstan, the United States. </li><li>  The order of cities: the first 5 are the same. </li></ul><br>  Discrepancies: <br><br><ul><li>  According to the site itself, there are 134 thousand men among men, 10 thousand women, and about 600 thousand of the ‚Äúothers‚Äù. Perhaps, this indicates an alien invasion, but most likely the users simply did not fill out their profiles completely. </li><li>  The percentage of cities differ significantly.  We have Moscow - at least 15%, on the site, however, it is indicated that there are only 6,000 users in Moscow, which is 1% of all registered users, which is most likely caused by the reluctance of users to completely fill out their profile on the site. </li></ul><br>  Let's also verify with data similar to a study conducted in 2014 by the <a href="https://habrahabr.ru/users/apatic/" class="user_link">Apatic</a> user: <a href="https://habrahabr.ru/post/242951/">Who subscribed to Habrahabr?</a> <br><br>  Matches: <br><br><ul><li>  76% are men, 24% are women, which is very close to our result; </li><li>  Age distribution coincides; </li><li>  Top 4 countries in the same order. </li></ul><br>  <b>Conclusion</b> <br><br>  So we figured out how the intelligence cycle can be used to analyze information about communities, which would be useful for a blogger to understand the audience of readers and a marketer who analyzes who buys products from competitors. <br><br>  <b>Literature</b> <br><br><ol><li>  The art of visualization in business.  How to present complex information with simple images.  Nathan Yau ISBN: 978-5-91657-737-2 </li><li>  A lot of numbers.  Big data analysis with Excel.  John Foreman.  ISBN 978-5-9614-5032-3, 978-5-9614-5954-8 </li></ol><br><br>  <b>Update:</b> <br><br>  A number of readers have doubts that the ‚ÄúHabrjabr‚Äù group on the VKontakte network significantly intersects with the user group of Habr himself.  To verify this thesis, I suggest a small survey. </div><p>Source: <a href="https://habr.com/ru/post/320270/">https://habr.com/ru/post/320270/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../320260/index.html">Return H.264 support in Vivaldi in openSUSE Leap 42.2</a></li>
<li><a href="../320262/index.html">RIGHT kitchen</a></li>
<li><a href="../320264/index.html">We write a wrapper over the API, make a PIP packet out of it, connect Travis CI testing and look at open source licenses</a></li>
<li><a href="../320266/index.html">JunOS update on EX4500 switches in VirtualChassis - what could go wrong? Part 1</a></li>
<li><a href="../320268/index.html">Generating documents in doc, excel, pdf and other formats on the server</a></li>
<li><a href="../320278/index.html">Hard parting with Net-Tools</a></li>
<li><a href="../320280/index.html">Javascript Video Refactoring</a></li>
<li><a href="../320282/index.html">Hijacking Whatsapp accounts using the web version</a></li>
<li><a href="../320284/index.html">Qt 5.8 framework release</a></li>
<li><a href="../320286/index.html">The right way to become a safe person: from lamer to practical exploit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>