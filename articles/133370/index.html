<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Everything you wanted to know about operations wizards, but were afraid to ask</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most of the system administrators in their corporate environment use AD DS, which can safely be called the heart of the entire enterprise infrastructu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Everything you wanted to know about operations wizards, but were afraid to ask</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/b33686e2/f90c2c39/0bdb1efc/f4419f91.jpg"><br>  Most of the system administrators in their corporate environment use AD DS, which can safely be called the heart of the entire enterprise infrastructure, to provide the system of identification and access of its users to company resources.  As many of you know, the structure of domain services in organizations can include one or several forests (a set of domains, including a description of the network configuration and a single copy of the directory), depending on factors such as limiting the area of ‚Äã‚Äãtrust, the complete separation of network data, obtaining administrative isolation.  In turn, each large forest should be divided into domains to simplify the administration and replication of data.  In each domain, domain controllers are used to manage domain services and perform tasks such as authentication, starting the <b>Kerberos Key Distribution Center</b> service <b>,</b> and access control.  And to manage the network traffic between offices developed sites. <a name="habracut"></a><br>  All information about forests, domains and sites, of course, must be coordinated when designing Active Directory Domain Services, according to corporate requirements such as: business requirements, functional requirements, legal requirements, security requirements, as well as project documentation restrictions.  Often, all these points before the deployment of domain services are carefully planned by the IT department of the company itself or by the project team dealing with the infrastructure of the enterprise and are written into a special service level agreement defining the expected level of performance and the quality of the service provided. <br>  The information obtained after the design or, most often, after the deployment of Active Directory Domain Services has to be carefully documented.  Such documentation should include information about the logical and physical structure of domain services, administrative models, name resolution infrastructure, all planned changes in the organization‚Äôs environment, as well as such additional infrastructure components as the implementation of Microsoft Exchange mail servers, System Center servers and much more.  In most cases, the organization's IT staff ignores the documenting process and, when changing IT staff, new administrators may take some time to fully navigate the organization‚Äôs current infrastructure. <br>  You also need to understand that in the directory service almost all domain controllers are equal (in this context we do not take into account read-only domain controllers, RODCs), that is, all domain controllers have the right to write to the database and can replicate this data to other controllers.  This topology does an excellent job with most trivial Active Directory operations and is called <b>replication with multiple</b> peers (Multimaster).  But, nevertheless, there are some operations that must necessarily be performed on an authorized server allocated for such operations directly.  In other words, domain controllers that perform certain operations or roles in their domain are called wizards (or masters) of operations.  Know and understand the purpose of all the roles of operations wizards is necessary, since in the event of disaster recovery, updating or migration, domain controllers that perform the roles of operations wizards can play one of the most important roles.  Accordingly, it is about the master operations and will be discussed in this article. <br>  From this article you will learn: <br><ul><li>  The fact that it would be if there were no masters of operations; </li><li>  On the roles of forest-level operations wizards; </li><li>  About roles of operations level wizards; </li><li>  How you can determine which controller has the role of FSMO; </li><li>  About captures and transfer of roles of operations masters; </li><li>  On the proper placement of operations wizards on domain controllers. </li></ul><br>  What will not be considered in the current article: <br><ul><li>  <b>Planning and documenting domain controllers with operations master roles</b> .  This is a separate topic that includes an understanding of the nuances of planning AD DS and is beyond the scope of this article; </li><li>  <b>Global catalog servers</b> .  Many system administrators equate global catalog servers with operations wizards.  In fact, this is a false proposition.  A global catalog is a distributed data repository that stores information about each object, and also allows users and applications to find objects in any domain of the current forest by searching for attributes included in the global catalog that are identified in the schema as a private set of attributes.  The global catalog itself is located on domain controllers that are designated as global catalog servers and, in turn, is replicated through Multimaster replication.  Although the global catalog contains a complete list of all forest objects, and the global catalog servers can respond to all requests without having to link to other domain controllers, the global catalog is not the role of operations wizards.  You can read the following article about global catalog servers: <a href="http://dimanb.wordpress.com/2010/12/20/%25D1%2581%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B5%25D1%2580%25D1%258B-%25D0%25B3%25D0%25BB%25D0%25BE%25D0%25B1%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D1%2585-%25D0%25BA%25D0%25B0%25D1%2582%25D0%25B0%25D0%25BB%25D0%25BE%25D0%25B3%25D0%25BE%25D0%25B2/">‚ÄúGlobal catalog servers‚Äù</a> ; </li><li>  <b>The interaction of operations wizards with read-only domain controllers</b> .  Read-only Domain Controllers (DCs) are a special, relatively new type of domain controllers, which it is advisable to deploy in branch offices that are not provided with an adequate level of security and qualified IT staff.  As with the scheduling of operations wizards and global catalog servers, read-only domain controllers are a separate, broad topic that doesn‚Äôt make any sense in this article.  But you should immediately pay attention to the fact that read-only domain controllers cannot act as a domain controller with the role of operations master; </li><li>  <b>Problem solving and errors related to operations wizards</b> .  An interesting and rather voluminous topic that will not be considered, in view of the fact that the current article deals with the general concepts of the roles of operations wizards. </li></ul><br><h2>  What would happen if there were no operations wizards </h2><br>  Before imagining the situation with Active Directory domain controllers, on which there would be no distinction between domain controllers performing specific operations and other domain controllers, consider the advantages of domain controllers equipped with operation master roles. <br>  First of all, as already mentioned in the introductory section of this article, <b>operations wizards</b> are domain controllers that perform a special role in Active Directory to ensure integrity and eliminate conflicts.  It is for this purpose that a special role is assigned to such domain controllers, and since such roles do not have a strict binding to a single domain controller, such roles are called operation masters (Flexible Single Master Operation, FSMO, which is pronounced fizz-mo).  In fact, these roles can be performed by other domain controllers, but each role should be assigned to only one domain controller, and, in the same domain, actions that should be performed on the domain controllers of operations masters cannot be performed at the same time. <br>  I think it would be helpful to know which protocols the operation wizards use.  Operation Wizards use three protocols: <br><ul><li>  Lightweight Directory Access Protocol (LDAP); </li><li>  RPC; </li><li>  SMTP. </li></ul><br><img src="https://habrastorage.org/storage1/1faf0862/63d06c71/3ee5c866/f71416e3.jpg"><br>  Now let's imagine for a moment what would happen if there were no operation wizards in Active Directory Domain Services, that is, if all domain controllers could simultaneously perform the same actions. <br>  Suppose there is an organization with one forest and five domains.  In each of the domains, the system administrators decided to simultaneously install the Microsoft Exchange mail server, and, in one domain, the administrator installs the 2007 version of this mail server, in the second - 2000, and in the third Microsoft Exchange Server 2010 SP1.  All changes to the domain schema and, accordingly, the entire forest are written to the domain controller to which the administrators were connected, and after a while all changes made to the Active Directory scheme are replicated to each domain controller in the organization‚Äôs forest. <br>  If someone wants to rename his domain using the system utility Rendom.exe, as another domain has already been named, and the corresponding FSMO role will not be in the enterprise, when accessing which the administrator would see a warning message, saying, ‚ÄúWhat are you doing- then?  You already have such a domain, do you want to break everything? ‚ÄùAnd the domain will be renamed, after replication it would be simply impossible to avoid fatal problems. <br>  Take another example ... Again, in nature there are no masters of operations.  On client machines, the time can be lost, users can change their time by chance, but all clients in the default domain should synchronize time with the nearest domain controllers.  In this case, if there is no specific domain controller, the so-called leading time source, then the time for each user in the entire domain may be different, which may be critical for some business applications. <br>  Actually, examples of corporate apocalypse in connection with the lack of master operations can be given infinitely many.  The essence is the same, the wizards of operations simply have to be, should be accessible and should perform only those operations that are intended for them. <br>  In total, Active Directory Domain Services includes five different roles of operations wizards, Namely, two roles are used at the forest level: <b>domain naming</b> <b>master</b> and <b>schema master</b> , and in each forest there can be no more than one domain controller, with assignments of each role.  Each domain has only three operations <b>master</b> roles: the <b>relative identifier</b> <b>master</b> <b>RID</b> , the <b>infrastructure master</b> , and the <b>PDC main domain controller emulator</b> .  That is, when you install the very first domain controller in the forest, it simultaneously assigns all five roles of operations wizards, and when creating a new Active Directory domain in an existing forest, the new domain controller is assigned three domain level roles.  FSMO in the forest and the number of potential owners of these roles can be calculated by the formula "(number of domains * 3) + 2". <br>  For example, if you have an Active Directory forest with four domains, where there is a child and grandchild domain of one of the main domains, then this forest will contain 14 FSMO roles.  That is: one scheme master, one domain naming master, four PDC emulators (for two primary, child and grandchild domains with one role), four RID hosts for each domain, and four infrastructure masters for each domain. <br>  At this stage, I think it‚Äôs time to consider each role of the forest-level and domain-level operations master. <br><br><h2>  The roles of forest level wizards </h2><br>  As I wrote above, for the Active Directory forest level, there are two roles of operations wizards, namely: <br><ul><li>  Schema master; </li><li>  Domain Naming Wizard </li></ul><br><h3>  The role of the schema master </h3><br>  Before you say a few words about the role of the schema master, I think it makes sense to briefly describe what the <b>‚ÄúActive Directory Scheme‚Äù is</b> . <br>  <i>- See the gopher?</i> <br>  <i>- Not.</i> <br>  <i>- And I do not see.</i>  <i>And he is!</i> <br>  <i>K.F.</i>  <i>"DMB"</i> <br><img src="https://habrastorage.org/storage1/64b38b08/f4b216f0/038049c0/30f956e3.jpg"><br>  For many novice administrators, the Active Directory scheme can be associated with the expression from the famous movie written above.  It seems to be, as there is such a thing as a scheme, but for what it is needed, what it is, and in general what it is, no one knows and does not hurry to find out about it. <br>  According to the terminology, the schema contains the definitions of each attribute and class, which are created and stored in the Active Directory forest.  I think it‚Äôs unlikely for someone to find the news that AD DS stores and retrieves the necessary information from many corporate applications at the right time.  This is done so that, if necessary, the applications do not apply to the various components of the enterprise infrastructure, but to Active Directory Domain Services, information about which will be replicated to all domain controllers.  It is worth paying attention to the fact that in each Active Directory forest there is only one scheme that can be replicated to each domain controller in the forest.  Therefore, if an organization needs to deploy several applications that may create conflicts in the Active Directory schema, it is advisable to deploy and maintain two separate forests. <br>  The schema itself consists of the classSchema and attributeSchema objects, which are requested when defining the required object in the domain services.  Classes themselves are certain definitions located in the schema, which, in turn, define attribute groups.  It must be remembered that each class can use many attributes.  And, finally, for each attribute located in Active Directory Domain Services, the data type is specified in the schema as the syntax of the attribute itself.  And, of course, the value of each attribute included in a class instance must comply with the syntax requirements of the current attribute. <br>  Since a detailed review of the Active Directory schema is beyond the scope of this article, I think the definition described above is more than enough.  More information about the Active Directory schema will be discussed in one of the following articles.  Now consider what is the role of the master circuit. <br>  The domain controller, which is the schema master, is responsible for all changes that are made to the schema of the Active Directory forest.  It must be remembered that the domain controller responsible for this role should be the only one in the whole forest, and all other domain controllers will contain only replicas of the forest-only scheme for reading.  That is, if you make any changes to the Active Directory schema manually or when installing applications that modify the schema, the administrator needs to make changes on the domain controller that manages this role.  To make changes, the administrator must connect to the schema wizard and must be a member of <b>the Schema Administrators</b> security group.  After updating the schema, it is replicated from the schema wizard to all other domain controllers.  When attempting to modify a schema not on a domain controller that performs the role of a schema master, the action usually fails and you need to send them to the domain controller with the schema master role after making changes to the schema.  Accordingly, this role is critical, since when you try to modify the Active Directory schema with the disabled schema master, you will run into errors all the time.  In turn, the master schema role can be located on any domain controller in the forest designated for this purpose. <br>  By default, the schema master role is assigned to the first domain controller, which is installed in the forest, and this role is recommended to be placed along with the domain naming master role, which will be described below, on one domain controller.  Despite the recommendations, you can at any time move this role to any domain controller using the <b>Active Directory Schema</b> snap- <b>in</b> or through the <b>Ntdsutil</b> command-line <b>tool</b> .  You will also learn about the transfer of roles to other domain controllers in this article.  The schema master is identified by the <b>fSMORoleOwner</b> attribute <b>value of the</b> root object of the schema section. <br><br><h3>  The role of the Domain Naming Wizard </h3><br><img src="https://habrastorage.org/storage1/20947b2e/3d6233c0/0ae57180/7a762189.jpg"><br>  The next role that will be considered is called the domain naming master.  This role of the operations wizard and, accordingly, the only domain controller in the forest that can contain this role, is mainly used to add and delete domains and all directory partitions in the forest hierarchy.  The domain controller with the role of the domain naming master is designed to perform the following four operations: <br><ul><li>  <b>Add and remove domains</b> .  When performing such an operation as adding or deleting a child domain by using the Active Directory installation wizard or the command line utility, the installation wizard refers specifically to the domain naming wizard and asks for the right to add or, respectively, delete the latter.  Also, the domain naming master is responsible for ensuring that domains in the forest own unique NETBIOS names throughout the forest.  Naturally, for obvious reasons, if the domain naming master is not available, you will not be able to add or delete domains in the forest; </li><li>  <b>Add and remove cross-references</b> .  As you already know, during the creation of the first domain controller in the forest, it creates sections of the schema, configuration and domain directories.  At this time, for each directory partition in the Partitions container of the configuration section (CN = partitions, CN = configuration, DC = forestRootDomain), a cross-reference object is created (class crossRef).  The cross-reference object defines the name and location of the servers that store each directory partition in the forest.  When each subsequent domain or application directory section is created, the creation of a cross-reference object in the Partitions container is initiated. </li><li>  <b>Add and remove application directory partitions</b> .  Application directory partitions are special sections that you can create on Windows Server 2003, Windows Server 2008 or Windows Server 2008 R2 domain controllers to provide dynamic data storage for LDAP applications.  If your forest is running at the Windows Server 2000 level, then in such a forest all non-domain data is limited to configuration and schema data that is replicated to all domain controllers in the forest.  In a Windows Server 2003/2008 and 2008R2 forest, application directory sections provide storage of application specific data on a domain controller, which can be played on any domain controller in the forest. </li><li>  <b>Confirmation of domain renaming instructions</b> .  The last action performed by the domain naming master is confirmation of the domain renaming instructions.  Usually, domains are renamed with the help of a special command line utility.  So, when using the Rendom.exe utility, which is designed to rename domains, in order to rename a domain, the utility should have access to the domain naming master.  In addition to the above features, the domain naming master is also responsible for confirming domain renaming instructions.  When you run the specified tool, the domain script's msDS-UpdateScript attribute of the Partitions container object (CN = partitions, CN = configuration, DC = forestRootDomain) of the Configuration directory section is written to the XML directory with domain renaming instructions on the domain controller with the role of the wizard.  It is worth remembering that the Partitions container can only be updated on a domain controller that contains the role of the domain naming wizard.  In addition to the value of the msDS-UpdateScript attribute, the Rendom.exe utility writes the new DNS name of each renamed domain to the msDS-DnsRootAlias ‚Äã‚Äãattribute of the cross-reference object (the crossRef class) corresponding to that domain.  Again, since the cross-reference object is stored in the Partitrions container, this object can only be updated on a domain controller with the role of the domain naming wizard.  The changed attribute data msDS-UpdateScript and msDS-DnsRootAlias ‚Äã‚Äãare replicated to all domain controllers in the forest. </li></ul><br>  By default, the domain naming master role gets the first domain controller in a new forest, but you can move this role at any time using <b>the Active Directory - Domains and Trust</b> snap-in or the <b>Ntdsutil.exe</b> command-line <b>tool</b> .  Do not forget that it is recommended to have the roles of the schema master and the domain naming master on one domain controller.  A domain controller that has been assigned the role of a domain naming master must also be a global catalog server.  Otherwise, some operations may fail.  The schema master is identified by the value of the <b>fSMORoleOwner</b> attribute in the Partitions container. <br>  Just as in the case of the previous operations wizard, if you try to perform any of the above operations when the operation wizard is not available, your actions will fail.  But since all these actions are performed for a long period of time almost once, that you can recognize a domain naming master in an unsuitable state, you can find out at a critical moment, therefore, periodically check the availability of forest operation wizards. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Roles of domain level operation wizards </h2><br>  Unlike the forest level, each Active Directory domain has the following three roles of operations wizards: <br><ul><li>  Relative RID ID Wizard </li><li>  PDC Primary Domain Controller Emulator </li><li>  Infrastructure master </li></ul><br>  Let us consider in detail each of these wizards of operations. <br><br><h3>  RID Master </h3><br><img src="https://habrastorage.org/storage1/53d192ec/930eeccc/c5f29c55/0cd87804.jpg"><br>  The first master of operations for the domain level described in this article will be the relative identifier master (RID).  The RID wizard is used to manage a pool of RIDs in order to generate security identifiers (SIDs) for such security principals as users, groups, and computers, as well as for moving objects from one domain to another.  The SID of the security principal must be unique for the entire domain, so each security principal is assigned a unique security identifier SID, which contains the domain identifier and a relative RID that is unique to each security principal.  All SIDs have four different elements.  For example, according to Microsoft documentation, the elements of identifier S1-5-Y1-Y2-Y3-Y4 are provided in the following table: <br>  <i>Table 1. The structure of the element identifier</i> <br><table cellpadding="2"><tbody><tr><td>  <strong>SID element</strong> </td><td>  <strong>Description</strong> </td></tr><tr><td>  S1 </td><td>  Indicates the SID revision.  Currently only one revision is used for SID </td></tr><tr><td>  five </td><td>  Indicates the issuing center of a security principal.  The value 5 is always specified for the Windows NT, Windows 2000, Windows 2003, Windows 2008 and Windows 2008 R2 domains. </td></tr><tr><td>  Y1-Y2-Y3 </td><td>  Part of the domain SID.  For security principals created in the domain, this identifier element is identical </td></tr><tr><td>  Y4 </td><td>  Relative identifier (RID) for a domain that represents a user or group name.  This item is generated from the RID pool on the domain controller during object creation </td></tr></tbody></table><br>  Since security principals can create any domain controller, a mechanism is needed to ensure the uniqueness of the SID identifiers generated by the domain controller and therefore the RID master ensures that two domain controllers do not assign the same RID.  The RID master assigns a block of relative RIDs, called a RID pool, to each controller in the domain.  In other words, the RID Operations Wizard is responsible for maintaining a pool of relative identifiers for using domain controllers in a domain and providing groups of relative identifiers for each domain controller.  When a new domain controller is added to a domain, the RID master assigns a pool of 500 relative RID requests to that domain controller.  Every time a new security principal is created on a domain controller, a domain controller assigns a relative identifier from its pool to assign an identifier to a new object.  When the number of relative RIDs in this RID pool on any domain controller drops below 100, in other words, approaches zero, the RID master requests another RID block.  After completing the request, the RID master assigns another domain pool of 500 relative RIDs to the domain controller. <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">More to the point, the RID master does not count pool numbers, but serves the higher value of the last selected range. When a new request is received, the value of the new pool increases by one and 499 new values. After that, the two values ‚Äã‚Äãare sent to the requested domain controller to use the new relative RIDs. If the local RID pool of the domain controller is empty or the RID master is unavailable for some time, the process of creating accounts on some domain controllers may be interrupted and an event 16645 will be recorded in the event log of this domain controller. This error code indicates that the maximum account identifier from those allocated to the domain controller and the domain controller could not get a new pool of identifiers from the RID master. In the same wayadding a new object to the domain will create an event with the code 16650, indicating that the object could not be created because the directory service could not allocate a relative identifier. The mechanism for requesting a new block of RID identifiers is designed to prevent such interruptions, since the query is executed before exhausting all the available RID identifiers in the pool. To enable the account creation process again, you need to either connect a domain controller that manages the RID master role to the network, or move this role to another domain controller.The mechanism for requesting a new block of RID identifiers is designed to prevent such interruptions, since the query is executed before exhausting all the available RID identifiers in the pool. To enable the account creation process again, you need to either connect a domain controller that manages the RID master role to the network, or move this role to another domain controller.The mechanism for requesting a new block of RID identifiers is designed to prevent such interruptions, since the query is executed before exhausting all the available RID identifiers in the pool. To enable the account creation process again, you need to either connect a domain controller that manages the RID master role to the network, or move this role to another domain controller.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also during the migration of Active Directory objects between domains, the RID master is required, that is, the object can migrate only if the RID master is available in the domain. The presence of an active current operations wizard prevents the creation of two objects with identical identifiers in different Active Directory domains. When migrating objects from one domain to another, Microsoft recommends using the Acrive Directory Migration Tool. By default, the RID master role is assigned to the first domain controller installed in the forest. You can move this role at any time using </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Active Directory Users and Computers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> snap </font><b><font style="vertical-align: inherit;">-in</font></b><font style="vertical-align: inherit;"> or using the tools </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil.exe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . RID master is identified by attribute value</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fSMORoleOwner</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the rIDManager class object in the Domain section.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PDC emulator </font></font></h3><br><img src="https://habrastorage.org/storage1/ff968547/078382ee/3e58888a/f4f81f7b.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Domain controller with designated </font><b><font style="vertical-align: inherit;">PDC emulator</font></b><font style="vertical-align: inherit;"> operation wizard</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(The main domain controller is the Primary Domain Controller) serves as the main domain controller for backward compatibility with operating systems below Windows 2000. At the time of the member servers and Windows NT 4.0 client computers, only the main PDCs could make changes to the directory. Older tools, clients, and utilities that support Windows NT 4.0 are not designed so that all Active Directory domain controllers can write to the directory, and therefore these applications need to be connected to the PDC. A domain controller with the role of a PDC emulator registers itself as the main PDC domain controller, specifically so that various low-level applications can localize the writing domain controller. Despite,that in our time servers and client computers with operating systems below Windows 2000 are almost impossible to meet, the PDC emulator still remains the most important role of operations wizards. In addition to backward compatibility with applications running on Windows NT 4.0, the PDC emulator performs the following important functions:</font></font><br><ul><li> <b>     </b> .      ,  ,  ,     PDC-   .   ,       .   ,          ,  ,    ,      .      ,         PDC-,            .  ,             PDC-    ; </li><li> <b>     </b> .   ,              .   ,             ,  ,      ,        .    , PDC-   :     ,         ,   PDC     GPO     PDC-; </li><li> <b>    </b> .       Active Directory.    <b>¬´¬ª</b>         .               .      ,             ,     .           ,        . ,     PDC     ,      , ,        ; </li><li> <b>    </b> .    Active Directory, Kerberos, DFS-R     FRS   ,       . PDC-          .       PDC-,    ‚Äì    .        ,     Win32Time. </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">By default, the PDC emulator master role is assigned to the first domain controller installed in the forest. </font><font style="vertical-align: inherit;">You can move this role at any time using </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Active Directory Users and Computers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> snap </font><b><font style="vertical-align: inherit;">-in</font></b><font style="vertical-align: inherit;"> or using the tools </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil.exe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">The PDC emulator wizard is identified by the value of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fSMORoleOwner</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> attribute </font><font style="vertical-align: inherit;">in an object of the rIDManager class in the root object of the Domain section.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Infrastructure master </font></font></h3><br><img src="https://habrastorage.org/storage1/bdcf1abf/2c98bc79/ab190adf/60a9265a.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In organizations based on multiple domains, objects in some domains often refer to objects in others. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infrastructure master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">similar to a device that tracks members of a group of domains. The infrastructure master is responsible for updating the group-user links between domains, thereby ensuring that the name changes of objects are reflected in information about group memberships localized in the domain. The Infrastructure Wizard maintains an updated list of such links, and then replicates this information to all controllers in the domain. You should know that when a member of another domain is added to the group of the target domain, the distinguished name of the new member is added to the member attribute and if the domain controller of the member of such a group is not available, then a phantom object is created in the domain services, representing the member of such a group. Such an object can contain only the member SID, the distinguished name (DN), and the object GUID. In the event that the infrastructure master is unavailable,‚Äúgroup - user‚Äù links between domains will not be updated. Periodically, the infrastructure master scans domain accounts and checks group memberships. If a user account moves to a new domain, the infrastructure master identifies the new domain of the user account and updates the groups accordingly.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is worth paying attention to the fact that the role of the infrastructure master should not be performed by a domain controller that is a global catalog server. Otherwise, the infrastructure master will not update information about objects, since it does not contain references to objects that it does not store. This is because the global catalog server stores partial replicas of all objects in the forest. As a result, the cross-domain object links in this domain will not be updated, and the corresponding warning will appear in the event log of this domain controller. By default, the infrastructure master role gets the first domain controller installed in the forest. You can relocate this role at any time using </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Active Directory Users and Computers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> snap </font><b><font style="vertical-align: inherit;">-in</font></b><font style="vertical-align: inherit;"> or using the tools</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil.exe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">The infrastructure master is identified by the value of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fSMORoleOwner</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> attribute </font><font style="vertical-align: inherit;">in the Infrastructure container in the Domain section.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> How can I determine which domain controller has the role of FSMO </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In principle, they have already figured out the theoretical part, but now it would be nice to practice. </font><font style="vertical-align: inherit;">Despite the fact that in your organization there can be only one domain, a large number of domain controllers can be installed and administrators may not always know exactly which domain controllers are assigned the roles of operations masters. </font><font style="vertical-align: inherit;">For example, if you are restructuring your domain, you will need to know which domain controller is assigned to one or another role. </font><font style="vertical-align: inherit;">Each role can be defined using the GUI or command line tools. </font><font style="vertical-align: inherit;">Consider both methods.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Identifying Operation Masters Ownerships with GUI Tools </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First of all, you need to remember that to identify the operations wizards in Active Directory Domain Services, various administrative toolings are used. </font><font style="vertical-align: inherit;">Most difficult to identify the wizard schema.</font></font> From him and begin.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> To find out which domain controller has the schema master role, follow these steps: </font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Log on to a domain controller with an account that has administrator rights; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Run</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dialog box </font><font style="vertical-align: inherit;">and register the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory Schema</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> snap-in dynamic library </font><font style="vertical-align: inherit;">using the </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regsvr32.exe command schmmgmt</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Then open the MMC Management Console window and call the Add New Snap-In dialog. </font><font style="vertical-align: inherit;">In the list of snap-ins, select </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory Schema</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , as shown in the following illustration:</font></font><br><br><img src="https://habrastorage.org/storage1/90538ab9/e1c3c7f8/a71954b8/8b9e46bd.jpg" width="550" height="381"><br>  <b>Fig.</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Add the Active Directory Schema snap-in</font></font></b> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the open </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory Schema</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> snap </font><font style="vertical-align: inherit;">-in, right-click on the root node of the snap-in and select the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operations Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command from the context menu </font><font style="vertical-align: inherit;">, as shown below:</font></font><br><br><img src="https://habrastorage.org/storage1/9e936c6a/c49c14e2/31095c63/043d7c9f.jpg" width="550" height="412"><br>  <b>Fig.</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Master Operations Scheme</font></font></b> </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To identify the remaining operations wizards, you need to perform significantly fewer actions. </font><font style="vertical-align: inherit;">To find which domain controller has the rights of the domain naming operation wizard, you need to:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open the window of </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Active Directory - domains and trust</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> snap-in </font><font style="vertical-align: inherit;">;</font></font></li><li>               <b>¬´ ¬ª</b> ,     : <br><br><img src="https://habrastorage.org/storage1/ff27fcc2/4ff3f0ca/d1fd491c/8c446f73.jpg" width="550" height="377"><br>  <b>Fig.</b> <b>3.    </b> </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And to identify the remaining three roles at the domain level, you need to perform the least of all actions. </font><font style="vertical-align: inherit;">In other words, all remaining roles of operations wizards can be found in a single dialog box. </font><font style="vertical-align: inherit;">To do this, open </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Active Directory Users and Computers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> snap </font><b><font style="vertical-align: inherit;">-in</font></b><font style="vertical-align: inherit;"> , right-click on your domain and select the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operations Hosts</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command from the context menu </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In the dialog box that appears on the appropriate tabs, you can view the names of domain controllers that are assigned current roles. </font><font style="vertical-align: inherit;">The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúOperations Hosts‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dialog box </font><font style="vertical-align: inherit;">can be viewed in the following illustration:</font></font><br><img src="https://habrastorage.org/storage1/0e29c117/14202982/fcf619ca/a6ddf676.jpg" width="400" height="451"><br>  <b>Fig.</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Operations masters for domain level</font></font></b> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Identifying owners of operations wizards using command line tools </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As with most features provided by Windows operating systems, you can identify all owners of operations wizards with the help of a special command line utility. </font><font style="vertical-align: inherit;">In Active Directory Domain Services, the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command-line utility is used to monitor certain changes </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">To view all domain controllers equipped with operations master roles using this utility, perform the following steps:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Open a command prompt; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Run the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">;</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigate to the owner tokens of the NTDS role management by entering the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roles</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">;</font></font></li><li>          Active Dirctory.     <b>connections</b> ; </li><li>   <b>¬´server connections¬ª</b>  <b>connect to server</b> ,            <b>¬´Enter¬ª</b> ; </li><li>    <b>fsmo management</b> ,   <b>quit</b> ; </li><li>   <b>¬´Select operation target¬ª</b> ,    , , ,    ; </li><li>      ,       <b>List roles for connected server</b> ,     : <br><br><img src="https://habrastorage.org/storage1/9594c4ca/f6f2cfcb/e0ab0168/76f5a520.jpg" width="550" height="27"><br>  <b>Fig.</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Defining operation wizards using command line tools.</font></font></b> </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can also use the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dcdiag</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utility </font><font style="vertical-align: inherit;">with the command </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ test: Knowsofroleholders / v</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to view the FSMO roles </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Part of the output of this command can be seen below:</font></font><br><br><img src="https://habrastorage.org/storage1/0790381c/8b0adec1/615e2d64/265a48f7.jpg" width="550" height="499"><br>  <b>Fig.</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Defining FSMO Roles with the Dcdiag Utility</font></font></b> <br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Capturing and transferring operations master roles </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In Active Directory, there are such concepts as transferring and capturing (also known as recall) roles of operations wizards. </font><font style="vertical-align: inherit;">First of all, you should find out what it is and what is the difference between these concepts.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As mentioned above, initially all five roles of operations wizards are installed on the first domain controller in the forest. It is usually accepted to improve performance and fault tolerance in an organization, within one domain, several additional domain controllers. And, accordingly, in order to avoid conflicts in the future, it is recommended to immediately distribute the roles of operations wizards to different domain controllers. Also, if you need to disable a domain controller that performs the role of an operations master or decommission it, you should transfer all FSMO roles from it to other domain controllers.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In turn, the capture of the role is necessary if the domain controller with specific roles of the operations wizards has failed and you did not have time to transfer the roles from this DC. The risks that you may incur in the event of a failure of domain controllers with operations master roles were described a little earlier in this article. In this case, you have no way to transfer the FSMO role to your preferred role transfer method. Therefore, you only have to capture the operation marker by revoking the role. But it is worth remembering that the capture of the role is the most radical method and it is necessary to perform it only in the case when the owner of the roles of the masters of operations has failed. When the process of capturing the role of the operations wizard is performed, the attribute of the fsmoRoleOwner object changes on an existing computer,representing the root data directory, without performing any data synchronization. Other domain controllers, of course, learn about the new owner of the role of FSMO as the changes are replicated.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consider the processes of transferring and capturing the roles of operations wizards. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To transfer the FSMO role, follow these steps:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open a snap-in that can be used to identify the roles of the operations wizard, which were discussed in the previous section of this article. </font><font style="vertical-align: inherit;">For example, to transfer the role of the PDC emulator, open </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Active Directory Users and Computers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> snap </font><b><font style="vertical-align: inherit;">-in</font></b><font style="vertical-align: inherit;"> ;</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Using the current snap-in, connect to the domain controller to which the operations master role will be transferred. </font><font style="vertical-align: inherit;">This can be done using the dialog box </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Domain controller change"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which is called from the context menu of the root node of the snap-in. </font><font style="vertical-align: inherit;">The dialog box for changing the domain controller can be seen below:</font></font><br><br><img src="https://habrastorage.org/storage1/03325e59/bafef66e/e442d474/62f40c72.jpg" width="550" height="370"><br>  <b>Fig.</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Changing the domain controller for transferring the operations master role</font></font></b> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Operations Hosts"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dialog box </font><font style="vertical-align: inherit;">, go to the required tab and click on the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Change"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> button </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">The role of the operations wizard will be transferred to another domain controller.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The process of capturing the roles of operations wizards is a bit more complicated than the transfer, since for this it is necessary to use the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utility </font><font style="vertical-align: inherit;">, which was discussed in the previous section. </font><font style="vertical-align: inherit;">In order to seize the role of a failed domain controller, follow these steps:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open a command prompt and go to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ntdsutil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utility </font><font style="vertical-align: inherit;">;</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Switch to NTDS role management using the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roles</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">;</font></font></li><li>      ,         .     <b>connections</b> ; </li><li>   <b>¬´server connections¬ª</b>  <b>connect to server</b>     ; </li><li>    <b>fsmo management</b> ,   <b>quit</b> ; </li><li>    <b>fsmo management</b>   <b>seize</b>    <b>Enter</b> ; </li><li>  , ,     FSMO-,       . </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The attentive reader may ask the following question: what can I do if the dead domain controller was able to be reanimated and how do I return ownership of the captured role to this domain controller? </font></font> It's all relatively simple.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First of all, you need to know that if the role of a PDC emulator or infrastructure has been revoked, then you will be able to transfer back the role of the operations wizard to the restored domain controller without any special problems. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But in the event that the role of the scheme master, domain naming or relative RID identifiers was captured, you will need to perform the following actions:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Physically disable such a domain controller from the network; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduce the role of a domain controller to a member server using the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dcpromo / forceremoval command</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li><li>      .        <b>Ntdsutil</b>   <b>Metadata Cleanup</b> ; </li><li>         ,   ,       ; </li><li>         . </li></ol><br><h2>       </h2><br><img src="https://habrastorage.org/storage1/0eb16e34/22f3b348/96866f3a/6bda9173.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this section, I will talk a little about the recommendations for locating all the roles of operations wizards on domain controllers. As such, there are not many such recommendations, so I will try to simplify this section as soon as possible. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First of all, if you have one forest, one domain and one domain controller, then all five roles of the operation wizards will be placed on this particular domain controller, but in order to balance the load, it is recommended to transfer the roles to other domain controllers. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The main recommendations for placing FSMO roles are as follows:</font></font><br><ul><li> <b>   RID  PDC-    </b> .          .       ,       ,            Active Directory     .  ,       ,     ,          ; </li><li> <b>          </b> .  ,             ,     .    ,      ,      ,   ,         ,      .               ,          .    ,      ,   ,   ,   ,   ; </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The infrastructure master role must be located on a domain controller that does not serve as a global catalog server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Typically, the infrastructure master should be deployed on a domain controller that does not serve as a global catalog server, but has a direct connection object to one of the global directories in the forest. </font><font style="vertical-align: inherit;">Since the global catalog server stores partial replicas of all objects in the forest, the infrastructure wizard hosted on the global catalog server will not perform updates because it does not contain references to objects that it does not store.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guided by these three rules, you can place the master of operations in your forest in the best way possible. </font></font><br><br><h2>  Instead of conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So, this article comes to an end. </font><font style="vertical-align: inherit;">In this article, you learned about the role of operations masters and why they are needed. </font><font style="vertical-align: inherit;">Several examples were considered that described what would happen if there were no operations wizards in Active Directory Domain Services and all domain controllers were equal. </font><font style="vertical-align: inherit;">All five FSMO roles were examined in detail, methods for identifying roles on domain controllers were described. </font><font style="vertical-align: inherit;">You also learned about the transfer and capture of operations master roles and how you can perform these actions. </font><font style="vertical-align: inherit;">In addition, you got acquainted with three rules that should guide you when choosing options for hosting operations wizards on domain controllers in your organization.</font></font></div><p>Source: <a href="https://habr.com/ru/post/133370/">https://habr.com/ru/post/133370/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133363/index.html">Cheat Sheet for NPM Package Manager</a></li>
<li><a href="../133364/index.html">How much does it cost not to implement MRM?</a></li>
<li><a href="../133366/index.html">Scrape the bottom of the barrel!</a></li>
<li><a href="../133367/index.html">Acer Allegro - my opinion</a></li>
<li><a href="../133368/index.html">Appiny - discounts for geeks!</a></li>
<li><a href="../133371/index.html">Price + Quality: choosing a budget laptop</a></li>
<li><a href="../133373/index.html">Canobuvosti, 119th edition</a></li>
<li><a href="../133377/index.html">Black Friday in America</a></li>
<li><a href="../133378/index.html">Cloud4Y launched new optical communication channels of our cloud</a></li>
<li><a href="../133379/index.html">Writing ZLib-based archiver in .NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>