<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From the Baltic Sea to the Indian Ocean</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The story goes about how my journey began from the island of Kotlin to the island of Java. 

 It all started with the fact that the software revision ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From the Baltic Sea to the Indian Ocean</h1><div class="post__text post__text-html js-mediator-article">  The story goes about how my journey began from the island of Kotlin to the island of Java. <br><br>  It all started with the fact that the software revision in the organization in which I have the honor to work, showed the availability of various software for all needs, and as an option, I was offered to unify it, namely, to rewrite some of the projects in Java in order to keep the current functionality it was convenient.  Yes, and interchangeability has not been canceled. <br><br>  My share came from a desktop application for testing the main software.  It is written in the promising Kotlin language (version 1.1 was at the time), but unification is unification.  In this regard, I want to share a couple of moments that I encountered during the course of work, as well as the impressions that Kotlin made on me, since I was working with him for the first time.  It is worth noting that there is quite a lot of information on this language, as well as its various comparisons with Java, I just want to share my impressions. <br><a name="habracut"></a><br>  You should start with the fact that Kotlin is a good friend of Java, you can see that the creators of this language were guided, and the presence of the JVM bytecode compilation is also pleasing.  This allows you to use different frameworks and Java libraries, and, if desired, to almost seamlessly cross-link these two languages ‚Äã‚Äãin one project, you just need to start by compiling the Kotlin classes.  The project used TornadoFX and Exposed, the first is an analogue of JavaFX, and the second is a framework for working with databases. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first feeling was, yes, this same Java only in profile, but with a lot of syntactic sugar, which allows you to write code faster and more compactly, but in some places it is much more complicated. <br><br>  Looking at the code for the first time, you are slightly surprised by the abundance of "?", The absence of getters and setters, unchanged and changeable variables val and var, with automatic type inference or their presence, of course, if their initialization is postponed until later.  Therefore, when analyzing the code, you often catch yourself thinking what object the colleague had in mind, whose inheritance I had to rewrite.  Primitive data types, such as int, boolean, etc., are not observed in the language, as well as favorite ones from childhood ‚Äú;‚Äù and ‚Äúnew‚Äù. <br><br>  Let's start with the fact that the language is considered to be null-safe, as a result, in the code such constructions are often found: <br><br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Stand</span></span>?<span class="hljs-selector-class"><span class="hljs-selector-class">.channell</span></span>?<span class="hljs-selector-class"><span class="hljs-selector-class">.stream</span></span>?<span class="hljs-selector-class"><span class="hljs-selector-class">.act</span></span>()</code> </pre> <br>  I really want to exclaim: "More questions for God questions!". <br>  ‚Äú?‚Äù Causes a slight bewilderment at first, it is clear that null-security is at the forefront, in this connection, every property of an object has to be checked for null, but why then leave the possibility of calling methods without checks for null, only replacing ‚Äú ?" on "!!". <br>  As an example, the previous expression would look like <br><br><pre> <code class="hljs erlang-repl"> Stand!!.channell!!.stream!!.act()</code> </pre> <br>  The compiler will not check this expression.  It will not check if a joint project is compiled with Java.  The question is, what is the advantage then ?! <br><br>  There are no checked exceptions in the language, and you will not see any IOException when reading the file.  Good or bad to judge you. <br><br>  Next, I want to share examples of the Kotlin code and its similar Java code to show how everything goes compact <br><table><tbody><tr><td>  Kotlin </td><td>  Java </td></tr><tr><td><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkConnections</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(silently: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">false</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isNotFailed = <span class="hljs-literal"><span class="hljs-literal">true</span></span> mqToClearTable.items.filter { isMqValid(it) }.forEach { mq -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mq.queue.isNotEmpty()) { isNotFailed = isNotFailed &amp;&amp; checkMqConnection(MQContainer(mq.host, mq.port.toInt(), mq.channel, mq.queue, mq.manager), silently) } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isNotFailed }</code> </pre> </td><td><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkConnections</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Boolean tempSilently)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> silently = ObjectUtils.defaultIfNull(tempSilently, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isNotFailed = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; List&lt;QueueToClearObservable&gt; filteredQueue = mqToClearTable.getItems().stream().filter(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::isMqValid).collect(toList()); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (QueueToClearObservable mq : filteredQueue) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StringUtils.isNotEmpty(mq.getQueue())) { isNotFailed = isNotFailed &amp;&amp; checkMqConnection(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MQContainer(mq.getHost(), mq.getPort(), mq.getChannel(), mq.getQueue(), mq.getManager()), silently); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isNotFailed; }</code> </pre> </td></tr><tr><td><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">armsTable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = armsTable.apply { columnResizePolicy = TableView.CONSTRAINED_RESIZE_POLICY items = currentStand?.arms?.observable() column(<span class="hljs-string"><span class="hljs-string">""</span></span>, ARM::hostProperty).useTextField(DefaultStringConverter())}</code> </pre> </td><td><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">armsTable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ armsTable.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentStand != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CollectionUtils.isNotEmpty(currentStand.getArms())) { List&lt;ARM&gt; items = FXCollections.observableList(currentStand.getArms()); armsTable.getItems().addAll(arms); } } TableColumn&lt;ARM, String&gt; hostPropertyColumn = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TableColumn&lt;&gt;(<span class="hljs-string"><span class="hljs-string">""</span></span>); hostPropertyColumn.setCellValueFactory(cell -&gt; cell.getValue().hostPropertyProperty()); hostPropertyColumn.setCellFactory(TextFieldTableCell.forTableColumn());</code> </pre></td></tr></tbody></table><br>  The presence of default values ‚Äã‚Äãin call signatures in Kotlin is good news; in Java, such things have to be solved either through the Optional class or through reloading methods. <br>  Yes, the functional style in Kotlin is currently worked out better, which allows you to add the necessary properties at the moment when the class object is initialized.  For example, <br><br><pre> <code class="hljs nginx"> <span class="hljs-attribute"><span class="hljs-attribute">factory</span></span> = new MQQueueConnectionFactory().applay { <span class="hljs-attribute"><span class="hljs-attribute">channel</span></span> = mq.channel targetClientMatching = <span class="hljs-literal"><span class="hljs-literal">true</span></span> hostname = mq.host.activ(); }</code> </pre> <br>  In Java, however, we would have to organize several constructors, in which we could transfer the addition of these properties, or use additional methods after their initialization. <br><br>  But there are, in my opinion, and controversial things: <br><br><ul><li>  Functions are extensions that allow you to add a method for a class anywhere in the code, after which the method call will be available from any part of the code.  On the one hand, this is convenient, but on the other, looking at the code you catch yourself thinking, this is a method from the library used or a colleague simply expanded somewhere in the functionality.  In Java, similar behavior could be obtained by writing a method in exactly the class where it is needed, passing an additional parameter. </li><li>  Infix function recording.  Looking at the record <br><br><pre> <code class="hljs sql"> block <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-keyword"><span class="hljs-keyword">container</span></span></code> </pre> <br>  Not immediately you can understand what is meant by calling the block object with a method where container is used as an argument.  After all, much the next entry <br><br><pre> <code class="hljs vhdl"> <span class="hljs-keyword"><span class="hljs-keyword">block</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>(container)</code> </pre> </li><li>  Functions that takes functions as parameters.  Not that there are no analogues in Java, it has built-in functional interfaces for such purposes (Consumer, Supplier, etc.), but these interfaces should work with any object, and in Kotlin you can transfer a piece of code without thinking about object, taking advantage of something like this: <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showAndExecute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(title: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">init</span></span></span></span><span class="hljs-function"><span class="hljs-params">: ()</span></span></span></span> -&gt; T): T{ alert= Alert(title) {‚Ä¶} alert.showAndWait() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result.isPresent() &amp;&amp; result.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>()){ <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>() }</code> </pre></li></ul><br>  A little more about the functional part of Kotlin.  The presence of similar functions run, let, apply, also with different nuances of application, which causes dissonance when several such functions are used within the same construction using the keyword it (the implicit name of a single parameter), for example: <br><br><pre> <code class="hljs pgsql">testInfo.<span class="hljs-keyword"><span class="hljs-keyword">also</span></span> { it.endDateProperty.onChange { it?.let { <span class="hljs-keyword"><span class="hljs-keyword">update</span></span>(Tests.endDate, it) } } }</code> </pre> <br>  You need to spend more time analyzing the code than is necessary to figure out exactly what this or that it belongs to, especially if the code is large and there is nesting of functions. <br><br>  A couple of comments about the designers in Kotlin.  Not only that, as with the methods, in the constructor you can set the default fields, the Singleton pattern is implemented at the language level, as in other, and data classes, unlike Java, where we again and again write all pens and several times.  However, in my opinion, the implementation of inheritance is better organized precisely in the latter, where, unlike Kotlin, all classes are initially open, and when inheriting from them, we can safely redefine them.  In Kotlin, however, a class or method must have an open mark in order to further override it.  Also closed classes will not be able to proxy.  There is also no implementation of static properties and methods in the language; instead, implementation is suggested through companion objects: <br><br><pre> <code class="hljs scala"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExceptionHandler</span></span></span><span class="hljs-class"> </span></span>: <span class="hljs-type"><span class="hljs-type">Thread</span></span>.<span class="hljs-type"><span class="hljs-type">UncaughtExceptionHandler</span></span> { companion <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span></span>{ fun foo{ ‚Ä¶.} <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> interval = <span class="hljs-number"><span class="hljs-number">100</span></span> } }</code> </pre> <br>  In conclusion, I want to note that Kotlin, in general, made a good impression.  It allows you to write more simple and compact code, this is especially true when working with the GUI, but in industrial development, I still do not see it. </div><p>Source: <a href="https://habr.com/ru/post/352972/">https://habr.com/ru/post/352972/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352962/index.html">Learn OpenGL. Lesson 4.10 - Instancing</a></li>
<li><a href="../352964/index.html">Issue # 17: IT training - current issues and challenges from leading companies</a></li>
<li><a href="../352966/index.html">Program less, think more ... incrementally</a></li>
<li><a href="../352968/index.html">Conference DEFCON 22. ‚ÄúArming Your Pets. Fighting Kitty and Dog for denial of service. " Jen Brensfield</a></li>
<li><a href="../352970/index.html">How 64k intro is created today: immersion immersion</a></li>
<li><a href="../352974/index.html">Cryptocurrency for beginners. How to start using Bitcoin</a></li>
<li><a href="../352976/index.html">Manipulating Google search results</a></li>
<li><a href="../352978/index.html">Apache Kafka Review</a></li>
<li><a href="../352980/index.html">Never Fail Twice, or how to build a monitoring system from scratch</a></li>
<li><a href="../352982/index.html">Alice, Google Assistant, Siri, Alexa. How to write applications for voice assistants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>