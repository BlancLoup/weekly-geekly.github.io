<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Scaling Wix to 100 million users. Start</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! Today we are starting a series of posts from our engineers about scaling Wix. Our audience grew dynamically: Wix website builder was created in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Scaling Wix to 100 million users. Start</h1><div class="post__text post__text-html js-mediator-article">  <i>Hello!</i>  <i>Today we are starting a series of posts from our engineers about scaling Wix.</i>  <i>Our audience grew dynamically: <a href="http://ru.wix.com/">Wix website builder</a> was created in 2006, in 2009 our service audience reached 1 million users, and today this figure has already reached 80 million.</i>  <i>In our series of posts, our chief architect of Wix software Yoav Abrahami will tell about our architecture at each development stage.</i> <i><br></i> <br><div style="text-align:center;"><img src="https://habrastorage.org/files/ef4/01d/b8e/ef401db8eddf41139377429bdbdebefc.jpg"></div><br>  When we launched Wix in 2006, there was no clear understanding of what kind of implementation of the Flash site designer would be working, and what the <abbr title="What you see is what you get">WYSIWYG</abbr> site designer actually means.  We were engaged in the development of two Flash applications: one for editing sites (it created the site representation as an XML document) and another for displaying sites (based on an XML document).  Most of the development was done in Flash.  In addition, we also needed a server to store and process XML files based on the URL template or site domain.  Our first backend engineer built this server on Tomcat, Hibernate, Ehcache and MySQL.  In addition, our server was based on its own framework, which generated Java entity files from Hibernate HBM files, which made it possible to add new code by inheriting from the generated classes. <br><a name="habracut"></a><br><h2>  <font color="#f9a339">Source architecture</font> </h2><br>  On the first day of my work at Wix in 2006, I was asked to comment on this structure: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/087/c86/c74/087c86c74cce4ad58695be4d8a2b7145.jpg"></div><br>  I said: "For a start, this is a great option, but within 2-3 years it will need to be replaced." <br><br>  In the early stages of a startup, when we still do not know what will work and what changes are expected of the product, the logic is that it is important first of all to ensure rapid development and not focus on pure engineering, scalable architecture, or development through testing (TDD ).  If at that time we practiced TDD or ordered a design, then perhaps we would not have been able to create Wix at all. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In 2008, one of the founders told me: ‚ÄúYou said that by that time it would be time for us to change the server part.  The only thing you forgot to mention is how difficult it will be. ‚Äù  During these two years, the Wix server has become an artifact that supports all sorts of services, from storing XML files and processing them to downloading media files and managing the comment module. <br><br><h2>  <font color="#f9a339">The preservation method can do everything ... even make coffee!</font> </h2><br>  As a vivid example of how this server works, you can use the method of saving documents (for example, websites).  This method was built on a CRUD design pattern that Hibernate promotes.  He supported the creation of new documents, and editing existing ones.  At some point, we decided that we would not delete documents, but instead simply mark them as deleted.  From this point on, the save method also provided deletion. <br><br>  Later we added bonus tariff plans for websites and we wanted the relevant documents to contain a note about their premium status.  Therefore, we added a field for the premium flag to the document and included logic in the save method for working with it (for example, you cannot delete a premium document and you cannot set a premium flag for a deleted document).  As the product develops, we cram more and more functionality into the same preservation method.  We then joked that the preservation method can do anything, even make coffee! <br><br>  In 2008, we gradually began to replace this server.  It was finally stopped in 2012.  Migration from the source server to our current architecture took 4 years, because we continued to develop our product and convert it from Flash website builder to HTML5 website builder. <br><br>  The full history of this transition is beyond the scope of this article, but I will return to it later.  Now the question is: did we do it right when we decided to build a system based on a server that was not well thought out from an architectural point of view?  Was it worth moving quickly forward at the cost of accumulating a huge technical debt? <br><br><h2>  <font color="#f9a339">The lessons we have learned</font> </h2><br>  The first lesson we learned at the beginning of work on Wix is ‚Äã‚Äãthat when we start a project or a startup and we don‚Äôt know which version of the product will work (and most startups don‚Äôt know), we need to move quickly.  It is necessary to adapt, to use any tools familiar to us, regardless of the scale and correct methodologies (such as TDD).  And yes, coding debt will pile up. <br><br>  The second lesson (which we failed) is that, of course, it is necessary to build a system quickly, but at the same time build it in the calculation for subsequent gradual processing.  From the very first stage, we must prepare to change parts of the system when it is required.  Moreover, so that the alteration requires minimal effort.  If we did, we would replace our source server in a year or two and not spend four years on this work.  However, we built a classic spaghetti server and paid for it. <br><br><h2>  <font color="#f9a339">Summarizing</font> </h2><br>  <b>In the early stages, develop quickly, with an eye toward gradual processing.</b> <b><br></b> <br>  <i>Chief Software Architect <a href="http://ru.wix.com/">for Wix site creation</a> ,</i> <i><br></i>  <i>Yoav Abrahami</i> <br>  Original article: <a href="http://engineering.wix.com/2015/02/25/scaling-wix-100m-users-beginning/">Wix engineers blog</a> </div><p>Source: <a href="https://habr.com/ru/post/279903/">https://habr.com/ru/post/279903/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279889/index.html">Gestures in design and design</a></li>
<li><a href="../279891/index.html">NetApp ONTAP with Veeam Backup & Replication</a></li>
<li><a href="../279893/index.html">User Authentication for Arduino with RFID</a></li>
<li><a href="../279895/index.html">Many-sided GOST R 34.11-94</a></li>
<li><a href="../279897/index.html">Moving from Windows to Linux Ubuntu 14.04 LTS with Jetbrains IntelliJ Idea 14.1.5</a></li>
<li><a href="../279905/index.html">Percona Server Upgrade to 5.7 on Ubuntu 14.04</a></li>
<li><a href="../279907/index.html">NetApp ONTAP Cloud: Amazon & Azure</a></li>
<li><a href="../279909/index.html">How to make content recommendations</a></li>
<li><a href="../279911/index.html">NetApp ONTAP: SnapMirror for SVM</a></li>
<li><a href="../279915/index.html">MongoDB tree storage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>