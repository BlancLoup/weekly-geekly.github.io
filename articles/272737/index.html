<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using the MVVM (Model-View-ViewModel) pattern in Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Author: Anton Valyukh, Senior Mobile Developer. 

 In this article we will talk about the theory and practice of using a very convenient design patter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using the MVVM (Model-View-ViewModel) pattern in Android</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/103/584/f13/103584f136cb451a99875cb778f1610f.jpg"><br><br>  Author: Anton Valyukh, Senior Mobile Developer. <br><br>  In this article we will talk about the theory and practice of using a very convenient design pattern MVVM (Model-View-ViewModel) when developing Android applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  <b>MVP - Model-View-Presenter</b> </h5><br>  For a start - a little theory.  It all started with what many thought how to adapt the MVC pattern (Model-View-Controller) for writing applications with a user interface.  And in 2006, in the work of ‚Äú <a href="http://martinfowler.com/eaaDev/uiArchs.html">GUI Architectures</a> ‚Äù, Martin Fowler considered in detail the template, which later became known as ‚ÄúMVP‚Äù (‚ÄúModel-View-Presenter‚Äù). <br><br>  So, MVP is a design pattern derived from MVC, designed primarily to build a user interface.  MVP is used to facilitate automated unit testing and improve the separation of logic and display. <br><br>  There are three elements in this template: <br><ol><li>  View. </li><li>  Presenter. </li><li>  Model (model). </li></ol><br><a name="habracut"></a><br>  Here's how it all works: <br><img src="https://habrastorage.org/files/a36/a69/f16/a36a69f1605e42f4a563483877830a24.png"><br><br><ul><li>  The <b>View</b> element is responsible for displaying user data and intercepting user actions.  All this he sends Presenter. </li><li>  <b>Presenter</b> processes user actions in the UI, takes into account changes to the data in the Model, and sends this View information.  Presenter is an element that contains all the business logic of working with the user interface. </li><li>  <b>Model</b> contains models from the domain that display the knowledge and data of the subject area of ‚Äã‚Äãyour application.  The model sends information about changes to the Presenter data and receives messages from the Presenter. </li></ul><br><br><h5>  <b>MVP - implementation on Android</b> </h5><br>  MVP allows you to create a representation abstraction.  To do this, you must select the presentation interface with a specific set of properties and methods. <br><br>  Now let's see, this can be implemented in Android - for this we will write a small ‚Äúbicycle‚Äù. <br><br>  The Presenter interacts with the View by using a special interface that describes the abstraction of this View. <br><br>  Suppose we have the following View model: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenView</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startLoading</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stopLoading</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mapDataItems</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Collection&lt;DataItem&gt; items)</span></span></span></span>; }</code> </pre> <br><br>  Please note: do not confuse this View model with the view that we see on the screen.  View, which is used in MVP - a kind of abstraction View.  In other words, this is a generalization of the behavior of our View.  The MVP View is not responsible for how exactly everything will be displayed on the user interface.  She is responsible for how the user interface will behave. <br><br>  Presenter receives a link to the implementation of the interface, interacts with the model of our View, initializes it, calls all its messages, sends it some messages, etc. All the interaction happens directly: we have a View implementation, we call its methods and get some result. <br><br>  In other words, Presenter as if subscribes for View events and, if necessary, changes data in the Model. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenPresenter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Presenter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SomeScreenView mView; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SomeScreenView view)</span></span></span><span class="hljs-function"> </span></span>{ mView = view; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mView.startLoading(); mView.mapDataItems(...); mView.stopLoading(); } }</code> </pre><br><br>  As an example, View in our case will be the Activity responsible for implementing the behavior of SomeScreenView.  The role of View can play not only Activity, but Fragment, Dialog or just Android View.  To do this, it also needs to implement the behavior of SomeScreenView.  In the specified Activity, an object of type SomeScreenPresenter is used, which acts as the Presente in our example.  To this object we provide a link to the implementation of your View, which interacts with Presenter by directly calling its necessary methods.  In turn, the Presenter calls the methods implemented within your Activity, because it is an implementation of your View. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@EActivity</span></span>(R.layout.activity_some_screen) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenView</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SomeScreenPresenter mPresenter; <span class="hljs-meta"><span class="hljs-meta">@ViewById</span></span>(R.id.drawer_layout) <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ProgressBar mProgressBar; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); mPresenter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeScreenPresenter(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); mPresenter.initialize(); } }</code> </pre><br><br>  This simple example demonstrates how MVP allows you to decompose logic that was previously entirely in an Activity and was related to data processing and user actions.  We carried this logic into a separate module, and we, for example, can test this module with ordinary unit testing.  From my point of view, this is much easier than testing our UI functionality using Robotium, running emulators, etc. In other words, we took all of our logic from Activity, which was Contrloller before, carried to the new Element Presenter, and now we can safely test this element without creating any Controller and View.  In addition, this code can be further improved ‚Äî for example, using dependency injection (say, using RoboGuice or Dagger). <br><br><h5>  <b>MVVM</b> </h5><br>  The MVP template is not bad, but Microsoft came up with a template even better - MVVM (Model-View-ViewModel).  This template is very fond of .NET-developers, it is used in Silverlight, its implementation is in AngularJS.  MVVM is a very convenient template. <br><br><h6>  <b>What is the difference between MVVM and MVP?</b> </h6><br>  MVVM allows you to associate View elements with ViewModel properties and events.  In this case, the ViewModel is an abstraction of the view.  MVVM has: <br><ul><li>  View - contains fields corresponding to the user interface. </li><li>  ViewModel - contains the same fields, but in the subject area. </li><li>  Actually, Model. </li></ul><br><br>  View properties are the same as ViewModel / Model properties.  At the same time, the ViewModel does not have a link to the view interface.  Changing the state of the ViewModel automatically changes the View, and vice versa.  For this, a data binding mechanism is used.  Also characteristic of MVVM is two-way communication with View. <br><br><img src="https://habrastorage.org/files/5b1/831/ed5/5b1831ed5cc94cbe9c375a44ffe763c7.png"><br><br>  Next, I will briefly go through the MVVM implementations for Android, which I encountered in my work, and consider the advantages and disadvantages of each.  At one time I noted for myself three implementations: <b>RoboBinding, ngAndroid, Bindroid</b> .  At the end of this review I‚Äôll briefly review <b>Android Data Binding</b> , which I am just starting to discover for myself, and which looks very promising.  <a href="http://habrahabr.ru/company/dataart/blog/267735/">Here</a> , by the way, good material on the topic. <br><br><h5>  <b>Robobinding</b> </h5><br>  RoboBinding is an MVVM framework for the Android platform.  It makes it easy to bind attributes to any custom components, third-party components, or widgets for Android.  As a result, you can throw out a lot of unnecessary code through the use of bins. <br><br><h6>  <b>RoboBinding - installation</b> </h6><br>  RoboBinding, in my opinion, is not easy to install, since it requires Android Annotation Processing Toolkit to work.  This is due to the fact that RoboBinding is based on generating code at the precompilation stage.  In this case, the code is generated on the basis of additional annotations that are contained in the framework and need to be processed.  This is what the Android Annotation Processing Toolkit does. <br><br>  Honestly, I managed to connect and configure APT and RoboBinding from the second time.  Hopefully most will turn out faster. <br><br><pre> <code class="java hljs">RoboBinding ‚Äî  apply plugin: <span class="hljs-string"><span class="hljs-string">'com.android.application'</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">'com.neenbedankt.android-apt'</span></span> apt(<span class="hljs-string"><span class="hljs-string">"org.robobinding:codegen:$robobindingVersion"</span></span>) { exclude group: <span class="hljs-string"><span class="hljs-string">'com.google.android'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>: <span class="hljs-string"><span class="hljs-string">'android'</span></span> } compile(<span class="hljs-string"><span class="hljs-string">"org.robobinding:robobinding:$robobindingVersion"</span></span>) { exclude group: <span class="hljs-string"><span class="hljs-string">'com.google.android'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>: <span class="hljs-string"><span class="hljs-string">'android'</span></span> } buildscript { dependencies { classpath <span class="hljs-string"><span class="hljs-string">'com.android.tools.build:gradle:xxx'</span></span> classpath <span class="hljs-string"><span class="hljs-string">'com.neenbedankt.gradle.plugins:android-apt:1.4'</span></span> } }</code> </pre><br><br><h6>  <b>RoboBinding - ViewModel</b> </h6><br>  This is our view model: <br><br><pre> <code class="java hljs">RoboBinding ‚Äî ViewModel <span class="hljs-meta"><span class="hljs-meta">@PresentationModel</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenViewModel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasPresentationModelmChangeSupport</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PresentationModelChangeSupport mChangeSupport; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String mUserFirstName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String mUserLastName; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SomeScreenViewModel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mChangeSupport = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PresentationModelChangeSupport(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserFirstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserFirstName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserLastName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserFullName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserFirstName + <span class="hljs-string"><span class="hljs-string">" "</span></span> + mUserLastName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserFirstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String userFirstName)</span></span></span></span>{ mUserFirstName = userFirstName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String userLastName)</span></span></span></span>{ mUserLastName = userLastName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mChangeSupport.firePropertyChange(<span class="hljs-string"><span class="hljs-string">"userFullName"</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> PresentationModelChangeSupport </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPresentationModelmChangeSupport</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mChangeSupport; } }</code> </pre><br><br>  Despite the fact that this model is designed as ‚ÄúPresentation Model‚Äù, this is exactly the ViewModel in the concept of the MVVM template.  This is a common POJO model that contains fields that will later be displayed on your View (later in the examples you will see how to do this).  In order for your data to be displayed bilaterally, you still need to implement the HasPresentationModelmChangeSupport interface, where in the getPresentationModelmChangeSupport method you just have to return the ChangeSupport implementation that will change your data. <br><br>  In SomeScreenViewModel there are two fields that will contain the values ‚Äã‚Äãdisplayed and received on the user interface, and methods that provide access to these fields.  There is also a method that will be responsible for user interaction.  How exactly this all will work, we will figure it out as we go. <br><br><h6>  <b>RoboBinding - Layout</b> </h6><br>  In the View itself, we use custom attributes so that we can associate the fields of our Model with some specific interface elements.  To make it all work, we add an extra namespace, and then specify custom additional fields to our interface elements. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:tools</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/tools"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://robobinding.org/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{userFullName}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EditText</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${userFirstName}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EditText</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${userLastName}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"updateUser"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Our markup has EditText, which is using <code>bind:text="${userLastName}" <br></code> <code>bind:text="${userLastName}" <br></code>  "Binds" to the private String field of mUserFirstName by our SomeScreenViewModel.  Now, any changes to the mUserFirstName field will be displayed in the specified EditText, and any changes to the data in this EditText will be displayed in the mUserFirstName field.  According to this principle, the data binding mechanism between the View and the ViewModel works. <br><br>  In addition, we can process user data.  There is a <code>bind:onClick <br></code> <code>bind:onClick <br></code>  that contains the name of the method, and in SomeScreenViewModel there is a method with the same name that will be called after pressing the button. <br><br><h6>  <b>RoboBinding - Activity</b> </h6><br>  But how does the Model know about the existence of the View, and how does the View know about the existence of the Model?  What exactly does the data binding process do?  In the case of RoboBinding, this is the <i>binder</i> class.  He is given a link to the Layout, in which the interface elements contain custom fields, and he is given a link to the implementation of the Model.  Then <i>binder</i> connects the interface elements with the fields inside the Model.  Now, using some setter / getter or simply writing data to our Model in the fields, we get their display on the View. <br><br><pre> <code class="java hljs">RoboBinding ‚Äî Activity <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); SomeScreenViewModel presentationModel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeScreenViewModel(); View rootView = Binders.inflateAndBindWithoutPreInitializingViews(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, R.layout.activity_some_screen, presentationModel); setContentView(rootView); } }</code> </pre><br><br>  Everything is quite simple.  At the same time, firstly, there is no findViewById.  Secondly, you are not responsible for what you specifically interact with - for you there is only an abstract model in which you can set values ‚Äã‚Äãand get them from there. <br><br>  Now let's talk about how it works.  For example, a user pressed a button on a user interface.  The event, updateUser, tied to this button with the help of <code>bind:onClick="updateUser" <br></code> <code>bind:onClick="updateUser" <br></code>  (see RoboBinding - Layout).  This leads to calling the updateUser () method associated with this action in SomeScreenViewModel (see RoboBinding - ViewModel). Do not forget that our SomeScreenViewModel contains the implementation of PresentationModelChangeSupport, which we talked about before.  This is necessary to display the status of your Model in your View. <br><br>  From the outside, this can be represented as follows: <br>  - Hey, an object of type PresentationModelChangeSupport, take a field called "userFullName" and update it!  ‚ÄúWe say‚Äù in the updateUser () method. <br>  - Well, - "thinks" an object of type PresentationModelChangeSupport - "userFullName", is tied in <code>bind:text="{userFullName}" <br></code> <code>bind:text="{userFullName}" <br></code>  .  - Do I have a getter somewhere called ‚ÄúgetUserFullName‚Äù?  There is.  I call it, get the value (which is equal to mUserFirstName + "" + mUserLastName), and this value is displayed in &lt;TextView ... ... <code>bind:text="{userFullName}"/&gt; <br></code> <code>bind:text="{userFullName}"/&gt; <br></code>  . <br><br>  This is how the implementation of two-way data binding in RoboBinding works. <br><br><h6>  <b>RoboBinding - advantages and disadvantages</b> </h6><br>  Advantages of RoboBinding: <br><ul><li>  bidirectional (two-way) binding; </li><li>  code generation; </li><li>  list support. </li></ul><br><br>  Disadvantages: <br><ul><li>  problems with the AppCompat library; </li><li>  No support for RecyclerView. </li></ul><br><br>  Bilateral binding: the ‚Äú$‚Äù sign in the code means that when the data in the Model changes, they will be displayed in the View and, if the data in the View changes, they will be projected in the Model.  If there is no ‚Äú$‚Äù sign, it means that the data from the Model will be displayed in View, but not vice versa. <br><br>  RoboBinding is based on code generation.  That is, at the preliminary compilation stage, the necessary code will be generated on the basis of the annotations that you painted in the class, after which it will be copied.  This means that at the execution stage you will not need any additional costs. <br><br>  In addition to the fact that you can bind simple data, you can also bind lists (collections), which is great.  In addition, there is support for working with ListView: you can tie up any collection on the ListView, and everything will work well (at least, it worked for me). <br><br>  As for the flaws, if RoboBinding works with lists, then with RecyclerView - no, at least not yet. <br><br>  There is also a problem with the compatibility library, because the binding is built on custom attributes.  This means that if we have interface elements from the compatibility library, and you are trying to add a custom attribute to it, this does not always work, and if it works, it is very bad.  On the RoboBinding site, all these bugs have already been noted - surely, work on fixing them is already underway, as RoboBinding is developing and developing quite quickly. <br><br><h5>  <b>ngAndroid</b> </h5><br>  The next library I liked was ngAndroid, based on the ideas of the AngularJS JavaScript framework (but only on ideas ‚Äî there is no JavaScript here).  It works very similar to RoboBinding. <br><br><h6>  <b>ngAndroid - installation</b> </h6><br>  Unlike RoboBinding, ngAndroid is very easy to install, and everything works the first time: <code>compile 'com.github.davityle:ngandroid:0.0.4'. <br></code> <code>compile 'com.github.davityle:ngandroid:0.0.4'. <br></code> <br><br><h6>  <b>ngAndroid - Model</b> </h6><br><pre> <code class="java hljs">ngAndroid - Model <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Model</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String mUserFirstName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String mUserLastName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String mUserFullName; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserFirstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserFirstName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserLastName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserFullName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserFullName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserFirstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String userFirstName)</span></span></span></span>{ mUserFirstName = userFirstName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String userLastname)</span></span></span></span>{ mUserLastName = userLastname; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserFullName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String userFullName)</span></span></span><span class="hljs-function"> </span></span>{ mUserFullName = userFullName; } }</code> </pre><br><br>  Model is practically no different - this is ordinary data, ways to access data.  There is no action here - they are supported, but not in this form. <br><br><h6>  <b>ngAndroid - Layout</b> </h6><br>  Layout is the same - the differences are minimal.  In the same way, the work is based on custom attributes ‚Äî we connected the namespace we needed and displayed a model with the attribute name inside this model: model ‚Äî attribute name, model ‚Äî attribute name ... There is also support for user interface events, but more on that later. <br><br><pre> <code class="xml hljs">ngAndroid ‚Äî Layout <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:tools</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/tools"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:ng</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng:ngModel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"model.userFullName"</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">EditText</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng:ngModel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"model.userFirstName"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EditText</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng:ngModel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"model.userLastName"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng:ngClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"updateUser()"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h6>  <b>ngAndroid - Activity</b> </h6><br>  Differences begin in Activity.  Consider an example in which there is a certain Activity (there may be a Fragment, View, etc.).  And in this Activity, the @NgScope annotation is used so that ngAndroid knows that this View must contain a binder.  We implement the ViewModel of our example (SomeScreenViewModel) in the Activity using the @ NgModel annotation.  Here, strictly speaking, that's all: indicated the View, indicated the ViewModel.  Unlike RoboBinding, at this stage of work inside ngAndroid, the injector is turned on, which performs the necessary implementation of the specified dependencies and sets them up. <br><br>  Thus bilateral binding is realized.  At the same time, the Activity itself acts as a class that is responsible for handling events.  In Activity, the updateUser () method is implemented, which was previously bound in a file with markup to a button.  From the example it also shows that, unlike RoboBinding, in ngAndroid updateUser () is in the Activity and not in the ViewModel. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@NgScope</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NgModel</span></span> SomeScreenViewModel mScreenViewModel; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> NgAndroid mNg = NgAndroid.getInstance(); <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); mNg.setContentView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, R.layout.activity_some_screen); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ String firstName = mScreenViewModel.getUserFirstName(); String lastName = mScreenViewModel.getUserLastName(); mScreenViewModel.setUserFullName(firstName + <span class="hljs-string"><span class="hljs-string">" "</span></span> + lastName); } }</code> </pre><br><br><h6>  <b>ngAndroid - advantages and disadvantages</b> </h6><br>  Advantages: <br><ul><li>  bidirectional binding; </li><li>  project is under active development. </li></ul><br><br>  Disadvantages: <br><ul><li>  no list support / RecyclerView; </li><li>  Reflection is used (they promise to switch to code generation); </li><li>  The project is at the stage of active development, therefore it is rather raw. </li></ul><br><br>  NgAndroid is now developing rapidly - besides models and clicks, the library supports long-click, change, disable, etc. The supported directives are becoming more and more.  At the same time, such rapid development can be considered as a disadvantage - I would be careful not to use ngAndroid at work. <br><br>  The following angular directives are currently supported: <br><ul><li>  Ngmode </li><li>  Ngclick </li><li>  NgLongClick </li><li>  NgChange </li><li>  NgDisabled </li><li>  NgInvisible </li><li>  Nggone </li><li>  Ngblur </li><li>  NgFocus </li></ul><br><br>  In general, I liked the library very much - by its transparency, simplicity, because there is dependency injection (less code, which is good), because there is two-way (bidirectional) binding. <br><br><h5>  <b>Bindroid</b> </h5><br>  Bindroid is another implementation of the MVVM pattern for Android applications.  Bindroid is an open source library, the main purpose of which is to simplify the linking of user interface and data.  It is based on the Observer pattern for working with models, as well as a set of methods for quickly linking these objects and user interfaces. <br><br><h6>  <b>Bindroid - Model</b> </h6><br>  Bindroid is fundamentally different from the implementations already discussed in that there are no custom fields for your UI attributes, in other words, there is no element that links your View to the fields of your Model.  Instead, there is a TrackableField field that is inside the Model - all data fields must be TrackableField.  This is done so that when you change a field, it changes on your View.  Thus, the Observer template is implemented here, which ensures that changes to the data are displayed in the UI. <br><br><pre> <code class="java hljs">Bindroid ‚Äî Model <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenViewModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TrackableField&lt;String&gt; mUserFirstName = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TrackableField&lt;String&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TrackableField&lt;String&gt; mUserLastName = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TrackableField&lt;String&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TrackableField&lt;String&gt; mUserFullName = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TrackableField&lt;String&gt;(<span class="hljs-string"><span class="hljs-string">"Here could be your advertising."</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserFirstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserFirstName.get(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserFirstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String firstName)</span></span></span><span class="hljs-function"> </span></span>{ mUserFirstName.set(firstName);} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserLastName.get(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String lastName)</span></span></span><span class="hljs-function"> </span></span>{ mUserLastName.set(lastName); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserFullName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserFullName.get(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserFullName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String fullName)</span></span></span><span class="hljs-function"> </span></span>{ mUserFullName.set(fullName); } }</code> </pre><br><br><h6>  <b>Bindroid - Layout</b> </h6><br><pre> <code class="xml hljs">Bindroid - Layout <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:tools</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/tools"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/text_user_fullname"</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">EditText</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/edit_user_firstname"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EditText</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/edit_user_lastname"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"updateUser"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Unfortunately, for linking, you must manually link each field from the Model to its specific implementation within your View, using findViewById.  Although you can get rid of findViewById using ButterKnife or Android Annotations. <br><br><h6>  <b>Bindroid - Activity</b> </h6><br><br><pre> <code class="java hljs">Bindroid ‚Äî Activity <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ SomeScreenViewModel mScreenViewModel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeScreenViewModel(); <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.activity_some_screen); UiBinder.bind(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EditTextTextProperty(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.findViewById( R.id.edit_user_firstname)), mScreenViewModel, <span class="hljs-string"><span class="hljs-string">"userFirstName"</span></span>, BindingMode.TWO_WAY); UiBinder.bind(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EditTextTextProperty(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.findViewById( R.id.edit_user_lastname)), mScreenViewModel, <span class="hljs-string"><span class="hljs-string">"userLastName"</span></span>, BindingMode.TWO_WAY); UiBinder.bind(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextViewTextProperty(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.findViewById(R.id.text_user_fullname)), mScreenViewModel, <span class="hljs-string"><span class="hljs-string">"userFullName"</span></span>, BindingMode.TWO_WAY); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span></span>{ String firstName = mScreenViewModel.getUserFirstName(); String lastName = mScreenViewModel.getUserLastName(); mScreenViewModel.setUserFullName(firstName + <span class="hljs-string"><span class="hljs-string">" "</span></span> + lastName); } }</code> </pre><br><br><h6>  <b>Bindroid - advantages and disadvantages</b> </h6><br><br>  Advantages: <br><ul><li>  bidirectional binding; </li><li>  supports working with the AppCompat library. </li></ul><br><br>  Disadvantages: <br><ul><li>  no support for code generation; </li><li>  no validation at compile time; </li><li>  too much code to link. </li></ul><br><br>  Bindroid may seem interesting to you if you don‚Äôt like custom fields on interface elements or dependency injection, or if you don‚Äôt like to switch extra tools like Android Annotation Processing Toolkit that consume additional resources.  Or maybe you need to quickly compile and work.  Then Bindroid will suit you, but you will need to write code a little longer. <br><br>  In my opinion, a big drawback is the lack of verification at the compilation stage.  For example, if the Model field is called userLastName, and in Activity you make an error, everything will be compiled, but an exception will occur during the execution.  And, since the Stack Trace will be very fun when you perform the binding, you will be looking for a very long time what is wrong.  This is a serious flaw. <br><br><h5>  <b>Android Data Binding</b> </h5><br>  In the spring of 2015, Google on Google I / O introduced the Android Data Binding library, which is currently available in beta.  She has a lot of opportunities, but in the article I‚Äôll tell you about her possibilities related to MVVM. <br><br><h6>  <b>Android Data Binding ‚Äîinstallation</b> </h6><br><br>  Installation is quite simple.  It is worth saying that, since Android Data Binding is in beta testing, Android Studio does not yet support normal operation from (July 2015, Android Studio v 1.3.0). <br><br><pre> <code class="java hljs">Android Data Binding ‚Äî  apply plugin: <span class="hljs-string"><span class="hljs-string">'com.android.databinding'</span></span> dependencies { classpath <span class="hljs-string"><span class="hljs-string">'com.android.tools.build:gradle:1.3.0-beta2'</span></span> classpath <span class="hljs-string"><span class="hljs-string">'com.android.databinding:dataBinder:1.0-rc0'</span></span> }</code> </pre><br><br><h6>  <b>Android Data Binding - Model</b> </h6><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In Model, there is nothing unusual - we have the same fields and there are methods for accessing these fields. </font></font><br><br><pre> <code class="java hljs">Android Data Binding ‚Äî Model <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String mFirstName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String mLastName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String mFullName; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">User</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String firstName, String lastName)</span></span></span><span class="hljs-function"> </span></span>{ mFirstName = firstName; mLastName = lastName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFirstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mUserFirstName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mLastName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFullName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mFullName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setFirstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String userFirstName)</span></span></span><span class="hljs-function"> </span></span>{ mUserFirstName = userFirstName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String userLastname)</span></span></span></span>{ mUserLastName = userLastname; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setFullName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String userFullName)</span></span></span><span class="hljs-function"> </span></span>{ mUserFullName = userFullName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span></span>{ mFullName = mFirstName + <span class="hljs-string"><span class="hljs-string">" "</span></span> + mLastName; } }</code> </pre><br><br><h6> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android Data Binding - Layout</font></font></b> </h6><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As for the markup file of our View, there are already major differences from the implementations discussed earlier. First, the root node is now with us - the so-called Layout. The data section indicates the model and how it will be called (namespace). And then there is a mapping of data from the UI to the fields of the specified model (in this case it </font><font style="vertical-align: inherit;">is, respectively, the same fields inside your model). </font><font style="vertical-align: inherit;">That is, as before, we have fields, there is a model and there is a binding mechanism that allows you to map the fields of your divide into UI elements of the interface. The difference is that your root node is a Layout, and besides the Layout itself, you also have a data section where you must indicate which model you are using. </font><font style="vertical-align: inherit;">Detailed use can be seen in the following example.</font></font><code>user.fullName, user.firstName  user.lastName <br></code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><pre> <code class="xml hljs">Android Data Binding ‚Äî Layout <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">variable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"user"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.example.User"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{user.fullName}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EditText</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{user.firstName}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EditText</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{user.lastName}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> ‚Ä¶‚Ä¶ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"updateUser"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h6> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android Data Binding - Activity</font></font></b> </h6><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the Activity, minimal changes: made the data model, linked the View and the data model, after which, in the process of changing some values ‚Äã‚Äãwithin the model, this data will change within the View. </font><font style="vertical-align: inherit;">If the data is changed to View, the changes will be available in the model. </font><font style="vertical-align: inherit;">For two-way binding between data and its place of display in the UI, the ‚Äú@‚Äù character is used (for example,</font></font><code>android:text="@{user.lastName}" <br></code>  ).<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otherwise, the implementation of the binding is one-way. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thus, the use of Data Binding, from my point of view, looks quite simple and transparent, and is an implementation of the MVVM pattern.</font></font><br><br><pre> <code class="java hljs">Android Data Binding ‚Äî Activity <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeScreenActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> User mUser = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(<span class="hljs-string"><span class="hljs-string">"Anton"</span></span>, <span class="hljs-string"><span class="hljs-string">"Valiuh"</span></span>); <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); MainActivityBinding binding = DataBindingUtil.setContentView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, R.layout.main_activity); binding.setUser(mUser); } }</code> </pre><br><br><h6> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android Data Binding - features</font></font></b> </h6><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besides the fact that Data Binding has the ability to implement the MVVM pattern, this technology has many good features (in fact, Android Data Binding is a topic for a separate report or article). </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expression Language</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Allows you to write primitive logic within your View. </font><font style="vertical-align: inherit;">The main thing is not to overdo it so that the logic does not move to View. </font><font style="vertical-align: inherit;">Nevertheless, the expression language allows you to make simplifications - depending on the state, you can pick up different handlers, do formatting.</font></font> It is very convenient. <br><br><pre> <code class="java hljs">android:text=<span class="hljs-string"><span class="hljs-string">"@{String.format("</span></span>Hello %s<span class="hljs-string"><span class="hljs-string">",viewModel.field )}"</span></span> android:onClick=<span class="hljs-string"><span class="hljs-string">"@{user.isFriend ? handlers.onClickFriend : handlers.onClickEnemy}‚Äú</span></span></code> </pre><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imports</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">You can additionally import any classes: for example, you imported the View, and then you can use the property of this class in some of your expressions. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resource support</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">They wrote the expression, indicated which resources to take, and everything works fine.</font></font><br><br><pre> <code class="java hljs">android:padding=<span class="hljs-string"><span class="hljs-string">"@{large? @dimen/largePadding : @dimen/smallPadding}‚Äú</span></span></code> </pre><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Collection support.</font></font></b> <br><br><pre> <code class="java hljs">android:text=<span class="hljs-string"><span class="hljs-string">"@{list[index]}"</span></span> android:text=<span class="hljs-string"><span class="hljs-string">"@{map[`firstName`}‚Äú</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can create </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">custom bins</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can list for a long time - there is a lot more. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surely, sooner or later, Android Data Binding will become the new standard for creating Android applications - I'm sure of almost 100 of them.</font></font><br><br><h6> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android Data Binding - advantages and disadvantages</font></font></b> </h6><br><br>  Advantages: <br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> official library from Google; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> code generation; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> check at compile time; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ease of use and expansion; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> new Android standard. </font></font></li></ul><br><br>  Disadvantages: <br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no support for bidirectional binding (yet); </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no IDE support (yet); </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a lot of false errors in Android Studio (but everything compiles and runs). </font></font></li></ul><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An important drawback is the lack of full-fledged bidirectional binding - it exists, but so far it works poorly. </font><font style="vertical-align: inherit;">Well, what to take with the beta version ... for sure, this is the first thing that will fully work in the near future. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No IDE support - as a result, a lot of errors in Android Studio. </font><font style="vertical-align: inherit;">But everything compiles, everything starts, everything works. </font><font style="vertical-align: inherit;">If someone is interested and want to connect, I think you will not regret.</font></font></div><p>Source: <a href="https://habr.com/ru/post/272737/">https://habr.com/ru/post/272737/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../272723/index.html">How to display foreign applications on the Russian market</a></li>
<li><a href="../272725/index.html">DEV Labs 2015. Final online conference of the year. Java and javascript</a></li>
<li><a href="../272729/index.html">Robo code game challenge</a></li>
<li><a href="../272733/index.html">"Transparent" Squid with HTTPS filtering resources without certificate substitution (x86, x64 - universal instruction)</a></li>
<li><a href="../272735/index.html">Postgres NoSQL is better than MongoDB?</a></li>
<li><a href="../272739/index.html">Python Meetup October: Deliberate Practice and Desktop Applications on Penta.by</a></li>
<li><a href="../272743/index.html">Cyclic cuts, shifts and rotation of collections</a></li>
<li><a href="../272749/index.html">CRM implementation. From lead registration to closing a deal. Case and explanation</a></li>
<li><a href="../272751/index.html">Desktop in the cloud</a></li>
<li><a href="../272753/index.html">Hellish UX Spotify</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>