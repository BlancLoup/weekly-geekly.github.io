<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Traffic analysis secret</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is logical that effective promotion includes not only the choice of channels to attract users, but also the analysis of traffic with further tuning...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Traffic analysis secret</h1><div class="post__text post__text-html js-mediator-article"><img vspace="3" hspace="3" align="left" src="https://habrastorage.org/storage/7bf0b17d/789a478c/f860b781/522acdeb.jpg">  It is logical that effective promotion includes not only the choice of channels to attract users, but also the analysis of traffic with further tuning of each channel.  The goal of tuning is to increase the return on the resources invested, to increase the conversion. <a name="habracut"></a><br><br><h4>  Introduction </h4><br>  I think no one doubts that it is better not to track the overall return on all website promotion works, but the effectiveness of each promotion channel separately. <br><br>  By channel promotion of the site in this post, I understand any way to attract users: SEO, contextual advertising, media, articles on thematic sites, etc. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Immediately, I‚Äôll make a reservation that the article is more focused on regular corporate websites, since, in my opinion, it is easier for online stores and services to identify the purpose of attracting traffic: buying, registering, downloading.  And this goal is already established in the statistics collection system.  To set a goal means to register the view of the page you need, for example, ‚ÄúThank you for your purchase.‚Äù  By the way, Google Analytics users can <a href="http://www.google.com/support/analytics/bin/answer.py%3Fhl%3Dru%26answer%3D55527">track events</a> using _trackEvent, which adds flexibility. <br><br>  Returning to corporate sites, we need this sign: <br><div style="text-align:center;"><img src="https://habrastorage.org/storage/habraeffect/4a/28/4a2863734018fce6ee7f4493b8720ff8.png" alt="Summary of the effectiveness of promotional channels"></div><br>  <i>* data are taken from personal experience, and do not have a political background</i> <br><br>  When you have such a sign, everything becomes easier, and you can immediately see what you are paying for, and where you should pay attention.  Naturally, the more detailed the table, the better the analysis.  For example, for the same contextual advertising, you can specify not the general ‚ÄúDirect‚Äù and ‚ÄúAdWords‚Äù, but specify up to ad groups or keywords. <br><br><h4>  We register promotion channels </h4><br>  The first thing to start with is to mark all links, that is, add parameters to the link, for example: <i>sitename.ru/super-tovar/?</i>  <i><b>marker = direct</b></i> (it is important that the engine of your website allows you to add extraneous parameters to the links).  Thus, in the statistics of visits you will see transitions to the site from different promotion channels. <br><br>  I love <a href="http://www.google.com/analytics/ru-RU/">Google Analytics</a> , so I will continue to focus on it.  Google Analytics uses cookies for its work, and the most interesting one is <b>__UTMZ</b> : <br><div style="text-align:center;"><img src="https://habrastorage.org/storage/c2073e3a/1994873d/5dab30fb/91e5e6c3.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/storage/2d810545/8992f42b/a3b1f43e/81ef8cdd.png"></div><br>  It is important for us that it stores the source, the transition tool (for example: CPC, banner, email), the name of the advertising campaign.  And in this cookie, you can write the desired value, simply by adding special parameters in the URL.  You can use Google <a href="http://www.google.ru/support/analytics/bin/answer.py%3Fanswer%3D55578">link builder links</a> or pens: <br>  <i>sitename.ru/?</i>  <i><b>utm_source</b> = yandex_direct &amp; <b>utm_medium</b> = CPC &amp; <b>utm_campaign</b> = ya_direct_camp</i> <br>  This is an example of a link for Yandex.Direct, here yandex_direct is the traffic source, CPC is the medium, ya_direct_camp is the name of the advertising campaign. <br><br>  After that, analytics on the ‚ÄúAll traffic sources‚Äù page will see transitions from different promotion channels, for example, like this: <br><div style="text-align:center;"><img src="https://habrastorage.org/storage/habraeffect/c3/fe/c3fe046fd2f6d51f01f8b947c28aec4a.png" alt="Different promotion channels in Analytics"></div><br><br><h4>  Contact Accounting </h4><br>  Now it is extremely important to accurately count the number of contacts (calls, letters) from each channel.  We continue to use Google Analytics for counting. <br><br>  Messages sent using the <b>feedback form</b> can be counted by tracking events or sending people to the page <i>sitename.ru/send-message-ok/</i> : ‚ÄúThank you, your message has been delivered to us.  We will reply within 24 hours".  And just count the number of transitions to our page for each channel. <br><br>  But to count the <b>number of calls</b> and <b>e-mails</b> for each channel, you have to twist.  We will need several phone numbers (the city numbers are now inexpensive for cellular operators, you can use the services of IP-telephony operators or just use the available numbers) and access to the site templates.  The idea to the disgrace is simple: take __utmz, extract the source and show each source your contact phone number and e-mail.  Do not forget about another set of "default" (in case the source is not defined or not configured).  I am not a programmer, so I asked my friend to write a few lines of code (we‚Äôll show special contacts to users from Yandex.Direct with links in ads from an advertising campaign marked): <br><br> <code>&lt;?php <br> $output = ''; <br> <br> $__utmz = explode('.',$_COOKIE['__utmz']); <br> $__utmz = explode('|',$__utmz[4]); <br> <br> $param = array(); <br> foreach ($__utmz as $value) { <br> $value = explode('=',$value); <br> $param[$value[0]] = $value[1]; <br> } <br> <br> if ($param['utmcsr'] == '(yandex_direct)'){ <br> $output = ': (321) 123-45-67&lt;br&gt;E-mail: contact@sitename.ru'; <br> } <br> <br> if ($output == '') { <br> $output = ': (321) 123-45-65&lt;br&gt;E-mail: info@sitename.ru'; } <br> <br> echo $output; <br> ?&gt;</code> <br> <br><h4>  Calculating the cost of sale </h4><br>  If sales statistics are collected, then it‚Äôs easy to calculate the price of one sale for each channel. <br><br>  After you have all this information, start optimizing your website promotion channels. <br><br>  The most interesting thing is that every time I do not cease to be surprised by the results of the analysis.  And I am very interested to hear your decisions: how do you optimize advertising costs?  And what was unexpected for you when analyzing traffic? <br><br>  PS Thanks to the author of the illustration Natalia Rerekina. </div><p>Source: <a href="https://habr.com/ru/post/102821/">https://habr.com/ru/post/102821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102807/index.html">Bitter experience, backup and high-quality technical support</a></li>
<li><a href="../102808/index.html">"How much SMS?" - a new program in the Android Market</a></li>
<li><a href="../102809/index.html">Commission when transferring money from QIWI to RBK money</a></li>
<li><a href="../102814/index.html">Subscribers will always be available</a></li>
<li><a href="../102820/index.html">Work with the site gosuslugi.ru</a></li>
<li><a href="../102822/index.html">Another XSLT book</a></li>
<li><a href="../102823/index.html">Augmented Reality as Seen by National Geographic</a></li>
<li><a href="../102825/index.html">Hackers accidentally send their malicious code to Microsoft</a></li>
<li><a href="../102826/index.html">We write your Windows service</a></li>
<li><a href="../102833/index.html">Life after Google: 15 startups founded by former employees</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>