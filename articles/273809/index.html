<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Comparison of free software accounting traffic SQUID</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, our company needed to transfer a proxy server from MS ISA Server to free software. The proxy server did not have to choose for a long time (...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Comparison of free software accounting traffic SQUID</h1><div class="post__text post__text-html js-mediator-article">  Recently, our company needed to transfer a proxy server from MS ISA Server to free software.  The proxy server did not have to choose for a long time (squid).  Using a few tutorials, set up a proxy for our needs.  Some difficulties have arisen when choosing a program for traffic accounting. <br><br>  The requirements were: <br><br>  1) free software <br>  2) the ability to process logs from different proxies on the same server <br>  3) the ability to build standard reports with mailing, or a link to a web server <br>  4) building reports on individual departments and sending such reports to heads of departments, or providing access via a link to a web server 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The traffic accounting software provided by the developers is rather scant information: a concise description of the purpose of the program plus an optional bonus pair of screenshots.  Yes, it is clear that any program will calculate the amount of traffic per day / week / month, but additional interesting features that distinguish one program from others are not described. <br><br>  I decided to write this post, in which I will try to describe the possibilities and shortcomings of such programs, as well as some of their key "chips", to help a little in choosing those who need to do it. <br><a name="habracut"></a><br>  Our candidates: <br><br>  Sarg <br>  free-sa <br>  lightsquid <br>  SquidAnalyzer <br>  ScreenSquid <br><br><div class="spoiler">  <b class="spoiler_title">Retreat</b> <div class="spoiler_text"> Information about the "age" of the program and the release of the last release is not a comparison parameter and is provided for information only.  I will try to compare only the functionality of the program.  I also deliberately did not consider too old programs that have not been updated for many years. <br><br>  Logs are sent to the analyzer for processing in the form in which squid created them and will not be subjected to any preliminary processing in order to make changes to them.  Processing of incorrect entries and various transformations of the log fields should be made by the analyzer itself and be present only in the report.  This article is not a setup guide.  Configuration and usage issues can be covered in separate articles. <br></div></div><br>  So let's get started. <br><br><h3>  SARG - Squid Analysis Report Generator </h3><br>  The elder among the supported programs of this class (development started in 1998, the former name is sqmgrlog).  The latest release (version 2.3.10) is April 2015.  After that, there were several improvements and fixes that are available in the master version (can be downloaded using git from sourceforge). <br><br>  The program is launched manually or by cron.  You can run without parameters (then all parameters will be taken from the sarg.conf configuration file), or you can specify parameters in the command line or a script, for example, the dates for which the report is built. <br><br>  Reports are created as html-pages and are added to the / var / www / html / squid-reports directory (by default).  You can set the parameter that determines the number of stored reports in the directory.  For example, 10 daily and 20 weekly, older ones will be automatically deleted. <br><br>  It is possible to use several config-files with different parameters for different report options (for example, for daily reports you can create your config in which the option to create graphs will be disabled and a different directory will be specified for the report output). <br><br><div class="spoiler">  <b class="spoiler_title">In detail</b> <div class="spoiler_text">  When entering the main page with reports, we can select the period for which it was created (defined in the report creation parameters), the date of its creation, the number of unique users, the total traffic for the period, the average amount of traffic per user. <br><br><img src="https://habrastorage.org/files/be9/1b3/875/be91b3875b3f46daa49c098dd925d662.png"><br><br>  When choosing one of the periods we will be able to get a report of topusers for this period.  Below are descriptions and examples of all types of reports that SARG can do. <br><br>  1) topusers - total traffic by users.  A user is understood as either the name of the host that has access to the Internet, or a user login.  Report example: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d20/512/e60/d20512e60d2fa75e0304942dfe0228c4.png"><br><br>  IP addresses are displayed here.  When configured to enable the corresponding option, IP addresses are converted to domain names. <br><br>  Do you use authentication?  Accounts are converted to real names: <br><br><img src="https://habrastorage.org/files/858/7c5/d2c/8587c5d2c4f641c0a9edb2dcb25e426e.PNG"><br><br>  Appearance can be configured in the css-file.  Output columns are also configured, unnecessary can be removed.  Column sorting is supported (sorttable.js). <br><br>  When you click on the icon with the graph on the left we will see a similar graph: <br><br><img src="https://habrastorage.org/files/b46/c2e/65b/b46c2e65b2c74caa8a1302e86f10bccf.png"><br><br>  When you click on the icon on the right, we get a report 5. <br><br>  2) topsites - a report on the most popular sites.  By default, a list of the 100 most popular sites is displayed (the value is adjusted).  Using regular expressions or setting aliases, you can combine traffic of domains of the 3rd and higher levels up to the domain of the 2nd level (as in the screenshot) or specify any other rule.  For each domain, you can set the rule separately, for example, for yandex.ru and mail.ru to combine up to the 3rd level.  The meaning of the fields is quite obvious. <br><br><img src="https://habrastorage.org/files/43f/6e3/71b/43f6e371b0c5420c843d463650cedc40.png"><br><br>  3) sites_users - a report about who visited a specific site.  Everything is simple: the domain name and who addressed it.  Traffic is not displayed here. <br><br><img src="https://habrastorage.org/files/d74/bfb/d22/d74bfbd22dcf472eb7c16772bb8bf061.png"><br><br>  4) users_sites - a report on the visited sites by each user. <br><br><img src="https://habrastorage.org/files/01c/aef/3ae/01caef3aeef849c38ffa703eabd3fcb4.png"><br><br>  Here, too, everything is clear.  If you click on the icon in the first column, we get a report 8). <br><br>  5) date_time - distribution of user traffic by day and hour. <br><br><img src="https://habrastorage.org/files/885/239/3df/8852393df1184f648ed2155e27e27aca.png"><br><br>  6) denied - blocked squid requests.  This shows who, when and where access was denied.  The number of entries is configured (10 by default). <br><br><img src="https://habrastorage.org/files/cbc/3d5/ee9/cbc3d5ee9a4d4fb19ef688d235417503.png"><br><br>  7) auth_failures - authentication failures.  HTTP / 407. <br>  The number of entries is configured (10 by default). <br><br><img src="https://habrastorage.org/files/551/b9a/5f3/551b9a5f375c4e06bebb78e6abcfb7b1.png"><br><br>  8) site_user_time_date - shows what time on which site and from which machine the user visited. <br><br><img src="https://habrastorage.org/files/9c6/1b5/aff/9c61b5aff36044a981443deef27a491c.png"><br><br>  9) downloads - download list. <br><br><img src="https://habrastorage.org/files/e2a/a70/c2f/e2aa70c2ff0a4078852d6149de86cbc3.png"><br><br>  10) useragent - report on the programs used <br><br>  The first part of the report displays the IP address and the useragents used. <br><br><img src="https://habrastorage.org/files/d48/4a8/4d9/d484a84d98f748a09097256620e9a78e.png"><br><br>  In the second - a general list of useragents with a percentage distribution based on versions. <br><br><img src="https://habrastorage.org/files/166/b51/683/166b516839424c2ab5346bdc5893c96d.png"><br><br>  11) redirector - the report shows to whom access was blocked by means of the blocker.  Squidguard, dansguardian, rejik are supported, the format of logs is configured. <br><br><img src="https://habrastorage.org/files/1c4/3cd/bd4/1c43cdbd44974404be72cba23e10ca2a.png"><br><br>  SARG has more than 120 settings, language support (100% of messages are translated into Russian), regular expression support, work with LDAP, the ability to provide users with access only to their reports on the web server (via .htaccess), the ability to convert logs into their format to save space, upload reports to a text file to populate the database, work with squid log files (splitting one or several log files by day). <br><br>  It is possible to create reports on a specific set of specified groups, for example, if you need to make a separate report on a department.  In the future, access to the web page with the reports of the unit can be provided, for example, to managers using the means of a web server. <br><br>  You can send reports by e-mail, however, while only the topusers report is supported, and the letter itself will be plain text without HTML support. <br><br>  You can exclude certain users or certain hosts from processing.  You can set aliases for users by combining the traffic of several accounts into one, for example, all the out-owners.  You can also set aliases for sites, for example, combine several social networks into a certain alias, in this case all the parameters for the specified domains (number of connections, traffic volume, processing time) will be added up.  Or, using a regular expression, you can ‚Äúdrop‚Äù domains above the 3rd level. <br>  It is possible to upload to separate files a list of users who have exceeded certain volumes for the period.  The output will be several files, for example: userlimit_1G.txt - exceeding 1 Gb, userlimit_5G.txt - exceeding 5 Gb, and so on - only 16 limits. <br><br>  SARG also has a couple of PHP pages in its arsenal: view current connections to squid and add domain names to squidguard block lists. <br><br>  In general, it is a very flexible and powerful tool, easy to learn.  All parameters are described in the default configuration file, in the <a href="https://sourceforge.net/projects/sarg/wiki">projectformat's wiki section</a> on sourceforge there is a more detailed description of all parameters in the wiki section, broken down into groups, and examples of their use. <br></div></div><br><h3>  free-sa </h3><br>  Domestic development.  Since November 2013 there have been no new versions.  It is stated that reports are generated faster than competing programs and less space is taken up for ready-made reports.  Check it out! <br><br>  This program is the closest to the logic of work for SARG (and the author himself compares with this program (for example, <a href="http://forum.lissyara.su/viewtopic.php%3Ff%3D3%26t%3D15537%26sid%3D7b46b3f2cb3ddca5724070d42c4a1604">here</a> )), therefore we will compare with it. <br><br>  Pleased with the presence of several themes.  The theme is 3 css-files and 4 png-icons, corresponding to them. <br><br>  Reports really are made faster.  The daily report was created at 4:30, when SARG had 12 minutes.  True, the volume occupied was not the case: the volume occupied by the reports was 440 MB (free-sa) and 336 MB (SARG). <br><br>  Let's try to give the task more difficult: to process the log file of 3.2 GB in 10 days, in which 26.3 million lines. <br><br>  Free-sa also made a report faster, in 46 minutes, the report takes 3.7 GB on disk.  SARG spent 1 hour 10 minutes, the report takes 2.5 GB. <br><br>  But both of these reports will be inconvenient to read.  Who, for example, wants to manually consider which domain is more popular - vk.com or googlevideo.com and manually calculate the traffic of all their subdomains?  If you leave only Level 2 domains in the SARG settings, then creating the report will take about the same time, but now the report itself takes 1.5 GB of disk space (the daily one has decreased from 336 MB to 192 MB). <br><br><div class="spoiler">  <b class="spoiler_title">In detail</b> <div class="spoiler_text">  When entering the main page, we see something like the following (the blues theme is selected): <br><br><img src="https://habrastorage.org/files/632/f7b/12d/632f7b12d74c4a658a2d18189f2d1c25.PNG" alt="image"><br><br>  Honestly, the purpose of the output of the year and months is not clear; nothing happens when you click on them.  You can write something in the search field, but again nothing happens.  You can select the period of interest. <br><br><img src="https://habrastorage.org/files/272/35a/df8/27235adf8060462d8944e1d1a5146c37.PNG" alt="image"><br><br>  List of blocked URLs: <br><br><img src="https://habrastorage.org/files/849/d39/db4/849d39db4b10456ea7f99a7a306492f2.PNG" alt="image"><br><br>  CONNECT metdod report: <br><br><img src="https://habrastorage.org/files/9ef/3f1/3d7/9ef3f13d7e71485fba7f33def599b37e.PNG"><br><br>  PUT / POST metdod report: <br><br><img src="https://habrastorage.org/files/470/225/858/470225858f5c4abcaef1ea6f4fec9862.PNG"><br><br>  Load Report: <br><br><img src="https://habrastorage.org/files/ceb/5b0/a9f/ceb5b0a9f0b24596a42c59248cf0ffbb.PNG"><br><br>  Popular sites: <br><br><img src="https://habrastorage.org/files/84e/fb2/46d/84efb246d774481c8cff29673f1b95f1.PNG"><br><br>  The report on the effectiveness of the proxy server seemed interesting: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0f3/420/800/0f34208007f6c6e715cf01b0de7799b1.png" alt="image"><br><br>  User report: <br><br><img src="https://habrastorage.org/files/6dc/dab/cb7/6dcdabcb784c4dde995ea40c39d18e07.PNG"><br><br>  When you click on the graph icon in the second column, we get a graph of Internet usage by a specific user: <br><br><img src="https://habrastorage.org/files/c8b/e3c/eff/c8be3ceff3a347f591d5b4a88e1adee1.PNG"><br><br>  When you click on the second icon, we get the download table of the Internet channel by the hour: <br><br><img src="https://habrastorage.org/files/722/65b/439/72265b43908c476b98e37271fbac09e1.PNG"><br><br>  When choosing an IP address, we will get a list of sites by user in descending order of traffic: <br><br><img src="https://habrastorage.org/files/4a6/fbe/cfb/4a6fbecfbf78490993f487cc549caa4c.PNG"><br><br>  All statistics are displayed in bytes.  To switch to megabytes, you must set the parameter <br><blockquote>  reports_bytes_divisor = "M" </blockquote><br>  The program does not accept compressed log files, does not accept more than one file with the -l parameter, does not support the selection of files by mask.  The author of the program proposes to circumvent these restrictions by creating named pipes. <br><br>  An annoying bug was detected - when the length of the log line is too large, instead of addresses, timestamps fit in: <br><br><img src="https://habrastorage.org/files/d77/118/0f2/d771180f201f4ec9b026668c0a17fb14.PNG" alt="image"><br><br>  When viewing the traffic of this ‚Äúuser‚Äù, you can see the domain with the source of the error: <br><br><img src="https://habrastorage.org/files/cdf/add/58f/cdfadd58fad442ee827870746e35aff7.PNG" alt="image"><br><br>  Thus, the number of users has increased several times. <br><br>  If you compare these two programs, free-sa creates a report a little faster.  The 20-fold increase in speed, as stated by the author, I could not detect.  Perhaps it can be seen under certain conditions.  I think it is not important how much it takes to create a weekly report at night - 30 minutes or 50. There is no advantage for free-sa in terms of the amount of space occupied by reports. <br></div></div><br><h3>  lightsquid </h3><br>  Perhaps the most popular traffic counters.  It works quickly, reports do not take a lot of disk space.  Although this program has not been updated for a long time, I still decided to consider its possibilities in this article. <br><br>  The logic of the program is different: the program reads the log and creates a set of data files, which it then uses to create web pages.  That is, there are no pre-created data reports here, pages with data are generated on the fly.  The advantages of this solution are obvious: to get a report, it is not necessary to parse all the logs for the period, it‚Äôs enough to feed the lightsquid magazine once a day.  You can cron-do this several times a day to quickly add a new piece of information. <br><br>  It was not without drawbacks: it is impossible to process logs from different servers and collect statistics in one place: when processing a log for any day from another server, the existing statistics for that day are erased. <br><br>  There is a strange restriction: lightsquid "perceives" as uncompressed log files, as well as compressed (gz - exactly), but in the second case the file name should be in this format: access.log.X.gz, files with the format name access.log- YYYYMMDD.gz will not accept. <br><br>  By simple manipulations, we overcome this limitation and see what happens. <br><br><div class="spoiler">  <b class="spoiler_title">In detail</b> <div class="spoiler_text"> Report for the month (total traffic 3 TB, 110 million lines) ranked on a 1 GB disk. <br><br>  On the start page we see traffic by day for the current month. <br><br><img src="https://habrastorage.org/files/2ff/36a/4f3/2ff36a4f313f4c5a9d2d07300df4e70c.PNG"><br><br>  When choosing a day, we see a report for the day for all users: <br><br><img src="https://habrastorage.org/files/8cd/6e8/db3/8cd6e8db3fcc4a91b957824e59716be5.PNG"><br><br>  If groups are specified, the name of the group to which the user belongs is displayed in the right column.  Users who are not in any group are combined into the group 00 no in group (in this report, they are marked with a question mark). <br><br>  When you select grp on the main page for the corresponding date, we get to the report page of users divided into groups.  First listed are not included in any group, then the group in order. <br><br><img src="https://habrastorage.org/files/649/c61/945/649c61945ae249b38c163ed108280aac.PNG"><br><br>  When you click on the name of the group in the table on the right, go below to the place in the page where the report on this group begins: <br><br><img src="https://habrastorage.org/files/35e/ccc/bfb/35ecccbfb25c4d908315f1f110e3ce69.PNG"><br><br>  When you click on the "Top sites report" we get a report on popular sites for the day: <br><br><img src="https://habrastorage.org/files/bdc/27c/e40/bdc27ce40fbf4da0bb9390345a3a3b66.PNG"><br><br>  Big files report: <br><br><img src="https://habrastorage.org/files/c93/7e6/44c/c937e644c76c4c31a9fbc351baa7fd77.PNG"><br><br>  Go to the table on the right. <br>  Here you can get a list of top sites for the month and for the whole year (they look the same, so without a screenshot), general statistics for the year and month, as well as statistics for the year and month by groups. <br><br>  Monthly statistics: <br><br><img src="https://habrastorage.org/files/8a6/994/5d5/8a69945d539546acb68cf7a698b03965.PNG"><br><br>  When you click on the clock icon, we will be able to see the table by sites, access time and traffic consumed per hour: <br><br><img src="https://habrastorage.org/files/98c/9a4/2f9/98c9a42f9d364d81a53d8cc4a00b59de.PNG"><br><br>  Statistics for the day are displayed here, but for the month and for the year it will look about the same, hourly statistics on domains will be summed up. <br><br>  When you click on the graph icon, you can see the user‚Äôs traffic consumption for the month: <br><br><img src="https://habrastorage.org/files/44e/973/7eb/44e9737eb596462989f6baad05b499b7.PNG"><br><br>  Graph columns are clickable: when you click on a column, we switch to user statistics for another day. <br><br>  When you click on [M], we get a report on the consumption of traffic by the user within a month, indicating the volume for each day and for the full week. <br><br><img src="https://habrastorage.org/files/6ec/45a/5d9/6ec45a5d9a4549b1aaaee4ce67b4326d.PNG"><br><br>  When you click on the username, we get a list of sites that the user visited in order of decreasing traffic: <br><br><img src="https://habrastorage.org/files/1db/7fe/ccd/1db7feccdb5c44a8aed0f94d1a10a528.PNG"><br><br>  Well, that seems to be all.  Everything is simple and concise.  IP addresses can be converted to domain names.  Using regular expressions, domain names can be combined into domains of the 2nd level, just in case I quote a regular expression: <br><br> <code>$url =~ s/([az]+:\/\/)??([a-z0-9\-]+\.){0,}([a-z0-9\-]+\.){1}([az]+)(.*)/$3$4/o; <br></code> <br><br>  With perl skills you can customize it. <br><br></div></div><br><br><h3>  SquidAnalyzer </h3><br>  Similar to lightsquid program and also written in Perl.  More cute design.  The latest version 6.4 is currently released in mid-December of this year, many improvements have been made.  Program website: <a href="http://squidanalyzer.darold.net/">squidanalyzer.darold.net</a> . <br><br>  SquidAnalyzer can use multiple computer processors (the -j option), making reports faster, but this applies only to uncompressed files.  For packed (gz format supported), processing takes place using a single processor core. <br><br>  And one more comparison with lightsquid: the same report was made on the same server for about a day, on a disk it takes 3.7 GB. <br><br>  Just like lightsquid, SquidAnalyzer will not be able to combine two or more log files from different servers for the same period. <br><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text">  Home page - you can select the year of the report. <br><img src="https://habrastorage.org/files/429/abe/a92/429abea922e244dfabae28cb397fe023.PNG"><br><br>  When choosing any period (year, month, week, day), the web pages look similar: top menu with the following reports: MIME types, Networks, Users, Top Denied, Top URLs, Top Domains.  Slightly lower proxy statistics for the selected period: Requests (Hit / Miss / Denied), Megabytes (Hit / Miss / Denied), Total (Requests / Megabytes / Users / Sites / Domains).  Further, the schedule by the number of requests for the period and by traffic. <br><br>  In the upper right corner there is a calendar.  When choosing a month, you can see a brief statistic and download schedule by day: <br><br><img src="https://habrastorage.org/files/1b3/574/2c4/1b35742c47cc47b49ec8b7e21cab3eab.PNG"><br><br>  In the calendar there is a choice of the week.  When choosing, we will see similar statistics: <br><br><img src="https://habrastorage.org/files/64a/8ed/014/64a8ed0149e84f629020833d513519b4.PNG"><br><br>  When choosing a day, we see the statistics by the hour: <br><br><img src="https://habrastorage.org/files/e17/07f/d47/e1707fd4795342bfbb635c853bf74f83.PNG"><br><br>  Content Type Report: <br><br><img src="https://habrastorage.org/files/bce/be0/338/bcebe033840e45bca47fa92bcf81188c.PNG"><br><br>  Network report. <br><br><img src="https://habrastorage.org/files/92d/11e/dd6/92d11edd69214eec9bc551168e75c30f.PNG"><br><br>  User report. <br><br><img src="https://habrastorage.org/files/7c8/8d3/052/7c88d30523a44be1aafaf22062f2c392.PNG"><br><br>  When choosing a user, we get his statistics for the period. <br><br><img src="https://habrastorage.org/files/bde/c13/1a7/bdec131a74704c7495ffbd0e335d2276.PNG"><br><br><img src="https://habrastorage.org/files/9c9/b43/986/9c9b43986b634455af53f7f30452b45f.PNG"><br><br>  Prohibited resources: <br><br><img src="https://habrastorage.org/files/3db/256/88f/3db25688f63040579048c547cd1999b8.PNG"><br><br>  Level 2 domain report. <br><br><img src="https://habrastorage.org/files/f3b/12b/a8f/f3b12ba8fbef4e27b369319d53ee607f.png"><br><br>  From my own words, I would like to note the very slow work of the program as information accumulates.  With each new log, statistics for the week, month and year are recalculated.  Therefore, I would not recommend this program for processing logs from a server with a large amount of traffic. <br></div></div><br><h3>  ScreenSquid </h3><br>  This program has a different logic: the log is imported into the MySQL database, then the data is requested from it when working in the web interface.  The base with the processed ten-day log mentioned earlier takes up 1.5 GB. <br><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text">  The program cannot import log files with an arbitrary name, binding only to access.log. <br><br>  Home Page: <br><br><img src="https://habrastorage.org/files/c62/a2c/266/c62a2c266bfe4063b39674b0a664f638.PNG"><br><br>  Brief statistics: <br><br><img src="https://habrastorage.org/files/5a6/256/6f7/5a62566f729240fa9ccccd98d2301fba.PNG"><br><br>  For IP addresses, you can create aliases: <br><br><img src="https://habrastorage.org/files/a60/0f4/11a/a600f411a43f430cb3d2ed697efe1765.PNG"><br><br>  ... and then they can be combined into groups: <br><br><img src="https://habrastorage.org/files/64b/d60/de5/64bd60de5e2c458187843f4739d89a2f.PNG"><br><br>  Go to the main - reports. <br><br>  On the left menu with report types: <br><br>  User Logins Traffic <br>  IP address user traffic <br>  Traffic sites <br>  Top sites <br>  Top Users <br>  Top IP Addresses <br>  By time of day <br>  User traffic logins extended <br>  Traffic of users IP address extended <br>  IP address rezolvom traffic <br>  Popular sites <br>  Who downloaded large files <br>  Traffic by period (days) <br>  Traffic by period (name of the day) <br>  Traffic by period (months) <br>  HTTP statuses <br>  Login IPs <br>  Logins from IP addresses <br><br>  Examples of reports. <br><br>  IP address user traffic: <br><br><img src="https://habrastorage.org/files/1b5/408/f01/1b5408f014744709b3ba644fe7713569.PNG"><br><br>  Site traffic: <br><br><img src="https://habrastorage.org/files/67e/27b/fdf/67e27bfdf70d45d599b2247b1c6bb3ba.PNG"><br><br>  Top sites: <br><br><img src="https://habrastorage.org/files/658/8ce/884/6588ce8847af496da71bc6ad9c799d4a.PNG"><br><br>  ... further, to be honest, I didn‚Äôt have the patience to explore the possibilities, since the pages were generated for 3-5 minutes.  The report ‚Äúby time of day‚Äù for the day, for which the log was not imported at all, was generated for more than 30 seconds.  For a day with traffic - 4 minutes: <br><br><img src="https://habrastorage.org/files/a6b/a49/7a4/a6ba497a4d634d338c88a8094f906f0b.PNG"><br></div></div><br>  That's all.  I hope this material will come in handy.  Thank you all for your attention. </div><p>Source: <a href="https://habr.com/ru/post/273809/">https://habr.com/ru/post/273809/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273799/index.html">New Year Promotion for HPE ProLiant Gen9 Servers</a></li>
<li><a href="../273801/index.html">A new version of LinqTestable has been released - libraries for testing requests to the database via ORM</a></li>
<li><a href="../273803/index.html">IBM FlashSystem 900 storage system overview</a></li>
<li><a href="../273805/index.html">Zabbix + SoapUI = monitoring web services</a></li>
<li><a href="../273807/index.html">Parse HTML in .NET and Survive: Analyzing and Comparing Libraries</a></li>
<li><a href="../273811/index.html">New Year's release of PVS-Studio 6.00: check Roslyn</a></li>
<li><a href="../273813/index.html">Balancing traffic between two NATs on different providers on the same cisco physical router</a></li>
<li><a href="../273815/index.html">A bit about container virtualization</a></li>
<li><a href="../273817/index.html">7 games in 7 days: rewarded video</a></li>
<li><a href="../273819/index.html">Electronic board of the bank and EDS: integration experience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>