<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Email gateway in 7 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="E-mail is still the main means of exchanging information both between company employees and with external customers. But popularity has another, not v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Email gateway in 7 minutes</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/dbe/526/b9c/dbe526b9c001c0291fba790effc85b2f.jpg"><br><br>  E-mail is still the main means of exchanging information both between company employees and with external customers.  But popularity has another, not very pleasant side - viruses and spam that interfere with work and jeopardize the security of the system.  The problem is not new, hundreds of solutions have already been developed: hardware and software, commercial and distributed under free licenses.  The choice of a particular product depends on the characteristics of the organization, the training of IT personnel and funding opportunities. <br><br>  Free solutions have traditionally been considered more complex to set up and require some experience.  Partially it is like this: to frighten a beginner, it‚Äôs enough to read the instructions for configuring Postfix, SpamAssassin and related developments.  But there is always a project whose developers offer ready-made settings that simplify implementation.  One of these solutions is Scrollout F1, the possibilities of which we will consider under the cut.  (many pictures) <br><a name="habracut"></a><br>  By definition, Scrollout F1 is a pre-configured and automatically configured antivirus and anti-spam mail gateway that is intended for use on Linux and Windows networks and is licensed under GNU GPL v2. <br>  Essentially, the product is a graphical user interface written in PHP and shell scripts with presets for a variety of open products -Postfix, getmail4, Razor, SpamAssassin, Pyzor, FuzzyOCR (picture spam), ClamAV, OpenSSL, MailGraph, RRDTool, iptables and others.  The basis of everything is Linux (officially supported by Debian and Ubuntu).  Based on this, the possibilities presented should be considered.  Here are just some of them: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      - anti-virus and anti-spam check of outgoing and incoming mail; <br>  - checking messages according to the white and black lists of providers (RBL ratings), blocking spam images; <br>  - geofiltration by IP of the sender, server, URL in the message and top-level domain (TLD); <br>  - TLS support; <br>  - checking incoming mail using DKIM and signing outgoing messages; <br>  - DLP for MS Word documents, Excel, PowerPoint, PDF and images; <br>  - The ability to create trap addresses to identify spam, easy learning spam filter; <br>  - backup mail to a special address; <br>  - and much more. <br><br>  Some functions provided by Scrollout F1 are not even indicated on the site, you will learn about them in the process of learning scripts.  For example, iptables rules set a limit on connections to ports 22 and 46, but presets are ready for others, just commenting is enough. <br><br>  A few words about the Lite DLP feature, which helps prevent the leakage of important documents.  The developers themselves do not call it a full-fledged DLP, so there is not much to demand from it.  It works on the following principle.  A shared SMB folder is created (using Windows or Samba), accessed by the company's department heads, and an account for Scrollout F1.  Two subdirectories will be automatically created in this folder: lock and unlock.  Scrollout F1 server analyzes all documents containing text (MS Office, PDF, etc.) and placed in lock, and if it finds a copy of one of them in the message, the transmission of the letter will be automatically blocked.  All archives are unpacked, files for analysis are converted to text. <br><br>  DLP sensitivity is set in the settings and allows you to intercept a document divided into several parts.  MD5 is used to block files that cannot be detected by the content filter and are rarely changed (for example, images, audio, video).  Accordingly, the white list and unlock documents are created by copying the file to unlock.  There are no complaints about the Lite DLP function, it is much more difficult to teach the staff to copy data to a folder, in addition, you need to provide great control over the shared resource. <br><br>  Developers do not position Scrollout F1.  But, obviously, it is quite suitable for organizations that have several mail domains, running old mail servers, which are not necessary or possible to update, but need to strengthen the protection of both the server and e-mail. <br><br>  The web interface is not localized, but there is no particular need for this.  Settings are minimal and do not require special explanations for a person who has previously encountered mail services. <br><br>  Installing Scrollout F1 is possible in two ways: on pure ‚Äúhardware‚Äù using a prepared ISO (based on Debian, 32-bit version only) or on ‚Äúpure‚Äù Debian / Ubuntu.  Minimum system requirements: CPU x86 / AMD64, 384 MB of RAM and 3 GB on the hard disk are sufficient for a relative not more traffic of 100 users.  Actual requirements should be selected based on the planned traffic, but the developers do not give recommendations. <br><br>  Installation on Debian / Ubuntu is no different.  You need to download the archive and run the script: <br><br><pre><code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /tmp $ wget http://sourceforge.net/projects/scrollout/files/update/scrolloutf1.tar/download -O scrolloutf1.tar $ tar -xvf scrolloutf1.tar $ chmod 755 /tmp/scrolloutf1/www/bin/* $ sudo /tmp/scrolloutf1/www/bin/install.sh</code> </pre> <br><br>  In the process, the script will download a number of packages from the repositories, the Scrollout F1 files will be copied to / var / www, the correct access rights will be set to them, the initial configuration of services will be made. <br><br>  It is easier to create a virtual machine and boot from an ISO image, in the process of setting, specify the IP address with the ability to access the Internet. <br><br>  <b>Web-based management Scrollout F1</b> <br>  For registration go to the address: <code><a href="http://host-ip/"></a> host-ip</code>  <code><a href="http://host-ip/"></a> host-ip</code> .  Login details are ‚Äúhidden‚Äù in the standard .htpasswd, and by default it is Admin and password 123456. After registration, you should immediately change it by going to the Secure -&gt; Password tab or use htpasswd. <br><br>  After registration, we get to the initial Scurity window (Secure -&gt; Levels), in which you need to select the level of operation of the system components: from aggressive (green sector) to resolving (Permissive, red sector). <br><br><img src="https://habrastorage.org/storage2/602/788/f7d/602788f7dc688f4200c6bcbdf0b02292.jpg"><br><br>  The main settings are located in five menus, the purpose of which is clear from the name: Connect, Route, Secure, Collect and Monitor.  Some of them have submenus.  Initially, it is necessary to change the network settings of the system. To do this, go to Connect, where we specify the host name, local IP, gateway IP and DNS server, as well as the DNS suffix. <br><br><img src="https://habrastorage.org/storage2/cb1/75f/419/cb175f41926bcfdb308d3c506b4fc38e.jpg"><br><br>  Now we are rebuilding the gateway so that the SMTP traffic goes through the Scrollout F1 server and is redirected to the internal mail servers. <br><br>  Accepted mail domains are added in the Route tab. <br><br><img src="https://habrastorage.org/storage2/aad/ada/c08/aadadac080e8a8cfe8ff9cda02d9cc95.jpg"><br><br>  Often, business partners are only in certain countries, so part of the spam that came from other regions can be eliminated by country of origin.  By default, Scrollout F1 does not perform geo-analysis and skips all mail.  The necessary settings are located in the menu Secure -&gt; Countries. <br><br><img src="https://habrastorage.org/storage2/5c5/2e5/eff/5c52e5eff8dc26689089193721324a64.jpg"><br><br>  The mailbox in which spam and legal messages will be collected (white list) is specified in the Mailbox field in Collect - SPAM &amp; LEGIT.  For access, you must specify the IMAP server and credentials, you should also specify the name of the folder for spam and normal emails.  Now throwing the appropriate messages in them, you can train filters.  Spam Traps field contains trap addresses (without domain name);  All messages sent here will always be marked as spam. <br><br><img src="https://habrastorage.org/storage2/f21/92f/c9a/f2192fc9af3801751380c20aa1add0b5.jpg"><br><br>  Pro Lite DLP wrote in detail <a href="https://habrahabr.ru/users/eafanasov/" class="user_link">eafanasov</a> in his <a href="http://habrahabr.ru/post/150227/">article</a> <br><br><img src="https://habrastorage.org/storage2/e87/370/aca/e87370acadcca7c66f3d72a3c78c26fc.jpg"><br><br>  Actually, these are all settings.  In addition, the event log viewer (filter is available) and workload graphs, visually showing the number of sent, received, discarded messages, spam and viruses, are implemented. <br><br><img src="https://habrastorage.org/storage2/0d0/ae9/f13/0d0ae9f130cf3e93289d0ee621e9049d.jpg"><br><br><img src="https://habrastorage.org/storage2/15c/0be/571/15c0be5710d33b520d611ed0d67f04b9.jpg"><br><br>  An introduction to Scrollout F1 shows that this is a simple and affordable solution that allows you to protect internal mail servers and block unwanted mail.  At the same time, the product does not require special administration skills. </div><p>Source: <a href="https://habr.com/ru/post/160359/">https://habr.com/ru/post/160359/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../160347/index.html">Crossbrowser CSS3 Reverse Background Animation</a></li>
<li><a href="../160351/index.html">Google is now responsible for the lies of users</a></li>
<li><a href="../160353/index.html">Introducing the Meizu MX2!</a></li>
<li><a href="../160355/index.html">GPL Vesta Server Control Panel</a></li>
<li><a href="../160357/index.html">A huge colony on Mars through the eyes of SpaceX founder Elon Mask</a></li>
<li><a href="../160361/index.html">TechEd Russia 2012 - Microsoft's largest online conference!</a></li>
<li><a href="../160363/index.html">And which task tracker do you use in a small team?</a></li>
<li><a href="../160365/index.html">EventMachine ‚áí collection of information from various sources with subsequent processing</a></li>
<li><a href="../160367/index.html">IBM launched an initiative to develop future power systems</a></li>
<li><a href="../160369/index.html">nanoCAD Heating 1.0 Beta - a new solution in the product line based on nanoCAD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>