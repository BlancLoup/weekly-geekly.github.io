<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to update your Facebook, LinkedIn & Twitter status using spring-social</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, I already wrote about the new project SpringSource: spring-social . Today I want to tell (or rather show an example) how to use this ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to update your Facebook, LinkedIn & Twitter status using spring-social</h1><div class="post__text post__text-html js-mediator-article">  Not so long ago, I already <a href="http://habrahabr.ru/blogs/java/108138/">wrote</a> about the new project SpringSource: <a href="http://www.springsource.org/spring-social">spring-social</a> .  Today I want to tell (or rather show an example) how to use this library.  As an example, we use the simplest application that allows you to log in to all three services and update the status at the same time in all three (caution - there are a lot of letters and code under the cut and there are no pictures at all). <br><img src="http://www.springsource.org/sites/all/themes/dotorg09/images/dotorg09_logo.png" alt="image"><img src="http://a3.twimg.com/a/1290538325/images/about-birds.png" alt="image"><img src="http://press.linkedin.com/sites/default/files/logo.jpg" alt="image"><img src="http://creative.ak.fbcdn.net/ads3/flyers/44/53/6002232161934_4_46410650.png" alt="image"><br><a name="habracut"></a><br>  The status update was taken as an example because: <br>  * it is simple and clear; <br>  * This function is not supported by spring-social for LinkedIn, that is, you can see how to add the implementation of API methods of services that are not implemented in spring-social by default. <br>  In principle, any other functionality can be in place of the status update. <br><br>  The developers themselves are advised to look at their GreenHouse application as an example of using the library - but the application is quite large and isolating the ‚Äúsocial‚Äù part is not so easy.  It was also published a couple of examples - but rather primitive - not giving a "complete picture."  That's why I decided to write a small example (to figure it out myself and show it to others) which, on the one hand, would represent with myself some complete example from login to service to sending status, and on the other hand it would be as simple as possible.  Because - I'm sorry that html is naked without any styles - plus the java-code is not ‚Äúbeautiful‚Äù everywhere - in some places the code could be done ‚Äúmore correctly‚Äù, for example, by inheritance, but it would ‚Äúzymylylo‚Äù example - would have to deal with additional class hierarchy. <br><br>  This post is a free translation of my <a href="http://www.emforge.net/web/akakunin/blogs/-/blogs/update-status-in-facebook-twitter-and-linkedin-with-spring-social">English-language post</a> . <br>  All sources are available in svn: <a href="http://svn.emforge.net/svnroot/akakunin-experiments/update-status">http://svn.emforge.net/svnroot/akakunin-experiments/update-status</a> <br>  Sources can also be viewed on <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26p_p_col_id%3Dcolumn-1%26p_p_col_count%3D1%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status">the EmForge website.</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Basic application </h4><br>  As a ‚Äúbase‚Äù we use the simplest application on the spring framework and spring-mvc.  This application uses the standard gentleman's set: <br>  * Maven to build; <br>  * Spring Framework 3.0.5; <br>  * Spring-Security 3.0.5; <br>  * JPA (via Hibernate); <br>  * HSQL as a base. <br><br>  In principle, everything is as standard and simple as possible.  There is a single Entity - <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fentity%252FUser.java">net.emforge.updatestatus.entity.User</a> - which stores users (userName, password).  For each user, the tokens are also saved, which are used to work with each of the services. <br>  There is a DAO class <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fdao%252FUserDao.java">UserDao</a> , and a <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fservice%252FUserServiceImpl.java">UserServiceImpl</a> service. <br>  The application has two pages - the main (index) with a form for login and registration (processed by <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fcontroller%252FUserController.java">UserController</a> ), and the status page is accessible only to logged in users - we'll talk about it later. <br><br>  All together, this is the simplest application where a user can register or log in, and on the status page connect with one of the services and update the status. <br><br><h4>  Application registration </h4><br>  In order for this example to work, you will first need to register your application with the services you intend to use: <br>  * Registration on Facebook is carried out on page <a href="http://developers.facebook.com/setup/">http://developers.facebook.com/setup/</a> - only please use <a href="http://localhost/">localhost</a> : 8080 / update-status / as SiteURL - otherwise the callback will not work; <br>  * Sign up for Twitter: <a href="http://dev.twitter.com/apps/new">http://dev.twitter.com/apps/new</a> ; <br>  * Register on LinkedIn: <a href="https://www.linkedin.com/secure/developer">https://www.linkedin.com/secure/developer</a> <br><br>  In each case, you will receive two keys - the application key (or application id) &amp; security-token - they should be saved in <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fresources%252Fconfig.properties">src / main / resources / config.properties</a> <br><br><h4>  Run Quick </h4><br>  If you want to quickly see how it works and you have java &amp; maven (I hope that this is so :)), then just take the source from svn and execute (after you write your keys in config.properties) <br> <code>mvn tomcat:run <br></code> <br>  After that, the application should be available at <a href="http://localhost:8080/update-status">http: // localhost: 8080 / update-status</a> <br>  Create a new user - and go ahead, and we will see how it is all implemented <br><br><h4>  Connect on LinkedIn and Twitter </h4><br>  To work with both services, OAuth is used and the connection procedure is similar - so I'll show you with a twitter example. <br>  To work with the service, we write the simplest class <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fsocial%252FTwitterProvider.java">TwitterProvider the</a> main method in which is getOAuthService: <br><blockquote> <code><font color="black"><font color="#0000ff">public</font> OAuthService getOAuthService() { <br> OAuthConfig config = <font color="#0000ff">new</font> OAuthConfig(); <br> config.setRequestTokenEndpoint( <font color="#A31515">"https://api.twitter.com/oauth/request_token"</font> ); <br> config.setAccessTokenEndpoint( <font color="#A31515">"https://api.twitter.com/oauth/access_token"</font> ); <br> config.setAccessTokenVerb(Verb.POST); <br> config.setRequestTokenVerb(Verb.POST); <br> config.setApiKey(apiKey); <br> config.setApiSecret(apiSecret); <br> config.setCallback(callbackUrl); <br> <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> OAuth10aServiceImpl( <br> <font color="#0000ff">new</font> HMACSha1SignatureService(), <br> <font color="#0000ff">new</font> TimestampServiceImpl(), <br> <font color="#0000ff">new</font> BaseStringExtractorImpl(), <br> <font color="#0000ff">new</font> HeaderExtractorImpl(), <br> <font color="#0000ff">new</font> TokenExtractorImpl(), <br> <font color="#0000ff">new</font> TokenExtractorImpl(), <br> config); <br> }</font> <br></code> </blockquote><br>  <b>apiKey,</b> <b>apiSecret</b> &amp; <b>callbackUrl are</b> injected from config.properties (where we first write from). <br><br>  For the connection, add the link <b>/ connet / twitter</b> and hang the handler (in <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fcontroller%252FSocialController.java">SocialController</a> ): <br><blockquote> <code><font color="black">@RequestMapping(value = <font color="#A31515">"/connect/twitter"</font> , method = RequestMethod.GET) <br> <font color="#0000ff">public</font> String requestConnectionToTwitter(WebRequest request) { <br> <font color="#008000">// get request token</font> <br> Token requestToken = twitterProvider.getOAuthService().getRequestToken(); <br> <font color="#008000">// store request token in session</font> <br> request.setAttribute( <font color="#A31515">"twitter_request_token"</font> , requestToken, WebRequest.SCOPE_SESSION); <br> <br> <font color="#0000ff">return</font> <font color="#A31515">"redirect:"</font> + twitterProvider.getAuthorizeUrl() + <font color="#A31515">"?oauth_token="</font> + requestToken.getToken(); <br> }</font> <br></code> </blockquote><br><br>  In essence, this handler redirects to Twitter in order to pass the login in it.  In the case of a successful login, Twitter will redirect to callbackUrl and transfer the user's keys there.  Let's hang up the handler for callBack in SocialController: <br><blockquote> <code><font color="black"><font color="#008000">/** Callback from twitter on success login</font> <br> <font color="#008000">*</font> <br> <font color="#008000">* @param verifier</font> <br> <font color="#008000">* @param request</font> <br> <font color="#008000">* @return</font> <br> <font color="#008000">*/</font> <br> @RequestMapping(value = <font color="#A31515">"/callback/twitter"</font> , method = RequestMethod.GET, <font color="#0000ff">params</font> = <font color="#A31515">"oauth_token"</font> ) <br> <font color="#0000ff">public</font> String authorizeTwitterCallback(@RequestParam(value = <font color="#A31515">"oauth_verifier"</font> , defaultValue = <font color="#A31515">"verifier"</font> ) String verifier, <br> WebRequest request) { <br> <font color="#008000">// get request token from session</font> <br> Token requestToken = (Token)request.getAttribute( <font color="#A31515">"twitter_request_token"</font> , WebRequest.SCOPE_SESSION); <br> <br> <font color="#008000">// get access token</font> <br> Token accessToken = twitterProvider.getOAuthService().getAccessToken(requestToken, <font color="#0000ff">new</font> Verifier(verifier)); <br> String userName = getCurrentUser().getName(); <br> userService.updateTwitterAuthentication(userName, accessToken.getToken(), accessToken.getSecret()); <br> <br> <font color="#0000ff">return</font> <font color="#A31515">"redirect:/status"</font> ; <br> <br> } <br></font></code> </blockquote><br>  In this handler, we get the tokens and save them to the user for future use. <br><br><h4>  Facebook Connect </h4><br>  On Facebook, things are a little trickier.  In order to connect to Facebook we place the button ‚ÄúConnect to Facebook‚Äù on our <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fwebapp%252FWEB-INF%252Fviews%252Fstatus.jsp">status.jsp</a> page using the following code: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">id</font> <font color="#0000ff">="fb_signin"</font> <font color="#ff0000">action</font> <font color="#0000ff">="&lt;c:url value="</font> / <font color="#ff0000">connect</font> / <font color="#ff0000">facebook</font> " <font color="#0000ff">/&gt;</font> " method="post" <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="formInfo"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="fb-root"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">fb:login-button</font> <font color="#ff0000">perms</font> <font color="#0000ff">="email,publish_stream,offline_access"</font> <font color="#ff0000">onlogin</font> <font color="#0000ff">="$('#fb_signin').submit();"</font> <font color="#ff0000">v</font> <font color="#0000ff">="2"</font> <font color="#ff0000">length</font> <font color="#0000ff">="long"</font> <font color="#0000ff">&gt;</font> Connect to Facebook <font color="#0000ff">&lt;/</font> <font color="#800000">fb:login-button</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">facebook:init</font> <font color="#0000ff">/&gt;</font></font> <br></code> </blockquote><br>  It is important to pay attention to the following points: <br>  * <b>facebook: init</b> tag is implemented in the spring-social library and it needs a <b>$ {facebookProvider}</b> bin in the context of the spring context - we have it implemented in the <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fsocial%252FFacebookProvider.java">FacebookProvider</a> class.  In fact, the tag takes only keys from this bin; <br>  * <b>fb: login-button</b> generates the "Connect to Facebook" button; <br>  * form-action <b>/ connect / facebook</b> will be used as a callback in case of a successful login. <br><br>  Just for this code to work it is necessary to connect tagLib <br> <code>&lt;%@ taglib uri="http://www.springframework.org/spring-social/facebook/tags" prefix="facebook" %&gt; <br></code> <br>  and connect jQuery - in my case I just did <br> <code><br></code> <br><br>  Well, you need to write a callback handler that will come to / connect / facebook: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@RequestMapping(value= <font color="#A31515">"/connect/facebook"</font> , method=RequestMethod.POST) <br> <font color="#0000ff">public</font> String connectAccountToFacebook(@FacebookAccessToken String accessToken, <br> <font color="#0000ff">@FacebookUserId</font> String facebookUserId) { <br> <font color="#0000ff">if</font> (facebookUserId != <font color="#0000ff">null</font> &amp;&amp; accessToken != <font color="#0000ff">null</font> ) { <br> <font color="#008000">// store facebook information</font> <br> String userName = getCurrentUser().getName(); <br> userService.updateFacebookAuthentication(userName, accessToken, facebookUserId); <br> } <br> <font color="#0000ff">return</font> <font color="#A31515">"redirect:/status"</font> ; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  In this example, we will see two interesting annotations: @FacebookAccessToken and @FacebookUserId is one of the spring-social features, but in order for it to work, we need to add a special WebArgResolver to the project.  To do this, add to <a href="http://www.emforge.net/web/akakunian-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fwebapp%252FWEB-INF%252Fspring%252FapplicationContext.xml">applicationContext.xml</a> : <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">bean</font> <font color="#ff0000">id</font> <font color="#0000ff">="facebookWebArgResolver"</font> <font color="#ff0000">class</font> <font color="#0000ff">="org.springframework.social.facebook.FacebookWebArgumentResolver"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">constructor-arg</font> <font color="#ff0000">name</font> <font color="#0000ff">="apiKey"</font> <font color="#ff0000">value</font> <font color="#0000ff">="${facebook.appId}"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">bean</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Handling callback is similar to Tiwtter &amp; Linkedin - saving keys (in our case, facebookUserId &amp; facebookToken) for further use. <br><br><h4>  Posting status on Twitter &amp; Facebook </h4><br>  Log out, logged in, now you can update the status.  On the status page, we have a textArea where the user enters text and sends a message.  The form handler looks like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@RequestMapping(value = <font color="#A31515">"/status"</font> , method = RequestMethod.POST) <br> <font color="#0000ff">public</font> String sendStatus(@Valid StatusForm statusForm, BindingResult result, ModelMap modelMap) { <br> User user = getCurrentUser(); <br> <br> LinkedInTemplateExt linkedInTemplate = linkedInProvider.createTemplate(user); <br> FacebookTemplate facebookTemplate = facebookProvider.createTemplate(user); <br> TwitterTemplate twitterTemplate = twitterProvider.createTemplate(user); <br> <br> <font color="#008000">// send message to LinkedIn</font> <br> <font color="#0000ff">if</font> (linkedInTemplate != <font color="#0000ff">null</font> ) { <br> linkedInTemplate.updateStatus(statusForm.getStatus()); <br> } <br> <br> <font color="#008000">// send message to Facebook</font> <br> <font color="#0000ff">if</font> (facebookTemplate != <font color="#0000ff">null</font> ) { <br> facebookTemplate.updateStatus(statusForm.getStatus()); <br> } <br> <br> <font color="#008000">// send message to Twitter</font> <br> <font color="#0000ff">if</font> (twitterTemplate != <font color="#0000ff">null</font> ) { <br> twitterTemplate.updateStatus(statusForm.getStatus()); <br> } <br> <font color="#0000ff">return</font> <font color="#A31515">"redirect:/status"</font> ; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  In this handler, we get the <b>FacebookTemplate</b> &amp; <b>TwitterTemplate</b> (both classes from spring-social) using the keys of the current user and call their <b>updateStatus</b> method <br><br><h4>  Posting LinkedIn Status </h4><br>  LinkedIn got a little more complicated - the LinkedInTemplate implemented in spring-social does not contain a method for updating the status - so we have to write it ourselves (using the REST-API call <a href="http://api.linkedin.com/v1/people/~/person-activities">api.linkedin.com/v1/people/~/person -activities</a> ).  To do this, we write the class <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fsocial%252Flinkedin%252FLinkedInTemplateExt.java">LinkedInTemplateExt</a> - the successor of the ‚Äúoriginal‚Äù LinkedInTemplate in which: <br>  * Initialize our own object of the <b>RestOperations</b> class - using the special OAuth1RequestSignerFactory.getRequestSigner for ‚Äúcorrect‚Äù call coding (another spring-social feature); <br>  * Implement the updateStatus method itself: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> updateStatus(String message) { <br> LinkedInPersonActivity personActivity = <font color="#0000ff">new</font> LinkedInPersonActivity(message); <br> <br> restOperationsExt.postForLocation( <font color="#A31515">"http://api.linkedin.com/v1/people/~/person-activities"</font> , personActivity); <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  we also need to write a class <a href="http://www.emforge.net/web/akakunin-experiments/sources%3Fp_p_id%3Dscmportlet_WAR_emforgeportlet%26p_p_lifecycle%3D0%26p_p_state%3Dmaximized%26p_p_mode%3Dview%26_scmportlet_WAR_emforgeportlet_action%3Dfile_view%26_scmportlet_WAR_emforgeportlet_path%3Dupdate-status%252Fsrc%252Fmain%252Fjava%252Fnet%252Femforge%252Fupdatestatus%252Fsocial%252Flinkedin%252FLinkedInPersonActivity.java">LinkedInPersonActivity</a> - to pass the status: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@XmlRootElement(name = <font color="#A31515">"activity"</font> ) <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> LinkedInPersonActivity { <br> <font color="#0000ff">public</font> LinkedInPersonActivity() { <br> } <br> <font color="#0000ff">public</font> LinkedInPersonActivity(String body) { <br> <font color="#0000ff">this</font> .body = body; <br> } <br> <br> @XmlElement(name = <font color="#A31515">"content-type"</font> ) <br> String contentType = <font color="#A31515">"linkedin-html"</font> ; <br> <br> @XmlElement(name = <font color="#A31515">"body"</font> ) <br> String body; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Everything - the method is ready - as you can see - despite the fact that LinkedInTemplate initially supports very few functions from the API - adding new functions is not such a difficult task. <br><br>  That's all - I hope this example will be useful. </div><p>Source: <a href="https://habr.com/ru/post/108824/">https://habr.com/ru/post/108824/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../108813/index.html">Zip zip: hooray! Or - Dump the archive</a></li>
<li><a href="../108815/index.html">Release Version: debugging is just beginning ...</a></li>
<li><a href="../108817/index.html">New materials on ASP.Net in Russian (150 articles)</a></li>
<li><a href="../108820/index.html">Installing an unsupported Wifi card in the HP Pavilion dv6-1319er</a></li>
<li><a href="../108823/index.html">Apache will breathe new life into Google Wave</a></li>
<li><a href="../108828/index.html">The release of the second part of the book "Smashing Magazine": add yourself to the book!</a></li>
<li><a href="../108831/index.html">NLP: spell check - an inside look (part 1)</a></li>
<li><a href="../108833/index.html">Configuring Active / Passive PostgreSQL Cluster using Pacemaker, Corosync, and DRBD (CentOS 5.5)</a></li>
<li><a href="../108835/index.html">Local Linux kernel vulnerability (and more), DoS</a></li>
<li><a href="../108837/index.html">A project at the idea stage? (thinking out loud)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>