<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic backlight for TV</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√©, they like to watch TV , a monitor , a laptop and even a phone with a backlight. 
 The variant proposed below differs from those already cons...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic backlight for TV</h1><div class="post__text post__text-html js-mediator-article">  On Habr√©, they <a href="http://habrahabr.ru/blogs/DIY/80359/">like</a> to watch <a href="http://habrahabr.ru/blogs/DIY/131009/">TV</a> , a <a href="http://habrahabr.ru/blogs/DIY/114291/">monitor</a> , a <a href="http://habrahabr.ru/blogs/DIY/100085/">laptop</a> and even a <a href="http://habrahabr.ru/blogs/DIY/86726/">phone</a> with a backlight. <br>  The variant proposed below differs from those already considered in that the backlight turns on automatically, does not require a change in the design of the TV, and can work as an emergency lighting. <br>  Among the shortcomings it should be noted that the backlight is static, it takes time to install and configure for specific equipment. <br><br><a name="habracut"></a><br><br><h2>  Formulation of the problem </h2><br>  So, we need a backlight, which turns on when the room is dark enough and the TV is on, it burns in full, when the TV does not work, but the room is very dark and someone walks along it.  In all other cases, the backlight should be turned off.  <b>Restrictions</b> : equipment on a guarantee - it is impossible to climb inside. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Decision </h2><br>  To determine the mode of operation of the TV, we will be using this thing here: <br><br><img src="https://habrastorage.org/storage1/34e43ec1/d5952d02/542454f2/6a940c42.png"><br>  <i>TAK12-02 High-frequency Pulse Current Transformer</i> <br><br>  The device allows, by pushing one of the power wires into the hole, to remove the induced current from the contacts, and by its magnitude to make a conclusion about the mode of operation of the TV.  Suppose that for a TV in sleep mode, the current consumption will be significantly lower than in the active one.  Illumination will be measured by the <a href="http://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2582%25D0%25BE%25D1%2580%25D0%25B5%25D0%25B7%25D0%25B8%25D1%2581%25D1%2582%25D0%25BE%25D1%2580">photoresistor</a> aka LDR, fixing around the room with the help of <a href="http://www.seeedstudio.com/depot/pir-motion-sensor-module-p-74.html%3FcPath%3D144_149">PIR</a> , <a href="http://www.arduino.cc/en/Main/ArduinoBoardProMini">arduinka</a> will control everything.  The scheme turned out this: <br><br><img src="https://habrastorage.org/storage1/601f661a/f259d9da/b572135e/93727f18.jpg"><br>  <i>Backlight wiring diagram</i> <br><br><h2>  Implementation </h2><br>  The backlight is an LED strip pasted on a plastic corner.  While he just lies behind the TV, then screw it to the wall. <br><br><img src="https://habrastorage.org/storage1/dd1ee646/e60a0311/98b9418f/172bc2aa.jpg"><br>  <i>Backlight</i> <br><br><img src="https://habrastorage.org/storage1/906b0710/40c161ba/b3e86c7d/269a2b0c.jpg"><br>  <i>Ready device</i> <br><br>  After the first test launches, I was waiting for <s>epic fail a</s> little disappointment - it turned out that the plasma TV was falling asleep very hard - it might take him up to half an hour (see the chart below).  In addition, he is very anxious asleep, waking up every 2-3 hours for 15-20 minutes. <br><br><img src="https://habrastorage.org/storage1/46536b7c/ba021396/de6bb702/6a59dc07.png"><br>  <i>Panasonic TX-P50G30 goes to sleep.</i>  <i>The Y axis is the current in parrots, the X axis is the time in seconds x2.</i> <br><br>  All this, plus the cat on which the PIR worked, led to the fact that in the living room all the night light worked.  But given that the TV is only used in conjunction with a tuner, and he has less sleep problems, the problem was solved, though not as beautiful as planned.  It was possible to reduce the influence of kote on the system by sealing the bottom of the PIR. <br><br><img src="https://habrastorage.org/storage1/3bd7a848/8405aa25/5d02e9f2/049bb4ea.jpg"><br>  <i>Refined backlight wiring diagram</i> <br><br><img src="https://habrastorage.org/storage1/6283d05a/278fc5ba/c336f992/be16e5e2.png"><br>  <i>Current consumption tuner.</i>  <i>The Y axis is the current in parrots, the X axis is the time in minutes.</i> <br><br>  As can be seen in the picture above, the tuner, unlike the TV, immediately goes into sleep mode, which is noticeable by the decrease in current.  The tuner also has moments of extreme power consumption, marked on the ‚Äúburst‚Äù chart, at which they can occur both in sleep and active modes.  In order to increase the reliability of determining the mode of operation, the flow of measurements was divided into series of 3 minutes, for each series was considered the mean value (SOC) and the standard deviation (SD).  We took into account only the values ‚Äã‚Äãof the series with a small SKO and NW not falling into the ‚Äúburst‚Äù zone.  All of this allowed, with a delay, but rather accurately determining the mode of operation of the tuner. <br><br>  Expenses: <br><table><tbody><tr><td>  TAK12-02 </td><td>  $ 5 </td></tr><tr><td>  1m led strip </td><td>  $ 11 </td></tr><tr><td>  Harduinka </td><td>  $ 10 </td></tr><tr><td>  Power Supply </td><td>  $ 8 </td></tr><tr><td>  PIR </td><td>  $ 6 </td></tr><tr><td>  Cables, connectors, housing, prototyping board, Circuits, wires, svetodidy, etc. </td><td>  $ 15 </td></tr><tr><td>  <b>Total</b> </td><td>  <b>$ 55</b> </td></tr></tbody></table><br>  In circuit design, I am not strong, the details were taken on the principle of "what is", I will be grateful for comments and additions: <br><img src="https://habrastorage.org/storage1/d96e0d99/d1cd5017/6a918a02/f296d61b.jpg"><br>  <i>Electrical circuit, not the principal.</i> <br><br>  Arduino sketch can be found <a href="http://shorttext.com/5CdbPB">here</a> . <br><br><h2>  findings </h2><br><ul><li>  The idea to determine the mode of operation of the device for power consumption, in practice, was not so good.  The cumbersome algorithm, a significant lag in the work, the need for fine-tuning, make the commercial implementation of the Idea impossible, but as a project hobby it has the right to life. <br></li><li>  Energy statistics collected during the work gives reason to think about what household appliances do with sleep mode, especially if it is connected to the Internet. <br></li></ul><br><br><img src="https://habrastorage.org/storage1/06bf5ec1/9d915dde/2df43641/b9cc06ca.jpg"><br>  <i>Device assembly.</i> <br><img src="https://habrastorage.org/storage1/d9650b65/53f90cf9/b2c6422b/ada12fed.jpg"><br>  <i>Backlight in the work.</i> <br><br>  <u>Update.</u> <br><ul><li>  The <a href="http://geektimes.ru/users/ploop/" class="user_link">sharp-sighted ploop</a> noticed a mistake in the electrical circuit, thanks, corrected. </li><li>  Took into account the fair remark of <a href="http://geektimes.ru/users/ocelot/" class="user_link">Ocelot</a> and slightly changed the name of the topic. </li><li>  Added a picture of the TV with working lights, just as an illustration of the fact that by throwing the LED tape behind the TV you can exalt the comfort of viewing.  I will not do the video - in my opinion for static lighting it is not informative. </li><li>  Transferred to DIY, thanks for the karma. </li></ul><br>  <a href="http://geektimes.ru/users/now/" class="user_link">now</a> suggested replacing TAK12-02 with an ACS712 chip.  The devices are similar in price but the ACS712 works more precisely. <br><br>  Since the idea of ‚Äã‚Äãcontrolling the current consumption is not an ideal way to determine the mode of the TV, I conclude with co- <a href="http://geektimes.ru/users/ploop/" class="user_link">author ploop</a> , <a href="http://geektimes.ru/users/biggestfruit/" class="user_link">biggestfruit</a> , <a href="http://geektimes.ru/users/obramko/" class="user_link">Obramko</a> , <a href="http://geektimes.ru/users/raja/" class="user_link">RaJa</a> , <a href="http://geektimes.ru/users/mmib/" class="user_link">mmib</a> , <a href="http://geektimes.ru/users/ocelot/" class="user_link">Ocelot</a> , <a href="http://geektimes.ru/users/eldarmusin/" class="user_link">eldarmusin</a> , <a href="http://geektimes.ru/users/arezus/" class="user_link">Arezus</a> , <a href="http://geektimes.ru/users/misterx/" class="user_link">MisterX</a> , <a href="http://geektimes.ru/users/tamahome/" class="user_link">Tamahome</a> and other respected commentators on the following table. <br><br><br><h2>  Alternatives </h2><br><table><tbody><tr><th>  Way </th><th>  Virtues </th><th>  disadvantages </th></tr><tr><td>  Submerge to status LED </td><td>  reliably </td><td>  <s>unsportsmanlike,</s> you must open the TV </td></tr><tr><td>  Put the OP to control the status LED </td><td>  reliably </td><td>  changing the front panel of the TV - not aesthetically pleasing </td></tr><tr><td>  Catching pickups with a sweep of a plasma TV using an antenna placed behind the screen </td><td>  <s>cool,</s> no need to pull the wires to the TV </td><td>  research is needed, only suitable for plasma </td></tr><tr><td>  Control the temperature of the TV </td><td>  simplicity, reliability </td><td>  delay in detection, additional wires from the sensor, perhaps only suitable for plasma </td></tr><tr><td>  Analyze the presence of a signal on one of the wires included in the SCART connector </td><td>  simplicity, reliability </td><td>  research is needed, one of the connectors will be busy, additional wires </td></tr><tr><td>  Put the OP in front of the TV and determine the screen glow </td><td>  If you put a matrix from the OP, you can organize a full ambient light </td><td>  additional wires, placement complexity, need for an additional optical system </td></tr><tr><td>  Catch the IR signal on the on-off TV </td><td>  simplicity, minimum wires </td><td>  no feedback - malfunctions are possible </td></tr><tr><td>  Monitor the availability of power on the USB port </td><td>  simplicity, reliability </td><td>  not suitable for all TVs, takes a USB port, additional wires </td></tr><tr><td>  Analyze the current consumed by the TV </td><td>  minimum of wires </td><td>  complex algorithm, the delay in determining not applicable to all TVs </td></tr></tbody></table><br><br>  <u>Update 2.</u> <br>  Practice has shown that the Hall effect ACS712 microcircuit measures the current much more accurately than the TAK12-02 transformer.  Therefore, its use is preferable. <br><img src="https://habrastorage.org/storage2/588/c9b/121/588c9b1210edf1e5e77404d2f7432ef2.png"><br>  <i>The signal from the ACS712 when measuring current consumption by a computer.</i>  <i>0 corresponds to a voltage of 2.5V</i> </div><p>Source: <a href="https://habr.com/ru/post/132852/">https://habr.com/ru/post/132852/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132846/index.html">Eradicate piracy in 7 days</a></li>
<li><a href="../132847/index.html">Cloud4Y has launched a new cloud!</a></li>
<li><a href="../132848/index.html">Efficiency of antivirus companies or the history of a single virus report</a></li>
<li><a href="../132850/index.html">Robots for agriculture</a></li>
<li><a href="../132851/index.html">X Neural Switcher - Cookbook (Part 2). Algorithms</a></li>
<li><a href="../132855/index.html">Asynchronous Cramped ruby ‚Äã‚Äãframework: architecture and usage</a></li>
<li><a href="../132856/index.html">Flash vs HTML5. Our version</a></li>
<li><a href="../132857/index.html">College IT infrastructure. What is, what I would like and how to</a></li>
<li><a href="../132858/index.html">Tomorrow the Internet will start to die.</a></li>
<li><a href="../132859/index.html">ITJump 2011 competition ended - $ 40,000 prize pool</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>