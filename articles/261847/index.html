<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Adaptive carousel on AngularJS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probably every novice web developer should write a curve, with a bunch of crutches, but his own carousel. This material will help to deal with some of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Adaptive carousel on AngularJS</h1><div class="post__text post__text-html js-mediator-article">  Probably every novice web developer should write a curve, with a bunch of crutches, but his own carousel.  This material will help to deal with some of the subtleties of the framework and will show the reader how to make a carousel "angular way". <br>  <b>Carousel</b> - a web-interface element that alternately shows the user in advance prepared slides with information. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fcd/c9f/943/fcdc9f943009174da539d731b8fba0c2.gif" alt="carousel example"><br><br>  The finished project can be viewed <a href="https://github.com/EugeneSnihovsky/angular-carousel">here</a> . <br><a name="habracut"></a><br>  The idea of ‚Äã‚Äãour carousel is: it is nice to build cards on the screen in two levels using the css <a href="http://htmlbook.ru/css/z-index">z-index</a> property and alternately changing the css position of the cards with animation changes using the <a href="http://htmlbook.ru/css/transition">transition</a> property. <br>  <b>The CSS file</b> will look like this: <br><div class="spoiler">  <b class="spoiler_title">view CSS</b> <div class="spoiler_text"><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">el-carousel</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.el-card</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(141, 141, 141, 0.5); <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">#e0e0e0</span></span> solid; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>:<span class="hljs-number"><span class="hljs-number">1px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4px</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(107, 108, 40, 0.25), <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(183, 183, 183, 0.6); <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transition</span></span>: all <span class="hljs-number"><span class="hljs-number">1s</span></span> ease-in-out; <span class="hljs-attribute"><span class="hljs-attribute">-moz-transition</span></span>: all <span class="hljs-number"><span class="hljs-number">1s</span></span> ease-in-out; <span class="hljs-attribute"><span class="hljs-attribute">-o-transition</span></span>: all <span class="hljs-number"><span class="hljs-number">1s</span></span> ease-in-out; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: all <span class="hljs-number"><span class="hljs-number">1s</span></span> ease-in-out; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.2</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: pointer; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">65%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">23%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">6%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">1%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-2</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">70%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">25%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">2%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-3</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">70%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">25%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">2%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.8</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-4</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">84%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">30%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">35%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(141, 141, 141, 0.7); } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-5</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">70%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">25%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">73%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.8</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-6</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">70%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">25%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">73%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-7</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">65%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">23%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">70.5%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">1%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-8</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">77%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">27%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">33%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">8%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sm-el-card-hide</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">77%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">27%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">33%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">8%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-4</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">57%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">2%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.6</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-5</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">71%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">16%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">20.5%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">11%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.8</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-6</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">84%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">19%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">40.5%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(141, 141, 141, 0.7); } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-7</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">71%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">16%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">63.75%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">11%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.8</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-8</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">57%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">84%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.6</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-9</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">57%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">84%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-10</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">67%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">15%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">62%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">78%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">18%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">38.7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">9.5%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-2</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">67%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">15%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">18.7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-3</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">57%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">2%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.md-el-card-hide</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">78%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">18%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">38.7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">9.5%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">78.7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">15%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">40.5%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">10%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-2</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">65%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">13%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">23.5%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-3</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">52%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">11%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">9%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">3%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-4</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">33%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">1%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">4%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.4</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-5</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">57%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">12%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">10%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.6</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-6</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">71%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">25%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">11%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.8</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-7</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">84%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">16%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">42%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(141, 141, 141, 0.7); } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-8</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">71%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">14%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">61%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">11%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.8</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-9</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">57%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">12%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">78%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.6</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-10</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">33%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">91.32%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">4%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.4</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-11</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">52%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">11%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">77%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">3%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-12</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">65%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">13%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">59.5%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">7%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.el-carousel</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.lg-el-card-hide</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">78.7%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">15%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">40.5%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">10%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br></div></div><br>  Since the carousel is adaptive - all parameters of size and position are defined as a percentage. <br>  So, let's try to implement our angular-way carousel.  In order for each carousel card to have a unique pattern and action, we will use the directive and the factory. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Consider a factory</b> <br>  In the closure, we will store two arrays: <br><ul><li>  <b>list</b> - an array of html card templates, </li><li>  <b>action</b> - an array of actions when clicking on the card. </li></ul><br>  The factory provides two methods <b>addCard</b> and <b>addAction</b> , which add to the arrays of the html-template and the function that should be executed when clicked, respectively.  The <b>addCard</b> function accepts a second, optional parameter as input, which, when the logical value is true, allows promis.  This is a kind of crutch, which I will discuss a little later. <br>  Separately, I note a secure connection dependencies.  Without going into details, the names of the connected dependencies cannot be changed, since this completely breaks the code when it is minified.  Therefore, a secure connection of dependencies is provided in Angular - instead of the factory / controller / directive function, an array is transmitted, the first elements of which specify the string names of the dependencies, and the last function itself with the dependencies connected.  In this case, the minification of the code is not terrible for us, however, we must not forget that the order of listing the string dependencies in the array must coincide with the order of connecting the dependencies to the function. <br><div class="spoiler">  <b class="spoiler_title">view factory code</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span>; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ angular.module(<span class="hljs-string"><span class="hljs-string">'carousel'</span></span>) .factory(<span class="hljs-string"><span class="hljs-string">'card'</span></span>, [<span class="hljs-string"><span class="hljs-string">'$q'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$q</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> list = [], action = [], done = $q.defer(); <span class="hljs-comment"><span class="hljs-comment">//    function addCard(card, last) { if(typeof card === 'object' &amp;&amp; card.length &gt; 0) { list.push(card); if(last) { done.resolve(); } } } //       function addAction(foo) { action.push(foo); } //      ,   return { addCard: addCard, addAction: addAction, list: list, action: action, done: done.promise }; }]); })();</span></span></code> </pre><br></div></div><br>  <b>The directive of the html-card template</b> <br>  It's simple.  For the directive, an isolated scop is set with three parameters forwarded through the attributes of the element on which the directive is installed. <br>  I note that for convenience in the directives, you can change the names of the parameters passed.  The key in the scop object indicates a convenient name to use, and in its field, after specifying the type of forwarding (=, @, &amp;), the name of the element attribute.  If an attribute of an element is double, for example last-card, then in the name of the element it is indicated in the form of camel notation lastCard. <br>  The <b>action</b> parameter is forwarded through <b>&amp;</b> - this means that the expression is accepted as input, in our case, the function of clicking on the card. <br>  The <b>item</b> and <b>last</b> parameters are forwarded through <b>=</b> , i.e.  a certain value is taken as input, which can be specified both explicitly in the attribute value, and defined by the variable of the loop in which the directive is located and passed to the attribute of the variable element. <br>  These parameters are necessary in the case when we do not want to create a separate template for each card, but make one template and clone it using the ng-repeat directive.  The <b>item</b> parameter is passed the current data object obtained using <i>ng-repeat</i> .  The <b>last</b> parameter is passed a special value of <i>$ last</i> , to which the <i>ng-repeat</i> directive will be set to <b>true</b> if the object from the array under consideration for cloning is the last one. <br>  To get the html template (actually the internal contents of the directive), you need to set the <b>transclude</b> parameter to <b>true</b> .  In this case, the fifth parameter appears in the linking function of the directive ( <i>link</i> ), which is the transclusion function.  I note that the purpose of this function is wider, but in this case it is used only to get the internal contents of the directive. <br>  It is time to substantiate the use of a crutch with the explicit definition of the last cloning element of <i>$ last</i> .  The fact is that a user directive with <i>transclude</i> paired with <i>ng-repeat</i> works specifically.  This is due to the sequence of operations: first, angular clones the element template, then the other directives with lower priority are executed, including custom ones, and only after that the cloned templates are filled with values ‚Äã‚Äãfrom the scopa.  Therefore, unless you explicitly indicate that ng-repeat has done its job - the carousel will not display cards with the contents of the cloned elements. <br><div class="spoiler">  <b class="spoiler_title">view directive code</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span>; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ angular.module(<span class="hljs-string"><span class="hljs-string">'carousel'</span></span>) .directive(<span class="hljs-string"><span class="hljs-string">'elCard'</span></span>, [<span class="hljs-string"><span class="hljs-string">'card'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">card</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">scope</span></span>: { <span class="hljs-attr"><span class="hljs-attr">action</span></span>: <span class="hljs-string"><span class="hljs-string">'&amp;cardAction'</span></span>, <span class="hljs-attr"><span class="hljs-attr">item</span></span>: <span class="hljs-string"><span class="hljs-string">'=elCard'</span></span>, <span class="hljs-attr"><span class="hljs-attr">last</span></span>: <span class="hljs-string"><span class="hljs-string">'=lastCard'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">restrict</span></span>: <span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-attr"><span class="hljs-attr">transclude</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">link</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">scope, elem, attr, ctrl, transclude</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//         card.addAction(scope.action); //     transclude(scope, function(item) { card.addCard(item, scope.last); elem.remove(); }); } }; }]); })();</span></span></code> </pre><br></div></div><br>  <b>Carousel Directive</b> <br>  The directive builds our carousel on the available templates.  The carousel has three versions: 3, 5 or 7 cards in the first row.  By default, 7 cards are selected, but the <b>elements</b> parameter is forwarded to determine the number of maps manually.  Depending on the number of cards, the coefficient of recalculation of the <b>heihtCoeff</b> roundabout element height is <b>determined</b> . <br>  The directive is built on three functions: <br><ul><li>  <b>changeHeight</b> - recalculates the height of the carousel, depending on the width of the screen.  This function is executed not only at the first start of the directive, but also when the browser window resizing event is triggered. </li><li>  <b>makeCards</b> - creates the required number of card items.  This function has two nuances: <br><ol><li>  The number of user cards is less than that required for the carousel.  In this case, the missing cards are filled with repetitive templates. </li><li>  the number of user cards more than required.  Extra cards are assigned a position in the background of the carousel and set absolute transparency.  As the carousel moves, these cards change places with those already shown and so on in a circle. </li></ol><br></li><li>  <b>moveCards</b> - each card is assigned the ng-class directive, which assigns the class name to the element from the string value of the variable.  In our case, all the classes that determine the location of the cards are listed in the array of string elements, and the function only implements the promotion of the ‚Äúqueue‚Äù using the <b>shift</b> and <b>push</b> array methods. </li></ul><br>  Auxiliary functions <b>runCarousel</b> and <b>stopCarousel</b> are provided for <b>triggering</b> and <b>stopping</b> , which periodically execute <i>moveCards</i> using <b>$ interval</b> .  When you switch to another tab, <b>$ interval</b> continues its work, but the css <b>transition</b> property does not, which leads to malfunctions in the carousel.  Therefore, the start and stop of the carousel are tied to the events of changing the active window.  At the end of the directive, we do not forget to untie all the listeners. <br><div class="spoiler">  <b class="spoiler_title">view directive code</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span>; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ angular.module(<span class="hljs-string"><span class="hljs-string">'carousel'</span></span>) .directive(<span class="hljs-string"><span class="hljs-string">'elCarousel'</span></span>, [<span class="hljs-string"><span class="hljs-string">'$window'</span></span>, <span class="hljs-string"><span class="hljs-string">'$compile'</span></span>, <span class="hljs-string"><span class="hljs-string">'$interval'</span></span>, <span class="hljs-string"><span class="hljs-string">'card'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$window, $compile, $interval, card</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">scope</span></span>: { <span class="hljs-attr"><span class="hljs-attr">elements</span></span>: <span class="hljs-string"><span class="hljs-string">'=elCarousel'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">restrict</span></span>: <span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-attr"><span class="hljs-attr">link</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$scope, elem</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cards = [], action = [], heightCoeff = ($scope.elements === <span class="hljs-number"><span class="hljs-number">3</span></span>) ? <span class="hljs-number"><span class="hljs-number">2</span></span> : ($scope.elements === <span class="hljs-number"><span class="hljs-number">5</span></span>) ? <span class="hljs-number"><span class="hljs-number">3.3</span></span> : <span class="hljs-number"><span class="hljs-number">3.96</span></span>, cardAmount = ($scope.elements === <span class="hljs-number"><span class="hljs-number">3</span></span>) ? <span class="hljs-number"><span class="hljs-number">8</span></span> : ($scope.elements === <span class="hljs-number"><span class="hljs-number">5</span></span>) ? <span class="hljs-number"><span class="hljs-number">10</span></span> : <span class="hljs-number"><span class="hljs-number">12</span></span>; $scope.card = []; <span class="hljs-comment"><span class="hljs-comment">//       elem.addClass('el-carousel'); //           ng-repeat function preStartActions() { if(card.list.length &lt; 1) { return; } cards = card.list; action = card.action; makeCards(); } preStartActions(); card.done.then(preStartActions); //        function changeHeight() { var carouselWidth = elem.width(), carouselHeight = carouselWidth / heightCoeff; elem.css('height', carouselHeight); } angular.element($window).bind('resize', changeHeight); changeHeight(); //  DOM     function makeCards() { elem.empty(); var k = 0, cardNumber = (cards.length &gt; cardAmount) ? cards.length : cardAmount, numClass = (cardAmount === 8) ? 'sm-' : (cardAmount === 10) ? 'md-' : 'lg-'; for(var i = 0; i &lt; cardNumber; i++) { var div = angular.element('&lt;div ng-click="cardAction' + i + '()" class="el-card" ng-class="card[' + i + ']"&gt;&lt;/div&gt;'); if(i &lt; cards.length) { div.append(cards[i].clone()); $scope['cardAction' + i] = action[i]; } else { div.append(cards[k].clone()); $scope['cardAction' + i] = action[k]; k = (k &gt; cards.length - 2) ? 0 : k + 1; } $scope.card[i] = (i &lt; cardAmount) ? numClass + 'el-card-' + (i + 1) : numClass + 'el-card-hide'; $compile(div)($scope); elem.append(div); } } //      function moveCards() { var lastElem = $scope.card.shift(); $scope.card.push(lastElem); } // /       var moveInterval; runCarousel(); angular.element($window).bind('blur', stopCarousel); function stopCarousel() { $interval.cancel(moveInterval); } angular.element($window).bind('focus', runCarousel); function runCarousel() { moveInterval = $interval(moveCards, 2000); } elem.bind('$destroy', function () { $interval.cancel(moveInterval); angular.element($window).unbind('blur', stopCarousel); angular.element($window).unbind('focus', runCarousel); angular.element($window).unbind('resize', changeHeight); }); } }; }]); })();</span></span></code> </pre><br></div></div><br>  As a result, our <b>html</b> carousel <b>code</b> might look like this. <br><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">el-carousel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"7"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"card in cardList"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">el-card</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"card"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">card-action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"someAction(someParam)"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">last-card</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$last"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>{{card.name}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image image-1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{{card.img}}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{{card.alt}}/</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">el-card</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">card-action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"otherAction(otherParam)"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image image-2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/app/ru/main/img/js.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  You can use either individually written templates, or cloned ones using <i>ng-repeat</i> , and also combine them together. <br><br>  <i>Thank you for your attention, good luck to all.</i> </div><p>Source: <a href="https://habr.com/ru/post/261847/">https://habr.com/ru/post/261847/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../261829/index.html">Cackle Reviews full text search feedback system</a></li>
<li><a href="../261831/index.html">How to mount an image fsa</a></li>
<li><a href="../261833/index.html">The digest of interesting materials for the mobile # 110 developer (June 29-July 5)</a></li>
<li><a href="../261835/index.html">Polymorphic bonds for the smallest</a></li>
<li><a href="../261837/index.html">STM32, C ++ and FreeRTOS. Development from scratch. Part 3 (LCD and Screens)</a></li>
<li><a href="../261849/index.html">Elm or functional programming for the web, understandable to the teapot</a></li>
<li><a href="../261851/index.html">Windows 10 IoT - a small overview of the new edition of the OS for small devices</a></li>
<li><a href="../261853/index.html">Xonix to Javascript with pictures</a></li>
<li><a href="../261855/index.html">RTCOMM fell</a></li>
<li><a href="../261857/index.html">7 rules for creating beautiful interfaces</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>