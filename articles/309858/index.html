<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP 7.1: Overview of New Features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√©, there was already a translation with a review a few months ago, but the first release candidate PHP 7.1 recently came out, which means there...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP 7.1: Overview of New Features</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/8c9/678/b98/8c9678b988563df4589096d34da40d56.jpg" alt="image" align="left">  On Habr√©, there was already a translation with a review a few months ago, but the first release candidate PHP 7.1 recently came out, which means there will be no more significant changes and you can tell what exactly the changes will be in the release.  I decided to revive a little dry ‚Äúchangelog‚Äù with my free translation of the changes that the new minor version of 7.x branches will bring us. <br><a name="habracut"></a><br><h2>  New functionality </h2><br><h3>  Added <i>‚Äúvoid‚Äù</i> return type ( <a href="https://wiki.php.net/rfc/void_return_type">RFC</a> ) </h3><br>  Now functions and methods that should not return anything can be marked with a <i>void</i> return type: <br><br><pre><code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">someNethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   return  //   return; //    return null; //    return 123; }</span></span></code> </pre> <br>  Returning a value from a method / function that is marked <i>void</i> will generate a <i>Fatal Error</i> level exception.  Please note that <i>NULL</i> value is not equal to <i>void</i> (no value), that is, you cannot return <i>NULL</i> . <br><br>  By the way, this does not mean that <i>$ x = someNethod ();</i>  will not return anything.  As before, <i>$ x</i> will be <i>NULL</i> .  Also, void cannot be used as a type to a parameter. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(void $foo)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-comment"><span class="hljs-comment">// : Fatal error: void cannot be used as a parameter type in....</span></span></code> </pre><br><h3>  Added new pseudo-type: <i>‚Äúiterable‚Äù</i> ( <a href="https://wiki.php.net/rfc/iterable">RFC</a> ) </h3><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">walkList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(iterable $list)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterable</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($list <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $value) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $value[<span class="hljs-string"><span class="hljs-string">'id'</span></span>]; } }</code> </pre><br>  This type essentially combines the primitive type of the <i>array</i> and the interface <i>Traversable</i> (and hence its derivatives: <i>Iterator</i> , <i>Generator</i> , etc).  The problem arose from the fact that, for example, <i>foreach</i> can work with both types, but the function with the type <i>array</i> will not accept an object with the <i>Traversable</i> interface and vice versa. <br><br>  Also, within the framework of this RFC, a new function, <i>is_iterable ()</i> , has been added, which works similarly to other is_ * functions. <br><br><h3>  Now it is possible to resolve null in typed and returned parameters ( <a href="https://wiki.php.net/rfc/nullable_types">Nullable RFC</a> ) </h3><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(?Bar $bar)</span></span></span><span class="hljs-function">: ?</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Bar</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;callMethod($bar); <span class="hljs-comment"><span class="hljs-comment">//  $this-&gt;callMethod(null); //  $this-&gt;callMethod(); //  </span></span></code> </pre><br>  Note that the use of "?"  and the default value of <i>null</i> is not the same <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $bar = null)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;callMethod(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  $this-&gt;callMethod(null); //  $this-&gt;callMethod(); //  </span></span></code> </pre><br>  And the addition of "?"  leaves the behavior backwards compatible <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(?Bar $bar = null)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-comment"><span class="hljs-comment">//       ‚Äú?‚Äù</span></span></code> </pre><br>  Also an important point to inherit: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Fooable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $i)</span></span></span><span class="hljs-function">: ?</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Fooable</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StrictFooable</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Fooable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(?int $i)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Fooable</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">// valid }</span></span></code> </pre> <br>  In the heir, you can make a ‚Äústricter‚Äù return type (that is, prohibit <i>nullable</i> ), and expand the parameter to the contrary to <i>nullable</i> , but not vice versa! <br><br><h3>  Added the ability to use a negative value for offset in rows ( <a href="https://wiki.php.net/rfc/negative-string-offsets">RFC</a> ) </h3><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $msg[<span class="hljs-number"><span class="hljs-number">-1</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//    echo $msg{-3}; //  RFC     $str{}   $str[]            .</span></span></code> </pre> <br>  Negative values are also allowed in some steel string <i>functions: strpos, stripos, substr_count, grapheme_strpos</i> , grapheme_stripos, grapheme_extract, iconv_strpos, file_get_contents, mb_strimwidth, mb_ereg_search_setpos, mb_strpos, mb_stripos. <br><br>  Everywhere this means counting the offset from the end of the line. <br><br><h3>  Allowed to use string keys in the <i>list ()</i> ( <a href="https://wiki.php.net/rfc/list_keys">RFC</a> ) construction </h3><br>  A short syntax for list ( <a href="https://wiki.php.net/rfc/short_list_syntax">RFC</a> ) has also been added. <br><br><pre> <code class="php hljs">[<span class="hljs-string"><span class="hljs-string">"test"</span></span> =&gt; $a, <span class="hljs-string"><span class="hljs-string">"name"</span></span> =&gt; $b] = [<span class="hljs-string"><span class="hljs-string">"name"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"Hello"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"World!"</span></span>]; var_dump($a); <span class="hljs-comment"><span class="hljs-comment">// World! var_dump($b); // Hello</span></span></code> </pre><br>  Features: <br><br><ul><li>  mixed syntax cannot be used (if we specify keys, then we specify them everywhere, if not, then the usual indices 0, 1, 2 are used ... as usual): <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// Parse error: syntax error, ... ["a" =&gt; $a, $b] = ["a" =&gt; 1, 2]</span></span></code> </pre><br></li><li>  empty items with keys are also not allowed: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// Parse error: syntax error, ... list(,,,, "key" =&gt; $keyed) = $array;</span></span></code> </pre><br></li><li>  if there is no key in the source array, the warning <i>Notice: Undefined index: name</i> will be thrown, and the variable will be <i>NULL</i> <br><br></li><li>  when using the nested <i>list</i> construct, methods can be combined <br><br><pre> <code class="php hljs">$points = [ [<span class="hljs-string"><span class="hljs-string">"x"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"y"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>], [<span class="hljs-string"><span class="hljs-string">"x"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"y"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>] ]; [[<span class="hljs-string"><span class="hljs-string">"x"</span></span> =&gt; $x1, <span class="hljs-string"><span class="hljs-string">"y"</span></span> =&gt; $y1], [<span class="hljs-string"><span class="hljs-string">"x"</span></span> =&gt; $x2, <span class="hljs-string"><span class="hljs-string">"y"</span></span> =&gt; $y2]] = $points;</code> </pre></li></ul><br><h3>  Converting <i>callable closure</i> expressions ( <a href="https://wiki.php.net/rfc/closurefromcallable">RFC</a> ) </h3><br><pre> <code class="php hljs">Closure::fromCallable(callable $calback);</code> </pre> <br>  Here is a clear example of application: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getValidator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'byDefault'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Closure::fromCallable([<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>, $name]); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">byDefault</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...$options)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Private default with:"</span></span>.print_r($options, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__call</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( string $name , array $args )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Call $name with:"</span></span>.print_r($args, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } } $a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> A(); $a-&gt;getValidator(<span class="hljs-string"><span class="hljs-string">"test"</span></span>)(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Call test with: Array ( [0] =&gt; 1 [1] =&gt; 2 [2] =&gt; 3 ) $a-&gt;getValidator()('p1', 'p2'); // Private default with: Array ( [0] =&gt; 'p1', [1] =&gt; 'p2') //  Closure::fromCallable   ($this)     ,        //    return [$this, $name];  $a-&gt;getValidator()('p1', 'p2'); //  // Call byDefault with:Array ( [0] =&gt; p1 [1] =&gt; p2 ) //               </span></span></code> </pre> <br><h3>  Visibility modifier support for class constants ( <a href="https://wiki.php.net/rfc/class_const_visibility">RFC</a> ) </h3><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Token</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      ‚Äúpublic‚Äù const PUBLIC_CONST = 0; //      private const PRIVATE_CONST = 0; protected const PROTECTED_CONST = 0; public const PUBLIC_CONST_TWO = 0; //       private const FOO = 1, BAR = 2; }</span></span></code> </pre> <br><h3>  You can catch exceptions by combining several types of exceptions into one block ( <a href="https://wiki.php.net/rfc/multiple-catch">RFC</a> ) </h3><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"OK"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> | DomainException $e) { <span class="hljs-comment"><span class="hljs-comment">// ...  2    } catch (TypeError $e) { // ... }</span></span></code> </pre> <br><h3>  Emissions of <i>E_NOTICE</i> and <i>E_WARNING</i> level errors during arithmetic operations on strings containing non-valid numbers ( <a href="https://wiki.php.net/rfc/invalid_strings_in_arithmetic">RFC</a> ) </h3><br><pre> <code class="php hljs">$numberOfApples = <span class="hljs-string"><span class="hljs-string">"10 apples"</span></span> + <span class="hljs-string"><span class="hljs-string">"5 pears"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  // Notice: A non well formed numeric string encountered in example.php on line 3 // Notice: A non well formed numeric string encountered in example.php on line 3 $numberOfPears = 5 * "orange"; // Warning: A non-numeric string encountered in example.php on line 3</span></span></code> </pre><br>  This is quite an important change that theoretically can break the backward compatibility of an application if its error handlers are used to intercept warnings. <br><br>  And there is an interesting feature: the space at the beginning of the lines ‚Äú5‚Äù + ‚Äú3‚Äù will not give errors.  But ‚Äú5‚Äù + ‚Äú3‚Äù - a space at the end will give warnings. <br><br>  To bypass the consequences of implicit conversion and ejection of warnings, you can explicitly specify a ‚Äúcast‚Äù to the desired type: (int) ‚Äú5‚Äù + (int) ‚Äú3‚Äù or force all to be suppressed @ (‚Äú5‚Äù + ‚Äú3‚Äù). <br><br><h2>  Other changes and backward incompatibilities </h2><br><ul><li>  In connection with new types, new reserved words <i><b>void</b></i> , <i><b>iterable have been added</b></i> , and the code that contains classes, interfaces, traits with such names will give an error in 7.1 <br><br></li><li>  Changed the behavior in php extensions, which continued to throw out <i>Fatal Error</i> instead of generating <i>Error</i> exceptions (like the current kernel 7.0), plus errors of the <i>E_ERROR</i> or <i>E_RECOVERABLE_ERROR level,</i> too, began to throw exceptions where possible (understandably, if there is not enough memory, the script is irreversibly falling ( <a href="https://wiki.php.net/rfc/throw_error_in_extensions">RFC</a> )). <br><br></li><li>  The behavior when calling functions / methods without passing the required arguments has changed.  Now instead of the usual <i>Warning</i> warning, the <i>ArgumentCountError</i> exception will be thrown (inheriting from the <i>Error</i> <a href="https://wiki.php.net/rfc/too_few_args">RFC</a> type): <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($a)</span></span></span><span class="hljs-function"> </span></span>{ var_dump($a); <span class="hljs-comment"><span class="hljs-comment">//        $a   NULL } foo(); // Fatal error: Uncaught ArgumentCountError: Too few arguments to function foo(), 0 passed in...</span></span></code> </pre><br></li><li>  The following functions can no longer be called dynamically via: <i>$ func (), call_user_func (), array_map (),</i> and so on: <br><br><ol><li>  extract () </li><li>  compact () </li><li>  get_defined_vars () </li><li>  func_get_args () </li><li>  func_get_arg () </li><li>  func_num_args () </li><li>  parse_str () with one argument </li><li>  mb_parse_str () with one argument </li><li>  assert () can no longer use a string as an argument </li></ol><br></li><li>  The <i>rand ()</i> and <i>srand ()</i> functions are now simply aliases to the <i>mt_rand ()</i> and <i>mt_srand ()</i> functions. <br>  This in turn will affect the output of such functions: <br><br><ol><li>  rand () </li><li>  shuffle () </li><li>  str_shuffle () </li><li>  array_rand () </li></ol><br></li><li>  Added <i>session_gc ()</i> function.  Now you can clean old sessions directly from scripts. <br><br></li><li>  The <i>session_create_id ()</i> function has been added, which allows you to generate a valid automatic session id without starting a new session, which can be used in session_id () to start a session with the previously generated ID. <br><br></li><li>  Accelerated session ID generation 2+ times, removing hashing and using a new function from 7.0 <i>php_random_bytes ()</i> <br><br><pre> Speed ‚Äã‚Äãto: Requests per second: 899.36 [# / sec]
 Speed ‚Äã‚Äãafter: Requests per second: 2278.59 [# / sec]
</pre><br></li><li>  Removed inconsistent behavior over the $ this variable <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($this)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Fatal error: Cannot use $this as parameter } static $this; // Fatal error: Cannot use $this as static variable global $this; // Fatal error: Cannot use $this as global variable try { ... } catch (Exception $this) { // Fatal error: Cannot re-assign $this } foreach ($a as $this) { // Fatal error: Cannot re-assign $this } unset($this); // Fatal error: Cannot unset $this $a = "this"; $$a = 42; // throw new Error("Cannot re-assign $this") function foo() { var_dump($this); // throws "Using $this when not in object context" // php-7.0 emitted "Undefined variable: this" and printed NULL } foo(); //   </span></span></code> </pre> <br></li><li>  The <b>mcrypt</b> extension <b>is</b> marked as obsolete and all mcrypt_ * functions will throw out <i>E_DEPRECATED</i> . <br><br></li><li>  The curl extension has added support for <i>HTTP / 2 Server Push</i> , as well as the new <i>curl_multi_errno (), curl_share_errno (), curl_share_strerror ()</i> functions have been added. <br><br></li><li>  The option <b>'e'</b> for the functions <i>mb_ereg_replace ()</i> and <i>mb_eregi_replace () is</i> deprecated. </li></ul><br>  On this, we probably dwell, although there are still a lot of small changes, mainly in extensions.  And for us for holivar this list is quite enough.  ) <br><br><h2>  Total </h2><br>  Personally, my opinion about this minor release: everything fits very organically, this is precisely what was missing in the majority in the new PHP 7.0 and these changes only emphasize and strengthen the features of 7.x branches. <br>  I recommend waiting for 7.1.1 and you can upgrade without fear, break something (unless of course you have already moved to 7.0). <br><br>  This article does not pretend to a complete description of ALL changes and I could miss something important, I recommend to get acquainted with the original sources anyway: <br>  ¬ª <a href="https://wiki.php.net/rfc">Https://wiki.php.net/rfc#php_71</a> <br>  ¬ª <a href="https://github.com/php/php-src/blob/php-7.1.0RC1/UPGRADING">Https://github.com/php/php-src/blob/php-7.1.0RC1/UPGRADING</a> <br><br>  PS Examples can be experienced in the online sandbox - <a href="https://3v4l.org/">3v4l.org/#version=7.1.0RC1</a> </div><p>Source: <a href="https://habr.com/ru/post/309858/">https://habr.com/ru/post/309858/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309848/index.html">Three JavaScript performance principles that make Bluebird fast</a></li>
<li><a href="../309850/index.html">1C, .Net Core. Dynamic compilation of a wrapper class for receiving events of a .Net object in 1C</a></li>
<li><a href="../309852/index.html">DevFest season 2016 in 10 cities of Russia</a></li>
<li><a href="../309854/index.html">Five kinds of game crafting systems</a></li>
<li><a href="../309856/index.html">We are recruiting a technical support team: instructions for use</a></li>
<li><a href="../309860/index.html">MaterialViewPager - an example of creating a unique application</a></li>
<li><a href="../309864/index.html">Job Schneiders, NTT: ‚ÄúLarge BGP Communities ‚Äî A Solution to the Routing Problem between AS Operators‚Äù</a></li>
<li><a href="../309866/index.html">5 ideas on game analytics</a></li>
<li><a href="../309870/index.html">Google Tango: control the robot in augmented reality mode</a></li>
<li><a href="../309872/index.html">Eddystone beacons to control power consumption</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>