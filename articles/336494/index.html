<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Quick registration of image focal points using big-vote</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Detection and registration of image features has many applications in robotics, video compression, etc. Quick and accurate registration is still an un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Quick registration of image focal points using big-vote</h1><div class="post__text post__text-html js-mediator-article">  Detection and registration of image features has many applications in robotics, video compression, etc.  Quick and accurate registration is still an unattainable dream of many programmers and users.  It is either quick or neat ... <br><a name="habracut"></a><br>  I have been working for quite some time (about 17 years) on image processing, including reconstructing a 3D mesh from video, and even have my own company selling such a product.  However, I decided to part of the development and put the key idea into open access without patent blocking. <br><br>  The general idea of ‚Äã‚Äãthe existing relatively fast algorithms is as follows: <br><br><ol><li>  (Feature detection) Find any specific points in each picture, preferably with sub-pixel precision. </li><li>  (Feature description) Build a certain array of features for each point, fully or partially meeting the following requirements: <br><ul><li>  Invariance to: <br><ul><li>  (Physics) noise, exposure changes (brightness and contrast), compression artifacts </li><li>  (2D geometry) of turns, shifts, scaling </li><li>  (3D geometry) projection distortion </li></ul></li><li>  Compact (less memory, faster comparison) </li><li>  Varieties (Near a selected point in a certain predefined pattern): </li><li>  Histogram of gradients, brightness, colors.  (SIFT, SURF ...) </li></ul></li><li>  Read the values ‚Äã‚Äãand normalize the level. (ORB, BRIFF ...) </li><li>  For a pair of pictures, find correspondences of points using the minimum distance (the sum of absolute differences (L1) or the sum of squared differences (L2)) between the arrays of attributes, the asymptotic complexity of this step is O (N ^ 2), where N is the number of singular points. </li><li>  (Optional): Check geometric compatibility of pairs using eg <abbr title="Random sample consensus">RANSAC</abbr> and repeat step 3 </li></ol><br><img src="https://habrastorage.org/web/e4b/3e2/488/e4b3e24887754b70828212c35597974f.jpg"><br>  The proposed registration scheme is as follows. <br>  For each image (detect): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/web/f77/cf5/229/f77cf52298d1407eac8ad53c5195ae82.jpg"><br><ol><li>  Find special points </li><li>  Divide the feature points into 2 groups based on the sign of the difference ( <abbr title="Difference of Gaussians">DoG</abbr> ) between the value at the point and the average in the small neighborhood. </li><li>  For each point from the first group find about a dozen neighbors. <br>  At this stage, we have a biggraph of ~ N / 2 * 10 oriented edges </li><li>  For each edge we sample at the points of the pattern scaled and rotated along with the edge </li><li>  Build a bit (~ 26 bit) hash c by comparing samples </li></ol><br><img src="https://habrastorage.org/web/549/e86/c4e/549e86c4e8054b6a92520ab134503bd1.jpg"><br><cut><br>  To register (bind): <br><br><ol><li>  We build <abbr title="LookupTable">LUT</abbr> from edges of the right image on hash value </li><li>  For each edge from the left image, look for O (1) edge (s) with the same hash in LUT </li><li>  We add 2 indexes of points from the left edge to 2 indexes of points from the right </li><li>  Pass through all points of the right picture and count the number of votes </li></ol><br><img src="https://habrastorage.org/web/ceb/767/be5/ceb767be59354274a6919797a16cf24d.jpg"><br>  Result: <br><br>  for FullHD on i7-6900K using single core <br><br>  For approximately 10,000 dots per image <br>  detect 29.0556 ms / per image <br>  bind 10.46563 ms / per pair <br><cut><br>  Advantages: fast, reliable with small perspective distortions (small number of incorrectly connected points), simple code, not covered by patents (as far as I know). <br><img src="https://habrastorage.org/web/9bf/47c/541/9bf47c54118c47e083dc5aeb27c00bdf.jpg"><br><img src="https://habrastorage.org/web/721/b5c/1de/721b5c1de3af4fbe8e65646c7f211772.jpg"><br>  <a href="https://github.com/sdima1357/bigraph_image_registration_demo">Actually source code</a> <br>  On the basis of this scheme, now I am writing a blank for Raspberry Pi <abbr title="Simultaneous localization and mapping">SLAM</abbr> , in my spare time. </cut></cut></div><p>Source: <a href="https://habr.com/ru/post/336494/">https://habr.com/ru/post/336494/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../336482/index.html">Migrate the VueJS application to Vuex</a></li>
<li><a href="../336486/index.html">Inter-AS Option C Pitfalls on JunOS</a></li>
<li><a href="../336488/index.html">The digest of interesting materials for the mobile developer # 218 (August 21 - August 27)</a></li>
<li><a href="../336490/index.html">I'm too busy to do anything</a></li>
<li><a href="../336492/index.html">ggplot2: how to easily combine multiple graphs in one, part 1</a></li>
<li><a href="../336496/index.html">Architectural Pyramid Applications</a></li>
<li><a href="../336498/index.html">Know your tool: Event Loop in libuv</a></li>
<li><a href="../336500/index.html">PHP Digest number 115 - the latest news, materials and tools (August 14 - 27, 2017)</a></li>
<li><a href="../336502/index.html">Revit API Vector Geometry for Developers</a></li>
<li><a href="../336504/index.html">Check dependency injection on Swift</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>