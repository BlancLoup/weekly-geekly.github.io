<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Monitoring Server with Wiren Board NetMon-1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 We made a Linux controller with a server rack for monitoring climate and equipment and power management, and we are in a hurry to share with...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Monitoring Server with Wiren Board NetMon-1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/69f/776/4bd/69f7764bdd01e48219134d557eb46989.jpg" alt="image"><br><br>  Hello! <br><br>  We made a Linux controller with a server rack for monitoring climate and equipment and power management, and we are in a hurry to share with the public. <br><a name="habracut"></a><br><h2>  Introduction </h2><br>  NetMon-1 is used for automation and monitoring tasks in racks, server and data centers.  Different sensors and actuators can be connected to the controller.  The controller has a built-in GSM modem for the backup channel and SMS, and built-in batteries. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Inside the controller is Debian Linux, the mainline core (3.19) and our software.  The platform is completely open: users have not only access to Linux, but also the source code of all the software with which the controller is shipped, including our own. <br><br>  The open sale of Wiren Board NetMon-1 is released just now, but it has been delivered to selected customers since November last year.  Buyers currently have about 250 such devices. <br><br><h2>  Iron </h2><br>  The controller is assembled in a standard 1U package in a 19 ‚Äùrack.  Plastic case with ventilation holes, complete with ears for attachment to the rack. <br><br>  The hardware platform standard for Wiren Board is used: our WB-IMX233-CORE processor module with an i.mx233 processor (ARM9 454MHz) and 64MB RAM.  This processor is fully supported in the latest Linux and is included in the Freescale long-term availability program. <br>  For the operating system and user data allocated 8GB flash-memory. <br><br>  One 10/100 Ethernet port is brought to the front panel of the controller, through which the controller can be powered by passive PoE (12V and 15V). <br><br>  The controller is equipped with a large number of interfaces: 2 RS-485 ports, 2 RS-232 ports, 1-wire port. <br>  To control the equipment and connect sensors, there are 22 digital inputs for signals of the ‚Äúdry contact‚Äù type, 8 analog inputs. <br>  All interfaces and inputs are connected to 16 8P8C sockets. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/848/e81/0e4/848e810e4d3491e9f37c6c933ba6d17b.jpg" alt="image"><br><br>  The controller has a built-in GSM / GPRS-modem (2G) on the SIMCOM SIM900 module.  It can be used to raise a backup channel on the Internet via GPRS or to send / receive SMS. <br><br>  There are outputs for switching external loads. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/399/545/15b/39954515b4a427fee6f670ac523fcada.jpg" alt="image"><br><br>  On the rear panel there are two pairs of IEC-320-C13 / C14 connectors (plug and socket).  Each pair switches independently; up to 3 kW of load can be connected to each outlet.  Upon request, a version with common input C14 is shipped to two C13 outputs. <br>  For switching, high-quality normally-closed relays from TE are used. <br><br>  On the front panel are the outputs of four changeover relays, to which you can connect up to a kilowatt of load.  Outputs are connected to detachable terminals. <br><br>  As an option, a temperature and humidity sensor is available inside the case. <br><br>  Li-ion batteries are installed in the remaining free space.  The battery life of the controller depends on the load and capacity, and is up to 7 hours on two banks of 1800mAh.  Batteries are automatically charged by the controller when external power is available.  Additionally, protection against overdischarge of cans and against charging at too high or too low temperatures is provided. <br><br>  Inside the controller there is also a USB host port in which you can install, for example, an additional 3G modem, a Wi-Fi whistle, etc.  There are no restrictions on the connected devices. <br><br>  An important point: the hardware watchdog timer unit (watchdog) is installed in the controller, which is independent of the main circuit and can reboot the controller via power.  This is a very useful feature for demanding applications and for use in places where it is difficult for a vehicle to exit. <br><br>  Geek porn: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca5/b67/304/ca5b673045a7b0bb2af849130b2dbc3b.jpg" alt="image"><br><br><h2>  Supported Equipment </h2><br>  Due to the large number of interfaces and support in our software, many different devices can be connected to Wiren Board NetMon-1. <br><br>  In general, the list almost coincides with the equipment supported by our controller on DIN - Wiren Board 4. Recently, we wrote about this <a href="http://habrahabr.ru/company/contactless/blog/258677/">review article</a> on Habr. <br><br>  Below is a short list of what can be connected and what * is supported in our software * i.  integrated with web interface, rule system, etc. <br><br>  In short, you can connect: <br><br><ul><li>  To digital inputs (‚Äúdry contact"): <br><ul><li>  Equipment status outputs </li><li>  Counters of water, gas, electricity with pulse outputs </li><li>  Reed switches, opening sensors, opening sensors, motion sensors <img src="https://habrastorage.org/getpro/habr/post_images/32d/372/a6b/32d372a6bd24ad541185d56e14414059.jpg" alt="image" width="200" align="right"></li><li>  Buttons and switches </li><li>  220V availability sensors </li><li>  Smoke detectors, other sensors with digital output </li></ul></li><li>  To analog inputs (ADC): <br><ul><li>  Sensors with analog voltage output </li><li>  Sensors with analog current output (with external resistor).  Some 8P8C sockets immediately contain the necessary voltage source for convenience. </li><li>  Sensors with a resistive output (with external resistor): electrochemical sensors for gas, smoke and air quality, thermistors </li><li>  Analog sensors with external power.  For example, humidity sensors on Honeywell chips from different manufacturers. </li></ul></li><li>  To 1-Wire ports (you can connect many devices in parallel) <br><ul><li>  Temperature Sensors on DS18B20 Chips <img src="https://habrastorage.org/getpro/habr/post_images/bcc/5dc/3a6/bcc5dc3a67317bbac28dc133ea42e9f8.png" align="right" width="200"></li><li>  Temperature and humidity sensors (*) </li></ul></li><li>  via RS-485 ports (you can connect many devices in parallel) <br><ul><li>  Various devices with Modbus RTU protocol, including our production </li><li>  Temperature, humidity, pressure, light sensors </li><li>  Relay Blocks <img src="https://habrastorage.org/getpro/habr/post_images/362/ab3/ff8/362ab3ff8d9a4427b4c4084639ba5aa9.jpg" alt="image" width="200" align="right"></li><li>  Dimmers for LED strips and for incandescent bulbs </li><li>  Blocks with additional dry contacts </li><li>  Electricity meters mercury </li><li>  Blocks for sending IR signals to control the air conditioner (*) </li></ul></li><li>  Via relay outputs <br><ul><li>  Direct power load </li><li>  Controllable sockets </li></ul></li></ul><br><br>  * - work in progress, while without integration with the web interface <br><br>  We maintain a list of tested device models and sensors on the wiki, many devices can be bought from us in the store along with the controller.  Devices from other server monitoring systems are also supported. <br><br><h2>  Soft </h2><br>  Software in the controller uses the same as in the version on the DIN-rail - Wiren Board 4. We <a href="http://habrahabr.ru/company/contactless/blog/257977/">wrote</a> about it on Habr√©. <br><br>  What is worth noting: <br><br><ol><li> As already described above, the controller is Debian Linux.  The standard Debian repository is used and, in addition, our repository with our software.  You can install any packages from the standard Debian repository, you can update ours - all this is done through the usual apt-get. <br><br>  The distribution is used full, no uClibc and other openwrt. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/923/ef7/45f/923ef745fbb59b08093037fb4f1aa6fd.png" alt="Wiren board software" align="left" width="300"></a> <br></li><li>  There are ‚Äúdrivers‚Äù of devices.  All external devices and built-in peripherals, about which it is said above, have their own ‚Äúdrivers‚Äù on our controller.  As a result, each device is presented in a uniform manner in our internal interface - the MQTT bus (for more details, see the <a href="http://contactless.ru/wiki/index.php/MQTT">documentation</a> ). <br><br>  This means that you can receive data in a standard way (for example, temperature) from any device, regardless of the type and method of connection.  The same goes for device management - the commands to turn on the relay are the same, whether it is a radio-connected relay, a built-in relay, or a relay on an expansion module that is connected via RS-485. <br><br>  It also means adding support for an arbitrary monitoring system, SCADA system, etc.  very simple.  For communication with the MQTT bus, there are binders for almost all languages, including you can request / send with simple console commands. <br></li><li>  There is a built-in web interface that displays all physical devices and their channels.  In the interface, you can create rooms, dashboards, widgets, etc. <br><img src="https://habrastorage.org/getpro/habr/post_images/806/51d/8da/80651d8da08b123fc329a7b8c4379269.png" alt="image" width="300" align="right"><br></li><li>  There is a rule system that allows writing arbitrary scripts in JavaScript.  Scripts work with events coming from devices. <br></li><li>  There is a ‚Äúcloud interface‚Äù that allows you to do the same thing as the local one.  In testing the ability to connect multiple controllers to the same interface. <br></li><li>  There is a ready integration with Zabbix - any parameter from the internal system can be requested from Zabbix. <br></li></ol><br><h2>  Conclusion </h2><br>  The controller costs 14,000 rubles.  as standard, you can buy in our <a href="http://contactless.ru/store/">store</a> . <br><br>  Wiren Board NetMon-1 - this is our first experience in devices for server, although confirmed by the six months of operation of several hundred devices.  Therefore, we traditionally will be happy to receive comments and suggestions on both software capabilities and peripheral support, as well as on the iron part. </div><p>Source: <a href="https://habr.com/ru/post/259493/">https://habr.com/ru/post/259493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259477/index.html">That the new versions of the UEFI standards are prepared for us, part two, ACPI 6.0</a></li>
<li><a href="../259479/index.html">Configure OpenSWAN IPsec PSK using NAT Traversal (NAT-T)</a></li>
<li><a href="../259483/index.html">Exploring the format of the level map of the Jackal NES game</a></li>
<li><a href="../259489/index.html">Experiment: Testing Live ReactOS Applications</a></li>
<li><a href="../259491/index.html">Motion sensor for switching radio stations - part II</a></li>
<li><a href="../259495/index.html">HiDPI in Linux</a></li>
<li><a href="../259497/index.html">Type casting in PHP == stool with two legs?</a></li>
<li><a href="../259501/index.html">As I drove Baldu-2, or in search of the optimal algorithm</a></li>
<li><a href="../259503/index.html">Manipulation of numbers through LDAP</a></li>
<li><a href="../259505/index.html">Free textbook of electronics, computer architecture and low-level programming in Russian</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>