<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The organization of components in the project</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many are guided by the recommendations of the Presentational and Container Components , but the distinguished author admits in footnotes that the conc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The organization of components in the project</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  Many are guided by the recommendations of the <a href="https://medium.com/%40dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">Presentational and Container Components</a> , but the distinguished author admits in footnotes that the concept of separation is controversial, and the components can be mixed.  And if so, why drag a suitcase without a handle?  It is more convenient to store all project components in one shared folder.  What are the advantages: <br><ul><li>  Easy file system navigation. </li><li>  The unique names of the components of the project. </li><li>  Import without pain ('../../../../../ ..'). </li></ul><br><br>  When the project grows up, you should split it up into private npm-packages, encapsulating the implementation.  But not to grow a tree of subfolders inside the folder of components - to develop and maintain this significantly more difficult.  Verified <br><a name="habracut"></a><br></blockquote><p>  All components are organized by domain principle in one src / componens folder.  For example, you can define domains: Post - display the publication, PostForm - form of editing the publication. </p><br><p>  How to create a <strong>domain component</strong> - src / components / Post / Post.js. </p><br><p>  Why you cannot use index.js instead of Post.js - the uniqueness of the component file names within the project is observed, navigation of the editor tabs is simplified (and WebStorm will have the valuable "Find Usages" function for the context menu of the selected file - see the note). </p><br><p>  All components in the domain component folder receive the domain component prefix (Post * .js). </p><br><p>  Subfolders in the domain component folder are not allowed, inside there is a flat structure of files from <strong>descendant components</strong> (PostTitle.js, PostBody.js) and <strong>ancestor components</strong> (PostViewPage.js, PostListPage.js).  The descendant components are used inside the domain component, and the ancestor components are used outside (in the router, for example). </p><br><p>  To import domain components, you should set your package.json inside each domain component folder, in which you must set the entry point "main": </p><br><pre><code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Post"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"private"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"./Post.js"</span></span>, }</code> </pre> <br><p>  In addition, within the domain component file (Post.js), the re-export of ancestor components is declared: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PostViewPage <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./PostViewPage'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PostListPage <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./PostListPage'</span></span> <span class="hljs-comment"><span class="hljs-comment">//... export { PostViewPage, PostListPage } export default Post</span></span></code> </pre> <br><p>  Unfortunately, you cannot use the "export from" construction (WebStorm restriction), for example: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PostViewPage } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./PostViewPage'</span></span></code> </pre> <br><p>  As a result, no explicit access to files within the components folder is required, for example: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Post <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/Post/Post'</span></span></code> </pre> <br><p>  By convention, it is allowed to use imports only by the name of the domain component: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Post, { PostViewPage, PostListPage } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/Post'</span></span></code> </pre> <br><p>  <a href="">Sources</a> </p><br><p>  <strong>A note</strong> on the "Find Usages" feature in WebStorm.  There are at least three usage contexts: 1) by the selected file, 2) by the selected variable or symbol, 3) by the selected default in the export of the component. </p><br><p>  1) Select the components / Post / PostViewPage.js file, the search result: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Post.js import PostViewPage from './PostViewPage'</span></span></code> </pre> <br><p>  2) Select the PostViewPage symbol inside the PostViewPage.js file, the search result: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// PostViewPage.js PostViewPage.propTypes = {}</span></span></code> </pre> <br><p>  3) Select the default in the export of the PostViewPage component, the search result: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// routes.js import { PostViewPage } from 'components/Post' &lt;Route exact path="/post/:id(\d+)/" component={PostViewPage} /&gt;</span></span></code> </pre> <br><p>  As you can see, the third method of use yields the most useful information for the ancestor component. </p><br><h3 id="ps">  PS </h3><br><div class="spoiler">  <b class="spoiler_title">CSS inside components</b> <div class="spoiler_text"><p>  <a href="https://github.com/timarney/react-app-rewired">Found the right way to</a> screw <a href="https://github.com/zeit/styled-jsx">Styled-JSX</a> for the <a href="https://github.com/facebookincubator/create-react-app">Create React App</a> .  Now CSS blocks live inside the component files in a natural way for themselves - in CSS format (against inline styles of JS objects).  And no need to worry about the global scope. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Absolute import paths</b> <div class="spoiler_text"><p>  Work on the src folder, example: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MyComponent <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/MyComponent'</span></span></code> </pre> <br><h5 id="konfiguraciya-babel-plugin-module-resolver">  Babel-plugin-module-resolver configuration </h5><br><pre> <code class="javascript hljs">[<span class="hljs-string"><span class="hljs-string">'module-resolver'</span></span>, { <span class="hljs-string"><span class="hljs-string">'root'</span></span>: [<span class="hljs-string"><span class="hljs-string">'src'</span></span>] }]</code> </pre> <br><h5 id="nastroyka-webstorm">  WebStorm Setup </h5><br><p>  For the src folder in the context menu, execute: Mark Directory as&gt; Resource Root. </p><br><h5 id="nastroyka-atom">  Atom setting </h5><br><ul><li>  Install <a href="https://atom.io/packages/js-hyperclick">js-hyperclick plugin</a> . </li><li>  For domain components, set the path to src in package.json: <br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"moduleRoots"</span></span>: [<span class="hljs-string"><span class="hljs-string">"../.."</span></span>]</code> </pre> </li></ul><br><h5 id="nastroyka-vscode">  VSCode Setup </h5><br><p>  You need to add jsconfig.json to the project root: </p><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"compilerOptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"target"</span></span>: <span class="hljs-string"><span class="hljs-string">"ES6"</span></span> }, <span class="hljs-string"><span class="hljs-string">"exclude"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"node_modules"</span></span> ] }</code> </pre> </div></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/326018/">https://habr.com/ru/post/326018/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326004/index.html">The digest of interesting materials for the mobile developer # 198 (April 2-9)</a></li>
<li><a href="../326006/index.html">An example of creating a web application on PureQML</a></li>
<li><a href="../326008/index.html">Integration of IS with ESIA via SAML</a></li>
<li><a href="../326014/index.html">Looks like I'm not an entrepreneur</a></li>
<li><a href="../326016/index.html">Application evolution or where are we going</a></li>
<li><a href="../326020/index.html">Automation QA is a separate command?</a></li>
<li><a href="../326022/index.html">Inkscape in action: sunset with stars</a></li>
<li><a href="../326024/index.html">How to fit all applications in 16 GB of RAM on macOS</a></li>
<li><a href="../326026/index.html">Choosing a chart for one-dimensional data: a geometric model</a></li>
<li><a href="../326028/index.html">Functional Perl Programming in the Examples</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>