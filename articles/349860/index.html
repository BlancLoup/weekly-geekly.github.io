<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Regular expressions in Python from simple to complex. Details, examples, pictures, exercises</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Regular expressions in Python from simple to complex 


 I decided to give my schoolchildren just the problem for regular expressions to learn. And th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Regular expressions in Python from simple to complex. Details, examples, pictures, exercises</h1><div class="post__text post__text-html js-mediator-article"><a name="Regulyarki"></a><br><h1>  Regular expressions in Python from simple to complex </h1><br><img src="https://habrastorage.org/webt/l1/z1/9s/l1z19s49sk5bpc8vkmcbho7zgro.jpeg"><br><br>  I decided to give my schoolchildren just the problem for regular expressions to learn.  And the tasks need some theory.  And I began to look for good texts in Russian.  Found tolerable heels, but it's not that.  Something is crumpled, something is missing.  These texts had not only a <em>fatal</em> flaw.  Few pictures, few examples.  And there are almost no reasonable tasks.  Well, is searching for an IP address really the most common task for regular expressions?  So I think not. <br>  About the difference (?: ...) / (...) you will find figs, and without this knowledge in some cases you can only suffer. <br><br>  Plus in python there are a lot of regular buns.  For example, <code>re.split</code> can add that piece of text that was cut into the list of parts.  And in <code>re.sub</code> you can, instead of a template to replace, pass the function.  These are real things that are directly needed, but nobody writes about it. <br>  So this rather multi-letter material was born with details, subtleties, pictures and tasks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I hope you manage to extract something new and useful from it, even if you are already in trouble with the regulars. <br><a name="habracut"></a>  Ps.  Schoolchildren pass the problem solving into a testing system, so the tasks are designed in a somewhat formal form. <br><a name="Soderzhanie"></a><br><br><h2>  Content </h2>  <a href="https://habr.com/ru/post/349860/">Regular expressions in Python from simple to complex</a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Content</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/">Examples of regular expressions</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Strength and responsibility</a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Documentation and links</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Basics of syntax</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/">Templates corresponding to one character</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Quantifiers (specifying the number of repetitions)</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Greed in regulars and the boundaries of the pattern found</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Intersection of substrings</a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Sandbox experiments</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Regulars in python</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>An example of using all the basic functions</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/">The subtleties of screening in python ('\\\\\\\\ foo')</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Using additional flags in python</a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Writing and testing regular expressions</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Tasks - 1</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Bracket groups (?: ...) and enumerations |</b></a>  ; <br>  <a href="https://habr.com/ru/post/349860/">Enumerations (operation "OR")</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Bracket groups (grouping plus quantifiers)</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Brackets plus transfers</a> ; <br>  <a href="https://habr.com/ru/post/349860/">More examples</a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Tasks - 2</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Group brackets (...) and match-objects in python</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/">Match objects</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Group brackets (...)</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Subtleties with brackets and numbering groups.</a>  ; <br>  <a href="https://habr.com/ru/post/349860/">Groups and re.findall</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Groups and re.split</a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Using groups for replacements</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/">Replacement with template processing function in python</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Links to groups when searching</a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Tasks - 3</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Templates that correspond not to a specific text, but positions</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/">Simple patterns matching positions</a> ; <br>  <a href="https://habr.com/ru/post/349860/">Complicated patterns, matching positions ( <em>lookaround</em> and Co)</a> ; <br>  <a href="https://habr.com/ru/post/349860/">lookaround on the example of the kings and emperors of France</a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Tasks - 4</b></a> ; <br>  <a href="https://habr.com/ru/post/349860/"><b>Post scriptum</b></a> ; <br><br>  A regular expression is a string that specifies a search pattern for substrings in the text.  One pattern can match many different lines.  The term ‚Äú <i>Regular expressions</i> ‚Äù is a translation of the English phrase ‚ÄúRegular expressions‚Äù.  The translation does not accurately reflect the meaning, the ‚Äú <i>patterned expressions</i> ‚Äù would be more correct.  A regular expression, or shortly "regular", consists of ordinary characters and special command sequences.  For example, <code>\d</code> specifies any digit, and <code>\d+</code> - specifies any sequence of one or more digits.  Work with regular programs implemented in all modern programming languages.  However, there are several "dialects", so the functionality of regular expressions may vary from language to language.  In some programming languages ‚Äã‚Äãit is very convenient to use regulars (for example, in python), in some not so much (for example, in C ++). <a name="Primery_regulyarnyh_vyrazheniy"></a><br><br><h3>  Regular Expression Examples </h3><table><thead><tr><th>  Regular </th><th>  Its meaning </th></tr></thead><tbody><tr><td> <code>simple text</code> </td> <td>  Exactly the text ‚Äúsimple text‚Äù </td></tr><tr><td> <code>\d{5}</code> </td> <td>  5 digit strings <br>  <code>\d</code> means any digit <br>  <code>{5}</code> - exactly 5 times </td></tr><tr><td> <code>\d\d/\d\d/\d{4}</code> </td> <td>  Dates in DD / MM / YYYY format <br>  (and other pieces similar to them, for example, 98/76/5432) </td></tr><tr><td> <code>\b\w{3}\b</code> </td> <td>  Three letter words <br>  <code>\b</code> means word boundary <br>  (on the one hand the letter, but on the other - not) <br>  <code>\w</code> - any letter, <br>  <code>{3}</code> - exactly three times </td></tr><tr><td> <code>[-+]?\d+</code> </td> <td>  Integer, for example, 7, +17, -42, 0013 (leading zeros are possible) <br> <code>[-+]?</code>  - either -, or +, or empty <br>  <code>\d+</code> - a sequence of 1 or more digits </td></tr><tr><td> <code>[-+]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][-+]?\d+)?</code> </td> <td>  Real number, possibly in exponential notation <br>  For example, 0.2, +5.45, -.4, 6e23, -3.17E-14. <br>  See picture below. </td></tr></tbody></table><br><img src="https://habrastorage.org/webt/xt/af/nj/xtafnjpq-xw3lu0aisu68q22elg.png"><a name="Sila_i_otvetstvennost"></a><br><h3>  Strength and responsibility </h3><p><br>  Regular expressions, or shortly, <i>regulars</i> is a very powerful tool.  But they should be used with intelligence and caution, and only where they really benefit, not harm.  First, poorly written regular expressions are slow.  Secondly, they are often very difficult to read, especially if the regular was not written by you five minutes ago.  Thirdly, very often even a small change in the task (what is required to be found) leads to a significant change in expression.  Therefore, it is often said about regulars that this is <i>write only code</i> (code that is only written from scratch, but does not read and does not rule).  As well as joking: <i>Some people, when faced with a problem, think, "I know, I will solve it with regular expressions." Now they have two problems.</i>  Here is an example of a regular write-only (to check the validity of an e-mail address (do not do this !!!)): </p><pre> <code class="hljs markdown">(?:[<span class="hljs-string"><span class="hljs-string">a-z0-9!#$%&amp;'*+/=?^_`{|}~-</span></span>]+(?:\.[<span class="hljs-string"><span class="hljs-string">a-z0-9!#$%&amp;'*+/=?^_`{|}~-</span></span>]+)<span class="hljs-emphasis"><span class="hljs-emphasis">*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*</span></span>")@(?:(?:[<span class="hljs-string"><span class="hljs-string">a-z0-9</span></span>](<span class="hljs-link"><span class="hljs-link">?:[a-z0-9-]*[a-z0-9]</span></span>)?\.)+[<span class="hljs-string"><span class="hljs-string">a-z0-9</span></span>](<span class="hljs-link"><span class="hljs-link">?:[a-z0-9-]*[a-z0-9]</span></span>)?|\[<span class="hljs-string"><span class="hljs-string">(?:(?:25[0-5</span></span>]| 2[<span class="hljs-string"><span class="hljs-string">0-4</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0-9</span></span>]|[<span class="hljs-string"><span class="hljs-string">01</span></span>]?[<span class="hljs-string"><span class="hljs-string">0-9</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0-9</span></span>]?)\.){3}(?:25[<span class="hljs-string"><span class="hljs-string">0-5</span></span>]|2[<span class="hljs-string"><span class="hljs-string">0-4</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0-9</span></span>]|[<span class="hljs-string"><span class="hljs-string">01</span></span>]?[<span class="hljs-string"><span class="hljs-string">0-9</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0-9</span></span>]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])</code> </pre>  And here <a href="http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html">is a</a> more accurate regular checklist for checking the correctness of an email address to the RFC822 standard.  If you suddenly check your email, do not do it! If the user enters the address, then let him enter almost anything, if only there was a dog.  The most reliable way is to send a letter there and make sure that the user can receive it. <a name="Dokumentatsiya_i_ssylki"></a><br><br><h2>  Documentation and links </h2><ul><li>  Original documentation: <a href="https://docs.python.org/3/library/re.html">https://docs.python.org/3/library/re.html</a> ; </li><li>  Very detailed and detailed material: <a href="https://www.regular-expressions.info/">https://www.regular-expressions.info/</a> ; </li><li>  Various complex tricks and subtleties with examples: <a href="http://www.rexegg.com/">http://www.rexegg.com/</a> ; </li><li>  On-line debugging of regulars <a href="https://regex101.com/r/F8dY80/3">https://regex101.com</a> (do not forget to put a tick in Python in the FLAVOR section on the left); </li><li>  On-line visualization of regulars <a href="https://www.debuggex.com/">https://www.debuggex.com/</a> (do not forget to choose Python); </li><li>  Powerful text editor <a href="http://www.sublimetext.com/3">Sublime text 3</a> , in which a very convenient search for regulars; </li></ul><a name="Osnovy_sintaksisa"></a><br><h2>  Basic syntax </h2><br>  Any string (in which there are no characters <code>.^$*+?{}[]\|()</code> ) Is itself a regular expression.  Thus, the expression ‚ÄúHaha‚Äù will correspond to the string ‚ÄúHaha‚Äù and only it.  Regular expressions are case-sensitive, so the string ‚Äúhaha‚Äù (with a small letter) will no longer match the expression above.  Like strings in the Python language, regular expressions have special characters <code>.^$*+?{}[]\|()</code> , Which are control structures in regulars.  To write them simply as symbols you need to <em>escape</em> them, for which you need to put a <code>\</code> in front of them.  Just as in python, the expression <code>\n</code> in regular expressions corresponds to the end of the line, and <code>\t</code> - tabulation. <a name="Shablony_sootvetstvuyuschie_odnomu_simvolu"></a><br><br><h3>  Templates matching one character </h3><br>  In all examples below, regular expression matches are highlighted in turquoise with underlining. <table><thead><tr><th>  Template </th><th>  Description </th><th>  Example </th><th>  Apply to text </th></tr></thead><tbody><tr><td> <code>.</code> </td> <td>  Any single character except newline <code>\n</code> . </td><td> <code>..</code> </td> <td>  <u><font color="#007d5b">milk</font></u> , <u><font color="#007d5b">malako</font></u> , <br>  And a <u><font color="#007d5b">little</font></u> Ihleb </td></tr><tr><td> <code>\d</code> </td> <td>  Any number </td><td> <code>\d\d</code> </td> <td>  <u><font color="#007d5b">SU35</font></u> , <u><font color="#007d5b">SU11</font></u> 1, AL <u><font color="#007d5b">SU14</font></u> </td></tr><tr><td> <code>\D</code> </td> <td>  Any character except digit </td><td> <code>926\D123</code> </td> <td>  <u><font color="#007d5b">926) 123</font></u> , 1 <u><font color="#007d5b">926-123</font></u> 4 </td></tr><tr><td> <code>\s</code> </td> <td>  Any whitespace character (space, tab, end of line, etc.) </td><td> <code>\s</code> </td> <td>  <u><font color="#007d5b">boron</font></u> <u><font color="#007d5b"><br></font></u>  <u><font color="#007d5b">ode</font></u> , beard </td></tr><tr><td> <code>\S</code> </td> <td>  Any non-space character </td><td> <code>\S123</code> </td> <td>  <u><font color="#007d5b">X123</font></u> , <u><font color="#007d5b">I123,!</font></u> <u><font color="#007d5b">123</font></u> 456, 1 + 123456 </td></tr><tr><td> <code>\w</code> </td> <td>  Any letter (that can be part of a word), as well as numbers and <code>_</code> </td><td> <code>\w\w\w</code> </td> <td>  <u><font color="#007d5b">Year</font></u> , <u><font color="#007d5b">f_3</font></u> , <u><font color="#007d5b">qwe</font></u> rt </td></tr><tr><td> <code>\W</code> </td> <td>  Any non-letter, non-digit and underscore </td><td> <code>\W</code> </td> <td>  <u><font color="#007d5b">catfish!</font></u>  , <u><font color="#007d5b">som?</font></u> </td></tr><tr><td> <code>[..]</code> </td> <td>  One of the characters in brackets, <br>  as well as any character in the <code>ab</code> range </td><td> <code>[0-9][0-9A-Fa-f]</code> </td> <td>  <u><font color="#007d5b">12</font></u> , <u><font color="#007d5b">1F</font></u> , <u><font color="#007d5b">4B</font></u> </td></tr><tr><td> <code>[^..]</code> </td> <td>  Any character other than those listed. </td><td> <code>&lt;[^&gt;]&gt;</code> </td> <td>  <u><font color="#007d5b">&lt;1&gt;</font></u> , <u><font color="#007d5b">&lt;a&gt;</font></u> , &lt;&gt;&gt; </td></tr><tr><td> <code>\d‚âà[0-9],</code> <br> <code>\D‚âà[^0-9],</code> <br> <code>\w‚âà[0-9a-zA-Z</code> <br> <code>--],</code> <br> <code>\s‚âà[ \f\n\r\t\v]</code> </td> <td>  The letter ‚Äúe‚Äù is not included in the total range of letters! <br>  Generally speaking, everything that is marked as a ‚Äúdigit‚Äù is included in <code>\d</code> , and in <code>\w</code> is included as a letter.  So much more! </td><td></td><td></td></tr><tr><td> <code>[abc-], [-1]</code> </td> <td>  if you need a minus, you need to specify it last or first </td><td></td><td></td></tr><tr><td> <code>[*[(+\\\]\t]</code> </td> <td>  inside brackets you need to escape only <code>]</code> and <code>\</code> </td><td></td><td></td></tr><tr><td> <code>\b</code> </td> <td>  The beginning or end of a word (on the left is empty or non-letter, on the right is a letter and vice versa). <br>  Unlike previous matches position, not symbol </td><td> <code>\b</code> </td> <td>  <u><font color="#007d5b">shaft</font></u> , pass, transshipment </td></tr><tr><td> <code>\B</code> </td> <td>  Not the boundary of the word: either the left and the right of the letter, <br>  either the left and the right are NOT letters </td><td> <code>\B</code> </td> <td>  <u><font color="#007d5b">shaft</font></u> , shaft, <u><font color="#007d5b">shaft</font></u> </td></tr><tr><td></td><td></td><td> <code>\B\B</code> </td> <td>  pass, shaft, Pere <u><font color="#007d5b">shaft</font></u> </td></tr></tbody></table><br><a name="Kvantifikatory_ukazanie_kolichestva_povtoreniy"></a><br><h3>  Quantifiers (specifying the number of repetitions) </h3><table><thead><tr><th>  Template </th><th>  Description </th><th>  Example </th><th>  Apply to text </th></tr></thead><tbody><tr><td> <code>{n}</code> </td> <td>  Exactly n repetitions. </td><td> <code>\d{4}</code> </td> <td>  1, 12, 123, <u><font color="#007d5b">1234</font></u> , 12345 </td></tr><tr><td> <code>{m,n}</code> </td> <td>  From m to n repetitions inclusive </td><td> <code>\d{2,4}</code> </td> <td>  1, <u><font color="#007d5b">12</font></u> , <u><font color="#007d5b">123</font></u> , <u><font color="#007d5b">1234</font></u> , 12345 </td></tr><tr><td> <code>{m,}</code> </td> <td>  At least m reps </td><td> <code>\d{3,}</code> </td> <td>  1, 12, <u><font color="#007d5b">123</font></u> , <u><font color="#007d5b">1234</font></u> , <u><font color="#007d5b">12345</font></u> </td></tr><tr><td> <code>{,n}</code> </td> <td>  No more than n repetitions </td><td> <code>\d{,2}</code> </td> <td>  <u><font color="#007d5b">1</font></u> , <u><font color="#007d5b">12</font></u> , <u><font color="#007d5b">12</font></u> 3 </td></tr><tr><td> <code>?</code> </td> <td>  Zero or one occurrence, synonym <code>{0,1}</code> </td><td> <code>?</code> </td> <td>  <u><font color="#007d5b">shaft</font></u> , <u><font color="#007d5b">shafts</font></u> , <u><font color="#007d5b">shaft</font></u> </td></tr><tr><td> <code>*</code> </td> <td>  Zero or more, synonym <code>{0,}</code> </td><td> <code>\d*</code> </td> <td>  <u><font color="#007d5b">SU</font></u> , <u><font color="#007d5b">SU1</font></u> , <u><font color="#007d5b">SU12</font></u> , ... </td></tr><tr><td> <code>+</code> </td> <td>  One or more, synonym <code>{1,}</code> </td><td> <code>a\)+</code> </td> <td>  <u><font color="#007d5b">a)</font></u> , <u><font color="#007d5b">a))</font></u> , <u><font color="#007d5b">a)))</font></u> , b <u><font color="#007d5b">a)</font></u> ]) </td></tr><tr><td> <code>*?</code> <br> <code>+?</code> <br> <code>??</code> <br> <code>{m,n}?</code> <br> <code>{,n}?</code> <br> <code>{m,}?</code> </td> <td>  Default <i>greedy</i> quantifiers - <br>  capture as many characters as possible. <br>  Adding <code>?</code>  makes them <em>lazy</em> <br>  they capture the minimum possible number of characters </td><td> <code>\(.*\)</code> <br> <code>\(.*?\)</code> </td> <td>  <u><font color="#007d5b">(a + b) * (c + d) * (e + f)</font></u> <br>  <u><font color="#007d5b">(a + b)</font></u> * (c + d) * (e + f) </td></tr></tbody></table><br><a name="Zhadnost_v_regulyarkah_i_granitsy_naydennogo_shablona"></a><br><h3>  Greed in regulars and the boundaries of the pattern found </h3><p><br>  As stated above, the default quantifiers are <i>greedy</i> .  This approach solves a very important problem - the template boundary problem.  Let's say the <code>\d+</code> pattern captures as many digits as possible.  Therefore, you can be sure that before the pattern found there is not a figure, and after that there is no figure.  However, if there are non-greedy parts in the pattern (for example, explicit text), then the substring can be found unsuccessfully.  For example, if we want to find ‚Äúwords‚Äù starting with <code></code> , followed by numbers, with the regular <code>\d*</code> , then we will find the wrong patterns: <br></p><blockquote>  PA <u><font color="#007d5b">SU13 SU12</font></u> TO <u><font color="#007d5b">SU6</font></u> END IT IS SUCCESSFUL. </blockquote><br>  In cases where this is important, the condition on the border of the template must be added to the regular schedule.  How this can be done will be further. <br><br><a name="Peresechenie_podstrok"></a><br><h3>  Intersection of substrings </h3><p><br>  Normally, regulars allow you to find only non-overlapping patterns.  Together with the word boundary problem, this makes their use in some cases more difficult.  For example, if we decide to search for e-mail addresses using the irregular regular <code>\w+@\w+</code> (or even better, <code>[\w'._+-]+@[\w'._+-]+</code> ), then in unsuccessful case we find this: <br></p><blockquote>  <u><font color="#007d5b">foo @ boo</font></u> @ <u><font color="#007d5b">goo @ moo</font></u> @ <u><font color="#007d5b">roo @ zoo</font></u> </blockquote><br>  That is, on the one hand, it is not an e-mail, but on the other hand, it is not all the substrings of the form <code>--</code> , since boo @ goo and moo @ roo are missing. <br><img src="https://habrastorage.org/webt/lx/wy/qa/lxwyqaue9wvrknkfbsceqxcvcua.png"><br><br><br><a name="Eksperimenty_v_pesochnitse"></a><br><h2>  Sandbox Experiments </h2><br>  If you first come across regular expressions, it‚Äôs best to try the <a href="https://regex101.com/r/aGn8QC/2">sandbox</a> first.  See how simple patterns and quantifiers work.  Solve the following problems for this text (you may have to return to the part after the following theory): <ol><li>  Find all natural numbers (possibly surrounded by letters); </li><li>  Find all the ‚Äúwords‚Äù written in caps (i.e., strictly capitalized), possibly inside real words (aaa <u><font color="#007d5b">BBB</font></u> vvv); </li><li>  Find the words that have the Russian letter, and sometime the number behind it; </li><li>  Find all words beginning with a Russian or Latin capital letter ( <code>\b</code> - word boundary); </li><li>  Find words that begin with a vowel ( <code>\b</code> - word boundary) ;; </li><li>  Find all natural numbers that are not inside or on the boundary of the word; </li><li>  Find the lines that have a <code>*</code> ( <code>.</code> - this is definitely not the end of the line!); </li><li>  Find the lines that have an opening and sometime then closing brackets; </li><li>  Highlight in one fell swoop the entire piece of the table of contents (at the end of the example, along with the tags); </li><li>  Highlight in one fell swoop only the text part of the table of contents, without tags; </li><li>  Find empty lines; </li></ol><br><br><a name="Regulyarki_v_pitone"></a><br><h2>  Regulars in python </h2><p><br>  Functions for working with regulars live in the <code>re</code> module.  Main functions: </p><table><thead><tr><th>  Function </th><th>  Its meaning </th></tr></thead><tbody><tr><td> <code>re.search(pattern, string)</code> </td> <td>  Find the first line in the <code>string</code> that matches the <code>pattern</code> ; </td></tr><tr><td> <code>re.fullmatch(pattern, string)</code> </td> <td>  Check if the string is suitable for the <code>pattern</code> ; </td></tr><tr><td> <code>re.split(pattern, string, maxsplit=0)</code> </td> <td>  Analog <code>str.split()</code> , only the division occurs by substrings that match the <code>pattern</code> ; </td></tr><tr><td> <code>re.findall(pattern, string)</code> </td> <td>  Find all non-intersecting patterns in the <code>string</code> ; </td></tr><tr><td> <code>re.finditer(pattern, string)</code> </td> <td>  Iterator to all non-intersecting patterns <code>pattern</code> in <code>string</code> ( <code>match</code> objects are issued); </td></tr><tr><td> <code>re.sub(pattern, repl, string, count=0)</code> </td> <td>  Replace all non-intersecting patterns in the <code>string</code> with <code>repl</code> ; </td></tr></tbody></table><a name="Primer_ispolzovaniya_vseh_osnovnyh_funktsiy"></a><br><h2>  An example of using all the basic functions </h2><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re match = re.search(<span class="hljs-string"><span class="hljs-string">r'\d\d\D\d\d'</span></span>, <span class="hljs-string"><span class="hljs-string">r' 123-12-12'</span></span>) print(match[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> match <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">'Not found'</span></span>) <span class="hljs-comment"><span class="hljs-comment"># -&gt; 23-12 match = re.search(r'\d\d\D\d\d', r' 1231212') print(match[0] if match else 'Not found') # -&gt; Not found match = re.fullmatch(r'\d\d\D\d\d', r'12-12') print('YES' if match else 'NO') # -&gt; YES match = re.fullmatch(r'\d\d\D\d\d', r'. 12-12') print('YES' if match else 'NO') # -&gt; NO print(re.split(r'\W+', ',  ,  ??!')) # -&gt; ['', '', '', '', '', ''] print(re.findall(r'\d\d\.\d\d\.\d{4}', r'   19.01.2018,     01.09.2017')) # -&gt; ['19.01.2018', '01.09.2017'] for m in re.finditer(r'\d\d\.\d\d\.\d{4}', r'   19.01.2018,     01.09.2017'): print('', m[0], '  ', m.start()) # -&gt;  19.01.2018    20 # -&gt;  01.09.2017    45 print(re.sub(r'\d\d\.\d\d\.\d{4}', r'DD.MM.YYYY', r'   19.01.2018,     01.09.2017')) # -&gt;    DD.MM.YYYY,     DD.MM.YYYY</span></span></code> </pre><br><br><a name="Tonkosti_ekranirovaniya_v_pitone_foo"></a><br><h3>  The subtleties of screening in python ( <code>'\\\\\\\\foo'</code> ) </h3><p><br>  Since the <code>\</code> character in Python lines must also be escaped, as a result, constructs of the form <code>'\\\\par'</code> may appear in the templates.  The first slash means that the character following it must be left "as is".  The third also.  As a result, from the point of view of python, <code>'\\\\'</code> means just two slashes <code>\\</code> .  Now from the point of view of the regular expression engine, the first slash escapes the second.  Thus, as a template for the regular <code>'\\\\par'</code> means simply the text <code>\par</code> .  In order to avoid such a pile of slashes, before the opening quote you need to put the symbol <code>r</code> , which will tell the python "do not consider \ as a shielding character (except when the opening quotation is shielded)".  Accordingly, it will be possible to write <code>r'\\par'</code> . <br><br><a name="Ispolzovanie_dopolnitelnyh_flagov_v_pitone"></a><br></p><h3>  Using additional flags in python </h3><br>  Each of the functions listed above can be given an additional parameter <code>flags</code> , which somewhat changes the mode of operation of the regularizers.  As a value, you need to pass the sum of the selected constants, here they are: <table><thead><tr><th>  Constant </th><th>  Its meaning </th></tr></thead><tbody><tr><td> <code>re.ASCII</code> </td> <td>  By default, <code>\w</code> , <code>\W</code> , <code>\b</code> , <code>\B</code> , <code>\d</code> , <code>\D</code> , <code>\s</code> , <code>\S</code> correspond <br>  all unicode characters with appropriate quality. <br>  For example, <code>\d</code> not only Arabic numbers match, <br>  but these are: Ÿ†Ÿ°Ÿ¢Ÿ£Ÿ§Ÿ•Ÿ¶ŸßŸ®Ÿ©. <br>  <code>re.ASCII</code> speeds up work <br>  if all matches are inside ASCII. </td></tr><tr><td> <code>re.IGNORECASE</code> </td> <td>  Do not distinguish between uppercase and lowercase letters. <br>  Slower, but sometimes convenient </td></tr><tr><td> <code>re.MULTILINE</code> </td> <td>  Special characters <code>^</code> and <code>$</code> match <br>  the beginning and end of each line </td></tr><tr><td> <code>re.DOTALL</code> </td> <td>  By default, the <code>\n</code> end of line character does not fit the dot. <br>  With this flag, a dot is generally any character. </td></tr></tbody></table><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re print(re.findall(<span class="hljs-string"><span class="hljs-string">r'\d+'</span></span>, <span class="hljs-string"><span class="hljs-string">'12 + Ÿ¶Ÿß'</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># -&gt; ['12', 'Ÿ¶Ÿß'] print(re.findall(r'\w+', 'Hello, !')) # -&gt; ['Hello', ''] print(re.findall(r'\d+', '12 + Ÿ¶Ÿß', flags=re.ASCII)) # -&gt; ['12'] print(re.findall(r'\w+', 'Hello, !', flags=re.ASCII)) # -&gt; ['Hello'] print(re.findall(r'[]+', '    ')) # -&gt; ['', ''] print(re.findall(r'[]+', '    ', flags=re.IGNORECASE)) # -&gt; ['', '', '', ''] text = r"""   1 2 """ print(re.findall(r'.', text)) # -&gt; [] print(re.findall(r'.', text, flags=re.DOTALL)) # -&gt; ['\n'] print(re.findall(r'\w+', text, flags=re.MULTILINE)) # -&gt; ['1', '2'] print(re.findall(r'^\w+', text, flags=re.MULTILINE)) # -&gt; ['2']</span></span></code> </pre><br><br><a name="Napisanie_i_testirovanie_regulyarnyh_vyrazheniy"></a><br><h2>  Writing and Testing Regular Expressions </h2><p>  For writing and testing regular expressions, it is convenient to use the <a href="https://regex101.com/r/F8dY80/3">https://regex101.com</a> service (do not forget to put the Python checkbox in the FLAVOR section on the left) or the <a href="http://www.sublimetext.com/3">Sublime text</a> text editor <a href="http://www.sublimetext.com/3">3</a> . <br><br><a name="Zadachi__1"></a><br></p><h2>  Tasks - 1 </h2><br><div class="spoiler">  <b class="spoiler_title">Task 01. Vehicle Registration Marks</b> <div class="spoiler_text"><p>  In Russia, several types of registration marks are used. <br>  The common thing in them is that they consist of numbers and letters.  Moreover, only 12 Cyrillic letters are used, having graphic analogs in the Latin alphabet - A, B, E, K, M, H, O, P, C, T, U and X. </p><p><br>  In private cars, numbers are a letter, three numbers, two letters, then two or three numbers with a region code.  A taxi has two letters, three digits, then two or three digits with a region code.  There are also <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D0%25B3%25D0%25B8%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B5_%25D0%25B7%25D0%25BD%25D0%25B0%25D0%25BA%25D0%25B8_%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D1%2581%25D0%25BF%25D0%25BE%25D1%2580%25D1%2582%25D0%25BD%25D1%258B%25D1%2585_%25D1%2581%25D1%2580%25D0%25B5%25D0%25B4%25D1%2581%25D1%2582%25D0%25B2_%25D0%25B2_%25D0%25A0%25D0%25BE%25D1%2581%25D1%2581%25D0%25B8%25D0%25B8">other species</a> , but they will not be needed in this task. </p><p><br>  You will need to determine whether the sequence of letters is the correct number of these two types, and if so, which one. </p><p><br>  At the input are given the lines that claim to be a number.  Determine the type of room.  The letters in the numbers are capitalized Russians.  Small and English for simplicity can be ignored. </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre> C227NA777 
 KU22777 
 T22B7477 
 M227K19U9 
  C227NA777 
</pre></td><td><pre> Private 
 Taxi 
 Fail 
 Fail 
 Fail </pre></td></tr></tbody></table></div></div><br><div class="spoiler">  <b class="spoiler_title">Task 02. Word Count</b> <div class="spoiler_text">  A word is a sequence of letters (Russian or English) within which there may be hyphens. <br>  At the input is given the text, count how many words in it. <br>  Ps.  The problem is solved in one line.  No tricky techs, not mentioned above, are required. <table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre>  He is a gray-brown-crimson radish !! 
 &gt;&gt;&gt;: -&gt; 
 And not a cat. 
 www.kot.ru </pre></td><td><pre>  9 </pre></td></tr></tbody></table></div></div><br><div class="spoiler">  <b class="spoiler_title">Task 03. Search for e-mails</b> <div class="spoiler_text"><p>  The valid e-mail address format is governed by RFC 5322. <br>  In short, the e-mail consists of a single <code>@</code> ( <em>at-symbol</em> or <em>dog</em> ), text to the dog ( <em>Local part</em> ) and text after the dog ( <em>Domain part</em> ).  In general, any address may be in the address (in short, you can read about it in <a href="https://en.wikipedia.org/wiki/Email_address">Wikipedia</a> ).  Quite strange things can be a valid address, for example: <br> <code>"very.(),:;&lt;&gt;[]\".VERY.\"very@\\ \"very\".unusual"@[IPv6:2001:db8::1]</code> <br> <code>"()&lt;&gt;[]:,;@\\\"!#$%&amp;'-/=?^_`{}| ~.a"@(comment)exa-mple</code> <br>  But the majority of postal services do not allow such hell and orgy.  And we will not :) </p><p><br>  We will consider only addresses whose name consists of no more than 64 Latin letters, numbers and symbols <code>'._+-</code> , and the domain consists of no more than 255 Latin letters, numbers and symbols <code>.-</code> .  Neither Local-part, nor Domain part can begin or end on <code>.+-</code> , and there can be no more than one point in a row in the address. <br>  By the way, it is useful to know that the part of the name after the <code>+</code> symbol is ignored, so you can use the synonyms of your address (for example, <code>shshkv+spam@179.ru</code> and <code>shshkv+vk@179.ru</code> ) in order to simplify your mail sorting.  (True, not all sites allow the use of "+", alas) </p><p><br>  At the entrance is given the text.  It is necessary to display all e-mail addresses that are found in it.  In general, the task is quite complicated, so we will have 3 limitations: <br>  two points inside the address do not occur; <br>  two dogs inside the address do not occur; <br>  We believe that e-mail can be part of the ‚Äúword‚Äù, that is, in <code>boo@ya_ru</code> we see the address <code>boo@ya</code> , and in <code>foo‚Ññboo@ya.ru</code> we see <code>boo@ya.ru</code> . </p><p><br>  Ps.  It is not necessary to do all checks only by regulars.  Regular expressions are simply a tool that makes some of the tasks easy.  No need to make them back difficult :) </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre>  Ivan Ivanovich! 
 Need a response to a letter from ivanoff@ivan-chai.ru. 
 Do not forget to put in a copy 
 serge'o-lupin@mail.ru- this is important. </pre></td><td><pre>  ivanoff@ivan-chai.ru 
 serge'o-lupin@mail.ru </pre></td></tr><tr><td><pre>  NO: foo. @ Ya.ru, foo @ .ya.ru 
 PARTLY: boo @ ya_ru, -boo@ya.ru-, foo‚Ññboo@ya.ru </pre></td><td><pre>  boo @ ya 
 boo@ya.ru 
 boo@ya.ru 
</pre></td></tr></tbody></table></div></div><br><a name="Skobochnye_gruppy__i_perechisleniya_"></a><br><h2>  Bracket groups <code>(?:...)</code> and enumerations <code>|</code> </h2><br><a name="Perechisleniya_operatsiya_ILI"></a><br><h3>  Enumerations (OR operation) </h3><br><p>  To check whether a string satisfies at least one of the patterns, you can use the analogue of the <code>or</code> operator, which is written using the symbol <code>|</code>  . ,       <code>A|B</code>    ,           <code>A</code>  <code>B</code> . ,          <code>|[]||</code> . </p><br><a name="Skobochnye_gruppy_gruppirovka_plyus_kvantifikatory"></a><br><h3>   (  ) </h3><p><br>       . , MAC-           ,   <code>-</code>  <code>:</code> . , <code>01:23:45:67:89:ab</code> .       <code>[0-9a-fA-F]</code> ,      : <br> <code>[0-9a-fA-F]{2}[:-][0-9a-fA-F]{2}[:-][0-9a-fA-F]{2}[:-][0-9a-fA-F]{2}[:-][0-9a-fA-F]{2}[:-][0-9a-fA-F]{2}</code> </p> <p>    ,      . <br>           <code>(?:...)</code> .        <code>?:</code> ,        ,     .     . ,  <code>REGEXP</code> ‚Äî ,  <code>(?:REGEXP)</code> ‚Äî   .    ,    <code>(?:REGEXP)</code>   , ,      . ,    MAC-,   : <br> <code>[0-9a-fA-F]{2}(?:[:-][0-9a-fA-F]{2}){5}</code> <br> <br><a name="Skobki_plyus_perechisleniya"></a><br></p><h3>    </h3><p><br>   <code>(?:...)</code>    ,    . ,  <code>(?:|) (?:|)</code>     ¬´ ¬ª, ¬´ ¬ª, ¬´ ¬ª, ¬´ ¬ª,    <code> | | | </code> . </p><br><a name="Esche_primery"></a><br><h3>   </h3><table><thead><tr><th>  Template </th><th>    </th></tr></thead><tbody><tr><td> <code>(?:\w\w\d\d)+</code> </td> <td>   <u><font color="#007d5b">29</font></u> , <u><font color="#007d5b">15</font></u> 4.     <u><font color="#007d5b">2915</font></u> 4 <u><font color="#007d5b">86</font></u> . </td></tr><tr><td> <code>(?:\w+\d+)+</code> </td> <td>  <u><font color="#007d5b">29</font></u> , <u><font color="#007d5b">154</font></u> .    <u><font color="#007d5b">2915486</font></u> . </td></tr><tr><td> <code>(?:\+7|8)(?:-\d{2,3}){4}</code> </td> <td> <u><font color="#007d5b">+7-926-123-12-12</font></u> , <u><font color="#007d5b">8-926-123-12-12</font></u> </td></tr><tr><td> <code>(?:[][]+)+</code> </td> <td>  <u><font color="#007d5b"></font></u> ‚Äî <u><font color="#007d5b"></font></u> ,  <u><font color="#007d5b"></font></u> ,  <u><font color="#007d5b"></font></u> ! <u><font color="#007d5b"></font></u>  . </td></tr><tr><td> <code>\b(?:[][]+)+\b</code> </td> <td>  ‚Äî <u><font color="#007d5b"></font></u> ,  <u><font color="#007d5b"></font></u> ,  <u><font color="#007d5b"></font></u> !  . </td></tr></tbody></table><img src="https://habrastorage.org/webt/qx/yg/yl/qxygylmuh6j4y9_b0l68tg1eqe0.png"><br><br><a name="Zadachi__2"></a><br><h2>  ‚Äî 2 </h2><br><div class="spoiler"> <b class="spoiler_title"> 04.  </b> <div class="spoiler_text"><p>      ,     . <br>         <code>(TBD)</code> .  ‚Äî    <code>HH:MM:SS</code>  <code>HH:MM</code> ,   <code>HH</code> ‚Äî   00  23,  <code>MM</code>  <code>SS</code> ‚Äî   00  59. </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre> !    09:00   <font></font>
,    09:00:01     . <font></font>
 Ps.   25:50  ! </pre></td><td><pre> !    (TBD)   <font></font>
,    (TBD)     . <font></font>
 Ps.   25:50  ! </pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 05.    </b> <div class="spoiler_text"><p> Pascal requires that real constants have either a decimal point, or an exponent (starting with the letter e or E, and officially called a scale factor), or both, in addition to the usual collection of decimal digits. If a decimal point is included it must have at least one decimal digit on each side of it. As expected, a sign (+ or -) may precede the entire number, or the exponent, or both. Exponents may not include fractional digits. Blanks may precede or follow the real constant, but they may not be embedded within it. Note that the Pascal syntax rules for real constants make no assumptions about the range of real values, and neither does this problem. Your task in this problem is to identify legal Pascal real constants. </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre> 
 1.2 
   one. <font></font>
    1.0e-55  <font></font>
      e-12   <font></font>
  6.5E <font></font>
        1e-12  <font></font>
  +4.1234567890E-99999           <font></font>
  7.6e+12.5 <font></font>
    99 
</pre></td><td><pre> <font></font>
1.2 is legal. <font></font>
1. is illegal. <font></font>
1.0e-55 is legal. <font></font>
e-12 is illegal. <font></font>
6.5E is illegal. <font></font>
1e-12 is legal. <font></font>
+4.1234567890E-99999 is legal. <font></font>
7.6e+12.5 is illegal. <font></font>
99 is illegal. <font></font>
</pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 06. </b> <div class="spoiler_text"><p>         .         , <br>    <em>  </em> , <em>  </em>  ..      ,       <a href="http://sokr.ru/">http://sokr.ru/</a> .  . </p><p>          (   ).      ,   <br>   . </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre>       , <font></font>
      </pre></td><td><pre>  <font></font>
 <font></font>
    </pre></td></tr></tbody></table></div></div><br><a name="Gruppiruyuschie_skobki__i_matchobekty_v_pitone"></a><br><h2>   <code>(...)</code>  <code>match</code> -   </h2><br><a name="Matchobekty"></a><br><h3> Match- </h3><br><p>   <code>re.search</code> , <code>re.fullmatch</code>      ,    <code>None</code> ,  <code>re.finditer</code>   .    ,   <code>match</code> -.           .       <a href="https://docs.python.org/3/library/re.html"></a> ,     . </p><table><thead><tr><th>  </th><th>  Description </th><th>  Example </th></tr></thead><tbody><tr><td> <code>match[0]</code> , <br> <code>match.group()</code> </td> <td> ,   </td><td> <code>match = re.search(r'\w+', r'$$ What??')</code> <br> <code>match[0] # -&gt; 'What'</code> </td> </tr><tr><td> <code>match.start()</code> </td> <td>    ,       </td><td> <code>match = re.search(r'\w+', r'$$ What??')</code> <br> <code>match.start() # -&gt; 3</code> </td> </tr><tr><td> <code>match.end()</code> </td> <td>    ,       </td><td> <code>match = re.search(r'\w+', r'$$ What??')</code> <br> <code>match.end() # -&gt; 7</code> </td> </tr></tbody></table><br><img src="https://habrastorage.org/webt/gs/0r/cf/gs0rcf2gltryc5zh8okl_i2frxy.png"><br><br><a name="Gruppiruyuschie_skobki_"></a><br><h3>   <code>(...)</code> </h3><p><br>        <code>(...)</code>  <code>?:</code> ,    <em></em> .  match-,   <code>re.search</code> , <code>re.fullmatch</code>  <code>re.finditer</code> ,         ,     .    ,   <code>(...)</code> ,         .     . </p><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re pattern = <span class="hljs-string"><span class="hljs-string">r'\s*([--]+)(\d+)\s*'</span></span> string = <span class="hljs-string"><span class="hljs-string">r'--- 45 ---'</span></span> match = re.search(pattern, string) print(<span class="hljs-string"><span class="hljs-string">f'  &gt;</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">&lt;   </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.start(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">  </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.end(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">'</span></span>) print(<span class="hljs-string"><span class="hljs-string">f'  &gt;</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">&lt;   </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.start(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">  </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.end(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">'</span></span>) print(<span class="hljs-string"><span class="hljs-string">f'  &gt;</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">&lt;   </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.start(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">  </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.end(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">'</span></span>) <span class="hljs-comment"><span class="hljs-comment">### # -&gt;   &gt; 45 &lt;   3  16 # -&gt;   &gt;&lt;   6  11 # -&gt;   &gt;45&lt;   11  13</span></span></code> </pre><br><img src="https://habrastorage.org/webt/ne/gb/qz/negbqzrzrcesrkftj9qbjahugue.png"><br><img src="https://habrastorage.org/webt/ov/-z/yr/ov-zyr4szw9rvt55hdn4cc4dr_q.png"><p><br><br><a name="Tonkosti_so_skobkami_i_numeratsiey_grupp"></a><br></p><h3>      . </h3><p><br>       (    ),    match-      . ,           <code>'\s*([--])+(\d)+\s*'</code> ,     : </p><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -&gt;   &gt; 45 &lt;   3  16 # -&gt;   &gt;&lt;   10  11 # -&gt;   &gt;5&lt;   12  13</span></span></code> </pre><p><br>         .               . </p><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re pattern = <span class="hljs-string"><span class="hljs-string">r'((\d)(\d))((\d)(\d))'</span></span> string = <span class="hljs-string"><span class="hljs-string">r'123456789'</span></span> match = re.search(pattern, string) print(<span class="hljs-string"><span class="hljs-string">f'  &gt;</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match[</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">&lt;   </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.start(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">  </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.end(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>): print(<span class="hljs-string"><span class="hljs-string">f' ‚Ññ</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{i}</span></span></span><span class="hljs-string"> &gt;</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match[i]}</span></span></span><span class="hljs-string">&lt;   </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.start(i)}</span></span></span><span class="hljs-string">  </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{match.end(i)}</span></span></span><span class="hljs-string">'</span></span>) <span class="hljs-comment"><span class="hljs-comment">### # -&gt;   &gt;1234&lt;   0  4 # -&gt;  ‚Ññ1 &gt;12&lt;   0  2 # -&gt;  ‚Ññ2 &gt;1&lt;   0  1 # -&gt;  ‚Ññ3 &gt;2&lt;   1  2 # -&gt;  ‚Ññ4 &gt;34&lt;   2  4 # -&gt;  ‚Ññ5 &gt;3&lt;   2  3 # -&gt;  ‚Ññ6 &gt;4&lt;   3  4</span></span></code> </pre><br><a name="Gruppy_i_refindall"></a><br><h3>   <code>re.findall</code> </h3><p><br>      ,         ,        .      ,       <code>(?:...)</code> . </p><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re print(re.findall(<span class="hljs-string"><span class="hljs-string">r'([az]+)(\d*)'</span></span>, <span class="hljs-string"><span class="hljs-string">r'foo3, im12, go, 24buz42'</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># -&gt; [('foo', '3'), ('im', '12'), ('go', ''), ('buz', '42')]</span></span></code> </pre><br><a name="Gruppy_i_resplit"></a><br><h3>   <code>re.split</code> </h3><p><br>      ,  <code>re.split</code>      <code>str.split</code> .        ,           . </p><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re print(re.split(<span class="hljs-string"><span class="hljs-string">r'(\s*)([+*/-])(\s*)'</span></span>, <span class="hljs-string"><span class="hljs-string">r'12 + 13*15 - 6'</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># -&gt; ['12', ' ', '+', ' ', '13', '', '*', '', '15', ' ', '-', ' ', '6']</span></span></code> </pre>        ! ,       ,     ! <pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re print(re.split(<span class="hljs-string"><span class="hljs-string">r'\s*([+*/-])\s*'</span></span>, <span class="hljs-string"><span class="hljs-string">r'12 + 13*15 - 6'</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># -&gt; ['12', '+', '13', '*', '15', '-', '6']</span></span></code> </pre><br><br><br><a name="Ispolzovanie_grupp_pri_zamenah"></a><br><h2>     </h2><p><br>     ( <code>re.sub</code> ,     ,   )   :            <code>\1, \2, \3, ...</code> . ,       //    ..,     : </p><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re text = <span class="hljs-string"><span class="hljs-string">"We arrive on 03/25/2018. So you are welcome after 04/01/2018."</span></span> print(re.sub(<span class="hljs-string"><span class="hljs-string">r'(\d\d)/(\d\d)/(\d{4})'</span></span>, <span class="hljs-string"><span class="hljs-string">r'\2.\1.\3'</span></span>, text)) <span class="hljs-comment"><span class="hljs-comment"># -&gt; We arrive on 25.03.2018. So you are welcome after 01.04.2018.</span></span></code> </pre><p><br>    9,          <code>\g&lt;12&gt;</code> . </p><br><a name="Zamena_s_obrabotkoy_shablona_funktsiey_v_pitone"></a><br><h3>        </h3><p><br>       :   <code>re.sub</code>       ,      match-    ,      .         ,    . , ¬´¬ª  ,    ¬´¬ª: </p><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">repl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'&gt;censored('</span></span> + str(len(m[<span class="hljs-number"><span class="hljs-number">0</span></span>])) + <span class="hljs-string"><span class="hljs-string">')&lt;'</span></span> text = <span class="hljs-string"><span class="hljs-string">"   : , , ."</span></span> print(re.sub(<span class="hljs-string"><span class="hljs-string">r'\b[xX]\w*'</span></span>, repl, text)) <span class="hljs-comment"><span class="hljs-comment"># -&gt;  &gt;censored(7)&lt;  : &gt;censored(3)&lt;, &gt;censored(7)&lt;, &gt;censored(15)&lt;.</span></span></code> </pre><br><br><a name="Ssylki_na_gruppy_pri_poiske"></a><br><h3>      </h3><p><br>   <code>\1, \2, \3, ...</code>  <code>\g&lt;12&gt;</code>        .      ,        xml  html. </p><p><br>  ,      xml    html   !      .   .  ,     html ,    .   ¬´    html,  ¬ª,       .     html ,           :)      html     .     html  xml    :  html  xml   ,      ,     <em></em> . </p><p><br>  <a href="http://lxml.de/">lxml</a>  <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">beautiful soup</a> . </p><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re text = <span class="hljs-string"><span class="hljs-string">"SPAM &lt;foo&gt;Here we can &lt;boo&gt;find&lt;/boo&gt; something interesting&lt;/foo&gt; SPAM"</span></span> print(re.search(<span class="hljs-string"><span class="hljs-string">r'&lt;(\w+?)&gt;.*?&lt;/\1&gt;'</span></span>, text)[<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># -&gt; &lt;foo&gt;Here we can &lt;boo&gt;find&lt;/boo&gt; something interesting&lt;/foo&gt; text = "SPAM &lt;foo&gt;Here we can &lt;foo&gt;find&lt;/foo&gt; OH, NO MATCH HERE!&lt;/foo&gt; SPAM" print(re.search(r'&lt;(\w+?)&gt;.*?&lt;/\1&gt;', text)[0]) # -&gt; &lt;foo&gt;Here we can &lt;foo&gt;find&lt;/foo&gt;</span></span></code> </pre><br><br><a name="Zadachi__3"></a><br><h2>  ‚Äî 3 </h2><br><div class="spoiler"> <b class="spoiler_title"> 07. </b> <div class="spoiler_text"><p>      .  ,    . <br>     ,      ( )   .  . </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre>   12   <font></font>
 410.37 . </pre></td><td><pre>   1728   <font></font>
 68921000.50653 . </pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 08.   ,   ,   </b> <div class="spoiler_text">  ‚Äî  ,       . <br>  ‚Äî  ,    (. , , , ),     (   ,   ¬´ ¬ª, :  ‚Äî ¬´--¬ª). <br>    .      .    . <br>       . <table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre>      </pre></td><td><pre>  </pre></td></tr><tr><td><pre>    , <font></font>
    </pre></td><td><pre>  </pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 09. </b> <div class="spoiler_text"><p>  ‚Äî      ,   XIV . <br>      17 ,    .    ‚Äî  ‚Äî       5, 7   5 .              ,  ,    . </p><p><br>   ,    ,   .       <code>/</code> .      ,   5/7/5 ,   ¬´!¬ª.      3,    ¬´ .   3 .¬ª     ¬´ .  i    s,  j.¬ª,   <code>i</code> ‚Äî  ,     . </p><p><br>    ,     ,  ,    . </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td>   . /    . /  ... </td><td> ! </td></tr><tr><td>   </td><td>  .   3 . </td></tr><tr><td>   ! /     /  -. </td><td>  .  1    5,  6. </td></tr><tr><td>    /   ‚Ä¶ /  ! </td><td>  .  2    7,  8. </td></tr><tr><td> ,  , / ,   , / ,   ! </td><td>  .  1    5,  6. </td></tr><tr><td>  ‚Ä¶ /     /  . </td><td> ! </td></tr></tbody></table></div></div><br><a name="Shablony_sootvetstvuyuschie_ne_konkretnomu_tekstu_a_pozitsii"></a><br><h2> ,    ,   </h2><p><br>         ,     .       ,     ,   ¬´¬ª . </p><br><a name="Prostye_shablony_sootvetstvuyuschie_pozitsii"></a><br><h3>  ,   </h3><br>   ,        <em> </em> .  <em> </em> (        )   <em> </em> . <table><thead><tr><th>  Template </th><th>  Description </th><th>  Example </th><th>    </th></tr></thead><tbody><tr><td> <code>^</code> </td> <td>       , <br>  <code>flag=re.MULTILINE</code> </td><td> <code>^</code> </td> <td></td></tr><tr><td> <code>$</code> </td> <td>       , <br>  <code>flag=re.MULTILINE</code> </td><td> <code> !$</code> </td> <td></td></tr><tr><td> <code>\A</code> </td> <td>     </td><td></td><td></td></tr><tr><td> <code>\Z</code> </td> <td>     </td><td></td><td></td></tr><tr><td> <code>\b</code> </td> <td>     (   -,    ) </td><td> <code>\b</code> </td> <td> <u><font color="#007d5b"></font></u> , ,  </td></tr><tr><td> <code>\B</code> </td> <td>   :   ,   , <br>   ,     </td><td> <code>\B</code> </td> <td>  <u><font color="#007d5b"></font></u> , ,  <u><font color="#007d5b"></font></u>  </td></tr><tr><td></td><td></td><td> <code>\B\B</code> </td> <td> , ,  <u><font color="#007d5b"></font></u>  </td></tr></tbody></table><img src="https://habrastorage.org/webt/kw/5r/fl/kw5rflnuz8-likbpgl5vbg8b_5k.png"><br><a name="Slozhnye_shablony_sootvetstvuyuschie_pozitsii_lookaround_i_Co"></a><br><h3>  ,   ( <em>lookaround</em>  Co) </h3><br><p>        ,   ,        ,    <br>     match-. </p><table><thead><tr><th>  Template </th><th>  Description </th><th>  Example </th><th>    </th></tr></thead><tbody><tr><td> <code>(?=...)</code> </td> <td> <em>lookahead assertion</em> ,   <br> ,     <br>   ... </td><td> <code>Isaac (?=Asimov)</code> </td> <td> <u><font color="#007d5b">Isaac</font></u> Asimov, Isaac other </td></tr><tr><td> <code>(?!...)</code> </td> <td> <em>negative lookahead assertion</em> ,  <br>  ,    <br>     ... </td><td> <code>Isaac (?!Asimov)</code> </td> <td> Isaac Asimov, <u><font color="#007d5b">Isaac</font></u> other </td></tr><tr><td> <code>(?&lt;=...)</code> </td> <td> <em>positive lookbehind assertion</em> ,  <br>  ,     ... <br>     , <br>   <code>abc</code>  <code>a|b</code> ‚Äî  ,  <code>a*</code>  <code>a{2,3}</code> ‚Äî . </td><td> <code>(?&lt;=abc)def</code> </td> <td> abc <u><font color="#007d5b">def</font></u> , bcdef </td></tr><tr><td> <code>(?&lt;!...)</code> </td> <td> <em>negative lookbehind assertion</em> ,  <br>  ,    <br>   ... </td><td> <code>(?&lt;!abc)def</code> </td> <td> abcdef, bc <u><font color="#007d5b">def</font></u> </td></tr></tbody></table><img src="https://habrastorage.org/webt/a8/qa/6n/a8qa6nmhwgpveojzfyk3odkd6do.png"><p>     .       ,         .      ,     (    AND  - ). <br><br><a name="lookaroundfrance"></a><br></p><h3> lookaround       </h3><p><br> <code>(?=VI)</code> ‚Äî ,    VI <br></p><blockquote> IV, IX, V, VI, VII, VIII, <br> IX, <font color="#00FFDD"><u></u></font> VI, <font color="#00FFDD"><u></u></font> VII, <font color="#00FFDD"><u></u></font> VIII, X, ..., XVIII, <br> I, II, III, IV, V, VI <br></blockquote><br> <code>(?!VI)</code> ‚Äî ,     VI <br><blockquote> IV, IX, V, VI, VII, VIII, <br> <font color="#00FFDD"><u></u></font> IX, VI, VII, VIII, <font color="#00FFDD"><u></u></font> X, ..., <font color="#00FFDD"><u></u></font> XVIII, <br> I, II, III, IV, V, VI <br></blockquote><br> <code>(?&lt;=)VI</code> ‚Äî ¬´¬ª,     <br><blockquote> IV, IX, V, VI, VII, VIII, <br> IX,  <font color="#00FFDD"><u>VI</u></font> ,  <font color="#00FFDD"><u>VI</u></font> I,  <font color="#00FFDD"><u>VI</u></font> II, X, ..., XVIII, <br> I, II, III, IV, V, VI <br></blockquote><br> <code>(?&lt;!)VI</code> ‚Äî ¬´¬ª,      <br><blockquote> IV, IX, V,  <font color="#00FFDD"><u>VI</u></font> ,  <font color="#00FFDD"><u>VI</u></font> I,  <font color="#00FFDD"><u>VI</u></font> II, <br> IX, VI, VII, VIII, X, ..., X <font color="#00FFDD"><u>VI</u></font> II, <br> I, II, III, IV, V,  <font color="#00FFDD"><u>VI</u></font> <br></blockquote><br><br><table><thead><tr><th>  Template </th><th>  Comment </th><th>    </th></tr></thead><tbody><tr><td> <code>(?&lt;!\d)\d(?!\d)</code> </td> <td> ,  - </td><td> Text ABC 123 A <u><font color="#007d5b">1</font></u> B <u><font color="#007d5b">2</font></u> C <u><font color="#007d5b">3</font></u> ! </td></tr><tr><td> <code>(?&lt;=#START#).*?(?=#END#)</code> </td> <td>   #START#  #END# </td><td> text from #START# <u><font color="#007d5b">till</font></u> #END# </td></tr><tr><td> <code>\d+(?=_(?!_))</code> </td> <td> ,       </td><td> <u><font color="#007d5b">12</font></u> _34__56 </td></tr><tr><td> <code>^(?:(?!boo).)*?$</code> </td> <td> ,    boo <br> (    , <br>    boo) </td><td> <u><font color="#007d5b">a foo and</font></u> <br> boo and zoo <br> <u><font color="#007d5b">and others</font></u> </td></tr><tr><td> <code>^(?:(?!boo)(?!foo).)*?$</code> </td> <td> ,     boo,  foo </td><td> a foo and <br> boo and zoo <br> <u><font color="#007d5b">and others</font></u> </td></tr></tbody></table><br><img src="https://habrastorage.org/webt/wo/vz/qc/wovzqcc51js7coj1m9rnsr3wccu.png"><br><img src="https://habrastorage.org/webt/_s/s5/73/_ss5732wojeh6sva9kywh6ekgfu.png"><br><br><a name="Prochie_fichi"></a><br><h2>   </h2><p><br> ,    ,    ,    ,      .      <a href="https://habr.com/ru/post/349860/"> </a> .             ,       . <br>            Perl ‚Äî     :) <br><a name="Zadachi__4"></a><br></p><h2>  ‚Äî 4 </h2><br><div class="spoiler"> <b class="spoiler_title"> 10. CamelCase -&gt; under_score</b> <div class="spoiler_text"><p>     ,     ¬´¬ª. <br>    ,     ,  ,             (under_score).    ,    ¬´ ¬ª. </p><p>      , ,  ,        . <br>      ,    , ‚Äî   ,   . </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre> MyVar17 = OtherVar + YetAnother2Var <font></font>
TheAnswerToLifeTheUniverseAndEverything = 42 </pre></td><td><pre> my_var17 = other_var + yet_another2_var <font></font>
the_answer_to_life_the_universe_and_everything = 42 </pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 11.  </b> <div class="spoiler_text"><p>     ‚Äî   . <br>      .      (,     ,     ). </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td>     ‚Äî      . ,    ?     . </td><td>    ‚Äî    . ,   ?     . </td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 12.  </b> <div class="spoiler_text"><p>        ,    <code>_</code> (   <code>\w</code> ). <br>  .      ,     ¬´¬ª,    5 ,      ¬´¬ª. </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre>   ,   ! </pre></td><td><pre> ,    </pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 13.   </b> <div class="spoiler_text"><p>     ,        . <br>     . </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre> 12  <font></font>
 123 <font></font>
1234  <font></font>
12354  <font></font>
 123456 <font></font>
 1234567 </pre></td><td><pre> 12  <font></font>
 123 <font></font>
1,234  <font></font>
12,354  <font></font>
 123,456 <font></font>
 1,234,567 </pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 14.    </b> <div class="spoiler_text"><p>    , : <br></p><ul><li>         ; </li><li>        <code>.;!?</code>  ; </li><li>         ; </li><li>       (    ¬´   . . )¬ª. </li></ul><p>     ,      . <br>       .           . </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre>   <font></font>
  ...   <font></font>
  ! ? , !  And this <font></font>
<font></font>
  . </pre></td><td><pre>     ... <font></font>
    ! <font></font>
? <font></font>
, ! <font></font>
    . <font></font>
</pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 15.   </b> <div class="spoiler_text"><p>   -     ,   ,    10          . -   <code>+7</code> , -   <code>7</code>  <code>8</code> ,      .   -  , -   , -  (      ).     -  , - , -   .      ‚Äî .     ,  ‚Ä¶    ! </p><p><br>     ,      .      <code>+7 123 456-78-90</code> .    -  ,     <code>Fail!</code>  . </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre> +7 123 456-78-90 </pre></td><td><pre> +7 123 456-78-90 </pre></td></tr><tr><td><pre> 8(123)456-78-90 </pre></td><td><pre> +7 123 456-78-90 </pre></td></tr><tr><td><pre> 7(123) 456-78-90 </pre></td><td><pre> +7 123 456-78-90 </pre></td></tr><tr><td><pre>  1234567890 </pre></td><td><pre> +7 123 456-78-90 </pre></td></tr><tr><td><pre> 123456789 </pre></td><td><pre> Fail! </pre></td></tr><tr><td><pre> +9 123 456-78-90 </pre></td><td><pre> Fail! </pre></td></tr><tr><td><pre> +7 123 456+78=90 </pre></td><td><pre> Fail! </pre></td></tr><tr><td><pre> +7(123 45678-90 </pre></td><td><pre> +7 123 456-78-90 </pre></td></tr><tr><td><pre> 8(123 456-78-90 </pre></td><td><pre> Fail! </pre></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title"> 16.  e-mail' ‚Äî 2</b> <div class="spoiler_text"><p>      . <br>        ! </p><p><br>    .    e-mail ,    .   e-mail     ,       e-mail'     ,  -        <code>'._+-</code> ,   . </p><table><tbody><tr><th>  Input </th><th>  Conclusion </th></tr><tr><td><pre>  ! <font></font>
     ivanoff@ivan-chai.ru. <font></font>
     <font></font>
serge'o-lupin@mail.ru-  . </pre></td><td><pre> ivanoff@ivan-chai.ru <font></font>
serge'o-lupin@mail.ru </pre></td></tr><tr><td><pre> NO: foo.@ya.ru, foo@.ya.ru, foo@foo@foo<font></font>
NO: +foo@ya.ru, foo@ya-ru<font></font>
NO: foo@ya_ru, -foo@ya.ru-, foo@ya.ru+<font></font>
NO: foo..foo@ya.ru <font></font>
YES: (boo1@ya.ru), boo2@ya.ru!, boo3@ya.ru </pre></td><td><pre> boo1@ya.ru <font></font>
boo2@ya.ru <font></font>
boo3@ya.ru <font></font>
</pre></td></tr></tbody></table></div></div><a name="Post_scriptum"></a><br><h2> Post scriptum </h2><br>  Ps.  ,       .      ,    . <br> PSS.      html  -html . ,     ,      ,    ?  :) </div><p>Source: <a href="https://habr.com/ru/post/349860/">https://habr.com/ru/post/349860/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349842/index.html">Check Point Technical Support (TAC). Quick Start Guide</a></li>
<li><a href="../349844/index.html">Microsatellites for Earth Remote Sensing</a></li>
<li><a href="../349852/index.html">Extension methods for .NET standard library types</a></li>
<li><a href="../349854/index.html">Migrate API and what it eat. On the example of the migration of the forum Drupal 7. Part 1</a></li>
<li><a href="../349858/index.html">How JS Works: Service Workers</a></li>
<li><a href="../349862/index.html">Application Release Automation: Release Management Automation "Goes to the Cloud"</a></li>
<li><a href="../349864/index.html">Natasha - a library for extracting structured information from texts in Russian</a></li>
<li><a href="../349866/index.html">W3View - straight web UI path</a></li>
<li><a href="../349868/index.html">Changes in the Java 10 Standard Library</a></li>
<li><a href="../349870/index.html">Parsing ICO TenX: scam or not?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>