<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sharing with RAIDIX and Apple Xsan. Apple saved for video editors</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Efficient storage of large files in various industries becomes a daunting task. So, in the media industry used huge amounts of content. Considering th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sharing with RAIDIX and Apple Xsan. Apple saved for video editors</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/bm/hy/qu/bmhyqucm5lcu-h2haazv1xja7oq.jpeg"><br><br>  Efficient storage of large files in various industries becomes a daunting task.  So, in the media industry used huge amounts of content.  Considering that 4K digital video requires 4 times more free capacity than standard high definition files, a medium-length feature film can take from 2 (in full HD format) to 15 (in 8K) terabytes of data. <br><br>  Studio specialists operate terabyte-sized files and perform video editing, color correction and final processing of the material with the help of resource-intensive professional applications. <br><a name="habracut"></a><br>  Post-production studios in most cases use Apple equipment and professional software suite, for example, Apple Final Cut Pro, Adobe Premiere Pro, Autodesk Discreet Smoke, DaVinci Resolve and others. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      One of the best solutions for fast file sharing from various Apple workstations is the Xsan cluster file system, which provides high performance when sharing resources between multiple clients. <br><br>  Combined with a reliable data storage system, this solution not only provides shared access to materials, but also maximizes throughput, fault tolerance in RAID arrays and flexible architecture scalability.  Next, we describe how to build a high-performance storage system based on RAIDIX software and the Xsan file system, we give the elements of infrastructure, technical indicators, recommendations for the equipment, connection and configuration of the system. <br><br><h2>  Tasks and solution </h2><br>  The constantly growing amount of information and the use of resource-intensive software in post-production implies a growing demand for high-performance storage systems with high data availability.  At the same time, modern video data processing processes require that the same files be available simultaneously for several installation stations that perform various tasks. <br><br>  Other key requirements of media studios include: <br><br><ol><li>  <b>High speed access.</b>  It involves the use of local storage or high-speed access to the network storage system. </li><li>  <b>Distributed access.</b>  It involves the use of a file system with simultaneous access to files from multiple workstations. </li></ol><br>  The simultaneous solution of these polar problems is successfully implemented in the Xsan file system.  Apple Xsan is Apple's 64-bit cluster file system for Mac OS X or Mac OS X Server.  The system is designed to provide quick access to huge amounts of data.  Xsan allows you to share files and volumes up to 16 TB each in a high-speed optical network. <br><br>  Xsan is characterized by high availability and almost no failures, providing the ability to use a SAN network to consolidate data and replace NAS devices. <br><br><h2>  Solution Components </h2><br><h3>  Storage System </h3><br>  The single-controller server SM 6048R-E1CR36N with RAIDIX software and FC 16Gb + JBOD 847E1C-R1K28JBOD configuration is used as the storage system.  The system supports SATA, SAS, NL-SAS drives.  The storage has 4 16 Gb Fiber Channel ports, the total bandwidth reaches 6 GB / s. <br><br><img src="https://habrastorage.org/webt/zq/ir/ij/zqirijdje2tdau0p8ns_21alhlc.jpeg"><br><br><h3>  Metadata Controller </h3><br>  As a metadata controller (MDC), it is recommended to use the Apple Mac Mini.  To ensure high availability, it is preferable to use 2 metadata controllers. <br><br><img src="https://habrastorage.org/webt/tw/as/re/twasre_opprhbza3jgqj0ihmnmq.jpeg"><br><br><h3>  Client workstation </h3><br>  In the role of client stations it is recommended to use Apple Mac Pro server. <br><br><img src="https://habrastorage.org/webt/ta/wq/q0/tawqq0nkilhfijncmgfukmwv6mo.png"><br><br><h3>  File system </h3><br>  Xsan distributed cluster file system allows simultaneous access to video from any workstation.  Xsan must be pre-installed and licensed on the Apple Mac Mini. <br><br><img src="https://habrastorage.org/webt/8h/jf/vv/8hjfvvct-mmzicadq6qzm-pysyc.png"><br><br><h3>  Switching </h3><br>  <b>Fiber Channel / Thunderbolt.</b>  Mac mini and Mac Pro do not support FC adapters, so ATTO ThunderLink FC 2082 for Mac Mini and ATTO ThunderLink FC 2162 for Mac Pro are recommended for connection to the SAN network. <br><br><img src="https://habrastorage.org/webt/wu/zg/ip/wuzgip3zyzobbjf41pz_k8jgvpg.png"><br><br>  <b>Fiber Channel (FC) switch.</b>  When building a solution with a small number of clients (up to 20), the connection between FC adapters is made directly from the storage system to the MDC and clients (without the FC switch).  To deploy a SAN network with a large number of clients, at least one FC switch is required. <br><br><img src="https://habrastorage.org/webt/ec/ra/r5/ecrar5ql75_in62ldtct_87vuu8.png"><br><br>  Most of all components are connected by fiber-optic cable with LC-LC connectors and are connected directly to ATTO FC storage system and workstations adapters, FC Thunderbolt, FC switches. <br><br><img src="https://habrastorage.org/webt/mp/ij/up/mpijupuzzzqbqsyen2dbegfh4cg.png"><br><br>  <i>Important:</i> optical cables connect to FC adapters via SFP transceivers in each port.  Most FC adapters come with SFP transceivers, but some switches are supplied without transceivers, which must be considered when purchasing equipment. <br><br>  The only exception to the optical switching scheme is the connection between the Apple Mac Mini and the Fiber Channel Thunderbolt: it uses a special Thunderbolt cable. <br><br>  MDC servers and all client workstations must be connected with an ETH channel (network) for metadata. <br><br><h2>  Solution Architecture </h2><br>  As a controlling component in this architecture, we consider RAIDIX, software for creating universal high-performance storage systems using standard hardware components.  Using parallel RAID computing and unique proprietary mathematical algorithms, RAIDIX software meets the high demands of the media industry in terms of performance, fault tolerance and business continuity. <br><br>  Below is a diagram of the switching components required to build a high-speed and high-available storage system for media studios. <br><br><img src="https://habrastorage.org/webt/iz/w5/7z/izw57znljymepex1gt_umzkmzb0.png"><br><br>  RAIDIX supports single-controller (one node is involved) and dual-controller (Active-Active) system modes.  In dual-controller mode, both nodes are active, working simultaneously and have access to a single set of disks.  The nodes are hardware-independent components of the storage system, which have their own processors, cache memory, motherboard, and can be clustered. <br>  Below is a diagram of the switching components required to build a high-speed and high-available storage system for media studios. <br><br><h2>  Recommendations </h2><br>  The following are recommendations for configuring storage systems for high performance and reliability. <br><br><h3>  ATTO FC Thunderbolt Setup </h3><br>  On the client workstation side, it is recommended to use the latest firmware and driver versions.  In most cases, it is recommended to use the default settings for FC Thunderbolt.  All settings are set using the ATTO ConfigTool utility, which can be downloaded from the manufacturer's website. <br><br><h3>  Discs </h3><br>  It is recommended to use NL SAS 7K disks.  These disks have the best performance at a cost of 1 GB and provide high density and reliable storage. <br><br><h3>  Dedicated Ethernet subnet for MDC </h3><br>  Each Apple Mac Pro workstation ships with at least two Ethernet 1G ports built into the motherboard.  One of these ports must be connected to an isolated, dedicated for each Xsan client subnet and used for the primary Xsan metadata traffic.  The Apple Mac Mini, deployed as a metadata controller, has one Ethernet port.  The recommended configuration is to use this port in an isolated network with other clients.  This configuration excludes access to the Mac Mini outside the isolated subnet. <br><br><h3>  One volume (LUN) in one RAID array </h3><br>  In a configuration where sequential throughput is important, it is desirable to minimize the number of disk searches.  In this regard, it is recommended to create one volume (LUN) for the entire size of the RAID array.  In addition, the Xsan volume should be created from block devices of a single storage system. <br><br><h3>  RAID Configuration </h3><br>  High speed sequential access and optimal use of disk space is achieved through parallel computing and unique mathematical algorithms.  In addition, the solution uses a proprietary RAID-array 7.3i with triple parity distribution.  Under checksums, the capacity of three disks is allocated, which results in a higher degree of reliability. <br><br>  To ensure high throughput, it is necessary to create four initialized RAID 7.3i arrays of 18 disks each (2 arrays ‚Äî disks on storage nodes; 2 other arrays ‚Äî JBOD disks).  For each RAID array, you should allocate a cache of at least 12 GB of RAM.  The remaining 8 disks are recommended to be evenly distributed in the spare pool for 2 disks for each RAID array. <br><br>  For the Xsan metadata volume, it is recommended to create a separate RAID 10 of two 2.5 ‚Äùdisks directly connected to the motherboard. <br><br><h2>  Business results </h2><br>  Xsan allows you to use all the capabilities of a SAN network and configure a data storage server by visualizing the complex network topology in a simple graphical interface.  Using this cluster file system, a user can control access to important files, set quotas for each user, set up alerts, consolidate data, scale infrastructure on the fly. <br><br>  Using Xsan cluster functions, a RAIDIX-based solution allows for maximum channel width in each specific hardware configuration, support for multiple 2K / 4K streams, fast data processing from several Apple Mac Pro workstations, and fault tolerance even if up to 3 drives fail in an array. <br><br>  Thus, the media customer has the opportunity to reduce the post-production time (in practice by 2‚Äì4 times depending on the project), as well as to provide an average of more than 300 days of continuous recording online (before prevention), support for multi-camera video editing and transparent monitoring system. </div><p>Source: <a href="https://habr.com/ru/post/341102/">https://habr.com/ru/post/341102/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341086/index.html">Numbers and letters: how was SmartData conference</a></li>
<li><a href="../341092/index.html">Results of web activity after 10 years</a></li>
<li><a href="../341094/index.html">Stryker, mutation testing in javascript</a></li>
<li><a href="../341096/index.html">Fake emails from almost any person in less than 5 minutes and ways to protect</a></li>
<li><a href="../341100/index.html">We help taxi service: redesign of the logo and the appearance of corporate identity</a></li>
<li><a href="../341106/index.html">Android O and background services</a></li>
<li><a href="../341108/index.html">Moxy Strategies (Part 2)</a></li>
<li><a href="../341110/index.html">Another operating system architecture</a></li>
<li><a href="../341112/index.html">Another virtual machine architecture (part one)</a></li>
<li><a href="../341114/index.html">Another virtual machine architecture (part two)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>