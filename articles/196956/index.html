<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúPVS-Studio developers, have you heard about Clang at all?‚Äù, Or a comparison of PVS-Studio and Clang without code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quite often, when we write articles about the static analyzer C ++ code of PVS-Studio, we are asked one of the following questions: 

1. And how is PV...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúPVS-Studio developers, have you heard about Clang at all?‚Äù, Or a comparison of PVS-Studio and Clang without code</h1><div class="post__text post__text-html js-mediator-article">  Quite often, when we write articles about the static analyzer C ++ code of PVS-Studio, we are asked one of the following questions: <ol><li>  And how is PVS-Studio better than Clang? </li><li>  But Clang is free, and you are worth the money - it is not clear why? </li><li>  Clang is better, you can easily add your own diagnostics there, because this is open source! </li><li>  It's time for you to close, Clang will crush you, if not now, then when you debug the Windows version (well, this is not even how the question is formulated). </li></ol>  The time has come to thoroughly answer these questions. <br><a name="habracut"></a><br><br>  I'll start with a little joke.  PVS-Studio is better than Clang at least in that PVS-Studio found errors in the Clang code ( <a href="http://www.viva64.com/ru/b/0108/">one</a> , <a href="http://www.viva64.com/ru/b/0155/">two</a> ), and Clang did not in the PVS-Studio code. <br><br>  Compare code analysis tools, not an easy task (I already <a href="http://www.viva64.com/ru/a/0071/">wrote on this topic</a> ).  It is incorrect to compare static analysis tools only according to a set of diagnostic rules.  Indeed, in ordinary life, tools are used not in tests, but in real projects.  And then it turns out that the static analysis tool has two phases - introduction into an existing project and regular use. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's look at how a person tries, for example, Clang.  Perhaps a person takes several small test files with program errors, runs the analyzer on them and sees that the analyzer has found something, has not found something.  Suppose a person liked the diagnostics that worked.  After that, he tries the analyzer on his real project and sees hundreds, or even thousands of messages from the code analyzer.  It cannot fix them all at once, it is unclear what to do with them, because the Clang analyzer will simply output them to the console.  It is at this point that the implementation of the analyzer should begin. <br><br>  <b>The goal of introducing static analysis into an existing (and therefore large) project is to receive diagnostic messages when the analyzer is started on code 0.</b>  And here it turns out that Clang has nothing to offer.  It simply has no mechanisms for working with a large number of messages.  Well, except how to manually go through each message and make edits if necessary. <br><br>  What can PVS-Studio offer?  A lot of things: <ol><li>  Exclusion from analysis of individual files, files by mask or folders. </li><li>  Filtering messages by error code or message content. </li><li>  Various ways to sort messages. </li><li>  Markup messages as false alarms (False Alarm) for further concealment. </li><li>  And much more. </li></ol>  The key point is that all these functions work in real time without the need to restart the analysis.  This is very important, since on large projects the code can be checked for a long time. <br><br>  Why does PVS-Studio have such opportunities to simplify the implementation stage, while Clang doesn‚Äôt have them?  The point is that the presentation of the analysis results in PVS-Studio is a table (as in the figure): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c0/797/fd9/8c0797fd9b8c6d239de8d8b47079813a.png" alt="Figure 1 - Presentation of the results of the analysis of PVS-Studio."><br>  Figure 1 - Presentation of the results of the analysis of PVS-Studio. <br><br>  More precisely, the table is a visual representation, and inside it is a database, with all the attendant possibilities for filtering and processing this data.  In the case of clang, this is output to the console.  Of course, when clang is integrated into the development environment, we get navigation, but nothing more.  This means that we approach the main difference between PVS-Studio and Clang. <br><br>  <b>As part of PVS-Studio, there are ways to implement a tool (reducing to zero the number of messages on an existing project), but not as part of Clang.</b>  This does not seem important when you are just reading articles on the Internet about code analysis, but it comes to the fore when you are trying to implement static analysis in your project, which is already several years old. <br><br>  It may seem that I deliberately avoid comparing PVS-Studio and Clang in terms of diagnostics.  Yes and no.  The task of comparing the diagnostic capabilities of tools is complex in itself.  But moreover, the results of such a comparison very quickly become obsolete.  And we, working on PVS-Studio, and the Clang developers all add new diagnostics. <br><br>  If someone says: ‚ÄúI run clang and I have 0 diagnostics, although I didn‚Äôt do any implementation,‚Äù then this person simply uses the already implemented tool.  That's all. <br><br>  Now to the question of why Clang is free, and PVS-Studio costs money.  Programmers do not always think about the means from which they receive their salaries.  Over Clang work programmers from Apple, Google, Intel.  We are developing PVS-Studio as an independent project and are forced to earn a salary ourselves, therefore PVS-Studio is a paid product.  Naturally, we do not oblige anyone to use it.  Our clients are those users of PVS-Studio who need this product and who understand ‚Äúwhat is there to pay for‚Äù. <br><br>  Although the analyzer in Clang is an open source project, adding a new diagnostic rule to a person who is not an expert in code analysis will be quite difficult.  But here you shouldn't take a word, just try adding a new rule in Clang, if this is relevant to you. <br><br>  And finally, about whether we are afraid of competition with Clang.  Not yet, since in Clang static analysis of this is just one of the many possibilities of their tool, and we specialize in this.  In addition, switching to a new compiler (and to use static analysis from Clang you have to compile it) is quite difficult in itself for an existing project. <br><br>  However, this text does not mean that we somehow have a bad attitude to Clang.  This is a very good project, part of which is <a href="http://www.viva64.com/ru/b/0186/">used</a> in PVS-Studio (as a preprocessor), and a very large number of cool developers are working on it. </div><p>Source: <a href="https://habr.com/ru/post/196956/">https://habr.com/ru/post/196956/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../196940/index.html">Police London City successfully fights with the largest torrent trackers</a></li>
<li><a href="../196942/index.html">MSI Slidebook S20 Ultrabook Transformer Video Review</a></li>
<li><a href="../196946/index.html">Disney developed the technology of sensing three-dimensional surfaces on smooth screens.</a></li>
<li><a href="../196948/index.html">How the emergency notification is arranged</a></li>
<li><a href="../196952/index.html">Managed by PageFault in the Linux kernel</a></li>
<li><a href="../196958/index.html">Application Developer Days - for creative programmers</a></li>
<li><a href="../196960/index.html">Commands in MVVM</a></li>
<li><a href="../196962/index.html">iON Air Pro Wi-Fi vs GoPro HERO3: White Edition: the battle of "younger" Americans</a></li>
<li><a href="../196964/index.html">Designing a site as a consulting service</a></li>
<li><a href="../196966/index.html">Non-standard solution of one problem with ProjectEuler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>