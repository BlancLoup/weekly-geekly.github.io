<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Java Tricks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have been working on java for many years and have seen quite a lot of other people's code. It‚Äôs not strange, but constantly I see the same problems ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Java Tricks</h1><div class="post__text post__text-html js-mediator-article">  I have been working on java for many years and have seen quite a lot of other people's code.  It‚Äôs not strange, but constantly I see the same problems from one project to another.  This topic is an educational attempt in the most commonly used language constructs.  Part of the above is rather trivial things, however, as my experience shows, all these platitudes are still relevant.  I hope this article is useful to many java programmers.  So, let's go: <br><br><h6>  new vs valueOf </h6><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//</span></span>
Integer i = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Integer(<span class="hljs-number"><span class="hljs-number">100</span></span>);
Long l = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Long(<span class="hljs-number"><span class="hljs-number">100</span></span>);
String s = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"A"</span></span>);

<span class="hljs-comment"><span class="hljs-comment">//</span></span>
Integer i = Integer.valueOf(<span class="hljs-number"><span class="hljs-number">100</span></span>);
Long l = <span class="hljs-number"><span class="hljs-number">100L</span></span>;<span class="hljs-comment"><span class="hljs-comment">//    Long.valueOf(100L);</span></span>
String s = <span class="hljs-string"><span class="hljs-string">"A"</span></span>;</code></pre><br>
<br>
    valueOf        ,  ,         .    ,   ,     ,  Byte  Long  .        -128  127. ,       ,     .      3.5       +  .  ,            .  ,        ,     Integer    ¬´java.lang.Integer.IntegerCache.high¬ª,        -XX:AutoBoxCacheMax=&lt;size&gt;.<br>
<a name="habracut"></a><br>
<h6>+ vs append</h6><br>
<pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//</span></span>
String[] fields = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[] {<span class="hljs-string"><span class="hljs-string">"a"</span></span>,<span class="hljs-string"><span class="hljs-string">"b"</span></span>,<span class="hljs-string"><span class="hljs-string">"c"</span></span>,<span class="hljs-string"><span class="hljs-string">"d"</span></span>,<span class="hljs-string"><span class="hljs-string">"e"</span></span>,<span class="hljs-string"><span class="hljs-string">"f"</span></span>,<span class="hljs-string"><span class="hljs-string">"g"</span></span>};
String s = <span class="hljs-string"><span class="hljs-string">""</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fields.length; i++) {
	s = s + fields[i];
}
<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s;

<span class="hljs-comment"><span class="hljs-comment">//</span></span>
String[] fields = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[] {<span class="hljs-string"><span class="hljs-string">"a"</span></span>,<span class="hljs-string"><span class="hljs-string">"b"</span></span>,<span class="hljs-string"><span class="hljs-string">"c"</span></span>,<span class="hljs-string"><span class="hljs-string">"d"</span></span>,<span class="hljs-string"><span class="hljs-string">"e"</span></span>,<span class="hljs-string"><span class="hljs-string">"f"</span></span>,<span class="hljs-string"><span class="hljs-string">"g"</span></span>};
StringBuilder s = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder();
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fields.length; i++) {
	s.append(fields[i]);
}
<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toString();</code></pre><br>
<br>
     ( +)   ,       ,      .    ,      ¬´s = s + fileds[i]¬ª   3 :  StringBuilder    s,    append,     toString ( : s = new StringBuilder(s).append(fields[i]).toString();).  3   !     s + fileds[i]     ,   .<br>
<br>
<h6>StringBuilder vs StringBuffer</h6><br>
  StringBuilder,  ,      StringBuffer,    StringBuilder       StringBuffer     ,    .<br>
<br>
<h6>instanceOf</h6><br>
      instanceOf.      java        .    ‚Äî           ,     .         .<br>
P. S.      ¬´     java ¬ª.   . ,        ,       , ,   ,   instanceOf  , ,  '*'.<br>
<br>
<h6>Generics</h6><br>
<pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//</span></span>
List a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList();

<span class="hljs-comment"><span class="hljs-comment">//</span></span>
List&lt;String&gt; a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;();</code></pre><br>
<br>
    ,   .     2-  :     .      .      - .          ‚Äî  &lt;?&gt;,    &lt;? extends someType&gt;    /             instanceOf.<br>
<br>
<h6>Interface for Consts</h6><br>
<pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//</span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{
	<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String A = <span class="hljs-string"><span class="hljs-string">"a"</span></span>;
}

<span class="hljs-comment"><span class="hljs-comment">//</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{
	<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String A = <span class="hljs-string"><span class="hljs-string">"a"</span></span>;
}</code></pre><br>
      .       .    ,    .     ,          ,    java          .<br>
<br>
<h6> <a href="http://habrahabr.ru/users/override/" class="user_link">Override</a></h6><br>
   <a href="http://habrahabr.ru/users/override/" class="user_link">Override</a>   ,     .          (  ,            ).<br>
<br>
<h6>null vs empty</h6><br>
           null ,     null-    .     Collections    :<br>
<pre><code class="java hljs">Collections.emptyList();
Collections.emptyMap();
Collections.emptySet();</code></pre><br>
     .  :<br>
<pre><code class="java hljs">
Set&lt;Document&gt; docs = getDocuments(plan);
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Document doc : docs) {
	sendMessage(doc.getOwner());
}
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Set&lt;Document&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDocuments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Plan plan)</span></span></span><span class="hljs-function"> </span></span>{
	<span class="hljs-comment"><span class="hljs-comment">//some logic</span></span>
	<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isDoSomethingOk() &amp;&amp; hasAccessToDocuments(user)) {
		<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> plan.getDocuments();
	}
	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Collections.emptySet();
}
</code></pre><br>
,           . ,    ,     null .  ‚Äî ¬´    ¬ª       ,    .<br>
<br>
<h6> </h6><br>
<pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a = <span class="hljs-number"><span class="hljs-number">12</span></span>;
String s = a + <span class="hljs-string"><span class="hljs-string">""</span></span>;
<span class="hljs-comment"><span class="hljs-comment">//</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a = <span class="hljs-number"><span class="hljs-number">12</span></span>;
String s = String.valueOf(a);
</code></pre><br>
     .<br>
<br>
<h6></h6><br>
  ,            ,      ,     ,        ,    .</div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/132241/">https://habr.com/ru/post/132241/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132234/index.html">Validation of HTML-forms and extension of functionality</a></li>
<li><a href="../132235/index.html">IOS Developer's thorny path</a></li>
<li><a href="../132236/index.html">Console access to network devices using iPhone / iPad</a></li>
<li><a href="../132238/index.html">Technology Forum: 18 reports, high loads and Kai Voight</a></li>
<li><a href="../132239/index.html">Cheap open source cloud hosting</a></li>
<li><a href="../132242/index.html">HTML5 demo</a></li>
<li><a href="../132244/index.html">Primitive port monitoring with SMS notification</a></li>
<li><a href="../132245/index.html">LG Optimus Smartphones and Upgrades to Ice Cream Sandwich (Android 4.0) and Gingerbread (Android 2.3)</a></li>
<li><a href="../132247/index.html">MU-MIMO, or how OFDM in WiMAX / LTE differs from OFDM in 802.11a / g / n</a></li>
<li><a href="../132248/index.html">How to choose a TV</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>