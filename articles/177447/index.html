<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Composition vs inheritance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Like all developers, I often had to read and hear the statement that "composition is always better than inheritance." Probably too often. However, I a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Composition vs inheritance</h1><div class="post__text post__text-html js-mediator-article">  Like all developers, I often had to read and hear the statement that "composition is always better than inheritance."  Probably too often.  However, I am not inclined to take anything for granted, so let's see if this is true. <br><a name="habracut"></a><br><br>  So what are the advantages of composition over inheritance? <br><br>  <b>1.</b> There is no name conflict possible with inheritance. <br>  <b>2. The</b> ability to change the aggregated object at runtime. <br>  <b>3.</b> Complete replacement of the aggregated object in classes derived from the class that includes the aggregated object. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the latter two cases, it is highly desirable that the interchangeable objects have a common interface.  And in the third, the method returning such an object is virtual. <br><br>  If we consider, for example, C #, which does not support multiple inheritance, but allows us to inherit from a variety of interfaces and create extension methods for these interfaces, then we can distinguish two more advantages (in this case, we can only talk about <i>behaviors</i> ( <i>algorithms</i> ) within the ‚ÄúStrategy "): <br>  <b>4.</b> Aggregated behavior (algorithm) may include other objects.  What in particular makes it possible to reuse other behavior through aggregation. <br>  <b>5.</b> During aggregation, it is possible to hide a certain part of the implementation, as well as the initial parameters necessary for the behavior, by passing them through the constructor (when inheriting, the behavior will have to be requested through the methods / properties of the own interface). <br><br>  But what about the cons?  Are they not? <br><br>  <b>1.</b> So, if we need the ability to change behavior from the outside, then composition, as compared with inheritance, has a fundamentally different type of relationship between the object of behavior and the object using it.  If, when inheriting from abstract behavior, we have a 1: 1 ratio, then with aggregation and the possibility of setting behavior from the outside, we obtain a 1: many ratio.  Those.  the same behavior object can be used by several owner objects.  This creates problems with the state of behavior common to several such owner-sites. <br><br>  You can resolve this situation by banning the installation of behavior from outside or entrusting it, for example, with a generic method: <pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> SetBehavior&lt;TBehavior&gt;()</code> </pre>  thereby prohibiting the creation of behavior by anyone other than the owner object.  However, we cannot prohibit the use of behavior "somewhere else."  In languages ‚Äã‚Äãwithout a garbage collector (GC), this creates understandable problems.  Of course, in such languages ‚Äã‚Äãyou can wrongfully refer to the owner object itself, but by distributing the separated objects of behavior to the right and left, we get many times more chances to get an exception. <br><br>  <b>2.</b> Aggregation (and this is, perhaps, the main nuance) differs from inheritance in the first place in that the aggregated object is not the owner object and does not contain information about it.  There are often situations when the code itself, the owner object itself, is also necessary for the code interacting with the behavior (for example, to obtain information about what other behaviors it possesses). <br><br>  In this case, we have to either transfer an untyped object (such as object or void *) to such a code, or create an additional interface for the owner object (some IBehaviorOwner), or store a circular reference to the owner object in the behavior.  It is clear that each of these options has its disadvantages and further complicates the code.  Moreover, different types of behaviors may depend on each other (and this is quite acceptable, especially if they are in some kind of closed self-sufficient module). <br><br>  <b>3.</b> Well, the last minus is of course performance.  If there are a lot of owner objects, the creation and destruction of two or more objects instead of one object may not go unnoticed. <br><br>  It turns out that the statement ‚Äúcomposition is always better than inheritance‚Äù is controversial in some cases and should not be a dogma.  This is especially true of languages ‚Äã‚Äãthat allow multiple inheritance and do not have GC.  If in any situation the advantages listed above are not important, and it is known in advance that you will not be able to use them when working with certain types, you should still consider the option of inheritance. </div><p>Source: <a href="https://habr.com/ru/post/177447/">https://habr.com/ru/post/177447/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177431/index.html">Analog FreeAndNil with type checking</a></li>
<li><a href="../177433/index.html">The CIA is big tasks and big data. Towards a Global Information Cap</a></li>
<li><a href="../177435/index.html">Explorer-2</a></li>
<li><a href="../177437/index.html">About translations</a></li>
<li><a href="../177439/index.html">Playing Pong on the wall of a 29-story building (video)</a></li>
<li><a href="../177449/index.html">Using .Net libraries in MATLAB</a></li>
<li><a href="../177451/index.html">Comparing Subversion and Mercurial (HG)</a></li>
<li><a href="../177453/index.html">IPSEC daemon overview StrongSwan</a></li>
<li><a href="../177457/index.html">Unobvious Genemu TinyMCE configuration options for symfony2</a></li>
<li><a href="../177461/index.html">Experimenting Experimental Data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>