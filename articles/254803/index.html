<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About interfaces</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First of all, the problem concerns grocery soft-developers, although in the project one, too, things are not going smoothly. 

 Let's start with a rec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About interfaces</h1><div class="post__text post__text-html js-mediator-article">  First of all, the problem concerns grocery soft-developers, although in the project one, too, things are not going smoothly. <br><br>  Let's start with a recent story.  COM technology (and others, but the essence is the same) has enabled component developers to easily separate interfaces from implementation.  For application developers, this meant, for example, that when updating components, old interfaces would continue to work.  In theory, of course.  But in practice, it looked much better than the ‚Äúhell of dynamic libraries‚Äù, which always have the ‚Äúcurrent‚Äù version. <br><br>  What is the mechanism?  He is very simple. <br><a name="habracut"></a><br>  Declares the component programmer interface 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">uuid(a03d1421-b1ec-11d0-8c3a-00c04fc31d2f)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICoolPrinting</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fileName</span></span></span><span class="hljs-function">)</span></span>; }</code> </pre> <br>  Then the programmer implements this interface.  The compiled program is installed on the user's device, where in some registry the designated UUID is associated with an executable module.  For example, in Program Files \ CoolPrinting1_0 \ cool.exe. <br><br>  In a third-party application using this interface, an interface is requested from the same ‚Äúregistry‚Äù using the UUID and the required function is called. <br><br><pre> <code class="hljs php">ICoolPrinting printing = GetInterface(...); printing.<span class="hljs-keyword"><span class="hljs-keyword">Print</span></span>(<span class="hljs-string"><span class="hljs-string">"c:\myfile.pdf"</span></span>);</code> </pre><br>  What happens if a component developer changes functionality? <br><br>  In a simple form, the interface is extended.  This means that the developer is voluntarily obliged (feel this wonderful combination of words): <br><ul><li>  create a new ICoolPrinting2 interface with a new UUID, possibly inheriting it from the previous one; </li><li>  implement it without breaking the old implementation. </li></ul><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">uuid(d26d1421-g1ec-12d0-8c3a-12c84ef31d2f)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICoolPrinting2</span></span> : <span class="hljs-title"><span class="hljs-title">ICoolPrinting</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetupPrinter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; }</code> </pre><br>  Now even installed instead of old, the new version continues to work as before.  An application programmer using a component doesn't need to redo anything.  That is, absolutely nothing.  Cool, yeah? <br><br>  In a more complex version, the developer releases a new version that does not support the old interface.  But at the same time, he again voluntarily is obliged to provide for the possibility of simultaneously installing a new version next to the old one, somewhere in Program Files \ CoolPrinting2_0. <br><br>  And in this case, the application programmer also does not need to redo anything. <br><br>  However, the above only happens in a world where programmers at least roughly have an idea of ‚Äã‚Äãwhat they produce.  And their clerks know the business they are in charge of.  This also happens. <br><br>  More often the opposite happens. <br><br>  In the most humane form, the programmer does not create a new interface, but simply rules the old one, changing its UUID at the same time.  It is necessary to change the UUID, otherwise it will be impossible to distinguish the new interface from the old one.  The new version is installed instead of the old one. <br><br>  A program that uses a component stops working immediately.  Because the link is still UUID leads to emptiness.  But to get around this problem is quite simple, since the interface can be: <br><ul><li>  query by name, not by UUID; </li><li>  use dynamic function calls (at the execution stage). </li></ul><br><pre> <code class="hljs php">OleVariant printing = GetInterface(<span class="hljs-string"><span class="hljs-string">"ICoolPrinting"</span></span>); printing.<span class="hljs-keyword"><span class="hljs-keyword">Print</span></span>(<span class="hljs-string"><span class="hljs-string">"c:\myfile.pdf"</span></span>);</code> </pre><br>  Such a ‚Äúcunning‚Äù technique will work until the component programmer deletes the old methods and interfaces.  Then when you try to use the functionality in your application program, an error will occur. <br><br>  The situation is aggravated by the fact that it is often impossible to install two versions of a component on the same device.  Because if the developer failed to ensure compatibility at the interface level, then to ensure the conflict-free operation of different versions of the component, he will certainly not have enough brains. <br><br>  The puck goes to the application programmer.  Well-wishers from the forum whisper: "Pattern adapter."  And even the "strategy".  And why be surprised?  The main purpose of the so-called design patterns is to create crutches and props. <br><br>  And here is a simple and clear two-line application program ‚Äî getting a reference to a component and calling a method turns into a mess of hundreds of lines of ‚Äúpatterned‚Äù code and several classes, according to the number of versions of the component.  Of course, I will not bring them here. <br><br>  Examples?  You are welcome.  The PdfCreator component, developing from version 0.x to the current version 2.x, was developed in this way.  First, edit the old interfaces with the replacement of the UUID, and then the creation of new ones that are incompatible with the old, but already deleted ones.  Two different versions on the same computer can not be installed. <br><br>  One could argue that PdfCreator is a free open source utility.  But what does that change?  Is the negligence of developers can be compensated by the proverb "Do not look a gift horse in the mouth"?  There are other examples of completely commercial components that do not provide compatibility between versions. <br><br>  Morality.  The rule ‚ÄúMade not here‚Äù (not invented here) has good reasons.  At a minimum, having the source code at hand will be superfluous. </div><p>Source: <a href="https://habr.com/ru/post/254803/">https://habr.com/ru/post/254803/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254793/index.html">Two worlds of virtual machines</a></li>
<li><a href="../254795/index.html">Worst API ever created</a></li>
<li><a href="../254797/index.html">The taste and color or coloring for Android</a></li>
<li><a href="../254799/index.html">Development of MMO RPG - a practical guide. Episode 1</a></li>
<li><a href="../254801/index.html">Android Volley custom Loader</a></li>
<li><a href="../254805/index.html">Import data from YouTube and Vimeo to Google.Docs</a></li>
<li><a href="../254811/index.html">Updated Windows VPS from Infobox with triple data replication and Enterprise SSD caching. We test disk performance</a></li>
<li><a href="../254813/index.html">Getting the path to the SD Card on Android</a></li>
<li><a href="../254823/index.html">When robots "soar in the clouds": The five components of cloud robotics</a></li>
<li><a href="../254825/index.html">What actually happens when a user types google.com into a browser</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>