<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What every developer should know about the search</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Want to implement or refine the search function? That way. 
  
 Ask the developer: ‚Äú How would you implement the search function in your product? "Or"...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What every developer should know about the search</h1><div class="post__text post__text-html js-mediator-article"><h2>  Want to implement or refine the search function?  That way. </h2><br> <a href="https://habrahabr.ru/company/alconost/blog/339894/"><img src="https://habrastorage.org/webt/59/de/82/59de82f19d4d1119203996.jpeg"></a> <br>  Ask the developer: ‚Äú <a href="https://stackoverflow.com/questions/34314/how-do-i-implement-search-functionality-in-a-website">How would you implement the search function in your product?</a>  "Or" <a href="https://www.quora.com/How-to-build-a-search-engine-from-scratch">How to create a search engine?</a>  ".  Probably, in response, you will hear something like this: "Well, we will simply launch the Elasticsearch cluster: with the search today everything is simple." <br><br>  But is it?  In many modern products <a href="https://medium.com/%40RohitPaulK/github-issues-suck-723a5b80a1a3">, the</a> <a href="https://thenextweb.com/opinion/2016/01/11/netflix-search-sucks-flixed-fixes-it/">search is</a> <a href="https://github.com/isaacs/github/issues/908">still</a> <a href="https://www.reddit.com/r/Windows10/comments/4jbxgo/can_we_talk_about_how_bad_windows_10_search_sucks/d365mce/">not the best</a> <a href="https://medium.com/%40RohitPaulK/github-issues-suck-723a5b80a1a3">implemented</a> .  This search engine specialist will tell you that few developers have a deep understanding of how search works, and this knowledge is often necessary to improve search quality. <br><br>  There are a lot of open source software packages, a lot of research has been done, but only a select few understand how to do a functional search.  No matter how funny, but if you <a href="https://www.google.com/search%3Fq%3D%25D1%2581%25D0%25BE%25D0%25B7%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%2B%25D0%25BF%25D0%25BE%25D0%25B8%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B2%25D0%25BE%25D0%25B9%2B%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC%25D1%258B">search the Internet</a> related to the implementation of the search information, you will not find relevant and meaningful reviews. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  <font color="#0096d6"><b>Purpose of the article</b></font> </h3><br>  This text can be considered a collection of valuable ideas and resources that can help create a search function.  The article, of course, does not claim to be exhaustive, but I hope that your feedback will help to finalize it (leave comments in the comments or contact me). <br><br>  Based on the experience of working with universal solutions and highly specialized projects of various scales (in Google, Airbnb and several start-ups), I will talk about some popular approaches, algorithms, methods and tools. <br><br>  Underestimating and misunderstanding of the scope and complexity of the search task can lead to bad impressions for users, developers will waste time and the product will fail. <br><br>  <b>Transferred to <a href="https://alconost.com/%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3Dabout-search">Alconost</a></b> <br><a name="habracut"></a><br>  If you are not eager to move on to practice or you already know a lot about this topic, you may need to skip to the tools and services section right away. <br><br><h3>  <font color="#0096d6"><b>Some common thoughts</b></font> </h3><br>  The article is long.  However, most of the material in it is based on <b>four basic principles</b> : <br><br><h4>  Search is a very heterogeneous task: </h4><br><ul><li>  Requests are very different, and the search task is highly dependent on the needs of the product. <br></li><li>  On Facebook, this is a search by a graph of people. <br></li><li>  On YouTube - search for individual videos. <br></li><li>  Both of these cases are very different from the search on the Kayak service: <a href="http://www.demarcken.org/carl/papers/ITA-software-travel-complexity/ITA-software-travel-complexity.pdf">air travel planning is a very time-consuming task</a> . <br></li><li>  Next is Google Maps, for which it is important to ‚Äúunderstand‚Äù geospatial data. <br></li><li>  Pinterest - here you can find a photo of breakfast, which you can cook one day. <br></li></ul><br><h4>  Of great importance are the quality, performance and organization of work: </h4><br><ul><li>  There are no wonderful tools here (like the same PageRank), and there is no magic ranking formula that will make everything beautiful.  Request processing is an ever-changing set of methods and processes that deal with various aspects of a task and improve system performance, usually gradually and continuously. <br></li><li>  In other words, a search is not just the creation of software that deals with ranking or sampling (we will discuss this later) on a specific data set.  Usually, search engines are a constantly evolving conveyor of streamlined components that change over time, and together constitute a coherent system. <br></li><li>  So, in particular, the key to creating a successful search is to embed evaluation and adjustment processes in the product itself and in the development cycle.  The search engine architect must think about processes and metrics, not just technologies. <br></li></ul><br><h4>  First of all - existing technologies: </h4><br><ul><li>  As with many other technical tasks, you don‚Äôt need to reinvent the wheel: use existing services or open source tools whenever possible.  If there is a SaaS (for example, <a href="https://www.algolia.com/">Algolia</a> or a managed Elasticsearch) that meets the specified constraints and fits into the budget, use it.  At the initial stage, such a solution will most likely be the most optimal, even if you then have to tweak and improve it - or even look for a replacement. <br></li></ul><br><h4>  Ô∏è Read in detail what you are buying: </h4><br><ul><li>  Even if you are using existing open source software or a commercial solution, you should have some idea of ‚Äã‚Äãthe complexity of the search task and where the pitfalls may be. <br></li></ul><br><h3>  <font color="#0096d6"><b>Theory.</b></font>  <font color="#0096d6"><b>Search task</b></font> </h3><br>  Each product has its own search.  The choice of solution depends on a variety of technical specifications and requirements.  It is useful to determine the <b>key parameters of a specific search task</b> : <br><br><ol><li>  Size: how big will the data package be (full set of documents to search for)?  Thousands, millions, billions of documents? <br></li><li>  Information medium: Will the search be by text, images, links on graphs or geospatial data? <br></li><li>  Control and quality of the data corpus: are the sources of the documents under your control - or do you receive them from a third party (a likely competitor)?  Are the documents fully prepared for indexing or do they need to be cleaned and taken away? <br></li><li>  Indexing speed: do you need indexing in real time or is indexing enough in batch mode? <br></li><li>  Query language: will the queries be structured - or do you need to understand and unstructured? <br></li><li>  Query structure: will the queries be text, in the form of images, sounds?  Perhaps it is postal addresses, identification records, people's faces? <br></li><li>  Considering the context: do the search results depend on who the user is, what is his history of working with the product, where is it, what time is it now, and so on? <br></li><li>  Tips: Do you need support for incomplete queries? <br></li><li>  Delay: what are the requirements for service delays?  100 milliseconds or 100 seconds? <br></li><li>  Access Control: Is the service completely open - or should users see a limited subset of documents? <br></li><li>  Compliance with regulations: are there any restrictions on the part of the legislation or the organization? <br></li><li>  Internationalization: Do you need support for documents with multilingual encodings or Unicode?  (Hint: always use UTF-8, and if you don‚Äôt use it, you should know exactly what you are doing and why.) Will you need to support a multilingual corpus?  And multilingual requests? <br></li></ol><br>  If you think over the listed questions in advance, it will help to make an important choice in designing and creating separate components of a search engine. <br><br><img src="https://habrastorage.org/webt/59/de/82/59de82e9a01b9070832351.jpeg"><br>  <i>Conveyor indexing in work.</i> <br><br><h3>  <font color="#0096d6"><b>Theory.</b></font>  <font color="#0096d6"><b>Search engine</b></font> </h3><br>  It's time to go through the list of subtasks in building a search engine, which are usually solved by separate subsystems that make up the pipeline: in other words, each subsystem receives output data from previous subsystems and provides input data for subsequent subsystems. <br><br>  This leads us to an important property of the entire ecosystem: by changing the work of any subsystem, you need to evaluate how it will affect the subsystems that follow it, and, perhaps, change their behavior too. <br><br>  Consider the most important practical tasks that will have to be addressed. <br><br><h4>  Index selection </h4><br>  We take a set of documents (for example, the entire Internet, all Twitter messages or a photo on the Instagram service), select a potentially smaller subset of documents that are worth considering as search results and only include them in the index, discarding the rest.  It almost does not depend on the choice of documents for display to the user and it is necessary for the index to be compact.  For example, the following document classes may not be suitable for an index. <br><br><h4>  Spam </h4><br>  Search spam of various shapes and sizes is a voluminous topic, which in itself is worthy of a separate guide.  <a href="http://airweb.cse.lehigh.edu/2005/gyongyi.pdf">Here is a good overview of the taxonomy of Internet spam</a> . <br><br><h4>  Unwanted documents </h4><br>  With some restrictions on the search scope, filtering may be required: you will have to drop <a href="https://www.researchgate.net/profile/Gabriel_Sanchez-Perez/publication/262371199_Explicit_image_detection_using_YCbCr_space_color_model_as_skin_detection/links/549839cf0cf2519f5a1dd966.pdf">pornography</a> , illegal materials, etc. The relevant methods are similar to spam filtering, but may also include special heuristic algorithms. <br><br><h4>  Copies </h4><br>  Including almost copies and redundant documents.  Here, <a href="https://ru.wikipedia.org/wiki/Locality-sensitive_hashing">hashing with location sensitivity</a> , a <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D1%258D%25D1%2584%25D1%2584%25D0%25B8%25D1%2586%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582_%25D1%2581%25D1%2585%25D0%25BE%25D0%25B4%25D1%2581%25D1%2582%25D0%25B2%25D0%25B0">measure of similarity</a> , clustering methods, and even <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2011/02/RadlinskiBennettYilmaz_WSDM2011.pdf">click data</a> can help.  <a href="http://infolab.stanford.edu/~ullman/mmds/ch3.pdf">Here is a good overview of</a> such methods. <br><br><h4>  Useless documents </h4><br>  The definition of utility depends on the area of ‚Äã‚Äãwork search, so it is difficult to recommend specific approaches.  The following considerations may be useful.  Probably, it will be possible to build a utility function for documents.  You can try heuristics;  or, for example, an image containing only black pixels ‚Äî like a sample of a useless document.  Usefulness can be assessed based on user behavior. <br><br><h4>  Index building </h4><br>  Most search engines retrieve documents by means of a <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D0%25B2%25D0%25B5%25D1%2580%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B8%25D0%25BD%25D0%25B4%25D0%25B5%25D0%25BA%25D1%2581">reversed index</a> , which is often called simply an index. <br><br><ul><li>  Index is a comparison of search terms to documents.  The search term can be a word, an image characteristic, or any other derivative of a document suitable for matching queries and documents.  The list of documents for this term is called the <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D0%25B2%25D0%25B5%25D1%2580%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B8%25D0%25BD%25D0%25B4%25D0%25B5%25D0%25BA%25D1%2581">subject index</a> (posting list).  It can be sorted by indicators, for example, by the quality of the document. <br></li><li>  Find out if you need to index data in real time.  Ô∏è Many companies with voluminous corpuses of documents, using a batch approach to indexing, later come to the conclusion that this approach does not meet the needs of the product: users expect the search results to be relevant. <br></li><li>  Text documents typically use natural language processing (NLP) methods for extracting terms, such as a list of stop words, <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2582%25D0%25B5%25D0%25BC%25D0%25BC%25D0%25B8%25D0%25BD%25D0%25B3">highlighting the stem of words</a> , and <a href="https://en.wikipedia.org/wiki/Named-entity_recognition">extracting objects</a> ;  for images and video, computer vision techniques are used, etc. <br></li><li>  In addition, metadata and statistical information are collected from documents, for example, links to other documents (which is used in the well-known <a href="http://ilpubs.stanford.edu:8090/422/1/1999-66.pdf">PageRank</a> ranking signal), <a href="https://gofishdigital.com/semantic-topic-modeling/">topics</a> , number of occurrences of the term, document size, entities mentioned, etc. This information can later be used in building a ranking signal or for clustering documents.  In larger systems, there may be several indices, for example, for documents of different types. <br></li><li>  Index formats.  The actual structure and layout of the index is a complex topic, since the index can be optimized in different ways.  For example, there are <a href="https://nlp.stanford.edu/IR-book/html/htmledition/postings-file-compression-1.html">methods for compressing subject indexes</a> ; you can use <a href="https://deplinenoise.wordpress.com/2013/03/31/fast-mmapable-data-structures/">data mapping via mmap ()</a> or <a href="https://ru.wikipedia.org/wiki/LSM-%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE">LSM tree</a> for a constantly updated index. <br></li></ul><br><h4>  Analysis of requests and selection of documents </h4><br>  Most popular search engines accept unstructured queries.  This means that the system must extract the structure from the query itself.  In the case of a reverse index, retrieve the search terms you need using <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0_%25D0%25B5%25D1%2581%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B3%25D0%25BE_%25D1%258F%25D0%25B7%25D1%258B%25D0%25BA%25D0%25B0">NLP</a> methods. <br><br>  The extracted terms can be used to sample the relevant documents.  Unfortunately, in most cases, requests are not very well formulated, so it is necessary to further expand and rewrite them, for example, as follows: <br><br><ul><li>  <a href="http://orion.lcg.ufrj.br/Dr.Dobbs/books/book5/chap11.htm">Repeated weight processing of terms</a> . <br></li><li>  <a href="http://norvig.com/spell-correct.html">Spell checker</a>  It is very convenient to use chronological query logs as dictionaries. <br></li><li>  <a href="http://nlp.stanford.edu/IR-book/html/htmledition/query-expansion-1.html">Search</a> <a href="https://www.iro.umontreal.ca/~nie/IFT6255/carpineto-Survey-QE.pdf">for synonyms</a> . <br></li><li>  <a href="https://en.wikipedia.org/wiki/Named-entity_recognition">Named object recognition</a> .  A good idea is to use <a href="http://www.aclweb.org/anthology/P02-1060">language modeling based on a hidden Markov model (HMM)</a> . <br></li><li>  Classification of requests: the distribution of requests for certain types.  For example, Google search can identify requests that contain a geographical object, porn requests, as well as requests for something from the news.  The sampling algorithm can then decide which shells or indexes should be viewed. <br></li><li>  Expansion through <a href="https://en.wikipedia.org/wiki/Personalized_search">personalization</a> or <a href="http://searchengineland.com/future-search-engines-context-217550">local context</a> .  Good stuff for requests like ‚Äúrefueling around me.‚Äù <br></li></ul><br><h4>  Ranging </h4><br>  A list of documents (obtained at the previous step), their signals and the processed request are given, and the optimal order of these documents is formed (which is called ranking). <br><br>  Initially, most of the ranking models used were hand-weighted combinations of all document signals.  Signal sets can include PageRank, click data, relevance information, and <a href="http://backlinko.com/google-ranking-factors">more</a> . <br><br>  So that life does not seem like honey, many of these signals, for example, PageRank and signals generated by <a href="http://times.cs.uiuc.edu/czhai/pub/slmir-now.pdf">statistical language models</a> , contain parameters that significantly affect the operation of a signal.  And they also require manual adjustment. <br><br>  In recent years, <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B6%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258E">learning in ranking</a> is becoming increasingly popular - signal-based differential approaches with a teacher.  Among the popular LtR, <a href="https://papers.nips.cc/paper/3270-mcrank-learning-to-rank-using-multiple-classification-and-gradient-boosting.pdf">McRank</a> and <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/lambdarank.pdf">LambdaRank</a> from Microsoft can be cited as an example, as well as <a href="https://yandex.ru/company/technologies/matrixnet/">MatrixNet</a> from Yandex. <br><br>  Also in the field of semantic search and ranking, a new <a href="https://arxiv.org/abs/1708.02702">approach based on vector spaces</a> is gaining popularity.  The idea is to train individual low-dimensional vector representations of the document, and then build a model that will display queries into this vector space. <br><br>  In this case, when sampling, you just need to find several documents that are closest to the query vector (for example, for the Euclidean distance) for some indicator.  This distance will be the rank.  If it is good to construct a display of both documents and queries, then the documents will be selected not by the presence of any simple pattern (for example, words), but by how close the documents are to the query by <i>meaning</i> . <br><br><img src="https://habrastorage.org/webt/59/de/82/59de82e99f5f9329770103.jpeg"><br><br><h3>  <font color="#0096d6"><b>Indexing pipeline control</b></font> </h3><br>  Usually, in order to maintain the relevance of the search index and the search function, all the considered parts of the conveyor must be under constant control. <br><br>  Managing the search pipeline can be challenging, since the entire system consists of many moving parts.  After all, a pipeline is not only data movement: over time, the module code, formats, and assumptions included in the data also change. <br><br>  The conveyor can be run in a ‚Äúbatch‚Äù mode, on a regular, irregular basis (if you do not need to index in real time), in streaming mode (if you cannot do without real-time indexing) or on certain triggers. <br><br>  Some complex search engines (for example, Google) use pipelines in several levels - on different time scales: for example, a frequently changing page (the same <a href="http://cnn.com/">cnn.com</a> ) is indexed more often than a static page that has not changed over the years. <br><br><h3>  <font color="#0096d6"><b>Service systems</b></font> </h3><br>  The ultimate goal of a search engine is to accept queries and return appropriately ranked results via an index.  The issue of maintenance systems can be very complex and include many technical details, but I still mention a few key aspects of this part of the search engines. <br><br><ul><li>  <b>Work speed</b>  Users notice delays in the system with which they work.  Ô∏è Google conducted <a href="http://services.google.com/fh/files/blogs/google_delayexp.pdf">extensive research</a> and found that if the response delay increases by 300 ms (100 ‚Üí 400 ms), then the number of search queries drops by 0.6%.  They recommend making sure that most requests have a delay of no more than 200 ms.  There is a good article <a href="http://highscalability.com/latency-everywhere-and-it-costs-you-sales-how-crush-it">on this topic</a> .  And now the difficult part: the system can collect documents from many computers, combine them into a list, which can be very long, and then sort it in the order of ranking.  And if this does not seem to you to be difficult enough, then note that the ranking may depend on queries, so when sorting, the system does not just compare two numbers, but performs more complex calculations. <br></li><li>  <b>Caching results.</b>  If you need to achieve good performance, often without this in any way.  Ô∏è But everything is not so simple with the cache.  The index has already been updated, some results are blacklisted - and the cache may show an outdated issue.  Clearing the cache is also another puzzle: the search system is likely not to be able to cope with the entire stream of requests, having an empty (‚Äúcold‚Äù) cache, so before receiving requests, the <a href="https://stackoverflow.com/questions/22756092/what-does-it-mean-by-cold-cache-and-warm-cache-concept">cache needs to be prepared - ‚Äúwarm up‚Äù</a> .  In general, the cache complicates the functional section of the system, and the choice of its size and replacement algorithm is a <a href="https://en.wikipedia.org/wiki/Cache_performance_measurement_and_metric">difficult task</a> . <br></li><li>  <b>The level of performance.</b>  Often defined as the ratio ‚Äúwork time / (work time + idle time)‚Äù.  If the index is in a distributed state, then to produce search results, the system usually has to query each segment for its part of the total result.  And this means that if one segment is unavailable, then the whole system does not work.  The more machines involved in the maintenance of the index, the higher the likelihood that one of them will stop working and stop the entire system. <br></li><li>  <b>Manage multiple indexes.</b>  The indices of large systems can be divided simply into pieces (segments), as well as by type of carrier and indexing rhythm (actual and long-term indices).  The results of their issuance can be combined. <br></li><li>  <b>Merging the results of data of different types.</b>  For example, Google shows results from maps, news, etc. <br></li></ul><br><img src="https://habrastorage.org/webt/59/de/82/59de82ea07ed5889379136.jpeg"><br>  <i>Man rating.</i>  <i>Yes, such work in search engines is still needed.</i> <br><br><h3>  <font color="#0096d6"><b>Quality, evaluation and refinement</b></font> </h3><br>  So, you run your own indexing pipeline and search engines;  everything works well.  ,   ‚Äî      . <br><br>            .          ‚Äî    ,   . <br><br> <b>  ?</b> -,   (       ),   ¬´¬ª   : <br><br><ul><li>  ,      (  ). <br></li><li>     (   ). <br></li><li>      . <br></li><li>         (,   ). <br></li><li> <a href="http://blog.popcornmetrics.com/5-user-engagement-metrics-for-growth/"> </a> . <br></li></ul><br>   .        .            ‚Äî   ‚Äî ,     . <br><br>        (   )      ,      .  <b>     </b> ,        : <br><br><ul><li>  <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D1%2584%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BF%25D0%25BE%25D0%25B8%25D1%2581%25D0%25BA"></a>  <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D1%2584%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BF%25D0%25BE%25D0%25B8%25D1%2581%25D0%25BA"></a> ,        . <br></li><li>      <a href="https://en.wikipedia.org/wiki/F1_score">F-</a> (  F‚ÇÅ),     . <br></li><li> <a href="http://fastml.com/what-you-wanted-to-know-about-mean-average-precision/"> </a> (MAP)        . <br></li><li> <a href="https://en.wikipedia.org/wiki/Discounted_cumulative_gain">   </a> (nDCG)   MAP,        . <br></li><li> <a href="http://www.blindfiveyearold.com/short-clicks-versus-long-clicks">¬´¬ª  ¬´¬ª </a>   ,     . <br></li><li> <a href="https://arxiv.org/pdf/1302.2318.pdf"> ‚Äî    </a> . <br></li></ul><br> <b> .</b>   ,    ‚Äî    ,     .         ,        . <br><br>        ‚Äî , ,      . <br><br>         .    <a href="http://static.googleusercontent.com/media/www.google.com/en//insidesearch/howsearchworks/assets/searchqualityevaluatorguidelines.pdf"></a> ,               . <br><br>       ,    ,                   . <br><br>     ¬´¬ª ,      : <br><br><ul><li>   :      . <br></li><li>  :      (        ). <br></li><li>  :              ¬´ ‚Äî ¬ª.         ,     ,         .   ( +  )  ¬´ ¬ª        . ,           .                      . <br></li><li>  :      ,     ,    .         .          .     ‚Äî  MAP  nDCG. <br></li></ul><br><h4>    </h4><br>    ,      ,        .     ?      ?   ? <br><br> <b>   .</b>        ,      <a href="https://googleblog.blogspot.co.uk/2008/08/search-experiments-large-and-small.html">   </a> .   ,       ,      ¬´¬ª  ‚Äî   ,     .        :       ,     . . <br><br> <b> .</b>       ,          .      : ¬´       ?¬ª. <br><br>   ,      : , ,   ? Ô∏è  ,              . <br><br><h3> <font color="#0096d6"><b>     ?</b></font> </h3><br>      .   ,   ,          : <br><br><ol><li>   ,     ‚Äî        SaaS ( ‚Äî   ).    : <br></li></ol><br><ul><li>   ¬´¬ª  (     ). <br></li><li>       ¬´ ¬ª.       ,    .  ,      :  ,     ;      ;   ,     . <br></li><li>            12  ‚Äî        <a href="https://en.wikipedia.org/wiki/Queries_per_second">  </a> . <br></li><li>          .       , ,  ,    ,     . <br></li></ul><br> 2.             ,      ‚Äî      .     ¬´¬ª   -    Elasticsearch.       . <br><br> 3.             ,     (,     HTML-),         .      ,      .   ‚Äî    <a href="https://spark.apache.org/">Spark</a> . <br><br><img src="https://habrastorage.org/webt/59/de/82/59de82ea10f13781086672.jpeg"><br> <i>   .</i> <br><br><h3> <font color="#0096d6"><b>SaaS</b></font> </h3><br> <b><a href="https://www.algolia.com/">Algolia</a></b> ‚Äî  SaaS,   -    API     .    API    ,  - ,       .    -,     Algolia (   ) ‚Äî           . <br><br><ul><li>   <b>Elasticsearch</b> : AWS (Ô∏è <a href="https://aws.amazon.com/elasticsearch-service/">Elasticsearch Cloud</a> ), Ô∏è <a href="https://www.elastic.co/">elastic.co</a>     Ô∏è <a href="https://qbox.io/">Qbox</a> . <br></li><li> Ô∏è <b><a href="https://azure.microsoft.com/ru-ru/services/search/"> Azure</a></b> ‚Äî   Microsoft.   REST API,      .    Lucene,          (. ). <br></li><li> Ô∏è <b><a href="https://swiftype.com/">Swiftype</a></b> ‚Äî  SaaS,     ,   Salesforce, G Suite, Dropbox   . <br></li></ul><br><h3> <font color="#0096d6"><b>  </b></font> </h3><br> <b><a href="https://lucene.apache.org/">Lucene</a></b> ‚Äî     .   ,      .        .     C ‚Äî <b><a href="https://lucy.apache.org/">Lucy</a></b> . <br><br><ul><li> <b><a href="http://lucene.apache.org/solr/">Solr</a></b> ‚Äî       Lucene.     <a href="http://hadoop.apache.org/">Hadoop</a> . <br></li><li> <b><a href="http://hadoop.apache.org/">Hadoop</a></b> ‚Äî     MapReduce   ,         Solr.         <a href="http://spark.apache.org/">Spark</a> ,    . Ô∏è <a href="https://aws.amazon.com/emr/">EMR</a> ‚Äî   MapReduce   AWS. <br></li><li> <b><a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a></b> ‚Äî     Lucene ( <a href="http://solr-vs-elasticsearch.com/">   Elasticsearch  Solr</a> ).         ,      ,      ES,    :    , <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs.html"> API</a> , <a href="https://github.com/elastic/elasticsearch-hadoop">    Hadoop</a> ,  <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/distributed-cluster.html"> </a> .        <a href="https://www.elastic.co/cloud/enterprise">Enterprise</a> . ES    SaaS:      ,        ,       . <br></li><li> <b><a href="https://xapian.org/">Xapian</a></b> ‚Äî     C++:  ,        . <br></li><li> <b><a href="http://sphinxsearch.com/">Sphinx</a></b> ‚Äî   .  SQL-  .    <a href="https://mariadb.com/kb/en/mariadb/sphinx-storage-engine/">   MySQL</a>    . <br></li><li> <b><a href="https://nutch.apache.org/">Nutch</a></b> ‚Äî  -.       Solr.    <a href="http://commoncrawl.org/">Common Crawl</a> . <br></li><li> <b><a href="https://lunrjs.com/">Lunr</a></b> ‚Äî      -   . <br></li><li> <b><a href="https://github.com/searchkit/searchkit">SearchKit</a></b> ‚Äî   -      Elasticsearch. <br></li><li> <b><a href="https://github.com/fergiemcdowall/norch">Norch</a></b> ‚Äî    Node.js   <a href="https://github.com/google/leveldb">LevelDB</a> . <br></li><li> <b><a href="https://bitbucket.org/mchaput/whoosh/wiki/Home">Whoosh</a></b> ‚Äî    ,   Python. <br></li><li>   OpenStreetMap   <a href="http://wiki.openstreetmap.org/wiki/Search_engines">  </a> . <br></li></ul><br><h3> <font color="#0096d6"><b> </b></font> </h3><br>      ,         : <br><br><ul><li> <b><a href="http://commoncrawl.org/">Common Crawl</a></b> ‚Äî      .   <a href="https://aws.amazon.com/public-datasets/common-crawl/">AWS  </a> ‚Äî     . <br></li><li> <b><a href="http://wiki.openstreetmap.org/wiki/Downloading_data">  OpenStreetMap</a></b> ‚Äî    ,      . <br></li><li> <b><a href="http://commondatastorage.googleapis.com/books/syntactic-ngrams/index.html">N- Google </a></b> ‚Äî      . <br></li><li> <b><a href="https://dumps.wikimedia.org/"> ¬´¬ª</a></b> ‚Äî  ,    ,  ,   .   <a href="https://www.mediawiki.org/wiki/Alternative_parsers">   </a> . <br></li><li> <b><a href="http://www.imdb.com/interfaces"> IMDb</a></b> ‚Äî          . <br></li></ul><br><h3>  <font color="#0096d6"><b>Literature</b></font> </h3><br><ul><li> <a href="https://www.amazon.com/dp/0321416910">Modern Information Retrieval</a> (¬´  ¬ª),  R. Baeza-Yates  B. Ribeiro-Neto ‚Äî ,          . <br></li><li> <a href="https://www.amazon.com/dp/0262528878/">Information Retrieval</a> (¬´ ¬ª),  S. B√ºttcher, C. Clarke  G. Cormack ‚Äî      ,    .          .     . <br></li><li> <a href="https://www.amazon.com/dp/3642142664/">Learning to Rank</a> (¬´ ¬ª),  Tie-Yan Liu ‚Äî    LtR.    .  -   LtR- ‚Äî  . <br></li><li> <a href="https://www.amazon.com/dp/1558605703">Managing Gigabytes</a> (¬´ ¬ª) ‚Äî    1999 .,  -     ,        . <br></li><li> <a href="https://www.coursera.org/learn/text-retrieval">Text Retrieval and Search Engines</a> (¬´    ¬ª) ‚Äî   -   Coursera.     . <br></li><li> <a href="https://research.google.com/pubs/pub37043.html">Indexing the World Wide Web: The Journey So Far</a> (¬´ :   ¬ª, <a href="https://pdfs.semanticscholar.org/28d8/288bff1b1fc693e6d80c238de9fe8b5e8160.pdf"> ‚Äî   PDF</a> ) ‚Äî  -    2012 .,  Ankit Jain  Abhishek Das   Google. <br></li><li> <a href="http://queue.acm.org/detail.cfm%3Fid%3D988407">Why Writing Your Own Search Engine is Hard</a> (¬´     ‚Äî ?¬ª) ‚Äî   2004 .,   . <br></li><li> <a href="https://github.com/harpribot/awesome-information-retrieval">https://github.com/harpribot/awesome-information-retrieval</a> ‚Äî      ,   Harshal Priyadarshi. <br></li><li> <a href="https://medium.com/%40dtunkelang"> </a>      ,  ‚Äî <a href="https://www.cs.cmu.edu/~quixote/">Daniel Tunkelang</a> . <br></li><li>      <a href="https://web.stanford.edu/class/cs276/handouts/lecture8-evaluation_2014-one-per-page.pdf">  </a> . <br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This was my modest attempt to make at least some useful "map" for those who are starting to develop a search engine. </font><font style="vertical-align: inherit;">If I missed something important - write.</font></font><br><br><br>  <b>About the translator</b> <br><br>  The article is translated in Alconost. <br><br>  Alconost is engaged in the <a href="https://alconost.com/services/game-localization%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3Dabout-search">localization of games</a> , <a href="https://alconost.com/services/software-localization%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3Dabout-search">applications and sites</a> in 68 languages.  Language translators, linguistic testing, cloud platform with API, continuous localization, 24/7 project managers, any formats of string resources. <br><br>  We also make <a href="https://alconost.com/services/video-production%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3Dabout-search">advertising and training videos</a> - for websites selling, image, advertising, training, teasers, expliners, trailers for Google Play and the App Store. <br><br>  Read more: <a href="https://alconost.com/%3Futm_source%3Dhabrahabr%26utm_medium%3Darticle%26utm_campaign%3Dtranslation%26utm_content%3Dabout-search">https://alconost.com</a> </div><p>Source: <a href="https://habr.com/ru/post/339894/">https://habr.com/ru/post/339894/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339872/index.html">In search of reason: is it possible to make a ‚Äúuniversal‚Äù chat bot using neural networks?</a></li>
<li><a href="../339874/index.html">About the Strata AI conference: the future of artificial intelligence</a></li>
<li><a href="../339878/index.html">Uneducated youth. What's left overs</a></li>
<li><a href="../339882/index.html">How do we at Tutu.ru achieve the effectiveness of each of the 9000+ UI tests?</a></li>
<li><a href="../339892/index.html">Vraytap autumn crackme from Kaspersky Lab</a></li>
<li><a href="../339896/index.html">Instructions on how to compile the dynamic ngx_pagespeed module for Nginx to Debian</a></li>
<li><a href="../339900/index.html">Stream in NodeJS - rivers that you enter twice</a></li>
<li><a href="../339902/index.html">Maven, where are my artifacts? Another article about dependency management</a></li>
<li><a href="../339904/index.html">Overview of the Luigi Framework for building sequences of tasks</a></li>
<li><a href="../339906/index.html">Home Minecraft server in Azure part 2 - Azure Automation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>