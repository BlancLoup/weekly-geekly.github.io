<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unboxing: What's Inside a NetApp AFF A300 Storage System</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The NetApp AFF A300 system was presented at the end of September 2016 at the annual NetApp Insight conference and replaced the AFF8040 and AFF8060 sol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unboxing: What's Inside a NetApp AFF A300 Storage System</h1><div class="post__text post__text-html js-mediator-article">  The NetApp AFF A300 system was presented at the end of September 2016 at the annual NetApp Insight conference and replaced the AFF8040 and AFF8060 solutions.  A pair of A300 controllers is in the same package and takes up only 3U, which is half the size of the AFF8040.  The maximum system expansion is 384 SSD.  Given the availability of 15 TB SSDs for ordering, this is more than enough. <br><br>  One of these systems came to us, the company "IT-GRAD", the largest <a href="http://www.cnews.ru/news/top/2016-12-05_opublikovany_rejtingi_postavshchikov_saas_i_iaas">supplier of</a> IaaS in Russia, in the hands.  Recently we received a delivery that contained a pair of NetApp A300 controllers in one chassis and a DS224C disk shelf with a set of 24 SSD disks of 3.8 TB each.  In this article we will tell you about the advantages of this solution and we will do anboxing, of course, by sharing the most interesting photos (the total weight of images is 6 megabytes). <br><br>  To whom it is interesting - we ask under cat. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="https://habrahabr.ru/company/it-grad/blog/319610/"><img src="https://habrastorage.org/files/427/7a2/5f8/4277a25f862c4ed192ee4034f73d696e.jpg"></a> <a name="habracut"></a>  <i>All-flash storage system NetApp AFF A300</i> <br><br>  This is what NetApp AFF A300 looks like from behind: <br><br><img src="https://habrastorage.org/files/b07/bc0/9f3/b07bc09f364f40c7bc0824946ffcdcaa.jpg"><br><br>  Left and right, we can see massive power supplies, each of which has a power of 1460 watts.  They occupy almost the entire length of the chassis system. <br><br><img src="https://habrastorage.org/files/df2/f6a/5d6/df2f6a5d64d44f12afa1dcb0aac12235.jpg"><br><br>  Consider more ports: <br><br><img src="https://habrastorage.org/files/a48/922/f58/a48922f5877c4c178556fcf6fddcb337.jpg"><br><br>  On the back of the iron box, we see new Mini-SAS HD ports for connecting disk shelves, which now support 12 Gbps, and dedicated 10-gigabit ports for cluster interconnects, which allow expanding NAS clusters to 24 AFF / FAS controllers. <br><br>  There are also built-in Base-T ports that support speeds up to 10 Gbps, four unified ports per controller for transferring data using iSCSI / NFS / CIFS / FCoE and FibreChannel 8/16 Gbps protocols.  Ports are configured in pairs, and the mode depends on the installed transceivers.  Separately, we note that the console port, in addition to the standard RJ-45 port, received a performance in the form of a Micro USB cable to connect to it is included in the package. <br><br>  Having studied the external features, it is time to look inside the solution.  NetApp AFF A300 controllers have become more powerful: they got more cores and more memory.  It looks like this: <br><br><img src="https://habrastorage.org/files/c4b/e39/5be/c4be395bec204e2d9e44534965b103cf.jpg"><br><br>  The ‚Äúbrain‚Äù of the system is now represented by two new 16-core Intel Broadwell-DE processors with a frequency of 1.70 GHz.  Each controller has 4 RAM memory ECC modules of 32 GB, which makes 128 GB in total, of which 120 GB is allocated for the cache, and 8 GB for NVRAM.  Note that the Boot media device is made in the form of a 128 GB mSATA SSD. <br><br>  It is worth mentioning that the A300 uses the same hardware platform that was used in the FAS8200, the difference between them is only the absence of FlashCache NVMe modules, since they are not needed in the all-flash version.  It is for this reason that we see two empty M.2 PCIe slots on the motherboard. <br><br>  Below is a side view of the controller.  Behind the wall we see two PCIe3 expansion slots. <br><img src="https://habrastorage.org/files/cbf/fcb/657/cbffcb6571834c00b68e64361b71a86e.jpg"><br>  As you can see, there are not so many expansion slots.  This is due to the fact that NetApp A300 does not need expansion slots for FlashCache.  Additional slots may be required to build a MetroCluster for FC-VI cards, through which NVRAM is mirrored to the second site, but for these purposes you can use the integrated UTA2 ports.  The system supports up to 384 disks, so there is also no need to occupy SAS slots with HBA cards. <br><br>  Thus, expansion slots are needed only for Ethernet or FC, if there are not enough built-in ports on the controller.  Considering that with ONTAP 9.1, NetApp supports 40-gigabit Ethernet and 32-gigabit FC ports, in the future a small number of expansion slots will not become a bottleneck for storage. <br><br>  In the image below, you can see the characteristics of a Li-Ion battery for powering NVRAM in cases of emergency power off ‚Äî 7.2 V, 3.69 Ah, 26.56 Wh.  The process of removing the battery is extremely simple: just press the button, lift the handle and pull it up along the guides on the side of the controller. <br><br><img src="https://habrastorage.org/files/db8/2f0/fa5/db82f0fa5a024511ab097418ea9bb59f.jpg"><br><br>  Here is the rear view of the controller: <br><br><img src="https://habrastorage.org/files/f5c/a15/4f0/f5ca154f0f7a4e78b52c8f05189b0568.jpg"><br><br>  In the photo above, you can see a warning sticker that says that the NetApp A300 weighs 37 kg and it is better to transport the hardware together.  As for the front of the system, then the removed bezel hides the cooling system with hot-swappable fans.  You can see them in the image below. <br><br><img src="https://habrastorage.org/files/d59/432/40b/d5943240b9d34ad29173ee2942a18910.jpg"><br><br>  Next, we will see what our new system will have to deal with.  Together with the A300 controllers, a new disk shelf NetApp DS224C arrived to us, in which there are 24 SAS SSD disks of 3.8 TB each. <br><br><img src="https://habrastorage.org/files/31d/333/632/31d333632a8e481a8e89362f22b41108.jpg"><br><br><img src="https://habrastorage.org/files/7d8/604/ed2/7d8604ed212549d9ade89228a2a749d9.jpg"><br><br>  The DS224C has two IOM12 I / O modules, each with four 12-gigabit SAS interfaces onboard.  The ACP (Alternate Control Path) network for managing the shelves now does not require separate ports and works within SAS connections.  But the principle of naming shelves is preserved - Disk Shelf, the number of units occupied in the rack, the number of disks and the speed of the interface.  ‚ÄúC‚Äù in the title denotes 12 in hexadecimal notation ‚Äî that is, 12 gigabits per second. <br><br><img src="https://habrastorage.org/files/d7e/591/874/d7e591874e694a4386f50e00256f6fc6.jpg"><br><br>  To connect the disk shelf, new Mini-SAS HD cables are now used: <br><br><img src="https://habrastorage.org/files/6dd/b19/218/6ddb192185094401a37c1336d0529ee3.jpg"><br><br>  In the photo below we see the interfaces of the midplane for connecting IOM12 modules: <br><br><img src="https://habrastorage.org/files/a2d/222/6a0/a2d2226a0d2d4441bb0171d0a36dc107.jpg"><br><br>  And here the interfaces on the other side of the midplane for connecting disks: <br><br><img src="https://habrastorage.org/files/d3c/987/5f8/d3c9875f84d54651a8e3b2ca1726d1c8.jpg"><br><br>  Of course, you can not ignore the SSD-drives themselves.  The system is equipped with the PM1633a model in the 2.5 ‚Äùform factor from Samsung, which replaced the PM1633 model instead of being discontinued in October of this year.  SSDs are made using 3D Vertical-NAND (V-NAND) technology and provide a throughput of 12 Gbps. <br><img src="https://habrastorage.org/files/c8f/99f/118/c8f99f1183414a4f9297f622edfd7a1f.jpg"><br>  To get the most out of SSDs, NetApp A300 is running ONTAP 9.1, in which NetApp was the first storage vendor to start supporting Multi-Stream Write technology for SSDs.  In short, MSW technology associates data from a host with a specific stream.  In one stream get data that with high probability will be simultaneously changed or deleted.  Data from different streams are written in different blocks on the SSD, improving the key parameters of the drives: durability, performance. <br><br>  That's all, having made sure of the integrity of the incoming set of equipment, we proceed to its installation and configuration - then, as they say, the matter of technology.  We mount in a rack in the bottom five units - expansion by disk regiments will be made up.  We make sealing of free units so that there is no ‚Äúempty‚Äù air circulation between the cold and hot corridors.  The storage system will be introduced into a cluster with other NetApp FAS-series storage systems.  Connect the cables.  The switched system is presented below: <br><br><img src="https://habrastorage.org/files/664/116/bcb/664116bcb2384b14948b72a7728a6d2a.jpg"><br><br>  To learn more about the NetApp AFF A300 solution and other equipment provided by IT-GRAD, you can contact our <a href="http://www.it-grad.ru/tsentr_kompetentsii/opisanie/">competence center</a> and ask all your questions. <br><br>  PS By the way, if you like ‚Äúhardware‚Äù in the same way as we do, then we recommend paying attention to one of our previous unboxing Cisco UCS M4380 server, which you will find in our <a href="http://iaas-blog.it-grad.ru/">blog</a> . </div><p>Source: <a href="https://habr.com/ru/post/319610/">https://habr.com/ru/post/319610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319598/index.html">GDG DevFest Nizhny Novgorod 2016: how it was</a></li>
<li><a href="../319600/index.html">Formulas on Habr√©</a></li>
<li><a href="../319602/index.html">Unicode is very exciting.</a></li>
<li><a href="../319604/index.html">Data Serialization: Performance Test and Application Description</a></li>
<li><a href="../319606/index.html">Common mistakes beginners work with images</a></li>
<li><a href="../319612/index.html">VMware Introduces HTML5 Client vSphere Client Fling v3.0</a></li>
<li><a href="../319614/index.html">* aaS dictionary: 50 materials on IT terminology</a></li>
<li><a href="../319616/index.html">Digest: All about working with IaaS and examples of practical cases for IT-GRAD clients</a></li>
<li><a href="../319618/index.html">D-Wave Systems sold their first 2000-qubit quantum computer</a></li>
<li><a href="../319620/index.html">"It works - do not touch": the old code and computers that are still functioning</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>