<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JS classes with protected, multiple inheritance, getters / setters, and impurities</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! To begin with, I'm tired of the wretchedness of classes and inheritance in JavaScript! Having spent thousands of hours on a large JS project...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JS classes with protected, multiple inheritance, getters / setters, and impurities</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/files/c41/13f/12a/c4113f12a39d4693a1b6581d8ec31275.jpg" align="left">  Hi, Habr!  To begin with, I'm tired of the wretchedness of classes and inheritance in JavaScript!  Having spent thousands of hours on a large JS project, it became obvious to me.  Especially when switching from the back end using Yii2, to the front end.  Indeed, in Yii2 and php there are real classes, real protected / private fields, there is a trait, all sorts of dependency injection and behavior.  And right after all these things, you create such a file <code>NewClass.js</code> in order to write some class, and you realize that in JavaScript there is nothing like that.  And even more, classes can be written in hundreds of different ways - prototype / functional inheritance, ES6 classes, and different sugars using external libraries.  Then I said to myself - "enough to endure it!". </p><a name="habracut"></a><br><h1 id="chto-nam-predlagayut-v-sovremennyh-standartah">  What do we offer in modern standards? </h1><br><p>  In ES6, it became possible to describe classes in a more familiar way for all languages ‚Äã‚Äãusing the <code>class {}</code> syntax.  However, this is rather a more familiar record of classes using the old prototype inheritance, and neither protected nor privatized access modifiers to class properties have appeared in it.  In the newest ES2017 standard, this is still not the case. </p><br><h1 id="velosipedim">  Cycling </h1><br><p>  Of course, I didn‚Äôt want to be a bike collector, and the first thing I did, before I got down to my library version, was to look for existing solutions.  And, everything that will be described below, is not my discovery - the frame for the bike has already been found in the ideas of <a href="http://www.2ality.com/2016/01/private-data-classes.html">other sources</a> , and the <a href="https://github.com/philipwalton/mozart">mozart</a> library.  I would like to especially note the latter, since it served as a good basis for the further development of the idea of ‚Äã‚Äãimplementing almost real classes. </p><br><h1 id="kratkiy-obzor-vozmozhnostey">  Overview of Features </h1><br><p>  In order not to turn the article into a <a href="">README</a> retelling of the project, I will describe only briefly the list of possibilities, and give an example of use, and below I will tell you how all this magic works. </p><br><div class="spoiler">  <b class="spoiler_title">1) Public, protected and private access to class members</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Figure = Class.create(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$public, $protected, _</span></span></span><span class="hljs-function">) </span></span>{ $public.x = <span class="hljs-number"><span class="hljs-number">0</span></span>; $public.y = <span class="hljs-number"><span class="hljs-number">0</span></span>; $protected.name = <span class="hljs-string"><span class="hljs-string">'figure'</span></span>; $protected.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y</span></span></span><span class="hljs-function">) </span></span>{ _(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).id = <span class="hljs-number"><span class="hljs-number">123</span></span>; <span class="hljs-comment"><span class="hljs-comment">// private this.x = x; this.y = y; }; $protected.protectedMethod = function () { console.log('protectedMethod: ', this.id, this.name, this.self.x, this.self.y); }; this.square = function (circle) { return 2 * Math.PI * circle.radius; } }); var Circle = Class.create(Figure, function ($public, $protected, _) { $public.radius = 10; $public.publicMethod = function () { console.log('publicMethod: ', _(this).id, _(this).name, this.radius); _(this).protectedMethod(); }; }); var circle = new Circle(2, 7); circle.radius = 5; circle.publicMethod(); // publicMethod: undefined figure 5 / protectedMethod: 123 figure 2 7 console.log(Circle.square(circle)); // 31.415926536</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">2) Simple and multiple class inheritance, calling parent methods via $ super</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Layer = Class.create(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$public, $protected, _</span></span></span><span class="hljs-function">) </span></span>{ $protected.uid = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; $protected.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ _(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).uid = <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now(); } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Movable = Class.create(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$public, $protected, _</span></span></span><span class="hljs-function">) </span></span>{ $public.x = <span class="hljs-number"><span class="hljs-number">0</span></span>; $public.y = <span class="hljs-number"><span class="hljs-number">0</span></span>; $protected.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x = x; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y = y; } $public.move = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x++; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y++; } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MovableLayer = Class.create([Layer, Movable], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$public, $protected, _, $super</span></span></span><span class="hljs-function">) </span></span>{ $protected.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y</span></span></span><span class="hljs-function">) </span></span>{ $<span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.get(Layer).init.apply(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>); $<span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.get(Movable).init.apply(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>); } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> layer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MovableLayer(); <span class="hljs-comment"><span class="hljs-comment">//    console.log(layer instanceof Layer, layer instanceof Movable); // true false console.log(Class.is(layer, Layer), Class.is(layer, Movable)); // true true</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">3) Automatic creation of getters / setters</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Human = Class.create(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$public, $protected, _</span></span></span><span class="hljs-function">) </span></span>{ $protected.birthday = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; $public.getBirthday = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).birthday; }; $public.setBirthday = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">day</span></span></span><span class="hljs-function">) </span></span>{ _(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).birthday = day; }; $public.getAge = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> date = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(_(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).birthday); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor((<span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now() - date.getTime()) / (<span class="hljs-number"><span class="hljs-number">1000</span></span> * <span class="hljs-number"><span class="hljs-number">3600</span></span> * <span class="hljs-number"><span class="hljs-number">24</span></span> * <span class="hljs-number"><span class="hljs-number">365</span></span>)); }; }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> human = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Human(); human.birthday = <span class="hljs-string"><span class="hljs-string">'1975-05-01'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(human.age);</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">4) Impurities</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SortableMixin = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$public, $protected, _</span></span></span><span class="hljs-function">) </span></span>{ $public.sort = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ _(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).data.sort(); }; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Archive = Class.create(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, SortableMixin, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$public, $protected, _</span></span></span><span class="hljs-function">) </span></span>{ $protected.init = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ _(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).data = [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]; }; $public.outData = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(_(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).data); }; }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> archive = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Archive(); archive.sort(); archive.outData(); <span class="hljs-comment"><span class="hljs-comment">// [2, 3, 7, 9]</span></span></code> </pre> </div></div><br><h1 id="razoblachaem-fokus">  Expose the focus </h1><br><p>  Since objects in JavaScript do not have any access settings for its properties, we can simulate behavior similar to protected / private by hiding protected data.  In normal functional inheritance, this is done by closing on the constructor itself, and all methods are created for each instance of the class: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SomeClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> privateProperty = <span class="hljs-string"><span class="hljs-string">'data'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.someMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> privateProperty; }; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10000</span></span>; i++) { data.push(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeClass()); }</code> </pre> <br><p>  When executing this code in memory, in addition to the objects themselves, another 10,000 functions, someMethod, will be created, which will badly eat out the memory.  In this case, it is impossible to simply remove the function declaration outside the constructor, since in this case the function will lose access to privateProperty. </p><br><p>  To solve this problem, we need to declare the function of the method only once, and receive protected data only at the expense of a pointer to <code>this</code> object: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SomeClass; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> privateData = []; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> counter = <span class="hljs-number"><span class="hljs-number">-1</span></span>; SomeClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.uid = ++counter; }; SomeClass.prototype.someMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> private = privateData[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.uid]; }; })();</code> </pre> <br><p>  This is better, but still bad.  First, a certain uid is accessible from outside.  And secondly, the garbage collector will never clear what gets into the privateData array and will slowly but surely erase the memory.  To solve two problems at once in ES6, wonderful classes Map and WeakMap appeared. </p><br><p>  Map is almost the same arrays, but unlike them, any JavaScript object can be passed as a key.  We will be more interested in WeakMap - this is also the same as Map, but unlike it, WeakMap does not prevent the garbage collector from clearing objects that fall into it. </p><br><p>  Rewrite: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SomeClass; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> privateData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">WeakMap</span></span>(); SomeClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; SomeClass.prototype.someMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> private = privateData.get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }; })();</code> </pre> <br><p>  So we got private.  With the implementation of protected, everything is much more complicated - to store protected data, they need to be placed in some common storage for all derived classes, but at the same time giving access to a specific class is not for all properties, but only those that are declared in it.  We use WeakMap as such storage again, and the prototype of the object as the key: </p><br><pre> <code class="javascript hljs">SomeClass.prototype.someMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> protected = protectedData.get(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getPrototypeOf(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)); };</code> </pre> <br><p>  To restrict access only to those protected-properties that are in the class itself, we will issue to the class not the object itself with the protected data, but the associated object, the necessary properties of which will be obtained from the main object, by declaring a getter and a setter: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> allProtectedData = { <span class="hljs-attr"><span class="hljs-attr">notAllowed</span></span>: <span class="hljs-string"><span class="hljs-string">'secret'</span></span>, <span class="hljs-attr"><span class="hljs-attr">allowed</span></span>: <span class="hljs-string"><span class="hljs-string">'not_secret'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentProtectedData = {}; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperties(currentProtectedData, { <span class="hljs-attr"><span class="hljs-attr">allowed</span></span>: { <span class="hljs-attr"><span class="hljs-attr">get</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> allProtectedData.allowed; }, <span class="hljs-attr"><span class="hljs-attr">set</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function">) </span></span>{ allProtectedData.allowed = v; }, } }); currentProtectedData.allowed = <span class="hljs-string"><span class="hljs-string">'readed'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(allProtectedData.allowed, currentProtectedData.allowed, currentProtectedData.notAllowed); <span class="hljs-comment"><span class="hljs-comment">// readed readed undefined</span></span></code> </pre> <br><p>  That's about the way it works. </p><br><p><img src="https://habrastorage.org/files/4d8/363/7e3/4d83637e321144a7907f5ff70876b76c.jpg" alt="img"></p><br><p>  Well, then it remains only to weigh all this beauty and possibilities, and voila! </p><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  You will find a detailed description of the possibilities in the project's <a href="">README</a> .  Thank you all for your attention! </p><br><p>  ‚Üí <a href="https://github.com/paulzi/oopify/">Project on GitHub</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/319136/">https://habr.com/ru/post/319136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319118/index.html">The way to deal with the brutal anti-adblockers, blockers themselves</a></li>
<li><a href="../319126/index.html">Pure Python Architecture: A Walkthrough. Part 1</a></li>
<li><a href="../319128/index.html">Infrastructure simple electronic signature. Part 3: Personal Data Processing Systems</a></li>
<li><a href="../319132/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ244 (January 2 - 8, 2017)</a></li>
<li><a href="../319134/index.html">Thinking in the style of React</a></li>
<li><a href="../319138/index.html">How to start implementing Hadoop in the company</a></li>
<li><a href="../319140/index.html">Third-party applications that use the Google Hangouts API will stop working after April 25, 2017</a></li>
<li><a href="../319142/index.html">Ludum Dare # 37: First Experience and Participation Experience</a></li>
<li><a href="../319144/index.html">learnopengl. Lesson 1.7 - Transformations</a></li>
<li><a href="../319146/index.html">How IT professionals work. Nikita Abdullin, security analyst at Riscure</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>