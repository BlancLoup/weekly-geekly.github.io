<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web-based devices</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Author: Nikolay Khabarov, IoT Google Developer Expert, Embedded Systems Expert, DataArt. 

 In this article I will tell you how to create your own dev...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web-based devices</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/wf/fp/bv/wffpbvcr58duw0ecpp8fu0mmu7k.jpeg"><br><br>  <i>Author: Nikolay Khabarov, IoT Google Developer Expert, Embedded Systems Expert, DataArt.</i> <br><br>  In this article I will tell you how to create your own device with a web interface that will be available on the local network.  The web interface will display the current data from the <b>Si7021</b> sensor: temperature and humidity. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The device works on the basis of the <b>ESP8266</b> microcontroller (with <b>Wi-Fi</b> ) and <b><a href="https://github.com/devicehive/esp8266-firmware">DeviceHive</a></b> firmware. <a name="habracut"></a><br><br><h3>  1. Install and configure firmware </h3><br>  First of all, you need to <b>upload the DeviceHive</b> firmware to the debug board.  You can use any <b>ESP8266</b> card with 4 Mbit flash memory (for example, with an <b>ESP-12E</b> module).  Quite popular motherboards are the <a href="http://www.nodemcu.com/index_en.html">NodeMCU Development Kit</a> and the <a href="https://www.adafruit.com/product/2471">Adafruit HUZZAH ESP8266 Breakout</a> . <br><br>  You can use these or any other board with similar characteristics.  For example, we took <b>NodeMCU devkit</b> , since this is the easiest way to use the <b>ESP8266</b> chip. <br><br><ol><li>  Download the latest <a href="https://github.com/devicehive/esp8266-firmware/releases/latest">binary firmware release</a> from GitHub. </li><li>  Unzip the downloaded archive. </li><li>  Connect the <b>NodeMCU</b> to the computer using a Micro USB cable (for some operating systems, you may need to install drivers). </li><li>  Run the <b>esp-flasher</b> (from the archive for your OS) to install the firmware. </li></ol><br>  The <b>NodeMCU</b> does not need to use any buttons or connectors to install the firmware. <br><br>  The following screenshot illustrates successful firmware upload: <br><br><img src="https://habrastorage.org/webt/k-/py/ui/k-pyuiw833mhuzirf8xxxcr4oy0.png"><br>  After installing the firmware, reboot the board (to do this, reconnect the board via the USB port).  If the firmware is flooded for the first time, a blue LED should light up on the module.  If the firmware has already been installed before, three times slowly press the <b>RESET</b> button on the module, the blue LED should turn on. <br><br><img src="https://habrastorage.org/webt/8c/yy/nv/8cyynvj-9huasag6v1lgyz88s7c.jpeg"><br><br>  Then take a mobile phone or laptop (with Wi-Fi) and connect to the open wireless network <b>DeviceHive</b> . <br><br>  The microcontroller settings dialog should appear on the screen automatically (otherwise, use <a href="http://devicehive.config/">this link</a> in the browser). <br><br>  In the dialog box, specify the Wi-Fi network name ( <b>SSID</b> ) and password.  In the <b>DeviceID</b> field, enter <b>climate</b> - this ID will serve as the domain address for the device‚Äôs web interface. <br><br>  Leave blank: <b>DeviceHipe API URL</b> and <b>Key</b> . <br><br>  If the key has been entered (the <b>Key</b> field), authorization will be required in the web interface (for simplicity of presentation and the code in the article, we do not consider this case). <br><br>  An example of the settings dialog is shown below: <br><br><img src="https://habrastorage.org/webt/_k/6n/hk/_k6nhk0sophgdtthkga5igzzu9a.png"><br><br>  After applying the settings ( <b>Apply</b> button), connect any device with a web browser and <b>mDNS</b> support (for Windows OS, mDNS support can be added through a third-party application, for example, you can use <a href="https://support.apple.com/kb/DL999%3Flocale%3Den_US">this application</a> ). <br><br>  If <b>mDNS is</b> not available, use the microcontroller‚Äôs IP address instead of the local URL. <br><br>  Open a web browser at this link: <a href="http://climate.local/">http: //climate.local</a> .  The web browser should display the default page. <br><br><img src="https://habrastorage.org/webt/az/uc/o_/azuco_ex8r_wc1wgmr6qew51ue4.png"><br><br><h3>  2. Sensor connection </h3><br>  Since the <b>Si7021</b> sensor uses the <b>I2C interface</b> , it is connected to the board via four wires.  The firmware allows you to use any <b>GPIO</b> connectors (for <b>I2C</b> <b>SDA</b> and <b>SCL</b> lines).  Thus, the sensor can be connected very simply. <br><br>  Connect the sensor as shown in the photo: <br><br><img src="https://habrastorage.org/webt/kx/hn/0v/kxhn0vkjhczlpfvxckerhrj1nsm.png"><br><br>  You can also use the connecting wires (for surface mounting) to connect the sensor to the board (as shown in the photo). <br><br><img src="https://habrastorage.org/webt/cb/nv/tv/cbnvtvlscedsxqgx-y4fmsvq50y.jpeg"><br><br>  Note that the <b>NodeMCU</b> board <b>pins</b> are marked with the prefix <b>D.</b>  For example, the <b>D5</b> marking corresponds to the <b>GPIO14 pin of the</b> <b>ESP8266</b> microcontroller, and the <b>D6</b> corresponds to the <b>GPIO12 pin of the</b> <b>ESP8266</b> microcontroller. <br><br><h3>  3. Software </h3><br>  Now it's time to develop a custom web interface for our device.  We have already mentioned that the firmware has a web page ( <a href="http://climate.local/">http: //climate.local</a> ).  There is a very simple web server with a help page, demo pages and a RESTful API.  We have a great opportunity to load a custom web page into flash memory and use our device with our own custom web interface. <br><br>  Below we provide the code that will allow you to read and display sensor data. <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/a98697964748bcee9e57a18cb4cfc620.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist87496822" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-index-html" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-html ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-index-html-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-index-html-LC1" class="blob-code blob-code-inner js-file-line">&lt;<span class="pl-ent">html</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-index-html-LC2" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">head</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-index-html-LC3" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">meta</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>viewport<span class="pl-pds">"</span></span> <span class="pl-e">content</span>=<span class="pl-s"><span class="pl-pds">"</span>width=device-width, initial-scale=1<span class="pl-pds">"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-index-html-LC4" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s"><span class="pl-pds">"</span>stylesheet<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text/css<span class="pl-pds">"</span></span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">"</span>style.css<span class="pl-pds">"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-index-html-LC5" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">title</span>&gt;Climate&lt;/<span class="pl-ent">title</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-index-html-LC6" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>libs.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-index-html-LC7" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">script</span>&gt;<span class="pl-s1"></span></td>
      </tr>
      <tr>
        <td id="file-index-html-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-index-html-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            <span class="pl-k">function</span> <span class="pl-en">read_sensor</span>() {</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-index-html-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                <span class="pl-en">send_command</span>(<span class="pl-s"><span class="pl-pds">"</span>devices/si7021/read<span class="pl-pds">"</span></span>, </span></td>
      </tr>
      <tr>
        <td id="file-index-html-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-index-html-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                             {<span class="pl-s"><span class="pl-pds">"</span>SDA<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">12</span>, <span class="pl-s"><span class="pl-pds">"</span>SCL<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-c1">14</span>, <span class="pl-s"><span class="pl-pds">"</span>address<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>0x80<span class="pl-pds">"</span></span>}, <span class="pl-c1">null</span>,</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-index-html-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                             <span class="pl-k">function</span> (<span class="pl-smi">err</span>, <span class="pl-smi">res</span>) {</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-index-html-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-k">if</span>(err) {</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-index-html-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                        <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">"</span>t<span class="pl-pds">"</span></span>).<span class="pl-smi">innerHTML</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>ERROR: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> res;</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-index-html-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                        <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">"</span>h<span class="pl-pds">"</span></span>).<span class="pl-smi">innerHTML</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>;</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-index-html-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    } <span class="pl-k">else</span> {</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-index-html-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                        <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">"</span>t<span class="pl-pds">"</span></span>).<span class="pl-smi">innerHTML</span> <span class="pl-k">=</span> res[<span class="pl-s"><span class="pl-pds">"</span>temperature<span class="pl-pds">"</span></span>].<span class="pl-en">toFixed</span>(<span class="pl-c1">2</span>);</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-index-html-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                        <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">"</span>h<span class="pl-pds">"</span></span>).<span class="pl-smi">innerHTML</span> <span class="pl-k">=</span> res[<span class="pl-s"><span class="pl-pds">"</span>humidity<span class="pl-pds">"</span></span>].<span class="pl-en">toFixed</span>(<span class="pl-c1">2</span>);</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-index-html-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    }</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-index-html-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                    <span class="pl-c1">setTimeout</span>(read_sensor, <span class="pl-c1">1000</span>);</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-index-html-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">                });</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-index-html-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">            }</span></td>
      </tr>
      <tr>
        <td id="file-index-html-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-index-html-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">        </span>&lt;/<span class="pl-ent">script</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-index-html-LC23" class="blob-code blob-code-inner js-file-line">    &lt;/<span class="pl-ent">head</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-index-html-LC24" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">body</span> <span class="pl-e">onload</span>=<span class="pl-s"><span class="pl-pds">"</span>read_sensor()<span class="pl-pds">"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-index-html-LC25" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>header<span class="pl-pds">"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-index-html-LC26" class="blob-code blob-code-inner js-file-line">            &lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>&gt;&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>devecihive-logo-text<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;&lt;/<span class="pl-ent">a</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-index-html-LC27" class="blob-code blob-code-inner js-file-line">        &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-index-html-LC28" class="blob-code blob-code-inner js-file-line">        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>content<span class="pl-pds">"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-index-html-LC29" class="blob-code blob-code-inner js-file-line">            &lt;<span class="pl-ent">h1</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-index-html-LC30" class="blob-code blob-code-inner js-file-line">                &lt;<span class="pl-ent">div</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-s1"><span class="pl-c1"><span class="pl-c1">display</span></span>: <span class="pl-c1">inline-block</span>; <span class="pl-c1"><span class="pl-c1">float</span></span>: <span class="pl-c1">left</span></span><span class="pl-pds">"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-index-html-LC31" class="blob-code blob-code-inner js-file-line">                    &lt;<span class="pl-ent">div</span>&gt;Temperature:&lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-index-html-LC32" class="blob-code blob-code-inner js-file-line">                    &lt;<span class="pl-ent">div</span>&gt;Humidity:&lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-index-html-LC33" class="blob-code blob-code-inner js-file-line">                &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-index-html-LC34" class="blob-code blob-code-inner js-file-line">                &lt;<span class="pl-ent">div</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-s1"><span class="pl-c1"><span class="pl-c1">display</span></span>: <span class="pl-c1">inline-block</span>; <span class="pl-c1"><span class="pl-c1">padding-left</span></span>: <span class="pl-c1">20<span class="pl-k">px</span></span></span><span class="pl-pds">"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-index-html-LC35" class="blob-code blob-code-inner js-file-line">                    &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>t<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-index-html-LC36" class="blob-code blob-code-inner js-file-line">                    &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>h<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-index-html-LC37" class="blob-code blob-code-inner js-file-line">                &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-index-html-LC38" class="blob-code blob-code-inner js-file-line">            &lt;/<span class="pl-ent">h1</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-index-html-LC39" class="blob-code blob-code-inner js-file-line">        &lt;/<span class="pl-ent">div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-index-html-LC40" class="blob-code blob-code-inner js-file-line">    &lt;/<span class="pl-ent">body</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-index-html-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-index-html-LC41" class="blob-code blob-code-inner js-file-line">&lt;/<span class="pl-ent">html</span>&gt;</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">index.html</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Although the code is pretty simple, let's still break it down line by line. <br><br>  <b>Lines 1‚Äì6:</b> <br>  File headers, <b>viewport</b> settings for mobile devices, CSS connection and JavaScript import.  The embedded microprocessor pages contain CSS and a small JavaScript library.  In our example, these resources are used.  Source code is available <a href="https://github.com/devicehive/esp8266-firmware/tree/develop/firmware-src/pages">here</a> . <br><br>  <b>Lines 7‚Äì22:</b> <br>  A simple script that runs the <b>send_command ()</b> method from the built-in JavaScript library ( <b>libs.js</b> ) in a loop (loop) at intervals of a second.  This method performs a simple <b>POST</b> request to the following URL: <a href="http://climate.local/api/devices/si7021/read">http: //climate.local/api/devices/si7021/read</a> .  This URL is part of the local RESTful API (microprocessor). <br><br>  The same data can be obtained using a <b>GET</b> request in a regular browser.  The answer is given in the form of <b>JSON</b> , which contains sensor data.  Temperature and humidity values ‚Äã‚Äãare mapped to pages using javascript. <br><br>  <b>Lines 24‚Äì40:</b> <br>  The HTML code of the web page itself.  Individual page elements, such as the <b>DeviceHive</b> logo, are taken from the inline styles. <br><br>  Copy the code to the clipboard and open the page editor: <a href="http://climate.local/editor.html">http: //climate.local/editor.html</a> . <br><br>  Paste the code in the editor from the clipboard. <br><br>  Press the <b>Flash</b> button - now our code is included in the microprocessor firmware. <br><br>  Open the <a href="http://climate.local/">http: //climate.local</a> link on any Wi-Fi <b>DeviceHive</b> <a href="http://climate.local/">device</a> .  Sensor data will be displayed on the page. <br><br><img src="https://habrastorage.org/webt/h7/wf/zd/h7wfzdmwcq37yygxuwz0bvlrcc4.png"><br><br><h3>  Conclusion </h3><br>  <b>DeviceHive</b> firmware allows you to create simple devices connected to the cloud.  In addition, you can easily add a local web interface that can be used both separately and together with the connection to the cloud service.  The content of this page can be arbitrary.  You can add third-party components to the page (for example, <a href="https://d3js.org/">D3.js</a> ), as was done in <a href="https://github.com/devicehive/esp8266-firmware/blob/develop/firmware-src/pages/graphs.html">this example</a> , or display data from several sensors on a local network. <br><br>  Detailed documentation on <b>DeviceHive</b> firmware is available at <a href="">this link</a> . </div><p>Source: <a href="https://habr.com/ru/post/351150/">https://habr.com/ru/post/351150/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351140/index.html">Battery change: UPS on Li-Ion technology</a></li>
<li><a href="../351142/index.html">What makes an owl in ZeroNights 2017 Crackme # 3?</a></li>
<li><a href="../351144/index.html">About life, freedom and the pursuit of happiness user API</a></li>
<li><a href="../351146/index.html">Notes on meeting VR platform requirements</a></li>
<li><a href="../351148/index.html">Richard Hamming: Chapter 5. The History of Computers ‚Äî A Practical Application</a></li>
<li><a href="../351152/index.html">Immersing in templates and taming Windows GPO</a></li>
<li><a href="../351154/index.html">How to take the right person to the team - preparing for the interview</a></li>
<li><a href="../351156/index.html">No need to complicate! Or how can redpolitika help promote your solutions to users?</a></li>
<li><a href="../351158/index.html">Family tree inside git</a></li>
<li><a href="../351160/index.html">#PostgreSQL. We accelerate the deployment seven times with the help of "multithreads"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>