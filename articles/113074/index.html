<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic file copying on iOS device without jailbreak and file managers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I got one project, inherently nothing supernatural - the most common gallery of pictures for which data was downloaded from the server, but neverthele...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic file copying on iOS device without jailbreak and file managers</h1><div class="post__text post__text-html js-mediator-article">  I got one project, inherently nothing supernatural - the most common gallery of pictures for which data was downloaded from the server, but nevertheless it was quite interesting.  First of all, it was necessary to take into account that those images that are displayed in the gallery, in no case should not get to third parties, since this application was specially created for the <s>oligarchs of the</s> powerful.  According to all the requirements, communication with the server should take place via SSL protocol and during each request it is necessary to check the certificate received from the server for a power of attorney, and only after this check to send the necessary certificate to validate the user for each specific request.  That is, not all requests use the same certificate, which means that a certain number of certificates must be transferred to the device, which depends on the client and its registration. <br><a name="habracut"></a><br>  Before us was the question: how to transfer the necessary certificates to the device.  At the very beginning, we considered ways to copy files in iTunes using File Sharing, upload certificates to Keychain via Wi-Fi, send certificates via e-mail, etc.  But they all did not fit in several requirements: <br><br>  1. You can not use wireless networks, based on the concept of security, only a wired connection. <br>  2. The user should not participate in the file transfer. <br>  3. The use of a system keychain is prohibited. <br>  4. Everything should happen more or less imperceptibly. <br><br>  After all the research and discussions, a method was found that met all the requirements.  It was used in the implementation of several file system browsers for the iPhone / iPad (iPhone Explorer, iDisk, iPhone Browser), but the approach was incomprehensible.  After the next run on our beloved Google and long reflections, it became clear that all these browsers use iTunes in their work and this happens through the private framework MobileDevice.framework.  In order to work with it, the MobileDevice.h file was extracted, which was formed by kind people through reverse engineering.  And then the magic began ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Examining all the functions of this .h file, we understood its purpose and approximate model of work with the device.  After some time, managed to get and m.  file implementation of some part of these functions.  And after the necessary changes for our needs, we have the following functionality: <br><br>  1. Search for an application by its identifier (necessary for the application to determine the location of the application and its directories). <br>  2. Display a list of all installed applications. <br>  3. View a list of directories. <br>  4. View the contents of directories. <br>  5. Copy files from / to device. <br>  6. The definition of a connected / disconnected device. <br>  7. View the Media folder and all its subfolders and files, and some others. <br><br>  It is worth adding that all these features are available without a jailbreak.  This is very important, since for the end user it would be very inconvenient, and sometimes even unrealistic, to understand the hacking of the device and its connection via SSH or SFTP and in self-copying files.  Moreover, not quite ordinary citizens should use the developed program. <br><br>  In order to use this library, an application was written with a command line for Mac OS, since this system will most often be used by the client.  In the application's incoming parameters, for simplicity and convenience, the application identifier, the source file path and the path where it is necessary to copy it are indicated.  Since the application on the device itself is convenient to use files from the / Documents folder, most often it is indicated as the final directory for the file. <br><br>  Since the implementation of all functions and solutions is inconvenient and takes a lot of code, since the written library is not small, this console application was laid out for everyone to try and use in their projects on GitHub: <a href="https://github.com/xslim/mobileDeviceManager">github.com/xslim/mobileDeviceManager</a> <br><br>  All the pleasant work, interesting projects, and that the requirements always coincide with your capabilities! <br><br>  PS Thank you all, corrected typos.  The topic was written after the working day, that's where the mistakes come from. </div><p>Source: <a href="https://habr.com/ru/post/113074/">https://habr.com/ru/post/113074/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../113066/index.html">Half a million passwords were found in the Waledac botnet server caches</a></li>
<li><a href="../113068/index.html">Mozilla released Firefox 4 beta 4 for Android and Maemo</a></li>
<li><a href="../113069/index.html">The three most useful skills that I learned 5 years ago</a></li>
<li><a href="../113072/index.html">Where are the negative reviews on ebaytoday.ru?</a></li>
<li><a href="../113073/index.html">jQuery Deferred Object (detailed description)</a></li>
<li><a href="../113075/index.html">Virtual keyboard</a></li>
<li><a href="../113076/index.html">Group of users</a></li>
<li><a href="../113077/index.html">6 reasons why you should not write functional specifications</a></li>
<li><a href="../113078/index.html">Web developer pitfalls</a></li>
<li><a href="../113079/index.html">Bluetooth controlled machine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>