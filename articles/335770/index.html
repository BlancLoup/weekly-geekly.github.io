<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Webcam, Node.js and OpenCV: make a face recognition system</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Computer vision is, in a nutshell, a set of technologies based on the principles of human vision, which allow a computer to see and understand what it...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Webcam, Node.js and OpenCV: make a face recognition system</h1><div class="post__text post__text-html js-mediator-article">  Computer vision is, in a nutshell, a set of technologies based on the principles of human vision, which allow a computer to see and understand what it sees.  At first glance, it seems to be simple, but in reality this is far from the case. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/335770/"><img src="https://habrastorage.org/web/7fd/5af/24a/7fd5af24aba540d98a93d12defb708e7.jpg"></a> <br><br>  If you want to understand the importance of computer vision and learn about its applications, watch <a href="https://www.youtube.com/watch%3Fv%3DNrmMk1Myrxc">this video</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As the saying goes: ‚Äúit‚Äôs better to see once,‚Äù in this case, to see how Amazon uses this technology to create new generation shopping centers.  Awesome, right? <br><br>  If you want to join the technology of computer vision - I suggest to talk about how to create an interactive facial recognition system using a conventional webcam, Node.js and OpenCV. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">About studying computer vision</font> </h2><br>  Perhaps it is impossible to give a complete description of computer vision technologies in one material or even in a whole series of articles.  Therefore, we consider now only the most important things that will allow us to start developing. <br><br>  Of course, you can expand your knowledge in this area and on your own, for example, by signing up for the relevant courses, say, on the <a href="https://www.edx.org/course/artificial-intelligence-ai-columbiax-csmm-101x">EDX</a> . <br><br>  There is an organization called <a href="http://opencv.org/">OpenCV</a> , working in the field of computer vision.  She is developing an open source library of the same name.  This library supports C, C ++ and Java.  There is no official module for Node.js, however, there is a <code>node-opencv</code> module created by enthusiasts.  We will use this module in the following sections of the material.  Namely, below we consider the following questions: <br><br><ul><li>  Installing OpenCV. </li><li>  Working with the OpenCV module for Node.js. </li><li>  Development of an interactive facial recognition system. </li></ul><br><h2>  <font color="#3AC1EF">Install OpenCV</font> </h2><br>  First you need to install the OpenCV library.  If you use Ubuntu, the following commands will help you.  I checked them on Ubuntu 16.04. <br><br>  So let's start by installing the dependencies required for OpenCV. <br><br><pre> <code class="hljs sql">sudo apt-get <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> <span class="hljs-keyword"><span class="hljs-keyword">build</span></span>-essential sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> cmake git libgtk2<span class="hljs-number"><span class="hljs-number">.0</span></span>-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394<span class="hljs-number"><span class="hljs-number">-22</span></span>-dev</code> </pre> <br>  Now install the OpenCV library itself. <br><br><pre> <code class="hljs swift">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install libopencv-dev</code> </pre> <br>  You can install it in another way, using the <a href="http://docs.opencv.org/trunk/d7/d9f/tutorial_linux_install.html">official</a> installation <a href="http://docs.opencv.org/trunk/d7/d9f/tutorial_linux_install.html">guide</a> and the commands given in it. <br><br>  The library <a href="http://docs.opencv.org/3.2.0/d5/de5/tutorial_py_setup_in_windows.html">can be installed</a> for Windows. <br><br>  If you are working on a Mac, you can either compile OpenCV from source, or use <code>brew</code> . <br><br><pre> <code class="hljs sql">brew tap homebrew/science brew <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> opencv</code> </pre> <br><h2>  <font color="#3AC1EF">Node-opencv module</font> </h2><br>  As already mentioned, OpenCV does not officially offer a driver for Node.js.  However, in the npm registry there is a <code>node-opencv</code> module, which Peter Braden and other programmers are working on.  This module is still in development, it does not yet support all OpenCV APIs. <br><br>  It should be noted that currently the latest build with GitHub is not combined with the <code>node-opencv</code> npm module, therefore, installing a module from npm you may encounter problems.  It is recommended to install the module directly from GitHub using the following command: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> peterbraden/node-opencv</code> </pre> <br>  Now let's do the programming. <br><br><h2>  <font color="#3AC1EF">Development of an interactive face recognition system</font> </h2><br>  Before we recognize faces in the video stream of a webcam, let's deal with performing the same operation for a normal photo. <br><br>  How to recognize faces in photos?  OpenCV provides various classifiers that can be used to recognize faces, eyes, cars, and many other objects.  These classifiers, however, are quite simple, they are not trained using machine learning technologies, therefore, when recognizing faces, we can count on accuracy of about 80%. <br><br>  Here are photos of my friends from one of the usual office parties. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/912/351/79d/91235179dc948165124c1324384cca20.jpg"><br><br>  We write a program that will recognize the faces in this picture.  Here is the code ( <code>face-detector.js</code> file) that reads the original image from the disk and displays the new image with the faces marked on it. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cv = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'opencv'</span></span>); cv.readImage(<span class="hljs-string"><span class="hljs-string">"./friends.jpg"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, im</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> err; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (im.width() &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> || im.height() &lt; <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'Image has no size'</span></span>); im.detectObject(cv.FACE_CASCADE,{}, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, faces</span></span></span><span class="hljs-function">)</span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> err;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; faces.length; i++){     <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> face = faces[i];     im.ellipse(face.x + face.width / <span class="hljs-number"><span class="hljs-number">2</span></span>, face.y + face.height / <span class="hljs-number"><span class="hljs-number">2</span></span>, face.width / <span class="hljs-number"><span class="hljs-number">2</span></span>, face.height / <span class="hljs-number"><span class="hljs-number">2</span></span>);   }   im.save(<span class="hljs-string"><span class="hljs-string">'./friends-faces.jpg'</span></span>);   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Image saved as friends-faces.png'</span></span>); }); });</code> </pre> <br>  This is how the program recognized the faces in the image. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/521/593/9b8/5215939b8f561fcec3e5499e70c6d6b3.jpg"><br><br>  I know it didn't work out very precisely, but a start has been made, and that is good.  Let's do the same thing now using a video stream from a webcam.  First you need to connect to the camera and display the video.  Here is the code ( <code>camera.js</code> ) that does it. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cv = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'opencv'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> camera = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cv.VideoCapture(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cv.NamedWindow(<span class="hljs-string"><span class="hljs-string">'Video'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   camera.read(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, im</span></span></span><span class="hljs-function">) </span></span>{     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> err;     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(im.size())     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (im.size()[<span class="hljs-number"><span class="hljs-number">0</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; im.size()[<span class="hljs-number"><span class="hljs-number">1</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> err;               <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.show(im);     }     <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.blockingWaitKey(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>);   }); }, <span class="hljs-number"><span class="hljs-number">20</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e){ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"Couldn't start camera:"</span></span>, e) }</code> </pre> <br>  Run this code with the following command. <br><br><pre> <code class="hljs mel">node <span class="hljs-keyword"><span class="hljs-keyword">camera</span></span>.js</code> </pre> <br>  If everything works as it should, you will see a window in which what the camcorder shoots will be displayed.  In your case, the picture will be similar to the one shown below, only your face will get into the frame, not mine. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/590/29d/669/59029d669a0a185e89cf0ab06195a62a.png"><br><br>  My webcam is not very good, but, honestly, in life I look much better.  Let's analyze our program. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> camera = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cv.VideoCapture(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cv.NamedWindow(<span class="hljs-string"><span class="hljs-string">'Video'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br>  Here we are trying to access the video stream from the camera and create a new window to display the video. <br><br>  Now, in order to show the video and not a static image, you need to display in the window a fresh image obtained from the camera.  We do this by using the <code>setInterval()</code> function and updating the window every 20 milliseconds. <br><br><pre> <code class="hljs javascript">  setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   camera.read(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, im</span></span></span><span class="hljs-function">) </span></span>{     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> err;     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(im.size())     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (im.size()[<span class="hljs-number"><span class="hljs-number">0</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; im.size()[<span class="hljs-number"><span class="hljs-number">1</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> err;               <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.show(im);     }     <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.blockingWaitKey(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>);   }); }, <span class="hljs-number"><span class="hljs-number">20</span></span>);</code> </pre> <br>  The first image has a size of 0x0 pixels, we do not need to display it.  The <code>if</code> takes care of this. <br><br>  So, we know how to recognize faces in photos and how to access video stream from a webcam.  Now let's combine it all and our interactive face recognition system will be ready for work.  Here is the code ( <code>camera.js</code> file) that recognizes faces in a video stream. <br><br><pre> <code class="hljs lua">var cv = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'opencv'</span></span>); try { var camera = new cv.VideoCapture(<span class="hljs-number"><span class="hljs-number">0</span></span>); var window = new cv.NamedWindow(<span class="hljs-string"><span class="hljs-string">'Video'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) // face detection properties var rectColor = [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>];  var rectThickness = <span class="hljs-number"><span class="hljs-number">2</span></span>; setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {   camera.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err, im)</span></span></span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) throw err;     console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(im.size())     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (im.size()[<span class="hljs-number"><span class="hljs-number">0</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; im.size()[<span class="hljs-number"><span class="hljs-number">1</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){               im.detectObject(cv.FACE_CASCADE, {}, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err, faces)</span></span></span></span> {               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) throw err;               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; faces.length; i++) {                       face = faces[i];                       im.rectangle([face.x, face.y], [face.width, face.height], rectColor, rectThickness);                }               window.show(im);               });     }     window.blockingWaitKey(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>);   }); }, <span class="hljs-number"><span class="hljs-number">20</span></span>); } catch (e){ console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-string"><span class="hljs-string">"Couldn't start camera:"</span></span>, e) }</code> </pre> <br>  Run it. <br><br><pre> <code class="hljs mel">node <span class="hljs-keyword"><span class="hljs-keyword">camera</span></span>.js</code> </pre> <br><blockquote>  That's what eventually <a href="">happened</a> </blockquote><br>  Again, the recognition accuracy here is low, according to rough estimates - about 80%. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  OpenCV is a great open source project.  It can be used for free to develop applications that can be used, for example, in areas such as motion recognition and face recognition.  In addition, standard classifiers can be trained to improve recognition accuracy.  I hope OpenCV will officially support Node.js, which will allow using more features of this wonderful library in this environment.  If you want to delve into the technology of machine vision, then, in addition to various training courses, it will be useful to read <a href="https://www.amazon.com/gp/product/1491937998/ref%3Das_li_tl%3Fie%3DUTF8%26camp%3D1789%26creative%3D9325%26creativeASIN%3D1491937998%26linkCode%3Das2%26tag%3Dcodeforgeek-20%26linkId%3D19db4c0b3e8d05f0e90480818969c730">this book</a> and look at the <a href="http://opencv.org/">materials</a> from the official site of OpenCV. <br><br>  Dear readers!  Do you use machine vision technology in your projects? </div><p>Source: <a href="https://habr.com/ru/post/335770/">https://habr.com/ru/post/335770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../335756/index.html">Concurrency in Swift 3 and 4. Operation and OperationQueue</a></li>
<li><a href="../335758/index.html">Five JavaScript debugging tools that are useful to know</a></li>
<li><a href="../335760/index.html">Automate my testing completely, cheaply, forever: QA-mitap announcement in Avito on August 26</a></li>
<li><a href="../335762/index.html">Determining the blocking mode of a TCP socket under Windows</a></li>
<li><a href="../335768/index.html">As we struggle with dynamic libraries in Swift. Yandex experience</a></li>
<li><a href="../335772/index.html">Installing and configuring MongoDB on Debian, as well as ReplicaSet and a couple of other little things</a></li>
<li><a href="../335776/index.html">UI tests - are they always needed?</a></li>
<li><a href="../335778/index.html">Report on the hackathon of the Navalny team</a></li>
<li><a href="../335780/index.html">Rethinking PID 1. Part 3</a></li>
<li><a href="../335782/index.html">3 controversial ideas of the support manager</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>