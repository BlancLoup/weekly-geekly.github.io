<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GridView, and what it is eaten with (part two, large)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last introductory part, I introduced a little to those who were not familiar with the GridView element intended to display tabular information ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GridView, and what it is eaten with (part two, large)</h1><div class="post__text post__text-html js-mediator-article">  In the last <a href="http://habrahabr.ru/blogs/net/44885/">introductory part,</a> I introduced a little to those who were not familiar with the GridView element intended to display tabular information on a form.  I told you that GridView (for my convenience, I will call this element in the following everywhere as a gridview) can be associated with a data source.  Sources can be several types.  In my examples, ObjectDataSource will be used as a source everywhere. <br><br><a name="habracut"></a><br><br>  So, as I said, use an ObjectDataSource.  This part will be dedicated to him.  Below we define methods that return data, add strokes that will help us in the future when developing from the visual environment, and also repeat all the actions, but this time through the codebehind page. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We agree that for development we use VS 2008. We open a studio, create a new project like ASP.NET WebSite, the development language is C #.  Open the Default.aspx page in Split or Design mode.  We throw on the form gridview.  We click on the arrow in the upper right corner of the gridview, select the new data source.  The source type is Object.  Go ahead and see the form where we are asked to choose a business object. <img src="http://img210.imageshack.us/img210/1374/37165924pi9.png" alt="image"><br>  Since we have no objects so far, we will not be able to choose anything.  Therefore, we proceed to the creation of our business facility. <br><br>  In order to speed up the development of objects in the future, we will create an abstract class.  This class will contain at least two public methods common to all the ancestors of our class.  The first one ‚Äî let's call it Select ‚Äî will return us an array of objects, the second one ‚Äî let's call it SelectCount ‚Äî will return the number of all elements that satisfy the query.  Let's not forget propping, therefore, as the required parameters for the Select method, we specify two input parameters: int maximumRows, int startRowIndex.  These default names are used by the ObjectDataSource to pass to the method the number of rows to fetch and the index from which to start the selection.  We do not specify any parameters for the SelectCount method. <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">[System.ComponentModel.DataObject] <br> <font color="#0000ff">public</font> <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> BusinessObject&lt;T&gt; <br> { <br> <font color="#0000ff">protected</font> T[] _objs; <br> <font color="#0000ff">private</font> <font color="#0000ff">int</font> maximumRows, startRowIndex; <br> <br> [System.ComponentModel.DataObjectMethodAttribute <br> (System.ComponentModel.DataObjectMethodType.Select, <font color="#0000ff">true</font> )] <br> <font color="#0000ff">public</font> <font color="#0000ff">virtual</font> T[] Select( <font color="#0000ff">int</font> maximumRows, <font color="#0000ff">int</font> startRowIndex) <br> { <br> <font color="#0000ff">this</font> .maximumRows = maximumRows; <br> <font color="#0000ff">this</font> .startRowIndex = startRowIndex; <br> <br> <font color="#2B91AF">List</font> &lt;T&gt; arr = <font color="#0000ff">new</font> <font color="#2B91AF">List</font> &lt;T&gt;(); <br> <font color="#0000ff">int</font> to = startRowIndex + maximumRows; <br> <font color="#0000ff">if</font> (to &gt; _objs.Length) <br> to = _objs.Length; <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = startRowIndex; i &lt; to; i++) <br> { <br> arr.Add(_objs[i]); <br> } <br> <font color="#0000ff">return</font> arr.ToArray(); <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">int</font> SelectCount() <br> { <br> <font color="#0000ff">return</font> _objs.Length; <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Let's review the class in more detail.  What is after the class name, I will not explain.  Ignorant can google about generic.  Inside the class, the _objs type T array array is declared. By default, it turns out that inside each class of the heir we will have a variable containing the type we specify (we will look further).  Until I explain to what the attributes of the class header and the Select method are for us, I will just say that they do not affect the code in any way, and it is quite possible to do without them. <br>  The Select method is virtual to be able to override it in the descendant classes.  The SelectCount method returns the total number of elements for the Select method.  In my project, I agreed that for each select that returns an array of objects, there is a method that returns the number of records.  The name of this method always consists of the name of the select method plus the Count suffix.  Those.  if we have a SelectById method, then there must be a SelectByIdCount method for it.  Attentive ones might object to me that, for the SelectById method, there is no need to return the number of elements, because this method will always return only one element.  Therefore, in this case, we can not define the SelectByIdCount method. <br><br>  Go ahead, create our business class based on the abstract class BusinesObject. <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">[System.ComponentModel.DataObject] <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> SimpleBusinesObject:BusinessObject&lt;Person&gt; <br> { <br> <font color="#0000ff">private</font> <font color="#0000ff">int</font> cnt = 0; <br> <br> <font color="#0000ff">public</font> SimpleBusinesObject() <br> { <br> <font color="#2B91AF">List</font> &lt;Person&gt; p = <font color="#0000ff">new</font> <font color="#2B91AF">List</font> &lt;Person&gt;(); <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 24; i++) <br> { <br> p.Add( <font color="#0000ff">new</font> Person( <font color="#A31515">"John "</font> + i.ToString(), i, <font color="#A31515">"Lenina str., "</font> + i.ToString())); <br> } <br> p.Add( <font color="#0000ff">new</font> Person( <font color="#A31515">"Misha"</font> , <font color="#A31515">"123-4567"</font> , <font color="#A31515">"Kremlin"</font> )); <br> _objs = p.ToArray(); <br> } <br> <br> [System.ComponentModel.DataObjectMethodAttribute <br> (System.ComponentModel.DataObjectMethodType.Select, <font color="#0000ff">false</font> )] <br> <font color="#0000ff">public</font> Person[] SelectByName( <font color="#0000ff">int</font> maximumRows, <font color="#0000ff">int</font> startRowIndex, <font color="#2B91AF">String</font> name) <br> { <br> <font color="#2B91AF">List</font> &lt;Person&gt; p = <font color="#0000ff">new</font> <font color="#2B91AF">List</font> &lt;Person&gt;(); <br> <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; _objs.Length; i++) <br> { <br> <font color="#0000ff">if</font> (_objs[i].Name.IndexOf(name)) <br> p.Add(_objs[i]); <br> } <br> cnt = p.Count; <br> <font color="#0000ff">return</font> p.GetRange(startRowIndex, maximumRows).ToArray(); <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">int</font> SelectByNameCount( <font color="#2B91AF">String</font> name) <br> { <br> <font color="#0000ff">return</font> cnt; <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Person class: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Person <br> { <br> <font color="#0000ff">private</font> <font color="#2B91AF">String</font> _name; <br> <font color="#0000ff">private</font> <font color="#2B91AF">String</font> _phone; <br> <font color="#0000ff">private</font> <font color="#2B91AF">String</font> _address; <br> <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> Name <br> { <br> <font color="#0000ff">get</font> { <font color="#0000ff">return</font> _name; } <br> <font color="#0000ff">set</font> { _name = <font color="#0000ff">value</font> ; } <br> } <br> <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> Phone <br> { <br> <font color="#0000ff">get</font> { <font color="#0000ff">return</font> _phone; } <br> <font color="#0000ff">set</font> { _phone = <font color="#0000ff">value</font> ; } <br> } <br> <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> Address <br> { <br> <font color="#0000ff">get</font> { <font color="#0000ff">return</font> _address; } <br> <font color="#0000ff">set</font> { _address = <font color="#0000ff">value</font> ; } <br> } <br> <br> <font color="#0000ff">public</font> Person() <br> { <br> _name = <font color="#A31515">"No Name"</font> ; <br> _phone = <font color="#A31515">"555-5555"</font> ; <br> _address = <font color="#A31515">"   "</font> ; <br> } <br> <br> <font color="#0000ff">public</font> Person( <font color="#2B91AF">String</font> name, <font color="#2B91AF">String</font> phone, <font color="#2B91AF">String</font> address) <br> { <br> _name = name; <br> _phone = phone; <br> _address = address; <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now you can do our page default.aspx <br><br><img src="http://img151.imageshack.us/img151/9017/39853175lu7.png" alt="image">  . <br>  As you can see in the screenshot, we can select our created business object SimpleBusinessObject.  To the right of the list with a choice of business objects is ticked Show only data components.  What it is, why it is needed.  I'll explain now.  Recall which attribute we specified in our class: [System.ComponentModel.DataObject].  With this attribute we mark the classes that we use to access the data.  Imagine.  If hundreds and more different classes were defined in our project, it would be difficult to find the object we need.  And the use of this attribute together with the tick set filters only those classes.  Which we need.  On the following form, after choosing our business facility, we are asked to choose a method that will be used for the select.  Here again the [System.ComponentModel.DataObjectMethodAttribute (System.ComponentModel.DataObjectMethodType.Select, true)] attribute will help us <br>  With which we mark our methods.  Return data.  In the end, you will notice that we have true, it means that this method will be immediately selected in the list of methods.  Therefore, it makes sense to set one of the methods to true if it will be used more often than others.  So, for the Select method it is true, and for the SelectByName method it is false.  So choose the first method in the list, go ahead, we see that we have a list of parameters.  Here we will not change anything yet, click pimpu, ready.  Now look at our generated html code: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">asp:GridView</font> <font color="#ff0000">ID</font> <font color="#0000ff">="GridView1"</font> <br> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <br> <font color="#ff0000">AllowPaging</font> <font color="#0000ff">="True"</font> <br> <font color="#ff0000">PageSize</font> <font color="#0000ff">="10"</font> <br> <font color="#ff0000">AutoGenerateColumns</font> <font color="#0000ff">="False"</font> <br> <font color="#ff0000">DataSourceID</font> <font color="#0000ff">="ObjectDataSource1"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Columns</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:BoundField</font> <font color="#ff0000">DataField</font> <font color="#0000ff">="Name"</font> <font color="#ff0000">HeaderText</font> <font color="#0000ff">="Name"</font> <font color="#ff0000">SortExpression</font> <font color="#0000ff">="Name"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:BoundField</font> <font color="#ff0000">DataField</font> <font color="#0000ff">="Phone"</font> <font color="#ff0000">HeaderText</font> <font color="#0000ff">="Phone"</font> <font color="#ff0000">SortExpression</font> <font color="#0000ff">="Phone"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:BoundField</font> <font color="#ff0000">DataField</font> <font color="#0000ff">="Address"</font> <font color="#ff0000">HeaderText</font> <font color="#0000ff">="Address"</font> <br> <font color="#ff0000">SortExpression</font> <font color="#0000ff">="Address"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Columns</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">asp:GridView</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:ObjectDataSource</font> <font color="#ff0000">ID</font> <font color="#0000ff">="ObjectDataSource1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <br> <font color="#ff0000">SelectMethod</font> <font color="#0000ff">="Select"</font> <br> <font color="#ff0000">SelectCountMethod</font> <font color="#0000ff">="SelectCount"</font> <br> <font color="#ff0000">EnablePaging</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">TypeName</font> <font color="#0000ff">="SimpleBusinesObject"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">asp:ObjectDataSource</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  I have already corrected everything that is needed here, organized paging.  I note that if we want a paging that we created manually (the choice is exactly what is needed and how much is needed, without filtering the necessary elements by means of asp.net), then to hell we throw out all the parameters from the ObjectDataSource (more precisely, not all but only two, maximumRows and startRowIndex)!  This is a very important note.  For here there is a lot of any problems, the removal of the brain, etc.  Once again, I note: <br><br>  If paging is organized by hand: <br><ul><li>  We throw out two fun parameters, maximumRows and startRowIndex, leaving only those that specify additional filtering. <br></li><li>  These parameters are not specified in the SelectCount method, we leave only those that specify additional filtering. <br></li><li>  Add attributes to GridView: AllowPaging = true, PageSize = how many <br></li><li>  Add SelectCountMethod = method_name, EnablePaging = true attributes to ObjectDataSource <br></li></ul><br>  We start our project and see that everything works fine. <br><br>  Now we will display only the list of those persons who have a certain substring in the name <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">asp:GridView</font> <font color="#ff0000">ID</font> <font color="#0000ff">="GridView2"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <br> <font color="#ff0000">AllowPaging</font> <font color="#0000ff">="True"</font> <br> <font color="#ff0000">PageSize</font> <font color="#0000ff">="10"</font> <br> <font color="#ff0000">AutoGenerateColumns</font> <font color="#0000ff">="False"</font> <br> <font color="#ff0000">DataSourceID</font> <font color="#0000ff">="ObjectDataSource2"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Columns</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:BoundField</font> <font color="#ff0000">DataField</font> <font color="#0000ff">="Name"</font> <font color="#ff0000">HeaderText</font> <font color="#0000ff">="Name"</font> <font color="#ff0000">SortExpression</font> <font color="#0000ff">="Name"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:BoundField</font> <font color="#ff0000">DataField</font> <font color="#0000ff">="Phone"</font> <font color="#ff0000">HeaderText</font> <font color="#0000ff">="Phone"</font> <font color="#ff0000">SortExpression</font> <font color="#0000ff">="Phone"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:BoundField</font> <font color="#ff0000">DataField</font> <font color="#0000ff">="Address"</font> <font color="#ff0000">HeaderText</font> <font color="#0000ff">="Address"</font> <br> <font color="#ff0000">SortExpression</font> <font color="#0000ff">="Address"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Columns</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">asp:GridView</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:ObjectDataSource</font> <font color="#ff0000">ID</font> <font color="#0000ff">="ObjectDataSource2"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <br> <font color="#ff0000">SelectMethod</font> <font color="#0000ff">="SelectByName"</font> <br> <font color="#ff0000">SelectCountMethod</font> <font color="#0000ff">="SelectByNameCount"</font> <br> <font color="#ff0000">EnablePaging</font> <font color="#0000ff">="true"</font> <br> <font color="#ff0000">TypeName</font> <font color="#0000ff">="SimpleBusinesObject"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">SelectParameters</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:QueryStringParameter</font> <font color="#ff0000">DefaultValue</font> <font color="#0000ff">="John"</font> <font color="#ff0000">Name</font> <font color="#0000ff">="name"</font> <br> <font color="#ff0000">QueryStringField</font> <font color="#0000ff">="name"</font> <font color="#ff0000">Type</font> <font color="#0000ff">="String"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">SelectParameters</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">asp:ObjectDataSource</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  I already removed all the excess, added the necessary.  Run, hooray!  Works.  But we note that we can‚Äôt open the last page, because ‚ÄúThose who want can correct this misunderstanding and make sure that at the end of the list we will not have a person named Misha.  And now you can go to smoke (if you smoke, or drink some coffee), Imagine yourself as a cool programmer on asp.net and score for everything <br><br>  So, we have considered a simple paging, filtered everything that we need.  Now I can only make a few comments.  If you use ORM, then it is quite possible that you will have to redo the sql query in the Select method so that the database gives the necessary portion of data.  Also, for the SelectCount method, you will again have to remake the sql query so that it does not return anything except the number of elements that satisfy the query.  Thus, you will significantly reduce the amount of data transferred between the database server and the web server. <br><br>  I will take my leave behind this, and in the future, perhaps, we will sort the sorting, the insertion of new elements, the deletion and the update.  But it will already be much easier, because we already have the basics of working with the GridView &amp; ObjectDataSource. <br><br>  And finally, we <a href="http://files.mail.ru/4UKA8Z">attach the</a> created project <a href="http://files.mail.ru/4UKA8Z">files.mail.ru/4UKA8Z</a> <br><br>  PS A. well, yes.  I forgot, tomorrow we will set up the gridview and datasource from codebehind. </div><p>Source: <a href="https://habr.com/ru/post/44982/">https://habr.com/ru/post/44982/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../44977/index.html">Mysteries of quantum physics</a></li>
<li><a href="../44978/index.html">"Mymehouse" co-working Moscow</a></li>
<li><a href="../44979/index.html">Luxophore is the first square traffic light.</a></li>
<li><a href="../44980/index.html">Why I do not like Drupal</a></li>
<li><a href="../44981/index.html">NVIDIA introduced the expensive, but "sticky" Tesla supercomputer</a></li>
<li><a href="../44983/index.html">Google suggests keywords for SEO</a></li>
<li><a href="../44984/index.html">Size converter function from * KB, * MB, * GB</a></li>
<li><a href="../44987/index.html">Running a project on different hosts</a></li>
<li><a href="../44988/index.html">Answers on questions</a></li>
<li><a href="../44990/index.html">Results of the NORD industrial design competition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>