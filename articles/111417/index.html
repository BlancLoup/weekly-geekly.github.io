<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Genetic Algorithms in MATLAB</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The essence of genetic algorithms 
 This topic is devoted to solving optimization problems using genetic algorithms in the MATLAB environment. I apolo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Genetic Algorithms in MATLAB</h1><div class="post__text post__text-html js-mediator-article"><h4>  The essence of genetic algorithms </h4><br>  This topic is devoted to solving optimization problems using genetic algorithms in the <b>MATLAB</b> environment.  I apologize in advance for the large amount of data: it is due to the fact that when writing a topic the main task was to disclose in detail each of the parameters of genetic algorithms that are configurable in MATLAB. <br><br>  <b>Genetic algorithms</b> are a method for solving <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25BF%25D1%2582%25D0%25B8%25D0%25BC%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F_(%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D0%25BA%25D0%25B0)">optimization problems</a> based on the biological principles of natural selection and evolution.  The genetic algorithm repeats a certain number of times the procedure for modifying a population (a set of individual solutions), thereby obtaining new sets of solutions (new populations).  At the same time, at each step, ‚Äúparents‚Äù are selected from the population, that is, solutions, the joint modification of which (crossing) leads to the formation of a new individual in the next generation.  The genetic algorithm uses three types of rules on the basis of which a new generation is formed: selection, crossing and mutation rules.  Mutation allows, by making changes in a new generation, to avoid falling into local minima of an optimized function. <br><br>  (Under the cut the main part + a few screenshots). <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The mechanism of working with genetic algorithms in MATLAB is implemented in two ways: <br><br>  1. The call function of genetic algorithms <br>  2. Using the Genetic Algorithm Tool Kit <br><br>  Both methods are supplied in the standard set of functions and MATLAB modules.  In my opinion, the second way of working with genetic algorithms in MATLAB, associated with the use of the Genetic Algorithm Tool module, is much more convenient and visual.  And consider it in more detail. <br><br><h4>  Work with GENETIC ALGORITHM TOOL </h4><br>  To run the Genetic Algorithm Tool package, the gatool command should be executed on the MATLAB command line.  After that, the genetic algorithms package will start and the main utility window will appear on the screen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9b2/d5d/d3b/9b2d5dd3bbf802fd9bf9da9eb1f1b529.jpg" alt="Main gatool window"><br><br>  The Fitness function field indicates the function to be optimized in the form of @fitnessfun, where fitnessfun.m is the name of the M-file, in which the function to be optimized should first be described.  Just in case, I note that the M-file is created in the MATLAB environment through the menu File-&gt; New-&gt; M-File.  An example of the description of some function my_fun in the M-file: <br><br>  function z = my_fun (x) <br>  z = x (1) ^ 2 - 2 * x (1) * x (2) + 6 * x (1) + x (2) ^ 2 - 6 * x (2); <br><br>  Let's return to the main GATool utility window.  The Number of variables field indicates the length of the input vector of the function being optimized.  In the example above, the function my_fun has an input vector of length 2. <br>  In the Constraints panel, you can set constraints or a limiting non-linear function.  In the Linear inequalities field, a linear restriction is specified by an inequality of the form: <br><br>  A * x ‚â§ b. <br><br>  In the Linear equalities field of this panel, linear restrictions are set by the equality: <br><br>  A * x = b. <br><br>  In both cases, A is some matrix, b is a vector. <br><br>  In the Bounds field in the vector form, the lower and upper constraints of variables are specified, and in the Nonlinear constraint function field, you can specify an arbitrary nonlinear constraint function. <br><br>  If the task does not require setting constraints, all fields of the Constraints panel should be left blank. <br><br>  Below is the chart settings panel.  It allows you to display various graphs that display information about the operation of the genetic algorithm.  Based on this information, you can change the settings of the algorithm in order to increase its efficiency.  For example, choosing the Best Fitness option in this panel allows you to display on one chart the best and average values ‚Äã‚Äãof the function being optimized for each generation of the algorithm.  This panel will be described in more detail below along with the rest of the panels on the Options tab of the GATool utility. <br><br>  The Run Solver panel contains controls (the Start, Pause and Stop buttons to start, temporarily and completely stop the genetic algorithm).  It also contains the Status and results field, which displays the current results of the running genetic algorithm, and Final point, which displays the value of the end point of the algorithm - the best value of the optimized function (that is, the desired value). <br><br>  On the right side of the main GATool utility window is the Options panel.  It allows you to set various settings for the operation of genetic algorithms.  When you click the [+] buttons, which are opposite the name of each of the adjustable parameters in the Options panel, drop-down lists (tabs) appear, containing fields for entering and changing the corresponding parameters of the genetic algorithm. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/397/a43/b00/397a43b00e2133f2c66638b8d1509689.jpg" alt="image"><br><br>  The main customizable parameters in GATool are: <br>  - population (Population tab); <br>  - scaling (tab Fitness Scaling); <br>  - selection operator (Selection tab); <br>  - Reproduction operator (Reproduction tab); <br>  - mutation operator (Mutation tab); <br>  - crossover operator (Crossover tab); <br>  - transfer of individuals between populations (tab Migration); <br>  - special algorithm parameters (Algorithm settings tab); <br>  - setting the hybrid function (tab Hybrid function); <br>  - setting the stopping criteria of the algorithm (Stopping criteria tab); <br>  - output of various additional information in the course of the genetic algorithm (Plot Functions tab); <br>  - output the results of the algorithm in the form of a new function (tab Output function); <br>  - the task of a set of information for an output in a command window (the Display to command window tab); <br>  - method of calculating the values ‚Äã‚Äãof the optimized and limiting functions (tab User function evaluation). <br><br>  Let's take a closer look at all the above tabs of the Options panel and the elements they contain. <br><br>  In the settings tab of populations, the user has the opportunity to select the type of mathematical objects to which the individuals of all populations will belong (double vector, bit string, or user-defined type).  It should be borne in mind that the use of the bit string and user-defined types impose restrictions on the list of valid creation, mutation and crossing operators of individuals.  Thus, for example, when selecting the bit-line as the representation form for a crossing operator, it is impossible to use a hybrid function or a non-linear constraint function. <br>  Also, the population tab allows you to adjust the population size (of how many individuals each generation will consist of) and how the initial generation will be created (Uniform - if there are no imposed restrictions, otherwise - Feasible population).  In addition, in the tab under consideration, it is possible to manually set the initial generation (using the Initial population item or its part, the initial rating of individuals (the Initial scores item), and also enter a restrictive numerical range to which the initial population individuals should belong. <br><br>  In the Fitness Scaling tab, the user can specify a scaling function that converts the values ‚Äã‚Äãachieved by the function to be optimized into values ‚Äã‚Äãwithin the limits allowed by the selection operator.  When selecting the Rank parameter as the scaling function, the scaling will be brought to the rating, that is, individuals will be assigned a rating number (one for the best individual, one for the next two, and so on).  Proportional scaling sets the probabilities proportional to a given number for individuals.  When selecting the Top option, the highest rating value is assigned to several of the most prominent individuals at once (their number is indicated as a parameter).  Finally, when choosing the Shift linear scaling type, it is possible to specify the maximum probability of the best individual. <br><br>  The Selection tab allows you to select a parent selection operator based on data from the scaling function.  The following options are available for selection of operator options: <br><br>  - Tournament - a specified number of individuals are randomly selected, among them the best are selected on a competitive basis; <br>  - Roulette ‚Äî simulates a roulette, in which the size of each segment is set according to its probability; <br>  - Uniform - parents are selected randomly according to a given distribution and taking into account the number of parents and their probabilities; <br>  - Stochastic uniform - a line is built in which each parent is assigned its part of a certain size (depending on the probability of the parent), then the algorithm runs through the sweat line in steps of the same length and selects the parents depending on which part of the line the step falls on. <br><br>  The Reproduction tab clarifies how new individuals are created.  The item Elite count allows you to specify the number of individuals that are guaranteed to be transferred to the next generation.  Crossover fraction indicates the proportion of individuals that are created by crossing.  The remaining fraction is created by mutation. <br><br>  In the mutation operator tab, select the type of mutation operator.  The following options are available: <br><br>  - Gaussian - adds a small random number (according to the Gaussian distribution) to all components of each individual vector; <br>  - Uniform ‚Äî the components of the vectors are selected randomly and random numbers from the allowed range are written instead; <br>  - Adaptive feasible - generates a set of directions depending on the last most successful and unsuccessful generations and, taking into account the restrictions imposed, moves along all directions to different lengths; <br>  - Custom - allows you to set your own function. <br><br>  The Crossover tab allows you to choose the type of crossover operator (single-point, two-point, heuristic, arithmetic, or scattered, which generates a random binary parent matching vector).  It is also possible to set an arbitrary (custom) crossover function. <br><br>  In the Migration tab, you can configure the rules according to which individuals will move between subpopulations within the same population.  Subpopulations are created if a vector is specified as the size of a population, and not a natural value.  In this tab, you can specify the direction of migration (forward - to the next subpopulation, both - to the previous and next), the proportion of migrating individuals and the frequency of migration (how many generations pass between migrations).  If the creation of subpopulations is not required, this tab should always be left unchanged. <br><br>  The special options tab of the algorithm allows you to customize the solution parameters for the system of nonlinear constraints imposed on the algorithm.  The value of the Initial penalty parameter determines the initial numerical value of the critique of the algorithm, the Penalty factor is used as a multiplier of this value in cases where the developer is not satisfied with the optimization accuracy or when going beyond the boundaries defined in the restrictions tab.  As a rule, these options are configured in detail for solving problems of high complexity. <br><br>  The Hybrid function tab allows you to specify another minimization function, which will be used after the end of the algorithm.  The following functions built into the MATLAB environment are available as possible hybrid functions: <br>  - none (do not use the hybrid function); <br>  - fminsearch (search for the minimum of values); <br>  - patternsearch (search by pattern); <br>  - fminunc (for an unlimited algorithm); <br>  - fmincon (for an algorithm with specified constraints). <br><br>  The Stopping criteria tab indicates the situations in which the algorithm makes a stop.  In this case, the following parameters are customizable: <br><br>  - Generations - the maximum number of generations, after which exceeding will stop; <br>  - Time limit - time limit for the operation of the algorithm; <br>  - Fitness limit - if the optimized value is less than or equal to the given limit, the algorithm will stop; <br>  - Stall generations - the number of slightly different generations, after which the algorithm will stop; <br>  - Stall time limit - the same as the previous parameter, but applicable to the running time of the algorithm; <br>  - Function tolerance and Nonlinear constraint tolerance - the minimum values ‚Äã‚Äãof the changes of the optimized and limiting functions, respectively, at which the algorithm will continue to work. <br><br>  Of particular interest is the Plot Functions tab, which allows you to select various information that is displayed in the course of the algorithm and shows both the correctness of its work and the specific results achieved by the algorithm.  The most important and used parameters for display are: <br><br>  - Plot interval - the number of generations, after which the next update of the graphs occurs; <br>  - Best fitness - output the best value of the optimized function for each generation; <br>  - Best individual - the conclusion of the best representative of the generation with the best optimization result in each of the generations; <br>  - Distance - output the interval between the values ‚Äã‚Äãof individuals in a generation; <br>  - Expectation - displays a number of probabilities and the corresponding individuals of generations; <br>  - Genealogy - conclusion of the genealogical tree of individuals; <br>  - Range ‚Äî output the smallest, largest, and average values ‚Äã‚Äãof the function being optimized for each generation; <br>  - Score diversity - display a histagram of the rating in each generation; <br>  - Scores - displaying the rating of each individual in a generation; <br>  - Selection - display the histogram of parents; <br>  - Stopping - display information about the status of all parameters that affect the criteria for stopping; <br>  - Custom - display on the graph of some user-defined function. <br><br>  The output tab of the results in the form of a new function (Output function) allows you to enable the output of the history of the algorithm in a separate window with a specified generation interval (the History to new window flag and the Interval field, respectively), and also allows you to specify and output an arbitrary output function specified in the Custom field function. <br><br>  The User function evaluation tab describes the order in which the values ‚Äã‚Äãof the optimized and limiting functions are calculated (separately, in parallel in one call, or simultaneously). <br><br>  Finally, the Display to command window tab allows you to customize the information that is displayed in the main MATLAB command window when the algorithm is running.  The following values ‚Äã‚Äãare possible: Off - no output in the command window, Iterative - output information about each iteration of the working algorithm, Diagnose - output information about each iteration and additional information about possible errors and modified key parameters of the algorithm, Final - only the reason for the stop and the final value are displayed . <br><br>  PS When writing this topic, the author enjoyed the personal experience and help of the MATLAB environment.  In future articles I will try to reveal the gatool mechanism described above with specific examples, both classical (optimization of the linear function, shooting tasks and traveling salesman), and some specific ones. <br><br>  PPS Thank you for your attention to those who read to the end. </div><p>Source: <a href="https://habr.com/ru/post/111417/">https://habr.com/ru/post/111417/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111411/index.html">Habr's favorites in PDF</a></li>
<li><a href="../111412/index.html">Excel is my financial auditor</a></li>
<li><a href="../111413/index.html">Molecular Dynamics Programming</a></li>
<li><a href="../111415/index.html">We write our handler task on .NET</a></li>
<li><a href="../111416/index.html">"Vkontakte" - a paradise for the spammer</a></li>
<li><a href="../111418/index.html">Basics of JavaScript execution and interaction with sites within Qt programs</a></li>
<li><a href="../111419/index.html">Group discount services - typical communication problems</a></li>
<li><a href="../111420/index.html">'Hello World' tutorial - your first application on the Play framework (Part 1)</a></li>
<li><a href="../111422/index.html">How do datagrids work and why?</a></li>
<li><a href="../111424/index.html">Unfinished transition history from Delphi to C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>