<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Double Star Database</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dear Habr, I think I need advice from a good DBA. Or a good architect. Or anyone. 
 The fact is that in one French village a programmer will retire th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Double Star Database</h1><div class="post__text post__text-html js-mediator-article">  Dear Habr, I think I need advice from a good DBA.  Or a good architect.  Or anyone. <br>  The fact is that in one French village a programmer will retire this summer.  And everything would be fine, but this programmer wrote 15 years ago and up to now has maintained a database of catalogs of double stars (an observatory is located right next to the village).  Now this database of some kind of mutual cooperation agreement will move to our institute, where it will be further supported.  Most likely supported by me. <br><br>  As a close examination has shown, this program is now, rather, of museum interest and in such a form it cannot be placed on our server.  This is a set of csh scripts in csh that select data from epic-sized text files.  Awk, sed, and French are widely used in places where awk and sed are not enough.  In general, we are now talking about the almost complete rewriting of everything from scratch, using SQL and any programming languages, we will not focus on them. <br><br>  The question is: how to correctly transfer the following data structure to SQL: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  The database consists of: <br><br>  <b>Catalogs.</b>  Approximate number - two or three dozen.  It is possible to add new ones.  Directories are either unchanged or updated entirely.  Each directory is a table with a dozen or so fields.  Also, a directory can contain sets of files (for example, light curves), with names referenced in the table.  Each directory contains different fields, field sets intersect weakly.  The search currently takes place only by the identifiers (names) of the components, but in the future it is also planned to search by a specific set of parameters, each parameter, in general, a function of several fields.  Say, it will be necessary to find all the stars in a certain radius around a point on the celestial sphere, or, say, all stars like T Tau, with periods of &lt;10 days. <br><br>  Each <b>entry</b> in the catalog corresponds to either an <b>object</b> ‚Äî a component of a double (or multiple) star, a minority of such directories, or a <b>pair</b> ‚Äî a double star.  For some binary stars there is information only about one component and, say, about the orbital period.  Just the second component is not visible.  Stars can be not only double, but also multiples.  Most often, a multiple star is broken into a set of doubles (in different directories this can be done in different ways).  Upon request, you will need to find all the components of a multiple system.  The number of entries in directories varies and varies from several tens to hundreds of thousands. <br><br>  In addition, there are <b>cross-identification</b> tables, created partly by hand, by different authors, sometimes conflicting.  They determine the correspondence between each other in different directories. <br><br>  As a result, it is necessary that upon request (by identifier or parameters) the user receives all available information stored in directories.  And not only by the requested objects / pairs, but also by other components of the dual / multiple system, where the requested objects are included, if any. <br><br>  <b>Attention, question:</b> How to correctly scatter such heterogeneous data on the tables so that the addition of new directories does not require changing the structure of the tables and the search and selection was fast enough? <br><br>  I didn‚Äôt succeed in solving this problem, especially since I am a physicist rather than a DBA :) </div><p>Source: <a href="https://habr.com/ru/post/92761/">https://habr.com/ru/post/92761/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../92754/index.html">LiveStreet 0.4 release</a></li>
<li><a href="../92755/index.html">Nikola Tesla described smartphones exactly 100 years ago</a></li>
<li><a href="../92756/index.html">Using apr_socket_sendfile () from servlets under Tomcat</a></li>
<li><a href="../92759/index.html">Rare breed hull</a></li>
<li><a href="../92760/index.html">Campaign against mobile phones launched in Tajikistan</a></li>
<li><a href="../92763/index.html">Terminator T-800 loves Windows 7, hates Apple</a></li>
<li><a href="../92764/index.html">Manage gestures and hands in augmented reality with the help of a highly sensitive video camera YDreams</a></li>
<li><a href="../92766/index.html">Wikinomics in brief</a></li>
<li><a href="../92767/index.html">Documentation: domains and ip-addresses</a></li>
<li><a href="../92769/index.html">BugZilla as a task setting and work control system. Real life experience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>