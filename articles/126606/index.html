<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>10 Racquet line-ups that will impress your friends</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to return to the forgotten topic about the ‚Äú10 one-liners‚Äù in my favorite language. Vigorous discussion on Habr√© was a few months ago . Unfortu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>10 Racquet line-ups that will impress your friends</h1><div class="post__text post__text-html js-mediator-article">  I want to return to the forgotten topic about the ‚Äú10 one-liners‚Äù in my favorite language.  Vigorous discussion on Habr√© <a href="http://habrahabr.ru/blogs/programming/120665/">was a few months ago</a> .  Unfortunately, not many of them were really single line readers and not many of them were readable.  I want to offer a version on Racket, which in some ways even surpasses the original Scala example in these parameters. <br><br><a name="habracut"></a><br><h5>  1. We double each element of the list </h5><br>  You can do this: <br><pre><code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">for/list</span></span> ((<span class="hljs-name"><span class="hljs-name">i</span></span> (<span class="hljs-name"><span class="hljs-name">in-range</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>))) (<span class="hljs-name"><span class="hljs-name">*</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i))</code> </pre> <br>  Either way: <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">map</span></span> (<span class="hljs-name"><span class="hljs-name">curry</span></span> * 2) (build-list 10 (Œª (x) x)))</code> </pre> <br><br><h5>  2. Sum all the numbers in the list </h5><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">apply</span></span> + (<span class="hljs-name"><span class="hljs-name">build-list</span></span> <span class="hljs-number"><span class="hljs-number">10000</span></span> (Œª (<span class="hljs-name"><span class="hljs-name">x</span></span>) x)))</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  3. Check the occurrence of a substring </h5><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> wordlist '(<span class="hljs-string"><span class="hljs-string">"Racket"</span></span> <span class="hljs-string"><span class="hljs-string">"akka"</span></span> <span class="hljs-string"><span class="hljs-string">"play framework"</span></span> <span class="hljs-string"><span class="hljs-string">"sbt"</span></span> <span class="hljs-string"><span class="hljs-string">"curring"</span></span>)) <span class="hljs-comment"><span class="hljs-comment">;   (define tweet "This is an example tweet talking about Racket and curring") ;  </span></span></code> </pre> <br>  Finds the first occurrence (if not found, returns #f): <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">findf</span></span> (<span class="hljs-name"><span class="hljs-name">curryr</span></span> regexp-match? tweet) wordlist)</code> </pre> <br>  Selects from wordlist substrings present in the tweet: <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">filter</span></span> (<span class="hljs-name"><span class="hljs-name">curryr</span></span> regexp-match? tweet) wordlist)</code> </pre> <br><br><h5>  4. Reading from file </h5><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">file-&gt;string</span></span> <span class="hljs-string"><span class="hljs-string">"file.txt"</span></span>) <span class="hljs-comment"><span class="hljs-comment">;    (file-&gt;lines "file.txt") ;   </span></span></code> </pre> <br><br><h5>  5. Print the song "Happy Birthday" </h5><br><br>  Once option <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">for-each</span></span> (Œª (<span class="hljs-name"><span class="hljs-name">x</span></span>) (<span class="hljs-name"><span class="hljs-name">display</span></span> (<span class="hljs-name"><span class="hljs-name">string-append</span></span> <span class="hljs-string"><span class="hljs-string">"Happy Birthday"</span></span> (<span class="hljs-name"><span class="hljs-name">if</span></span> x <span class="hljs-string"><span class="hljs-string">", dear John"</span></span> <span class="hljs-string"><span class="hljs-string">" to You"</span></span>) <span class="hljs-string"><span class="hljs-string">"\n"</span></span>))) '(#f #f #t #f))</code> </pre> <br>  Two options <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">for</span></span> ((<span class="hljs-name"><span class="hljs-name">x</span></span> (<span class="hljs-name"><span class="hljs-name">in-range</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>))) (<span class="hljs-name"><span class="hljs-name">display</span></span> (<span class="hljs-name"><span class="hljs-name">string-append</span></span> <span class="hljs-string"><span class="hljs-string">"Happy Birthday"</span></span> (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">=</span></span> x <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-string"><span class="hljs-string">", dear John"</span></span> <span class="hljs-string"><span class="hljs-string">" to You"</span></span>) <span class="hljs-string"><span class="hljs-string">"\n"</span></span>)))</code> </pre> <br>  Three options <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">display-lines</span></span> (<span class="hljs-name"><span class="hljs-name">build-list</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> (Œª (<span class="hljs-name"><span class="hljs-name">x</span></span>) (<span class="hljs-name"><span class="hljs-name">string-append</span></span> <span class="hljs-string"><span class="hljs-string">"Happy Birthday"</span></span> (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">=</span></span> x <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-string"><span class="hljs-string">", dear John"</span></span> <span class="hljs-string"><span class="hljs-string">" to You"</span></span>)))))</code> </pre> <br><br><h5>  6. Filtering the list of numbers </h5><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">partition</span></span> (<span class="hljs-name"><span class="hljs-name">curry</span></span> &gt; <span class="hljs-number"><span class="hljs-number">60</span></span>) '(<span class="hljs-number"><span class="hljs-number">49</span></span> <span class="hljs-number"><span class="hljs-number">58</span></span> <span class="hljs-number"><span class="hljs-number">76</span></span> <span class="hljs-number"><span class="hljs-number">82</span></span> <span class="hljs-number"><span class="hljs-number">88</span></span> <span class="hljs-number"><span class="hljs-number">90</span></span>))</code> </pre> <br>  Returns two lists - matching the condition and not responding. <br><br><h5>  7. Receiving and parsing XML from a web service </h5><br>  Load the standard libraries: <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">require</span></span> net/url xml)</code> </pre> <br>  The following action places the resulting xml into a document type structure <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> doc (<span class="hljs-name"><span class="hljs-name">read-xml</span></span> (<span class="hljs-name"><span class="hljs-name">get-pure-port</span></span> (<span class="hljs-name"><span class="hljs-name">string-&gt;url</span></span> <span class="hljs-string"><span class="hljs-string">"http://search.twitter.com/search.atom?&amp;q=racket"</span></span>))))</code> </pre> <br>  If you wish, you can parse the resulting document into a tree ‚Äî the native format of the Lisp, which is Racket: <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">xml-&gt;xexpr</span></span> (<span class="hljs-name"><span class="hljs-name">document-element</span></span> doc))</code> </pre> <br><br><h5>  8. Search for a minimum (or maximum) in the list </h5><br>  No more difficult than adding numbers: <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">apply</span></span> max '(<span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">35</span></span> <span class="hljs-number"><span class="hljs-number">-7</span></span> <span class="hljs-number"><span class="hljs-number">46</span></span> <span class="hljs-number"><span class="hljs-number">98</span></span>)) (<span class="hljs-name"><span class="hljs-name">apply</span></span> min '(<span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">35</span></span> <span class="hljs-number"><span class="hljs-number">-7</span></span> <span class="hljs-number"><span class="hljs-number">46</span></span> <span class="hljs-number"><span class="hljs-number">98</span></span>))</code> </pre> <br><br><h5>  9. Parallel processing </h5><br>  Let there be some data.  As a test, we give the usual list: <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> data-list '(ABCDEFGH))</code> </pre> <br>  And there is some kind of procedure.  For clarity, choose the multiple print symbol: <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> (<span class="hljs-name"><span class="hljs-name">process</span></span> sym) (<span class="hljs-name"><span class="hljs-name">for</span></span> ((<span class="hljs-name"><span class="hljs-name">n</span></span> (<span class="hljs-name"><span class="hljs-name">in-range</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>))) (<span class="hljs-name"><span class="hljs-name">display</span></span> sym)))</code> </pre> <br>  Parallel processing starts like this: <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">for</span></span> ((<span class="hljs-name"><span class="hljs-name">x</span></span> data-list)) (<span class="hljs-name"><span class="hljs-name">thread</span></span> (Œª () (<span class="hljs-name"><span class="hljs-name">process</span></span> x))))</code> </pre> <br><br><h5>  10. Sieve of Eratosthenes </h5><br>  The task is rather algorithmic.  There are many ways to solve it. <br>  Here is the generation of a list of numbers from 2 to max <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> (<span class="hljs-name"><span class="hljs-name">eratosphen</span></span> max) (<span class="hljs-name"><span class="hljs-name">let</span></span> er ([lst null] [cur <span class="hljs-number"><span class="hljs-number">2</span></span>]) (<span class="hljs-name"><span class="hljs-name">cond</span></span> [(<span class="hljs-name"><span class="hljs-name">&gt;</span></span> cur max) (<span class="hljs-name"><span class="hljs-name">reverse</span></span> lst)] [(<span class="hljs-name"><span class="hljs-name">ormap</span></span> (Œª (<span class="hljs-name"><span class="hljs-name">x</span></span>) (<span class="hljs-name"><span class="hljs-name">=</span></span> (<span class="hljs-name"><span class="hljs-name">remainder</span></span> cur x) <span class="hljs-number"><span class="hljs-number">0</span></span>)) lst) (<span class="hljs-name"><span class="hljs-name">er</span></span> lst (<span class="hljs-name"><span class="hljs-name">add1</span></span> cur))] [else (<span class="hljs-name"><span class="hljs-name">er</span></span> (<span class="hljs-name"><span class="hljs-name">cons</span></span> cur lst) (<span class="hljs-name"><span class="hljs-name">add1</span></span> cur))])))</code> </pre> <br>  This is not worth recording in one line. <br>  And if you only need to check the number for simplicity using the sieve of Eratosthenes, then the code can really fit into the string (the checked number should be in the place of 113). <br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">let</span></span> check ([cur <span class="hljs-number"><span class="hljs-number">2</span></span>] [n <span class="hljs-number"><span class="hljs-number">113</span></span>]) (<span class="hljs-name"><span class="hljs-name">cond</span></span> [(<span class="hljs-name"><span class="hljs-name">=</span></span> (<span class="hljs-name"><span class="hljs-name">remainder</span></span> n cur) <span class="hljs-number"><span class="hljs-number">0</span></span>) #f] [(<span class="hljs-name"><span class="hljs-name">&gt;</span></span> (<span class="hljs-name"><span class="hljs-name">sqr</span></span> cur) n) #t] [else (<span class="hljs-name"><span class="hljs-name">check</span></span> (<span class="hljs-name"><span class="hljs-name">add1</span></span> cur) n)]))</code> </pre> <br>  But I would still break it ‚Äúon the ladder‚Äù, like all other solutions to this problem. <br></div><p>Source: <a href="https://habr.com/ru/post/126606/">https://habr.com/ru/post/126606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126591/index.html">Software RAID from Dropbox</a></li>
<li><a href="../126596/index.html">New version of the "Posters" application for the iPhone is already in the AppStore</a></li>
<li><a href="../126603/index.html">Procrastination ruined my life, part 2: interesting answers to the whiner</a></li>
<li><a href="../126604/index.html">Quotes and excerpts from Jeff Raskin's book "Interfaces: New Directions in Computer Systems Design"</a></li>
<li><a href="../126605/index.html">Command Line Tools for Web Developer</a></li>
<li><a href="../126607/index.html">Weather Layer Appears on Google Maps</a></li>
<li><a href="../126609/index.html">Vintage Android Phone</a></li>
<li><a href="../126610/index.html">HP discontinues webOS smartphones and TouchPad tablets</a></li>
<li><a href="../126612/index.html">We read (and write) MyISAM directly</a></li>
<li><a href="../126616/index.html">You used QR codes at least once in your life, did you eat where (on the street, indoors or at home)?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>