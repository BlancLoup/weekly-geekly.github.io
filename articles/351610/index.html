<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We are looking for patterns on the stock exchange</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you decide to learn how to trade on the stock exchange, then you need to learn how to find patterns on it. A pattern is a certain condition (for ex...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We are looking for patterns on the stock exchange</h1><div class="post__text post__text-html js-mediator-article"><p>  If you decide to learn how to trade on the stock exchange, then you need to learn how to find patterns on it.  A pattern is a certain condition (for example, a characteristic price movement or some event), after which you will know where the price will go next. </p><br><p>  At training courses, brokers teach beginners to find and use patterns.  But almost all newbies end up losing their money.  Below I will show why this happens. </p><a name="habracut"></a><br><h2>  The basics </h2><br><p>  The whole industry of learning to trade on the stock exchange revolves around two methods of price forecasting: </p><br><ul><li>  technical analysis; </li><li>  fundamental analysis; </li></ul><br><p>  Technical analysis states that the price movement can be predicted based on its previous movement.  For example, if the price chart draws the ‚ÄúHead and Shoulders‚Äù figure, then the probability that the price will unfold increases. </p><br><img src="https://habrastorage.org/webt/gu/if/kz/guifkzwf_lz0ohcnls44e91e32o.png"><br><p>  <b>Figure 1 - the figure "Head and shoulders"</b> </p><br><p>  In contrast to it, fundamental analysis says that the price movement can be predicted by analyzing external information factors (for example, financial statements, events that have occurred, etc.). </p><br><h2>  Check if technical analysis works. </h2><br><p>  There are thousands of ways to predict prices.  These are various patterns of motion (patterns), indicators, oscillators, neural networks, etc. <br>  All of them are united by one common feature: they make it possible to predict the future price movement based on its previous values. </p><br><h2>  Put forward a hypothesis </h2><br><p>  Now imagine a situation that in the next hour the price will move as well as it moved during the hour 3 years ago. </p><br><p>  If within these identical parts of the schedule you apply the same methods of technical analysis, they will give the same readings. </p><br><p>  This thought experiment proves that instead of searching for a working method of technical analysis, you can search for similar parts of the chart, after which the price behaves in a similar way.  Further I will call such sites "models". </p><br><p>  The obvious advantage of searching for models is that you save time on finding a working method of technical analysis.  There are thousands of such methods and every day brokers, dealers and various ‚Äúteachers‚Äù of stock trading come up with several new ways.  The problem is that you don‚Äôt have enough life to test all the trading methods that are offered to you (by the way, this is the calculation). </p><br><h2>  Do an experiment </h2><br><p>  To search for models, we will write a program that will analyze the minute charts of the assets of interest to us over the past few years and identify patterns. </p><br><h4>  1. Data preparation </h4><br><p>  Download the graphics for the tool that interests us.  In my example, I used the per minute quote of the EUR / USD currency pair for the last 10 years. </p><br><p>  We will pre-process the data: we will spares only the closing price of every minute from unloading, we divide the schedule into weekly areas and eliminate sharp price hikes due to the non-working time of the exchanges. </p><br><p>  Now we divide this schedule into 2 halves of 5 years.  In the first half we will look for working models, and in the second - to check how well the found models will work in reality. </p><br><h4>  2. Model Search </h4><br><p>  In the first 5-year segment, we: </p><br><ol><li>  iterate over all values ‚Äã‚Äãof the graph; </li><li>  for each value, we will remember N previous values ‚Äã‚Äã(N will be consistently changed from 10 to 1000) and M subsequent ones (you can take any value &lt;= N, in this experiment M = 0.3 * N); </li><li>  each plot of the graph (length N) obtained in (p. 2) is comparable with all other segments of this 5-year graph (length N), and its extensions (length M) are comparable with the continuations of the corresponding segments; </li></ol><br><p>  <i>Note on p. 3: To compare pairs of graph plots, I used the least squares method, minimizing the square deviation (hereinafter - the standard deviation).</i>  <i>The lower it is - the more similar 2 fragments of the graph.</i> </p><br><img src="https://habrastorage.org/webt/vo/p9/8h/vop98hikh7epetapqpw-ogyl5xi.png"><br><p>  <b>Figure 2 - Illustration of the comparison of two parts of the graph with the length N</b> </p><br><p>  <i>SKO is calculated by the formula:</i> </p><br><img src="https://habrastorage.org/webt/jv/xk/ra/jvxkrava6rnexafr9gxj-a8oajc.png"><br><p>  <i>where:</i> </p><br><ul><li>  <i>X1i - the value of the first section of the graph at time i;</i> </li><li>  <i>X2i - the value of the second section of the graph at time i;</i> </li><li>  <i>X0 - shift of the point of origin on the vertical axis (calculated from the same formula);</i> </li><li>  <i>i - time;</i> </li><li>  <i>n is the length of the compared parts of the graph;</i> </li></ul><br><p>  As a result of such an enumeration (see Section 3), we obtain a large number of comparison results for each section of the graph and its continuation (see Section 2).  Further we will call these sites potential models. </p><br><p>  In order to understand whether a potential model is working, for each iteration (see p. 3), it is necessary to determine whether there is a relationship between: </p><br><ul><li>  The magnitude of the standard deviation between the potential model and the compared part of the graph (hereinafter - the standard deviation); </li><li>  and the magnitude of the standard deviation between the continuation of the potential model and the continuation of the compared part of the graph (hereinafter - the standard deviation) </li></ul><br><img src="https://habrastorage.org/webt/ab/pm/zm/abpmzmemd5kcvirwem9hxilys9w.png"><br><p>  <b>Figure 3 - Illustration of the search for dependencies between CKO1 and CKO2</b> </p><br><p>  namely: </p><br><ul><li>  If, with a decrease in SKO1, SKO2 also decreases, then the potential model is working and it can be used in trade; </li><li>  If, however, with a decrease in SKO1, SKO2 changes randomly, then the potential model turned out to be inoperative; </li></ul><br><p>  We exclude from the list of potential models those in which the SKO1 does not decrease when the SKO1 is lowered. <br><br>  Thus, we get a large number of models with which you can predict price movements in the market. </p><br><h4>  3. Check models on real data </h4><br><p>  Now for each model found we calculate how much money it would earn on the first 5-year plot (on it we trained the system to look for models) and on the second 5-year plot (until now we didn‚Äôt touch these data, therefore checking models on them will allow reliably estimate the earning potential). </p><br><p>  Put the obtained values ‚Äã‚Äãon the coordinate plane, where: </p><br><ul><li>  on the X axis, we note the profit that the models we found on the first 5-year segment of the graph; </li><li>  on the Y-axis, we note the profit that the models we found in practice (in the second 5-year segment); </li></ul><br><p>  To make the data easier to read with the naked eye, in the graph below: </p><br><ul><li>  only 0.1% of the total number of calculated points is displayed; </li><li>  only the results of those models, the trade in which would bring a profit in the first 5-year segment, are derived; </li><li>  the horizontal axis is divided into 10 equal sections, for each of which the average value is calculated (marked with blue lines) </li></ul><br><img src="https://habrastorage.org/webt/zk/m5/0w/zkm50wriwoebtrxkyewtk7wbzzo.png"><br><p>  <b>Figure 4 - a graph of the real profitability of models (Y) on their profitability in the area used for training (X)</b> </p><br><p>  As you can see, the better the found model works on the test section of the graph, the better it works in combat conditions. <br>  It turns out that there are models on the stock exchange that work. </p><br><br><h4>  4. Forecasting the profitability of trade </h4><br><p>  Before considering how much money you can earn on models, you need to add a spread and / or broker's commission to our calculations. <br>  According to my calculations, when trading a pair of EUR / USD, on average you will pay from 2 points on the transaction (about 0.015% of the current value of the currency pair). </p><br><p>  To begin with, let's try to add 1 point of commissions to the algorithms for searching and checking models.  Get the schedule: </p><br><img src="https://habrastorage.org/webt/ue/p-/te/uep-te-nq1rfo3hnxx0fglacacw.png"><br><p>  <b>Figure 5 - a graph of the real profitability of models (Y) on their profitability in the area used for training (X), taking into account commissions, the size of 1 point</b> </p><br><p>  Now we will increase the amount of commissions to 2 points. </p><br><img src="https://habrastorage.org/webt/wr/jv/9u/wrjv9uayr-ah975g83foq7mxqju.png"><br><p>  <b>Figure 6 - a graph of the real profitability of models (Y) on their profitability in the area used for training (X), taking into account commissions, the size of 2 points</b> </p><br><p>  It turns out that if the size of the spread and commissions in the amount exceed 1 point, then trading with models on the EUR / USD currency pair will cause losses. </p><br><h2>  findings </h2><br><p>  In this experiment, we found similar parts of the graphs and checked in which direction the price would move after they passed. <br>  Those plots, after the passage of which the price moved in the same direction, we considered the laws (models) and turned out to be right (see Figure 4). <br>  However, using the same models in a real situation, we could not make a profit, the size of which would exceed the size of the spread and the broker's commission. </p><br><p>  Based on this, the following conclusions can be drawn: </p><br><ol><li>  There are patterns on the stock exchanges and they can be found using technical analysis; </li><li>  Most of these patterns do not allow you to earn amounts that exceed the size of the broker's spread and commissions; </li><li>  From the first two points, it follows that most brokers and dealers advertising trading on the stock exchange as a means of earning deceive people.  They appeal to our emotions, promising a better life, but in fact they teach how to lose money.  It's my personal opinion. </li></ol><br><p>  If you liked the article - I can post the results of a few more experiments. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/351610/">https://habr.com/ru/post/351610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351592/index.html">PowerShell Empire: advanced post-operation of Windows systems</a></li>
<li><a href="../351594/index.html">We turn logs as we want - analysis of logs on Windows systems</a></li>
<li><a href="../351596/index.html">US military must urgently rethink machine learning strategy</a></li>
<li><a href="../351598/index.html">Fintech Digest: Visa calculates Moscow's benefits of a bank transfer, PayPal VS cryptocurrency, Amazon plans something big</a></li>
<li><a href="../351602/index.html">The book ‚ÄúNode.js in action. 2nd edition ¬ª</a></li>
<li><a href="../351614/index.html">TP-Link T2600G-28MPS: work with PoE, LLDP and Voice VLAN</a></li>
<li><a href="../351616/index.html">Overview of the first day of Data Science Weekend 2018. Machine learning practice, a new approach to competition and much more</a></li>
<li><a href="../351618/index.html">Mosdroid # 6 - Report</a></li>
<li><a href="../351620/index.html">JS ‚Üî DOM tracing, or back and forth</a></li>
<li><a href="../351622/index.html">Quantum computing and Q # language for beginners</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>