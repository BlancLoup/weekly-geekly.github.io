<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Nice build frontend project</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we will analyze in detail the process of assembling a front-end project that has taken root in my daily work and has greatly simplifi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Nice build frontend project</h1><div class="post__text post__text-html js-mediator-article">  In this article, we will analyze in detail the process of assembling a front-end project that has taken root in my daily work and has greatly simplified the routine. <br><br>  The article does not claim to be the ultimate truth, since today there are a large number of different collectors and approaches to assembly, and everyone chooses to taste.  I just share my thoughts on this topic and show my workflow. <br><br>  UPD (March 13, 2015): Replaced several plugins with more current ones + solved the problem with importing CSS files into SCSS <br><img src="https://habrastorage.org/files/1fb/08e/0a3/1fb08e0a34354419ab9b8ebbdecf5b18.png"><br><a name="habracut"></a><br>  We will use the <a href="http://gulpjs.com/">Gulp</a> collector.  Accordingly, your system must have Node js installed.  We will not consider the installation of a node for a specific platform, since  It is googled in a couple of minutes. <br>  And first I will answer the question - why is Gulp? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Of the more or less tolerable alternatives, we have <a href="http://gruntjs.com/">Grunt</a> and <a href="http://brunch.io/">Brunch</a> . <br><br>  When I first began to join the collectors, Grunt and Gulp were already on the market.  The first appeared earlier and therefore has a larger community and a variety of plug-ins.  According to <a href="https://www.npmjs.com/">npm</a> : <br>  Grunt - 11171 package <br>  Gulp - 4371 pack <br><br>  But Grunt seemed to me too verbose.  And after reading several comparison articles - I preferred Gulp for its simplicity and clarity. <br><br>  Brunch is a relatively young project, with all the pros and cons.  I am watching him with interest, but I have not used it yet. <br><br><h5>  Let's start: </h5><br>  Create a folder for our project, for example, ‚Äúhabr‚Äù.  Open it in the console and execute the command: <br><br><pre><code class="bash hljs">npm init</code> </pre> <br>  You can simply press Enter to all questions of the installer, because  now it doesn't matter. <br>  As a result, in the folder with the project we will generate a file package.json, something like this: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"habr"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span> }, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"ISC"</span></span> }</code> </pre><br>  We modify it a bit to fit our needs: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"habr"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"ISC"</span></span>, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"gulp"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.8.11"</span></span> } }</code> </pre><br>  In the dependencies block, we indicated that we need a gulp and right there we will prescribe all our plugins. <br><br><h5>  Plugins: </h5><br>  <a href="https://www.npmjs.com/package/gulp-autoprefixer">gulp-autoprefixer</a> - automatically adds vendor prefixes to CSS properties (a couple of years ago I would kill for such a tool) <br>  <a href="https://www.npmjs.com/package/gulp-minify-css">gulp-minify-css</a> - needed to compress CSS code <br>  <a href="https://www.npmjs.com/package/browser-sync">browser-sync</a> - with this plugin we can easily deploy a local dev server with blackjack and livereload, and with its help we can make a tunnel on our localhost, which would be easy to demonstrate the layout to the customer <br>  <a href="https://www.npmjs.com/package/gulp-imagemin">gulp-imagemin</a> - for image compression <br>  <a href="https://www.npmjs.com/package/imagemin-pngquant">imagemin-pngquant</a> - additions to the previous plugin for working with PNG <br>  <a href="https://www.npmjs.com/package/gulp-uglify">gulp-uglify</a> - will compress our JS <br>  <a href="https://www.npmjs.com/package/gulp-sass">gulp-sass</a> - to compile our SCSS code <br><div class="spoiler">  <b class="spoiler_title">Not holivar sake</b> <div class="spoiler_text">  I have used LESS in my work for a very long time.  I was very impressed by this preprocessor for its speed and ease of learning.  He even gave a <a href="http://vk.com/video%3Fsection%3Dsearch%26z%3Dvideo-54076565_169761565%252Falbum183203591">report</a> on it in one Rostov hackathon.  And in particular, in this report I was not very complimentary about SASS. <br>  But as time passed, I became older and wiser :) and now I have joined this preprocessor. <br>  The basis of my dissatisfaction with SASS was that I do not write in Ruby.  And when to compile a SASS / SCSS code, it was necessary to drag Ruby into the project, with the necessary bundles - which made me very upset. <br>  But everything changed with the advent of such a thing as <a href="http://libsass.org/">LibSass</a> .  This is the C / C ++ compiler port for SASS.  The gulp-sass plugin uses it.  Now we can use SASS in the native node environment - which pleases me endlessly. <br></div></div><br>  <a href="https://www.npmjs.com/package/gulp-sourcemaps">gulp-sourcemaps</a> - let's take to generate css sourscemaps that will help us in debugging code <br>  <a href="https://www.npmjs.com/package/gulp-rigger">gulp-rigger</a> is just a killer feature.  The plugin allows you to import one file into another with a simple construction <br><pre> <code class="html hljs xml">//= footer.html</code> </pre><br>  and this line will be replaced with the contents of the file footer.html when compiled <br>  <a href="https://www.npmjs.com/package/gulp-watch">gulp-watch</a> - Will be needed to monitor file changes.  I know that Gulp has a built-in watch, but I had some problems with it, in particular, it did not see the newly created files, and I had to restart it.  This plugin solved the problem (I hope in the next versions gulp will fix this). <br>  <a href="https://www.npmjs.com/package/rimraf">rimraf</a> - rm -rf for node <br><br>  Install all the plugins and get the following package.json: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"habr"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"ISC"</span></span>, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"browser-sync"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.2.3"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.8.11"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp-autoprefixer"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp-imagemin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.2.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp-minify-css"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp-rigger"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.5.8"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.3.3"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp-sourcemaps"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.5.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp-uglify"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"gulp-watch"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.1.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"imagemin-pngquant"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"rimraf"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.3.1"</span></span> } }</code> </pre><br><br><h5>  Bower </h5><br>  I no longer think of my work without the <a href="http://bower.io/">Bower</a> package manager, and I hope you too.  If not, then read about what it is and what it is eaten with <a href="http://nano.sapegin.ru/all/bower">here</a> . <br>  Let's add it to our project.  To do this, run the command in the console: <br><br><pre> <code class="bash hljs">bower init</code> </pre><br>  You can also enter all questions. <br>  At the end, we get something like this bower.json file: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"habr"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"authors"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Insayt &lt;insait.rostov@ya.ru&gt;"</span></span> ], <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-string"><span class="hljs-string">"ignore"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"**/.*"</span></span>, <span class="hljs-string"><span class="hljs-string">"node_modules"</span></span>, <span class="hljs-string"><span class="hljs-string">"bower_components"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>, <span class="hljs-string"><span class="hljs-string">"tests"</span></span> ] }</code> </pre><br>  And we modify it to the state we need: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"habr"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"authors"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Insayt &lt;insait.rostov@ya.ru&gt;"</span></span> ], <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-string"><span class="hljs-string">"ignore"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"**/.*"</span></span>, <span class="hljs-string"><span class="hljs-string">"node_modules"</span></span>, <span class="hljs-string"><span class="hljs-string">"bower_components"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>, <span class="hljs-string"><span class="hljs-string">"tests"</span></span> ], <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"normalize.css"</span></span>: <span class="hljs-string"><span class="hljs-string">"*"</span></span>, <span class="hljs-string"><span class="hljs-string">"jquery"</span></span>: <span class="hljs-string"><span class="hljs-string">"2.*"</span></span> } }</code> </pre><br>  In the dependencies block, we will indicate the dependencies of our project.  Now just for the test it is normalize and jQuery (although I don‚Äôt remember when I started the project without these things). <br>  And of course install them with the command: <br><br><pre> <code class="bash hljs">bower i</code> </pre><br>  Well, now the fun part.  We will create the structure of our project and configure the collector. <br><br><h4>  Project structure: </h4><br>  This is a very controversial moment.  Of course projects are different, as well as the preferences of developers.  One has only to look at the <a href="http://yeoman.io/generators/">yeoman.io</a> website (by the way, this is a very cool tool that provides a large number of prepared bases for a project with all sorts of buns. Definitely, look at it).  We will not invent anything and make the simplest structure. <br><br>  First we need 2 folders.  One (src) in which we will actually write the code, and the second (build) into which the builder will spit out the finished files.  Add them to the project.  Our current structure looks like this: <br><br><img src="https://habrastorage.org/files/4ca/1b4/0e6/4ca1b40e6a5e4c7c9035b1a6884e6c91.png"><br><br>  In the src folder, create a typical structure of an average project.  Let's make main files in js / and style / folders and create the first html page for such content. <br><br>  <b>index.html</b> <br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span> Header <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> Content <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span> Footer <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The src folder structure will now look like this: <br><br><img src="https://habrastorage.org/files/431/01b/194/43101b194c5e4abaa1d3a559bc04310d.png"><br><br>  Everything is trivial: <br>  fonts - fonts <br>  img - pictures <br>  js - scripts.  At the root of this folder will be only the file main.js, which is useful for us to build.  All your js files - you will need to put in the folder partials <br>  style - styles.  There is also only main.scss in the root, and the working files in the partials folder <br>  template - here we will store duplicate pieces of html code <br>  All html pages we typeset will be at the root of src / <br>  Add the first js and scss files to partials and finally - go to the root of our project and create a gulpfile.js file there.  The entire project folder now looks like this: <br><br><img src="https://habrastorage.org/files/bbf/f4d/d47/bbff4dd476b24349b6f1625e8d84767c.png"><br><br>  Now everything is ready for setting up our collector, so let's rock! <br><br><h5>  Gulpfile.js </h5><br>  All the magic will be enclosed in this file.  First we import all our plugins and the gulp itself <br><br>  <b>gulpfile.js</b> <br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>), watch = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-watch'</span></span>), prefixer = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-autoprefixer'</span></span>), uglify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-uglify'</span></span>), sass = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-sass'</span></span>), sourcemaps = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-sourcemaps'</span></span>), rigger = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-rigger'</span></span>), cssmin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-minify-css'</span></span>), imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>), pngquant = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-pngquant'</span></span>), rimraf = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'rimraf'</span></span>), browserSync = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"browser-sync"</span></span>), reload = browserSync.reload;</code> </pre><br>  Of course, it is not necessary to do it that way.  There is a <a href="https://www.npmjs.com/package/gulp-load-plugins">gulp-load-plugins</a> plugin which allows you not to write all these noodles from require.  But I like it when I clearly see what is connecting where and if I want, I can disable it.  By this I write in the old fashioned way. <br><br>  We will also create a js object in which we will write all the paths we need, so that if necessary we can easily edit them in one place: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> path = { <span class="hljs-attr"><span class="hljs-attr">build</span></span>: { <span class="hljs-comment"><span class="hljs-comment">//         html: 'build/', js: 'build/js/', css: 'build/css/', img: 'build/img/', fonts: 'build/fonts/' }, src: { //    html: 'src/*.html', // src/*.html  gulp         .html js: 'src/js/main.js',//       main  style: 'src/style/main.scss', img: 'src/img/**/*.*', // img/**/*.*  -            fonts: 'src/fonts/**/*.*' }, watch: { //  ,        html: 'src/**/*.html', js: 'src/js/**/*.js', style: 'src/style/**/*.scss', img: 'src/img/**/*.*', fonts: 'src/fonts/**/*.*' }, clean: './build' };</span></span></code> </pre><br><br>  Create a variable with the settings of our dev server: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> config = { <span class="hljs-attr"><span class="hljs-attr">server</span></span>: { <span class="hljs-attr"><span class="hljs-attr">baseDir</span></span>: <span class="hljs-string"><span class="hljs-string">"./build"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">tunnel</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">host</span></span>: <span class="hljs-string"><span class="hljs-string">'localhost'</span></span>, <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">9000</span></span>, <span class="hljs-attr"><span class="hljs-attr">logPrefix</span></span>: <span class="hljs-string"><span class="hljs-string">"Frontend_Devil"</span></span> };</code> </pre><br><br><h5>  We collect html </h5><br>  Let's write a task to build html: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'html:build'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src(path.src.html) <span class="hljs-comment"><span class="hljs-comment">//     .pipe(rigger()) //  rigger .pipe(gulp.dest(path.build.html)) //    build .pipe(reload({stream: true})); //      });</span></span></code> </pre><br>  Let me remind you that rigger is our plugin that allows you to use this design to import files: <br><br><pre> <code class="html hljs xml">//= template/footer.html</code> </pre><br>  Let's apply it to business! <br>  In the folder src / template / - create files header.html and footer.html with the following content <br><br>  <b>header.html</b> <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span> Header <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <b>footer.html</b> <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span> Footer <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  and our index.html file is modified like this: <br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> //= template/header.html <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> Content <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> //= template/footer.html <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  It remains to go to the console and run our task with the command: <br><br><pre> <code class="bash hljs">gulp html:build</code> </pre><br>  After it works, go to the build folder and see our index.html file, which turned into this: <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span> Header <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> Content <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span> Footer <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  This is just amazing! <br><br>  I remember how much inconvenience it caused to run through all the pages that were laid out and make changes to some part that was repeated on them.  Now it is done comfortably in one place. <br><br><h5>  We collected javascript </h5><br>  Task for building scripts will look like this: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'js:build'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src(path.src.js) <span class="hljs-comment"><span class="hljs-comment">//  main  .pipe(rigger()) //  rigger .pipe(sourcemaps.init()) // sourcemap .pipe(uglify()) //  js .pipe(sourcemaps.write()) //  .pipe(gulp.dest(path.build.js)) //    build .pipe(reload({stream: true})); //   });</span></span></code> </pre><br>  Remember our main.js file? <br>  The whole idea here is to include all the js files we need in the order we want with the help of rigger.  It is for the sake of control over the order of connection - I do it exactly like that, instead of asking gulp to find all * .js files and glue them together. <br><br>  Often, when searching for a place of error, I turn off some files from the assembly in turn to localize the problem.  If you thoughtlessly glue all .js - debug will be complicated. <br><br>  Fill in our main.js: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Third party */</span></span> <span class="hljs-comment"><span class="hljs-comment">//= ../../bower_components/jquery/dist/jquery.js /* * Custom */ //= partials/app.js</span></span></code> </pre><br>  This is how I do combat projects.  At the top of this file there is always a dependency connection, below is the connection of my own scripts. <br><br>  By the way, bower packages can be connected via a plugin such as <a href="https://www.npmjs.com/package/gulp-bower">gulp-bower</a> .  But again, I do not do this, because I want to independently determine what, where and how it will connect. <br><br>  It remains only to start our task from the console with the command: <br><br><pre> <code class="bash hljs">gulp js:build</code> </pre><br>  And in the build / js folder - we will see our compiled and compressed file. <br><br><h4>  We collect styles </h4><br>  Let's write a task to build our SCSS: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'style:build'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src(path.src.style) <span class="hljs-comment"><span class="hljs-comment">//  main.scss .pipe(sourcemaps.init()) //      js .pipe(sass()) // .pipe(prefixer()) //   .pipe(cssmin()) // .pipe(sourcemaps.write()) .pipe(gulp.dest(path.build.css)) //  build .pipe(reload({stream: true})); });</span></span></code> </pre><br>  Everything is simple here, but you may be interested in auto-fixer settings.  By default, it writes the prefixes needed for the last two versions of browsers.  In my case, this is enough, but if you need other settings - you can find them <a href="https://www.npmjs.com/package/gulp-autoprefixer">here</a> . <br><br>  I do the same with styles as with js, but instead of using rigger, I use the import built into SCSS. <br>  UPD (March 13, 2015): Some people have a problem with importing css files inline.  As it turned out, gulp-sass does not know how to do this, and on output gives a simple CSS import.  But this issue is resolved by our gulp-minify-css plugin, which replaces CSS import with file content. <br>  Our main.scss will look like this: <br><pre> <code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Third Party */</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"../../bower_components/normalize.css/normalize.css"</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* * Custom */</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"partials/app"</span></span>;</code> </pre><br>  In this way, it is easy to control the order of connecting styles. <br>  Check our task by running <pre> <code class="bash hljs">gulp style:build</code> </pre><br><br><h4>  We collect pictures </h4><br>  Task on pictures will look like this: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'image:build'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src(path.src.img) <span class="hljs-comment"><span class="hljs-comment">//   .pipe(imagemin({ //  progressive: true, svgoPlugins: [{removeViewBox: false}], use: [pngquant()], interlaced: true })) .pipe(gulp.dest(path.build.img)) //   build .pipe(reload({stream: true})); });</span></span></code> </pre><br>  I use the default imagemin settings, except for interlaced.  Read more about the API of this plugin <a href="https://github.com/sindresorhus/gulp-imagemin">here</a> . <br><br>  Now, if we put some image in src / img and run the command: <br><br><pre> <code class="bash hljs">gulp image:build</code> </pre><br>  then we will see in the build our optimized image.  Also gulp will kindly write in the console how much space it has saved for users of our site. <br><br><h4>  Fonts </h4><br>  With fonts, I usually do not need to carry out any manipulations, but in order not to destroy the paradigm ‚ÄúWe work in src / and we collect in build /‚Äù - I simply copy the files from src / fonts and paste them into build / fonts.  Here is a task: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'fonts:build'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src(path.src.fonts) .pipe(gulp.dest(path.build.fonts)) });</code> </pre><br><br>  Now let's define a task with the name ‚Äúbuild‚Äù, which will run all that we have here with you: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'build'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'html:build'</span></span>, <span class="hljs-string"><span class="hljs-string">'js:build'</span></span>, <span class="hljs-string"><span class="hljs-string">'style:build'</span></span>, <span class="hljs-string"><span class="hljs-string">'fonts:build'</span></span>, <span class="hljs-string"><span class="hljs-string">'image:build'</span></span> ]);</code> </pre><br><br><h4>  File Changes </h4><br>  In order not to climb into the console all the time, let's ask gulp to run the necessary task every time a file changes.  To do this, write this task: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'watch'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ watch([path.watch.html], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, cb</span></span></span><span class="hljs-function">) </span></span>{ gulp.start(<span class="hljs-string"><span class="hljs-string">'html:build'</span></span>); }); watch([path.watch.style], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, cb</span></span></span><span class="hljs-function">) </span></span>{ gulp.start(<span class="hljs-string"><span class="hljs-string">'style:build'</span></span>); }); watch([path.watch.js], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, cb</span></span></span><span class="hljs-function">) </span></span>{ gulp.start(<span class="hljs-string"><span class="hljs-string">'js:build'</span></span>); }); watch([path.watch.img], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, cb</span></span></span><span class="hljs-function">) </span></span>{ gulp.start(<span class="hljs-string"><span class="hljs-string">'image:build'</span></span>); }); watch([path.watch.fonts], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, cb</span></span></span><span class="hljs-function">) </span></span>{ gulp.start(<span class="hljs-string"><span class="hljs-string">'fonts:build'</span></span>); }); });</code> </pre><br>  Since we understand there should be no problems.  We just go through our paths defined in the path variable, and in the function that is called when the file changes - please run the task we need. <br><br>  Try running in the console: <br><br><pre> <code class="bash hljs">gulp watch</code> </pre><br>  And change different files. <br>  Isn't it cool? <br><br><h4>  Web server </h4><br>  To enjoy the miracle of livereload - we need to create a local web server.  To do this, we write the following simple task: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'webserver'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ browserSync(config); });</code> </pre><br>  There is nothing to comment on.  We will simply launch the livereload server with the settings we defined in the config object.  In addition, gulp will politely open our project in the browser, and in the console write links to the local server and to the tunnel, which we can throw to the customer for demonstration. <br><br><h4>  Cleaning </h4><br>  If you add any image, then run the image: build task and then delete the image - it will remain in the build folder.  So it would be convenient to clean it periodically.  Create a simple task for this. <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'clean'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cb</span></span></span><span class="hljs-function">) </span></span>{ rimraf(path.clean, cb); });</code> </pre><br>  Now when you run the command <br><pre> <code class="bash hljs">gulp clean</code> </pre><br>  just the build folder will be deleted. <br><br><h4>  Final chord </h4><br>  The last thing - we define the default task, which will run our entire assembly. <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'default'</span></span>, [<span class="hljs-string"><span class="hljs-string">'build'</span></span>, <span class="hljs-string"><span class="hljs-string">'webserver'</span></span>, <span class="hljs-string"><span class="hljs-string">'watch'</span></span>]);</code> </pre><br><br>  Finally your gulpfile.js will look something <a href="https://gist.github.com/Insayt/272c9b81936a03884768">like this</a> . <br>  Now we will execute in the console <br><pre> <code class="bash hljs">gulp</code> </pre><br>  And voila.  Procurement for your project is ready and waiting for you. <br><br><h4>  A couple of words in conclusion </h4><br>  This article was conceived as a way to once again brush up on the subtleties of building frontend projects, and for ease of transferring this experience to new developers.  You do not need to use this kind of assembly on your projects.  There is <a href="http://yeoman.io/">yeoman.io</a> , on which you will find generators for almost any need. <br>  I wrote this collector for three reasons. <br>  - I like to use rigger in my html code <br>  - Almost in all assemblies that I met - a temporary folder (usually .tmp /) is used to record intermediate results of the assembly.  I do not like this approach and I wanted to get rid of temporary folders. <br>  - And I wanted all this to be out of my box. <br><br>  You can download my working version of the collector on my <a href="https://github.com/Insayt/frontend-devil">github</a> . <br><br>  I hope this article was helpful to you. <br><br>  PS About all errors, shortcomings and jambs - please write in a personal. </div><p>Source: <a href="https://habr.com/ru/post/250569/">https://habr.com/ru/post/250569/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250553/index.html">February 14 - the day of the programmer</a></li>
<li><a href="../250555/index.html">Putting the glove to determine the position of the hands themselves</a></li>
<li><a href="../250557/index.html">Practical programming of artificial intelligence</a></li>
<li><a href="../250561/index.html">Change postal codes for three-word addresses using reverse geocoding</a></li>
<li><a href="../250565/index.html">VirusTotal will track false positive</a></li>
<li><a href="../250571/index.html">RIG exploit kit exploit source code leaked to network</a></li>
<li><a href="../250573/index.html">[Homebrew] web honeypot do it yourself</a></li>
<li><a href="../250577/index.html">Rust 1.0: current state and final release schedule</a></li>
<li><a href="../250579/index.html">Got access to iPhone diagnostic console</a></li>
<li><a href="../250581/index.html">RefluxJS - an alternative look at Flux architecture from Facebook</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>