<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Design patterns for iOS developers. Observer Part I</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instead of the preface 
 It has been 17 years since the legendary Gang of Four book on Design Patterns was published. Despite such a solid period, it ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Design patterns for iOS developers. Observer Part I</h1><div class="post__text post__text-html js-mediator-article"><h4>  Instead of the preface </h4><br>  It has been 17 years since the legendary Gang of Four book on Design Patterns was published.  Despite such a solid period, it is hard to challenge the relevance of the techniques described in it.  Design patterns live and develop.  They are used, discussed, scolded and praised.  Unfortunately, for many they still remain an unnecessary abstraction. <br><br>  When discussing various issues of programming with colleagues both in life and on various resources, quite often you have to explain the importance of one or another pattern.  So the idea was born with specific examples to show how their use can make a programmer's life easier.  Even if we are talking about a platform like iOS. <br><a name="habracut"></a><br><br><h4>  Observer pattern </h4><br><h5>  Life example </h5><br>  Student Vasya loves to go to parties.  To be more precise, they occupied such an important part of his life that he was expelled from the institute.  When he started looking for a job, Vasya realized that he knew almost nothing and could not.  Although, wait ... Vasya has so many beautiful girls who know him, and don‚Äôt feed him with bread - let him enter the cool party without an invitation.  Vasya is also known in all relevant institutions of his city.  Finally, Vasya understands: for the party to succeed (wealthy visitors spend a lot of money), it would be nice to fill it with beautiful girls (on which this money will be spent). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So Vasya <s>became a pimp</s> opened his business.  The owners of the establishments turn to Vasya (who does not know Vasya ?!) with news about fashionable private events.  Vasya informs his girlfriend that he can take them there.  Where does he take the girls?  It's simple: take the Light.  She met Vasya at the club last week.  Sveta had long dreamed of going to some elite get-together, so she asked Vasya to write down her phone number.  She is a pretty girl, dressed very well, so Vasya agreed.  So Sveta <b>signed up</b> for Vasiny services and became an <b>observer</b> .  However, Vasya warned her that he would call when the time came. <br><br>  A year has passed, Sveta graduated from the institute, found a job and, most importantly, married!  She no longer wants to go to parties, so yesterday she called Vasya and asked not to pester her with her idiotic messages anymore.  So she <b>unsubscribed</b> from Vasya's (very suspicious) <b>subject</b> .  However, she knows that she can always sign again (she is still pretty, young, and dresses well). <br><br>  Meanwhile, Vasya did not stand still, but expanded his business.  He recently met some very wealthy football players who like to relax at a party and are always ready to treat pretty girls with a non-alcoholic cocktail.  Naturally, they can also be invited to various events (the organizers are delighted, they pay Vasya more money).  Expansion of business went unnoticed: really, what's the difference, who to call?  Both girls and football players have telephones.  Sometimes, when reporting a new event, Vasya even confuses with whom he is talking. <br><br><h5>  Shorter example </h5><br>  Those who closely followed Vasin‚Äôs business could immediately recall the newsletters.  Indeed, we can leave your email address on your favorite resource and receive <s>spam</s> important and interesting news without having to visit the corresponding web page every day.  As in the case of Sveta, we always (in fact, if we are lucky) can unsubscribe from the newsletter. <br><br><h5>  Definition </h5><br><h6>  Gang of four </h6><br><ul><li>  Name: The <b>Observer.</b> </li><li>  Classification: Pattern of behavior. </li><li>  Purpose: <blockquote>  Defines a <i>one-to-many</i> type dependency between objects in such a way that when a state of a single object changes, all dependent objects are notified of this and automatically updated. </blockquote></li></ul><br><br><h6>  Comments </h6><br>  So, the observer pattern defines one-to-many dependency.  In this case, an object that reports its changes is called a <b>subject</b> , and those objects to which it reports them are <b>observers</b> . <br><br>  It is worth noting an important feature of the observer pattern: the subject may be unaware of the observers.  So, Vasya did not see any difference between girls and football players. <br><br><h6>  Structure </h6><br><img src="https://habrastorage.org/getpro/habr/post_images/d94/6dd/81a/d946dd81a1231f721358401ea2fddb5b.png" alt="image"><br><br><h4>  Supervisor for iOS developer </h4><br>  Let's move on to programming.  First, we will examine our own implementation of the observer pattern using a specific example, and then we will analyze the alert mechanism implemented in Cocoa. <br><br><h5>  Own implementation </h5><br>  Suppose we are developing a completely new game that will certainly blow up the App Store.  After passing the next level, we need to do two things: <br><ol><li>  Show the congratulatory screen. </li><li>  Open access to new levels. </li></ol><br>  It is worth noting that the first and second actions are not related to each other.  We can perform them in any order.  We also suspect that we will soon need to expand the number of such actions (for example, we will want to send some data to our server or check whether the user has earned an achievement in the Game Center). <br><br>  Apply the observed observer pattern.  Let's start with the observer protocol. <br><br><blockquote>  <font color="#a61390">@protocol</font> GameStateObserver &lt;NSObject&gt; <br><br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> completedLevel <font color="#002200">:</font> <font color="#002200">(</font> Level <font color="#002200">*</font> <font color="#002200">)</font> level withScore <font color="#002200">:</font> <font color="#002200">(</font> NSUInteger <font color="#002200">)</font> score; <br><br>  <font color="#a61390">@end</font> </blockquote><br><br>  Everything is pretty transparent here: observers will implement the <code>GameStateObserver</code> protocol.  We will deal with the subject. <br><br><blockquote>  <font color="#a61390">@protocol</font> GameStateSubject &lt;NSObject&gt; <br><br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> addObserver <font color="#002200">:</font> <font color="#002200">(</font> id &lt;GameStateObserver&gt; <font color="#002200">)</font> observer; <br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> removeObserver <font color="#002200">:</font> <font color="#002200">(</font> id &lt;GameStateObserver&gt; <font color="#002200">)</font> observer; <br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> notifyObservers; <br><br>  <font color="#a61390">@end</font> </blockquote><br><br>  Let us turn to the classes that interest us.  Let the state of the current game be stored in an object of the <code>GameState</code> class.  Then its definition will look something like this: <br><br><blockquote>  <font color="#a61390">@interface</font> GameState <font color="#002200">:</font> <font color="#400080">NSObject</font> &lt;GameStateSubject&gt; <font color="#002200">{</font> <br>  ... <br>  <font color="#400080">NSMutableSet</font> <font color="#002200">*</font> observerCollection; <br>  <font color="#002200">}</font> <br><br>  <font color="#a61390">@property</font> <font color="#002200">(</font> readonly <font color="#002200">)</font> Level <font color="#002200">*</font> level; <br>  <font color="#a61390">@property</font> <font color="#002200">(</font> readonly <font color="#002200">)</font> NSUInteger score; <br><br>  ... <br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> updateState; <br><br>  <font color="#a61390">@end</font> </blockquote><br><br>  In this case, we believe that the <code>updateState</code> method <code>updateState</code> invoked every time, as in the game there are significant changes.  We present a part of the implementation of <code>GameState</code> : <br><br><blockquote>  <font color="#a61390">@implementation Game State</font> <br><br>  ... <br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> addObserver <font color="#002200">:</font> <font color="#002200">(</font> id &lt;GameStateObserver&gt; <font color="#002200">)</font> observer <font color="#002200">{</font> <br>  <font color="#002200">[</font> observerCollection addObject <font color="#002200">:</font> observer <font color="#002200">]</font> ; <br>  <font color="#002200">}</font> <br><br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> removeObserver <font color="#002200">:</font> <font color="#002200">(</font> id &lt;GameStateObserver&gt; <font color="#002200">)</font> observer <font color="#002200">{</font> <br>  <font color="#002200">[</font> observerCollection removeObject <font color="#002200">:</font> observer <font color="#002200">]</font> ; <br>  <font color="#002200">}</font> <br><br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> notifyObservers <font color="#002200">{</font> <br>  <font color="#a61390">for</font> <font color="#002200">(</font> id &lt;GameStateObserver&gt; observer <font color="#a61390">in</font> observerCollection <font color="#002200">)</font> <font color="#002200">{</font> <br>  <font color="#002200">[</font> observer completedLevel <font color="#002200">:</font> self.level withScore <font color="#002200">:</font> self.score <font color="#002200">]</font> ; <br>  <font color="#002200">}</font> <br>  <font color="#002200">}</font> <br><br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> updateState <font color="#002200">{</font> <br>  ... <br>  <font color="#a61390">if</font> <font color="#002200">(</font> levelCompleted <font color="#002200">)</font> <font color="#002200">{</font> <br>  <font color="#002200">[</font> self notifyObservers <font color="#002200">]</font> ; <br>  <font color="#002200">}</font> <br>  <font color="#002200">}</font> <br><br>  <font color="#a61390">@end</font> </blockquote><br><br>  Now, any object that needs to know about a successful level passing is sufficient to implement the <code>GameStateObserver</code> protocol and subscribe to a success alert.  The corresponding code will look something like this: <br><br><blockquote>  GameState <font color="#002200">*</font> gameState <font color="#002200">=</font> <font color="#002200">[</font> <font color="#002200">[</font> GameState alloc <font color="#002200">]</font> init <font color="#002200">]</font> ; <br>  <font color="#002200">[</font> gameState addObserver <font color="#002200">:</font> levelManager <font color="#002200">]</font> ; <br>  <font color="#002200">[</font> gameState addObserver <font color="#002200">:</font> levelViewController <font color="#002200">]</font> ; </blockquote><br><br>  Here, <code>levelViewController</code> is the controller responsible for the gameplay interface, and <code>levelManager</code> is the model object that responds to the levels. <br><br><h5>  Discussion </h5><br>  We looked at a rather primitive example, which, however, is ubiquitous.  Immediately it is clear that the solution is quite flexible.  It is worth noting that in the notification we decided to pass some data as parameters.  This implementation has its advantages and disadvantages.  It may be convenient to use the following version of the <code>GameStateObserver</code> protocol: <br><br><blockquote>  <font color="#a61390">@protocol</font> GameStateObserver &lt;NSObject&gt; <br><br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> levelCompleted <font color="#002200">:</font> <font color="#002200">(</font> id &lt;GameStateSubject&gt; <font color="#002200">)</font> subject; <br><br>  <font color="#a61390">@end</font> </blockquote><br><br>  The corresponding <code>GameStateSubject</code> would look like this: <br><br><blockquote>  <font color="#a61390">@protocol</font> GameStateSubject &lt;NSObject&gt; <br><br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> addObserver <font color="#002200">:</font> <font color="#002200">(</font> id &lt;GameStateObserver&gt; <font color="#002200">)</font> observer; <br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> removeObserver <font color="#002200">:</font> <font color="#002200">(</font> id &lt;GameStateObserver&gt; <font color="#002200">)</font> observer; <br>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> notifyObservers; <br><br>  <font color="#a61390">@property</font> <font color="#002200">(</font> readonly <font color="#002200">)</font> Level <font color="#002200">*</font> level; <br>  <font color="#a61390">@property</font> <font color="#002200">(</font> readonly <font color="#002200">)</font> NSUInteger score; <br><br>  <font color="#a61390">@end</font> </blockquote><br><br><h5>  Cocoa Observer: Notifications </h5><br>  It turns out that Cocoa has a mechanism to implement the observer pattern.  To be exact, there are two such mechanisms.  At the moment we will focus on the mechanism of alerts, and leave the second for the future.  Further, we will not go into all the details, but only describe the basic functionality. <br><br>  Informally, the notification mechanism allows you to do two things: subscribe / unsubscribe from the alert and send an alert to all subscribers.  The alert is an instance of the <a href="http://developer.apple.com/library/ios/"><code>NSNotification</code></a> class.  Alerts are set by their <code>NSString</code> string name.  In addition to the name, the alert also contains the subject <code>object</code> and additional <code>userInfo</code> data. <br><br>  <a href="http://developer.apple.com/library/ios/"><code>NSNotificationCenter</code></a> is responsible for subscribing and delivering alerts.  To access it, in most cases it is enough to call the class method <code>defaultCenter</code> . <br><br>  To subscribe to a message, the alert center has a method <code>addObserver:selector:name:object:</code>  The first parameter is the observer, the second is the selector, which will be called upon notification.  It must have a signature <code>- (void)methodName:(NSNotification *)</code> .  The third parameter is the name of the alert, the fourth is the subject.  If <code>nil</code> transmitted as a subject, the notification will be delivered from an arbitrary sender (provided that the name matches).  Using alerts, the subscription code would look like this: <br><br><blockquote>  GameState <font color="#002200">*</font> gameState <font color="#002200">=</font> <font color="#002200">[</font> <font color="#002200">[</font> GameState alloc <font color="#002200">]</font> init <font color="#002200">]</font> ; <br>  <font color="#002200">[</font> <font color="#002200">[</font> <font color="#400080">NSNotificationCenter</font> defaultCenter <font color="#002200">]</font> addObserver <font color="#002200">:</font> levelManager <br>  selector <font color="#002200">:</font> <font color="#a61390">@selector</font> <font color="#002200">(</font> levelCompleted <font color="#002200">:)</font> <br>  name <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"LevelCompletedNotification"</font> object <font color="#002200">:</font> gameState <font color="#002200">]</font> ; <br>  <font color="#002200">[</font> <font color="#002200">[</font> <font color="#400080">NSNotificationCenter</font> defaultCenter <font color="#002200">]</font> addObserver <font color="#002200">:</font> levelViewController <br>  selector <font color="#002200">:</font> <font color="#a61390">@selector</font> <font color="#002200">(</font> levelCompleted <font color="#002200">:)</font> <br>  name <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"LevelCompletedNotification"</font> object <font color="#002200">:</font> gameState <font color="#002200">]</font> ; </blockquote><br><br>  Approximate view of the <code>levelCompleted:</code> method <code>levelCompleted:</code> <br><br><blockquote>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> levelCompleted <font color="#002200">:</font> <font color="#002200">(</font> <font color="#400080">NSNotification</font> <font color="#002200">*</font> <font color="#002200">)</font> notification <font color="#002200">{</font> <br>  id &lt;GameStateSubject&gt; subject <font color="#002200">=</font> <font color="#002200">[</font> notification object <font color="#002200">]</font> ; <br>  Level <font color="#002200">*</font> level <font color="#002200">=</font> subject.level; <br>  NSUInteger score <font color="#002200">=</font> subject.score; <br>  <font color="#002200">}</font> </blockquote><br><br>  Generally speaking, the <code>GameStateSubject</code> protocol can be disposed of and used directly by the <code>GameState</code> . <br><br>  To unsubscribe from alerts, you must call one of the <code>removeObserver:</code> methods or <code>removeObserver:name:object:</code> <br><br>  Sending an alert is an even simpler process.  There are <code>postNotificationName:object:</code> and <code>postNotificationName:object:userInfo:</code> .  The first sets the <code>userInfo</code> value <code>userInfo</code> null <code>nil</code> .  A new implementation of the <code>notifyObservers</code> method follows. <br><br><blockquote>  <font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> notifyObservers <font color="#002200">{</font> <br>  <font color="#002200">[</font> <font color="#002200">[</font> <font color="#400080">NSNotificationCenter</font> defaultCenter <font color="#002200">]</font> <br>  postNotificationName <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"LevelCompletedNotification"</font> object <font color="#002200">:</font> self <font color="#002200">]</font> ; <br>  <font color="#002200">}</font> </blockquote><br><br><h6>  Comments </h6><br>  The mechanism for sending alerts is much more able than we have described.  For example, all given code is synchronous.  To send alerts asynchronously, you must use the <a href="http://developer.apple.com/library/ios/"><code>NSNotificationQueue</code></a> alert <a href="http://developer.apple.com/library/ios/"><code>NSNotificationQueue</code></a> . <br><br>  It is also worth noting that everything described works for both Cocoa and Cocoa Touch.  In the future, we will still use some features of the iOS platform. <br><br><h4>  Instead of epilogue </h4><br>  Let's summarize some of what we have reviewed and learned.  So we: <br><ul><li>  studied the design pattern of the <b>observer</b> ; </li><li>  used his own implementation in a common situation; </li><li>  learned to do the same with Cocoa's alert mechanism; </li><li>  We learned that design patterns are not scary, not complicated, and not cumbersome; </li><li>  realized that the patterns are not taken from the ceiling, but from real life (remember the <s>pimp of the</s> <i>promoter</i> Vasya)! </li></ul><br>  In the second part, we will learn about the Key-Value Observing mechanism, which also implements the observer pattern.  There are still many patterns ahead! <br><br><h4>  Useful sources </h4><br><ul><li>  <i>E. Gamma, R. Helm, R. Johnson, J. Vlissides.</i> Object-Oriented Design Techniques.  Design Patterns = Design Patterns: Elements of Reusable Object-Oriented Software.  - SPb: ‚ÄúPeter‚Äù, 2007. - p. 366. - ISBN 978-5-469-01136-1 (also ISBN 5-272-00355-1) </li><li>  <i>E. Freeman, E. Freeman, C. Sierra, B. Bates</i> Design Patterns = Head First Design Patterns - St. Petersburg: Peter, 2011. - P. 656. - ISBN 978-5-459-00435-9 </li><li>  <a href="http://developer.apple.com/library/ios/">Notification Programming Topics</a> - iOS Developer Library </li></ul></div><p>Source: <a href="https://habr.com/ru/post/126968/">https://habr.com/ru/post/126968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126963/index.html">Alerts from Zabbix phone call</a></li>
<li><a href="../126964/index.html">Semi-automatic bot for the game "Farm Frenzy"</a></li>
<li><a href="../126965/index.html">Change colors in PowerShell</a></li>
<li><a href="../126966/index.html">Second Life with Maven</a></li>
<li><a href="../126967/index.html">Google Fiber project has entered the implementation phase</a></li>
<li><a href="../126970/index.html">Sharp has released the world's first tablet with NFC chip</a></li>
<li><a href="../126971/index.html">The system of continuous integration do it yourself</a></li>
<li><a href="../126972/index.html">HP sells top smartphone Pre 3 for EUR50</a></li>
<li><a href="../126974/index.html">Yet Another Conference 2011. Registration is open!</a></li>
<li><a href="../126976/index.html">Promo video tablet textbook Rosnano</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>