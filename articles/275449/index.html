<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Symantec Backup Exec: Backup Oracle installed on Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Backup Exec is a reliable, enterprise-class backup system. Installation and configuration of this product has already been described earlier in Habr√©,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Symantec Backup Exec: Backup Oracle installed on Linux</h1><div class="post__text post__text-html js-mediator-article">  Backup Exec is a reliable, enterprise-class backup system.  Installation and configuration of this product has already been described earlier in Habr√©, there are no difficulties, everything is simple and intuitive.  The big plus of this backup tool is that this program can back up almost all of the software used in the enterprise, we will list the main copying options: <br>  ‚Ä¢ Able to copy Windows, Linux, Macintosh; <br>  ‚Ä¢ VMWare and ESX <br>  ‚Ä¢ Active Directory Domains <br>  ‚Ä¢ System state <br>  ‚Ä¢ Microsoft Sharepoint farms <br>  ‚Ä¢ Microsoft Exchange <br>  ‚Ä¢ MSSQL and Oracle databases, also Oracle Real Application Clusters <br>  ‚Ä¢ User Resources <br>  ‚Ä¢ And much more. <a name="habracut"></a><br>  This is not a big list of features, the advantage is that you can replace several utilities with one product and watch all backups in one place or receive messages about failures. <br>  Product management is intuitive, but there are nuances, in particular, setting up a backup and restore Oracle installed on Linux, then you have to study the documentation to figure it out.  I will try to tell you the most basic problems that can be encountered and how to get around them during the backup of Oracle installed on Linux. <br>  First you need to install the client on a Linux server.  The usual way to use the ‚ÄúService ‚Äì Install Agents to Other Servers‚Äù menu does not always work with linux.  Therefore, we will install manually: the BE distribution has an archive RALUS_RMALS_RAMS-xxxx.tar.gz in the LinuxUnixMac directory.  Copy it to a Linux server, unpack it and start it (installation and configuration is performed as root): <br><br><pre><code class="bash hljs">tar ‚Äìxzvf RALUS_RMALS_RAMS-xxxx.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> RALUS_RMALS_RAMS-xxxx ./installralus</code> </pre> <br><br>  We answer yes to all questions and indicate the IP of the server where Backup Exec itself is installed.  During installation, you are prompted to create a beoper group.  Add to this group the user from whom Oracle runs on linux.  After that, you need to configure the agent to work with Oracle: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/VRTSralus/bin/ ./AgentConfig Symantec Backup Exec Remote Agent Utility Choose one of the following options: 1. Configure database access 2. Configure Oracle instance information 3. Quit Please enter your selection: 1 Configuring machine information Choose one of the following options: 1. Add system credentials <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Oracle operations 2. Edit system credentials used <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Oracle operations 3. Remove system credentials used <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Oracle operations 4. View system credentials used <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Oracle operations 5. Quit Please enter your selection: 1 Enter a user name that has <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> system credentials: &lt;     oracle&gt; Enter the password: Re-enter password: Validating credentials....... Do you want to use the full computer name/IP address <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Oracle operations? (Y/N):Y Enter the full computer name or IP address: &lt;hostname  Oracle&gt; Do you want to use a custom port to connect to the media server during Oracle operations? (Y/N): N Commit Oracle operation settings to the configuration file? (Y/N): Y SUCCESS: Successfully added the entry to the configuration file. Configuring the Oracle Agent Choose one of the following options: 1. Add a new Oracle instance to protect 2. Edit an existing Oracle instance 3. Delete an existing Oracle instance 4. View Oracle instance entries that have been added <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the Remote Agent Utility 5. Quit Please enter your selection: 1 Select an Oracle instance to configure Entry 1. &lt;SID  &gt; Enter the number 0 to go back Enter your selection: 1 Enter the Oracle database SYSDBA user name: &lt;sys&gt; Enter the Oracle database SYSDBA password: Re-enter password: Validating credentials....... Enter the media server name or IP address: &lt;IP  Backup Exec&gt; Do you use a recovery catalog? (Y/N):N Do you want to use a customized job template? (Y/N): N Commit Oracle operation settings to the configuration file? (Y/N): Y SUCCESS: Successfully added the entry to the configuration file.</code> </pre><br>  When setting up the BE client, the Oracle database server must be running.  If a problem occurs: <br><br><pre> <code class="bash hljs">oracle: error <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> loading shared libraries: libhasgen10.so: cannot open shared object file: No such file or directory Failed to login.</code> </pre><br><br>  Then, before running the client configuration, you need to set the environment variables for Oracle.  If you encounter such a problem, then when you start the service in the future you will need to set variables. <br><br><pre> <code class="bash hljs">---&gt;&gt;&gt; No Oracle instances were discovered. Do you want to enter one? (Y/N):Y Enter the Oracle instance: SM1 ---&gt;&gt;&gt; The entry could not be validated. Ensure that the instance is configured correctly.</code> </pre><br><br>  Such a message may occur if you do not have an oratab file, check the rights to it and its contents (SID and path to ORACLE_HOME). <br>  Installation and configuration of the client is completed, we restart the service and go to the server side BE. <br><br><pre> <code class="bash hljs">/etc/init.d/VRTSralus.init restart</code> </pre> <br>  Please note that in order to set up a backup, it is necessary that the Oracle database is in archive mode; we check this: <br><br><pre> <code class="bash hljs">SQL&gt; select log_mode from sys.v<span class="hljs-variable"><span class="hljs-variable">$database</span></span>; LOG_MODE ------------ NOARCHIVELOG ----    SQL&gt; shu immediate SQL&gt; startup mount SQL&gt; alter database archivelog; SQL&gt; alter database open;</code> </pre><br><br>  On the server side of Backup Exec, we immediately perform the following actions (it will help to avoid many connection problems): <br><br><pre> <code class="bash hljs"> &gt;  &gt;  &gt; Oracle &gt;   &gt;  (  ,   Oracle   ,   ).</code> </pre> <br><br>  Then everything is trivial, Menu&gt; File&gt; New&gt; Backup Job. <br><blockquote>  When you need to set up a hot backup of Oracle Database, you do not need to copy the database (database files) as a folder. </blockquote><br>  If everything was done correctly before, then in the Linux / Unix Servers section the name of your database server will appear, clicking on the + next to [ROOT] prompts you for credentials, clicking on create, specify the credentials of the Linux user under which the database is running.  On the Oracle + Database, you must also click the create button and specify the database user data, namely the user sys, which was specified to the client and which has sysdba privileges.  Now we can select the directory to save ORACLE_HOME (uncheck the folder with the database files, you can backup these files when the database is stopped), and check the box next to ‚Äúoracle Database‚Äù (for hot copy).  Go through the tabs, everything is quite clear.  On the Oracle tab, I recommend checking the ‚ÄúDelete copied log files‚Äù checkbox - this will mean that after copying archivals to the backup server, they will be deleted from the database server, otherwise you may run out of disk space on the database drive and you will have to delete the logs manually.  We set up copying to disk or tape on the ‚ÄúDevices and Media‚Äù tab. Set the schedule - click ‚ÄúRun now‚Äù - a general list of the parameters you set will be created, check OK and watch the execution in the ‚ÄúTask Monitor‚Äù section. <br><br><img src="https://habrastorage.org/files/461/113/7f4/4611137f41ac4f2f84c109ad5c18a3fa.jpg"><br><br>  If your Oracle database is large and frequently used, then it is better to do an additional task to copy only archive logs, thus reducing the time of information loss and the disk space from the database will be cleared more often. </div><p>Source: <a href="https://habr.com/ru/post/275449/">https://habr.com/ru/post/275449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275439/index.html">Working with Arduino from a C # application</a></li>
<li><a href="../275441/index.html">Experience installing SolidWorks on a Windows 7 virtual machine on a Ubuntu host OS</a></li>
<li><a href="../275443/index.html">LastPass users are vulnerable to the simplest phishing attack in Chrome</a></li>
<li><a href="../275445/index.html">Comparison of programming languages ‚Äã‚Äãand frameworks for them</a></li>
<li><a href="../275447/index.html">Cross-platform Open Source Time Tracker</a></li>
<li><a href="../275451/index.html">Custom gestures, Kinect + Unity. Part 1</a></li>
<li><a href="../275453/index.html">Wt file selection dialog</a></li>
<li><a href="../275455/index.html">Parallel algorithms for processing BigData: pitfalls and difficult decisions</a></li>
<li><a href="../275459/index.html">Measurement of ore weight by stator current. Practice. Part 1. Signal processing algorithm in MK</a></li>
<li><a href="../275463/index.html">Using Chakra and JavaScript in Azure DocumentDB</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>