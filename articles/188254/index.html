<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JS Library Performance Comparison</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago there was a task to make a comparative analysis of jQuery and Google Closure Library. The main comparison was the functional characteris...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JS Library Performance Comparison</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage2/cb9/7c9/2c5/cb97c92c56460fcea3204afa191a648b.png"><br>  Some time ago there was a task to make a comparative analysis of jQuery and Google Closure Library.  The main comparison was the functional characteristics, but in addition there was a desire to check the speed of these two libraries.  Some knowledge of the internal structure allowed us to make assumptions, but the test results turned out to be somewhat unexpected for me and I decided that it was worth sharing it with the habr-community. <br><a name="habracut"></a><br><h2>  Test organization </h2><br>  Before starting the actual comparison, we had to make a ‚Äútest engine‚Äù - a few lines of code that allowed us to further run several different tests.  After that, the comparative testing was also easily added to perform the same operations on ‚Äúbare‚Äù javascript (let's call it native-calls) and using the ExtJS library.  It would be possible to add something else, but then the stock of my knowledge was over, and I did not want to study the library just for the sake of the test. <br>  There are no tricks and the most primitive approach to testing.  Actually, the measurement was provided by a tiny function that simply performed the required function the necessary number of times and returned the execution speed ‚Äî the number of operations per millisecond: <br><pre><code class="javascript hljs">runTest = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">test, count</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> start = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">1</span></span>;i&lt;count;i++) test(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> end = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> time = end - start; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count/time; }</code> </pre> <br>  In order to run several tests of the same type using different libraries, a function was added that takes an entire group of tests as input: <br><pre> <code class="javascript hljs">runGroup = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">label, tests, count</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = {}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> tests) res[key] = runTest(tests[key], count); saveResult(label, res); }</code> </pre><br>  This made it possible to make the test call in such a "visual" form: <br><pre> <code class="javascript hljs">runGroup(<span class="hljs-string"><span class="hljs-string">' '</span></span>,{ <span class="hljs-string"><span class="hljs-string">"native"</span></span>: function1, <span class="hljs-string"><span class="hljs-string">"jQuery"</span></span>: function2, <span class="hljs-string"><span class="hljs-string">"closure"</span></span>: function3, <span class="hljs-string"><span class="hljs-string">"extJS"</span></span>: function4 })</code> </pre><br>  Well, to all this, a function was added, averaging the results of several tests and drawing a beautiful tablet for visual perception.  The full code of the test page will be below. <br><br><h2>  Tested operations </h2><br>  The choice of operations for the test is carried out subjectively - the most frequently used, in my opinion, operations when developing animated web pages.  The way of implementing the operation for each of the libraries is also, in my opinion, the most natural - I constantly meet similar fragments in my own and in someone else‚Äôs code. <br><br><h4>  Search item by ID </h4><br>  Probably no web page can do without searching for elements.  Everyone knows that the search by id is the most optimal, and use it.  The following code was used for the test: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'id'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// native goog.dom.getElement('id'); // closure $('#id'); // jQuery Ext.get('id'); // ExtJS</span></span></code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Search for items by class </h4><br>  Naturally, the case is not limited to search by identifier.  Often you have to look for elements in a more ‚Äúsophisticated‚Äù way.  For the test, I chose to search by class: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByClassName(<span class="hljs-string"><span class="hljs-string">'class'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// native goog.dom.getElementByClass('class'); // closure $('.class'); // jQuery Ext.select('.class'); // ExtJS</span></span></code> </pre><br><br><h4>  Add item </h4><br>  Naturally, one must be able to add elements to the page.  For test purposes, adding the same type of span directly to the body was used.  Here, the code without using libraries is already significantly longer than with them: <br><pre> <code class="javascript hljs">goog.dom.appendChild(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body, goog.dom.createDom(<span class="hljs-string"><span class="hljs-string">'span'</span></span>,{<span class="hljs-attr"><span class="hljs-attr">class</span></span>:<span class="hljs-string"><span class="hljs-string">'testspan'</span></span>})); <span class="hljs-comment"><span class="hljs-comment">// closure $(document.body).append($('&lt;span class="testspan"&gt;')); // jQuery Ext.DomHelper.append(document.body, {tag : 'span', cls : 'testspan'}); // ExtJS // native var spn = document.createElement('span'); spn.setAttribute('class','testspan'); document.body.appendChild(spn);</span></span></code> </pre><br><br><h4>  Item Class Definition </h4><br>  Naturally, there is often a need to define the properties of the elements.  I chose to define the list of classes assigned to the element (the element itself was searched outside the test cycle): <br><pre> <code class="javascript hljs">nElement.getAttribute(<span class="hljs-string"><span class="hljs-string">'class'</span></span>).split(<span class="hljs-string"><span class="hljs-string">' '</span></span>); <span class="hljs-comment"><span class="hljs-comment">// native goog.dom.classes.get(gElement); // closure jElement.attr('class').split(' '); // jQuery eElement.getAttribute('class').split(' '); // ExtJS</span></span></code> </pre><br><br><h4>  Item class change </h4><br>  Usually you don‚Äôt even need to define a class - you need to add it, or delete it.  All libraries offer a natural toggle method for this case, but on the bare javascript I had to write a whole footwoman: <br><pre> <code class="javascript hljs">goog.dom.classes.toggle(gElement, <span class="hljs-string"><span class="hljs-string">'testToggle'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// closure jElement.toggleClass('testToggle'); // jQuery var classes = eElement.toggleCls('testToggle'); // ExtJS // native var classes = nElement.className.split(' '); var ind = classes.indexOf('testToggle'); if(ind==-1) classes.push('testToggle'); else classes.splice(ind,1); nElement.className = classes.join(" ");</span></span></code> </pre><br><br><h4>  Element style change </h4><br>  Well, the most frequently used operation with an element is setting it with certain css-properties: <br><pre> <code class="javascript hljs">nElement.style.backgroundColor = <span class="hljs-string"><span class="hljs-string">'#aaa'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// native goog.style.setStyle(gElement, {'background-color': '#aaa'}); // closure jElement.css({'background-color': '#aaa'}); // jQuery eElement.setStyle('backgroundColor','#aaa'); // ExtJS</span></span></code> </pre><br><br>  After putting together all the elements described above, I received a page for testing, the full text of which can be seen under the spoiler.  Libraries were used from the corresponding CDNs (version 1.10.2 for jQuery, 4.2.0 for ExtJs and trunk-version for closure). Anyone can save this in an html-file and repeat the test or add something of their own there. <br><div class="spoiler">  <b class="spoiler_title">Long HTML</b> <div class="spoiler_text"><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://code.jquery.com/jquery-1.10.2.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'http://closure-library.googlecode.com/svn/trunk/closure/goog/base.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://cdn.sencha.com/ext/gpl/4.2.0/ext-all.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> goog.require(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'goog.dom'</span></span></span><span class="actionscript">); goog.require(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'goog.dom.classes'</span></span></span><span class="actionscript">); goog.require(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'goog.style'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">table</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border-collapse</span></span></span><span class="css">:collapse;} </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">th</span></span></span><span class="css"> {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">120%</span></span></span><span class="css">; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">td</span></span></span><span class="css"> {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">: solid black </span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">180px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">height</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">60px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">text-align</span></span></span><span class="css">: center; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.rowlabel</span></span></span><span class="css"> {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">120px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">text-align</span></span></span><span class="css">: left; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">: beige;} </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.avg</span></span></span><span class="css"> {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-weight</span></span></span><span class="css">: bold; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">120%</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">color</span></span></span><span class="css">: darkblue;} </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Benchmark<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"testid"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"testclass"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"getBenchmark()"</span></span></span><span class="hljs-tag">&gt;</span></span>Run<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"result"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> runCount = </span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">4</span></span></span><span class="actionscript">; </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//       var testSize = 1000; //      // ... getBenchmark = function(){ for(var i = 0;i&lt;runCount;i++) allTests(); showResults(); } allTests = function(){ //        var nElement = document.getElementById('testid'); var gElement = goog.dom.getElement('testid'); var jElement = jQuery('#testid'); var eElement = Ext.get('testid'); //    runGroup('Id lookup',{ "native": function(){var element = document.getElementById('testid');}, "closure": function(){var element = goog.dom.getElement('testid');}, "jQuery": function(){var element = jQuery('#testid');}, "ExtJS": function(){var element = Ext.get('testid');} }, 500*testSize); //    runGroup('Class lookup',{ "native": function(){var elements = document.getElementsByClassName('testclass');}, "closure": function(){var elements = goog.dom.getElementByClass('testclass');}, "jQuery": function(){var elements = jQuery('.testclass');}, "ExtJS": function(){var elements = Ext.select('.testclass');} }, 200*testSize); //   runGroup('Append span',{ "jQuery": function(){jQuery(document.body).append(jQuery('&lt;span class="testspan"&gt;'));}, "closure": function(){goog.dom.appendChild(document.body, goog.dom.createDom('span',{class:'testspan'}));}, "ExtJS": function(){Ext.DomHelper.append(document.body, {tag : 'span', cls : 'testspan'});}, "native": function(){ var spn = document.createElement('span'); spn.setAttribute('class','testspan'); document.body.appendChild(spn); } }, testSize); //     jQuery('.testspan').remove(); //    runGroup('Read classes',{ "native": function(){var classes = nElement.getAttribute('class').split(' ');}, "closure": function(){var classes = goog.dom.classes.get(gElement);}, "jQuery": function(){var classes = jElement.attr('class').split(' ');}, "ExtJS": function(){var classes = eElement.getAttribute('class').split(' ');} }, 100*testSize); //    runGroup('Toggle class',{ "closure": function(){goog.dom.classes.toggle(gElement, 'testToggle');}, "jQuery": function(){jElement.toggleClass('testToggle');}, "ExtJS": function(){var classes = eElement.toggleCls('testToggle');}, "native": function(){ var classes = nElement.className.split(' '); var ind = classes.indexOf('testToggle'); if(ind==-1) classes.push('testToggle'); else classes.splice(ind,1); nElement.className = classes.join(" "); } }, 50*testSize); //  css- runGroup('Styling',{ "native": function(){nElement.style.backgroundColor = '#aaa';}, "closure": function(){goog.style.setStyle(gElement, {'background-color': '#aaa'});}, "jQuery": function(){jElement.css({'background-color': '#aaa'});}, "ExtJS": function(){eElement.setStyle('backgroundColor','#aaa');} }, 50*testSize); } var savedResults = {}; var tests = []; //   showResults = function(){ jQuery('#result').empty(); //   -    var str = '&lt;tr&gt;&lt;th&gt;&lt;/th&gt;' for(var i=0;i&lt;tests.length;i++){ str += '&lt;th&gt;' + tests[i] + '&lt;/th&gt;'; } str += '&lt;/tr&gt;'; for(var label in savedResults){ //      str += '&lt;tr&gt;&lt;td class="rowlabel"&gt;'+label+'&lt;/td&gt;' for(var i=0;i&lt;tests.length;i++){ str += '&lt;td&gt;'; var key = tests[i]; var res = savedResults[label][key]; if(res){ var detail = ''; var total = 0; for(var k=0;k&lt;res.length;k++){ if(k==0) detail += Math.round(res[k]); else detail += ', ' + Math.round(res[k]); total += res[k]; } if(res.length &gt; 0) total = total / res.length; str += '&lt;span class="avg"&gt;'+Math.round(total)+'&lt;/span&gt;&lt;br&gt;'+detail; } str+='&lt;/td&gt;'; } } jQuery('#result').append(str); } //   saveResult = function(label, result){ if(!savedResults[label]) savedResults[label] ={}; for(var key in result){ if(tests.indexOf(key)==-1) tests.push(key); if(!savedResults[label][key]) savedResults[label][key] = []; savedResults[label][key].push(result[key]); } } //     runGroup = function(label, tests, count){ var res = {}; for(var key in tests) res[key] = runTest(tests[key], count); saveResult(label, res); } //      runTest = function(test, count){ var start = new Date().getTime(); for(var i=1;i&lt;count;i++) test(); var end = new Date().getTime(); var time = end - start; return count/time; } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br><br><h2>  Test results </h2><br>  I performed the specified test in all browsers installed on my machine.  This was done not to compare browsers, but to make sure that the libraries under different browsers behave relatively equally.  Accordingly, I did not take care of updating versions either.  The results (the number of operations per millisecond) are in the tables below.  (The bold type in each cell shows the average value of four tests, the usual values ‚Äã‚Äãfor each of the tests). <br><br><h4>  Chrome </h4><br>  Version 28.0.1500.72 <br><img src="http://habrastorage.org/storage2/fcd/04a/b31/fcd04ab31cf22f2e69c2be1709332d83.png"><br><br><h4>  Opera </h4><br>  Version 12.10.1652 <br><img src="http://habrastorage.org/storage2/c30/5c1/40b/c305c140ba4623dad03a2b68b41a51eb.png"><br><br><h4>  Firefox </h4><br>  Version 22.0 <br><img src="http://habrastorage.org/storage2/08e/df4/802/08edf4802a0b529003cb2816949af005.png"><br><br><h4>  Internet Explorer </h4><br>  Version 9.0.8112.16421 <br><img src="http://habrastorage.org/storage2/4f1/f17/94e/4f1f1794e7eedf6561bc49c52403ba20.png"><br><br><h2>  Results </h2><br>  Visually comparative results can be seen in the chart, which is built on the results of testing in Chrome (the results were normalized, so that different groups of tests fit into one diagram).  The longer the bar on the graph, the faster: <br><img src="http://habrastorage.org/storage2/58a/2f7/292/58a2f729206837eb1565e5f9170e5797.png"><br><br>  As expected, the manipulations from DOM to jQuery are relatively slow, but the gap by an order of magnitude came as a surprise to me.  But the manipulations with the attributes of elements on both jQuery and Slosure are almost the same (and are noticeably inferior to extJS, which, on the contrary, loses somewhat in manipulations with the DOM).  In general, my trust in jQuery after these tests shaken somewhat, but despite this, the auxiliary functions in the test itself were written using this particular library. <br><br>  I don‚Äôt think that far-reaching conclusions should be made from these results - for the vast majority of web applications, it‚Äôs not really necessary to perform any of these operations on a massive scale, but sometimes it‚Äôs worth paying attention to the tools used and choosing those that are best suited for tasks.  None of the libraries prohibits the use of native-methods for working with DOM and, if necessary, you can always refer to them bypassing all library wrappers. </div><p>Source: <a href="https://habr.com/ru/post/188254/">https://habr.com/ru/post/188254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../188242/index.html">Search through sphinx in django 1.6 admin</a></li>
<li><a href="../188244/index.html">Hidden Markov chains, Bauma-Welch algorithm</a></li>
<li><a href="../188246/index.html">Sample Exam at the Faculty of Computer Science at TU Dresden</a></li>
<li><a href="../188248/index.html">Editing Configs in Python</a></li>
<li><a href="../188252/index.html">OpenGL ES 3.0 in Android 4.3 - ETC2 texture compression</a></li>
<li><a href="../188258/index.html">The Old Reader is no longer public</a></li>
<li><a href="../188262/index.html">YAF - language reporting forms</a></li>
<li><a href="../188266/index.html">Site Logo Animation</a></li>
<li><a href="../188268/index.html">test.it - ‚Äã‚Äãjavascript testing or my bike with nesting and detailed output</a></li>
<li><a href="../188272/index.html">Want a Chromebook Pixel by Asus with Yota 4G embedded?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>