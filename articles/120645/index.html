<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The simplest blog on symfony 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi% username%! 
 symfony is a popular PHP framework, on which quite a few serious projects have been created . But in the Russian-speaking community, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The simplest blog on symfony 2</h1><div class="post__text post__text-html js-mediator-article">  Hi% username%! <br>  <a href="http://symfony.com/">symfony</a> is a popular PHP framework, on which quite a few <a href="http://symfony.com/blog/category/case-studies">serious projects have been created</a> .  But in the Russian-speaking community, it is much less common.  Whether this is due to a higher threshold of entry, or the lack of Russian-language documentation. <br>  In this article I want to talk about creating a simple blog on symfony2. <a name="habracut"></a><br><br><h5>  Step 0. Software Requirements </h5><br>  Web server (for example, Apache) from 5.3.2 or higher. <br>  Database server  We will use MySQL. <br>  Git (optional). <br><h5>  Step 1. Installation. </h5><br>  There are two ways: <a href="http://symfony.com/download">download the archive from the site</a> or use git.  We will go to the second, because  many bundles are updated following the repository. <br>  At the root of the web server, execute the following commands: <br> <code><a href=""></a> git clone https://github.com/symfony/symfony-standard.git symfony <br> cd symfony <br> php bin/vendors.php <br></code> <br>  Follow the link <a href="http://localhost/symfony/web/config.php">http: //localhost/symfony/web/config.php</a> .  Here symfony will write requirements and recommendations for setting up a web server. <br>  In my case, you only need to specify the date.timezone directive in php.ini. <br>  There, at the bottom of the page is written the location of your php.ini. <br>  After you fix all the problems, you will find the most interesting. <br>  Follow the link from the same page, <a href="http://localhost/symfony/web/app_dev.php/_configurator/">http: //localhost/symfony/web/app_dev.php/_configurator/</a> . <br>  Here you can set up a connection to the database and set a secret key to prevent a CSRF attack. <br>  After that, symfony will be configured, or it will prompt you to enter the resulting configuration itself, if the app / config / parameters.ini file is not writable. <br>  Here it is worth mentioning the bundles.  In this case, we will use AcmeDemoBundle - already created bundle to create demo applications.  I will not go into the bundles, I will only say that in symfony2 of them, like from bricks, your application is built. <br>  We also need another bundle - FOSUserBundle.  It provides everything you need to work with users - login, registration, password confirmation and more. <br>  Download: <br> <code>git submodule add -f git://github.com/FriendsOfSymfony/UserBundle.git vendor/bundles/FOS/UserBundle <br></code> <br>  Add a new namespace (namespace) in app / autoload.php: <br><blockquote> <code><font color="black">$loader-&gt;registerNamespaces(array(&lt;br&gt; <font color="#A31515">'FOS'</font> =&gt; __DIR__. <font color="#A31515">'/../vendor/bundles'</font> ,&lt;br&gt; <font color="#008000">// your other namespaces</font> &lt;br&gt;);</font> &lt;br&gt;</code> </blockquote> <br>  Add a new bundle to our application in the file app / AppKernel.php: <br><blockquote> <code><font color="black"><font color="#0000ff">public</font> function registerBundles()&lt;br&gt;{&lt;br&gt; <font color="#0000ff">return</font> array(&lt;br&gt; <font color="#008000">// ...</font> &lt;br&gt; <font color="#0000ff">new</font> FOS\UserBundle\FOSUserBundle(),&lt;br&gt; <font color="#008000">// ...</font> &lt;br&gt;    );&lt;br&gt;}</font> &lt;br&gt;</code> </blockquote> <br>  In app / config / security.yml, replace the providers parameter: <br><blockquote> <code><font color="black">security:&lt;br&gt;    providers:&lt;br&gt;        fos_userbundle:&lt;br&gt;            id: fos_user.user_manager</font> &lt;br&gt;</code> </blockquote> <br>  And we also change the firewalls and access_control to allow anonymous access for all pages, except for the message creation page. <br><blockquote> <code><font color="black">firewalls:&lt;br&gt;    main:&lt;br&gt;        pattern:     .*&lt;br&gt;        form_login:&lt;br&gt;            provider:      fos_userbundle&lt;br&gt;            login_path:     /login&lt;br&gt;            use_forward:    false&lt;br&gt;            check_path:     /login_check&lt;br&gt;            failure_path:  null&lt;br&gt;        logout:      true&lt;br&gt;        anonymous:    true&lt;br&gt;access_control:&lt;br&gt;    - { path: /post/new, role: ROLE_USER } &lt;br&gt;    - { path: /.*, roles: IS_AUTHENTICATED_ANONYMOUSLY}</font> &lt;br&gt;</code> </blockquote> <br>  In app / config / config.yml, remove auto_mapping: true and add the following: <br><blockquote> <code><font color="black">doctrine:&lt;br&gt;    orm:&lt;br&gt;        mappings:&lt;br&gt;            FOSUserBundle: ~&lt;br&gt;            AcmeDemoBundle:  ~&lt;br&gt;            # your other bundles&lt;br&gt;</font></code> </blockquote> <br>  and at the end of the file we add: <blockquote> <code><font color="black">&lt;br&gt;fos_user:&lt;br&gt;    db_driver: orm&lt;br&gt;    firewall_name: main&lt;br&gt;    class:&lt;br&gt;        model:&lt;br&gt;            user: Acme\DemoBundle\Entity\User</font> &lt;br&gt;</code> </blockquote> <br>  You also need to add it to the framework translator to enable the translation of strings.  In particular, the FOSUserBundle lines. <br><blockquote> <code><font color="black">framework:&lt;br&gt;    translator: { fallback: en }</font> &lt;br&gt;</code> </blockquote> <br><h5>  Step 2. Creating models. </h5><br>  Create files in the src / Acme / DemoBundle / Entity directory.  If there is no such folder, create it. <br>  Post.php: <br><blockquote> <code><font color="black">&lt;?php&lt;br&gt;&lt;br&gt; <font color="#0000ff">namespace</font> Acme\DemoBundle\Entity;&lt;br&gt;&lt;br&gt;use Doctrine\ORM\Mapping <font color="#0000ff">as</font> ORM;&lt;br&gt;&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">*</font> &lt;br&gt; <font color="#008000">* @ORM\Entity</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">class</font> Post&lt;br&gt;{&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @var integer $id</font> &lt;br&gt; <font color="#008000">*</font> &lt;br&gt; <font color="#008000">* @ORM\Id</font> &lt;br&gt; <font color="#008000">* @ORM\Column(name="id", type="integer")</font> &lt;br&gt; <font color="#008000">* @ORM\GeneratedValue(strategy="AUTO")</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">private</font> $id;&lt;br&gt;&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @ORM\ManyToOne(targetEntity="User", inversedBy="posts")</font> &lt;br&gt; <font color="#008000">* @ORM\JoinColumn(name="user_id", referencedColumnName="id")</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">public</font> $user;&lt;br&gt;&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @var string $title</font> &lt;br&gt; <font color="#008000">*</font> &lt;br&gt; <font color="#008000">* @ORM\Column(name="title", type="string", length=255)</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">public</font> $title;&lt;br&gt;&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @var text $description</font> &lt;br&gt; <font color="#008000">*</font> &lt;br&gt; <font color="#008000">* @ORM\Column(name="description", type="text")</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">public</font> $description;&lt;br&gt;}</font> &lt;br&gt;</code> </blockquote> <br>  Comments before variables - annotations.  There should be no difficulties in their use, unless, of course, one wonders ‚Äúhow does it work?‚Äù. <br>  User.php: <br><blockquote> <code><font color="black">&lt;?php&lt;br&gt; <font color="#0000ff">namespace</font> Acme\DemoBundle\Entity;&lt;br&gt;use FOS\UserBundle\Entity\User <font color="#0000ff">as</font> BaseUser;&lt;br&gt;use Doctrine\ORM\Mapping <font color="#0000ff">as</font> ORM;&lt;br&gt;&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @ORM\Entity</font> &lt;br&gt; <font color="#008000">* @ORM\Table(name="fos_user")</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">class</font> User extends BaseUser&lt;br&gt;{&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @ORM\Id</font> &lt;br&gt; <font color="#008000">* @ORM\Column(type="integer")</font> &lt;br&gt; <font color="#008000">* @ORM\generatedValue(strategy="AUTO")</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">protected</font> $id;&lt;br&gt;    &lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @ORM\OneToMany(targetEntity="Post", mappedBy="fos_user")</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">public</font> $posts;&lt;br&gt;&lt;br&gt; <font color="#0000ff">public</font> function __construct()&lt;br&gt;    {&lt;br&gt;        parent::__construct();&lt;br&gt; <font color="#008000">// your own logic</font> &lt;br&gt;    }&lt;br&gt;}</font> &lt;br&gt;</code> </blockquote> <br>  We inherit from FOS \ UserBundle \ Entity \ User, so that in addition to the two fields that we specified, several more fields will be generated, including username, password and email. <br>  After writing the models, we can safely create the tables: <br> <code>php app/console doctrine:schema:create <br></code> <br><h5>  Step 3. Creating a controller. </h5><br>  Create a PostController.php file in the src / Acme / DemoBundle / Controller / folder: <br><blockquote> <code><font color="black">&lt;?php&lt;br&gt; <font color="#0000ff">namespace</font> Acme\DemoBundle\Controller;&lt;br&gt;&lt;br&gt;use Symfony\Bundle\FrameworkBundle\Controller\Controller;&lt;br&gt;use Acme\DemoBundle\Entity\Post;&lt;br&gt;use Sensio\Bundle\FrameworkExtraBundle\Configuration\Template;&lt;br&gt;&lt;br&gt; <font color="#0000ff">class</font> PostController extends Controller&lt;br&gt;{&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @Template()</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">public</font> function indexAction()&lt;br&gt;    {&lt;br&gt;        $em = $ <font color="#0000ff">this</font> -&gt; <font color="#0000ff">get</font> ( <font color="#A31515">'doctrine'</font> )-&gt;getEntityManager();&lt;br&gt;        $posts = $em-&gt;getRepository( <font color="#A31515">'AcmeDemoBundle:Post'</font> )-&gt;findAll();&lt;br&gt; <font color="#0000ff">return</font> array( <font color="#A31515">'posts'</font> =&gt; $posts);&lt;br&gt;    }&lt;br&gt;    &lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @Template()</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">public</font> function newAction()&lt;br&gt;    {&lt;br&gt;        $post = <font color="#0000ff">new</font> Post();&lt;br&gt; <font color="#008000">//      </font> &lt;br&gt;        $post-&gt;user = $ <font color="#0000ff">this</font> -&gt; <font color="#0000ff">get</font> ( <font color="#A31515">'security.context'</font> )-&gt;getToken()-&gt;getUser();&lt;br&gt; <font color="#008000">//  ,       ,    </font> &lt;br&gt;        $form = $ <font color="#0000ff">this</font> -&gt; <font color="#0000ff">get</font> ( <font color="#A31515">'form.factory'</font> )&lt;br&gt;            -&gt;createBuilder( <font color="#A31515">'form'</font> , $post)&lt;br&gt;            -&gt;add( <font color="#A31515">'title'</font> , <font color="#A31515">'text'</font> )&lt;br&gt;            -&gt;add( <font color="#A31515">'description'</font> , <font color="#A31515">'textarea'</font> )&lt;br&gt;            -&gt;getForm();&lt;br&gt;        $request = $ <font color="#0000ff">this</font> -&gt; <font color="#0000ff">get</font> ( <font color="#A31515">'request'</font> );&lt;br&gt; <font color="#0000ff">if</font> ($request-&gt;getMethod() == <font color="#A31515">'POST'</font> ) {&lt;br&gt;            $form-&gt;bindRequest($request);&lt;br&gt; <font color="#0000ff">if</font> ($form-&gt;isValid()) {&lt;br&gt;                $em = $ <font color="#0000ff">this</font> -&gt; <font color="#0000ff">get</font> ( <font color="#A31515">'doctrine'</font> )-&gt;getEntityManager();&lt;br&gt;                $em-&gt;persist($post);&lt;br&gt;                $em-&gt;flush();&lt;br&gt; <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;redirect($ <font color="#0000ff">this</font> -&gt;generateUrl( <font color="#A31515">'post_index'</font> ));&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt; <font color="#0000ff">return</font> array( <font color="#A31515">'form'</font> =&gt; $form-&gt;createView());&lt;br&gt;    }&lt;br&gt;}</font> &lt;br&gt;</code> </blockquote> <br>  Why do I need <a href="https://habrahabr.ru/users/template/" class="user_link">Template</a> () before each action?  Without him instead <br> <code>return array('posts' =&gt; $posts); <br></code> <br>  we would have to write <br> <code>return $this-&gt;render('AcmeDemoBundle:Post:index.html.twig', array('posts' =&gt; $posts)); <br></code> <br><h5>  Step 4. Templates. </h5><br>  In src / Acme / DemoBundle / Resources / views / Post we will create a view for each action. <br>  index.html.twig: <br><blockquote> <code><font color="black">{% extends 'AcmeDemoBundle::layout.html.twig' %}&lt;br&gt;&lt;br&gt;{% block content %}&lt;br&gt;&lt;br&gt;{% if is_granted('ROLE_USER') %}&lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="{{ path("</font> <font color="#ff0000">post_new</font> <font color="#0000ff">") }}"</font> <font color="#0000ff">&gt;</font> New Post <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> &lt;br&gt;{% endif %}&lt;br&gt;&lt;br&gt;{% for post in posts %}&lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">h2</font> <font color="#0000ff">&gt;</font> {{ post.title}} <font color="#0000ff">&lt;/</font> <font color="#800000">h2</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> {{ post.description }} <font color="#0000ff">&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> by {{ post.user.username }} <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> &lt;br&gt;{% else %}&lt;br&gt;        .&lt;br&gt;{% endfor %}&lt;br&gt;&lt;br&gt;{% endblock %}</font> &lt;br&gt;</code> </blockquote> <br>  new.html.twig: <br><blockquote> <code><font color="black">{% extends 'AcmeDemoBundle::layout.html.twig' %}&lt;br&gt;&lt;br&gt;{% block content %}&lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">h1</font> <font color="#0000ff">&gt;</font> New Post <font color="#0000ff">&lt;/</font> <font color="#800000">h1</font> <font color="#0000ff">&gt;</font> &lt;br&gt;    &lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">action</font> <font color="#0000ff">="{{ path("</font> <font color="#ff0000">post_new</font> <font color="#0000ff">") }}"</font> <font color="#ff0000">method</font> <font color="#0000ff">="post"</font> <font color="#0000ff">&gt;</font> &lt;br&gt;        {{ form_widget(form) }}&lt;br&gt;&lt;br&gt; <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="submit"</font> <font color="#ff0000">class</font> <font color="#0000ff">="symfony-button-grey"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Create"</font> <font color="#0000ff">/&gt;</font> &lt;br&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> &lt;br&gt;{% endblock %}</font> &lt;br&gt;</code> </blockquote> <br>  About the Twig template engine is already partially <a href="http://habrahabr.ru/blogs/php/76021/">mentioned in Habr√©</a> , but there is also <a href="http://www.twig-project.org/documentation">excellent official documentation</a> , though in English. <br><h5>  Step 5. Routes. </h5><br>  In app / config / routing.yml we register our routes and do not forget about UserBundle <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">post_index:&lt;br&gt;    pattern: /post&lt;br&gt;    defaults: { _controller: AcmeDemoBundle:Post:index }&lt;br&gt;&lt;br&gt;post_new:&lt;br&gt;    pattern: /post/new&lt;br&gt;    defaults: { _controller: AcmeDemoBundle:Post:new }&lt;br&gt;&lt;br&gt;fos_user_security:&lt;br&gt;    resource: "@FOSUserBundle/Resources/config/routing/security.xml"&lt;br&gt;&lt;br&gt;fos_user_user:&lt;br&gt;    resource: "@FOSUserBundle/Resources/config/routing/user.xml"&lt;br&gt;    prefix: /user</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now our blog will be available via the link <a href="http://localhost/symfony/web/app_dev.php/post">http: //localhost/symfony/web/app_dev.php/post</a> , and when you try to go to <a href="http://localhost/symfony/web/app_dev.php/post/new">http: //localhost/symfony/web/app_dev.php/post/new</a> you will be redirected to the page the entrance. <br><h5>  Afterword </h5><br>  I do not pretend to be a complete guide and originality, it is rather a quick start note for an application for myself. <br>  I would be happy if someone come in handy, just do not give up help and criticism. <br>  Who will have questions - ask, I think on Habr√© there are people who are engaged in this framework. <br>  In addition, we have a jabber conference symfony@conference.jabber.ru </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/120645/">https://habr.com/ru/post/120645/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../120638/index.html">What is Ogre 3D and how to eat it</a></li>
<li><a href="../120639/index.html">Introduction to the libgcrypt encryption library</a></li>
<li><a href="../120640/index.html">Radio control via browser</a></li>
<li><a href="../120641/index.html">HaiPad M702T - Tablet / Media Center</a></li>
<li><a href="../120643/index.html">Recipe for the Universal Listener (listener)</a></li>
<li><a href="../120646/index.html">Matane captcha for PHP - it's easy!</a></li>
<li><a href="../120647/index.html">We are friends GWT, Sonar + Clover</a></li>
<li><a href="../120648/index.html">Linux GameDev Conference, Moscow, June 18</a></li>
<li><a href="../120652/index.html">Slash and backslash: milestones on the way</a></li>
<li><a href="../120653/index.html">E3 2011: Top 15 (games and hardware)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>