<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>XPath Games</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="XML 

 XML is a text format intended for storing structured data (instead of existing database files ), for exchanging information between programs , ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>XPath Games</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/947/575/b7e/947575b7eeff7cc8ecfd6e0d73c20389.jpg" width="128" height="128"></div><br><br>  <strong>XML</strong> <br><br>  XML is a text format intended for storing structured data (instead of existing <a title="Database" href="http://ru.wikipedia.org/wiki/%25D0%2591%25D0%25B0%25D0%25B7%25D0%25B0_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585">database files</a> ), for exchanging information between <a title="Software" href="http://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BE%25D0%25B1%25D0%25B5%25D1%2581%25D0%25BF%25D0%25B5%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">programs</a> , as well as for creating more specialized markup languages ‚Äã‚Äã(for example, <a title="Xhtml" href="http://ru.wikipedia.org/wiki/XHTML">XHTML</a> ), sometimes called <em>dictionaries</em> .  XML is a simplified subset of <a title="SGML" href="http://ru.wikipedia.org/wiki/SGML">SGML</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      XML is a handy thing to store files in a readable form. <br><br>  For example, a simple XML file might be <br><a name="habracut"></a><br><pre>  &lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
 &lt;root&gt;

  &lt;data&gt;

     &lt;row&gt;
          &lt;id&gt; 1 &lt;/ id&gt;
          &lt;name company = "ibm" status = "banned"&gt; Vasilii &lt;/ name&gt;
          &lt;age&gt; 18 &lt;/ age&gt;

     &lt;/ row&gt;

     &lt;row&gt;
           &lt;id&gt; 2 &lt;/ id&gt;
           &lt;name company = "ibm"&gt; Anton &lt;/ name&gt;
           &lt;age&gt; 20 &lt;/ age&gt;
     &lt;/ row&gt;
     &lt;row&gt;
           &lt;id&gt; 3 &lt;/ id&gt;
           &lt;name company = "apple"&gt; Petro &lt;/ name&gt;
           &lt;age&gt; 35 &lt;/ age&gt;
      &lt;/ row&gt;
  &lt;/ data&gt;

 &lt;/ root&gt; </pre><br>  This file will show how to work with XPath. <br><br>  As you can see from the example, XML is convenient because it is easy to read, structured.  In this format, it is convenient to store data, moreover, there are many libraries for working with this type of file. <br><br>  Any element has its own path, for example, the root-data-row [0] path will point to the basil branch. <br><br>  But when a programmer starts using this file, he has problems with file manipulation.  For example, you must select all people whose age is &lt;20. <br><br>  What to do? <br><br>  The solution to this problem is <strong>XPath</strong> . <br><br>  XPath is a kind of language, so I said, a query language to an XML document that returns an iterator to the branches that satisfy the conditions. <br><br>  So, there is a document. <br><br>  Write the PHP code for this document.  In this example, SimpleXML functions are used to work. <br><br>  There is a code: <br><pre>  $ xml = simplexml_load_file ("db.xml");
 var_dump ($ xml); </pre><br>  The result will be as follows: <br><pre>  object (SimpleXMLElement) [1]
   public 'data' =&gt;
     object (SimpleXMLElement) [2]
       public 'row' =&gt;
         array
           0 =&gt;
             object (SimpleXMLElement) [3]
               public 'id' =&gt; string '1' (length = 1)
               public 'name' =&gt; string 'Vasilii' (length = 7)
               public 'age' =&gt; string '18' (length = 2)
           1 =&gt;
             object (SimpleXMLElement) [4]
               public 'id' =&gt; string '2' (length = 1)
               public 'name' =&gt; string 'Anton' (length = 5)
               public 'age' =&gt; string '20' (length = 2)
           2 =&gt;
             object (SimpleXMLElement) [5]
               public 'id' =&gt; string '3' (length = 1)
               public 'name' =&gt; string 'Petro' (length = 5)
               public 'age' =&gt; string '35' (length = 2) </pre><br>  As you can see from the result, the access can be done as: $ xml-&gt; data-&gt; row [0] -&gt; name == Valilii. <br><br>  Now XPath proper. <br><br>  XPath allows you to use conditions and its built-in functions for fetching branches. <br><br>  For example / (slash) - indicates the hierarchy of branches, for example / data, <br><br>  Key points for use: <br><br>  / - root node <br><br>  // - the set of nodes satisfying the trace condition (more on the wiki) <br><br>  * - any characters <br><br>  @ - attribute <br><br>  [] - analogue () in sql, sets the conditions <br><br>  and, or - AND, OR. <br><br>  Written in more <a href="http://ru.wikipedia.org/wiki/XPath">detail.wikipedia.org/wiki/XPath</a> <br><br>  Make a selection of all elements using XPath. <br><br><pre>  foreach ($ xml-&gt; xpath ("// row") as $ res) var_dump ($ res); </pre><br><pre>  object (SimpleXMLElement) [6]
   public 'id' =&gt; string '1' (length = 1)
   public 'name' =&gt; string 'Vasilii' (length = 7)
   public 'age' =&gt; string '18' (length = 2)

 object (SimpleXMLElement) [7]
   public 'id' =&gt; string '2' (length = 1)
   public 'name' =&gt; string 'Anton' (length = 5)
   public 'age' =&gt; string '20' (length = 2)

 object (SimpleXMLElement) [8]
   public 'id' =&gt; string '3' (length = 1)
   public 'name' =&gt; string 'Petro' (length = 5)
   public 'age' =&gt; string '35' (length = 2)
</pre><br><br>  Let's do a sample where age&gt; 18 <br><pre>  foreach ($ xml-&gt; xpath ("// row [age&gt; 18]") as $ res) var_dump ($ res); </pre><br>  Result: <br><pre>  object (SimpleXMLElement) [6]
   public 'id' =&gt; string '2' (length = 1)
   public 'name' =&gt; string 'Anton' (length = 5)
   public 'age' =&gt; string '20' (length = 2)

 object (SimpleXMLElement) [7]
   public 'id' =&gt; string '3' (length = 1)
   public 'name' =&gt; string 'Petro' (length = 5)
   public 'age' =&gt; string '35' (length = 2)
</pre><br><br>  Make a selection of all who have the attribute company = 'ibm' <br><pre>  foreach ($ xml-&gt; xpath ("// row [name [@ company = 'ibm']]") as $ res) var_dump ($ res); </pre><br>  Result: <br><pre>  object (SimpleXMLElement) [6]
   public 'id' =&gt; string '1' (length = 1)
   public 'name' =&gt; string 'Vasilii' (length = 7)
   public 'age' =&gt; string '18' (length = 2)

 object (SimpleXMLElement) [7]
   public 'id' =&gt; string '2' (length = 1)
   public 'name' =&gt; string 'Anton' (length = 5)
   public 'age' =&gt; string '20' (length = 2)
</pre><br>  It should be noted that the @company attribute is part of the name, so simply writing a row [@ company = ..] is impossible. <br><br>  Let's make a sample of people who are over 18 years old and work at IBM <br><pre>  foreach ($ xml-&gt; xpath ("// row [name [@ company = 'ibm'] and age&gt; 18]") as $ res) var_dump ($ res); </pre><br>  Result: <br><pre>  object (SimpleXMLElement) [6]
   public 'id' =&gt; string '2' (length = 1)
   public 'name' =&gt; string 'Anton' (length = 5)
   public 'age' =&gt; string '20' (length = 2) </pre><br><br>  You can see what to combine is very simple. <br>  The following example will show how you can use built-in functions, for example <br>  last () - get the last person in the list. <br><pre>  foreach ($ xml-&gt; xpath ("// row [last ()]") as $ res) var_dump ($ res); </pre><br>  Result: <br><pre>  object (SimpleXMLElement) [6]
   public 'id' =&gt; string '3' (length = 1)
   public 'name' =&gt; string 'Petro' (length = 5)
   public 'age' =&gt; string '35' (length = 2)
</pre><br><br>  And now we find people who do NOT work at IBM: <br><pre>  foreach ($ xml-&gt; xpath ("// row [name [not (@ company = 'ibm')]]") as $ res) var_dump ($ res); </pre><br>  Result: <br><pre>  object (SimpleXMLElement) [6]
   public 'id' =&gt; string '3' (length = 1)
   public 'name' =&gt; string 'Petro' (length = 5)
   public 'age' =&gt; string '35' (length = 2)
</pre><br><br>  Everything is very simple and convenient! <br><br><h4>  results </h4><br>  Xpath is a good tool for working with an XML document.  Basic functions are performed. <br>  For more complex ones, there is XQuery, but this is not the case now. <br><br>  XML + XPath is a worthy replacement in those places where it is inconvenient to use a database for some reason. <br><br>  Thank. <br>  To be continued. <br><br><br>  <a href="http://anton.in.ua/2009/07/25/xml-xpath/">Original source</a> </div><p>Source: <a href="https://habr.com/ru/post/65383/">https://habr.com/ru/post/65383/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../65377/index.html">Microsoft Tag Team Announces API</a></li>
<li><a href="../65378/index.html">Downloading and caching images in Firefox, as well as in Opera</a></li>
<li><a href="../65379/index.html">Quality of books on programming</a></li>
<li><a href="../65381/index.html">train schedule. Railway</a></li>
<li><a href="../65382/index.html">Simfatic Forms. Or how to make life easier when creating various costing web services</a></li>
<li><a href="../65384/index.html">pv is a small but very useful utility.</a></li>
<li><a href="../65387/index.html">Are people still Indians?</a></li>
<li><a href="../65391/index.html">Third dimension password protection</a></li>
<li><a href="../65399/index.html">For some visitors, Wikipedia completely stopped loading, while for others, only Wikimediaire pictures stopped.</a></li>
<li><a href="../65401/index.html">New site using Google services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>