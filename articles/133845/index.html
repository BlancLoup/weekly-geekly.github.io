<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Training course. Sorting, filtering and paging with the Entity Framework in an ASP.NET MVC application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is an extension of a series of articles devoted to developing using the Entity Framework and ASP.NET MVC 3. The first chapters can be found at th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Training course. Sorting, filtering and paging with the Entity Framework in an ASP.NET MVC application</h1><div class="post__text post__text-html js-mediator-article">  This is an extension of a series of articles devoted to developing using the Entity Framework and ASP.NET MVC 3. The first chapters can be found at the following links: <a href="http://blogs.msdn.com/b/vyunev/archive/2011/10/04/entity-framework-asp-net-mvc.aspx">Creating the Entity Framework data model for an ASP.NET MVC application</a> and <a href="http://blogs.msdn.com/b/vyunev/archive/2011/10/05/crud-entity-framework-asp-net-mvc.aspx">Implementing basic CRUD functionality with the Entity Framework in an ASP application .NET MVC</a> . <br><br>  In the previous lesson, we implemented pages for performing CRUD operations for Student entities.  In this tutorial, we will add sorting, filtering, and pagination, as well as create a page that will have a simple grouping. <br><br>  The following image shows the final page view.  Column headings are links that implement the descending and ascending sorting. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/366/5e5/c33/3665e5c33b0cd2ab05c4792942bca129.png" width="348" height="350"><br><br><a name="habracut"></a><h4>  Adding sorting headers to columns on the Students Index page </h4><br>  To add sorting, you need to change the Index method of the Student controller and add code to the Student Index view. <br><br>  <b>Adding sorting to the</b> <b>Index</b> <b>method</b> <br><br>  In <i>Controllers \ StudentController.cs,</i> replace the Index method with the following code: <br><br><pre><code class="hljs javascript">public ViewResult Index(string sortOrder) { ViewBag.NameSortParm = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.IsNullOrEmpty(sortOrder) ? <span class="hljs-string"><span class="hljs-string">"Name desc"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>; ViewBag.DateSortParm = sortOrder == <span class="hljs-string"><span class="hljs-string">"Date"</span></span> ? <span class="hljs-string"><span class="hljs-string">"Date desc"</span></span> : <span class="hljs-string"><span class="hljs-string">"Date"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> students = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> db.Students select s; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (sortOrder) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Name desc"</span></span>: students = students.OrderByDescending(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Date"</span></span>: students = students.OrderBy(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.EnrollmentDate); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Date desc"</span></span>: students = students.OrderByDescending(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.EnrollmentDate); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: students = students.OrderBy(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(students.ToList()); }</code> </pre> <br>  The method accepts sortOrder as a parameter from the query string in the URL, which is provided by ASP.NET as a parameter for the method.  The parameter is a ‚ÄúName‚Äù or ‚ÄúDate‚Äù string with (optionally) a subsequent space and a ‚Äúdesc‚Äù string to indicate what needs to be sorted in descending order. <br><br>  When you first call the Index page, there is no query line, and students are displayed in ascending order of LastName, which is indicated as a default option in the switch.  After the user clicks on the column header, the corresponding sortOrder value is added to the query string. <br><br>  If you want, you can configure the column heading hyperlinks with the appropriate query string values: <br><br><pre> <code class="hljs vbscript">ViewBag.NameSortParm = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.IsNullOrEmpty(sortOrder) ? <span class="hljs-string"><span class="hljs-string">"Name desc"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>; ViewBag.DateSortParm = sortOrder == <span class="hljs-string"><span class="hljs-string">"Date"</span></span> ? <span class="hljs-string"><span class="hljs-string">"Date desc"</span></span> : <span class="hljs-string"><span class="hljs-string">"Date"</span></span>;</code> </pre><br>  This is a ternary statement.  The first one states that if sortOrder is null or empty, the value of ViewBag.NameSortParam is set to ‚ÄúName desc‚Äù, otherwise it is set to an empty string. <br><br>  There are four options, depending on how the data is sorted: <br><ul><li>  If it is sorted in ascending order by <b>Last</b> <b>Name</b> , the <b>Last</b> <b>Name</b> link should indicate a descending sort by <b>Last</b> <b>Name</b> and an <b>Enrollment</b> <b>Date</b> link for sorting ascending by <b>Date,</b> respectively. </li><li>  If it is sorted in descending order by <b>Last</b> <b>Name</b> , the links should indicate sorting in ascending order by both <b>Last</b> <b>Name</b> and <b>Date</b> . </li><li>  If sorted in ascending order by <b>Date</b> , the links should indicate sorting in ascending order by <b>Last</b> <b>Name</b> and descending order in <b>Date</b> . </li><li>  If sorted in descending order by <b>Date</b> , the links should point to sorting by ascending by <b>Last</b> <b>Name</b> and by increasing by <b>Date</b> . </li></ul>  The method uses LINQ to Entities to indicate the column to be sorted.  In the code, a variable is created before the switch, then this variable is changed in the switch conditions, and the ToList method is called before the switch closes.  When you create and modify IQueryable variables, no queries are executed to the database.  The query is not executed until you convert your IQueryable object to a collection with a call like ToList.  This method returns a single request that is executed during the return view. <br><br><h4>  Adding link headers to the Student Index </h4><br>  In <i>Views</i> <i>\</i> <i>Student</i> <i>\</i> <i>Index</i> <i>.</i>  <i>cshtml</i> replace the code for &lt;tr&gt; and &lt;th&gt; containers with the following: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.ActionLink("Last Name", "Index", new { sortOrder=ViewBag.NameSortParm }) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> First Name <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.ActionLink("Enrollment Date", "Index", new { sortOrder=ViewBag.DateSortParm }) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  This code uses the information in the ViewBag properties to populate the links with appropriate query values.  Run the project and click on the headers to make sure the sorting works. <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/797/922/1c3/7979221c340fac313846677bae61b758.png" width="303" height="350"><br><br><h4>  Add search </h4><br>  To add filtering, you must add a text box and a submit button to the view and make the appropriate changes in the code of the Index method. <br><br>  <b>Change method code Index</b> <br><br>  In <i>Controllers \ StudentController.cs,</i> replace the Index method code. <br><br><pre> <code class="hljs javascript">public ViewResult Index(string sortOrder, string searchString) { ViewBag.NameSortParm = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.IsNullOrEmpty(sortOrder) ? <span class="hljs-string"><span class="hljs-string">"Name desc"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>; ViewBag.DateSortParm = sortOrder == <span class="hljs-string"><span class="hljs-string">"Date"</span></span> ? <span class="hljs-string"><span class="hljs-string">"Date desc"</span></span> : <span class="hljs-string"><span class="hljs-string">"Date"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> students = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> db.Students select s; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.IsNullOrEmpty(searchString)) { students = students.Where(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName.ToUpper().Contains(searchString.ToUpper()) || s.FirstMidName.ToUpper().Contains(searchString.ToUpper())); } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (sortOrder) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Name desc"</span></span>: students = students.OrderByDescending(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Date"</span></span>: students = students.OrderBy(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.EnrollmentDate); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Date desc"</span></span>: students = students.OrderByDescending(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.EnrollmentDate); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: students = students.OrderBy(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(students.ToList()); }</code> </pre><br>  We have added a searchString parameter to the Index method, a slander in the LINQ statement, which selects only those students whose first or last name contains the search string.  The search string is derived from a text field that you later add to the view.  The code that adds the where clause to the query is executed only if the search value is set: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.IsNullOrEmpty(searchString)) { students = students.Where(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName.ToUpper().Contains(searchString.ToUpper()) || s.FirstMidName.ToUpper().Contains(searchString.ToUpper())); }</code> </pre><br><blockquote>  The Contains implementation of the .NET Framework returns all the records when you pass an empty string to it, but the Entity Framework provider for SQL Server Compact 4.0 returns an empty set for the empty string.  In addition, the implementation in the .NET Framework makes case-sensitive comparisons, unlike the SQL Server Entity Framework providers, which by default make case-insensitive comparisons. </blockquote><br><h4>  Add search to view </h4><br>  In <i>Views</i> <i>\</i> <i>Student</i> <i>\</i> <i>Index</i> <i>.</i>  <i>cshtml</i> right before the opening table tag add a header, a text field and a Search button: <br><br><pre> <code class="html hljs xml">@using (Html.BeginForm()) { <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> Find by name: @Html.TextBox("SearchString")  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Search"</span></span></span><span class="hljs-tag"> /&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> }</code> </pre><br>  Run the project, enter something in the search bar and click on the Search button to make sure that the filtering works. <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/380/dcc/708/380dcc70887ba0f2033190b2e233227a.png" width="374" height="350"><br><br><h4>  Add paging </h4><br>  To do this, you must first install the PagedList NuGet package, then make changes to the Index method and add links to the page view. <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/366/5e5/c33/3665e5c33b0cd2ab05c4792942bca129.png" width="348" height="350"><br><br><h4>  Install NuGet Package NuGet Package </h4><br>  The <b>PagedList</b> NuGet package sets the type of the PagedList collection.  When you add query results to a collection of this type, you are presented with a set of properties and methods to ensure that the results are broken down into pages. <br><br>  In Visual Studio, select the project.  Then click on the <b>Tools</b> menu item <b>Library Package Manager</b> and then the <b>Add Library Package Reference</b> . <br><br>  In the <b>Add Library Package Reference,</b> click the <b>Online</b> tab on the left and enter "pagedlist" in the search bar.  As soon as the <b>PagedList</b> package <b>appears,</b> click <b>Install</b> . <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/e2e/191/d27/e2e191d272d809c5384d015e566866e3.png" width="481" height="350"><br><br><h4>  Add paging functionality to the Index method </h4><br>  In <i>Controllers \ StudentController.cs,</i> add using PagedList: <br><br>  using PagedList; <br><br>  Replace the Index Method Code: <br><br><pre> <code class="hljs javascript"> public ViewResult Index(string sortOrder, string currentFilter, string searchString, int? page) { ViewBag.CurrentSort = sortOrder; ViewBag.NameSortParm = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.IsNullOrEmpty(sortOrder) ? <span class="hljs-string"><span class="hljs-string">"Name desc"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>; ViewBag.DateSortParm = sortOrder == <span class="hljs-string"><span class="hljs-string">"Date"</span></span> ? <span class="hljs-string"><span class="hljs-string">"Date desc"</span></span> : <span class="hljs-string"><span class="hljs-string">"Date"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Request.HttpMethod == <span class="hljs-string"><span class="hljs-string">"GET"</span></span>) { searchString = currentFilter; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { page = <span class="hljs-number"><span class="hljs-number">1</span></span>; } ViewBag.CurrentFilter = searchString; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> students = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> db.Students select s; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.IsNullOrEmpty(searchString)) { students = students.Where(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName.ToUpper().Contains(searchString.ToUpper()) || s.FirstMidName.ToUpper().Contains(searchString.ToUpper())); } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (sortOrder) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Name desc"</span></span>: students = students.OrderByDescending(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Date"</span></span>: students = students.OrderBy(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.EnrollmentDate); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Date desc"</span></span>: students = students.OrderByDescending(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.EnrollmentDate); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: students = students.OrderBy(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> s.LastName); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } int pageSize = <span class="hljs-number"><span class="hljs-number">3</span></span>; int pageIndex = (page ?? <span class="hljs-number"><span class="hljs-number">1</span></span>) - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(students.ToPagedList(pageIndex, pageSize)); }</code> </pre><br>  Added the page parameter, which carries information about the parameter that is currently being sorted, and a parameter in the method signature: <br><br>  public ViewResult Index (string sortOrder, string currentFilter, string searchString, int? page) <br><br>  When the page is first called up (or if the user has not clicked on one of the page links), the page variable is null.  After clicking in this variable, the page number is placed. <br><br>  The ViewBag property passes the current sorting parameter to the view for saving it when going to other pages: <br><br>  ViewBag.CurrentSort = sortOrder; <br><br>  The second ViewBag property passes the filtering string to the view so that when you go to another page, the entered search string is not lost and the filtering settings are saved.  In addition, if the search string changes in the case of moving to another page of results, the page number should be dropped to 1, since the new filtering provides a new data set. <br><br><pre> <code class="hljs vbscript"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">Request</span></span>.HttpMethod == <span class="hljs-string"><span class="hljs-string">"GET"</span></span>) { searchString = currentFilter; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { page = <span class="hljs-number"><span class="hljs-number">1</span></span>; } ViewBag.CurrentFilter = searchString;</code> </pre><br>  At the end of the method, the query is converted instead of the List into a PagedList, after which it can be passed into a view that supports splitting the results into pages. <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">int</span></span> pageSize = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-type"><span class="hljs-type">int</span></span> pageIndex = (page ?? <span class="hljs-number"><span class="hljs-number">1</span></span>) - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">View</span></span>(students.ToPagedList(pageIndex, pageSize));</code> </pre><br>  The ToPagedList method passes the page index value, which is 0, unlike the page number, which is 1. Therefore, the code extracts 1 from the page number to get the page index values ‚Äã‚Äã(two question marks indicate the operator defining the default value for the nullable type, thus, the expression (page ?? 1) returns the value of page if it has a value, or 1 if page is null. In other words, set pageIndex to page - 1 if page is not null, or set it to 1 -1 if it is null) <br><br><h4>  Adding links to pages on the view </h4><br>  In <i>Views</i> <i>\</i> <i>Student</i> <i>\</i> <i>Index</i> <i>.</i>  <i>cshtml</i> replace the source code with: <br><br><pre> <code class="html hljs xml">@model PagedList.IPagedList<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContosoUniversity.Models.Student</span></span></span><span class="hljs-tag">&gt;</span></span> @{ ViewBag.Title = "Students"; } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>Students<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.ActionLink("Create New", "Create") <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> @using (Html.BeginForm()) { <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> Find by name: @Html.TextBox("SearchString", ViewBag.CurrentFilter as string)  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Search"</span></span></span><span class="hljs-tag"> /&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.ActionLink("Last Name", "Index", new { sortOrder=ViewBag.NameSortParm, currentFilter=ViewBag.CurrentFilter }) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> First Name <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.ActionLink("Enrollment Date", "Index", new { sortOrder = ViewBag.DateSortParm, currentFilter = ViewBag.CurrentFilter }) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> @foreach (var item in Model) { <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.ActionLink("Edit", "Edit", new { id=item.StudentID }) | @Html.ActionLink("Details", "Details", new { id=item.StudentID }) | @Html.ActionLink("Delete", "Delete", new { id=item.StudentID }) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.DisplayFor(modelItem =&gt; item.LastName) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.DisplayFor(modelItem =&gt; item.FirstMidName) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.DisplayFor(modelItem =&gt; item.EnrollmentDate) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> } <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> Page @(Model.PageCount <span class="hljs-tag"><span class="hljs-tag">&lt; </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Model.PageNumber</span></span></span><span class="hljs-tag"> ? </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Model.PageNumber</span></span></span><span class="hljs-tag">) </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">of</span></span></span><span class="hljs-tag"> @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Model.PageCount</span></span></span><span class="hljs-tag"> @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span><span class="hljs-tag"> (</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Model.HasPreviousPage</span></span></span><span class="hljs-tag">) { @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Html.ActionLink</span></span></span><span class="hljs-tag">("&lt;&lt;", "</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Index</span></span></span><span class="hljs-tag">", </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">new</span></span></span><span class="hljs-tag"> { </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">page</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">1,</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sortOrder</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ViewBag.CurrentSort,</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">currentFilter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ViewBag.CurrentFilter</span></span></span><span class="hljs-tag"> }) @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Html.Raw</span></span></span><span class="hljs-tag">(" "); @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Html.ActionLink</span></span></span><span class="hljs-tag">("&lt; </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Prev</span></span></span><span class="hljs-tag">", "</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Index</span></span></span><span class="hljs-tag">", </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">new</span></span></span><span class="hljs-tag"> { </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">page</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">Model.PageNumber</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span><span class="hljs-tag">, </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sortOrder</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ViewBag.CurrentSort,</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">currentFilter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ViewBag.CurrentFilter</span></span></span><span class="hljs-tag"> }) } </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span><span class="hljs-tag"> { @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span><span class="hljs-tag">&lt;&lt; @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Html.Raw</span></span></span><span class="hljs-tag">(" "); @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span><span class="hljs-tag">&lt; </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Prev</span></span></span><span class="hljs-tag"> } @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span><span class="hljs-tag"> (</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Model.HasNextPage</span></span></span><span class="hljs-tag">) { @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Html.ActionLink</span></span></span><span class="hljs-tag">("</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Next</span></span></span><span class="hljs-tag"> &gt;</span></span>", "Index", new { page = Model.PageNumber + 1, sortOrder = ViewBag.CurrentSort, currentFilter=ViewBag.CurrentFilter }) @Html.Raw(" "); @Html.ActionLink("&gt;&gt;", "Index", new { page = Model.PageCount, sortOrder = ViewBag.CurrentSort, currentFilter=ViewBag.CurrentFilter }) } else { @:Next &gt; @Html.Raw(" ") @:&gt;&gt; } <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The @model statement indicates that the view takes an object of type PagedList as an input instead of an object of type List. <br><br>  The text string is initialized with the current search string so that the user can move from page to page without losing the search string: <br><br>  Find by name: <a href="http://habrahabr.ru/users/html/" class="user_link">Html</a> .TextBox ("SearchString", ViewBag.CurrentFilter as string) &amp; nbsp; <br><br>  The links in the column headers use the query string to transfer the current search string to the controller so that the user can sort the results returned by the filter mechanism: <br><br>  <a href="http://habrahabr.ru/users/html/" class="user_link">Html</a> .ActionLink ("Last Name", "Index", new {sortOrder = ViewBag.NameSortParm, currentFilter = ViewBag.CurrentFilter}) <br><br>  In the ‚Äúbasement‚Äù of the page there is an entry showing the page number and navigation links: <br><br>  <b>Page <i>[current page number]</i> of <i>[total number of pages]</i> &lt;&lt; &lt;Prev Next&gt; &gt;&gt;</b> <br><br>  <b>&lt;&lt;</b> - link to the first page, <b>&lt;</b> <b>Prev</b> <b>-</b> link to the previous page, and so on.  If the user is on page number 1, links to previous pages are not available, and also for the last page.  Each link to the page transmits the number of the selected page and the current data on filtering and sorting to the controller in the query string, thus allowing you to manage this data during the pagination process. <br><br>  If there are no results, the inscription "Page 0 of 0" is displayed. <br><br>  Run the project. <br><br><img title="image" alt="image" src="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-44-06-metablogapi/7080.image_5F00_5C80F73E.png" width="348" height="350"><br><br>  Click links to pages in different sorting modes and enter any search string to make sure everything works in conjunction. <br><br><h4>  Creating a page with statistics </h4><br>  On the About page we will show how many students have signed up for each recording date.  This requires grouping and small calculations, for which we must do the following: <br><ul><li>  Create a class with a view model for the data that we will pass to the view </li><li>  Change the code of the About method in the Home controller. </li><li>  Change the View code for About. </li></ul><br><h4>  Creating a view model </h4><br>  Create a <i>ViewModels</i> folder and create an <i>EnrollmentDateGroup</i> file in it <i>.</i>  <i>cs</i> with the following content: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.ComponentModel.DataAnnotations; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">ContosoUniversity.ViewModels</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">EnrollmentDateGroup</span></span> { [DisplayFormat(DataFormatString = <span class="hljs-string"><span class="hljs-string">"{0:d}"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime? EnrollmentDate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> StudentCount { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre><br><h4>  Change Home Controller </h4><br>  In <i>HomeController</i> <i>.</i>  <i>cs</i> add necessary using: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ContosoUniversity.DAL; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ContosoUniversity.Models; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ContosoUniversity.ViewModels;</code> </pre><br>  Add a variable with the database context: <br><br>  private SchoolContext db = new SchoolContext (); <br><br>  Replace the About method code with: <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">About</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> student <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> db.Students <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> student <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> student.<span class="hljs-function"><span class="hljs-function">EnrollmentDate </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">into</span></span></span><span class="hljs-function"> dateGroup </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">select</span></span></span><span class="hljs-function"> new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EnrollmentDateGroup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { EnrollmentDate = dateGroup.Key, StudentCount = dateGroup.Count() }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(data); }</code> </pre><br>  LINQ statements group students' entities by date of record, then calculate the number of entities in each group and save the result in an EnrollmentDateGroup. <br><br><h4>  Changing the View Code </h4><br>  Replace the code in the <i>Views \ Home \ About.cshtml</i> file with: <br><br><pre> <code class="html hljs xml">@model IEnumerable<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContosoUniversity.ViewModels.EnrollmentDateGroup</span></span></span><span class="hljs-tag">&gt;</span></span> @{ ViewBag.Title = "Student Body Statistics"; } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>Student Body Statistics<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> Enrollment Date <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> Students <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> @foreach (var item in Model) { <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> @String.Format("{0:d}", item.EnrollmentDate) <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> @item.StudentCount <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> } <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Run the project. <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/855/ce1/d77/855ce1d77a05dd0813a8be57b5272abe.png" width="388" height="350"><br><br>  Thanks for the help in the translation of Alexander Belotserkovsky ( <a href="http://habrahabr.ru/users/ahriman/" class="user_link">ahriman</a> ). </div><p>Source: <a href="https://habr.com/ru/post/133845/">https://habr.com/ru/post/133845/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133839/index.html">The state search took place: an e-government or state search bot began walking on Runet</a></li>
<li><a href="../133841/index.html">Technology company implements the policy ‚Äúwork without Email‚Äù</a></li>
<li><a href="../133842/index.html">Statistics about iOS devices and OS versions from Instapaper</a></li>
<li><a href="../133843/index.html">Solar battery creeping beetle</a></li>
<li><a href="../133844/index.html">New youtube interface</a></li>
<li><a href="../133846/index.html">The evening school of Windows Phone returns in a new format</a></li>
<li><a href="../133847/index.html">Providers and court decisions</a></li>
<li><a href="../133848/index.html">New version of VDI-in-a-Box</a></li>
<li><a href="../133849/index.html">PHPShop online store can now be synchronized with R-Keeper StoreHouse</a></li>
<li><a href="../133850/index.html">Getting Realization Experience. Part 2 of 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>