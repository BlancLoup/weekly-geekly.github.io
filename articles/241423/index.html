<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a package for Laravel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi Habr! 

 The Laravel framework is quickly gaining popularity and has already gained a large army of fans. In this article, I will describe the deve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a package for Laravel</h1><div class="post__text post__text-html js-mediator-article">  Hi Habr! <br><br>  The Laravel framework is quickly gaining popularity and has already gained a large army of fans.  In this article, I will describe the development of a simple package for Laravel, as well as the publication of the package we created on packagist.org, in order to add our package to a project in one line in composer.json. <br><br><h4>  So, what is all this about </h4><br>  Packages are the main way to add new functionality to Laravel, as the official <a href="http://laravel.com/docs/4.2/packages">documentation</a> tells us.  We will create a package specifically for Laravel, it will be a simple blog with a list of posts and a page for viewing the article.  We do not aim to write an excellent, universal blog with a lot of opportunities for customization, we will only consider all the details of creating a package as an independent extension that will help in the future to avoid duplication of code in our projects, while solving routine tasks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>As a result, we get <a href="http://80.240.131.96/blog">it</a></i> . <br><br><img src="//habrastorage.org/files/f5d/f93/117/f5df93117632430dacd4f398a9326b23.png"><br><a name="habracut"></a><br><h4>  What we learn </h4><br><ul><li>  How to create a package that extends the functionality of the project; </li><li>  Let's get acquainted with the basic structure inside the package; </li><li>  We will understand how to add your own routes; </li><li>  We learn where to store templates; </li><li>  Let us show composer what classes we need to add to autoload; </li><li>  Let's create migrations and fill the tables with initial data; </li><li>  Let's make available external resources (css, js files) of the package. </li></ul><br><habracut><br><h4>  Required Tools </h4><br>  I am developing for MacOS, using IDE PhpStorm, and the site itself will spin on the official Vagrant box - <a href="http://laravel.com/docs/4.2/homestead">Homestead</a> . <br>  On Habr√© there were already useful <a href="http://habrahabr.ru/post/225627/">articles</a> on how to configure the Vagrant image, as well as how to <a href="http://habrahabr.ru/post/197454/">install</a> Laravel itself. <br><br><h4>  What will ultimately represent our package? </h4><br><h5>  It will have two routes: </h5><br><ul><li>  Page with a list of posts; </li><li>  Separate post page. </li></ul><br><br><h5>  Several templates: </h5><br><ul><li>  The overall layout of the blog; </li><li>  Page with a list of entries; </li><li>  A brief view of the entry in the list of posts; </li><li>  Full view of the record. </li></ul><br><br><h5>  One Post model with fields: </h5><br><ul><li>  Post title </li><li>  Unique link post </li><li>  Entry text </li><li>  Time of creation </li><li>  Update time </li></ul><br><br>  As well as the calculated field cut, where the first 120 characters are taken from the text of the record. <br>  In addition to everything, we will create a controller class that will group the page display logic, an additional <a href="http://laravel.com/docs/4.2/responses">compiler</a> file, to bind the necessary data to our templates. <br>  Finally, we will create a table migration file with posts, as well as a seed class with a certain amount of initial data. <br>  Let's publish the package styles in the public folder of the application. <br><br><h4>  Getting Started </h4><br>  So, Laravel is installed, your favorite IDE is open and we can start. <br><br><img src="https://habrastorage.org/files/21a/e9c/fb4/21ae9cfb489e47d5af4dad98c7e970c7.png"><br><br>  Let's write in the <i>app / config / workbench.php</i> file the <b>name</b> and <b>email</b> parameters, later they will be used in <i>composer.json</i> for your package. <br>  Enter these parameters in the console: <br><br><pre><code class="bash hljs">php artisan workbench vendor/package --resources</code> </pre> <br>  Where <b>vendor is the</b> name of the service provider, <b>package</b> is the name of the package you are creating. <br><br>  For example, my github login is <b>cherryoff</b> , and the package I create is called <b>nbblog</b> , so I have to execute the command: <br><br><pre> <code class="bash hljs">php artisan workbench --resources cherryoff/nbblog</code> </pre><br><br><img src="https://habrastorage.org/files/75b/fd3/83c/75bfd383cd6c4dea8bd4d2e23ee9b7ef.png"><br><br>  Where the resourses flag says that you also need to create Laravel-specific folders: migrations, views, config, etc. <br>  If everything went smoothly, then at the root of the project you will see: <br><br><img src="https://habrastorage.org/files/241/fdf/fe2/241fdffe2b7642b0b9845f82928d5382.png"><br><br>  In order for Laravel to automatically load our package when we start the application, we need to add the line to the file <i>app / config / app.php</i> in the <i>providers</i> array: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'Cherryoff\Nbblog\NbblogServiceProvider'</span></span>,</code> </pre><br><br>  The service provider's class names follow the <b>[Package] ServiceProvider</b> scheme, but before that the full class namespace is specified <br><br><h4>  Package structure </h4><br>  In the src folder we can see the familiar folder structure whose names speak for themselves. <br>  Note that the class of our service provider is stored in the <i>src / Cherryoff / Nbblog /</i> folder, as well as all the auxiliary classes of our package are put there. <br>  Let's look at the <i>NbblogServiceProvider</i> class.  The <b>register</b> method will be called as soon as the package has been registered, and the <b>boot</b> method is called each time before processing the request. <br><br><h4>  Focus on creating a blog </h4><br>  Create a <i>routes.php</i> file with two routes in the <i>src</i> folder of our package: <br><pre> <code class="php hljs">Route::get(<span class="hljs-string"><span class="hljs-string">'/blog/'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'as'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'posts_list'</span></span>, <span class="hljs-string"><span class="hljs-string">'uses'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Cherryoff\Nbblog\NbblogController@showList'</span></span> )); Route::get(<span class="hljs-string"><span class="hljs-string">'/blog/{link}'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'as'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'post'</span></span>, <span class="hljs-string"><span class="hljs-string">'uses'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Cherryoff\Nbblog\NbblogController@showPost'</span></span> ))-&gt;where(<span class="hljs-string"><span class="hljs-string">'link'</span></span>, <span class="hljs-string"><span class="hljs-string">'[A-Za-z-_]+'</span></span>);</code> </pre><br><br>  Where, as a controller, we specify the full path to our not yet created controller. <br>  Next, in the <i>controllers</i> folder, create an <b>NbblogController</b> controller with the following contents: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Cherryoff</span></span>\<span class="hljs-title"><span class="hljs-title">Nbblog</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">App</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Routing</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">Redirect</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">Response</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">Request</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">View</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">Input</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">File</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">Session</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">URL</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NbblogController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Posts list'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showPost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($link)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Get post:'</span></span>.$link; } }</code> </pre><br><br>  Great, now we have paths and the controller should respond to us with simple messages.  But if we follow the link <i><a href="http://sandbox.local/blog/">sandbox.local / blog</a></i> , we will get an exception that the page was not found.  The thing is that the application does not know that our package has its own paths, and to fix this, we include the <i>routes.php</i> file at the end of the boot method of the <b>NbblogServiceProvider</b> class: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span>.<span class="hljs-string"><span class="hljs-string">'/../../routes.php'</span></span>;</code> </pre><br><br>  But even after that, nothing will work and we will catch a mistake: <br><br>  <i>Class Cherryoff \ Nbblog \ NbblogController does not exist</i> <br><br>  This is a sign that the composer in our package knows nothing about the newly added controller.  To show the composer where to search for the necessary files, add the line <i>‚Äúsrc / controllers‚Äù</i> to <i>composer.json</i> (our package !!!) in the <i>classmap</i> section, and then execute <br><pre> <code class="bash hljs">composer dump-autoload</code> </pre><br>  Now, if we go to: <br>  <a href="http://sandbox.local/blog/">sandbox.local / blog</a> <br>  then we will see the line: <br>  <i>Post list</i> <br>  Hooray!  This means that the paths work, and our controller picked up! <br>  Next, create a <i>models</i> folder and a <i>Post.php</i> file in it.  The file listing is shown below: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Cherryoff</span></span>\<span class="hljs-title"><span class="hljs-title">Nbblog</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Database</span></span>\<span class="hljs-title"><span class="hljs-title">Eloquent</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Str</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Support</span></span>\<span class="hljs-title"><span class="hljs-title">Facades</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *     */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Post</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Model</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $table = <span class="hljs-string"><span class="hljs-string">'posts'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     protected $appends = array('cut'); //     protected $fillable = array('header', 'link', 'article'); //   public static $rules = array( 'header' =&gt; 'required|max:256', 'link' =&gt; 'required|between:2,32|unique', 'article' =&gt; 'required' ); public function getCutAttribute(){ return Str::limit($this-&gt;attributes['article'], 120); } }</span></span></code> </pre><br><br>  Now you need to add the <i>models</i> folder to the startup section <i>composer.json</i> (you need to add the line " <i>src / controllers</i> " above) of our project and run <i>composer dump-autoload</i> in the same way as we did with the controller. <br><br>  Read more about the Eloquent models can be read on the office site <a href="http://laravel.com/docs/4.2/eloquent">Laravel</a> <br><br>  A line in the console will create a migration for our package: <br><br><pre> <code class="bash hljs"> php artisan migrate:make create_nbblog_posts_table --bench=<span class="hljs-string"><span class="hljs-string">"cherryoff/nbblog"</span></span></code> </pre><br><br>  The newly created migration class has appeared in the <i>src / migrations /</i> folder.  In his method <i>up we</i> write: <br><br><pre> <code class="php hljs">Schema::create(<span class="hljs-string"><span class="hljs-string">'posts'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blueprint $table)</span></span></span><span class="hljs-function"> </span></span>{ $table-&gt;increments(<span class="hljs-string"><span class="hljs-string">'id'</span></span>); $table-&gt;string(<span class="hljs-string"><span class="hljs-string">'link'</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>); $table-&gt;string(<span class="hljs-string"><span class="hljs-string">'header'</span></span>, <span class="hljs-number"><span class="hljs-number">256</span></span>); $table-&gt;text(<span class="hljs-string"><span class="hljs-string">'article'</span></span>); $table-&gt;timestamps(); $table-&gt;softDeletes(); });</code> </pre><br><br>  In the <i>down</i> method: <br><br><pre> <code class="php hljs">Schema::dropIfExists(<span class="hljs-string"><span class="hljs-string">'posts'</span></span>);</code> </pre><br><br>  Thus, in the <i>up</i> method, we create a table with the necessary fields for our model, and in the <i>down</i> method we delete it if it exists. <br><br>  So, it's time to complete our migration: <br><br><pre> <code class="bash hljs">php artisan migrate --bench=<span class="hljs-string"><span class="hljs-string">"cherryoff/nbblog"</span></span></code> </pre><br><br>  If you have correctly configured the database connection, then in the console you will see something like: <br><br><pre> <code class="bash hljs">Migration table created successfully. Migrated: 2014_10_23_115450_create_nbblog_posts_table</code> </pre><br><br>  Now fill the newly created table with the initial data.  To do this, in the src folder, create a seeds folder with the NbblogSeeder.php file with the following contents: <br><br><div class="spoiler">  <b class="spoiler_title">NbblogSeeder.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Cherryoff</span></span>\<span class="hljs-title"><span class="hljs-title">Nbblog</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Database</span></span>\<span class="hljs-title"><span class="hljs-title">Seeder</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NbblogSeeder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Seeder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $posts = [ [ <span class="hljs-string"><span class="hljs-string">'header'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'Header post number one'</span></span>, <span class="hljs-string"><span class="hljs-string">'link'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'one'</span></span>, <span class="hljs-string"><span class="hljs-string">'article'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">' In condimentum facilisis porta. Sed nec diam eu diam mattis viverra. Nulla fringilla, orci ac euismod semper, magna diam porttitor mauris, quis sollicitudin sapien justo in libero. Vestibulum mollis mauris enim. Morbi euismod magna ac lorem rutrum elementum. Donec viverra auctor lobortis. Pellentesque eu est a nulla placerat dignissim. Morbi a enim in magna semper bibendum. Etiam scelerisque, nunc ac egestas consequat, odio nibh euismod nulla, eget auctor orci nibh vel nisi. Aliquam erat volutpat. Mauris vel neque sit amet nunc gravida congue sed sit amet purus. Quisque lacus quam, egestas ac tincidunt a, lacinia vel velit. Aenean facilisis nulla vitae urna tincidunt congue sed ut dui. Morbi malesuada nulla nec purus convallis consequat. Vivamus id mollis quam. Morbi ac commodo nulla. In condimentum orci id nisl volutpat bibendum. Quisque commodo hendrerit lorem quis egestas. Maecenas quis tortor arcu. Vivamus rutrum nunc non neque consectetur quis placerat neque lobortis. Nam vestibulum, arcu sodales feugiat consectetur, nisl orci bibendum elit, eu euismod magna sapien ut nibh. Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula egestas tincidunt. Nullam risus magna, ornare vitae varius eget, scelerisque. '</span></span>, ], [ <span class="hljs-string"><span class="hljs-string">'header'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'Very important news'</span></span>, <span class="hljs-string"><span class="hljs-string">'link'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'news'</span></span>, <span class="hljs-string"><span class="hljs-string">'article'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">' Donec congue lacinia dui, a porttitor lectus condimentum laoreet. Nunc eu ullamcorper orci. Quisque eget odio ac lectus vestibulum faucibus eget in metus. In pellentesque faucibus vestibulum. Nulla at nulla justo, eget luctus tortor. Nulla facilisi. Duis aliquet egestas purus in blandit. Curabitur vulputate, ligula lacinia scelerisque tempor, lacus lacus ornare ante, ac egestas est urna sit amet arcu. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed molestie augue sit amet leo consequat posuere. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Proin vel ante a orci tempus eleifend ut et magna. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus luctus urna sed urna ultricies ac tempor dui sagittis. In condimentum facilisis porta. Sed nec diam eu diam mattis viverra. Nulla fringilla, orci ac euismod semper, magna diam porttitor mauris, quis sollicitudin sapien. '</span></span>, ], ]; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($posts <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $post){ Post::create($post); } } }</code> </pre><br></div></div><br><br>  Add the <i>seeds</i> folder to the startup section <i>composer.json</i> and run it again <br><pre> <code class="bash hljs">composer dump-autoload</code> </pre><br>  Now load the initial data with the command: <br><br><pre> <code class="bash hljs"> php artisan db:seed --class=<span class="hljs-string"><span class="hljs-string">"\Cherryoff\Nbblog\NbblogSeeder"</span></span></code> </pre><br><br>  If we did everything right, then everything ended without errors. <br><br>  Create view templates for our blog by placing them in the <i>src / views</i> folder: <br><br>  <i>layout.blade.php</i> <br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'http://fonts.googleapis.com/css?family=Lora&amp;subset=latin,cyrillic'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'stylesheet'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'text/css'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> @yield('title') <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>My simple blog<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">small</span></span></span><span class="hljs-tag">&gt;</span></span>Just blog package for Laravel<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">small</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/"</span></span></span><span class="hljs-tag">&gt;</span></span>Main page<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/blog/"</span></span></span><span class="hljs-tag">&gt;</span></span>Blog<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag">&gt;</span></span> @yield('content') <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <i>list.blade.php</i> <br><pre> <code class="html hljs xml">@section('title') List @stop @section('content') <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">small</span></span></span><span class="hljs-tag">&gt;</span></span>Number of posts in the blog: {{$count}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">small</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"posts-list"</span></span></span><span class="hljs-tag">&gt;</span></span> @forelse($posts as $post) @include('nbblog::preview') @empty <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>No records<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> @endforelse <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> @stop</code> </pre><br><br>  <i>preview.blade.php</i> <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">small</span></span></span><span class="hljs-tag">&gt;</span></span>{{$post-&gt;created_at}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">small</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/blog/{{$post-&gt;link}}"</span></span></span><span class="hljs-tag">&gt;</span></span>{{$post-&gt;header}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{$post-&gt;cut}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  <i>post.blade.php</i> <br><pre> <code class="html hljs xml">@section('title') {{$header}} @stop @section('content') <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post-block"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">small</span></span></span><span class="hljs-tag">&gt;</span></span>{{$created_at}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">small</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>{{$header}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> {{$article}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> @stop</code> </pre><br><br>  I would like to note that you need to refer to the types of package: <br>  <i>package_name :: path_to_file</i> , in our case: <br><br>  <i>nbblog :: preview</i> <br><br>  So, with the templates finished, you can now start filling them with data.  To do this, create a file <i>viewComposers.php</i> right in the <i>src</i> folder.  (We can create this file anywhere in our package, the main thing is not to forget to connect it). <br><br>  <i>viewComposers.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** *          */</span></span> View::composer(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'nbblog::list'</span></span>, <span class="hljs-string"><span class="hljs-string">'nbblog::post'</span></span>), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span></span>{ $view-&gt;with(<span class="hljs-string"><span class="hljs-string">'uri'</span></span>, <span class="hljs-string"><span class="hljs-string">'blog'</span></span>); }); View::composer(<span class="hljs-string"><span class="hljs-string">'nbblog::list'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($view)</span></span></span><span class="hljs-function"> </span></span>{ $view-&gt;with(<span class="hljs-string"><span class="hljs-string">'count'</span></span>, \Cherryoff\Nbblog\Post::count())-&gt;with(<span class="hljs-string"><span class="hljs-string">'posts'</span></span>, \Cherryoff\Nbblog\Post::all()); });</code> </pre><br><br>  We just tied the variable uri to the template of the list of posts and the template of the post (later, when we get this variable from the settings, it will be more convenient for us to transfer it to views in one place) and together with the template of the list of posts we give all the records at once. <br><br>  Now you need to connect the created file in the class of our service provider ( <i>src / Cherryoff / Nbblog / NbblogServiceProvider.php</i> ), just as we did with the <i>route.php</i> file. <br><br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** *   viewComposers */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span>.<span class="hljs-string"><span class="hljs-string">'/../../viewComposers.php'</span></span>;</code> </pre><br><br>  We change the class of our controller so that it looks something like this: <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NbblogController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;layout = View::make(<span class="hljs-string"><span class="hljs-string">'nbblog::layout'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;layout-&gt;content = View::make(<span class="hljs-string"><span class="hljs-string">'nbblog::list'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showPost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($link)</span></span></span><span class="hljs-function"> </span></span>{ $post = Post::where(<span class="hljs-string"><span class="hljs-string">'link'</span></span>, <span class="hljs-string"><span class="hljs-string">'='</span></span>, $link)-&gt;firstOrFail(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;layout-&gt;content = View::make(<span class="hljs-string"><span class="hljs-string">'nbblog::post'</span></span>, $post); } }</code> </pre><br><br>  Everything, now our blog is ready.  We can evaluate this at: <a href="http://sandbox.local/blog/">sandbox.local / blog</a> <br>  The list of entries is displayed, posts are viewed. <br><br><img src="//habrastorage.org/files/320/ecd/0b4/320ecd0b48424ca5bc5d3c9d2bc9a8a3.png"><br><br>  But it doesn‚Äôt look very good and we would like to fix it.  To do this, in the public folder of our package, create a css folder and add the <i>main.css</i> file with the following contents: <br><br><div class="spoiler">  <b class="spoiler_title">main.css</b> <div class="spoiler_text"><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: <span class="hljs-string"><span class="hljs-string">'Lora'</span></span>, <span class="hljs-string"><span class="hljs-string">"Times New Roman"</span></span>, serif; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#383840</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#F2F2F2</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#676673</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#383840</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">span</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">small</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#B8B8BF</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.content</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">600px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> auto; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">header</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">header</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">5px</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">nav</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: auto; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> auto; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">nav</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">nav</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">list-style</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline-block; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">20px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.posts-list</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.posts-list</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">list-style</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">border-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">1px</span></span> dotted <span class="hljs-number"><span class="hljs-number">#B8B8BF</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">60px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.posts-list</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">span</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post-block</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">span</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline-block; <span class="hljs-attribute"><span class="hljs-attribute">border-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">1px</span></span> dotted <span class="hljs-number"><span class="hljs-number">#B8B8BF</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.posts-list</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">span</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">small</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post-block</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">span</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">small</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#F2F2F2</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.posts-list</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h2</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; } <span class="hljs-selector-class"><span class="hljs-selector-class">.posts-list</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">text-decoration</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span> <span class="hljs-number"><span class="hljs-number">20px</span></span>; }</code> </pre><br></div></div><br><br>  Let's publish the external resources of our package with the command: <br><br><pre> <code class="bash hljs">php artisan asset:publish --bench=<span class="hljs-string"><span class="hljs-string">"cherryoff/nbblog"</span></span></code> </pre><br><br>  Perhaps we did not notice this, but the <i>main.css</i> file appeared in the <i>public</i> folder of our application, which is located in the <i>packages / cherryoff / nbblog / css /</i> folder <br>  As you had time to guess, this is how laravel does with all external package resources.  This means that this naming convention for external resources will help us access this file from our template. <br><br>  In the <i>layout.blade.php</i> template before the <b>title</b> tag, <i>insert the</i> line: <br><br><pre> <code class="html hljs xml">{{ HTML::style('/packages/cherryoff/nbblog/css/main.css') }}</code> </pre><br><br>  This is the path to our file in the <i>public</i> folder of our application. <br><br>  If we refresh the page, we‚Äôll see the simplest blog we‚Äôve just created. <br><br><img src="//habrastorage.org/files/f5d/f93/117/f5df93117632430dacd4f398a9326b23.png"><br><br>  With styles, he began to look noticeably better. <br>  In the form of homework, you will need to create a settings file with the blog url settings and template names, which will make it possible to change the path to the blog on your website, as well as use your templates for displaying content. <br><br>  <a href="https://github.com/cherryoff/nbblog">Here</a> you can see the project on github. <br>  Live <a href="http://80.240.131.96/blog">demo</a> . <br>  Or just add a dependency to your Laravel project's composer.json line: <i>"cherryoff / nbblog": "dev-master"</i> <br><br><h4>  Total </h4><br>  So, we learned how to create packages for Laravel, saw what the package consists of, now it is not difficult to fork a third-party package and adapt it to fit your needs.  We saw how the routing happens in the package, learned how to show the composer where to get the files for autoloading, learned how the migrations and seeds are done as part of the package, and also published our resources in the <i>public</i> folder of our application. <br><br>  The article turned out a little more than I planned, so a little about what I will tell in the following articles: <br><ul><li>  I will show how to make the package settings and provide the ability to change them to the user without touching the package files themselves; </li><li>  Let's deploy the git repository in the package folder; </li><li>  And write the whole thing on Github; </li><li>  If you wish, we will publish the newly created package in packagist; </li><li>  Enable auto update package packagist when updating to github; </li><li>  Let's roll our package on pure Laravel. </li></ul><br><br>  If this turns out to be interesting, then we will expand the functionality of our package: <br><ul><li>  Add tags to posts; </li><li>  Add an interface to add / edit / delete posts; </li><li>  Let's make our package more customizable. </li></ul><br><br>  Hope not tired, clean code! <br><br><h4>  References used in writing this article. </h4><br>  <a href="http://laravel.com/">Laravel website</a> ; <br>  <a href="http://laravel.ru/docs/v4/packages">Translation of official documentation</a> ; <br>  <a href="http://habrahabr.ru/post/197454/">Introduces the situation</a> ; <br>  <a href="http://habrahabr.ru/post/225627/">Talks about Homestead</a> . </habracut></div><p>Source: <a href="https://habr.com/ru/post/241423/">https://habr.com/ru/post/241423/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../241411/index.html">Watch Translation in Russia October 26 and Java</a></li>
<li><a href="../241413/index.html">How does safe payment acceptance in the online store</a></li>
<li><a href="../241415/index.html">Droidutils - a set of solutions that accelerate the development of applications for Android</a></li>
<li><a href="../241419/index.html">My little story of the development and publication of mobile games</a></li>
<li><a href="../241421/index.html">Endorphin flow mechanics on the example of three space games</a></li>
<li><a href="../241427/index.html">VexorCI - What's new?</a></li>
<li><a href="../241433/index.html">Upgrade the rack solutions OCP and OCS</a></li>
<li><a href="../241437/index.html">Raspberry Pi - what can be done on the basis of ‚Äúraspberry‚Äù?</a></li>
<li><a href="../241441/index.html">IBM and AairLight Energy are working to create an integrated technology HCPVT, which is a desalination plant, solar battery and cooler</a></li>
<li><a href="../241443/index.html">Dnipropetrovsk Ciklum Speakers' Corner ‚ÄúIntro to WebGL with THREE.js (based on Source's‚Äú Leaderboard in Reception ‚Äù)‚Äù, October 30</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>