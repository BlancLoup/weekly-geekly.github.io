<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why it is impossible to set the font size of the visited link</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! I present to you the translation of the article " Jim Fisher's " Why can't I set the font size of a visited link? " 



 Visited links are d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why it is impossible to set the font size of the visited link</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  I present to you the translation of the article <a href="https://jameshfisher.com/2019/03/08/why-cant-i-set-the-font-size-of-a-visited-link/">"</a> Jim Fisher's <a href="https://jameshfisher.com/2019/03/08/why-cant-i-set-the-font-size-of-a-visited-link/">" Why can't I set the font size of a visited link? "</a> <br><br><img src="https://habrastorage.org/webt/cr/q9/d-/crq9d-1dukzxswwmpibb09uy11e.jpeg"><br><br>  Visited links are displayed in purple;  not visited - blue.  This distinction has come to us since the advent of the web.  But CSS allows us to reconfigure these properties using the pseudo-selector: visited!  Let's say you want to make the visited links gray and reduce their size in order to show the user that this link has already been visited. <br><a name="habracut"></a><br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:visited</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: gray; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">6px</span></span>; }</code> </pre> <br>  This style is applied to the current page: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/westtrade/embed/preview/zbePXG" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Coloring the link in gray, as expected, informs us that it has already been visited, but the font size remains the same!  This happens because changing the font size may be the cause of the vulnerability!  If CSS can change the font size, I (Jim) can tell if you have visited pornhub.com.  But how? <br><br>  Web pages are available for inspecting the items displayed on the page.  The most obvious way is to use window.getComputedStyle ().  He talks about the properties applied to the above visited link;  as reported by the browser: font-size: 18px;  color: rgb (0, 0, 238). <br><br>  If getComputedStyle reports a font size change from 18px to 6px for the visited links, I (Jim) will understand that the page has created a link to pornhub.com, then I will check the font size in order to determine the browsing history of your browser.  I can use this data for targeted advertising, I can sell your data or blackmail you, and so on ... The security hole was closed by banning the font-size change for a: visited. <br><br>  But the information obtained with getComputedStyle about the color of the visited link will be: rgb (0, 0, 238) - that is, blue.  This is a lie - the link is gray!  For the color property, browsers close a hole in a vulnerability in another way: instead of prohibiting changes, they force getComputedStyle to lie about the real value. <br><br>  Why two approaches are used?  Why can't we force getComputedStyle to lie about the font-size parameter too?  The reason is that you can explore the displayed elements of the web page and other methods, except getComputedStyle.  The position of the element on the page can also be checked using .pageXOffset or .pageYOffset.  Changing the font-size of the visited link will affect the offset of other elements, which can indirectly check which links were visited.  Turning off the font-size for a: visited is a tough but reliable solution. <br><br>  This <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:visited">link</a> contains a short list of allowed properties, such as color, that should not affect the page layout and cannot be detected.  All of them are different forms of color change.  All other CSS properties are blocked. <br><br>  In theory, there is no way by which it could be determined that the color of the visited link has been changed.  The only possibility is a temporary attack: let's say if a change in color to pink took longer than blue, the page can measure how long it took to display an item, and compare it with the expected duration. <br><br>  <b>PS:</b> <br>  Special thanks for the help in adjusting the translation of <a href="https://www.linkedin.com/in/olga-pereverzeva-46827a102/">Olga Pereverzeva</a> . <br><br>  Thanks to Oleg Yatsenko ( <a href="https://habr.com/ru/users/samber/" class="user_link">Samber</a> ), in the comments he drew attention to the fact that the solution to the problem with such data leakage was first implemented in <a href="https://blog.mozilla.org/security/2010/03/31/plugging-the-css-history-leak/">Mozilla</a> - the author of the decision <a href="https://dbaron.org/mozilla/visited-privacy">David Baron</a> . </div><p>Source: <a href="https://habr.com/ru/post/445052/">https://habr.com/ru/post/445052/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445038/index.html">Leaks of secret information found in 100,000 repositories on GitHub</a></li>
<li><a href="../445040/index.html">We build models, ‚Äúsell‚Äù management knowledge management and correct the survivor‚Äôs mistake.</a></li>
<li><a href="../445042/index.html">Delphic programmer success story from Ulan-Ude</a></li>
<li><a href="../445044/index.html">Go application in production systems. Validators</a></li>
<li><a href="../445048/index.html">Delaunay triangulation algorithm using the sweeping line method</a></li>
<li><a href="../445054/index.html">Now AI classifies lung cancer as well as laboratory diagnostics specialists.</a></li>
<li><a href="../445056/index.html">Review of web development courses</a></li>
<li><a href="../445058/index.html">Tesla autopilot learned to determine the change of the strip of neighboring cars</a></li>
<li><a href="../445060/index.html">Organize data retrieval using Spring Data Key-Value Repositories</a></li>
<li><a href="../445064/index.html">The battle for network neutrality - a chance to return</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>