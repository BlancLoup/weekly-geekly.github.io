<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Imports Style Guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wonderful PEP8, which you probably know if you are developing in Python, does not answer all the questions that arise during the coding process. As a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Imports Style Guide</h1><div class="post__text post__text-html js-mediator-article">  Wonderful PEP8, which you probably know if you are developing in Python, does not answer all the questions that arise during the coding process.  As a result, each development team takes PEP8 as a basis and develops its own standards, which it tries to adhere to.  How many teams - so many options.  And this is the necessary artificial frame.  As a grid for a typographer or layout designer - helps the code look clear, consistent and consistent.  In general, code formatting is not the place where you need to show your individuality. <a name="habracut"></a><br><br>  Before asking the main question, dear colleagues, I would like to show some examples of ‚Äúliberties‚Äù that everyone takes for himself (or without a murmur makes some other people's decision). <br><br><pre><code class="python hljs"><span class="hljs-string"><span class="hljs-string">""" Very long multiline description about function or class method """</span></span></code> </pre> <br>  I personally like more than <br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"""Very long multiline description about function or class method """</span></span></code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The distance between the import block and the first function or class is 2 blank lines. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TestCase <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseURLGeneratorTestCase</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(TestCase)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br><br>  The distance between different functions or classes is also 2 blank lines.  The distance between class methods is 1 blank line.  The distance between the class header and the first method is 1 blank line. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestSomething</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(TestCase)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_some_stuff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_another_stuff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br><br>  Enumeration of the elements of a list / tuple / dictionary, etc. - from each new line, if everything does not fit into one: <br><br><pre> <code class="python hljs">records = [first_object, second_object] records = [ first_object, second_object, third_object, fourth_object, ]</code> </pre><br><br>  The same applies to the long logical condition: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( user.is_client() <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> user.has_manager() <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> user.is_banned() <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> user.has_company() ): do_something()</code> </pre><br><br>  If there is a need to break the chain of methods into several lines, the expression is enclosed in brackets.  No backslashes (fu-fu-fu). <br><br><pre> <code class="python hljs">templates = ( EmailTemplate.query .filter(EmailTemplate.type_id == type.id) .order_by(EmailTemplate.title) .all() )</code> </pre><br><br>  A tuple of one element is written as <code>x = (y,)</code> or <code>x = y,</code> but it looks awful, so I prefer in this case to manage the list with <code>x = [y]</code> or the set <code>x = {y}</code> , there are other options. <br><br>  Check for None: <br><pre> <code class="python hljs">x = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x: do_something() <span class="hljs-comment"><span class="hljs-comment">#  if x is not None: do_something() # - </span></span></code> </pre><br><br>  By the way, comments are beaten with two spaces, not just one. <br><br>  Among other things, I love the string method .format ().  <code>'{0}'.format(x)</code> is more to my liking than <code>'%s' % x</code> .  But when the insertion points are more than two, you should use named arguments: <br><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">'{name} {surname}, {address}'</span></span>.format( name=name, surname=surname, address=address, )</code> </pre><br><br>  Implicit string concatenation looks strange, but visually more pleasant concatenation by addition: <br><br><pre> <code class="python hljs">message = _( <span class="hljs-string"><span class="hljs-string">u"    +, "</span></span> <span class="hljs-string"><span class="hljs-string">u"     ?"</span></span> )</code> </pre><br><br>  The dictionary is written as <code>{'key': value, 'another_key': another_value}</code> , and not as <code>dict(key=value, another_key=another_value)</code> .  This is visually cleaner, highlighted by all normal editors as a dictionary, and not as passing named arguments, moreover, the creation of such an object works faster than through dict (). <br><br>  There are more than a dozen of such ‚Äúfaddies‚Äù and I am sure that there will be people ready to challenge them and offer their own vision of kosher code design.  But if by the given examples everything is more or less clear to me, then by design of large (really large) blocks of imports, not everything is clear yet. <br><br>  I met, somehow, in a working draft, a purse of imports in one of the modules. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">... </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> https_wrapper, logout_user <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ajax, sudo_su, sudo_exit, transactional <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> has_auth, get_demo <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> get_user_registration_source_id <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ajax_validate, generate_timed_hash, get_auth_user <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> render_template, check_timed_hash <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> create_validate_response, update_user_in_session <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> prepare_watermark_text ...</code> </pre><br><br>  I thought to myself: ‚ÄúWhat the fuck? ..‚Äù and rewrote as I like. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> lib.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( https_wrapper, logout_user, ajax, sudo_su, sudo_exit, transactional, has_auth, get_demo, )</code> </pre><br><br>  Well, you understand the principle ... <br><br>  For what otgreb during review.  As if the previous version also has the right to life, it is convenient during the time of the year and it seems to be more convenient to read.  I promised to argue my version and just give a link to this post, at the same time and find out what the habrovcians think about it. <br><br>  So.  The idea of ‚Äã‚Äã‚Äúevery object from a new line‚Äù is important.  Firstly, it is beautiful :) Secondly, during the period of the merge it gives its advantages, there is no confusion.  This is a useful property, we need to save it. <br><br>  In the second variant, the module (or package) from which we import is as if the title of the next paragraph of the text (the imported objects).  There is no need to repeat the title each time, we have already seen once from where we import and we have a line-by-line listing of what we import.  If someone needs to add a list of imports from this source, he simply goes to the end of the list, presses Enter and appends his own (+ comma, with the thought of the neighbor).  It looks cleaner, the lines are shorter, read faster, you do not need to add / copy-paste each time a source, which, by the way, can be renamed.  It is not necessary to ignore the part <code>from bla_bla_bla import</code> for each line.  Eyes glide 4 spaces much easier. <br><br>  In general, there are lots of options for processing a block with imports.  A dozen, no less.  How exactly to break lines, by what criteria, whether to sort alphabetically, to transfer or not the opening / closing bracket ... But to some common denominator you need to come, the whole team of developers must adhere to the accepted agreement.  Otherwise anarchy.  I know people who do not bother at all on this matter, since PyCharm has a wonderful auto import and there is a point of view that it doesn‚Äôt matter what happens in this block.  But we have a large team, only I use PyCharm (most are on Sublime, the rest are Vim, Emacs, Eclipse), you need to make sure that everything is comfortable and understandable.  Well, from my point of view, imports are also a code that looks good.  Maintainability, after all.  What do you think? <br><br>  So the poll. </div><p>Source: <a href="https://habr.com/ru/post/167957/">https://habr.com/ru/post/167957/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../167945/index.html">Symbian is dead, but 808 PureView is not yet!</a></li>
<li><a href="../167947/index.html">A nice acquaintance with the Prestigio MultiPhone 5000 DUO DualSim smartphone</a></li>
<li><a href="../167949/index.html">Install CPU-Fan from socket 1155 on LGA775</a></li>
<li><a href="../167951/index.html">In search of the perfect css-framework. Maxmertkit widget manager</a></li>
<li><a href="../167953/index.html">Some features of using virtual machines for beginners</a></li>
<li><a href="../167959/index.html">From Iphone plan to make a computer mouse</a></li>
<li><a href="../167961/index.html">"Clean Internet" in the Kostroma region will be only with the consent of users</a></li>
<li><a href="../167965/index.html">Integration of 1C and B2B systems using HTTPS</a></li>
<li><a href="../167967/index.html">How not to become a defendant under article 128.1 of the Criminal Code of the Russian Federation ‚ÄúSlander‚Äù for repost</a></li>
<li><a href="../167969/index.html">Thoughts on the perfect HTPC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>