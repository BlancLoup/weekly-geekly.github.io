<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to protect your feedback form from attack?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagine such a situation. 

 You come to work, sit down to check your email, expecting to see a response from your partner, a little spam, but instead...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to protect your feedback form from attack?</h1><div class="post__text post__text-html js-mediator-article">  Imagine such a situation. <br><br>  You come to work, sit down to check your email, expecting to see a response from your partner, a little spam, but instead you see this: <strong>Inbox (164,532)</strong> . <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/e57/a8d/9aa/e57a8d9aa0205d67c23ee62bf8c5cb43.jpg" height="221" width="213"><br>  <em>The picture is naturally fake.</em> <br>  And all the mail came from the feedback form of your site.  You have to figure out tens of thousands of letters, and even if they are easily identified and deleted, you will spend a huge amount of time resolving the issue, especially since you need to be careful not to miss the really necessary correspondence. <br><br>  It is easy to calculate how many letters can come from the feedback form from just one computer of an attacker over the weekend. <br><br>  On Friday, the working day ends at 18.00, suppose at 18.30 the office is locked.  On Monday, the working day starts at 9.00, but the office is opened, for example, at 8.00.  In total, we have 61.5 hours that an attacker would, without fear of a quick exposure, take up the case.  Suppose it is spam (and you can even do it with a browser) in 10 threads, i.e.  he can simultaneously send 10 letters.  If he sends letters every three seconds, then on Monday morning, at 8.00, we will find 738,000 letters.  Naturally, there may be more flows, the time between sending letters is less, and there may be dozens or even hundreds of computers involved in this process. <br><br>  But the loss of time is not the worst thing that can happen, you can accidentally delete a client's letter, or an order from a director who is on a long trip.  And the loss of such letters threatens not only the recovery from the employee, but also serious financial losses of the company. <br><br>  Also, from the unfortunate consequences, serious problems may arise with the hosting provider on whose site your website is located.  And if the message from the feedback form goes to the mailbox, which is located on another hosting site (especially if it is free), then your domain can fall into the black lists, from which it is rather troublesome to get out. <br><br>  Similar forms of feedback literally flooded Runet.  There are tens of thousands of them, which means that your company may be among them.  And at any time your workflow can stop at the first wish of the attacker.  After all, e-mail is in most cases the most important means of communication for many companies. <br><br>  Unfortunately, punishing an attacker, even if you know exactly who it is, is almost impossible.  Here is how one of the employees of the St. Petersburg computer crime department commented on this: <br><blockquote>  In fact, today the sphere of computer crimes is a weak place in the legislation of the Russian Federation (and indeed in the world, by and large too) and so far not noticeable significant changes in this area. <br>  At the moment we have three fundamental articles of the Criminal Code related directly to this area. <br><br>  <a href="http://vx.netlux.org/lib/d0003.html">Chapter 28 of the Criminal Code of the Russian Federation</a> . <br>  Computer crimes <br>  Article 272. Illegal access to computer information <br>  Article 273. Creation, use and distribution of computer malware. <br>  Article 274. Violation of the rules for operating a computer, computer system or their network <br><br>  <a href="http://www.consultant.ru/popular/advert/26_2.html">And an additional amendment to the federal law "On Advertising" dated March 13, 2006 No. 38-, introduced on July 1, 2007</a> : <br>  Section 18. Advertising Distributed by Telecommunication Networks and Placed on Mailings <br><br>  Thus, this action committed by a criminal falls under the effect of Article 274. Violation of the rules for operating a computer, computer system or their network, because  with a sufficient number of requests, so-called  DDoS-attack, entailing <br>  <em>(quote: the blocking of computer-protected information by law)</em> and the POSSIBLE punishment, in the form of <br>  <em>(quote: deprivation of the right to occupy certain positions or engage in certain activities for up to five years, or compulsory work for a period of one hundred eighty to two hundred and forty hours, or restraint of liberty for up to two years.)</em> <br><br>  But in this particular case, the case will be terminated almost immediately, due to the actual absence of corpus delicti, since  even if a suspect‚Äôs PC is withdrawn, it will be impossible to find traces of malicious actions that could not be described by the imperfections of this particular software installed on that PC. <br><br>  Even if the injured party insists on continuing the investigation, it will be necessary with 100% accuracy to recreate a situation in which a similar situation may occur, as well as send a request to the software developer who most likely caused the crash and the software developers who directly interact with it. because  the situation was not necessarily or can be caused only by one of the programs, and not by the error of their interaction.  And this, in turn, may take more than one and not two years.  Therefore, it is simply not possible to punish the criminal. </blockquote><br>  Now let's see how the vulnerable feedback form works. <br><br>  In most cases, the feedback form sends information using the POST method, or directly via the mail () function.  We will not go deep into the wilds, but these solutions sin with the possibility of automating the sending of a huge number of letters to the box that receives messages from the feedback form.  Look at the warning from the Firefox2 browser about resending information to the server: <br><img src="https://habrastorage.org/getpro/habr/post_images/1cc/486/411/1cc4864110f6bc1bdd6eaab44d76e218.gif"><br>  <em>Mozilla Firefox 2.0.0.12 Browser</em> <br>  As you understand, simply pressing the F5 button on the keyboard will send you an email again.  Well, automate this process, I repeat, is not at all difficult (at least with the help of Opera). <br><br>  And now let's talk about how to correct the situation without abandoning the feedback form. <br><br>  I offer five options, each option has both positive and negative sides. <br><br>  Option number 1: <br><blockquote>  Ajax <br><br>  Here are a few of them: <br>  AJAX contact form - [ <a href="http://www.roscripts.com/AJAX_contact_form-144.html">Description</a> ] [ <a href="http://www.roscripts.com/uploads/articles/144/">Demo</a> ] <br>  An AJAX contact form - [ <a href="http://www.dustindiaz.com/ajax-contact-form/">Description</a> ] [ <a href="http://www.dustindiaz.com/testJax/">Demo</a> ] <br>  Ajax.Form.Mootools - [ <a href="">Description + Demo</a> ] <br><br>  Good: many ready-made examples;  the message is sent without reloading the page; <br><br>  Bad: if the user has javascript disabled, the form will not work. </blockquote><br>  Option number 2: <br><blockquote>  Redirect. <br><br>  After sending the message - instant redirect to any other page, for example, to a page with a form.  Above the form you can display a message that the letter has been sent. <br><br>  This can be done in several ways, the most clumsy is through META tags: <br><blockquote><pre>  &lt;meta http-equiv = "refresh" content = "0; url = index.html"&gt; </pre><br></blockquote><br>  Good: works, and in most cases helps; <br><br>  Bad: this solution has disgusting usability. </blockquote><br>  Option number 3: <br><blockquote>  Work with the database. <br><br>  The form sends the message not to the mailbox, but adds it to the database.  Accordingly, it is possible to cut spam attempts simply and unpretentiously.  For example, a record is not made to the database if the content completely matches the content of the previous message, provided that the senders have the same IP address, or from the same subnet.  Here you can think of a lot of options.  Messages from the feedback form can be integrated, for example, with CRM. <br><br>  Good: in my opinion a very good defense; <br><br>  It‚Äôs bad: the database is required, the script‚Äôs running time increases, the capacity requirements increase (if the site is popular, especially), you can still be deceived. </blockquote><br>  Option number 4: <br><blockquote>  Cookie. <br><br>  When you click on the "send" button, you can record a cookie to the browser, in the presence of which you can only send the message again after a while. <br><br>  Well: the way works, the potential amount of spam decreases; <br><br>  Bad: cookies can be disabled (specifically or not - but you will not prohibit sending a message just because cookies are disabled), cookies can be erased automatically. </blockquote><br>  Option number 5: <br><blockquote>  Captcha. <br><br>  Captcha (if it is not a curve) will save from spam through a feedback form. <br><br>  Links will help you: <br>  <a href="http://recaptcha.net/">reCaptcha</a> <br>  <a href="http://www.captcha.ru/">CAPTCHA.ru</a> <br>  <a href="http://www.cryptographp.com/" title="http://www.cryptographp.com" rel="nofollow">Cryptographp</a> <br>  <a href="http://www.w3box.ru/" title="http://www.w3box.ru/" rel="nofollow">w3captcha</a> <br><br>  Good: effective way; <br><br>  The bad thing is that I personally am not comfortable with captcha, especially complex captcha can be recognized and circumvented. </blockquote><br><br>  It is worth considering that there is still no absolute panacea, it‚Äôs just that these methods (which, by the way, can be easily upgraded, combined, etc.) will help to isolate themselves from the pranks of young and inexperienced network hooligans. <br>  Thanks <a href="http://habrahabr.ru/users/metalalisa/" class="user_link">metalalisa</a> metalalisa for the addition.  To be honest, I wanted to write about captcha, I forgot :) <br><br>  Cross post from my <a href="http://absolvo.ru/2008-03-18/kak-zashhitit-svoyu-formu-obratnoj-svyazi-ot-ataki/">blog</a> . </div><p>Source: <a href="https://habr.com/ru/post/21934/">https://habr.com/ru/post/21934/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219331/index.html">DARPA turns obsolete drones into flying Wi-Fi access points</a></li>
<li><a href="../219333/index.html">Approximation of the curve in the boom trajectory for the game St.Val</a></li>
<li><a href="../219335/index.html">What else does Heartbleed threaten a simple user with?</a></li>
<li><a href="../219337/index.html">Harmonic vibrations</a></li>
<li><a href="../219339/index.html">Building Global Innovators or do you need 1 million euros?</a></li>
<li><a href="../219341/index.html">In the new build COLT 2.0 (beta 6), extended autocomplete for Angular.js projects appeared - inside {{}} for Sublime Text (2 and 3)</a></li>
<li><a href="../219349/index.html">Micro 3D printer priced at $ 299 collected on Kickstarter more than 2,000,000 dollars in a few days</a></li>
<li><a href="../21935/index.html">Will the astronaut have time to wake everyone up on time?</a></li>
<li><a href="../219351/index.html">7 little things raising sales in our online store</a></li>
<li><a href="../219355/index.html">Newton's MIPS module - Intel's Edison competitor for use in wearable computers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>