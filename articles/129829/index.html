<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automate Flex Applications with Java + Selenium + FlexMonkium</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this post I will describe my research, which I had to do when the project was about testing automation. The project is a web site, the client part ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automate Flex Applications with Java + Selenium + FlexMonkium</h1><div class="post__text post__text-html js-mediator-article">  In this post I will describe my research, which I had to do when the project was about testing automation.  The project is a web site, the client part of which is written in Flex, and the server part in Python (Django). <br><br><h5>  The choice of tools for automation </h5><br>  To begin, consider the path from the beginning, which I went through before I stopped at a bunch of Java + Selenium + FlexMonkium.  And this: <br><br><ul><li>  Selenium + Sfapi </li><li>  Ranorex </li><li>  Flexmonkey </li><li>  Selenium + FlexMonkium </li></ul><br><a name="habracut"></a><br>  The first thing I tried to use as an automation tool was Sfapi (Selenium Flex-API).  It works in conjunction with Selenium RC and some programming language for which there are drivers (Java, C #, Python, Ruby).  Of the benefits it should be noted that this is a free solution that really works.  Among the shortcomings - a lot of code, but little result.  It does not work well with dynamic elements of the application.  The reason for the further search for solutions became large amounts of code that performed simple operations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The next software to automate Flex applications I tried was Ranorex Studio.  This is a very pleasant to use software package with an intuitive interface.  Of the advantages, it is worth noting the rapid creation of tests without knowledge of a programming language using the built-in functionality and the Spy agent (which records the sequence of user actions), finishing the already created tests by converting them to any programming language from the proposed ones ) and good interaction with almost all Flex UI elements (on the forms I met complaints about incorrect work with the DataGrid element, but during the work I was not able to work with it  ).  Among the drawbacks is the high cost of the license, if you need to test the application on different domains (for example, test and main server), you must first make some transformations with the tests so that they start to interact correctly with the application interface.  The high cost of the license was the reason for the further search for solutions. <br><br>  Without waiting for the end of the Ranorex license, I continued my search in the direction of free software and on one of the forums I came across a tip to use FlexMonkey.  There is a short but understandable documentation on their website, as well as a forum with active discussions and live support.  The application itself is written on Adobe Air, has a clear and user-friendly interface. <br><br><img src="https://habrastorage.org/storage1/71103a76/c2c178ad/c9aec5be/5c3cc5d9.jpg"><br><br>  As it turned out, FlexMonkey is very smart, convenient and free.  It correctly supports work with almost all UI components (at least everything worked for me with a bang), but it also has one drawback - tests cannot be improved using any programming language.  In fact, you can use only basic functions, such as checking the properties of components, comparing the values ‚Äã‚Äãof these properties, etc.  But, for example, it will not be possible to count letters in the mail user interface without programming tools.  Here comes the next product from the creators of FlexMonkey, which works in conjunction with Selenium and is called <a href="http://www.gorillalogic.com/flexmonkium">FlexMonkium</a> . <br><br><h5>  Setting up the working environment </h5><br>  In order to start the automation testing of your flex-application, you need to set up a project to interact with Selenium RC + FlexMonkium, as well as prepare a programming environment (for example, I chose the Java language with the Eclipse IDE).  Further, all actions are described in steps: <br><br>  1. <a href="http://seleniumhq.org/download/">Download</a> Selenium RC and Selenium Client Driver for a programming language in which tests will be written (in my case, Java). <br><br>  2. <a href="http://www.gorillalogic.com/flexmonkium/downloads">Download FlexMonkium</a> (in the example version 4.1.8 was used).  The archive contains three components - a folder with .swc libraries, one of which will need to be connected to the Flex project, ‚Äúuser-extensions.js‚Äù, which is an extension for the Selenium server, thanks to which it will ‚Äúunderstand‚Äù the control commands of the flex-application specified in the tests and .xpi plugin, extending the functionality of Selenium IDE for Firefox. <br><br>  3. Open the Flex project in Flash Builder and connect the .swc library from the downloaded archive to the project.  There are several such files in the archive with the same name and number at the end.  The number indicates the version number of the Flex-SDK (in my case it is the fourth version, that is, you need to <a href="http://www.gorillalogic.com/books/flexmonkium-docs/flexmonkey-setup">connect</a> automation_monkey4.x.swc).  After this, we recompile the project and voila - it is ready to interact with the Selenium server. <br><br>  4. Now you need to start the Selenium server with the command extension file, which will allow it to ‚Äúunderstand‚Äù the commands specific to managing the flex-application.  This file is contained in the downloaded FlexMonkium archive and is called ‚Äúuser-extensions.js‚Äù.  It is passed as a parameter in the command line when the server is started.  For these purposes, I created a separate bat file with the following content: <br><br> <code>java -jar C:\Automation\selenium-server-standalone-2.0rc2.jar -userExtensions C:\user-extensions.js</code> <br> <br>  After that, you can safely run the server.  If everything was done correctly, after launching bat, a window like this will hang on the screen: <br><br><img src="https://habrastorage.org/storage1/8c265b0a/c480ceb4/68d0d498/144e29b8.jpg"><br><br>  So, the application under test is ready to interact with the testing automation tools, and Selenium-RC is running and understands the flex-control commands. <br><br><h5>  We create the first test </h5><br>  As a language for writing tests, I chose Java with the Eclipse development environment in conjunction with the JUnit library.  With this combination, the tests worked fine, but after each test JUnit restarted the browser, which was not desirable for me, since many of my tests were a continuation of the previous ones, and I did not like resetting the application state.  After some searches on the forums, I read that this behavior cannot be disabled and I had to stop using JUnit.  In the report, I just needed to know what tests failed, at what steps it happened and how many such errors occurred.  For these purposes, I wrote a special function that outputs this information to the console.  It is called when the test fails (when the test fails, it has a timeout) and Java generated an exception.  As a result, I got this code: <br><br><pre> <code class="hljs smalltalk">import java.awt.event.<span class="hljs-type"><span class="hljs-type">KeyEvent</span></span>; import java.text.<span class="hljs-type"><span class="hljs-type">DateFormat</span></span>; import java.text.<span class="hljs-type"><span class="hljs-type">SimpleDateFormat</span></span>; import java.util.<span class="hljs-type"><span class="hljs-type">Date</span></span>; import com.thoughtworks.selenium.<span class="hljs-type"><span class="hljs-type">DefaultSelenium</span></span>; import com.thoughtworks.selenium.<span class="hljs-type"><span class="hljs-type">HttpCommandProcessor</span></span>; import com.thoughtworks.selenium.<span class="hljs-type"><span class="hljs-type">Selenium</span></span>; public class <span class="hljs-type"><span class="hljs-type">TestRunner</span></span> { private <span class="hljs-type"><span class="hljs-type">Selenium</span></span> selenium; private <span class="hljs-type"><span class="hljs-type">HttpCommandProcessor</span></span> proc; private int errorsFound; //        <span class="hljs-type"><span class="hljs-type">DateFormat</span></span> dateFormat = new <span class="hljs-type"><span class="hljs-type">SimpleDateFormat</span></span>(<span class="hljs-comment"><span class="hljs-comment">"yyyy_MM_dd_HH_ss"</span></span>); <span class="hljs-type"><span class="hljs-type">Date</span></span> date = new <span class="hljs-type"><span class="hljs-type">Date</span></span>(); <span class="hljs-type"><span class="hljs-type">String</span></span> msg_text = dateFormat.format(date); public static void main(<span class="hljs-type"><span class="hljs-type">String</span></span>[] args) { <span class="hljs-type"><span class="hljs-type">TestRunner</span></span> tr= new <span class="hljs-type"><span class="hljs-type">TestRunner</span></span>(); tr.errorsFound = <span class="hljs-number"><span class="hljs-number">0</span></span>; try{ tr.seleniumStart(); //---- ---- tr.goMail(); tr.postSend(); tr.outBoxVerifyMessage(); }catch(<span class="hljs-type"><span class="hljs-type">Exception</span></span> ex) {} } //<span class="hljs-type"><span class="hljs-type">Starting</span></span> selenium server public void seleniumStart() throws <span class="hljs-type"><span class="hljs-type">InterruptedException</span></span> { proc = new <span class="hljs-type"><span class="hljs-type">HttpCommandProcessor</span></span>(<span class="hljs-comment"><span class="hljs-comment">"localhost"</span></span>, <span class="hljs-number"><span class="hljs-number">4444</span></span>, <span class="hljs-comment"><span class="hljs-comment">"*firefox3 c:\\Program Files\\MozillaFirefox3.6\\firefox.exe"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"http://q/"</span></span>); selenium = new <span class="hljs-type"><span class="hljs-type">DefaultSelenium</span></span>(proc); selenium.start(); <span class="hljs-type"><span class="hljs-type">Thread</span></span>.sleep(<span class="hljs-number"><span class="hljs-number">5000</span></span>); selenium.open(<span class="hljs-comment"><span class="hljs-comment">"/site_media/"</span></span>); } //<span class="hljs-type"><span class="hljs-type">Shutting</span></span> down selenium server public void seleniumStop() { if (selenium != null) { selenium.stop(); selenium = null; } <span class="hljs-type"><span class="hljs-type">System</span></span>.out.println(<span class="hljs-comment"><span class="hljs-comment">"\r\nTesting compleated. Errors found: "</span></span>+errorsFound); } //<span class="hljs-type"><span class="hljs-type">Error</span></span> reporter public void printError(<span class="hljs-type"><span class="hljs-type">String</span></span> test, <span class="hljs-type"><span class="hljs-type">String</span></span> step) { errorsFound ++; <span class="hljs-type"><span class="hljs-type">System</span></span>.out.println(<span class="hljs-comment"><span class="hljs-comment">"\r\nError in Test: '"</span></span>+test+<span class="hljs-comment"><span class="hljs-comment">"' on step: '"</span></span>+step+<span class="hljs-comment"><span class="hljs-comment">"'"</span></span>); } //<span class="hljs-type"><span class="hljs-type">Step</span></span> runner public void testExec(<span class="hljs-type"><span class="hljs-type">String</span></span> testName, <span class="hljs-type"><span class="hljs-type">String</span></span> step, <span class="hljs-type"><span class="hljs-type">String</span></span> cmd, <span class="hljs-type"><span class="hljs-type">String</span></span> locator, int time) throws <span class="hljs-type"><span class="hljs-type">Exception</span></span> { for (int t = <span class="hljs-number"><span class="hljs-number">0</span></span>;; t++) { if (t &gt;= time) printError(testName, <span class="hljs-comment"><span class="hljs-comment">"Step "</span></span>+step); try { if (proc.getBoolean(cmd, new <span class="hljs-type"><span class="hljs-type">String</span></span>[] {locator})) break; } catch (<span class="hljs-type"><span class="hljs-type">Exception</span></span> e) { } <span class="hljs-type"><span class="hljs-type">Thread</span></span>.sleep(<span class="hljs-number"><span class="hljs-number">500</span></span>); } } //----------------------------------------------------------------------------------- //////////////////////////////////////////////////////////////////////////////// //----------------------------------------------------------------------------------- //    public void goMail() throws <span class="hljs-type"><span class="hljs-type">Exception</span></span> { <span class="hljs-type"><span class="hljs-type">String</span></span> test = <span class="hljs-comment"><span class="hljs-comment">"goMail"</span></span>; //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>    testExec(test, <span class="hljs-comment"><span class="hljs-comment">"1"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">""</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">2.</span></span>    <span class="hljs-comment"><span class="hljs-comment">""</span></span> testExec(test, <span class="hljs-comment"><span class="hljs-comment">"2"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">Select</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>tabBar\<span class="hljs-comment"><span class="hljs-comment">"&gt;&lt;arg value=\"</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt; &lt;/UIEvent&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); } //----------------------------------------------------------------------------------- //   public void postSend() throws <span class="hljs-type"><span class="hljs-type">Exception</span></span> { <span class="hljs-type"><span class="hljs-type">String</span></span> test = <span class="hljs-comment"><span class="hljs-comment">"postSend"</span></span>; //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span>    <span class="hljs-comment"><span class="hljs-comment">""</span></span> testExec(test, <span class="hljs-comment"><span class="hljs-comment">"3"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">Select</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>buttonBarMail\<span class="hljs-comment"><span class="hljs-comment">"&gt;&lt;arg value=\"</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;&lt;/UIEvent&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">4.</span></span>    testExec(test, <span class="hljs-comment"><span class="hljs-comment">"4"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">Open</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>userDataProvider\<span class="hljs-comment"><span class="hljs-comment">"&gt;&lt;arg value=\"</span></span>null\<span class="hljs-comment"><span class="hljs-comment">"/&gt;&lt;/UIEvent&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">5.</span></span>     testExec(test, <span class="hljs-comment"><span class="hljs-comment">"5"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">Select</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>userDataProvider\<span class="hljs-comment"><span class="hljs-comment">"&gt;&lt;arg value=\"</span></span> \<span class="hljs-comment"><span class="hljs-comment">"/&gt;&lt;/UIEvent&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">6.</span></span>    <span class="hljs-comment"><span class="hljs-comment">""</span></span> testExec(test, <span class="hljs-comment"><span class="hljs-comment">"6"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">SelectText</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>subject\<span class="hljs-comment"><span class="hljs-comment">"&gt;&lt;arg value=\"</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;&lt;arg value=\"</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;&lt;/UIEvent&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">7.</span></span>    testExec(test, <span class="hljs-comment"><span class="hljs-comment">"7"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">Input</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>subject\<span class="hljs-comment"><span class="hljs-comment">"&gt;&lt;arg value=\"</span></span><span class="hljs-type"><span class="hljs-type">Hello</span></span>, <span class="hljs-comment"><span class="hljs-comment">"+msg_text+"</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;&lt;/UIEvent&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">8.</span></span>     ( ) testExec(test, <span class="hljs-comment"><span class="hljs-comment">"8"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">ChangeFocus</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>subject\<span class="hljs-comment"><span class="hljs-comment">"/&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">9.</span></span>    testExec(test, <span class="hljs-comment"><span class="hljs-comment">"9"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">Input</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>message\<span class="hljs-comment"><span class="hljs-comment">"&gt;&lt;arg value=\"</span></span><span class="hljs-type"><span class="hljs-type">Test</span></span> of text message <span class="hljs-comment"><span class="hljs-comment">" +msg_text+"</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;&lt;/UIEvent&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">10.</span></span>    testExec(test, <span class="hljs-comment"><span class="hljs-comment">"10"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">Click</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); } //----------------------------------------------------------------------------------------------- //     public void outBoxVerifyMessage() throws <span class="hljs-type"><span class="hljs-type">Exception</span></span> { <span class="hljs-type"><span class="hljs-type">String</span></span> test = <span class="hljs-comment"><span class="hljs-comment">"outBoxVerifyMessage"</span></span>; //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>    testExec(test, <span class="hljs-comment"><span class="hljs-comment">"1"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;UIEvent command=\"</span></span><span class="hljs-type"><span class="hljs-type">Select</span></span>\<span class="hljs-comment"><span class="hljs-comment">" value=\"</span></span>buttonBarMail\<span class="hljs-comment"><span class="hljs-comment">"&gt;&lt;arg value=\"</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;&lt;/UIEvent&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">2.</span></span>   testExec(test, <span class="hljs-comment"><span class="hljs-comment">"2"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;VerifyProperty value=\"</span></span>subject\<span class="hljs-comment"><span class="hljs-comment">" propertyString=\"</span></span>text\<span class="hljs-comment"><span class="hljs-comment">" expectedValue=\"</span></span><span class="hljs-type"><span class="hljs-type">Hello</span></span>, <span class="hljs-comment"><span class="hljs-comment">"+msg_text+"</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span>   testExec(test, <span class="hljs-comment"><span class="hljs-comment">"3"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;VerifyProperty value=\"</span></span>message\<span class="hljs-comment"><span class="hljs-comment">" propertyString=\"</span></span>text\<span class="hljs-comment"><span class="hljs-comment">" expectedValue=\"</span></span><span class="hljs-type"><span class="hljs-type">Test</span></span> of text message <span class="hljs-comment"><span class="hljs-comment">" +msg_text+"</span></span>\<span class="hljs-comment"><span class="hljs-comment">"/&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>); //<span class="hljs-type"><span class="hljs-type">Step</span></span> <span class="hljs-number"><span class="hljs-number">4.</span></span>   testExec(test, <span class="hljs-comment"><span class="hljs-comment">"4"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"isFlexMonkey"</span></span>, <span class="hljs-comment"><span class="hljs-comment">"&lt;VerifyProperty value=\"</span></span>fullName\<span class="hljs-comment"><span class="hljs-comment">" propertyString=\"</span></span>text\<span class="hljs-comment"><span class="hljs-comment">" expectedValue=\"</span></span> \<span class="hljs-comment"><span class="hljs-comment">"/&gt;"</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>); } }</code> </pre><br><br>  This example tests sending a letter via the internal mail of the application, as well as checking its display among outgoing emails. <br><br>  And now more.  The ‚ÄúseleniumStart‚Äù and ‚ÄúseleniumStop‚Äù functions start and end the session.  The first function initializes an instance of the Selenium class that sends commands to the server.  It includes parameters such as the host and port (on which the Selenium server is running), the browser (which will be tested) and the url (on which the application under test is available). <br><br>  Next comes the printError function, which takes the name of the test and the step number as parameters and outputs them to the console.  This function is called when a timeout is reached at any step of the test. <br><br>  In order not to write a block of duplicate code in each step, it was moved to a separate function called ‚ÄútestExec‚Äù.  Its parameters are the name and number of the step being executed (which are transmitted to ‚ÄúprintError‚Äù when the timeout expires), the command for the server, the path (locator) to the element in the application that we are trying to ‚Äúreach out to‚Äù, and the timeout.  Please note that the application path in the example above has 2 types: ‚ÄúVerifyProperty‚Äù and ‚ÄúUIEvent‚Äù.  The first is used to get \ compare the values ‚Äã‚Äãof attributes of an element, and the second to perform an action on the specified element, for example, click on the button.  You can specify the UI element of the application not only by its name or id, but also by the combination of several of its properties, which are additionally specified in the tags ‚Äúarg‚Äù.  More detailed documentation is available on the <a href="http://www.gorillalogic.com/books/flexmonkium-docs/using-flexmonkium">Gorilla Logic</a> website. <br><br>  In order not to write locators manually, I wrote down the sequence of steps through FlexMonkey, exported the tests to an xml file and inserted it into Java code.  The result was the following result: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FlexMonkey</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TestSuite</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NewTestSuite"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">description</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ignore</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TestCase</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">description</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"null"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ignore</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Test</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">description</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"null"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defaultThinkTime</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"250"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ignore</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UIEvent</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Select"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tabBar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">prop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"automationName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">delay</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">attempts</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UIEvent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Pause</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">duration</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10000"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UIEvent</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Select"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"buttonBarMail"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">prop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"automationName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">delay</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">attempts</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UIEvent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Pause</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">duration</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1000"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UIEvent</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Open"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"userDataProvider"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">prop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"automationName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">delay</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">attempts</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"null"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UIEvent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UIEvent</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Select"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"userDataProvider"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">prop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"automationName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">delay</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">attempts</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UIEvent</span></span></span><span class="hljs-tag">&gt;</span></span> ...</code> </pre><br><br>  Or, you can install the plug-in flexmonkium.xpi in addition to the Selenium IDE and record the tests directly from the Firefox browser. <br><br>  But in any case, these 2 methods do not guarantee 100% accurate test performance, especially when the application components have a dynamically generated ID.  In this case, you will have to manually add additional arguments that are clearly inherent in the required component.  Component properties can be viewed in the FlexMonkey or FlexMonkium Console. <br><br><img src="https://habrastorage.org/storage1/bf60ae02/88d8585a/606c6a26/7b896683.jpg"><br><br><h5>  Result </h5><br>  At the moment, most regression tests are automated on the project.  Their number was&gt; 350, which takes about 3-4 hours. <br><br>  I apologize for such a large piece of code in the example, which inflated the volume of the article. </div><p>Source: <a href="https://habr.com/ru/post/129829/">https://habr.com/ru/post/129829/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../129823/index.html">Cloud drive</a></li>
<li><a href="../129824/index.html">Registration \ Authorization through a picture</a></li>
<li><a href="../129825/index.html">CRM implementation. Battleground Notes</a></li>
<li><a href="../129826/index.html">PlayStation Suite SDK: release in November</a></li>
<li><a href="../129828/index.html">Cloud Technologies for Small Business</a></li>
<li><a href="../129831/index.html">Do you think the application icon (talking about ICQ) should always hang in the Android notification area?</a></li>
<li><a href="../129833/index.html">Roslyn Project - compiler as a service</a></li>
<li><a href="../129834/index.html">All haters are dedicated</a></li>
<li><a href="../129835/index.html">iPhone 4s or disappointment of the year</a></li>
<li><a href="../129836/index.html">ICQ Mobile for Symbian - you heard right, for Symbian</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>