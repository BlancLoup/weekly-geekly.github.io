<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>First look at Scaleway</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Accidentally came across the mention of hosting Scaleway . 

 Pros: 


- 4 cores 
- 2 gigabytes of RAM 
- 50 gigabyte SSD drive 
- bare metal! (that i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>First look at Scaleway</h1><div class="post__text post__text-html js-mediator-article">  Accidentally came <a href="https://www.scaleway.com/">across the</a> mention of hosting <a href="https://www.scaleway.com/">Scaleway</a> . <br><br>  Pros: <br><ul><li>  4 cores </li><li>  2 gigabytes of RAM </li><li>  50 gigabyte SSD drive </li><li>  bare metal!  (that is, there is no, even purely theoretical, overhead of virtualization) </li><li>  for all this only 3 euros per month!  Very cheap! </li></ul><br>  But there is a feature: it is an ARM processor.  Yes Yes!  This is a 4-core ARM processor. <br><br><img src="https://habrastorage.org/files/712/ca8/52b/712ca852b2de4c9cacf146c1c51c9b60.png"><br><a name="habracut"></a><br><h1>  The first steps </h1><br>  Zaregalsya, fed them a card number.  Everything is OK, I'm not worried. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Chose the OS.  There are three versions of Ubuntu, two versions of Debian, and several other distributions.  I chose Ubuntu 14.04 - what I know well. <br>  <b>Update:</b> List of available operating systems: Gentoo, ubuntu 12.04, ubuntu 14.04, ubuntu 15.04, archlinux, fedora 22, openSUSE 13.2, Alpine Linux 3.2, Debian Jessie (8.1), Debian Wheezy (7.8). <br>  <b>Update2:</b> Thanks to the user <a href="http://habrahabr.ru/users/mrfrizzy/" class="user_link">MrFrizzy</a> saw that they can have an instance from the docker image.  You can use images from ImageHub or upload your own. <br><br>  Started a new instance.  Unlike, for example, Digital Ocean, you cannot make SSH by password, only by key.  Immediately causes respect.  This is ideologically closer to AWS, but I generate the key here myself (AWS can generate on its side).  When I went there I found a pw file with its password in the system in the root‚Äôs home folder.  OK, God be with him. <br><br>  But in the settings of the <b>SSH</b> daemon <b>login password</b> (parameter PasswordAuthentication) has been <b>enabled</b> !  What I think is pretty significant is the hole.  Somehow it looks raw. <br><br>  Ssh access to this instance is allowed for the root user, which I consider a minus, but not great.  The same is done on Digital Ocean, but on AWS, the user is ubuntu, which is added to sudoers to perform all administrative functions without a password.  This scheme seems to me more familiar.  But, in fact, this is a matter of taste. <br><br>  By the way, the data center is located in France.  Ping from me about 52ms.  For me, fine. <br><br><h1>  Iron </h1><br>  What is the processor? <br><br><div class="spoiler">  <b class="spoiler_title">#cat / proc / cpuinfo</b> <div class="spoiler_text"><pre> Processor: Marvell PJ4Bv7 Processor rev 2 (v7l)
 processor: 0
 BogoMIPS: 1332.01

 processor: 1
 BogoMIPS: 1332.01

 processor: 2
 BogoMIPS: 1332.01

 processor: 3
 BogoMIPS: 1332.01

 Features: swp half thumb fastmult vfp edsp vfpv3 tls
 CPU implementer: 0x56
 CPU architecture: 7
 CPU variant: 0x2
 CPU part: 0x584
 CPU revision: 2

 Hardware: Online Labs C1
 Revision: 0000
 Serial: 0000000000000000
</pre><br></div></div><br>  So, I have a 32 bit ARM v7 processor.  About 4 cores - the true truth.  1332 bogomips ... well ... This is close to any Pentium III / 666.  On the microinstance AWS, for example, 3591 mogomips, besides there is a 64 bit processor and OS. <br><br>  That is, potentially, 4 * 1332 = 5328, it will be faster than the microinstants, even in the jump.  AWS Microinstans, this is known to be a burstable instance.  That is, it can give great performance in a short time.  As far as I understand, just 3591 he will give me for a short time.  And then it will slow down.  I do not have exact figures how much it will slow down, but subjective feelings - several times. <br><br>  More information about the system: <br><br><pre> # uname -a
 Linux scw-b715a9 3.2.34-30 # 17 SMP Mon Apr 13 15:53:45 UTC 2015 armv7l armv7l armv7l GNU / Linux
</pre><br><br>  I learned almost nothing new. <br><br>  Another look at the memory. <br><br><div class="spoiler">  <b class="spoiler_title"># cat / proc / meminfo</b> <div class="spoiler_text"><pre> MemTotal: 2072392 kB
 MemFree: 1288544 kB
 Buffers: 60532 kB
 Cached: 664280 kB
 SwapCached: 0 kB
 Active: 383292 kB
 Inactive: 352528 kB
 Active (anon): 11032 kB
 Inactive (anon): 7452 kB
 Active (file): 372260 kB
 Inactive (file): 345076 kB
 Unevictable: 0 kB
 Mlocked: 0 kB
 HighTotal: 1269756 kB
 HighFree: 592840 kB
 LowTotal: 802636 kB
 LowFree: 695704 kB
 SwapTotal: 0 kB
 SwapFree: 0 kB
 Dirty: 16 kB
 Writeback: 0 kB
 AnonPages: 11008 kB
 Mapped: 4988 kB
 Shmem: 7476 kB
 Slab: 40676 kB
 SReclaimable: 26164 kB
 SUnreclaim: 14512 kB
 KernelStack: 568 kB
 PageTables: 296 kB
 NFS_Unstable: 0 kB
 Bounce: 0 kB
 WritebackTmp: 0 kB
 CommitLimit: 1036196 kB
 Committed_AS: 55844 kB
 VmallocTotal: 122880 kB
 VmallocUsed: 168 kB
 VmallocChunk: 122696 kB
</pre><br></div></div><br>  Well, actually 2 gigabytes, not deceived.  Well, the core in memory takes a little less than I used to recently on x86-64 Linux. <br><br><h1>  Tests </h1><br>  <b>Update5:</b> On the advice in the comments conducted tests.  As far as I understand, <b>dd is</b> not a very good test for IOPS, but I quote here. <br><div class="spoiler">  <b class="spoiler_title"># dd if = / dev / nbd0 of = / dev / null bs = 1M count = 10000</b> <div class="spoiler_text"><pre> 10,000 + 0 records in
 10,000 + 0 records out
 10485760000 bytes (10 GB) copied, 95.602 s, 110 MB / s
</pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title"># dd if = / dev / zero of = bigfile bs = 1M count = 10,000 conv = fsync</b> <div class="spoiler_text"><pre> 10,000 + 0 records in
 10,000 + 0 records out
 10485760000 bytes (10 GB) copied, 101.59 s, 103 MB / s
</pre><br></div></div><br>  To pump data in large chunks is not difficult.  I reduce the block to 4k. <br><div class="spoiler">  <b class="spoiler_title"># dd if = / dev / nbd0 of = / dev / null bs = 4k count = 2560000</b> <div class="spoiler_text"><pre> 2560000 + 0 records in
 2560000 + 0 records out
 10485760000 bytes (10 GB) copied, 92.5033 s, 113 MB / s
</pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title"># dd if = / dev / zero of = bigfile bs = 4k count = 2560000 conv = fsync</b> <div class="spoiler_text"><pre> 2560000 + 0 records in
 2560000 + 0 records out
 10485760000 bytes (10 GB) copied, 98.951 s, 106 MB / s
</pre><br></div></div><br>  I think that ~ 100 MB is what I put into the gigabit network interface.  I also conducted a test with a 1k block. <br><div class="spoiler">  <b class="spoiler_title"># dd if = / dev / nbd0 of = / dev / null bs = 1k count = 10240000</b> <div class="spoiler_text"><pre> 10240000 + 0 records in
 10240000 + 0 records out
 10485760000 bytes (10 GB) copied, 131.106 s, 80.0 MB / s
</pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title"># dd if = / dev / zero of = bigfile bs = 1k count = 10240000 conv = fsync</b> <div class="spoiler_text"><pre> 10240000 + 0 records in
 10240000 + 0 records out
 10485760000 bytes (10 GB) copied, 150.614 s, 69.6 MB / s
</pre><br></div></div><br>  Here the drop in speed is already noticeable.  But IOPS is still very big.  Not sure what the limitation of the disk is, perhaps, the restriction, again, the network interface.  But in general, everything looks quite good. <br><br><div class="spoiler">  <b class="spoiler_title"># wget -O- https://freevps.us/downloads/bench.sh |</b>  <b class="spoiler_title">bash</b> <div class="spoiler_text"><pre> CPU model:
 Number of cores:
 CPU frequency: MHz
 Total amount of ram: 2023 MB
 Total amount of swap: 0 MB
 System uptime: 2 days, 10:11,
 Download speed from CacheFly: 71.8MB / s
 Download speed from Coloat, Atlanta GA: 3.96MB / s
 Download speed from Softlayer, Dallas, TX: 2.97MB / s
 Download speed from Linode, Tokyo, JP: 1.41MB / s
 Download speed from i3d.net, Rotterdam, NL: 27.7MB / s
 Download speed from Leaseweb, Haarlem, NL: 30.1MB / s
 Download speed from Softlayer, Singapore: 1.47MB / s
 Download speed from Softlayer, Seattle, WA: 2.39MB / s
 Download speed from Softlayer, San Jose, CA: 2.32MB / s
 Download speed from Softlayer, Washington, DC: 3.69MB / s
 I / O speed: 102 MB / s
</pre><br></div></div><br><br><h1>  Soft </h1><br>  And how to deploy your projects on it? <br><br>  And let's try the <b>docker ...</b> Here I was disappointed.  He says he only works on 64 bit systems.  Although I have doubts that he can work at ARM at all.  But, at least, he threw out a mistake to me, about 64 bits.  In general, it disappears. <br>  <b>Update3:</b> Thanks to everyone who wrote in the comments ( <a href="http://habrahabr.ru/users/mrfrizzy/" class="user_link">MrFrizzy</a> , <a href="http://habrahabr.ru/users/alexac/" class="user_link">alexac</a> , <a href="http://habrahabr.ru/users/wgh/" class="user_link">WGH</a> ).  In fact, you cannot install a docker in the way recommended by the docker: docs.docker.com/linux/step_one.  From the Ubuntu repositories it is set nomralno, but version 1.4 is there, which is not applicable.  But you can use the docker images at the start of the instance. <br><br>  Another option that I previously used several times for my pet projects is <a href="https://bitnami.com/">bitnami</a> .  He, of course, also does not support ARM.  Also disappears. <br><br>  I'll have to put everything myself ... <br><br>  I put from the repository nginx, php5-fpm, mysql-server.  Everything was found immediately, everything worked. <br><br>  Oracle java8 for the ARM processor from the repository <a href="http://www.webupd8.org/2012/09/install-oracle-java-8-in-ubuntu-via-ppa.html">webupd8team / java is</a> also set and earned.  In fact, for current java projects, I do not need.  But for the future to check, at least its presence was necessary. <br><br><h1>  findings </h1><br>  Cloud hosting on ARM processors exists!  And from the first of September it is very cheap.  Of course, I also want to drive a real site, under some well-known CMS under load ... But this is not now.  More tests of the same system can be found <a href="http://habrahabr.ru/company/globatel_ltd/blog/213819/">in this article</a> .  True, they also promised some real test, but they did not. </div><p>Source: <a href="https://habr.com/ru/post/266059/">https://habr.com/ru/post/266059/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266045/index.html">Mobile application design patterns. Command processor</a></li>
<li><a href="../266047/index.html">Private mode and list of entered addresses in the new build Vivaldi 1.0.264.3</a></li>
<li><a href="../266051/index.html">RailsClub 2015: Interview with Timofey Tsvetkov</a></li>
<li><a href="../266053/index.html">How to become a partner Host-Tracker</a></li>
<li><a href="../266055/index.html">Techniques for using mask registers in the AVX512 code</a></li>
<li><a href="../266061/index.html">Dangerous world of malicious extensions and protection from them. Experience Yandex Browser</a></li>
<li><a href="../266065/index.html">Tehnokniga, Part 2: Literature on DBMS, Frontend Development, Interface Design and In-depth Java Programming</a></li>
<li><a href="../266067/index.html">The action "Good deed" - eliminating digital inequality</a></li>
<li><a href="../266069/index.html">Why CIOs must ‚Äúwork in the field‚Äù</a></li>
<li><a href="../266073/index.html">Emacs: we train the cursor (continuation)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>