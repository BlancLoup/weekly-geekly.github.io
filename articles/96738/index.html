<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Template Designer: Subversion + DOM-parser in action</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚ÄúFucking alarm clock!‚Äù Hacker cursed into the pillow and, without raising his head, reached out with his hand to the table next to him. The empty beer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Template Designer: Subversion + DOM-parser in action</h1><div class="post__text post__text-html js-mediator-article">  <i>‚ÄúFucking alarm clock!‚Äù Hacker cursed into the pillow and, without raising his head, reached out with his hand to the table next to him.</i>  <i>The empty beer bottles standing on it rolled with a crash onto the floor while Hacker's hand felt the space on the table, trying to get this terrible device, but in vain.</i> <i><br><br></i>  <i>Rising and straightening out the alarm clock, sitting on the edge of the bed, Hacker looked in the mirror hanging opposite.</i>  <i>You look so mean, he thought.</i> <i><br><br></i>  <i>Today, he must express his views on the template before the <b>Supreme Hacker Council</b> , however, there were no such considerations, just as there was no desire to attend the council.</i> <i>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </i>  <i>Hacker rose from the bed.</i>  <i>Having washed himself with cold water and walking back and forth across the room, he looked thoughtfully out the window.</i>  <i>In the house, on the contrary, the workers, under the supervision of a lady with a doggie, changed the windows of the facade.</i> <i><br><br></i>  <i>‚ÄúWindows, windows ...‚Äù thought Hacker.</i>  <i>- Windows is Windows;</i>  <i>Windows, Windows .... Windows are brakes, brakes are a turtle;</i>  <i>turtle, turtle ... turtle is a Subversion client ... Subversion ???</i>  <i>‚Äú</i> <i><br><br></i>  <i>"Eureka!</i>  <i>"Exclaimed Hacker.</i>  <i>The decision came by itself.</i>  <i>Now he knew what he would offer on the council.</i> <i><br></i> <br><a name="habracut"></a><br>  So, we will talk about the next bike called template engine.  The basis of our template engine will be Subversion version control system and its wonderful hook mechanism.  In this case, we will need a <b>post-commit</b> hook that runs after the transaction (making changes to the repository) has been completed. <br><br>  Let's try to figure out why we need another bike. <br><br>  First, we want to maximize the automation of all workflows.  Secondly, we want to make life as easy as possible for the coder and programmer who is directly involved in the workflow.  Thirdly, we want to create a more powerful and simple solution to those that exist now. <br><br>  Each typewriter wants to see as little as possible ‚Äúnon-HTML‚Äù markup.  A person unfamiliar with such a well-known template engine like Smarty (there are a lot of such) will not immediately accept this markup: <a href="http://www.smarty.net/manual/en/language.basic.syntax.php">www.smarty.net/manual/en/language.basic.syntax.php</a> <br><br>  We give the coder a possibility and will use constructions in templates that meet the HTML syntax.  The first advantage following from this: the maker-up can use static pages for work. <br><br>  Try to see how the browser displays the example given from the link above and the following: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;!</font> <font color="#800000">doctype</font> <font color="#ff0000">html</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">http-equiv</font> <font color="#0000ff">="Content-Type"</font> <font color="#ff0000">content</font> <font color="#0000ff">="text/html;charset=utf-8"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> iSvnTemplate example <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">style</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/css"</font> <font color="#0000ff">&gt;</font> <br> #header, #footer, #lsb { font-size:24px; color: white; } <br> #header, #footer { <br> width:100%; <br> height:50px; <br> background-color:#303030; <br> text-align:center; <br> line-height:50px; <br> } <br> #footer { <br> clear:both; <br> } <br> #lsb { <br> border:1px solid green; <br> margin:2px; <br> min-height:200px; <br> width:90px; <br> float:left; <br> } <br> <font color="#0000ff">&lt;/</font> <font color="#800000">style</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font>&lt;!-- Template container. --&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">cont</font> <font color="#ff0000">name</font> <font color="#0000ff">="header"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="header"</font> <font color="#0000ff">&gt;</font> <br> Header <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">cont</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">cont</font> <font color="#ff0000">name</font> <font color="#0000ff">="lsb"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="lsb"</font> <font color="#0000ff">&gt;</font> <br> Lsb <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">cont</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">cont</font> <font color="#ff0000">name</font> <font color="#0000ff">="blockA"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="blockA"</font> <font color="#0000ff">&gt;</font> <br> <font>&lt;!-- Support of conditional expressions. --&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">if</font> <font color="#ff0000">cond</font> ="$ <font color="#ff0000">a</font> <font color="#0000ff">&gt;</font> $b" <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h2</font> <font color="#0000ff">&gt;</font> A is greater than B <font color="#0000ff">&lt;/</font> <font color="#800000">h2</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">if</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">else</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h2</font> <font color="#0000ff">&gt;</font> B is greater than A <font color="#0000ff">&lt;/</font> <font color="#800000">h2</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">else</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!-- Support of loops. --&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">for</font> <font color="#ff0000">cond</font> <font color="#0000ff">="$i = 0; $i &lt; 8; $i++"</font> <font color="#0000ff">&gt;</font> <br> <font>&lt;!-- Including another template. --&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">include</font> <font color="#ff0000">file</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">for</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">php</font> <font color="#0000ff">&gt;</font> <br> print " <font color="#0000ff">&lt;</font> <font color="#800000">b</font> <font color="#0000ff">&gt;</font> Hello, World! <font color="#0000ff">&lt;/</font> <font color="#800000">b</font> <font color="#0000ff">&gt;</font> " <br> <font color="#0000ff">&lt;/</font> <font color="#800000">php</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">cont</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">cont</font> <font color="#ff0000">name</font> <font color="#0000ff">="footer"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="footer"</font> <font color="#0000ff">&gt;</font> <br> Footer <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">cont</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Unknown tags <b>if</b> , <b>for</b> , and <b>include</b> browsers will ignore, and the resulting output will fully correspond to what will be after the document is processed by the template engine (not counting those parts that will not be included in the output). <br><br>  In addition, we have a powerful tool for parsing templates: <b>DOM parser</b> .  Since all the template constructions are in accordance with the HTML syntax, all tags like <b>&lt;if cond = ‚Äù$ a&gt; $ b‚Äù&gt; &lt;/ if&gt; are</b> very easily converted into the corresponding PHP code. <br><br>  Consider the file structure of the template engine, using the example above, and what happens when the coder is working with an in vivo HTML document: <br><pre> / view
   / static
     index.html
 / template
   header.tpl
   lsb.tpl
   footer.tpl
   blockA.tpl
 / logic
   header.tpl.php
   lsb.tpl.php
   footer.tpl.php
   blockA.tpl.php
</pre><br><br>  The index.html pages contain several templates: header, footer, lsb, and blockA.  After the coder makes changes to the document (changes one of the templates, or adds a new one), he makes changes to the repository ( <u>svn ci ‚Äìm ‚Äúindex.html update‚Äù</u> ).  Immediately the field of this fulfills a <b>post-commit</b> hook, which performs the following: <br><ol><li>  Reads the entire contents of the / view / static directory </li><li>  Parsing documents found in step 1. </li><li>  Extracts all templates and updates the contents of the / view / template directory. </li><li>  Adds (or deletes) class frameworks to the / view / logic directory in case a new template has been detected. </li></ol><br><br>  Each template corresponds to a PHP class inherited from the base class <u>Template</u> .  The class automatically loads the template it needs (markup + PHP code after processing with the template engine), accepts the necessary data and returns based on their template body (MVC architecture).  Templates can also be nested. <br><br>  Thus, using simple techniques, we get a solution that is much more flexible than any others (at least from those known to the author). <br><br>  All this is at the level of an idea, but if someone wishes to implement and use this technique, the author will be happy to provide all possible assistance. </div><p>Source: <a href="https://habr.com/ru/post/96738/">https://habr.com/ru/post/96738/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../96729/index.html">Major update in the NVIDIA ForceWare driver lineup</a></li>
<li><a href="../96730/index.html">New version of MonoDevelop 2.4</a></li>
<li><a href="../96731/index.html">Adizes. Two books on change management that you definitely need to read.</a></li>
<li><a href="../96732/index.html">Game steering wheels and joysticks - XXI century technologies in gaming devices</a></li>
<li><a href="../96735/index.html">The beginning of the atomic era. Demon core</a></li>
<li><a href="../96740/index.html">MeeGo, AppUp and the future of mobile development</a></li>
<li><a href="../96741/index.html">New Xeon for dual-processor ProLiant G6</a></li>
<li><a href="../96744/index.html">MTS shows "its" Android-tablet</a></li>
<li><a href="../96745/index.html">APS-standard - using the example of CMS LiveStreet</a></li>
<li><a href="../96746/index.html">The project Reformal.Ru announces that all functionality becomes free</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>