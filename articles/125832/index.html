<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTML5 Audio Visualization</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our practical immersion describes an unusual scenario - we will not talk about what HTML5 can do, but about those opportunities that it still does not...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTML5 Audio Visualization</h1><div class="post__text post__text-html js-mediator-article">  <em>Our practical immersion describes an unusual scenario - we will not talk about what HTML5 can do, but about those opportunities that it still does not offer today and how this problem can be circumvented in practice.</em> <br><br><img src="https://habrastorage.org/storage1/333da9e7/902fa236/6fba92fe/b5f650d9.png"><br><br>  Today‚Äôs HTML5 is a series, the ending of which even the writers do not know, a story in which there are almost ready-made chapters and chapters in rough drafts, and just notes for future stories. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Visualization of audio, or rather principled <em>low</em> - <em>level</em> access to audio information, lies somewhere between rough sketches and notes for the future. <br><a name="habracut"></a><br><br><h1>  What can and cannot &lt;audio&gt; </h1>  The &lt; <em>audio</em> &gt; HTML5 element, as you probably already guessed, does not provide any low-level API by itself.  It only allows you to control the playback of the audio stream: start, pause, stop playback, find out the current position and the total duration of the composition. <br><br>  In fact, I must honestly say that these are not the only problems and difficulties - if you have tried to make a somewhat complex application using several audio streams and the need to synchronize them, you will almost certainly encounter difficulties in implementation. <br><br>  And it will depend not only on the features provided by the specification, but also (to a greater extent) on the implementation in a specific browser - it is not by chance that Rovio and Google, making <a title="Angry Birds on HMTL5" href="http://chrome.angrybirds.com/">Angry Birds on HTML5</a> , optimized for Chrome, abandoned the idea of ‚Äã‚Äãusing audio elements for sounds HTML5.  Instead, Angry Birds HTML5 uses Flash.  (See also the <a title="Angry Birds on HMTL5 using Flash" href="http://cromwellian.blogspot.com/2011/05/ive-been-having-twitter-back-and-forth.html">discussion on the developers blog</a> .) <br><br>  For a deeper immersion in the subject of the &lt;audio&gt; -element, I also recommend the article <a title="Unlocking the power of HTML5 &amp; lt; audio &amp; gt;" href="http://blogs.msdn.com/b/ie/archive/2011/05/13/unlocking-the-power-of-html5-lt-audio-gt.aspx">Unlocking the power of HTML5 &lt;audio&gt;</a> , which describes the basic techniques for working audio in HTML5. <br><br><h1>  Sound extraction standards </h1><img src="https://habrastorage.org/storage1/4aa12e36/dd6c1f43/fde63699/8a6484fa.png"><br><br>  Currently, work on the creation of a low-level API for accessing audio streams is already actively under way within the framework <a title="W3C Audio Group" href="http://www.w3.org/2011/audio/">of the W3C Audio Group</a> . <br><br>  The developed API will provide not only the ability to get low-level access to the audio stream, but also to synthesize audio on the fly. <br><blockquote>  Audio audio synthesis and minimal audio latency.  It will also add a programmatic access to the PCM audio stream. </blockquote><br>  Today, Mozilla and Google have already provided <em>their own</em> API versions for accessing audio information. <br><br>  <a title="Audio Data API" href="https://wiki.mozilla.org/Audio_Data_API">The Mozilla Audio Data API</a> provides easy access to the audio stream for reading and writing, the task of implementing real-time audio processing algorithms should be solved on the script side (in JavaScript).  The specification for Webkit - <a title="Web Audio API" href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html">Google's Web Audio API</a> - provides a high-level API, where the main processing tasks can be performed natively by the browser. <br><br>  The W3C working group is working on a common approach that will provide a two-layer API to provide more features. <br><br>  By the way, the group's field of activity in addition to the client API for working with Audio also includes the tasks of accessing audio devices, including microphones and other sound sources, and working with speakers, including in multi-channel mode. <br><br>  You can follow the news of the group on twitter <a title="W3C Audio Group" href="http://twitter.com/w3caudio">@ w3caudio</a> . <br><br>  But this is all the lyrics, let's get to practice! <br><br><h1>  Practical approach: what works today? </h1>  A practical approach that works today is a <strong>preprocessing</strong> . <br><br>  Yes Yes!  That's so trite.  Pre-processing of audio information with the subsequent generation of visualization, synchronized with the reproduced audio stream. <br><br>  In fact, if we are talking about the semantic retrieval of information (for example, song lyrics), then preprocessing is the only practical way out, and as a rule, this processing is done with pens. <br><br>  In general, if the audio file and the rendering engine are known in advance, preprocessing is not just a good way, but also the only sensible, saving computational resource and, consequently, reducing the load on client machines. <br><br>  Let's watch how this works. <br><br><h1>  Example from life: Chell in the Rain </h1><img src="https://habrastorage.org/storage1/89b2117c/89824484/65e0f1e7/6ec4a7c4.png"><br><br>  <a title="Chell in the rain" href="http://sorrowind.net/vilify/">Chell in the Rain</a> is a beautiful audio text visualization of the song <a title="Exile Vilify" href="http://itunes.apple.com/us/album/exile-vilify-from-game-portal/id432601217">Exile Vilify</a> .  Synchronously with the audio stream, words from the lyrics appear on the screen. <br><br>  <strong>What's inside</strong> <ul><li>  jQuery + <a title="Sizzle" href="http://sizzlejs.com/">Sizzle.js</a> (for selectors) </li><li>  <a title="jPlayer" href="http://www.jplayer.org/">jPlayer</a> (for playing Audio and Video) </li><li>  own code, which is actually interesting to us;) </li></ul><br>  <strong>How things work</strong> <br>  <em>Skipping audio initialization and event handlers to control playback.</em> <br><br>  The entire song is pre-beaten into fragments corresponding to the beginning of a particular phrase or stage of animation.  The beginning of each fragment is stored in an array: <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> timings = newArray(); timings[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">11.5</span></span>; timings[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">17</span></span>; timings[<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">24</span></span>; timings[<span class="hljs-number"><span class="hljs-number">3</span></span>] = <span class="hljs-number"><span class="hljs-number">29</span></span>; timings[<span class="hljs-number"><span class="hljs-number">4</span></span>] = <span class="hljs-number"><span class="hljs-number">35.5</span></span>; ...</code> </pre> <br>  Separately stored is an array of phrases from the lyrics: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lyrics = newArray(); lyrics[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-string"><span class="hljs-string">'Exile'</span></span>; lyrics[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-string"><span class="hljs-string">'It takes your mind... again'</span></span>; lyrics[<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-string"><span class="hljs-string">"You've got sucker's luck"</span></span>; lyrics[<span class="hljs-number"><span class="hljs-number">3</span></span>] =<span class="hljs-string"><span class="hljs-string">'Have you given up?'</span></span>; ...</code> </pre> <br>  With reference to timing and on the basis of the current moment in the audio composition, a trigger is triggered for the transition to a new phrase: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(event.jPlayer.status.currentTime &gt;= timings[currentTrigger] &amp;&amp; nolyrics != <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { fireTrigger(currentTrigger); currentTrigger++; }</code> </pre> <br>  Then, at the right moment, one or another trigger is triggered, which launches the appropriate animation using jQuery: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fireTrigger</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">trigger</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (trigger) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: $(<span class="hljs-string"><span class="hljs-string">'#lyrics1 p'</span></span>).addClass(<span class="hljs-string"><span class="hljs-string">'vilify'</span></span>).html(lyrics[<span class="hljs-number"><span class="hljs-number">0</span></span>]).fadeIn(<span class="hljs-number"><span class="hljs-number">1500</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: $(<span class="hljs-string"><span class="hljs-string">'#lyrics2 p'</span></span>).html(lyrics[<span class="hljs-number"><span class="hljs-number">1</span></span>]).fadeIn(<span class="hljs-number"><span class="hljs-number">1000</span></span>).delay(<span class="hljs-number"><span class="hljs-number">5000</span></span>).fadeOut(<span class="hljs-number"><span class="hljs-number">1000</span></span>); $(<span class="hljs-string"><span class="hljs-string">'#lyrics1 p'</span></span>).delay(<span class="hljs-number"><span class="hljs-number">6000</span></span>).fadeOut(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: $(<span class="hljs-string"><span class="hljs-string">'#lyrics1 p'</span></span>).fadeIn(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: $(<span class="hljs-string"><span class="hljs-string">'#lyrics2 p'</span></span>).fadeIn(<span class="hljs-number"><span class="hljs-number">1000</span></span>).delay(<span class="hljs-number"><span class="hljs-number">4000</span></span>).fadeOut(<span class="hljs-number"><span class="hljs-number">1000</span></span>); $(<span class="hljs-string"><span class="hljs-string">'#lyrics1 p'</span></span>).delay(<span class="hljs-number"><span class="hljs-number">5000</span></span>).fadeOut(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: $(<span class="hljs-string"><span class="hljs-string">'#lyrics1 p'</span></span>).removeClass(<span class="hljs-string"><span class="hljs-string">'vilify'</span></span>).html(lyrics[<span class="hljs-number"><span class="hljs-number">2</span></span>]).fadeIn(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>: $(<span class="hljs-string"><span class="hljs-string">'#lyrics2 p'</span></span>).html(lyrics[<span class="hljs-number"><span class="hljs-number">3</span></span>]).fadeIn(<span class="hljs-number"><span class="hljs-number">1000</span></span>).delay(<span class="hljs-number"><span class="hljs-number">3000</span></span>).fadeOut(<span class="hljs-number"><span class="hljs-number">1000</span></span>); $(<span class="hljs-string"><span class="hljs-string">'#lyrics1 p'</span></span>).delay(<span class="hljs-number"><span class="hljs-number">4000</span></span>).fadeOut(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; ...</code> </pre> <br>  Quite simply and effectively, agree!  The most important thing in this whole story is the ease of combining the audio stream and the capabilities of HTML, CSS, and JavaScript. <br><br><h1>  Example from life: Music Can Be Fun </h1><img src="https://habrastorage.org/storage1/b92c8c06/4f98bbe7/3b06177a/e9c230b1.png"><br><br>  <a title="Music can be fun" href="http://musiccanbefun.edankwan.com/">Music Can Be Fun</a> - a mini-game at the intersection of art and music.  I suggest first to play a bit, so that it is clear what is going to be discussed;) <br><br>  The example is more complicated - and here the possibilities of Canvas are already actively used, but since we are only interested in the musical component, everything is not so scary! <br><br>  As in the previous case, the lyrics of the song are reproduced here, for which, in the wilds of the JS code, the corresponding time reference is sewn up: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _lyrics = [ [<span class="hljs-string"><span class="hljs-string">"00:17.94"</span></span>, <span class="hljs-string"><span class="hljs-string">"00:22.39"</span></span>, <span class="hljs-string"><span class="hljs-string">"When I have once or twice"</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:23.93"</span></span>, <span class="hljs-string"><span class="hljs-string">"00:30.52"</span></span>, <span class="hljs-string"><span class="hljs-string">"Thought I lived my life .. for"</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:40.74"</span></span>, <span class="hljs-string"><span class="hljs-string">"00:47.38"</span></span>, <span class="hljs-string"><span class="hljs-string">"Oh oh I'll wake up in a thousand years"</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:48.40"</span></span>, <span class="hljs-string"><span class="hljs-string">"00:52.06"</span></span>, <span class="hljs-string"><span class="hljs-string">"With every ghost I'm looking through"</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:53.33"</span></span>, <span class="hljs-string"><span class="hljs-string">"00:57.80"</span></span>, <span class="hljs-string"><span class="hljs-string">"I was a cold, cold boy"</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:59.52"</span></span>, <span class="hljs-string"><span class="hljs-string">"01:03.00"</span></span>, <span class="hljs-string"><span class="hljs-string">"Hey! Oh when I lie with you"</span></span>], ...</code> </pre> <br>  In addition to the text, if you played with a toy, you could not help noticing the special effects that are also tied to the musical composition and the corresponding transitions.  Binding is done absolutely similarly: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _effects = [ [<span class="hljs-string"><span class="hljs-string">"00:06.00"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:30.50"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:42.50"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:54.50"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], [<span class="hljs-string"><span class="hljs-string">"00:57.00"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], ...</code> </pre> <br>  (In fact, even the frequencies of the appearance of blue and red balls are tied to the time;) <br><br>  When updating the playback time (onTimeUpdate event), certain visualizations are applied: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _onTimeUpdate = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = MusicManager.currentTime = _song.currentTime; ... for (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = _lyricsId; i &lt; _lyrics.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MusicManager.currentTime &lt; _lyrics[i][<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MusicManager.currentTime &lt; _lyrics[i][<span class="hljs-number"><span class="hljs-number">1</span></span>]) { SubtitleManager.changeSubtitle(_lyrics[i][<span class="hljs-number"><span class="hljs-number">2</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { SubtitleManager.changeSubtitle(<span class="hljs-string"><span class="hljs-string">""</span></span>); _lyricsId++; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = _effectsId; i &lt; _effects.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MusicManager.currentTime &lt; _effects[i][<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; MusicManager.isEffect1Used = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; MusicManager.isEffect2Used = !_effects[i][<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-number"><span class="hljs-number">2</span></span>; _effectsId++; } } ... }</code> </pre> <br>  Still simple and effective.  The same technique is easily applicable not only to textual information, but also to various visual effects. <br><br>  It remains to be seen whether the second can somehow be automated in order not to do everything at all with pens.  Obviously, you can - and <a title="Grant skinner" href="http://twitter.com/">Grant Skinner</a> in his blog suggests how to do it;) <br><br><h1>  Life example: data extraction </h1><img src="https://habrastorage.org/storage1/c7161610/fb0f7e7a/aa2c995f/19ba1e27.png"><br><br>  In a blog post on <a title="Music Visualizer in HTML5 / JS with Source Code" href="http://gskinner.com/blog/archives/2011/03/music-visualizer-in-html5-js-with-source-code.html">Music Visualizer in HTML5 / JS with Source Code,</a> Grant shares his experience in audio visualization using HTML5. <br><br>  Faced with the fact that HTML5 Audio does not provide an API for extracting low-level data about the song being played, Grant wrote a small <a title="Volume Data AIR" href="">AIR application</a> (the archive also contains examples) that allows you to extract sound level information from an mp3 file in text form or as an image. <br><br>  On a <em>larger</em> scale, information about the musical composition is as follows: <br><img src="https://habrastorage.org/storage1/923b71e4/4cb60005/550d400d/491e407b.png"><br><br>  Having the data in this form, it can be easily retrieved, for example, by means of Canvas.  In the text form is still simpler (I do not give an example, because the data in the text file is packed). <br><br>  To work with such preprocessed data, Grant wrote a special JavaScript library (VolumeData.js in the archive). <br><br>  Working with the library is quite simple.  It all starts with downloading information about the composition: <br><pre> <code class="javascript hljs">loadMusic(<span class="hljs-string"><span class="hljs-string">"music.jpg"</span></span>);</code> </pre> <br>  where, inside the loadMusic function, you guessed it, a regular image is loaded: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadMusic</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dataImageURL</span></span></span><span class="hljs-function">) </span></span>{ image = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Image(); image.src = dataImageURL; playing = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; Ticker.addListener(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>); }</code> </pre> <br>  After downloading all the necessary components, sound data is extracted from the image: <br><pre> <code class="javascript hljs">volumeData = newVolumeData(image);</code> </pre> <br>  Then at the right time from this data you can get both averaged information and information about the sound level in the left and right channels: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = audio.currentTime; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vol = volumeData.getVolume(t); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> avgVol = volumeData.getAverageVolume(t<span class="hljs-number"><span class="hljs-number">-0.1</span></span>,t); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> volDelta = volumeData.getVolume(t<span class="hljs-number"><span class="hljs-number">-0.05</span></span>); volDelta.left = vol.left-volDelta.left; volDelta.right = vol.right-volDelta.right;</code> </pre> <br>  Visual effects are attached to this data.  For visualization, the <a title="EaselJS" href="http://easeljs.com/">EaselJS</a> library is <a title="EaselJS" href="http://easeljs.com/">used</a> . <br>  See how it works in practice, you can in the examples of <a href="http://easeljs.com/demos/MusicVisualizer/index.html">Star Field</a> and <a href="http://easeljs.com/demos/MusicVisualizer/index2.html">Atomic</a> . <br><br><h1>  Conclusion </h1>  Summing up, it remains only to say that looking at all this, I do not leave the feeling that with HTML5 the industry is moving in the right direction.  Yes, not everything is possible, and far from all things are done as easily (and generally possible) as they can be done today in Flash or Silverlight.  But much is on the horizon! </div><p>Source: <a href="https://habr.com/ru/post/125832/">https://habr.com/ru/post/125832/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../125825/index.html">AntiSec Group has successfully hacked US law enforcement networks</a></li>
<li><a href="../125826/index.html">Several major US Internet service providers made money on customer search queries.</a></li>
<li><a href="../125828/index.html">Introduction to Storage Systems</a></li>
<li><a href="../125829/index.html">Experience in building an assembly and testing management system</a></li>
<li><a href="../125831/index.html">A new interface has appeared in Google Docs.</a></li>
<li><a href="../125833/index.html">Page Visibility API and Visibility.js</a></li>
<li><a href="../125835/index.html">QNX RTOS: Flow Planning</a></li>
<li><a href="../125836/index.html">Quick change of network settings</a></li>
<li><a href="../125839/index.html">Through what hole hacked the site?</a></li>
<li><a href="../125841/index.html">9 useful applications for amateurs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>