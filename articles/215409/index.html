<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Testing on the platform 1C: Enterprise 8. The practical part</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuing to popularize testing on the 1C: Enterprise platform, we turn to the practical application of the testing system. 
 The system consists of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Testing on the platform 1C: Enterprise 8. The practical part</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/post/214651/">Continuing to</a> popularize testing on the 1C: Enterprise platform, we turn to the practical application of the testing system. <br>  The system consists of external processing and a separate information database that acts as a back-end test repository and automatic test execution environment on a schedule. <br>  The system was designed and used in platform version 8.1 and unmanaged platform configurations 8.2.  For use in managed configurations in external processing mode, the entire interface must be rewritten or configuration parameters must be changed. <br>  Due to the fact that two projects are merged in the back-end, then, if you want to run automatic tests, the version of the back-end platform should be the same as the platform version of the configuration under test. <br>  A lot of pictures. <br><a name="habracut"></a><br>  Having determined the platform version, and, if necessary, setting the tested configuration ( <b>TC</b> ) to start unmanaged external processing, create the back-end information base ( <b>CU</b> ) from the <a href="">configuration</a> on the same platform version as the <b>TC</b> . <br>  Before you start entering tests, you need to set up the information base of the <b>BU</b>  To do this, you need to get the necessary configuration users: <br><img src="https://habrastorage.org/getpro/habr/post_images/66d/319/b54/66d319b54363e24e7f99e979a648311f.png"><br>  And give one of them the rights of the Administrator: <br><img src="https://habrastorage.org/getpro/habr/post_images/97b/8a5/82e/97b8a582e2546e8960c8b5a4c2af876f.png"><br>  After that we start the database in the Enterprise mode, go under the administrator and start the built-in processing <b>Settings</b> : <br><img src="https://habrastorage.org/getpro/habr/post_images/ce9/42b/f76/ce942bf765abcd70420397da0429928e.png"><br><br>  For storage of tests of various configurations the concept <b>Project is used</b> .  Unrelated configurations should be tested in different projects.  If the configuration makes a qualitative leap in development, but most of the tests from the previous version run without errors, then this is a new Configuration <b>Version of</b> this <b>Project</b> . <br>  Add your project: <br><img src="https://habrastorage.org/getpro/habr/post_images/7b3/6f9/df5/7b36f9df52fe2394b33bdf1067bb0211.png"><br>  The fields <b>Connect with IB with tests</b> and the <b>Path to test processing are</b> used to perform automatic testing.  Now we will not fill them, for the input and manual start of tests, the existence of a project in the base of <b>BE is</b> sufficient. <br>  Below you can list the version of <b>TC</b> , this data is used when running the test, if the version of <b>TC</b> is not specified in this list, then the test will not run.  Therefore we will get the current version of your <b>TC</b> .  The version is taken from the configuration properties: <br><img src="https://habrastorage.org/getpro/habr/post_images/ddc/401/75e/ddc40175e5ff39723ecc6bc3bc2b82b7.png"><br>  Add a version: <br><img src="https://habrastorage.org/getpro/habr/post_images/f34/cda/35d/f34cda35d957d33caf8a8f4021f8e8eb.png"><br>  For each version of the <b>TC,</b> you can set the connection parameters to the storage where this version is developed, then before starting the automatic tests, the system will try to take the current configuration version from the specified storage, roll this configuration onto the database under test and then run the selected tests.  You can also execute shell scripts before running tests and after.  We leave all additional fields empty, save the created version and write down the project. <br>  Click the <b>Next</b> button: <br><img src="https://habrastorage.org/getpro/habr/post_images/fda/4ca/8fd/fda4ca8fdd1c141c06c740b9c42b7691.png"><br>  Here we see the project settings we created, we can add / remove versions / projects. <br>  Click <b>Next</b> again: <br><img src="https://habrastorage.org/getpro/habr/post_images/8e4/eaa/6de/8e4eaa6de3b28b73bab1de2794f3de3e.png"><br>  This window lists configuration users, here you can set the name of the current user, add other users. <br>  Fill in the current user full name and choose a project by default: <br><img src="https://habrastorage.org/getpro/habr/post_images/0bd/906/6a2/0bd9066a26f7dd9734c855295f4d35d0.png"><br>  You can also check the box to force the user to change their password when they first log into the test system. <br>  Save the user and click the <b>Next</b> button: <br><img src="https://habrastorage.org/getpro/habr/post_images/24e/f3e/dd8/24ef3edd8837a53bed73faf20db68daf.png"><br>  Add current contact information to the current user: <br><img src="https://habrastorage.org/getpro/habr/post_images/8b4/03a/e64/8b403ae64869f9ccc3f1df2a03f8934e.png"><br>  All specified and included e-mail will receive reports on each result of automatic testing. <br>  We press the button <b>Next</b> , we have a form for filling constants: <br><img src="https://habrastorage.org/getpro/habr/post_images/fad/80d/70a/fad80d70ad875c9d6f40973a1611a709.png"><br>  Here are the parameters for sending generated emails with the results of automatic testing. <br>  We skip this step and click <b>Next</b> again: <br><img src="https://habrastorage.org/getpro/habr/post_images/316/314/b37/316314b37d300d9d3cb6e8154e505176.png"><br>  Before us is a window where you can create tasks for automatic testing of configurations. <br>  While we leave unchanged, click <b>Done</b> . <br><br>  At the moment, we have created one project, it has created one version of the current <b>TC</b> , everything is ready to add and run tests. <br>  We launch the <b>TC</b> in the Enterprise mode and open the external processing ( <b>VO</b> ) (the <b>VO</b> is in the aforementioned <b>BE</b> <a href="">configuration</a> , called <b>Testing</b> , it needs to be unloaded from the configuration as an external processing): <br><img src="https://habrastorage.org/getpro/habr/post_images/759/f27/736/759f27736c70da86926c0d047e2787be.png"><br>  Fill in the authorization form and connect to the test database. <br>  As a result, the main form for working with tests will appear: <br><img src="https://habrastorage.org/getpro/habr/post_images/f3c/a9b/581/f3ca9b58196f7949637663e469179258.png"><br>  On the left is a list of groups into which tests are divided.  Add a new group in which we will create our new tests: <br><img src="https://habrastorage.org/getpro/habr/post_images/564/16e/98b/56416e98b7b6e429c01a5e37c6017a14.png"><br>  In the selected group create a new test.  For example, I created a common module named <i>Tests</i> and added an export function there: <br><blockquote>  Function Addition (Value Argument1, Value Argument2) Export <br>  Return Argument1 + Argument2; <br>  End Function <br></blockquote><br>  In the name of the test, I indicated that I will test.  In the <b>Module</b> field, I indicate the location of the test method ‚Äî the general module <b>Tests</b> : <br><img src="https://habrastorage.org/getpro/habr/post_images/e05/73c/c0e/e0573cc0efb63ab3fefac45d53258bca.png"><br>  If I tested a method located in a module of a directory object or a document, then you must additionally specify a link to a specific object of the information base, since  The method is executed in the specific context of the specific object.  In this case, the context is a global context and there is no need to specify a reference to the context object. <br>  Next, copy the method signature and paste it into the <b>Method Header</b> field: <br><img src="https://habrastorage.org/getpro/habr/post_images/b8e/ca7/35f/b8eca735f95b876594d4cdeb13ef6f12.png"><br>  After that we press the first button in the toolbar above this field - <b>Disassemble the method</b> : <br><img src="https://habrastorage.org/getpro/habr/post_images/22e/0c9/38b/22e0c938b0ceaf3299408675f8c8463b.png"><br>  as a result, the <b>Parameters</b> and <b>Results</b> fields are filled. <br>  Fill in the input values ‚Äã‚Äãfor the arguments: <br><img src="https://habrastorage.org/getpro/habr/post_images/d82/b1c/5c1/d82b1c5c14803685a6dc1a60818429e0.png"><br>  Is done. <br>  Now you can run the test to calculate the results by clicking on the second button (green arrow) <b>Calculating the results</b> and admire the result: <br><img src="https://habrastorage.org/getpro/habr/post_images/72f/e8c/ec0/72fe8cec098be8095b6d606059d00aad.png"><br>  The test worked correctly - we remember the result as a standard, by clicking the third button <b>Remember results as a standard</b> : <br><img src="https://habrastorage.org/getpro/habr/post_images/b50/8a0/e09/b508a0e09b8d91003fe4be7f330f3e1f.png"><br>  Next, we save our work to the test database: <br><img src="https://habrastorage.org/getpro/habr/post_images/3f0/ea7/2bb/3f0ea72bb9784597cb1967448d9105dd.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In principle, this is all. <br>  In the toolbar above the tests there is a button to start all the tests in this group, in the toolbar above the method header there are buttons to start the test and view the saved reference value. <br>  Pile of fields Before and after execution, executable code, etc.  were described in a previous article. <br>  You can experiment. <br><br>  The binaries are currently available on <a href="https://github.com/pomozoff/testing1c">GitHub</a> .  If someone has a desire to refine, correct mistakes, then please share your experiences with the community.  So far I have no idea how to collectively develop 1C configurations synchronizing via the Internet.  1C server storage - useless add-on file access and I see no reason to deploy it.  The upload / download of the configuration in xml is implemented only in 8.3, perhaps this is the only normal way, but there are configurations under 8.1 and 8.2, which also need to be tested.  So for now let it be <a href="https://github.com/pomozoff/testing1c">GitHub</a> , if there is a real need - we will think. <br><br>  The code is distributed under the GPLv2 license, i.e.  - publish your changes in the code, if you use it. <br><br>  Unrealized dreams: <br>  - This is, of course, ridiculous, but there are no tests for configuration testing.  It would be nice to start writing them. <br>  - Refactoring code.  The code is not perfect, somewhere crutches and other bad-smelling structures are used.  The code of other developers was added to the project, this code was not intently reviewed, there may be amazing places. <br>  - Differentiate access rights for projects.  Now, any user has access to any project, in a good way it would be necessary to ensure that each user is assigned only the projects he needs.  Ideally, it would be to make a full-fledged system of roles - the right to add a test, to launch a group of tests, etc. <br>  - Transform the form managed.  Provides the ability to test managed configurations without changing the settings of these configurations to compatibility mode or enabling external processing as built-in.  By and large, the entire model of work with tests was submitted to the external processing module, and in the form modules there was only the connecting code of the controllers. <br>  - Separate the test repository and the automatic testing environment into two configurations, this will make it possible to use any version of the platform for the repository of tests, and take the automatic testing to another computer.  In principle, the internal architecture of these parts is already divided, it remains to make this separation and replace the direct reference from the test execution environment to the information base of the test storage for connecting to the storage and calling already existing methods through this connection. <br>  - Improvement of the functional and interface improvement. </div><p>Source: <a href="https://habr.com/ru/post/215409/">https://habr.com/ru/post/215409/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215397/index.html">Pi Day</a></li>
<li><a href="../215399/index.html">Installing Mono 3 on the SoC of the Allwinner A10 / A20 family, using the example of Cubieboard2</a></li>
<li><a href="../215401/index.html">Cubieboard A10 as a router and WiFi hotspot point</a></li>
<li><a href="../215405/index.html">Robot playing table tennis well: development from Germany</a></li>
<li><a href="../215407/index.html">How to quickly prepare a cross-platform mobile application. Part 1: Adobe Phonegap + AngularJS</a></li>
<li><a href="../215413/index.html">Encapsulating CSS Styles - Part 1: The Problem</a></li>
<li><a href="../215419/index.html">Radio-controlled switch do it yourself. Part 4 - Control Center</a></li>
<li><a href="../215421/index.html">MWC2014: MIMO 2x2: 2 in phones, routers in SFP modules ...</a></li>
<li><a href="../215427/index.html">AngularJS service concept for socket.io named connections</a></li>
<li><a href="../215429/index.html">Popcorn Time: the most convenient program for viewing torrents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>