<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>7 reasons to upgrade from Drupal to Yii</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Based on why I love Drupal . 
 Published at the request of JiLiZART (translation, as I understand it, also his). 
 Original: erickennedy.org . 



 Th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>7 reasons to upgrade from Drupal to Yii</h1><div class="post__text post__text-html js-mediator-article">  Based on <a href="http://habrahabr.ru/blogs/drupal/131606/">why I love Drupal</a> . <br>  Published at the request of <a href="http://habrahabr.ru/users/jilizart/">JiLiZART</a> (translation, as I understand it, also his). <br>  Original: <a href="http://erickennedy.org/Drupal-7-Reasons-to-Switch">erickennedy.org</a> . <br><br><a name="habracut"></a><br><br>  <i>The article is dated a year earlier, so that the time frame in the translation is saved</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img align="left" src="https://habrastorage.org/getpro/habr/post_images/36b/d35/b61/36bd35b61abb4051a3bcd8aa217c3414.jpg"><br>  Drupal 7 will be released soon, so many organizations have to decide whether they need to upgrade from Drupal 5 or 6. Drupal is good if you make a lot of sites and need to create new sites quickly and without much writing code, or if you just need blog-on-steroids. <br><habracut><br>  Working with Drupal is like living in a <a href="http://en.wikipedia.org/wiki/Mobile_home">double-wide</a> (house of cards) if you can't afford a traditional home.  If you have a site that is made on Drupal and has grown enough to use full-time developers, then you need to move your site to the Yii PHP framework. (PHP haters can follow Onion and use the Django Python framework, although it will take more time, language change and framework) <br><br>  I am the Technical Director of the <a href="http://www.realself.com/">site</a> that moved from Drupal to Yii on April 30, 2010.  At the time when we were still discussing the transfer, it was difficult to find suitable information, there were not even books about Yii.  There were several references to the transition from Drupal to Yii, but they did not contain enough data to keep me calm.  I was worried that Yii might be slower than our highly optimized Drupal installation, so I decided to rewrite 20% of the core of our site (which gave us 80% of the whole functionality) in 30 days.  It would seem a great way to check the productivity and performance of the framework, and if Yii does not work after a month of work, we can always go back to Drupal and transfer back any new data. <br><br>  Yii was much faster than our Drupal site with 150,000 nodes (each with a rewritten URL) and 50,000 visitors per day.  Yes, we worked like crazy for these 30 days (and the next 15), but it was worth it.  The time that we used to spend on catching and fixing slow queries in Drupal, we are happy to spend developing on Yii.  The real benefit from Yii came later when we redesigned our site. <br>  With Yii MVC, we changed only 2 layout files against several dozen in Drupal. <br><br>  I wish we had crossed the previous year.  Here is what we learned: <br><ol><li>  <b>Drupal is not the best way to start from scratch</b> .  The main selling point of Drupal is ‚Äú <i>Why make your CMS?</i>  ".  Like many web developers, I wrote all web applications from scratch (in <a href="http://www.yaledailynews.com/">1999</a> and <a href="http://alumnievents.yale.edu/reunions/registration/classDirectory.asp%3Fclassid%3D178">2000</a> ) and appreciate the opportunity to focus on the unique business needs of the application, rather than writing my own code to handle authentication, validation, SQL injections, etc. <br>  The company, which I helped found in early 2007, had a prototype of a Drupal site, and I was ready to see what Drupal can do before dropping it for Ruby On Rails.  Ruby's craze reminded me of Java in 1997.  I was an intern at <a href="http://www.bizjournals.com/seattle/stories/1999/08/02/daily6.html">WebEx competitor</a> in 1997-99, which killed my productivity by starting to write my server in Java before server hardware and VM optimizations allow us to scale.  PHP showed itself when remaking Friendster and on Facebook, and our users don‚Äôt want to see <a href="http://en.wikipedia.org/wiki/File:Failwhale.png">fail whale</a> if we run into Ruby scalability issues. <br><br>  Of course, it‚Äôs easier to start with Drupal than to write each line in PHP yourself.  But, there are a bunch of PHP 5 frameworks started in 2008 and tested in <a href="http://programmersnotes.info/2009/02/24/yii_framework_of_my_choice/">2009</a> .  A PHP developer starting to build a web application now (and continuing to work on the site in the future) will either choose a framework or start from scratch using PHP libraries (PECL or PEAR). <br></li><li>  <b>If the Drupal framework, then only <a href="http://en.wikipedia.org/wiki/Rube_Goldberg_machine">Ruby Goldberg Machine</a> will love it</b> (A <i>machine that performs simple actions in a complex way</i> ).  Drupal is designed to be extensible without much knowledge in PHP programming.  This is good if you just stylize a site with simple content or you have a little visited site.  If you are working full-time writing modules to change forms and add functionality, you <b>will spend more time suppressing Drupal functionality</b> that you don‚Äôt need, rather than creating it in a framework.  Yii has the opposite approach - you can use <a href="">Ruby on Rails-like ORM</a> if it is fast enough and only optimize 10% of the queries that you just need to rewrite in MySQL. <br></li><li>  <b>Community-contributed modules are prone to <a href="http://en.wikiquote.org/wiki/Featuritis">featuritis</a> ("fichemania"?) And errors that are the result of excessive complexity.</b> <br>  There are so many contrib modules for Drupal, and if you have full-time developers, you probably just decide, as we did, to assimilate some of the additional modules into your own.  Modules for modifying and caching images in Drupal are a prime example.  Since modules are designed to solve common problems (so that they can work with an arbitrary number of other modules!), They include <b>tons of functionality that you will never use</b> .  In our case, we need to make thumbnails of several sizes, which we get using ImageMagick.  To do this, we had to include 4 modules, each with a bunch of PHP files: ImageAPI, ImageAPI for ImageMagick, ImageCache, and ImageCache UI, instead of the actual commands for creating thumbnails in 2 database tables.  If something is broken when updating a part of the module chain, it will take much longer to find the reasons, instead of doing only what you need. <br><br>  Yii also has an extension for working with images (adapted from Kohana), but it does not include the functionality we need (rotate! Flip!) And is complicated by the fact that it is designed to transparently switch between ImageMagick and GD (GD has file problems larger than 2MB ).  Despite all this, it still does not allow resizing the image on the fly using the RewriteRule if the thumbnail does not exist. <br>  So I just created an index.php file that processes the RewriteRule requests on a dedicated server for images and sends a screened shell command to convert the binary directly.  This means that these RewriteRule requests do not affect the index.php Yii file, reducing the overhead and time required to resize images and flush the cache.  This is just one page on php that accepts arguments that are passed in one call to the binary, and it is much easier with support and testing if ImageMagick is updated. <br></li><li>  <b>Drupal contains baggage PHP 4 compatibility.</b>  Once, when I decided to take a look at the PHP framework, I quickly realized that I wanted only 100% of the PHP5 OOP framework.  You will not meet many people who claim that the procedural hook system is superior to the OOP approach.  Although Drupal 7 requires PHP5, like CodeIgniter 1.0 and other old PHP frameworks, they still carry compatibility baggage.  Who wants such baggage? <br></li><li> <b>Do you want <a href="http://2bits.com/articles/performance-benchmarking-drupal-512-drupal-66-and-drupal-7x-we-are-getting-slower.html">Drupal 6 or 7 to slow down your Drupal 5</a> site?</b>  <b>Don't want to deal with outdated jQuery?</b>  For most sites, this is normal.  We really care about speed, as Google and Microsoft have shown that users are more loyal to faster sites.  In 2009, when Drupal 6 became stable, we were stuck on Drupal 5 because of measurable speed advantages.  The problem is that Drupal 5 includes jQuery 1.0.  You can install the contrib module that patches jQuery to 1.2 (and updates the Drupal functions that reference it), but this version is also old.  Forget about jQuery 1.3x and Drupal 5. <br></li><li>  <b>The API fields / (CCK) in Drupal will drive you crazy, and this is part of the core Drupal 7</b> .  Why use $ node-&gt; ip when you can use $ node-&gt; field_ip [0] ['value'].  And if you want two different types of content to have a field with the same name, CCK will put them in its own table (content_field_ip) with delightful column names (field_ip_value).  Of course, Drupal can understand this mess when the node is loaded, but it is not beautiful to look at.  MySQL queries need a lot of LEFT JOINs to process all additional CCK tables, and those unnecessary complex queries that end up too often in the logs of slow queries.  I finally got tired of trying to optimize all these slow queries and I decided to get rid of CCK, which led me to PHP frameworks, and then to Yii. <br>  Migration of our data to Yii took as much time as if we were getting rid of the CCK module while remaining on Drupal.  Nevertheless, we were able to start with a clean database without all the additional tables that Drupal uses for its internal needs.  In our old DB there were 173 tables, in new 54. <br></li><li>  <b>Drupal is much slower than Yii.</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/d10/d31/dc3/d10d31dc33fcd1073339bc4cde50328b.png"><br>  Drupal is extensible if you cache ALL with memcached and APC aboard and rewrite all slow queries.  Caching is especially important if you use SEO addresses for all links, since each call to l () generates another database query.  So, the average page has 50+ queries, compared to 3-5 in Yii.  After the transition, our average download time was reduced from 163ms to 63ms in accordance with Google Webmaster Tools.  Even better, Yii + APC is so fast that we don‚Äôt need to use memchached, simplifying code and operations. <br></li></ol><br><br>  Our server statistics speak for themselves.  For the same number of simultaneous requests from visitors (Apache processes), the use of the database and CPU went down.  Memory usage is about the same.  Over the past year, our traffic increased by 60% to 1.5 million visits per month while the load on MySQL fell by 66% <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2d4/bdc/b6a/2d4bdcb6a355125598a451ece39cb83d.png" alt="image"><br></habracut></div><p>Source: <a href="https://habr.com/ru/post/131901/">https://habr.com/ru/post/131901/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131890/index.html">Java codec dedicated</a></li>
<li><a href="../131892/index.html">Qt Developer Days 2011, Munich</a></li>
<li><a href="../131893/index.html">Daily backup Atlassian JIRA and Confluence for Windows</a></li>
<li><a href="../131894/index.html">Canobuvosti, 116th edition</a></li>
<li><a href="../131895/index.html">A little bit about HTML5</a></li>
<li><a href="../131902/index.html">Free licenses are delaying the advent of bright times without the tyranny of copyright?</a></li>
<li><a href="../131903/index.html">Theft of information from the smartphone screen</a></li>
<li><a href="../131904/index.html">Google+ is even closer integrated with YouTube and Chrome.</a></li>
<li><a href="../131905/index.html">Startup "Avatar"</a></li>
<li><a href="../131906/index.html">Which social network to post? Instruction</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>