<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Github Visualizer - A service to visualize the history of repositories with GitHub</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Being a fan of software products for visualizing repository activities such as code_swarm and gource . One day I was visited by a muse who inspired me...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Github Visualizer - A service to visualize the history of repositories with GitHub</h1><div class="post__text post__text-html js-mediator-article">  Being a fan of software products for visualizing repository activities such as <a href="https://code.google.com/p/codeswarm/">code_swarm</a> and <a href="https://code.google.com/p/gource/">gource</a> .  One day I was visited by a muse who inspired me to create an online service for visualizing statistics of repositories with <a href="https://github.com/">GitHub</a> . <br>  And today I want to submit to your court my <a href="http://ghv.artzub.com/">GitHub Visualizer</a> <a href="https://github.com/artzub/GitHubCodeSwarm">project</a> (a <a href="https://github.com/artzub/GitHubCodeSwarm">project on GitHub</a> ). <br>  Here is a screencast for pre-dating. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/WguqW5vcQWU%3Ffeature%3Doembed&amp;xid=17259,15700023,15700043,15700186,15700191,15700253,15700259&amp;usg=ALkJrhhLvq6GUnEsE0QvfoRciDP6kRglEQ" frameborder="0" allowfullscreen=""></iframe><br>  And not a big Gif'ka <br><img src="https://habrastorage.org/getpro/habr/post_images/52c/b2d/89f/52cb2d89f73f36a97ee6a263c6f6a416.gif" alt="image"><br><br><h5>  What is used </h5><br><ul><li>  <a href="http://ru.wikipedia.org/wiki/SVG">SVG</a> , <a href="http://ru.wikipedia.org/wiki/Canvas">Canvas</a> - for interactive graphics. </li><li>  <a href="http://d3js.org/">D3.js</a> - javascript library makes it very convenient to work with data and visualize it. <br>  <a href="http://bl.ocks.org/mbostock">Giant collection of examples</a> from the author of the library <a href="http://bost.ocks.org/mike/">Mike Bostock</a> . </li><li>  <a href="http://developer.github.com/">GitHub API</a> </li></ul><br><a name="habracut"></a><br><h4>  Description of graphs and their implementation </h4><br>  In this project, there are three main visualizations that show information about repositories, their history and quantitative indicators. <br><br><h5>  Repository list visualization </h5><br>  <b><i>Repository graph</i></b> <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/6c2/4ec/bd7/6c24ecbd7782bce3bb6fe2c9da0f109b.png" alt="repository list"></a> <br><br clear="all"><ul><li>  Circles (vertices) are repositories. </li><li>  The size of the vertex depends on the age of the repository, the older, the smaller. </li><li>  Opacity depends on last modified date. </li><li>  The color and grouping of vertices depends on the primary repository language. <br><img src="https://habrastorage.org/getpro/habr/post_images/10b/bfe/728/10bbfe728c2d6fe9d655be0677eb1a5b.png" alt="main language"><br></li><li>  <b>Language histogram</b> <br><ul><li>  Shows summary information for each language. </li><li>  Displays language color </li><li>  Allows filtering vertices on hover. </li></ul><br></li></ul><br><blockquote>  To build the graph, we used <a href="https://github.com/mbostock/d3/wiki/Force-Layout">D3.Layout.Force</a> and the clustering method proposed in <a href="http://bl.ocks.org/mbostock/1747543">this example</a> . <br><div class="spoiler">  <b class="spoiler_title">A piece of code from the example</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> force = d3.layout.force() .nodes(nodes) .size([width, height]) .gravity(<span class="hljs-number"><span class="hljs-number">.02</span></span>) .charge(<span class="hljs-number"><span class="hljs-number">0</span></span>) .on(<span class="hljs-string"><span class="hljs-string">"tick"</span></span>, tick) .start(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ circle .each(cluster(<span class="hljs-number"><span class="hljs-number">10</span></span> * e.alpha * e.alpha)) .each(collide(<span class="hljs-number"><span class="hljs-number">.5</span></span>)) .attr(<span class="hljs-string"><span class="hljs-string">"cx"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dx; }) .attr(<span class="hljs-string"><span class="hljs-string">"cy"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dy; }); } <span class="hljs-comment"><span class="hljs-comment">// Move d to be adjacent to the cluster node. function cluster(alpha) { var max = {}; // Find the largest node for each cluster. nodes.forEach(function(d) { if (!(d.color in max) || (d.radius &gt; max[d.color].radius)) { max[d.color] = d; } }); return function(d) { var node = max[d.color], l, r, x, y, i = -1; if (node == d) return; x = dx - node.x; y = dy - node.y; l = Math.sqrt(x * x + y * y); r = d.radius + node.radius; if (l != r) { l = (l - r) / l * alpha; dx -= x *= l; dy -= y *= l; node.x += x; node.y += y; } }; } // Resolves collisions between d and all other circles. function collide(alpha) { var quadtree = d3.geom.quadtree(nodes); return function(d) { var r = d.radius + radius.domain()[1] + padding, nx1 = dx - r, nx2 = dx + r, ny1 = dy - r, ny2 = dy + r; quadtree.visit(function(quad, x1, y1, x2, y2) { if (quad.point &amp;&amp; (quad.point !== d)) { var x = dx - quad.point.x, y = dy - quad.point.y, l = Math.sqrt(x * x + y * y), r = d.radius + quad.point.radius + (d.color !== quad.point.color) * padding; if (l &lt; r) { l = (l - r) / l * alpha; dx -= x *= l; dy -= y *= l; quad.point.x += x; quad.point.y += y; } } return x1 &gt; nx2 || x2 &lt; nx1 || y1 &gt; ny2 || y2 &lt; ny1; }); }; }</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div><br>  <s>Actually, this was the muse that visited me.</s> <br>  Functions are taken practically without change, with some exceptions and additions. <br>  The implementation of the functionality for visualizing the list of repositories is in two files <a href="">repo.js</a> and <a href="">langHg.js</a> </blockquote><br><br><h5>  Repository history visualization </h5><br>  After you upload information about the list of user repositories, you can select the repository you are interested in either in the graph or in the list of repositories in the panel of the second stage (here you can also set the number of recent revisions for analysis). <br clear="left"><img src="https://habrastorage.org/getpro/habr/post_images/9bf/d88/2dc/9bfd882dc46668faa599fb67594d3659.png" alt="Second stage panel"><br clear="right">  Then analyze it by pressing the ‚ÄúAnalyze‚Äù button.  The analysis of the repository history will be built during the analysis.  Which displays information on the number of recent commits you specify (by default, 100 commits. It may be less than how many are in the repository). <br>  <b><i>History chart</i></b> <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/00a/87e/081/00a87e081a0c6bce9ec51bc545b89859.png" alt="image"></a> <br><br clear="all"><ul><li>  X axis shows fixation dates. </li><li>  Each red dot represents a fix. </li><li>  The up and down arcs are the number of <b><font color="#aaccaa">added</font></b> and <b><font color="#ccaaaa">deleted</font></b> lines in a commit. </li><li>  The areas in the background show the number of files being modified. <br><ul><li>  <font color="#A5EC6E">Added files</font> </li><li>  <font color="#FFB877">Modified Files</font> </li><li>  <font color="#FF77B5">Deleted files</font> </li></ul><br></li><li>  <b>Member Chart</b> - Shows member activity by various parameters. <br><img src="https://habrastorage.org/getpro/habr/post_images/ff7/953/173/ff7953173a004b5c88913f2e1eca28ac.png" alt="Chart of participants"><br></li></ul><br><blockquote>  In order to draw diagrams, I used a number of tools and their combination from the d3.js library. <br>  The area calculation is performed by the <a href="https://github.com/mbostock/d3/wiki/SVG-Shapes">d3.svg.area ()</a> component (example <a href="http://bl.ocks.org/mbostock/3020685">Stacked Area</a> ).  I consider the stack myself, but everything else is trivial for d3js. <br><div class="spoiler">  <b class="spoiler_title">A piece of code where the stack counts</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> layers = [ { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: colors.deletedFile, <span class="hljs-attr"><span class="hljs-attr">values</span></span>: sorted.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">t</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">x</span></span>: d.date, <span class="hljs-attr"><span class="hljs-attr">y0</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: (d.stats ? -d.stats.fd : <span class="hljs-number"><span class="hljs-number">0</span></span>)} }) }, { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: colors.modifiedFile, <span class="hljs-attr"><span class="hljs-attr">values</span></span>: sorted.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: d.date, <span class="hljs-attr"><span class="hljs-attr">y0</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: (d.stats ? d.stats.fm : <span class="hljs-number"><span class="hljs-number">0</span></span>)} }) }, { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: colors.addedFile, <span class="hljs-attr"><span class="hljs-attr">values</span></span>: sorted.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: d.date, <span class="hljs-attr"><span class="hljs-attr">y0</span></span>: (d.stats ? d.stats.fm : <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-attr"><span class="hljs-attr">y</span></span> : (d.stats ? d.stats.fa : <span class="hljs-number"><span class="hljs-number">0</span></span>)} }) } ] ; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interpolateSankey</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">points</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x0 = points[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>], y0 = points[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>], x1, y1, x2, path = [x0, <span class="hljs-string"><span class="hljs-string">","</span></span>, y0], i = <span class="hljs-number"><span class="hljs-number">0</span></span>, n = points.length; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (++i &lt; n) { x1 = points[i][<span class="hljs-number"><span class="hljs-number">0</span></span>]; y1 = points[i][<span class="hljs-number"><span class="hljs-number">1</span></span>]; x2 = (x0 + x1) / <span class="hljs-number"><span class="hljs-number">2</span></span>; path.push(<span class="hljs-string"><span class="hljs-string">"C"</span></span>, x2, <span class="hljs-string"><span class="hljs-string">","</span></span>, y0, <span class="hljs-string"><span class="hljs-string">" "</span></span>, x2, <span class="hljs-string"><span class="hljs-string">","</span></span>, y1, <span class="hljs-string"><span class="hljs-string">" "</span></span>, x1, <span class="hljs-string"><span class="hljs-string">","</span></span>, y1); x0 = x1; y0 = y1; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> path.join(<span class="hljs-string"><span class="hljs-string">""</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y1 = d3.scale.linear() .range([h6 * <span class="hljs-number"><span class="hljs-number">4.5</span></span>, h6 * <span class="hljs-number"><span class="hljs-number">3</span></span>, h6 * <span class="hljs-number"><span class="hljs-number">1.5</span></span>]) .domain([-data.stats.files, <span class="hljs-number"><span class="hljs-number">0</span></span>, data.stats.files]), area = d3.svg.area() .interpolate(interpolateSankey <span class="hljs-comment"><span class="hljs-comment">/*"linear" "basis"*/</span></span>) .x(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x(dx); }) .y0(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> y1(d.y0); }) .y1(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> y1(d.y0 + dy); }) ;</code> </pre><br></div></div><br>  To build arcs I use <a href="https://github.com/mbostock/d3/wiki/SVG-Shapes">d3.svg.arc ()</a> (there are many examples where this component is used: <a href="http://bl.ocks.org/mbostock/5100636">Arc Tween</a> , <a href="http://bl.ocks.org/mbostock/1305111">Pie Multiples</a> ). <br>  I <a href="https://github.com/mbostock/d3/wiki/Time-Scales">generate the</a> X scale using the two components <a href="https://github.com/mbostock/d3/wiki/Time-Scales">d3.time.scale ()</a> and <a href="https://github.com/mbostock/d3/wiki/SVG-Axes">d3.svg.axis</a> .  The implementation is taken from this <a href="http://bl.ocks.org/mbostock/4149176">Custom Time Format</a> example. <br>  The participant diagram is calculated by <a href="https://github.com/mbostock/d3/wiki/Pack-Layout">d3.layout.pack ()</a> (example of <a href="http://bl.ocks.org/mbostock/4063530">Circle Packing</a> ).  In order to sort and change the size of the circles, I change the properties of <b>sort</b> and <b>value</b> . <br>  The code for this visualization is located in two files <a href="">stat.js</a> and <a href="">usercommit.js</a> </blockquote><br><br><h5>  Dynamic visualization </h5><br>  For this all was the whole idea.  I like what happens when rendering with the use of <a href="https://code.google.com/p/codeswarm/">code_swarm</a> , but every time it is not convenient to clone the repository to my computer and then visualize it. <br>  In this visualization, I tried to embody all the ideas that are used in code_swarm and make changes to the settings on the fly. <br>  <b><i>Visualize the <a href="https://github.com/ajacksified/song-of-github">song-of-github</a> , <a href="http://artzub.com/ghv/">Link to launch</a> , <a href="http://habrahabr.ru/post/173085/">Article about the Song-of-github on habrabra</a></i></b> <br><img src="https://habrastorage.org/getpro/habr/post_images/52c/b2d/89f/52cb2d89f73f36a97ee6a263c6f6a416.gif" alt="image"><br><br clear="left"><ul><li>  Each particle is a file.  They move from developer to developer. </li><li>  The particle size depends on the degree of its change, the more often it is changed so that it is larger. </li><li>  The color of the particle depends on its expansion. </li><li>  Over time, the particle disappears, as soon as all the particles disappear from the user, the user also melts.  (This can be regulated by the corresponding settings in the panel 3 stage, <b>User Life</b> and <b>File Life</b> , the value 0 is immortal). </li><li>  Each participant collects around himself the files with which he performed the manipulations. </li><li>  If the files leave the user's orbit and no longer flies to anyone, then it is deleted. </li><li>  Every second is a day (plans to add the ability to change the step) </li><li>  The histogram shows the number of files involved in the commit, divided by extensions </li><li>  Legend shows the number of existing files at the moment for each extension. </li></ul><br><br><blockquote>  Physics calculation is performed by the notorious <a href="https://github.com/mbostock/d3/wiki/Force-Layout">D3.Layout.Force</a> , but with a small omission there are two of them.  One calculates the positions of users, the other considers the position of the files depending on the position of the user.  How is this done?  Each file has an <b><code>author</code></b> property, it writes the current at the moment (commit time) user if this file is in the current commit.  The above mentioned clustering method gets it and considers the position of the given file in space. <br><div class="spoiler">  <b class="spoiler_title">Clustering function</b> <div class="spoiler_text"><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_force.nodes()) { _force.nodes() .forEach(cluster(<span class="hljs-number"><span class="hljs-number">0.025</span></span>)); _forceAuthor.nodes( _forceAuthor.nodes() .filter(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ blink(d, !d.links &amp;&amp; setting.userLife &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (d.visible &amp;&amp; d.links === <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; setting.userLife &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { d.flash = <span class="hljs-number"><span class="hljs-number">0</span></span>; d.alive = d.alive / <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> d.visible; }) ); } _forceAuthor.resume(); _force.resume(); } <span class="hljs-comment"><span class="hljs-comment">// Move d to be adjacent to the cluster node. function cluster(alpha) { authorHash.forEach(function(k, d) { d.links = 0; }); return function(d) { blink(d, setting.fileLife &gt; 0); if (!d.author || !d.visible) return; var node = d.author, l, r, x, y; if (node == d) return; node.links++; x = dx - node.x; y = dy - node.y; l = Math.sqrt(x * x + y * y); r = radius(nr(d)) / 2 + (nr(node) + setting.padding); if (l != r) { l = (l - r) / (l || 1) * (alpha || 1); x *= l; y *= l; dx -= x; dy -= y; } }; }</span></span></code> </pre><br>  And the place of initialization force layouts <br><pre> <code class="javascript hljs">_force = (_force || d3.layout.force() .stop() .size([w, h]) .friction(<span class="hljs-number"><span class="hljs-number">.75</span></span>) .gravity(<span class="hljs-number"><span class="hljs-number">0</span></span>) .charge(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> * radius(nr(d)); } ) .on(<span class="hljs-string"><span class="hljs-string">"tick"</span></span>, tick)) .nodes([]) ; ..... _forceAuthor = (_forceAuthor || d3.layout.force() .stop() .size([w, h]) .gravity(setting.padding * <span class="hljs-number"><span class="hljs-number">.001</span></span>) .charge(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> -(setting.padding + d.size) * <span class="hljs-number"><span class="hljs-number">8</span></span>; })) .nodes([]) ;</code> </pre><br></div></div><br>  Two threads (if you can say so) are working; one is <b><code>setInterval</code></b> other is the <b><code>requestAnimationFrame</code></b> .  The first is responsible for moving in time, the second for drawing.  But in fact, force also has its own timers and asyncForEach (needed so that there is a good response from the system and the files from one commit did not fly out all at once, but with a slight delay) also starts setTimeouts. <br>  The code can be viewed in the <a href="">show.js</a> file. <br></blockquote><br><h4>  Data acquisition </h4><br>  I get the data from <a href="https://api.github.com/">api.github.com</a> . <br>  Data acquisition occurs by the <a href="http://ru.wikipedia.org/wiki/JSON">JSONP</a> method. <br>  According to <a href="http://developer.github.com/">the GitHub API,</a> <b><code>Client_id</code></b> and <b><code>Client_Secret</code></b> , but then the request limit will be 60 for one ip per hour.  That's why I created the application <a href="https://github.com/settings/applications">in the profile settings on GitHub</a> and the required authorization information is added to the request. <br>  This is what I‚Äôm all about ... And besides, the restriction for this method of authorization is 5000 requests per hour, some repositories like <a href="https://github.com/MidnightCommander/mc">mc</a> have a rich history.  And if you walk along it well, then the limit is quickly exhausted, what the system will tell you.  If this happens, you can specify in the <b>System settings</b> menu with the right <b><code>client_id</code></b> and <b><code>client_secret</code></b> your application (having previously created it if it is not already there). <br>  GitHub has very good APIs, it‚Äôs enough to execute only one request, for example, requesting user information <b><code><a href="https://api.github.com/users/"></a> api.github.com/users{user}</code></b>  <b><code><a href="https://api.github.com/users/"></a> api.github.com/users{user}</code></b> all other links will be answered.  And if this is a lot of page request (let's say getting a list of repositories, the answer is only information on 10 repositories) then in the response object in the <b><code>meta</code></b> parameter there is a link to the next page with a full set of authorization parameters. <br><hr>  In general, I express my gratitude to the API developers and those who wrote documentation on it, it is a pleasure to work with them. <br>  I also thank <a href="http://d3js.org/">D3js</a> developers for a <a href="https://github.com/mbostock/d3/wiki/Gallery">rich collection of examples</a> (without which I probably wouldn‚Äôt have been inspired by this) and <a href="https://github.com/mbostock/d3/wiki">very complete documentation</a> with all the explanations. <br><br><h4>  Conclusion </h4><br>  At the very beginning when I began to make a project it was a toy for myself, in fact, it remained so.  If you <a href="https://github.com/artzub/GitHubCodeSwarm">forknite my repository</a> and find a bunch of errors or screw something new, then please leave Pull Request or write to <a href="https://github.com/artzub/GitHubCodeSwarm/issues">Issues</a> . <br>  When developing the application, it was checked only in Google Chrome dev-m (no, of course, I‚Äôve seen obvious jambs that were fixed in other browsers), if you know how to make it work correctly in your favorite browser I will be infinitely grateful. <br>  Waiting for healthy criticism. <br>  <b>Thank you for attention!</b> <br><br><br>  <b>PS</b> <br>  Some interesting repositories are: <br><ul><li>  Nothing interesting <a href="http://artzub.com/ghv/">project repository</a> </li><li>  <a href="https://github.com/mbostock/d3">D3js</a> ( <a href="http://artzub.com/ghv/">launch visualization</a> ) <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/60c/5ea/a75/60c5eaa75dfa03493ef857170b7b5910.gif" alt="image"></a> </li><li>  <a href="https://github.com/jquery/jquery">jQuery</a> ( <a href="http://artzub.com/ghv/">start visualization</a> ) <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/12e/8e7/59d/12e8e759dff482daf3c6f09a601c5dda.png" alt="image"></a> </li><li>  <a href="https://github.com/MidnightCommander/mc">MidnightCommander</a> ( <a href="http://artzub.com/ghv/">start visualization</a> ) <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/894/cf4/a3c/894cf4a3ca63c1fdf4e5b79b403242e5.png" alt="image"></a> </li></ul><br></div><p>Source: <a href="https://habr.com/ru/post/174375/">https://habr.com/ru/post/174375/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../174349/index.html">Economic strategy "Sakhalin colony"</a></li>
<li><a href="../174353/index.html">Bitmessage - program for P2P exchange of encrypted messages</a></li>
<li><a href="../174359/index.html">Lifeboat Foundation: How Stephen Wolfram Prepares for Singularity</a></li>
<li><a href="../174369/index.html">Common mistakes when developing lockfree-algorithms and their solutions</a></li>
<li><a href="../174373/index.html">RPG game in Excel workbook</a></li>
<li><a href="../174379/index.html">DCDIAG - health diagnostics AD single utility</a></li>
<li><a href="../174381/index.html">Chrome browser woke man at 3:00 AM with monsters shouting</a></li>
<li><a href="../174383/index.html">The book by Leonard Susskind "Battle of a black hole"</a></li>
<li><a href="../174385/index.html">Intel installs coffee and cola in its offices on the Core i7 platform</a></li>
<li><a href="../174387/index.html">Acumatica 4.0 - what can be the design of the ERP, and how to optimize the performance of complex applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>