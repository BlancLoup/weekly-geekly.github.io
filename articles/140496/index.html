<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mercurial: where to start implementation and why patches are needed</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Strangely enough, but among programmers there are still quite a lot of those who do not see the point in version control systems (SLE) or simply do no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mercurial: where to start implementation and why patches are needed</h1><div class="post__text post__text-html js-mediator-article">  Strangely enough, but among programmers there are still quite a lot of those who do not see the point in version control systems (SLE) or simply do not know about them.  It is enough for those who know, but do not know where to start implementation or, when used, pass by very convenient features. <a name="habracut"></a><br><br>  Once upon a time, having lost another archive with a new version of its program, I came across a surprised look at the customer and the question: ‚ÄúIn the sense of no?  But we paid you for this work. ‚ÄùAt that moment I didn‚Äôt hear anything about them, but since this was far from an isolated case in the organization, <a href="http://subversion.apache.org/">subversion</a> was finally mastered.  After some time, due to the nature of the work (frequent travels and the need to work with source codes on business trips in different places), it was decided to switch to <a href="http://mercurial.selenic.com/">mercurial</a> , which allows you to have a complete copy of the repository, to work with it as a full-fledged main repository (although this the concept is conditional, it is mainly assigned to avoid confusion) and did not have the limitations and problems that svn had at that time (the impossibility at some point to get the correct working copy of the required revision and dependence on the central repository).  Mercurial on Linux was easy to learn and easy to use. <br><br>  After mastering and implementation, it remained only to sympathize with the neighboring department, where chaos still reigns, in spite of the fact that we were already able to inculcate hard currency there.  However, at the moment it depends more on people who just do not see the point in such systems. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I think it should also be said that SCR allows you to debug programs faster due to the fact that you can always get the previous revision of the source code, where there was no error and quickly and easily see what changes have occurred since then.  Ideally, revisions should be small so that the search is faster. <br><br>  <b>How to start the introduction of mercurial?</b> <br><br>  When a developer is one, this question does not arise.  I downloaded, installed, figured out, use. <br><br>  If the collective is small, then, in the absence of understanding on the part of ordinary workers, it is done on a voluntary-compulsory basis by decree from above or by long enlightenment from below.  With understanding, everything turns out by itself. <br><br>  In a large team combines all of the above.  Only it is worth remembering that with a large topic in which everyone is involved, the reluctance to use SCR leads to an increase in development time and possible loss of funds.  Therefore, it is even necessary to convince the customer that the source code to be transmitted to him should be stored using version control, so that his weighty word influenced minds that were too strong. <br><br>  You should start with selecting a person (small group) who will monitor the main repository and make all changes to it.  The rest should only do this through this person / group.  At the same time, the group of ‚Äúcustodians‚Äù should be competent enough to see the discrepancy with the ideas of the stored software and, of course, all changes to the code should be brought to the state in which they can be entered into the repository without overlays.  Of course, people who follow the repository should know the hard currency no worse than others, but at least in order to fulfill their duties.  They can also train others in case of misunderstanding. <br><br>  To explain why this is necessary, I will give a couple of examples. <br><br>  Once, having arrived on a business trip, I looked at the repository that was stored there (it was just considered the main one) and saw a wonderful revision with a description of special characters, hieroglyphs, and so on.  It turned out that these changes were made there by people who didn‚Äôt understand much about it and were not worried about such trifles as incorrect encoding of the text.  But at the same time, it was impossible to understand what was there for the changes and who made them after that.  There was no possibility to roll them back either (the opportunity is in fact, but time consuming and effortless). <br><br>  Also, not once have I seen repositories killed to death, from which nothing could be obtained at all, because  The user who made the changes spoiled the commit structure.  Yes, what really, and he sometimes spoiled while studying.  True, mostly copies.  Therefore, to protect the integrity of the data you need a knowledgeable person. <br><br>  I will not tell you how to use mercurial and commands, because  their website is full of documentation. <br><br>  <b>Why do we need patches in mercurial?</b> <br><br>  Patches are a very strong and ambiguous mercurial feature. <br><br>  Initially, hg had the opportunity to make changes only by commit (commit), which could not be fixed after the repository was added, except for the last one, it could be rolled back.  But only one.  Over time, the <a href="http://mercurial.selenic.com/wiki/MqExtension">mq</a> extension appeared, which made it possible to create patches similar to a regular commit, but variable.  Those.  A patch is a set of changes from the last commit / patch that can be fixed. <br><br>  This is strength and weakness at the same time.  The strength of this is that if you forgot something, it was sealed up, did not notice the error, then this can be fixed right in this change.  The patch [and] can be sent via chat / icq / jabber / e-mail, etc., because  compared to the whole program, it is small.  Here we can say that there is a so-called.  bundle, i.e.  a piece of the repository between two commits, but the patch can simply be opened and viewed / evaluated, then corrected, if necessary, but there is no bundle. <br><br>  The weakness of the patches is that the larger they are, the more likely they are to mess up with storing them in the repository.  Or, when fixing the oldest patch in the queue, you may need to edit all the others that this edit may affect. <br><br>  From here we can draw conclusions: <br><br><ul><li>  using patches improves the repository view, because  allows you to shrink a bunch of commits with fixing your changes to one, due to the fact that the patch can be edited; </li><li>  the patch is convenient to send because of its small size, which can save money and time; </li><li>  it is undesirable to make a patch large (like a commit), since  this makes it difficult to find an error in it; </li><li>  the patch can be easily opened and see the changes in it with any text editor / viewer; </li><li>  there should not be many patches in the queue (preferably no more than 7-10, then it becomes inconvenient to work with them), after gaining critical mass and readiness, they need to be transferred to commits (hg qfinish); </li><li>  as with any commit, the software with the patch should at least be compiled and highly desirable to run (although this is of course not necessary, but it will avoid unpleasant moments when trying to run the software of any revision); </li><li>  With proper knowledge and caution, the patch can be edited directly in the patch file, but it should not be applied to a working copy; </li><li>  it is desirable to make commits and patches logically complete; </li><li>  A good idea in a patch / commit is to make a single-line heading (no more than 70 characters), reflecting the whole essence of the changes, and after a blank line write a spreading commentary explaining what was done in the patch and why.  This will help to figure out, for example, a year later, what was done there to the developer or to those who change it, and it will also be convenient to watch the abbreviated and full logs of revisions. </li></ul><br><br>  In the end, I want to add that mq is included in the mercurial package, and also the hgk extension is included there, which allows you to display a window when typing the appropriate command (hg view), where you can see the revision tree and the changes that were made in them, which is very convenient.  The patches are marked there so that it is noticeable that they are not commits.  All extensions must be specified in the .hgrc configuration file. <br><br>  That's all for now.  Maybe someone will help. <br></div><p>Source: <a href="https://habr.com/ru/post/140496/">https://habr.com/ru/post/140496/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140487/index.html">Windows 8 Camp - how was it? Photos and recordings</a></li>
<li><a href="../140488/index.html">Xcode 4.3.2 released</a></li>
<li><a href="../140490/index.html">A bit of magic: how to take and make a call-center really effective</a></li>
<li><a href="../140492/index.html">Recipe for capistrano - import production base on the developer machine</a></li>
<li><a href="../140495/index.html">Let's program the rosenblatt perceptron?</a></li>
<li><a href="../140497/index.html">Watson-as-a-service</a></li>
<li><a href="../140499/index.html">YouTube updated video editor</a></li>
<li><a href="../140500/index.html">Firefox Mobile 13.0a1 is now available for 58% of Android devices with ARMv6 processors</a></li>
<li><a href="../140501/index.html">Photoshop CS6 Beta</a></li>
<li><a href="../140502/index.html">Optional "Computer modeling of physical processes"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>