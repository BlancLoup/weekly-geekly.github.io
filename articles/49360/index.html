<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bottom-up development and database.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Paul Graham in his essays often deals with the topic of bottom-up development. This method is mentioned by him when he writes about software developme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bottom-up development and database.</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://www.paulgraham.com/">Paul Graham</a> in his essays often deals with the topic of bottom-up development.  This method is mentioned by him when he writes about software development, about the way of doing business, about the advantages of open source and blogs.  Below I will describe why, with this model of development, interaction with the database rises across the throat, and propose a solution that is appropriate in some cases. <br><br><a name="habracut"></a>  It cannot be said that the bottom-up method is better than any other method, just in more cases it is more viable.  Indeed, a person opening, for example, a store or creating a DE will start small and will gradually develop it;  but if he has already developed his little shop into a chain of stores comparable to Auchan, or wrote KDE, then the next time he will not start small again, but he will spend a long time in plans and then he will implement a large project right away.  The first time a person receives feedback during the development, the second time, too, though he is already developing a store, not a store, and the response is received from a previously developed project. <br><br>  In large companies, development is often top-down.  Unfortunately, simple performers because of this technique begin to dislike their work, as they lose the element of creativity.  Paul, in his essay, <a href="http://www.paulgraham.com/opensource.html">What business can learn from open source,</a> proposed an interesting development model when a software company invests money in teams of programmers who are already developing in the field that interests the company.  Thus, the hierarch boss and slave disappears and the developers work with more enthusiasm, and the company deals with marketing, distribution, and does not contain its own staff of programmers.  Of the examples that are known to the readers of Habr is the F # language, on which Don Syme worked for a long time and which microsoft decided to launch into the mainstream in the next studio release. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In his essays, Paul focuses on the prevalence of practice over planning, speed of writing, and ease of change.  Unfortunately, many tools for developers were created without regard for these principles and were aimed at those companies that adhere to the established boss-slave relationship.  Often, when working in XP style, interaction with the database rises like a bone in the throat: difficulties in testing;  the heterogeneity of the code - you have to think about it on a HLM, but on declarative SQL, meaning the nuances of mapping one to another;  a huge amount of unnecessary code and unnecessary abstractions that are responsible for interacting with the base, and the solutions that are designed to fix this ugliness are, in fact, kodogeneration with all the ensuing problems. <br><br>  The first to realize this mess was people who wrote in dynamic languages ‚Äã‚Äã- and tried to fix this problem.  So couchdb, strokedb and simpledb appeared.  This solution is suitable for small projects, but I think Yandex-level companies will not keep their bases on subd, which have not been tested by time. <br><br>  Imagine that in the courtyard in '95, you woke up and decided to create Yandex, that is, to create a web search engine.  Obviously, the most interesting thing in the task is the analysis of information, and not the way it is stored, so you immediately pounced on this task.  Partially decided it and want to make the first prototype that would find an investor.  It is clear that you can‚Äôt do without data storage here, but on the other hand, you understand that you didn‚Äôt choose any structure of the database, then by the time it was launched, it would change a hundred times, so from the prospect of writing a hundred times workaround to work with the database you are sick . <br><br>  Thus, you need a solution that will not hold back development in the future, it should easily change when requirements change and have the property that at any moment this solution can be quickly transferred to relational databases.  Wanting to also get rid of heterogeneity and facilitate testing, we conclude that a good solution would be to write your database engine in the language in which the development is being carried out, and bring the interaction methods to the interface and work only with the interface, thus the transition to the tested DBMS will be made implementation of interaction with the database, consistent with this interface. <br><br>  If we want to write our own simple database engine, then it is easy to do using a language that supports tuples, lists and list comprehension, and since the implementation of the database engine is not the main task that we have, then it is desirable that this language was high-level, had a familiar syntax and supported popular paradigms.  I think you already guessed that I am writing about nemerle.  Below I give a primitive example of the implementation of the database engine. <br><br>  Suppose the base scheme is as follows: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">DROP</font> <font color="#0000ff">TABLE</font> <font color="#0000ff">IF</font> <font color="#0000ff">EXISTS</font> Author; <br> <font color="#0000ff">CREATE</font> <font color="#0000ff">TABLE</font> Author ( <br> ID <font color="#0000ff">INT</font> AUTO_INCREMENT <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> Firstname <font color="#0000ff">VARCHAR</font> (500) <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> Lastname <font color="#0000ff">VARCHAR</font> (500) <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> <font color="#0000ff">PRIMARY</font> <font color="#0000ff">KEY</font> (ID) <br> ); <br> <br> <font color="#0000ff">DROP</font> <font color="#0000ff">TABLE</font> <font color="#0000ff">IF</font> <font color="#0000ff">EXISTS</font> Journal; <br> <font color="#0000ff">CREATE</font> <font color="#0000ff">TABLE</font> Journal ( <br> ID <font color="#0000ff">INT</font> AUTO_INCREMENT <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> Title <font color="#0000ff">VARCHAR</font> (500) <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> <font color="#0000ff">PRIMARY</font> <font color="#0000ff">KEY</font> (ID) <br> ); <br> <br> <font color="#0000ff">DROP</font> <font color="#0000ff">TABLE</font> <font color="#0000ff">IF</font> <font color="#0000ff">EXISTS</font> Article; <br> <font color="#0000ff">CREATE</font> <font color="#0000ff">TABLE</font> Article ( <br> ID <font color="#0000ff">INT</font> AUTO_INCREMENT <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> Title <font color="#0000ff">VARCHAR</font> (500) <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> JournalID <font color="#0000ff">INT</font> <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> AuthorID <font color="#0000ff">INT</font> <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> <font color="#0000ff">CONSTRAINT</font> `journal_id` <font color="#0000ff">FOREIGN</font> <font color="#0000ff">KEY</font> (JournalID) <font color="#0000ff">REFERENCES</font> Journal(ID) <font color="#0000ff">ON</font> <font color="#0000ff">DELETE</font> <font color="#0000ff">CASCADE</font> , <br> <font color="#0000ff">CONSTRAINT</font> `author_id` <font color="#0000ff">FOREIGN</font> <font color="#0000ff">KEY</font> (AuthorID) <font color="#0000ff">REFERENCES</font> Author(ID) <font color="#0000ff">ON</font> <font color="#0000ff">DELETE</font> <font color="#0000ff">CASCADE</font> , <br> <font color="#0000ff">PRIMARY</font> <font color="#0000ff">KEY</font> (ID) <br> );</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  You can implement this structure and a couple of requests to it in the following way. <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">interface</font> IDB <br> { <br> AddAuthor(firstName : <font color="#0000ff">string</font> , lastName : <font color="#0000ff">string</font> ) : <font color="#0000ff">int</font> ; <br> GetAuthor(firstName : <font color="#0000ff">string</font> ) : list[ <font color="#0000ff">int</font> * <font color="#0000ff">string</font> * <font color="#0000ff">string</font> ]; <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> MyDB : IDB <br> { <br> <font color="#0000ff">public</font> <font color="#0000ff">this</font> () { Author = []; Journal = []; Article = []; ID = 0; } <br> <font color="#0000ff">public</font> Author : list[ <font color="#0000ff">int</font> * <font color="#0000ff">string</font> * <font color="#0000ff">string</font> ] { <font color="#0000ff">get</font> ; <font color="#0000ff">set</font> ; } <font color="#008000">// (ID, Firstname, Lastname)</font> <br> <font color="#0000ff">public</font> Journal : list[ <font color="#0000ff">int</font> * <font color="#0000ff">string</font> ] { <font color="#0000ff">get</font> ; <font color="#0000ff">set</font> ; } <font color="#008000">// (ID, Title)</font> <br> <font color="#0000ff">public</font> Article : list[ <font color="#0000ff">int</font> * <font color="#0000ff">string</font> * <font color="#0000ff">int</font> * <font color="#0000ff">int</font> ] { <font color="#0000ff">get</font> ; <font color="#0000ff">set</font> ; } <font color="#008000">// (ID, Title, JournalID, AuthorID)</font> <br> <font color="#0000ff">public</font> ID : <font color="#0000ff">int</font> { <font color="#0000ff">get</font> ; <font color="#0000ff">set</font> ;}; <br> <br> <font color="#0000ff">public</font> AddAuthor(firstName : <font color="#0000ff">string</font> , lastName : <font color="#0000ff">string</font> ) : <font color="#0000ff">int</font> <br> { <br> ID++; <br> Author = (ID,firstName,lastName)::Author; <br> ID <br> } <br> <br> <font color="#0000ff">public</font> GetAuthor(firstName : <font color="#0000ff">string</font> ) : list[ <font color="#0000ff">int</font> * <font color="#0000ff">string</font> * <font color="#0000ff">string</font> ] <br> { <br> $[(id,first,last)|(id,first,last) <font color="#0000ff">in</font> Author, first==firstName] <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  It seems to me that it is convenient to use this approach in tasks where the base structure is not obvious at the time of the start of development, where the main emphasis is placed on something else (as in the example with Yandex) and where the base structure is small. <br><br> <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="https://habrastorage.org/getpro/habr/post_images/b19/f14/bf8/b19f14bf830a4eecadc0e9ecab09618b.png" alt="cc-by-nc-sa"></a> </div><p>Source: <a href="https://habr.com/ru/post/49360/">https://habr.com/ru/post/49360/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../49355/index.html">HP Alumni Program</a></li>
<li><a href="../49356/index.html">Welcome to Hollywood!</a></li>
<li><a href="../49357/index.html">Opera is watching you!</a></li>
<li><a href="../49358/index.html">LINQ to SQL and SQL Server Spatial Data</a></li>
<li><a href="../49359/index.html">Holidays are over, surprises continue ...</a></li>
<li><a href="../49361/index.html">The simplest drawing using PIL</a></li>
<li><a href="../49365/index.html">Design patterns for humans.</a></li>
<li><a href="../49372/index.html">Asus A6R and Ubuntu 8.10</a></li>
<li><a href="../49373/index.html">We are friends with C # and OpenOffice.org</a></li>
<li><a href="../49375/index.html">Goodbye IE6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>