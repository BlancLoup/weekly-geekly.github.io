<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I made a project in OpenSCADA</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article will focus on the very OpenSCADA, which is under Linux and with oscada.org . 

 What for: 
 ‚Ä¢ because SCADA is really worthy of attention ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I made a project in OpenSCADA</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ce6/317/e16/ce6317e161046ce914516661e5a33d13.png" alt="image"><br><br>  The article will focus on the very OpenSCADA, which is under Linux and with <a href="http://oscada.org/">oscada.org</a> . <br><br>  <b>What for:</b> <br>  ‚Ä¢ because SCADA is really worthy of attention and popularization; <br>  ‚Ä¢ in some low-budget or small projects it is simply not alternative; <br>  ‚Ä¢ judging by the articles about the process control system on the Habr√©, many readers of the process control system seem to be black magic, under-IT or something similar (they break the unfortunate modbus, torture WinCC, which is already so hard ... People read and groan: "How can you .... holey Software in industry ", but no one is surprised at breaking Win95 and the 6th donkey. LON would have broken encrypted, OPC, OPC_UA ... ... And WinCC itself shares a folder with a project with the name of the type WinCC_Project_xxxxxx when you first open it + you have not yet seen how its plug-in to Excel it can tightly hang the Windows when inaccurately inserting cells a little more than it can  az to overpower!) - add educational program; <br><a name="habracut"></a><br><img src="https://habrastorage.org/files/b44/d03/bc6/b44d03bc6b6240079a5a7371b71bc109.PNG"><br>  How do you like that? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/7fa/11c/465/7fa11c465f7449a991bca4ffd40be105.PNG"><br>  What is it? <br><br><img src="https://habrastorage.org/files/d34/db8/d67/d34db8d67b524620a98a704726df2b70.PNG"><br>  Hindus do not like to handle mistakes at all ... Why, and that-a-ak will do ... <br><br>  In general, the only ones who <b>work</b> in Siemens are MANAGERS.  They need to erect a monument in their lifetime.  With such managers, programmers can not strain. <br><br>  ‚Ä¢ Habr benefits me (in terms of information) - I will bring Habra and me; <br>  ‚Ä¢ get rid of read-only to participate in the comments. <br><br>  <b>For whom:</b> <br>  ‚Ä¢ for those who have not heard about openSCADA and indeed about OpenSource SCADA under Linux, but are interested in similar ones; <br>  ‚Ä¢ for those who have heard, but did not have time to try, in order to understand whether it is necessary; <br>  ‚Ä¢ for those who opened - looked - did not understand - closed; <br><br>  <b>Why openSCADA:</b> <br>  ‚Ä¢ this project required savings; <br>  ‚Ä¢ TK did not force to use something specific; <br>  ‚Ä¢ in this case, you can use communication with a PLC via Modbus (for example, if you wanted to send alarms with a time stamp to the PLC, then alas ...). <br><habracut><br>  <b>Given:</b> <br>  ‚Ä¢ a couple of generators and a half megawatts; <br>  ‚Ä¢ operator's seat to manage all of this; <br>  ‚Ä¢ B &amp; R PLC, communication with SCADA via ModbusTCP. <br><br>  <b>What you need:</b> <br>  ‚Ä¢ monitoring the status of components and assemblies; <br>  ‚Ä¢ control units and aggregates; <br>  ‚Ä¢ recording of emergency and warning events (alarms); <br>  ‚Ä¢ archiving of events; <br>  ‚Ä¢ archiving of parameter values. <br><br>  I must say that its author quite competently approached the task (he even got his second degree as a programmer, the first - an electronics engineer).  Uses CPP, Qt, svn, etc.  Those.  You can download and compile the latest version without waiting for the release.  Separately, it is necessary to say about feedback on bugs.  Noticed the bug?  Write on the forum in the section ‚ÄúError tracking‚Äù and, voila, it is fixed.  Specific examples: from 40 minutes to 4 hours, and there was a case after 12 at night.  You can fix it yourself and Roma will add.  Now tell me, which of the giants of production, at least industrial software, does at least an order of magnitude longer?  For example, MS for MS Project .......  M? <br><br>  Not enough documentation on the wiki?  Come on wiki under your forum nickname and complement. <br><br>  It seems that each entry about a bug is perceived as almost a personal insult, and if your arguments are iron and the bug is in his program, not in your DNA, then he corrects and each sentence ends with an exclamation mark. <br><br><img src="https://habrastorage.org/files/41d/4ec/600/41d4ec6005b748b0ba57512065aef03e.PNG"><br><br>  At first glance, openSCADA has a high entry threshold and the developer himself says that your previous experience with SCADA is hardly useful, but only at first glance.  Everything is incomprehensible, incomprehensibly called, incomprehensible how this works.  The documentation is not very structured.  An example - a search result on a site is replete with the phrases ‚Äúparameter attribute argument‚Äù: <br><br><img src="https://habrastorage.org/files/a9f/a6d/1a1/a9fa6d1a10874e01b97c7ceac5d743cb.PNG"><br><br>  Therefore, there is a demo project - AGLKS.  C it should start.  Create your own, unzip the components, look at how this or that feature is implemented.  I did just that: left the root page and the way to navigate through the pages. <br><br><img src="http://wiki.oscada.org/Doc/%D0%9A%D0%BE%D0%BD%D1%86%D0%B5%D0%BF%D1%86%D0%B8%D1%8F%D0%A1%D1%80%D0%B5%D0%B4%D1%8B%D0%92%D0%B8%D0%B7%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8/part4/part10/files?get=map_inher.png" alt="image"><br>  An example of an explanation of the concept of interaction of the viscera <br><br>  <b>Components of openSCADA:</b> <br>  ‚Ä¢ <b>QTCfg</b> - QT configurator (data collection, calculations, archives); <br><br><img src="https://habrastorage.org/files/edc/6fb/389/edc6fb3894e94d7592c878432f877197.png"><br><br>  ‚Ä¢ <b>Vision</b> - a graphical user interface ("pictures"); <br><br><img src="https://habrastorage.org/files/09b/981/93e/09b98193e46847c8bc566f28a9d2bbe8.png"><br><br><h1>  QTCfg - DB </h1><br><img src="https://habrastorage.org/files/359/1ea/74a/3591ea74ab98465fb110d61f83a88557.png"><br><br>  The basis of this SCADA is the database, i.e.  All projects are stored in the database.  Maybe this is good, but for a simple "copy the project from the folder X to the USB flash drive" or "copy the valve from one project to another" is not trivial.  In the case of a SQLite database, the entire database is a file and it is not difficult to copy from a folder to a USB flash drive.  And for PostgeSQL?  With copying a graphic element from one project to another task.  Although no one bothers to keep the library of something in a separate database and simply connect the necessary instance to your project.  All tables of all databases can be viewed and there is an SQL query input field, so that you can stick together queries in a spreadsheet editor and inject something into your project in large quantities instead of endless poking with the mouse. <br><br><h1>  QTCfg - Controller </h1><br><img src="https://habrastorage.org/files/ea5/f87/90b/ea5f8790b84745448402a9ba0dcec774.png"><br><br>  In data collection, setting up communication with our B &amp; R PLC is simple: how often to poll, the modbus protocol (TCP / IP, RTU, ASCII), the address transports, the modbus address of our B &amp; R PLC, and so on.  It is worth noting especially the setting ‚ÄúMaximum parameter of the request block‚Äù - this is how many registers to request from our PLC at a time.  Some devices simply do not respond if you request more than a certain amount.  For example, the EK-270 gas corrector, the PCC3300 control panel in Cummins engines, is ‚Äúsuffering‚Äù. <br><br>  The status is quite informative, especially in case of communication problems - there is text and an error code that can be easily processed in scripts. <br><br><h1>  QTCfg - output MBTCP transport </h1><br><img src="https://habrastorage.org/files/1bc/a6b/464/1bca6b4640a54ebc9be1667436392c9b.png"><br><br>  Setting up communication with the PLC - how?  There are transports and there are transport protocols.  Where?  In the transports there are Sockets, in the Sockets Output and Input Transport.  ModbusTCP seems to be through sockets, but in Transport protocols there is Modbus. <br>  Setting up communication with the PLC is located in <i>Transports - Sockets - Output Transport - MyMyOneTransport</i> a.  For modbusTCP, the configuration looks straightforward.  Tooltip helps. <br><br>  In the Status we see the current status, especially important when debugging, diagnostics. <br><br><h1>  QTCfg - Modbus - Diagnostics </h1><br><img src="https://habrastorage.org/files/5ed/a23/eb9/5eda23eb985245f88a8bf9865c1ab90c.png"><br><br>  To collect data from our PLC, B &amp; R created a controller in the ModBUS section.  In Runtime on the tab "Diagnostics" we observe the exchange of packages.  If the PLC does not respond, we immediately see the reason. <br><br><h1>  QTCfg - User Protocol </h1><br><img src="https://habrastorage.org/files/71c/fca/4ab/71cfca4ab41648e7894aa2058439303c.png"><br><br>  The user protocol is generally an openSCADA mega-feature, which opens doors to it a lot where.  In this module you can describe your protocol, which is absent in openSCADA.  For example, the very same modbus-like 32-bit registers, etc.  The picture shows an example of the protocol for the heat meter VKT-7 from Teplokom.  So you can do your own modbus-like protocol with 64-bit registers, time stamps and encryption in PLC and implement its reception in openSCADA. <br><br>  Moreover, you can implement your C ++ protocol as * .so and connect it as a module to <i>Data Collection</i> when building openSCADA.  For an example, you can take the SNMP module. <br><br>  We want to <i>form our</i> own alarm mechanism just as a module in <i>Data Collection</i> , and inside use not an array (which is not convenient for sorting), but SQLite with work in RAM instead of files. <br><br><h1>  QTCfg - JavaLikeCalc </h1><br><img src="https://habrastorage.org/files/e59/b5a/d46/e59b5ad461cf4316ae801bf69665042a.png"><br><br>  All user-defined functions are implemented in the <i>Data Collection</i> section <i>‚Äî JavaLikeCalc ‚Äî Library ‚Äî Your Library</i> .  The call of its functions is very clumsy: <b>SYS.DAQ.JavaLikeCalc ["lib_MyLib"] ["MyFunc"]</b> , the prefix "lib_" in the name of the library "MyLib" is required.  There are two variants of calling functions: statically setting the name of the function in the code or dynamically composing the name in the code. <br><br>  Debugging your own functions through the analogue of printf () - just write to the Archive what you need.  No ‚Äústep by step or breakpoint‚Äù.  Syntax highlighting is.  Auto-declaration of variables when first used - be careful with ochepyatkami - will create a new variable and go.  In each function there is a this object - a link to the function itself, for example, in the script you can refer to the attributes of the function in a loop, etc.  There is also the f_start flag - the flag of the first execution of the function, it is convenient to thrust initialization or something like that one-time. <br><br><h1>  QTCfg - An example of a custom function <b>prioritets</b> in JavaLikeCalc </h1><br><img src="https://habrastorage.org/files/5b3/57e/7c2/5b357e7c229c4ec38f61db93fc11bbaa.png"><br><br>  An example of creating a custom function.  Language - JavaLikeCalc (he is the only one).  Input / output function variables are described in table IO.  The order matters: 1 line = 1 variable when calling a function.  You can swap lines in IO. <br><br>  There are several ways to access tags.  In openSCADA, the same can be done in at least two ways.  The access to the tag (attribute in terms of openSCADA) in the code can be done as follows <b>SYS.DAQ ["JavaLikeCalc"] [LocalPLC] [Local_Param] ["myTag"] get ()</b> , where " <b>JavaLikeCalc</b> " is a statically defined data collection module, " <b>LocalPLC</b> "- the name of the controller in the Data <b>Collector</b> , specified via a variable," <b>myTag</b> "- the statically specified tag name, get () - the function of requesting the tag value. <br><br>  In JavaLikeCalc, the syntax for using inline functions is: strMyTag.StrToInt ()?  where StrToInt () is the function of converting text into an integer, strMyTag is our text variable.  This feature of using embedded functions syntax led to the fact that in Vision access to object properties is not done through a dot (MyObject.property1), but through underscore (MyObject_property1), which significantly reduces readability, since ‚Äú_‚Äù in tag names is used instead of a space . <br>  Another example syntax: <i>this ["pgCont"]. AttrSet ("geomY", soOff) .attrSet ("geomH", this ["pgCont"]. Attr ("geomH") + soSize)</i> <br><br><h1>  QTCfg - execute function </h1><br><img src="https://habrastorage.org/files/c92/919/ecb/c92919ecb17c4487be98ebee882e4844.png"><br><br>  The ‚ÄúExecute‚Äù tab allows you to check your function without departing from the cash register.  Plus will show the time spent on the function. <br><br><h1>  QTCfg - calling a third-party JavaLikeCalc application (using the example of my <i>play_warn</i> function) </h1><br><img src="https://habrastorage.org/files/2a7/174/927/2a7174927ad54d2c97c671bd76dd062b.png"><br><br>  To sound the alarms, we had to write a function with a call to the console player of sound files.  They created a controller, which was assigned the function of monitoring active alarms and playing the corresponding sound. <br><br><h1>  QTCfg - SETS </h1><br><img src="https://habrastorage.org/files/d8b/863/964/d8b86396444d42aeb9946c7d00c2bdda.png"><br><br>  For ‚Äúlocal‚Äù tags, we use the controller in the JavaLikeCalc section.  The controller was called ‚ÄúLocVars‚Äù, in it they created a group of actions, calibrs, sets (‚Äúparameters‚Äù in terms of openSCADA).  These parameters are useful and used by chance.  Associated with them is a convenient mechanism for linking graphics to tags in the Vision graphic editor.  We will come back to this.  In the field "Data Fields" we write the names of our "local" tags.  These tags retain their values ‚Äã‚Äãafter restarting the computer. <br><br><h1>  QTCfg - SETS values </h1><br><img src="https://habrastorage.org/files/884/dc6/1ca/884dc61ca9d6477597b3bfe52123c301.png"><br><br>  The values ‚Äã‚Äãof our "local" tags can be viewed and set on the "Attributes" tab.  In this case, ‚Äúsets‚Äù is just a logical group of tags, and the tags themselves in terms of openSCADA are attributes.  What kind of SCADA allows this in as simple a form? <br><br><h1>  QTCfg - actions </h1><br><img src="https://habrastorage.org/files/f82/85d/f9d/f8285df9d9384222bd02475d553b46fe.png"><br><br>  We need local tags for our own needs in SCADA.  I had to create a controller and assign it a function.  The trick is that the attribute values ‚Äã‚Äã(which are analogs of classic tags) are saved when the computer is restarted. <br><br><h1>  QTCfg - parameter G1 </h1><br><img src="https://habrastorage.org/files/6f2/07d/cb3/6f207dcb3acc493792bfc86a4d8eb916.png"><br><br>  The parameter is a logical unit with a set of tags.  We have division by nodes and aggregates.  ‚ÄúEnabled‚Äù - whether it is currently being processed, ‚ÄúEnable‚Äù - whether to enable SCADA at startup. <br><br>  The configuration of tags and addresses in the case of Modbus is just a song - it is just text that is easily glued together in a tabular editor, easily corrected in openSCADA.  For example, according to the project you have tags read-only, you have them in registers 30xxx.  In openSCADA, it looks like <i>RI_b15: 101: rw: TagName: TagComment</i> .  In this case, on the Attributes tab, you will not be able to set tag values, although you have specified rw.  A flick of the wrist in any notebook replacing RI_ with R_ and you already have registers 40xxx.  In this case, you can set values ‚Äã‚Äãfor tags on the Attributes tab, which is much more convenient than calculating a bit in a word and climbing in a modbus simulator and setting it in decimal form.  If the register is 40xxx, but <i>rw</i> , then you cannot set values ‚Äã‚Äãon the Attributes tab.  <i>RI_b15: 101</i> is 15 bits in the 30101 modbus register. <br><br><h1>  QTCfg - parameter G1 - values </h1><br><img src="https://habrastorage.org/files/12c/e47/f8e/12ce47f8e5dd45c3be33e385cc678ca4.png"><br><br>  In Runtime, it's very easy to see the current tag values.  Open the "Attributes" tab of the required parameter of the controller and observe, if the register is 40xxx and "rw", then we control - for debugging it is irreplaceable.  Try to repeat this in WinCC or Citect ....  Although in WinCC you can see the value of the tag by hovering the mouse over it. <br><br><h1>  QTCfg - parameter G1 - archiving values </h1><br><img src="https://habrastorage.org/files/1b5/c29/48c/1b5c2948cabd4c6a8aec11f65d10ebc3.png"><br><br>  Configuration archiving tag - put a check on the tab "Archiving".  Any tag can be archived simultaneously in different archives. <br>  <b>What is important: the</b> information in the archive is compressed (and not just a million lines of the timestamp | tagName | tagValue type). <br><br>  File structure: <br><br><img src="http://wiki.oscada.org/Doc/FSArch/files?get=file_struct.png" alt="image"><br><br>  The mechanism of sequential packaging of values: <br><img src="http://wiki.oscada.org/Doc/FSArch/files?get=file_mpack.png" alt="image"><br><br>  There are still a lot of subtleties like ‚Äúhard grid‚Äù and ‚Äúhigh resolution time‚Äù ... <br><br><h1>  QTCfg - archive of messages </h1><br><img src="https://habrastorage.org/files/8dc/a26/89b/8dca2689bf4f4ed49d61a824a8932e53.png"><br><br>  Configuring the archive of messages: we will store in the database, with the category ‚ÄúLOG‚Äù (the category in this case is just a prefix for filtering our messages from the system ones), the size of the archive in hours. <br><br><h1>  QTCfg - archive of messages - messages </h1><br><img src="https://habrastorage.org/files/fcc/99f/92d/fcc99f92dc274157a6e213b0850a3b38.png"><br><br>  View your messages in your archive - the "Messages" tab of our respective archive. <br><br><h1>  Archive of messages - a folder and a file </h1><br><img src="https://habrastorage.org/files/dc9/002/e65/dc9002e651954c8a8ce99da4cf97fa6b.png"><br><br>  Archive of messages - text files (quite readable).  Old files are rolled up by the gzip archiver according to the message archiving settings. <br><br><h1>  QTCfg - Trend Archive </h1><br><img src="https://habrastorage.org/files/d35/a6b/cd4/d35a6bcd48b441328db5df883c84160b.png"><br><br>  We configure trends: we store on the file system (Roma's recommendation), how often to read values, how often to write to the archive, the path for the archive files, the archive size in hours, etc. <br><br><h1>  QTCfg - Trend Archive - Values </h1><br><img src="https://habrastorage.org/files/3dc/088/ecd/3dc088ecd9ef482a9622d4ef266e56f1.png"><br><br>  You can view the values ‚Äã‚Äãof the archive of values ‚Äã‚Äãright there on the ‚ÄúArchives‚Äù tab.  It is possible to export to a * .CSV or * .WAV file. <br><br><h1>  QTCfg - Trend Archive - Graph </h1><br><img src="https://habrastorage.org/files/515/941/ee1/515941ee19804ddfba706c35b17f4888.png"><br><br>  The trend archive on the chart without departing from the cash register is not a question.  The size of the image graph can be changed. <br><br><h1>  QTCfg - alarm configuration </h1><br><img src="https://habrastorage.org/files/627/9fc/683/6279fc683e534110b656a19d455eb166.png"><br><br>  Since in openSCADA there are no alarms in the classic understanding of SCADA systems (instead of them Roma came up with violations - some kind of abstraction doesn‚Äôt understand what, the level of violations is set by the programmer of the project at the time the violation is formed and doesn‚Äôt mean anything).  We created a separate controller on JavaLikeCalc and asked it to monitor the values ‚Äã‚Äãof the necessary tags for alarms and generate a list of active alarms. <br><br><h1>  QTCfg - violations </h1><br><img src="https://habrastorage.org/files/fa1/fbb/6b4/fa1fbb6b48ee43a0adeb6f5ac28a0982.png"><br><br>  The built-in mechanism of ‚Äúspeaking‚Äù violations (violations in openSCADA is a kind of abstraction in the direction of alarms).  From here, they took the command to play the files for their own alarms sounding mechanism. <br><br><h1>  QTCfg - speech synthesis </h1><br><img src="https://habrastorage.org/files/e64/488/f37/e64488f3794a45b9bc5e6a2db4f32a47.png"><br><br>  It should be noted: the built-in mechanism of "alarms" openSCADA allows you to pronounce the text of the message with the tts engine.  Install tts with the Russian language - the built-in "alarms" (ie, violations) will speak in Russian. <br><br><hr><br><br><h1>  Vision-development </h1><br><img src="https://habrastorage.org/files/47b/31d/4c8/47b31d4c8726421fa0d73b0928d8f499.png"><br><br>  Go to the chart.  To do this, use the "second half" openSCADA - Vision. <br><br><h1>  QTCfg - Vision </h1><br><img src="https://habrastorage.org/files/690/451/a0e/690451a0e07a43049a711793e7e8f5c1.png"><br><br>  Configuring Vision from QTCfg: we ask with which user Vision will open in development and in Runtime a graphical user interface, which project to run in Runtime. <br><br><h1>  Vision-development - widgets </h1><br><img src="https://habrastorage.org/files/0b8/d36/60e/0b8d3660ebd64632b8199ff984baba06.png"><br><br>  A widget is a graphic unit (valve, valve, generator, input box, and even a whole page). <br><br>  Tab <i>Widgets</i> - here are all the widgets collected in the library.  This is a kind of common base for storing graphic units. <br>  It is possible to insert other widgets dynamically in Runtime into one widget page.  Analog WinCC shnyh PictureWindow.  To do this, you need to put a widget on the page and set the ‚Äúcontainer‚Äù property to it and give the group property some name.  The inserted widget must have the same group. <br><br>  In this way, the operator interface is formed, where there is a constant menu and alarm area and dynamically changing mnemonic diagrams. <br><br><h1>  Vision-development - projects </h1><br><img src="https://habrastorage.org/files/5db/9df/a8f/5db9dfa8fd8a4752a636ee89f6356cc5.png"><br><br>  But on the <i>Project</i> tab, we already collect the skeleton of the graphic part of our project from instances of library widgets (we type the pages and determine the navigation through them).  In the <i>Project,</i> we can set personal properties of library widgets ‚Äî for example, the widget ‚Äúwindow with data from a digital multimeter‚Äù ‚Äîwe create 5 windows for five high-voltage cells and link them to the tags of the corresponding cells. <br><br><h1>  Vision-development - group change of properties </h1><br><img src="https://habrastorage.org/files/105/5e7/b62/1055e7b627a24716ac699584de9e4a0a.png"><br><br>  A very convenient option: group change of properties of several objects - selected objects and immediately assigned to all. <br><br><h1>  Vision-development - text - arguments </h1><br><img src="https://habrastorage.org/files/4b4/f39/a3e/4b4f39a3ebc0477e91f4aae1e59973b8.png"><br><br>  The standard ‚ÄúText‚Äù graphic element has a very useful feature - arguments. <br><br>  Thus, one Text element allows you to implement a complete formatted element of the mnemonic diagram of the form ‚ÄúP = 32, kW‚Äù, where ‚ÄúP‚Äù is the parameter designation, ‚Äú32‚Äù is its value (tag value), and ‚ÄúkW‚Äù are units of measurement.  Those.  dynamically binds only the value of the tag, the rest is already there.  The format is simple: ‚ÄúP =% 1, kW‚Äù (instead of% 1 there will be a tag value). <br><br><h1>  Vision-development - drawing shapes </h1><br><img src="https://habrastorage.org/files/125/4b1/6e4/1254b16e4d8b4a6cbcf97a0f6026f77e.png"><br><br>  That's drawing is not very.  Drawing geometric shapes is possible only in a certain container of type Box.  As you can see in the picture in the List of line items field, the text is presented as <i>line (15.359 | 0.505) :( 15.359 | 22.915) :::::::::::</i> .  Try to guess who is where ... But not so sad.  As you can see in the picture below the file menu there are buttons for drawing straight lines, Bezier curves, circles.  And what is sad?  For example, a circle is defined by five points, and not by a familiar rectangle / square. <br><br><img src="https://habrastorage.org/files/f74/d67/956/f74d679563d347e6b6a025b3ca0d8ee7.PNG"><br><br>  By changing the coordinates of any of the five points, the other thing is to get the hell out of what's needed.  Fill color is possible only for a closed loop, i.e.  the usual bar filled with color from 0% to 100% is realized by a ‚Äúrectangle‚Äù contour plus a ‚Äústick-cross‚Äù, which divides our rectangle into two halves.  Fill set for one half of our rectangle.  In parallel, we move the ‚Äústick-crossbar‚Äù, changing the ratio of the areas of the halves - the fill area also changes.  Those.  make a circle fill - that is another task.  In short, you have to adapt to draw, and sometimes izgolsya.  But in Citect with this kind of fill no problems. <br><br><img src="https://habrastorage.org/files/66a/aa9/b38/66aaa9b3898a47d18b6b1448f8a1dfe8.PNG"><br>  Sample fill in Citect <br><br>  To draw a similar task in openSCADA. <br><br><h1>  Library widget - sets - processing </h1><br><img src="https://habrastorage.org/files/aab/717/b15/aab717b1532043eb92aa99ceacfbb15d.png"><br><br>  Here we come to the most interesting - linking graphics on the page (and indeed on any widget) with tags (attributes in terms of openSCADA).  To open the above window, you need to give focus to our widget and press the button with a wrench <img src="https://habrastorage.org/files/f57/4b9/4df/f574b94df173469388a3abb9dee6e39e.PNG">  .      <i></i>   JavaLikeCalc , ,  ,     ,   .       (    = ),         ¬´¬ª. <br><br>     : <i>vcaAttrGet(strParsePath(path,0)+"/pg_control/pg_ElCadr/a_pgOpen")</i> . <br>  :   <i>this ‚Äî this.nodeList(¬´pg_¬ª )</i>       . <br>        ¬´¬ª  . <br><br>     ¬´ ¬ª ‚Äì         ,     .       ¬´|¬ª,     ‚Äì     .          (, G1),       .    100 ,   .          . <br>        <i> </i> ,      ,    . <br><br><h1>   ‚Äî general ‚Äì  </h1><br><img src="https://habrastorage.org/files/134/91d/626/13491d626cb24c6dbe0aa8b7f541a975.png"><br><br>    ,          (SYS.DAQ.xxx      ),     .      <i></i>           : <br><br> ‚Ä¢ <i></i> ‚Äî        , ,       ; <br> ‚Ä¢ <i> </i> ‚Äî      ; <br> ‚Ä¢ <i> </i> ‚Äî      ; <br> ‚Ä¢ <i> </i> ‚Äî     (  ). <br><br>    -   . <br><br><h1>   ‚Äî sets ‚Äî     </h1><br><img src="https://habrastorage.org/files/f9a/3c2/f68/f9a3c2f68dbf4f4799cfa2199eea41ec.png"><br><br>     (, PU_set_G1)    .     ,    wdg:‚Ä¶ . <br><br><h1>   ‚Äî  <i>this</i> </h1><br><img src="https://habrastorage.org/files/8eb/e76/626/8ebe7662687941859b67faa17d7a8e37.png"><br><br>          <i>this</i> . <br><br><h1>   ‚Äî vcaAttrGet </h1><br><img src="https://habrastorage.org/files/449/b49/8c3/449b498c37104c1c88f2ac1ef40e7017.png"><br><br>          <i>vcaAttrGet</i> . <br><br><h1>   ‚Äî   / </h1><br><img src="https://habrastorage.org/files/3ec/984/46d/3ec98446d40a401b81ca0096e4710d7c.png"><br><br>    Runtime       <i> </i> .       (, )    . <br><br><h1> Vision ‚Äî  ‚Äî  </h1><br><img src="https://habrastorage.org/files/015/bda/d68/015bdad68a9c428589ff09eb3cd68e0f.png"><br><br>   ¬´¬ª  - HTML.        ¬´ :  ¬ª  ,       // .    . <br><br><h1>  Trends </h1><br><img src="https://habrastorage.org/files/0f6/641/6ba/0f66416babd7441fa503f75106e83510.PNG"><br><br>      99   (  Wonderware   8  ). <br>         .     -,       .    ,      ( ) .    Citect,         ,   openSCADA    .      .   ++/Qt     openSCADA . <br><br><h1>     </h1><br>         ,    <img src="https://habrastorage.org/files/b47/f39/0ed/b47f390ed49049589a511739fdc6fd45.PNG">   <img src="https://habrastorage.org/files/72e/5f2/925/72e5f29256e84a48a0346631b3386fc0.PNG"> ,   . <br><br><img src="https://habrastorage.org/files/4f5/93f/984/4f593f984e8e4f4c82c37112695a90a8.PNG"><br> ¬´      ¬ª <br><br>                             . <br><br><img src="https://habrastorage.org/files/e4a/2e2/007/e4a2e20078564828a73bfb200dea6e9f.PNG"><br>   ‚Äì   <br><br><img src="https://habrastorage.org/files/4c0/059/340/4c00593401b046f2971f4ce4a337b0cf.PNG"><br>   ‚Äì   <br><br>      ,          . <br><br><img src="https://habrastorage.org/files/9bc/119/b14/9bc119b1413141bda23be04941806381.PNG"><br><br>     : <br><br><img src="https://habrastorage.org/files/8c5/01d/7e4/8c501d7e4f204c80abd3906e74faa8bd.PNG"><br><br>      . <br><br><img src="https://habrastorage.org/files/5d0/3b4/7ac/5d03b47acd1b452fb42999cc7e75ab1e.PNG"><br><br>         (*.png, *.xpm,*.jpg). <br>          . <br><br>     .     web- (*.html,     web-    )    (*.csv,     MS Excel       ).   openSCADA ‚Äî             .    HTML  CSS. <br><br><img src="https://habrastorage.org/files/d34/55d/a9a/d3455da9a59b40a3b2e12c53ef6b9a49.PNG"><br><br> <b></b> : openSCADA ‚Äî   . <br><br>  <b>UPD1</b> <h1>        </h1><br> ,               (    )      ,       (    ).     ,     ¬´¬ª .   ,        ,    .        -  /?      WinCC  ‚Äî  ,   Citect   :  -      ?1?  ?5?,            Citect       ‚Äî WinAss(-2,5,¬´DU_PID_kP_valve1¬ª,0),  5 ‚Äî    ?5?    DU_PID_kP_valve1.   Citect           255 ,         - ¬´ ¬ª               ()    CiCode Editor       . -   RSView32   - ‚Äî            <b></b>   , ,    . <br><br>  openSCADA     :       ,    ,      (.. )    <br><pre><code class="javascript">&lt;page&gt;|DU_PID_kP</code></pre> ‚Äî   ¬´   ,    ¬ª ‚Äî !<br>
<br>
<img src="https://habrastorage.org/files/6b7/bf3/261/6b7bf3261da44ad3ba0bc5871b95574a.png"></habracut></div><p>Source: <a href="https://habr.com/ru/post/238537/">https://habr.com/ru/post/238537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../238525/index.html">Overview of gadgets with alternative charging</a></li>
<li><a href="../238529/index.html">Back end based on Microsoft Azure</a></li>
<li><a href="../238531/index.html">Experience of integrating the OpenIAB library into the Android application</a></li>
<li><a href="../238533/index.html">Courses of information technology Yandex. Life before and after</a></li>
<li><a href="../238535/index.html">New drives - what's the future?</a></li>
<li><a href="../238539/index.html">Start of active use of ShellShock</a></li>
<li><a href="../238541/index.html">Dropclock for xscreensaver or as a coder wrote a screensaver for Linux</a></li>
<li><a href="../238543/index.html">How to create an interesting game setting? Level Three: music</a></li>
<li><a href="../238545/index.html">In memory of Alexei Yakovlevich Chervonenkis</a></li>
<li><a href="../238547/index.html">New life protocol Gopher</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>