<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hetzner dedicated or in search of cheap hosting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to talk about how I was puzzled by the search for inexpensive hosting with Java support. 
 In the beginning I decided that it would be nice to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hetzner dedicated or in search of cheap hosting</h1><div class="post__text post__text-html js-mediator-article">  I want to talk about how I was puzzled by the search for inexpensive hosting with Java support. <br>  In the beginning I decided that it would be nice to buy a piece of iron, put it at home, give it a good channel and enjoy life.  But then I decided to calculate the approximate monthly cost of such a decision, and it turned out that a 200W unit will eat ~ 3-4kW per month (100-150W will eat iron), and it will cost 350-400 rubles (I have a gas stove). <br>  Let's add here a good channel + SP, and we have about 750 rubles (and this is without a backup!). <br>  Total about 1000 rubles per month and another about 8000 rubles will go one-time to purchase components that can pass for file-dumping + UPS (&gt; = 2000 p) and we see that independently hosting ‚Äúa couple of sites and mail‚Äù becomes a stressful affair. <br>  Someone will offer to recoup this by placing projects - but who will agree to pay for hosting, which God hangs on 30 megabits, and has a chance to be offline due to the fact that someone cut the wire in the dashboard, or from the provider "Dns burned again." <br>  I started the search with Mother Russia and found <a name="habracut"></a>  hosting from <a href="http://brim.ru/hosting/vps.html">brim.ru</a> (through Habropoisk), talked to the support, and the proposed conditions, to put it mildly, are not <s>enough</s> standard. <br>  <i>6. Memory (basic 256MB) is allocated to</i> <i><br></i>  <i>account (kernel, services, applications).</i> <i><br></i>  <i>Expansion is possible - the cost of the service:</i> <i><br></i>  <i>100 rubles / month for 64MB</i> <i><br><br></i>  <i>7. Account exists on RAID 1 array.</i> <i><br></i>  <i>Backup of data and / or image</i> <i><br></i>  <i>account is not made.</i> <br>  the price is 500 rubles per month, they don‚Äôt back up + there is a ratio for traffic, that is, their own backups will spoil their lives (just downloading them) and will not turn around in 256 megabytes of Java, but don‚Äôt push (although I‚Äôm sure that write how to squeeze the most out of this amount of memory, but for mail + jsp + php + ftp + DB this is not serious). <br><br><h4>  Look wider </h4><br>  Having bumped into a meager market with more exorbitant prices, I was intrigued by a lot of offers from $ 1.5 a month or more.  I <a href="http://mochahost.com/">went</a> to <a href="http://mochahost.com/">mochahost.com</a> (it‚Äôs hard not to notice, because Google is promoting it with any kind of <i>java hosting</i> request), which for $ 7 was ready to offer me the golden mountains, sftp and tomcat, unlimited traffic and the same place. <br>  What can I say about them ... there is only a delay when connecting to the server, the terrible lags of everything dynamic, including cPanel and terrible technical support.  Java on the tariff with Java, they include only on request in the support, account activation takes 6+ hours.  Maybe someone will be lucky with them more ... if you live next to the DC ... or something like that. <br>  Their only purpose is to host mail.  At the minimum rate, you can serve 1 domain and on it email accounts and all for "dollar-ninety-five." 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I believed in them, or rather, in those $ 20 that they left there) sftp was not given (lent SSL), JSP processing took forever (second reaction, and not for the first time, but after tomkat chewed it, JSP uses net.Socket). <br><br><h4>  They are closer than we thought .. </h4><br>  And I went back to the dark search path hoster.  Yandex brought me to various Russian resources (Habru including), Google to foreign, but I also went to VDS hosting, and the first name I saw was <a href="http://www.hetzner.de/">Hetzner</a> .  After reading articles about him, having read them to Wiki, having seen how users of the local portal without any problems put FreeBSD on there or any image from installimage, I was not really interested in them. <br><br>  For starters, I ordered a VQ12 plan, 1 GB of memory, 40 GB of space, a Linux of my choice (and Windows too) and 2 TB of traffic on 100 megabytes. <br>  Taking debian6 @ 32, which is already out of the box, I felt what a gap between shared hosting and (virtual machine, but still ..) VDS felt.  I put nginx + tomcat + MySQL there and began to enjoy life and for only 12.9 euro-19% = 10.84 euros (since I am Russian, I do not pay VAT). <br>  Next were Dovecot + Postfix + sasl, certificates, user base in MySQL, letters to fly, logs are being written, ports are closed, ssh is gone from 22 ... Everything was great.  And the tariff plan ~ 430 rubles per month is remarkable, but there is not enough processor power. <br>  The backup system is made by me so that at the beginning the content is packaged (part with compression <code>7z a</code> , part without <code>7z a -mx0</code> ) in 7z, and then it is encrypted with a public key via gpg, key size 4096, dropped into a folder that is tied to a subdomain in nginx. <br>  Next, I run <code>wget -r --no-check-certificate ....</code> at home <code>wget -r --no-check-certificate ....</code> and cling to ***. 7z.gpg, well, at the end I decrypt it. <br>  In the moments of encryption, I felt very sharply how the ‚Äúprocessor‚Äù rolls over 100% and at the same time the mail to the server starts to go very tight, jsp is slow, and roundcube beats the head (it was possible to limit the resources for gpg, but in addition to the processor I needed <i>need mooore free space</i> , more on this below). <br><br>  In addition, at that moment I decided clearly that I would be posting, and the space in 40 GB was not enough (or rather, in a month or two such a moment could arise, ~ 30 GB are mail accounts). <br><br><h4>  Just like the "vzloslyh" </h4><br>  My choice fell on a dedicated server.  Why ‚Äúserver‚Äù and not server?  Because they are assembled on ordinary iron, which can be bought at any store and is quite affordable.  It was tempting to switch to the EQ4 tariff, but for my needs, 8GB of memory and 1.5TB of space were somehow above the roof.  Especially a quarter cheaper tariffs that suited me. <br>  And so I bought the X3 <i>(X-three)</i> .  From small pluses: I found 5600+ processor instead of 4200+ and 2 screws of 400GB each instead of three hundred.  At the moment, system performance is enough for solving problems, and there is a place for storing the data I need (and greedy mail, including).  Hard work in software mode RAID-1, so that an additional mirror was added to my backups.  He put debian6 @ 64 at the beginning of it, but the processes began to eat 1.5-2 times more memory, but there was a gingerbread too - according to test <code>7z b</code> it gives out 300 parrots more.  As a result, debian6 @ 32 was installed, the disk was marked for the needs: <br> <code>PART swap swap 4G <br> PART /boot ext4 512M <br> PART /var ext4 32G <br> PART / ext4 16G <br> PART /usr ext4 all</code>  <code>PART swap swap 4G <br> PART /boot ext4 512M <br> PART /var ext4 32G <br> PART / ext4 16G <br> PART /usr ext4 all</code> , as an <i>administrator for the iron server,</i> I am not a wizard yet, but I hope the markup will not tarnish the general information content of the post.  var limited, because I write logs by default, 16 gigs for the root ‚Äújust in case‚Äù, swap = 2 memory (obmusolivanie this topic was on <a href="http://www.linux.org.ru/polls/polls/3748189">linux.org.ru</a> ), and all content is stored in / usr <br>  At the moment, the flight of the server is normal and I'm happy as an elephant. <br><br>  In conclusion, I want to inform you that I strongly disagree with those <a href="http://habrahabr.ru/blogs/hosting/91466/">authors</a> who say (myth # 5) that hosting on the hardware store is a hoax and a kindergarten.  From myself I want to note that many tasks are successfully solved on a simple processor with 2-4MB of cache and 2-4 adra, for the power of xeon, for ECC, and for smart SAS, if their absence is <u>not critical</u> for the project - <u>do not</u> overpay. <br>  The VQ12 server was ready in half an hour, the X3 server was ready in less than an hour. <br><br><h4>  Performance testing </h4><br>  Below, I attach a small test of the performance of these two tariff plans (alas, as <s>Google</s> didn‚Äôt google, no one laid out tests on this German). <br><br><h5>  Vq12 </h5><br> <code><a href=""></a> --&gt; hdparm -tT /dev/sda <br> <br> /dev/sda: <br> Timing cached reads: 16732 MB in 2.00 seconds = 8375.75 MB/sec <br> Timing buffered disk reads: 482 MB in 3.01 seconds = 160.37 MB/sec <br> =========== <br> --&gt; time echo '2 1000000 ^ p'|dc <br> <br> real 0m5.592s <br> user 0m5.056s <br> sys 0m0.024s <br> =========== <br> --&gt; wget mirror.yandex.ru/debian-cd/6.0.0-live/i386/iso-hybrid/debian-live-6.0.0-i386-standard.iso <br> <br> 2011-03-21 22:06:50 (5.36 MB/s) - –Ç—ödebian-live-6.0.0-i386-standard.iso–Ç—ú saved [232783872/232783872] <br> =========== <br> --&gt; time taskset 0xFFFFFFFF 7z a test.7z debian-live-6.0.0-i386-standard.iso <br> <br> 7-Zip 9.04 beta Copyright (c) 1999-2009 Igor Pavlov 2009-05-30 <br> p7zip Version 9.04 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,1 CPU) <br> Scanning <br> <br> Creating archive test.7z <br> <br> Compressing debian-live-6.0.0-i386-standard.iso <br> <br> Everything is Ok <br> <br> real 2m54.989s <br> user 2m44.754s <br> sys 0m8.989s <br> =========== <br> --&gt; taskset 0xFFFFFFFF 7z b <br> <br> 7-Zip 9.04 beta Copyright (c) 1999-2009 Igor Pavlov 2009-05-30 <br> p7zip Version 9.04 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,1 CPU) <br> <br> RAM size: 1010 MB, # CPU hardware threads: 1 <br> RAM usage: 419 MB, # Benchmark threads: 1 <br> <br> Dict Compressing | Decompressing <br> Speed Usage R/U Rating | Speed Usage R/U Rating <br> KB/s % MIPS MIPS | KB/s % MIPS MIPS <br> <br> 22: 1607 100 1568 1563 | 19696 100 1778 1778 <br> 23: 1897 100 1933 1932 | 19965 100 1833 1828 <br> 24: 1788 100 1924 1922 | 20066 100 1865 1862 <br> 25: 1252 99 1439 1430 | 19535 100 1830 1837 <br> ---------------------------------------------------------------- <br> Avr: 100 1716 1712 100 1827 1826 <br> Tot: 100 1771 1769 <br> =========== <br> --&gt; grep -m 4 -e "model name" -e "MHz" -e "cache size" -e "bogomips" /proc/cpuinfo <br> model name : QEMU Virtual CPU version 0.13.0 <br> cpu MHz : 3073.982 <br> cache size : 4096 KB <br> bogomips : 6147.96 <br></code> <br><h5>  and X3 fare </h5><br> <code><a href=""></a> --&gt; hdparm -tT /dev/md4 <br> <br> /dev/md4: <br> Timing cached reads: 2148 MB in 2.00 seconds = 1074.50 MB/sec <br> Timing buffered disk reads: 220 MB in 3.02 seconds = 72.82 MB/sec <br> =========== <br> --&gt; time taskset 0xFFFFFFFF echo '2 1000000 ^ p'|dc <br> <br> real 0m7.430s <br> user 0m6.660s <br> sys 0m0.036s <br> =========== <br> <br> --&gt; wget mirror.yandex.ru/debian-cd/6.0.0-live/i386/iso-hybrid/debian-live-6.0.0-i386-standard.iso <br> <br> 2011-03-21 21:57:47 (6.45 MB/s) - –Ç—ödebian-live-6.0.0-i386-standard.iso–Ç—ú saved [232783872/232783872] <br> =========== <br> --&gt; time taskset 0xFFFFFFFF 7z a test.7z debian-live-6.0.0-i386-standard.iso <br> <br> 7-Zip 9.04 beta Copyright (c) 1999-2009 Igor Pavlov 2009-05-30 <br> p7zip Version 9.04 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,2 CPUs) <br> Scanning <br> <br> Creating archive test.7z <br> <br> Compressing debian-live-6.0.0-i386-standard.iso <br> <br> Everything is Ok <br> <br> real 1m17.403s <br> user 2m29.109s <br> sys 0m1.452s <br> =========== <br> --&gt; taskset 0xFFFFFFFF 7z b <br> <br> 7-Zip 9.04 beta Copyright (c) 1999-2009 Igor Pavlov 2009-05-30 <br> p7zip Version 9.04 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,2 CPUs) <br> <br> RAM size: 1993 MB, # CPU hardware threads: 2 <br> RAM usage: 425 MB, # Benchmark threads: 2 <br> <br> Dict Compressing | Decompressing <br> Speed Usage R/U Rating | Speed Usage R/U Rating <br> KB/s % MIPS MIPS | KB/s % MIPS MIPS <br> <br> 22: 3037 170 1736 2955 | 42922 200 1937 3875 <br> 23: 3077 176 1778 3135 | 42357 200 1941 3878 <br> 24: 3061 182 1808 3291 | 41719 200 1939 3871 <br> 25: 3023 178 1941 3452 | 41133 200 1936 3868 <br> ---------------------------------------------------------------- <br> Avr: 177 1816 3208 200 1938 3873 <br> Tot: 188 1877 3541 <br> =========== <br> --&gt; grep -m 4 -e "model name" -e "MHz" -e "cache size" -e "bogomips" /proc/cpuinfo <br> model name : AMD Athlon(tm) 64 X2 Dual Core Processor 5600+ <br> cpu MHz : 2800.000 <br> cache size : 1024 KB <br> bogomips : 5599.72</code> <br> <br><h4>  Addition: </h4><br>  taskset 0xFFFFFFFF cmd - this means that all processor cores will be involved in processing cmd. <br>  time - to find out the time spent. <br>  1 time the speed on VDS was 10MB per second when downloading an image from Yandex, unfortunately there is no proof. <br>  Both servers are located geographically in the same place (the question was asked, since I was wondering if I didn‚Äôt lose ping ~ 60-65 and a good channel with Russia when changing the tariff and server): <i>your VQ-server is in DC12, your X3 is in DC13.</i> <i><br></i>  <i>It is the same location</i> . </div><p>Source: <a href="https://habr.com/ru/post/116017/">https://habr.com/ru/post/116017/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116006/index.html">New MacBook Pro Challenge</a></li>
<li><a href="../116008/index.html">Experience placing applications in the Windows Phone MarketPlace</a></li>
<li><a href="../116009/index.html">iPad: Microwave Computer Technology</a></li>
<li><a href="../116011/index.html">Mozilla Releases Firefox 4 Release Candidate for Android and Maemo</a></li>
<li><a href="../116015/index.html">Big Brother</a></li>
<li><a href="../116018/index.html">How to get rid of glare on the screen of your iPad 2?</a></li>
<li><a href="../116021/index.html">tinycmd - enter a few characters instead of a long command in the console</a></li>
<li><a href="../116022/index.html">ReactOS developers proudly present version 0.3.13</a></li>
<li><a href="../116023/index.html">Google received a patent for Doodles</a></li>
<li><a href="../116025/index.html">Extract Fonts from PDF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>