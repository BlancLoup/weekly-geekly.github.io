<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Do you know all about if?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How do you put brackets, what do you include in blocks, how do you write logical expressions? .. Do you think that by following simple rules, you can ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Do you know all about if?</h1><div class="post__text post__text-html js-mediator-article">  How do you put brackets, what do you include in blocks, how do you write logical expressions? .. Do you think that by following simple rules, you can not only make the code more readable, but also make debugging easier, improve diagnostics, and improve performance? .. <br><br>  I offer 5K thoughts and links to style guides (hereinafter SG).  I hope that this article will be a pleasant and easy reading.  And I am sure that it does not touch all the issues and I hope for a substantive discussion. <br><br><a name="habracut"></a><br>  Strictly speaking, such things can be written not only about if.  It is if that is chosen almost by accident (in the end, and why not?).  The idea of ‚Äã‚Äãthis article <a href="http://habrahabr.ru/blogs/cpp/61132/">threw</a> <a href="https://habrahabr.ru/users/f0b0s/" class="user_link">f0b0s</a> .  She (the idea) was supported by several people at once, I also began to wait for the article;  but without waiting, he decided to raise this banner himself.  <a href="https://habrahabr.ru/users/f0b0s/" class="user_link">f0b0s</a> , thanks for the idea, I apologize, if ahead, wait for comments. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For completeness, we will devote a second to banal things. <br><br><h2>  Braces </h2><br>  Ideal option to write curly brackets everywhere, and each expression if / else / else_if <br><br><pre>  // OK
 if (a == b) {
   foo ();
 } else {
   bar ();
 } </pre><br>  some SGs recommend writing else on a new line <br><br><pre>  // Not
 } else {
 // but
 }
 else {
 // or
 }
 else
 { </pre><br>  Then else it turns out with the same indent, as corresponding if.  But there is no unity in this matter. <br><br>  If you, nevertheless, omit the brackets (in which there is no crime), then you need to take into account two aspects.  First, stick with the same tactics for if and else blocks: <br><br><pre>  // smarter
 if (a == b) {
   foo ();
   bar ();
 } else
   bazzz (); </pre><br>  And, secondly, do not write the entire if in one line. <br><br><pre>  // VERY BAD
 if (cond ()) act ();
 else err (); </pre><br>  Mixing styles within one if / else makes it difficult to read, and placing several expressions on one line also makes debugging difficult;  in the last example, cond () and act () are located on the same line;  This makes it difficult to find errors by deadline and debugging. <br><br><h2>  And two more comments about the blocks </h2><br><h3>  Create variables only when needed </h3><br>  Take advantage of C ++.  If a variable is needed only in a block, then create it only in a block. <br><br><pre>  // BADLY
 SomeClass p;  // needed only in block
 if (x == y) {
   p.moveTo (x, y);
   p.logResultsOfMovement ();
 } </pre><br><pre>  // OK
 if (x == y) {
   SomeClass p;  // needed only in block
   p.moveTo (x, y);
   p.logResultsOfMovement ();
 } </pre><br>  This will save processor time, memory ... in general, everything that is so dear to every person professing humanistic ideals :-) <br><br><h3>  Describe the normal course of events first. </h3><br>  In the if / else expressions, first describe the normal course of events, and in the else block, handle the handling of abnormal situations.  This makes it easier to read the program: <br><br><pre>  // OK
 bool errorFlag = openConnection ();
 if (! errorFlag) {
   doJob ();
 } else {
   dropJob ();
 } </pre><br><h2>  Boolean expressions </h2><br><h3>  C ++ not C </h3><br>  First of all, in C ++ you should not follow the style of C to write <br><br><pre>  // BADLY
 if (float_num) {}
 if (int_num) {} </pre><br>  The C ++ standard <i>does not guarantee</i> that float (0) and even int (0) are implemented as ‚Äúall bits 0‚Äù (although this works, of course, but this is purely coincidental :-)). <br><br>  If you need to check for equality 0, then it is better to write this: <br><br><pre>  // OK
 if (float_num! = .0) {}
 if (int_num! = 0) {} </pre><br>  As a condition, only logical values ‚Äã‚Äãshould be used.  This, incidentally, also applies to cycles: <br><br><pre>  // OK
 while (true) {}
 // BADLY
 while (1) {}
 for (;;) {} </pre><br><h3>  Separate logical expressions </h3><br>  If a logical expression consists of several parts, then the worst practice is to write them all in a heap.  Is it possible to quickly understand what is written here? <br><br><pre>  // BADLY
 if (figureX&gt; leftLimit &amp;&amp; figureX &lt;fightLimit &amp;&amp; figureColor == GREEN) </pre><br>  Illumination, of course, would help, but without illumination the following expression reads much simpler: <br><br><pre>  // OK
 if (figureX&gt; leftLimit &amp;&amp;
     figureX &lt;fightLimit &amp;&amp;
     figureColor == GREEN) </pre><br>  But absolutely perfect, introduce additional variables into the program. <br><br><pre>  // VERY CUTE
 bool isInside = figureX&gt; leftLimit &amp;&amp; figureX &lt;fightLimit;
 bool isGreen = figureColor == GREEN;
 if (isInside &amp;&amp; isGreen) </pre><br>  This program is much easier to read, and in addition, the variables isInside and isGreen can be useful in the future. <br><br>  And for greater readability, you can put brackets around logical expressions in the first two lines. <br><br><h2>  Expressions in terms of </h2><br>  It is better to make expressions from conditions <br><br><pre>  // OK
 bool dataReaded = readDdata (fileName);
 if (dataReaded) {} </pre><br>  This makes the code more readable than <br><br><pre>  // BADLY
 if (readDdata (fileName)) {} </pre><br>  In addition, it echoes the general idea of ‚Äã‚Äãthe possibility of unloading the logical expression that has already been expressed above. <br><br>  And, of course, ‚Äúeach expression has its own string!‚Äù. <br><br><pre>  // VERY BAD
 if (readDdata (getFileNameFromArray (getEnvAsArray ()))) {} </pre><br>  Again, it is difficult to read, difficult to debug, difficult to localize errors. <br><br><h2>  Assignments to </h2><br>  For the reasons already stated, it is better not to make assignments in logical expressions: <br><br><pre>  // BADLY
 if (lid = getLabel () == curentLabel ()) </pre><br>  This leads to many troubles.  The expansion of a logical expression, placing multiple calls in one line.  The appearance of two similar (externally) operators "=" and "==", which additionally complicates reading and increases the likelihood of errors and typos. <br><br>  A very common mistake is to write one "=" instead of two ("==").  So that the compiler immediately pulled you by the hand, some people develop the habit of writing comparisons on the contrary (I confess, I could not work it out in myself :-)) <br><br>  If not write <br><br><pre>  // BADLY?
 if (x == 1) </pre><br>  but <br><br><pre>  // OK?
 if (1 == x) </pre><br>  then you can not be afraid to type and write "=" instead of "==".  In a good version, the program simply does not compile if you make such a typo. <br><br><h2>  It seems not forgotten </h2><br>  If you forgot something, thanks for the comments :-) <br><br>  A pair of good SG: <br><br>  <a href="http://geosoft.no/development/cppstyle.html">Classic SG</a> .  Pay attention to the links below - there are even more extensive documents. <br><br>  <a href="">SG from Google</a> .  It is worth exploring, as it is not completely in solidarity with the aforementioned SG. <br><br>  <b>upd</b> Thanks to all who commented!  The discussion (as I expected) turned out to be more interesting than the article :-) I do not comment on the article for two reasons.  Many remarks (equally fair) contradict each other (which is not surprising when discussing such topics).  And second, if I make all the edits, the discussion will become completely incomprehensible and the article will lose its best part :-) Let everything remain as it is and the ‚Äúerrors‚Äù (?) Made in the article will become an illustration to the discussion. </div><p>Source: <a href="https://habr.com/ru/post/61323/">https://habr.com/ru/post/61323/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../61311/index.html">What should a venture capitalist be?</a></li>
<li><a href="../61317/index.html">Nodules</a></li>
<li><a href="../61318/index.html">The first server battleship descended from stocks</a></li>
<li><a href="../61320/index.html">Google Wave Dev Preview</a></li>
<li><a href="../61321/index.html">How to teach yourself to get up at the same time</a></li>
<li><a href="../61324/index.html">Hosting provider 3FN terminated network access</a></li>
<li><a href="../61325/index.html">Yota presents the project of Luc Besson and Jan Arthus-Bertrand - film HOME</a></li>
<li><a href="../61328/index.html">Microsoft installs addon for FireFox without asking</a></li>
<li><a href="../61329/index.html">SharePoint. Pencils as a gift</a></li>
<li><a href="../61331/index.html">Wolfram Alpha is not SkyNet!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>