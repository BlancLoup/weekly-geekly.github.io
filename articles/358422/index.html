<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Making the Marketplace integrated into the online cash desk cloud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last December, we participated in the hackathon with our prototyping platform. For the allotted two days, we swung from scratch to deal with the onlin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Making the Marketplace integrated into the online cash desk cloud</h1><div class="post__text post__text-html js-mediator-article"><p>  Last December, we participated in the hackathon with our prototyping platform.  For the allotted two days, we swung from scratch to deal with the online cash register and its cloud ecosystem, as well as to make a prototype of the service - Marketplace.  As expected, we spent 80% of the time integrating with an unfamiliar device, and for the remaining 20% ‚Äã‚Äãwe had a good time and did the rest. </p><br><p>  Honestly, we were surprised by the ease of entry into this cloudy world, its scope (160 thousand users almost at the start), opportunities and ... holes.  As a result, everything worked out for us, and the organizing company, according to their statements, is about to launch a marketplace project. </p><br><p>  In this article I will show how a web service was made in 2-3 hours, integrated with cloud cash registers and suitable for running in on a focus group of clients.  The project itself is available for review and cloning as source code in github and online version. </p><br><img src="https://habrastorage.org/webt/ne/tp/u6/netpu6cq5dr4cthzsmkus6fmphc.png"><br><a name="habracut"></a><br><p>  We came to the hackathon not so much without groundwork, but generally vaguely presenting what it was about.  The only person who was aware and who signed us here is not engaged in development.  Therefore, it was necessary to do everything very quickly - TK was written immediately to the platform, debugging its work. </p><br><h3>  In our case, the marketplace is a system for delivering goods to the seller (owner of the online cash register) as needed, that is, when the goods are finished. </h3><br><p>  The purpose of the hackathon was to create an application that will be available in the cloud service store and will perform some useful functions to clients.  The main objective of our application is to register a user in the service and give him quick access to the Marketplace personal account.  In the mobile application, Marketplace also works in the form of a web-view, but, of course, we did not begin to debug the service for different mobile platforms. </p><br><p>  <b>The integration part looks quite simple: a registered client receives a token with which our service contacts the cloud and requests information about stores, products, cash desks and employees in JSON format.</b>  <b>Next, we synchronize data with our database and then we are ready to work with the outside world, what the core of the platform is already doing.</b> </p><br><p>  The scheme of its data in the <a href="https://habr.com/post/346816/">Platform</a> Type Editor looks like the image below - this is how our TK begins. </p><br><p>  <i>I remind you that in the type editor the hierarchy of objects is displayed according to a simple rule: all the details of the object are located to the right of the parent and are distributed downwards.</i> </p><br><p><img src="https://habrastorage.org/webt/jl/19/gw/jl19gw6byzc2oncpvijx6ql6hay.png"></p><br><p>  However, the data scheme is hidden from users of the system, and only the administrator can change it. </p><br><p>  When installing our application in a cloud service store, the client gets access to a personal account, where he sees information about all his stores, products, users and terminals.  This is how the cloud sync workplace, created by our designer on the second morning of the hackathon, looks like: </p><br><p><img src="https://habrastorage.org/webt/01/0_/v9/010_v9uxhgo6tuqauk19uqq9yai.png"></p><br><p><img src="https://habrastorage.org/webt/_x/kw/fq/_xkwfqljopdddwkvj6a1qtytdve.png"></p><br><p>  We repeated the data structure of the cloud, and in the Synchronization menu, the data in the service is updated: shops, products and other objects are created, prices are updated, etc.  The synchronization page shown in the figure above, javascript draws all objects received in JSON from the cloud and from the service database. </p><br><p>  The code of the synchronization page itself, if anyone is interested, is available in the <a href="https://github.com/tryint/evo"><b>githaba</b></a> .  It is made on bare javascript, there is 7 kilobytes of code, which, for sure, can be reduced, but for the hackathon it was not important. </p><br><div class="spoiler">  <b class="spoiler_title">Many letters, how everything is arranged inside</b> <div class="spoiler_text"><p>  The interface of this form is built on 3 service reports that collect data for building a synchronization form and a menu.  There are also several reports that are directly displayed to the user, they are all interactive. </p><br><p> <b>A report is a collection of fields from various data schema tables.</b>  <b>The platform core selects all these fields, independently linking the necessary tables into an SQL-like query, applying filters, grouping, sorting, and other SQL features.</b>  <b>The linking of the tables itself is left behind the scenes, and the user sets only the set of fields and query parameters he needs.</b> </p><br><p>  Here is the list of reports in the basic interface of the platform: </p><br><p><img src="https://habrastorage.org/webt/rg/xn/dw/rgxndwp463xane0nqmdpg0egbuw.png"></p><br><p>  The report fields selected by the user are located in subordinate tables. The report columns are discussed in detail in the hidden text below under the article. </p><br><p>  We called the service reports with the prefix int.  User reports are named in Russian, and user access to them is limited by the mask of the report name specified in the Role (all details are also described in hidden text, if anyone is interested). </p><br><div class="spoiler">  <b class="spoiler_title">About service reports</b> <div class="spoiler_text"><p>  The intMyShop and intMySupp reports return, respectively, the Store and Supplier codes associated with the user.  For example, intMyShop inside looks like this: </p><br><p><img src="https://habrastorage.org/webt/qo/99/lz/qo99lz5kp3dzaqixbxfe8uvaisk.png"></p><br><p>  When executing the query for this report, the platform engine will select from the database all references to the User that are equal to the user ID that launched the report ([USER_ID] and [USER] - the user ID and user name, runtime settings).  Appropriate Shops will also be selected.  The abn_ID function used here returns the object ID, not its name, because identifiers are used as a reference.  In addition, comparing numeric IDs is faster than symbolic object names. </p><br><p>  The report will return a value that can be used to auto-complete the form field when creating an order.  We specify this report in the Type Editor as the default value for the Store field: </p><br><p><img src="https://habrastorage.org/webt/x0/y3/gz/x0y3gz_p5dighun7hxvzyktv8z8.png"></p><br><p>  Thus, when creating an order, the current date, the ‚ÄúNew‚Äù status code (737) and the Store code to which the user is associated will be immediately substituted into it. </p><br><div class="spoiler">  <b class="spoiler_title">Stand!</b>  <b class="spoiler_title">What is the new status code?</b> <div class="spoiler_text"><p>  In the Service Dictionary, we can look at the Status Guide, where you can find out the codes (system IDs) that are inserted into the order to indicate its status. </p><br><img src="https://habrastorage.org/webt/eu/w0/tc/euw0tcg8jml1qyiwz1bhsh5fmtc.png"><br></div></div><br><p>  The intProds report collects information about the products of the Store to which the user is attached.  Here are the report columns, which are given the names that are then used in the template: </p><br><p><img src="https://habrastorage.org/webt/ul/jf/yf/uljfyfzej1pqxk5j9cw2xw4yghk.png"></p><br><p>  The set of records returned by the report looks like this: </p><br><p><img src="https://habrastorage.org/webt/bk/nm/kl/bknmklgiq5dlp5aw0altqpzbdwo.png"></p><br><p>  This report is used in the synchronization form to populate a javascript array in this code snippet: </p><br><pre><code class="javascript hljs">&lt;script&gt; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> s=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(), p=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(); <span class="xml"><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Begin:intShops --&gt;</span></span></span><span class="xml">s['{uid}'] = {i:{id}, n:'{n}'}; </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- End:intShops --&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Begin:intProds --&gt;</span></span></span><span class="xml">p['{uid}'] = {i:{id}, s:'{sid}', n:'{tname}', stock:'0{stock}',min:'0{min}',ask:'0{ask}',costPrice:'{price}'}; </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- End:intProds --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  The &lt;! - Begin: intProds -&gt; ... &lt;! - End: intProds -&gt; construct tells the parser to call the intProds report, and use its result columns to fill the {uid}, {id}, {sid} insertion points and others inside this design.  The code fragment inside the insertion point will be repeated as many times as the records will return the report. </p><br><p>  Having processed this code, the parser will fill it with data, getting the javascript executable, something like this: </p><br><pre> <code class="hljs 1c">&lt;script&gt; var s=new Array(), p=new Array(); s['<span class="hljs-number"><span class="hljs-number">20171202-0534-40</span></span>70-<span class="hljs-number"><span class="hljs-number">8033-06</span></span>A<span class="hljs-number"><span class="hljs-number">9159</span></span>C64BE'] = {i:<span class="hljs-number"><span class="hljs-number">529</span></span>, n:' '}; s['<span class="hljs-number"><span class="hljs-number">20171204</span></span>-C914-409F-<span class="hljs-number"><span class="hljs-number">8028-40</span></span>5CA94D6FE4'] = {i:<span class="hljs-number"><span class="hljs-number">1178</span></span>, n:' '}; p['70b263e5-252f-4a77-949e-22f4ed7dedab'] = {i:<span class="hljs-number"><span class="hljs-number">547</span></span>, s:'<span class="hljs-number"><span class="hljs-number">20171202-0534-40</span></span>70-<span class="hljs-number"><span class="hljs-number">8033-06</span></span>A<span class="hljs-number"><span class="hljs-number">9159</span></span>C64BE', n:'   100/50 .', stock:'05',min:'07',ask:'020',costPrice:'48'}; p['2e3a61d4-f465-4ec9-ad86-a84e53b<span class="hljs-number"><span class="hljs-number">4402</span></span>a'] = {i:<span class="hljs-number"><span class="hljs-number">549</span></span>, s:'<span class="hljs-number"><span class="hljs-number">20171202-0534-40</span></span>70-<span class="hljs-number"><span class="hljs-number">8033-06</span></span>A<span class="hljs-number"><span class="hljs-number">9159</span></span>C64BE', n:'   <span class="hljs-number"><span class="hljs-number">1950</span></span> 3-5 4', stock:'050',min:'<span class="hljs-number"><span class="hljs-number">0103</span></span>',ask:'<span class="hljs-number"><span class="hljs-number">0100</span></span>',costPrice:'42'}; p['581c8f9b-6a19-42bc-9a36-169e<span class="hljs-number"><span class="hljs-number">792165</span></span>bc'] = {i:<span class="hljs-number"><span class="hljs-number">551</span></span>, s:'<span class="hljs-number"><span class="hljs-number">20171202-0534-40</span></span>70-<span class="hljs-number"><span class="hljs-number">8033-06</span></span>A<span class="hljs-number"><span class="hljs-number">9159</span></span>C64BE', n:'   ', stock:'050',min:'040',ask:'<span class="hljs-number"><span class="hljs-number">0100</span></span>0',costPrice:'8'}; p['11e59bcf-ea73-4fbd-adb2-955fd<span class="hljs-number"><span class="hljs-number">345274</span></span>9'] = {i:<span class="hljs-number"><span class="hljs-number">553</span></span>, s:'<span class="hljs-number"><span class="hljs-number">20171202-0534-40</span></span>70-<span class="hljs-number"><span class="hljs-number">8033-06</span></span>A<span class="hljs-number"><span class="hljs-number">9159</span></span>C64BE', n:'  ', stock:'015',min:'040',ask:'00',costPrice:'125'}; p['7a<span class="hljs-number"><span class="hljs-number">631129-05</span></span>c0-4cf3-a9d7-dfbd56d31e68'] = {i:<span class="hljs-number"><span class="hljs-number">555</span></span>, s:'<span class="hljs-number"><span class="hljs-number">20171202-0534-40</span></span>70-<span class="hljs-number"><span class="hljs-number">8033-06</span></span>A<span class="hljs-number"><span class="hljs-number">9159</span></span>C64BE', n:'Draje', stock:'050',min:'<span class="hljs-number"><span class="hljs-number">0100</span></span>',ask:'<span class="hljs-number"><span class="hljs-number">0100</span></span>0',costPrice:'44'}; &lt;/script&gt;</code> </pre><br><br><p>  Further, these arrays are used to draw synchronization tables with the cloud. </p><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Briefly about the organization of access roles</b> <div class="spoiler_text"><p>  There are three user roles in the service: Seller (User), Supplier and Logistics company.  This is how users look in the Dictionary: </p><br><p><img src="https://habrastorage.org/webt/hq/v6/57/hqv657tb3wh5ug8fmmmv0sczru4.png"></p><br><p>  User roles are set to the menu displayed by the user - a set of items in the form of links to reports. </p><br><p><img src="https://habrastorage.org/webt/we/tz/uf/wetzuf-x_jjctzo6rfgt33_ctr4.png"></p><br><p>  For each role, a set of accesses is also set, which can be output to the summary report: </p><br><p><img src="https://habrastorage.org/webt/xe/ym/ja/xeymjat_kck22hfwfjqp7iqcdga.png"></p><br><p>  For a role, a set of objects, a mask for visibility restrictions, and an access level ‚Äî ban, read, write ‚Äî are indicated. </p><br><p>  The report shows that user roles have read access to the reports, in addition, access is limited by the mask for the report name.  So everyone sees only their reports. </p><br><p>  There is also a Reg user who can create users with the User role (and only for her - access to the role directory is limited by a mask).  He cannot view users, because the ‚Äú!%‚Äù Mask sets a ‚Äúempty‚Äù username, which cannot be.  This user is used by the site registration form, which, after checking the captcha and validating the fields, can record a new user by sending a POST request to the service, imitating the sending of a user creation form. </p><br><p>  The source of the access report is extremely simple: </p><br><p><img src="https://habrastorage.org/webt/bf/oo/2i/bfoo2iztkstqcercorkyw4q3ops.png"></p><br></div></div></div></div><br><p>  <b>Deliveries are made on a competitive basis, both in relation to suppliers of goods, and to the organizers of delivery.</b>  <b>The scheme of work was thought out so as not to force anyone to do someone else's or extra work - all the information is already in the cloud, and it is available to market participants:</b> </p><br><ul><li>  <b>The seller</b> once specifies the minimum balance, upon his achievement, he receives offers to choose from. </li><li>  <b>The supplier</b> sees all the goods for which there is demand, and indicates its price and volume in stock. </li><li>  <b>The logistic company</b> sees all possible delivery routes and ships orders. </li></ul><br><h3>  Seller </h3><br><p>  For the purposes of the project, the seller can add to the goods properties: the minimum balance and the minimum order, which helps to create orders to suppliers faster. </p><br><p><img src="https://habrastorage.org/webt/b4/qz/_b/b4qz_bjb1_ninluplvnxliou7ae.png"></p><br><p>  We specify the desired values, and they are stored with reference to the product. </p><br><div class="spoiler">  <b class="spoiler_title">Show how they are saved</b> <div class="spoiler_text"><p>  When the button is pressed, javascript is called, which asynchronously saves the data with a GET request. </p><br><pre> <code class="hljs pgsql">// Save the parameters <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> this Product <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> saveDiv(d){ save = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> XMLHttpRequest(); save.<span class="hljs-keyword"><span class="hljs-keyword">open</span></span>(<span class="hljs-string"><span class="hljs-string">'GET'</span></span> ,<span class="hljs-string"><span class="hljs-string">'index.php?db={_global_.z}&amp;a=edit_obj&amp;next_act=nul&amp;do=save_val&amp;id='</span></span>+p[d].i +<span class="hljs-string"><span class="hljs-string">'&amp;t216='</span></span>+document.getElementById(<span class="hljs-string"><span class="hljs-string">'s'</span></span>+d).<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> +<span class="hljs-string"><span class="hljs-string">'&amp;t217='</span></span>+document.getElementById(<span class="hljs-string"><span class="hljs-string">'m'</span></span>+d).<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> +<span class="hljs-string"><span class="hljs-string">'&amp;t716='</span></span>+document.getElementById(<span class="hljs-string"><span class="hljs-string">'a'</span></span>+d).<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); save.send(); save.onload=<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(e) { save.<span class="hljs-keyword"><span class="hljs-keyword">abort</span></span>(); // Light the "Saved Ok" icon document.getElementById(<span class="hljs-string"><span class="hljs-string">'b'</span></span>+d).style.display=<span class="hljs-string"><span class="hljs-string">'inline'</span></span>; } }</code> </pre><br><p>  This request emulates the form submission, as if the user found this item in the Store in the basic interface, edited and clicked to save: </p><br><p><img src="https://habrastorage.org/webt/1o/qz/hb/1oqzhbfykhkm52-fhsevqrrltby.png"></p><br><p>  We simply pulled out all the fields we need from the html-code of this form automatically generated by the platform parser and drew them in a compact form that is understandable to the user. </p><br><div class="spoiler">  <b class="spoiler_title">Show source code of the base interface form</b> <div class="spoiler_text"><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FORM</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"index.php?db=evo&amp;a=edit_obj"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ENCTYPE</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"multipart/form-data"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ONSUBMIT</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"savebtn.disabled=true; return true;"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TABLE</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span>553    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">B</span></span></span><span class="hljs-tag">&gt;</span></span> ():<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">B</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"do"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"save_val"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"typ"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"211"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"553"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"t211"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"11e59bcf-ea73-4fbd-adb2-955fd3452749"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autofocus</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"height:5px; "</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"height:3px; "</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TABLE</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"table table-condensed"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" max-width:400px; "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ALIGN</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag">&gt;</span></span> : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nobr</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"t213"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1139"</span></span></span><span class="hljs-tag">&gt;</span></span>""-<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"532"</span></span></span><span class="hljs-tag">&gt;</span></span>Draje<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"536"</span></span></span><span class="hljs-tag">&gt;</span></span>   100/50 .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"535"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">SELECTED</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"980"</span></span></span><span class="hljs-tag">&gt;</span></span> / SH619/<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1170"</span></span></span><span class="hljs-tag">&gt;</span></span>  3 <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"533"</span></span></span><span class="hljs-tag">&gt;</span></span>   1950 3-5 4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"539"</span></span></span><span class="hljs-tag">&gt;</span></span>  / . " " 0,25.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"534"</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"537"</span></span></span><span class="hljs-tag">&gt;</span></span> .  BEATY YOUNG  15<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"538"</span></span></span><span class="hljs-tag">&gt;</span></span>  1,2 <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">select</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nobr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" max-width:400px; "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ALIGN</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag">&gt;</span></span> : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"t216"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"15"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" max-width:400px; "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ALIGN</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag">&gt;</span></span>  : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"t217"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"40"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" max-width:400px; "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ALIGN</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag">&gt;</span></span>  : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"t716"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" max-width:400px; "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ALIGN</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag">&gt;</span></span>  : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"t1025"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"125"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TABLE</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">colspan</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"savebtn"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-primary"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"copybtn"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-default"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TD</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TR</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TABLE</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FORM</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><p>  <i>* Part of cosmetic and other minor information has been removed from the form code</i> </p><br></div></div></div></div><br><p>  The service uses the product names identified by the barcode cloud service. </p><br><h4>  It is worth noting that a very successful approach is used in the cloud - using a single directory of popular product names for all - this minimizes name conflicts.  The user is "imposed" the most used option. </h4><br><div class="spoiler">  <b class="spoiler_title">About item codes</b> <div class="spoiler_text"><p>  Due to some peculiarities of working with nomenclature codes, these codes are stored in conjunction with the human names of the goods, and one product can be described by different codes.  So the directory of goods looks in the basic interface: </p><br><p><img src="https://habrastorage.org/webt/lk/jn/xw/lkjnxwyowuom-lgpe-d3tzjpr6s.png"></p><br><p>  Products exist in an independent directory, but items that use their names are tied to specific stores along with the parameters saved by the user: </p><br><p><img src="https://habrastorage.org/webt/j6/pf/r0/j6pfr0xe9obfvxznyiu9iymkt8q.png"></p><br></div></div><br><h3>  Provider </h3><br><p>  The supplier sees the goods that are used in the cloud by all users, and can filter them by name and barcode. </p><br><p><img src="https://habrastorage.org/webt/bm/bq/sx/bmbqsxvgxg4qixtok1tbhslagos.png"></p><br><p>  Products may have several barcodes by which they can be searched, although only one of them is shown in the table. </p><br><p>  We are looking for a bar code ending in% 7777 (for example, the Red Bull product has several different codes), we see how it works: </p><br><p><img src="https://habrastorage.org/webt/bo/cq/vt/bocqvthqbtcz1y78zcbh_obm16c.png"></p><br><div class="spoiler">  <b class="spoiler_title">Source of this report</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/mf/mk/dm/mfmkdmytlk4mpq22obbh1hli4fa.png"></p><br><p>  Only one barcode for each product is selected in the report - the last one, if you sort them alphabetically.  When applying a filter by barcode, only products with a suitable code will be displayed. </p><br><p>  Here we also collect the html-code of the ‚Äúbutton‚Äù - see the Formula field that will be drawn in the report and start the action of creating the ‚ÄúOffer‚Äù object (type 591), fill in its ‚ÄúProduct‚Äù property (type 593). </p><br><p>  The hackathon was done before we implemented the CNC in the core of the platform, so then the relative addresses looked like </p><br><pre> <code class="hljs objectivec">index.php?db=evo&amp;<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>=<span class="hljs-number"><span class="hljs-number">591</span></span>&amp;a=edit_obj&amp;<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>=new_obj&amp;t593=prod</code> </pre> <br><p>  Now the same address looks like this: </p><br><pre> <code class="hljs">evo/new_obj/591?t593=prod</code> </pre> <br><p>  which is more pleasant to see a man. </p><br></div></div><br><p>  Further, the supplier can create an offer for the delivery of a certain quantity of goods at the price indicated by them in order to participate in the competition among other suppliers.  The sentence editing form is the basic interface of the platform; nothing extra was needed here. </p><br><p>  We keep the offer in the form of its creation date: </p><br><p><img src="https://habrastorage.org/webt/mn/wk/lz/mnwklzj4hzcl-kxm5rsnmtj-s1i.png"></p><br><p>  The proposal has a system ID = 1238, the value of December 3, 2017 and details, some of which are filled automatically. </p><br><p>  The list of all offers of the Supplier (menu My offers) allows you to select and edit offers, delete irrelevant ones.  To do this, the reports are made interactive so that you can quickly navigate to the objects from the report, in this case, clicking the ‚ÄúDate‚Äù value: </p><br><p><img src="https://habrastorage.org/webt/vz/8h/nb/vz8hnbhmvtz8m2laivddzxlrj-e.png"></p><br><div class="spoiler">  <b class="spoiler_title">The report source looks like this.</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ir/jm/2w/irjm2wiortcd88rdgqzfujvm04e.png"></p><br><p>  The 6th column filters the report data - it will only include offers generated by the Supplier to which the current user belongs.  The query to the database will work approximately as follows: </p><br><ol><li>  The value of the context parameter [USER_ID] - the identifier of an authorized user - is compared with the identifiers (ID) of the System Users </li><li>  The User found by ID has a link to the Supplier, by which the latter will be found in the database </li><li>  Further, all Offers of this Supplier will be selected, which the current user will see in the report. </li></ol><br><p><img src="https://habrastorage.org/webt/hs/bw/m_/hsbwm_skahc5et3oya0ggid3q68.png"></p><br><p>  The query will probably be executed exactly in the given sequence, because the optimizer will first select the smallest objects, according to the statistics of the indices. </p><br><p>  <b>Why does this work that way?</b> </p><br><p>  Let me remind you that when creating a data model, the platform does not require (and does not allow) to specify indexable fields, because everything has been indexed in its database. </p><br><p>  The query optimizer does the dirty work for the programmer ‚Äî eliminates non-optimal scans of data tables, as if the administrator analyzed the structure and built all the necessary indices manually.  This is a routine task that is usually done as needed, however, if you don‚Äôt seriously engage in this, the database is unproductively consuming server resources.  Sometimes very unproductive. </p><br></div></div><br><p>  The seller sees all the offers of suppliers that are suitable for him: the product, the price of the supplier and the available quantity of the product, information about the orders already created, the latest purchase price. </p><br><p><img src="https://habrastorage.org/webt/is/d_/nb/isd_nbvvmutmyjizihs_nyitfgk.png"></p><br><div class="spoiler">  <b class="spoiler_title">Source report from the inside</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/qc/u9/ch/qcu9chfcswg5wnwrmxkpfkchpdk.png"></p><br><p>  This query to the database will display the offers of the Suppliers, sorted by relevance: in the 8th column is the minimum balance filling factor, the ascending of which is sorted.  The report also forms a hyperlink for ordering goods in the 10th column.  In addition, in the report you can see the quantity of goods already ordered for this offer and the latest purchase price. </p><br></div></div><br><p>  Here you can immediately make an order, in two clicks.  Clicks are marked with numbers 1 and 2, all form fields are already automatically filled. </p><br><p><img src="https://habrastorage.org/webt/bm/ca/2h/bmca2h3azv7biwfzq_btuqjpuoy.png"></p><br><p>  The Shipping and Delivery fields (these are dates over time) are not editable, as the logistics company will fill them in. </p><br><p>  Next, we observe the status of our orders and the estimated time of their delivery. </p><br><p><img src="https://habrastorage.org/webt/xp/oq/fz/xpoqfzcgworvx9m971yb47drhiy.png"></p><br><p>  The supplier also sees related orders and planned shipping dates, can prepare for shipments and plan their purchases. </p><br><p><img src="https://habrastorage.org/webt/bm/ar/rv/bmarrvhb0xpabsmtrlh_yxdshgm.png"></p><br><h3>  Logistic company </h3><br><p>  The third participant in the process is a logistics company.  His main job is a list of orders: </p><br><p><img src="https://habrastorage.org/webt/h4/76/e_/h476e_frzotwjfhj7nmccnlycp8.png"></p><br><div class="spoiler">  <b class="spoiler_title">Report source</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/1e/mg/nh/1emgnhavfls3jk6mb8xt_mhnnte.png"></p><br><p>  The report is quite simple - columns from four different tables are selected, a filter is applied to them: the order status should not be ‚ÄúClosed‚Äù. </p><br></div></div><br><p>  He can see all orders, process them and deliver.  You can go to work with the order directly from the report, because it is interactive. </p><br><p>  Logistics can be quite complicated, but we still see here only a change in the status of orders and the date of dispatch and delivery of goods. </p><br><p><img src="https://habrastorage.org/webt/dx/fx/1i/dxfx1ihuzc00-nwu_lkhtvr2lqu.png"></p><br><p>  For logisticians at this stage there is no filter by company or user ‚Äî only one company with two to three dispatchers will be used for running in. </p><br><p>  The completed order is automatically removed from the list of orders of the Seller, but is available in the order history through a filter by order status:% (all statuses). </p><br><p><img src="https://habrastorage.org/webt/lp/8-/bs/lp8-bshd7dszpjkgrmqebzkrwuw.png"></p><br><p>  This completes the full cycle of the service for pilot clients. </p><br><p>  As you can see, we didn‚Äôt need anything other than <a href="https://habr.com/post/346816/">the prototyping platform</a> and a text editor to create this project (a startup!).  We saved a lot of time using our ORM, which you can see if you try to do the same in any CRM, designer, or from scratch in your favorite development platform.  All development steps are placed above in the hidden text and, in fact, performed on your eyes.  It seems to me that all this is reflected in a fairly accessible way and does not require special knowledge for working with the data scheme and queries. </p><br><p>  Expansion of functionality as the startup develops ‚Äî the complexity of the data model, the addition of details, reports, analysis cuts, existing roles and corresponding constraints ‚Äî is done in the Type Editor and reports just as quickly as we sketched this prototype. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/358422/">https://habr.com/ru/post/358422/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358410/index.html">Administration 1C for the smallest. Part One - Divide and Conquer</a></li>
<li><a href="../358412/index.html">Analysis of the VIPER architecture using the example of a small iOS application on Swift 4</a></li>
<li><a href="../358414/index.html">Navigation with architectural components from Google. Part 1. Introduction</a></li>
<li><a href="../358416/index.html">Battle of Net Neutrality: New Hope</a></li>
<li><a href="../358418/index.html">10 years of life and experience of the company "Flant" in one post</a></li>
<li><a href="../358426/index.html">Receiving user data (voluntary)</a></li>
<li><a href="../358428/index.html">What awaits the IaaS market: trends in brief</a></li>
<li><a href="../358432/index.html">How to make Vue.js and Electron work together</a></li>
<li><a href="../358434/index.html">Just add water: H2O.ai development</a></li>
<li><a href="../358436/index.html">Ubuntu DSVM Review: Alchemy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>