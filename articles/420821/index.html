<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rule 10: 1 in programming and writing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, the author analyzes the amount of time spent on writing books or software code, and comes to an interesting pattern. It can be used t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rule 10: 1 in programming and writing</h1><div class="post__text post__text-html js-mediator-article">  <i>In this article, the author analyzes the amount of time spent on writing books or software code, and comes to an interesting pattern.</i>  <i>It can be used to plan the timing of work on projects.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lq/ay/ri/lqayrit6mqfj7d7zo6-wyzzvkio.jpeg"></div><br><blockquote>  <i>Hofstadter's law: Any business always lasts longer than expected, even if you take into account the Hofstadter's law.</i> <i><br></i>  <i>- Douglas Hofstadter, <b>G√∂del, Escher, Bach</b></i> </blockquote><br>  Writing prose and code has a lot in common.  But the most noticeable similarity probably lies in the fact that neither the writers nor the programmers can finish their work on time.  Writers are renowned for their inauspicious habit of breaking deadlines.  Programmers have earned the reputation of people whose results are always seriously different from the original calculations.  The question arises: why? <br><br>  Today I have an idea how to answer it.  And my discoveries struck me. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Studying your books </h3><br>  Both my books, <a href="https://www.amazon.com/Hello-Startup-Programmers-Building-Technologies/dp/1491909900"><i>Hi, Startup</i></a> and <a href="https://www.amazon.com/Terraform-Running-Writing-Infrastructure-Code/dp/1491977086"><i>Terraform: we launch and work</i></a> , I wrote in the <a href="https://atlas.oreilly.com/">Atlas</a> book creation environment, which provides for the management of all content using Git.  This means that every line of text, every edit and every change was recorded in the Git commit log. <br><br>  Check how much effort was spent on writing two books. <br><br>  <b>Hello startup</b> <br><br>  Let's start with my first book, <a href="https://www.amazon.com/Hello-Startup-Programmers-Building-Technologies/dp/1491909900"><i>Hi, Startup</i></a> .  It has 602 pages and about 190 thousand words.  I ran <a href="https://github.com/AlDanial/cloc"><code>cloc</code></a> in the git repository <i>Hello, Startup</i> and got the following results <a name="habracut"></a>  (for simplicity, fractional parts are dropped): <br><br><img src="https://habrastorage.org/webt/w7/if/ps/w7ifpszx7n4ja5ym8s5fx-2w0d8.png"><br><br>  602 pages contain 26,571 lines of text.  The lion's share is written in <a href="https://www.methods.co.nz/asciidoc/">AsciiDoc</a> , similar to Markdown.  It is used in Atlas to write almost any content.  With the help of HTML and CSS, Atlas defines the layout and structure of the book.  Besides them, there are other programming languages ‚Äã‚Äã(Java, Ruby, Python, and not only), in which various examples are written to the topics discussed in the book. <br><br>  But 602 pages and 26,571 lines are just the end result.  They do not reflect about 10 months of writing, editing, editing, proofreading, stylistic adjustments, research, notes and other work contributing to the publication of the book.  Therefore, in order to get more useful ideas, I used <a href="https://github.com/arzzen/git-quick-stats"><code>git-quick-stats</code></a> to analyze the whole journal of the book‚Äôs commits. <br><br><img src="https://habrastorage.org/webt/1o/60/4y/1o604y9os3c1h0pekeah5x9xjtg.png"><br><br>  So, I added 163,756 lines and removed 131,425, which together makes 295,181 lines of recycled material.  That is, it turns out that I wrote or deleted a total of 295,181 lines, of which 26,571 lines remained.  This ratio is slightly more than 10: 1.  For each published line, I had to first write 10 others! <br><br>  I admit that counting the number of lines added to Git and deleted from it cannot be considered an ideal metric of the editing process.  But, at least, this allows us to understand that it is not enough to evaluate the work done.  A significant part of the process was not reflected at all in the Git commit log.  For example, the first few chapters were written in Google Docs before I moved to Atlas, and many edits were made on my computer without commits. <br><br>  Despite the fact that these data are far from ideal, I believe that the overall ratio of the ‚Äúoriginal text material‚Äù to the published one is 10: 1. <br><br>  <b>Terraform: we start and we work</b> <br><br>  Let's check if this proportion applies to my second book <a href="https://www.amazon.com/Terraform-Running-Writing-Infrastructure-Code/dp/1491977086"><i>Terraform: we launch and work</i></a> , containing 206 pages and about 52 thousand words. <br><br>  Simplified <code>cloc</code> output: <br><br><img src="https://habrastorage.org/webt/wp/uf/c0/wpufc0ljjdvrhnvsxnxmgc97u7g.png"><br><br>  206 pages consist of 8410 lines of text.  Again, most of the text is written in AsciiDoc, although in this book there are noticeably more code samples written primarily in HCL, the main language of Terraform.  Besides him there are a lot of Markdowns, which I used to document HCL examples. <br><br>  We use <code>git-quick-stats</code> to check the history of edits in this book: <br><br><img src="https://habrastorage.org/webt/gq/y9/i1/gqy9i1ybyrjjj6y5mr7ox7l7hge.png"><br><br>  For almost five months, I added 32,209 and deleted 22,402 lines, which together made 54,611 recycled lines.  The accuracy of the evaluation of the editing process of this book suffers even more, since the work began as a <a href="https://blog.gruntwork.io/a-comprehensive-guide-to-terraform-b3d32832baca">series of blog posts</a> that went through tangible processing before they moved to Atlas and Git.  The volume of these blog posts takes at least half of the book, so it would be logical to increase the final figure of the revised text by 50%.  That is, the total will be 54611 * 1.5 = 81,916 lines of editable text, resulting in the total 8410 lines. <br><br>  And again there is a ratio of about 10: 1! <br><br>  It is not surprising that writers do not fit into the timeline.  If according to the schedule it is supposed to hand over a book of 250 pages, then in practice it will come out that in the process we will write 2500 pages. <br><br><h3>  What about programming? </h3><br>  How are things in development?  I decided to check out several open source git repositories of different maturity levels: from several months to 23 years. <br><br>  <b>terraform-aws-couchbase (2018)</b> <br><br>  <a href="https://github.com/gruntwork-io/terraform-aws-couchbase/">terraform-aws-couchbase</a> - a set of modules for Couchbase deployment and management on AWS, the source code of which was opened in 2018. <br><br>  Simplified <code>cloc</code> output: <br><br><img src="https://habrastorage.org/webt/pw/wd/g6/pwwdg6kn9mga0aavekpyt0xpbsg.png"><br><br>  And here is the <code>git-quick-stats</code> check result: <br><br><img src="https://habrastorage.org/webt/ke/em/r8/keemr8wasgycox7gmras9nnkypw.png"><br><br>  We get as many as 37,693 lines of working code, resulting in 7481 lines of the final code in a 5: 1 ratio.  Even in the repository under 5 months already had to rewrite each line five times!  It is not surprising that the evaluation of software development is difficult: we do not even imagine that in order to get 7.5 thousand lines of the final code, in fact, we have to write 35 thousand. <br><br>  Let's see how things are in older products. <br><br>  <b>Terratest (2016)</b> <br><br>  <a href="https://github.com/gruntwork-io/terratest">Terratest</a> - opensource library, created in 2016 for testing infrastructure code. <br><br>  Simplified <code>cloc</code> output: <br><br><img src="https://habrastorage.org/webt/5n/gk/6b/5ngk6bkbq1auryjuq5waipihgi8.png"><br><br>  <code>git-quick-stats</code> results: <br><br><img src="https://habrastorage.org/webt/ne/ng/qe/nengqersmftmm23c1_hbfjzc1qg.png"><br><br>  This is 49,126 working lines of code that have turned into 6,140 lines of final text.  For the two-year repository, the ratio was 8: 1.  But Terratest is still quite young, so let's consider older repositories. <br><br>  <b>Terraform (2014)</b> <br><br>  <a href="https://github.com/hashicorp/terraform">Terraform</a> is an open source library created in 2014 to manage infrastructure using programming methods. <br><br>  Simplified <code>cloc</code> output: <br><br><img src="https://habrastorage.org/webt/-r/ek/t_/-rekt_klokpfofxncesris6hwj4.png"><br><br>  <code>git-quick-stats</code> results: <br><br><img src="https://habrastorage.org/webt/mb/mi/hb/mbmihbprci_4umyoippb5blmryy.png"><br><br>  We get 12,945,966 working lines of code that resulted in 1,371,718 lines of the final result.  The ratio is 9: 1.  Terraform has been around for almost 4 years, but the library has not yet been released, so even with this ratio, its code base is not yet mature.  Let's look further into the past. <br><br>  <b>Express.js (2010)</b> <br><br>  <a href="https://github.com/expressjs/express">Express</a> is a popular open source JavaScript framework released for web development in 2010. <br><br>  Simplified <code>cloc</code> output: <br><br><img src="https://habrastorage.org/webt/32/ts/v_/32tsv_mnhqikdn-5exvcszyamwq.png"><br><br>  <code>git-quick-stats</code> results: <br><br><img src="https://habrastorage.org/webt/te/pw/gq/tepwgqtjj4erenzlcnft5mg0dy0.png"><br><br>  We get 224,211 working lines of code, reduced to 15,332 total lines.  The result is 14: 1.  Express is about 8 years old, its latest versions are number 4.x.  It is considered the most popular and proven in web-based framework for Node.js. <br><br>  It seems that as soon as the ratio reaches the level of 10: 1, we can say with confidence that the code base is already ‚Äúadult‚Äù.  Let's check what happens if we go even deeper into the past. <br><br>  <b>jQuery (2006)</b> <br><br>  <a href="https://github.com/jquery/jquery">jQuery</a> is a popular open source JavaScript library released in 2006. <br><br>  Simplified <code>cloc</code> output: <br><br><img src="https://habrastorage.org/webt/ha/km/1s/hakm1sv8ufb3w456ye3vqzvukri.png"><br><br>  <code>git-quick-stats</code> results: <br><br><img src="https://habrastorage.org/webt/86/-g/4r/86-g4rtg8moe2mi88v4uc9ofj9g.png"><br><br>  Total 730,146 working lines of code, resulting in 47,559 lines of the final result.  A ratio of 15: 1 for a nearly twelve-year repository. <br><br>  Let's go ten more years ago. <br><br>  <b>MySQL (1995)</b> <br><br>  <a href="https://github.com/mysql/mysql-server">MySQL</a> is a popular open source relational database created in 1995. <br><br>  Simplified <code>cloc</code> output: <br><br><img src="https://habrastorage.org/webt/en/7q/jf/en7qjfc2divsbo6pexww3hnuxag.png"><br><br>  <code>git-quick-stats</code> results: <br><br><img src="https://habrastorage.org/webt/qc/8x/ph/qc8xphrtgdyavgozcyushq76u9g.png"><br><br>  We get 58,562,999 working lines, 3,662,869 lines of the final code and a ratio of 16: 1 for a nearly twenty-three year repository.  Wow!  Each line of MySQL code has been rewritten 16 times. <br><br><h3>  findings </h3><br>  The summarized results for my books are as follows: <br><table><tbody><tr><td>  <b>Title</b> <br></td><td>  <b>Work strings</b> <br></td><td>  <b>Summary lines</b> <br></td><td>  <b>Ratio</b> <br></td></tr><tr><td>  Hello startup <br></td><td>  295 181 <br></td><td>  26,571 <br></td><td>  11: 1 <br></td></tr><tr><td>  Terraform: We start and work <br></td><td>  81,916 <br></td><td>  8410 <br></td><td>  10: 1 <br></td></tr></tbody></table><br>  Here is a summary table for various programming projects: <br><table><tbody><tr><td>  <b>Title</b> <br></td><td>  <b>Year of issue</b> <br></td><td>  <b>Work strings</b> <br></td><td>  <b>Summary lines</b> <br></td><td>  <b>Ratio</b> <br></td></tr><tr><td>  terraform-aws-couchbase <br></td><td>  2018 <br></td><td>  37 693 <br></td><td>  7481 <br></td><td>  5: 1 <br></td></tr><tr><td>  Terratest <br></td><td>  2016 <br></td><td>  49,126 <br></td><td>  6140 <br></td><td>  8: 1 <br></td></tr><tr><td>  Terraform <br></td><td>  2014 <br></td><td>  12,945,966 <br></td><td>  1,371,718 <br></td><td>  9: 1 <br></td></tr><tr><td>  Express <br></td><td>  2010 <br></td><td>  224 211 <br></td><td>  15 325 <br></td><td>  14: 1 <br></td></tr><tr><td>  jQuery <br></td><td>  2006 <br></td><td>  730,146 <br></td><td>  47,559 <br></td><td>  15: 1 <br></td></tr><tr><td>  Mysql <br></td><td>  1995 <br></td><td>  58 562 999 <br></td><td>  3,662,869 <br></td><td>  16: 1 <br></td></tr></tbody></table><br>  What do all these numbers mean? <br><br>  <b>Rule 10: 1 in prose and programming</b> <br><br>  Given that my data set is limited, I can only draw some preliminary conclusions: <br><br><ol><li>  The ratio of "raw materials" and "final product" for the book is about 10: 1.  Keep this figure in your head when you discuss with the editor the timetable for the delivery of the material.  If you need to write a book of 300 pages, then in fact you have to write about 3 thousand pages. <br></li><li>  A similar rule can be derived for both mature and non-trivial software: the ratio of the amount of processed code to the total is at least 10: 1.  Keep this in mind when a manager or client asks you to estimate time costs.  An application of 10 thousand lines will require you to write about 100 thousand lines. <br></li></ol><br>  These findings can be summarized as <b>rule 10: 1 for writing and programming</b> : <br><blockquote>  <i>Writing good software or text requires that each line be rewritten 10 times on average.</i> </blockquote><br><h3>  Next steps </h3><br>  Of course, lines of code and lines of text cannot be considered an ideal measure.  But, I think, if you collect enough data, you can determine how the 10: 1 rule is universal and useful for specifying the time frame for completing the project. <br><br>  Some questions I would like to answer: <br><br><ul><li>  Is it possible to use the ratio of the processed lines of the code to the final ones as a quick metric for assessing the maturity of a particular software?  For example, can we trust the solution of key infrastructure tasks to databases, programming languages ‚Äã‚Äãor operating systems if for them this ratio has reached at least 10: 1? <br></li><li>  Does the amount of working text depend on the type of software?  For example, Bill Scott found out that in Netflix only about 10% of the user interface code <a href="https://looksgoodworkswell.blogspot.com/2012/04/experimentation-layer.html">lives up to one year</a> , and the remaining 90% by this time are completely rewritten.  What is the speed of code replacement for backend, databases, command line utilities and other types of programs? <br></li><li>  What percentage of the code is processed after the initial release?  That is, what percentage of work can be considered "software support"? <br></li></ul><br>  If you are a book author and can do a similar analysis, I will be glad to know about your results.  And if someone has time to automate such an analysis, it will be great to learn about the ratios found in various open source projects. <br><br>  <b>August 13 update</b> <br><br>  Discussions of the post on <a href="https://news.ycombinator.com/item%3Fid%3D17749750">Hacker News</a> and <a href="https://www.reddit.com/r/programming/comments/96vlmk/the_101_rule_of_writing_and_programming/">Reddit's r / programming</a> revealed two more interesting points: <br><ol><li>  Apparently, a similar rule 10: 1 is true for <a href="https://news.ycombinator.com/item%3Fid%3D17750165">movies</a> , journalism, music and photography!  Who would have thought? </li><li>  Readers have left many comments that a change in even a single character can be counted in Git as inserting or deleting a line, so an indicator of 100 thousand modified lines does not mean that <i>each</i> line has undergone processing. </li></ol><br>  The last remark is valid, but, as I wrote above, my data do not take into account other types of changes: <br><br><ol><li>  I do not commit for every single line.  I can change it ten times, but only make one commit. <br></li><li>  The situation described in the previous paragraph is even more relevant for programming.  During the testing of the code, I can change one line 50 times, while making only one commit. <br></li><li>  Many text editing and writing cycles were performed outside of Git (some chapters were written in Google Docs or Medium, and stylistic edits were made in PDF). <br></li></ol><br>  I think that all these factors compensate for the feature of accounting for inserting or deleting lines in Git.  Of course, my estimates may be inaccurate, and the actual ratio will be 8: 1 or 12: 1.  But in general, the difference is not too large, and 10: 1 is easier to remember. <br><br>  <b>Update August 14</b> <br><br>  A Github <a href="https://github.com/Decagon">Decagon user</a> created a repository called <a href="https://github.com/Decagon/hofs-churn">hofs-churn</a> with a bash script to easily calculate the degree of code development in your repositories.  He also used it to analyze a variety of repositories, such as React.js, Vue, Angular, RxJava, and many others, and the results were quite interesting. <br><br> <a href="https://wirexapp.com/ru/"><img src="https://habrastorage.org/files/4bd/bf6/597/4bdbf659775744b1bdbb4d8a00a0a980.png" alt="image"></a> </div><p>Source: <a href="https://habr.com/ru/post/420821/">https://habr.com/ru/post/420821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../420809/index.html">Security Week 31: Fifty shades of insecurity in Android</a></li>
<li><a href="../420811/index.html">Decentralized messenger and new generation telephone network</a></li>
<li><a href="../420813/index.html">Behind the scenes of the network in Kubernetes</a></li>
<li><a href="../420815/index.html">How ‚Äúdecoding of the digital world‚Äù exploded the hall: top 10 reports DotNext 2018 Piter</a></li>
<li><a href="../420819/index.html">Top 10 Python tools for machine learning and data-science</a></li>
<li><a href="../420825/index.html">Today will be the first match between OpenAI and Dota 2 professionals (people won). Understanding how the bot works</a></li>
<li><a href="../420827/index.html">Create a simple maven project using Java EE + WildFly10 + JPA (Hibernate) + Postgresql + EJB + IntelliJ IDEA</a></li>
<li><a href="../420829/index.html">Job System. Review on the other hand</a></li>
<li><a href="../420831/index.html">Apparatus for the issuance of cookies "Cooker 3000"</a></li>
<li><a href="../420833/index.html">The main mistakes monetization of the application [and how to fix them]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>