<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>App Store will not call. Or how I made my application, but it will not get to users</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once I thought that in order to run my application it is enough to write code. A little later, I learned that it was a good idea to supplement the cod...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>App Store will not call. Or how I made my application, but it will not get to users</h1><div class="post__text post__text-html js-mediator-article"><p>  Once I thought that in order to run my application it is enough to write code.  A little later, I learned that it was a good idea to supplement the code with a design.  Later, I realized that it was necessary to look for an audience and promote your product to it.  But all this may be superfluous if you do not follow the guidelines.  Below I will talk about my first experience of self-development and why my application will not see users. </p><br><p><img src="https://habrastorage.org/webt/my/yv/8i/myyv8ijkq1eangldkzf9moaism8.jpeg"></p><a name="habracut"></a><br><p>  To begin with, I‚Äôll make a reservation that I have been developing applications for about five years and this is not my first application at all, but the first one is completely independent in which I have gone from idea to implementation.  It turned out that the last year I did not write the code at all, but was the product manager.  It seemed to me that I would never write code again, that it was too boring.  But never began to break down in six months, when it became interesting to me to understand data science and python.  And finally broke in a year, when I really wanted to do something with my hands and my application began to appear. <cut></cut></p><br><p>  The application in the first version was called TinderCall.  It helps to escape from boring dates or meetings.  I found myself in such an awkward situation several times that the easiest thing for me was to write to a friend: ‚ÄúDial me soon,‚Äù and wait.  I decided that this could be automated a little, and call myself.  It also looked like a great way to work with CallKit and PushKit.  The very idea of ‚Äã‚Äãthe application came to me from reading one blog in an instagram, in which the author talks about how she goes on dates (the instagram also has a use).  There many girls faced a similar situation.  A little later, the application was called "KateCall" or "Kate, call."  The name appeared in a conversation with a friend, who was also very keen on the idea and said that she usually asks Katya to do it: ‚ÄúKatya, call me‚Äù.  It seems to me a beautiful play on words. </p><br><p>  Then I began to look, and what is already on this subject.  Found several similar applications.  No wonder, the idea is on the surface.  For all of them it was clear that this is someone's first application.  Without design, and with the need to keep the application open for the call to come.  I decided it was worth doing one more thing.  Only it will be more beautiful and functional.  Anyway, I wanted to stretch my programming muscle. </p><br><p>  The functionality was determined as simple as possible: the ability to select the name of the caller and the time through which the call will occur.  At first, I decided that I would do the design myself, because it is simple: the favorite color of people is blue, the grid of elements is 8, and besides, I taught xCode for designers.  But when I made it, I realized that I would better appeal to my designer friends. </p><br><p><img src="https://habrastorage.org/webt/tn/ri/7u/tnri7uuodqkfde0nwkczv5egoty.jpeg"></p><br><p>  I liked the design version much more, and I started to implement it.  Total development took 35 days from project creation to clicking on the Submit button.  17 komitov and about 40 hours, including writing code, reading and fighting bugs.  The largest number of komits was made by me on Thursdays. </p><br><div class="spoiler">  <b class="spoiler_title">For those who are interested to learn the details and limitations of working with CallKit and VoIP-guns, welcome here.</b> <div class="spoiler_text"><p>  The project code is available <a href="https://github.com/olgavorona/Kate-Call">here</a> . </p><br><p>  With CallKit, you can make calls as believable as possible. </p><br><ul><li>  standard call screen is used </li><li>  melody and contacts correspond to real </li><li>  The call is shown in the call book. </li></ul><br><p>  There are several nuances.  First, it is impossible to transfer any picture to the standard call screen.  Secondly, the call screen behaves differently depending on whether the application is open or not.  So, if the call is in the application, then after answering you need to show the conversation screen yourself.  And if you answer on a locked screen, a standard conversation screen will appear.  Third, CallKit cannot be used in China. </p><br><p>  The second technical point is connected with the push.  The timer did not suit me, because for him you need to keep the application constantly open.  I thought in the direction of local push, but they do not guarantee that the application will be awakened.  It turned out that there is a separate type of push for VoIP.  They have a whole list of great properties: </p><br><ul><li>  The application automatically starts when you receive a push, even if it was closed. </li><li>  no permission is required from the user to use this type of push. </li><li>  after receiving the push is immediately processed by the application. </li></ul><br><p>  But they can only be used if there is a call functionality.  I did not want to write a separate middleware for this push, as it turned out, it was not necessary.  The <a href="https://onesignal.com/">OneSignal</a> library allows you to send any kind of remote push from the application on a schedule.  I honestly can‚Äôt imagine a situation where VoIP pushes may still be needed on a schedule, but there is an opportunity to send them.  For OneSignal, you must use a separate voip-push certificate.  You can get it in the same place as usual. </p></div></div><br><p>  When the main functionality was completed, I decided that this was not enough.  I wanted to make a clearer screen with call waiting, and then more information about me and feedback, add taptic, add voice choices, add ... I was able to stop after the first revision and decided that knowing the AppStore and their number of restrictions, it is worth sending them the application as it is, and then finish the nice little things.  And not lost. </p><br><p><img src="https://habrastorage.org/webt/ad/nx/sh/adnxshabh3t4n4dfpr9jqdpj_ga.gif"></p><br><p>  My application was rejected by two points: <em>1.1.6 Apps that enable anonymous or prank phone calls or SMS / MMS messaging will be rejected</em> (Applications that allow anonymous or point guard calls, SMS, MMS will be rejected), and <em>5.2.5 Your app contains features that mimic the iOS call interface or behavior</em> (The application mimics the standard call mechanism).  So existing applications most likely did not use CallKit, not because they did not guess, but because it is impossible. </p><br><p>  Unfortunately, the dialogue with the publication service did not lead to anything.  Fake calls in no way can be combined with CallKit and VoIP push.  Arguments that this was done not for fun, but for useful work, did not help. </p><br><p>  I have already planned how I will promote my application on ProductHunt and other platforms, I will begin to communicate with users, I will become a real start-up.  But for this you need to trim the functionality to the level of those applications that already exist.  I still don‚Äôt really like this idea, and I think I‚Äôll just leave my code on gitHub, but forget about the app, it has already brought experience. </p><br><p>  The next time I publish my applications, I <strong>will definitely</strong> : </p><br><ol><li>  I will run at least search for the publication guide in the AppStore </li><li>  I will publish the application as soon as possible </li><li>  I wondered why there is no such functionality in existing products on the market, and I will even more carefully go over the guides. </li><li>  I will not joke with Apple. </li></ol></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/429326/">https://habr.com/ru/post/429326/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../429316/index.html">Operations on complex numbers</a></li>
<li><a href="../429318/index.html">SMT Solver on iPhone</a></li>
<li><a href="../429320/index.html">Sberbank Data Science Day live stream November 10</a></li>
<li><a href="../429322/index.html">nanoCAD Mechanics 9.0: The Basics of Modern Design</a></li>
<li><a href="../429324/index.html">Unreal Engine 4.21 release</a></li>
<li><a href="../429328/index.html">Software module for digitizing damaged documents</a></li>
<li><a href="../429330/index.html">Myths and legends of Agile - from the Pharaohs to the present day</a></li>
<li><a href="../429332/index.html">Self-made laser installation "Lightsaber" - as it were, part 1</a></li>
<li><a href="../429336/index.html">Driver and device communication using the _HID method of ACPI using the example of a GPIO Lynxpoint controller</a></li>
<li><a href="../429338/index.html">Android Storage: Internal, External, Removable. Part 1/3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>