<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>20 projects, 20 languages, deadline yesterday. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I continue a series of articles on setting up continuous localizations. The first you can find here . In this article, I will explain how to integrate...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>20 projects, 20 languages, deadline yesterday. Part 2</h1><div class="post__text post__text-html js-mediator-article"><p>  I continue a series of articles on setting up continuous localizations.  The first you can find <a href="https://habr.com/ru/post/445532/">here</a> .  In this article, I will explain how to integrate the Serge-Smartcat-GitLab bundle and configure Serge configuration files using the example of a test project.  Instructions for Ubuntu. </p><br><h2>  Installation via vagrantfile </h2><br><p>  If you don‚Äôt have a Ubuntu server at hand, you can use Vagrant.  How it works: </p><a name="habracut"></a><br><ol><li>  Install Vagrant and VirtualBox following the <a href="https://help.ubuntu.ru/wiki/vagrant">instructions</a> . </li><li>  <a href="https://github.com/npavlikova/serge-smartcat">Download the</a> vagrantfile and bash script. </li><li>  Run the vagrantfile following the <a href="https://help.ubuntu.ru/wiki/vagrant">instructions</a> . </li></ol><br><p>  The result of the Vagrant build will be a virtual machine with Ubuntu, on which Serge is installed with the Smartcat plugin.  All necessary files will be copied, ssh-key is created.  You can immediately proceed to setting up the project and launching the application. </p><br><h2>  Manual installation </h2><br><h3>  Create user </h3><br><p>  Create a user group serge: </p><br><pre><code class="bash hljs">sudo groupadd serge</code> </pre> <br><p>  Create a user with the home directory / usr / local / serge: </p><br><pre> <code class="bash hljs">sudo useradd -g serge serge -m -d /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/serge</code> </pre> <br><h3 id="ustanovka-serge">  Install Serge </h3><br><p>  Serge's complete documentation is <a href="https://serge.io/">here</a> . <br>  Update the local database package metadata: </p><br><pre> <code class="bash hljs">sudo apt-get -qq update</code> </pre> <br><p>  Install the build tools as well as the necessary packages.  Before starting the installation, make sure that Perl 5.10 or higher is installed. </p><br><pre> <code class="bash hljs">sudo apt-get -qq -y install build-essential libssl-dev libexpat-dev unzip wget</code> </pre> <br><p>  Go to the serge user's home directory and install Serge with all necessary dependencies. </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/serge sudo -u serge wget https://github.com/evernote/serge/archive/master.zip -O serge-master.zip sudo -u serge unzip serge-master.zip sudo -u serge unlink serge-master.zip <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> serge-master sudo cpan App::cpanminus sudo cpanm --installdeps . sudo -u serge sudo ln -s /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/serge/serge-master/bin/serge /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/serge</code> </pre> <br><h3 id="ustanovka-plagina-smartcat">  Installing the Smartcat plugin </h3><br><pre> <code class="bash hljs">sudo cpanm HTTP::Daemon@6.01 sudo cpanm Serge::Sync::Plugin::TranslationService::Smartcat sudo cpan install LWP::Protocol::https</code> </pre> <br><h3 id="sozdanie-klyuchey">  Creating keys </h3><br><p>  Create a ssh key for the serge user that the serge user will use to go to GitLab: </p><br><pre> <code class="bash hljs">sudo -u serge ssh-keygen -t rsa -N <span class="hljs-string"><span class="hljs-string">""</span></span> -f .id_rsa_serge</code> </pre> <br><h2 id="integraciya-s-gitlab">  Integration with GitLab </h2><br><p>  Create a user serge in GitLab and add it to all repositories with developer rights. <br>  Copy the ssh key from the id_rsa_serge.pub file to the serge user profile settings in GitLab.  This is necessary so that Serge can receive and send strings to GitLab. </p><br><p>  Installation completed! </p><br><h2 id="integraciya-so-smartcat">  Integration with Smartcat </h2><br><p>  To get started you need to: </p><br><ol><li>  Sign up for <a href="https://www.smartcat.ai/%3Futm_source%3Dconnectors%26utm_medium%3Dreferral%26utm_campaign%3Dxsolla_serge">Smartcat</a> . </li><li>  Create a project specifying the languages ‚Äã‚Äãinto which you intend to translate.  When setting up the plugin, you will need the <a href="https://help.smartcat.ai/hc/en-us/articles/360004895371-Supported-languages-and-language-codes">language codes</a> used in Smartcat. </li><li>  Get <a href="https://help.smartcat.ai/hc/en-us/articles/115002522912-What-is-Smartcat-project-ID">project_id</a> , <a href="https://help.smartcat.ai/hc/en-us/articles/115002475012-Getting-Started-with-SmartCAT-API">token and token_id</a> . </li><li>  Write to <a href="">support@smartcat.ai</a> and ask to enable support for Serge file parsing algorithm </li></ol><br><h2 id="nastroyka-konfiguracii-serge-smartcat">  Setting configuration Serge-Smartcat </h2><br><p>  Before proceeding to configure, I will describe the general principle of operation.  The standard localization cycle includes 5 steps: <br><img src="https://habrastorage.org/webt/zt/an/oe/ztanoeg340nl7-n7asuwfmblqps.png" alt="image"></p><br><ul><li>  <strong>pull</strong> - get new lines from the repository. </li><li>  <strong>pull-ts</strong> - get localized strings from Smartcat (Smartcat plugin is included). </li><li>  <strong>localize</strong> - all source formats from the repository are parsed and converted into .po files, the received translations are written into .po files.  All lines are written to the Serge translation memory database. </li><li>  <strong>push-ts</strong> - new lines received in the first step are sent to Smartcat (Smartcat plugin is used). </li><li>  <strong>push</strong> - localized strings are committed to GitLab. <br>  You can use integration with another CAT system, for example, there is a plugin for <a href="https://serge.io/docs/guides/pootle/">Pootle</a> . </li></ul><br><h3 id="serge-i-git-repozitorii">  Serge and git repositories </h3><br><p>  How does Serge find out which lines need to be sent for translation?  To define new lines, the standard git tools are used: the difference between the master branch and the current one is taken.  Diff sent to transfer. </p><br><p><img src="https://habrastorage.org/webt/ta/ju/u2/tajuu2v7hgqo1modl8uluubafoy.png" alt="image"></p><br><p>  <strong>Important</strong> : As a rule, the master branch is protected, so an additional translation branch is used to define diffs, we call it base-translate.  That is, after the merge release in master, master must be additionally added to base-translate. </p><br><p>  There is an important point.  It is necessary to build the processes in such a way that, on the one hand, the developers understand what will go to the translation at what point, and on the other hand, so that the techist does not run around in circles, holding his head, because he has a diff of 1000 lines.  And it seems only the title was corrected. </p><br><h4 id="princip-raboty">  Principle of operation </h4><br><p>  Serge enters the repository, takes all the branches, and starts comparing them with the master branch.  For each branch in which diff is found, it creates a set of documents for translation in the Smartcat project.  In order not to get bogged down in the chaos of irrelevant branches and not stand near each developer with the question: ‚Äúdid you remember to delete the branch?‚Äù, It is convenient to use prefixes.  For example, Serge works with us only with branches that have the <strong>translate-</strong> prefix. </p><br><p>  It is also important that already read and approved texts, ready for translation, fall into the branch with the translate prefix.  No one wants to sort out the history of commits in vain attempts to understand what these texts are and why does diff look like that? </p><br><h4 id="podgotovka-kontenta">  Content preparation </h4><br><p>  Our content preparation process is as follows: </p><br><p><img src="https://habrastorage.org/webt/bz/hr/uv/bzhruvkmajzvstsdzgtdsbtqmfg.png" alt="image"></p><br><p>  <strong>Formulation of the problem.</strong>  When the task is at the stage of production, sometimes there are already texts that should be unchanged into the application.  If they are, a copywriter and technical writer help them finalize them. </p><br><p>  <strong>Design layouts.</strong>  When the designer has prepared the layouts, the technical writer and copywriter read all the texts.  Thus, the subtracted layouts in English fall into development.  The developer does not have to think about the texts, he just takes the finished lines from the layouts. </p><br><p>  <strong>Development.</strong>  Unfortunately, the previous steps cannot cover all possible types of texts.  For example, layouts do not include validators, API errors, some modal windows.  If during the development it was necessary to add lines, the technical writer and copywriter provide the developer with all the necessary texts. </p><br><p>  Thus, at some point in time, we have a state where the branch contains all the new texts needed for the part of the code that is being developed in it.  At this moment a new branch is created from it with the prefix translate- and Serge can begin the translation process.  When the translations are ready, the developer takes them from the translate branch, and then acts on the git flow adopted in the team. </p><br><p>  This process minimizes developer involvement in the localization process, and also reduces the amount of manual labor to an absolute minimum: you just need to create a branch. </p><br><p>  The further description of the customization process is largely based on the fact that there are similar arrangements and processes in the team. </p><br><h2 id="nastroyka-proekta">  Project Setup </h2><br><p>  Log in as serge: </p><br><pre> <code class="bash hljs">sudo -Hu serge -i</code> </pre> <br><p>  Create the groups directory: </p><br><pre> <code class="bash hljs">mkdir groups</code> </pre> <br><p>  In this directory will be placed projects corresponding to the repositories in GitLab.  It makes sense to repeat the structure of groups of repositories and their location to facilitate navigation. </p><br><p>  Create a directory for the first project: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> groups mkdir myproject <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> myproject</code> </pre> <br><p>  Copy the Serge configuration files.  You can install the <a href="https://midnight-commander.org/">midnight commander</a> and manage files using the file manager.  Before installing the MC, you must exit the serge account. </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> sudo apt install mc sudo -Hu serge -i</code> </pre> <br><p>  Files that need to be copied from / usr / local / serge / serge-master / bin / tools / feature-branch-config-generator: </p><br><ul><li>  Serge configuration file: <em>myproject.cfg</em> </li><li>  job template file: <em>myproject.inc</em> </li><li>  template .serge: <em>myproject.serge.tmpl</em> </li><li>  file for adding a branch manually: <em>myproject_branches.txt</em> </li><li>  script to work with GitLab: <em>fbcgen.pl</em> </li></ul><br><pre> <code class="bash hljs">cp /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/serge/serge-master/bin/tools/feature-branch-config-generator/{myproject.cfg,myproject.inc,myproject.serge.tmpl,myproject_branches.txt} /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/serge/serge-master/groups/myproject cp /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/serge/serge-master/bin/tools/feature-branch-config-generator/fbcgen.pl /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/serge/serge-master/</code> </pre> <br><p>  Create a file to record the plugin's logs: </p><br><pre> <code class="bash hljs">mkdir <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> touch smartcat.log</code> </pre> <br><h3 id="nastroyka-myprojectinc">  Configuring myproject.inc </h3><br><ul><li>  In the name field, specify the format of resource files used in the project. </li><li>  Fill id on mask% yourproject%.% Yourformat%.% Yourmasterbranchname%. </li><li>  In the destination_languages ‚Äã‚Äãfield, specify the languages ‚Äã‚Äãinto which you want to translate. </li><li>  Fill the source with the mask ./%yourproject%/%yourmasterbranch%/res/en. </li><li>  Fill the output_file_path with the mask ./%yourproject%/%yourmasterbranch%/res/% LANG% /% FILE%. </li><li>  Fill in source_match by mask.% Yourformat%. </li><li>  Depending on the format of the resource files, specify the necessary plugin for parsing.  Plugins are listed in the <a href="https://serge.io/docs/file-formats/">serge documentation</a> .  Fill in the ts_file_path mask ./po/%yourproject%/% LOCALE% /% FILE% .po. </li><li>  Fill in the master_job with the% yourproject%.% Yourformat%.% Yourmasterbranch% mask. <br>  The remaining parameters are left unchanged. </li></ul><br><h3 id="nastroyka-myprojectsergetmpl">  Configure myproject.serge.tmpl </h3><br><ul><li>  project_id - project id in Smartcat </li><li>  token_id, token - data from Smartcat </li><li>  remotepath - here it is necessary to correctly indicate both the parameter name and its value {% yourmasterbranch% ssh_path_to_your_repo% #% yourmasterbranch%} </li><li>  $ FBCGEN_DIR_PADDED -% ssh_path_to_your_repo% # FBCGEN_BRANCH </li><li>  id - job.yourmasterbranch </li><li>  name - yourproject </li><li>  source_language en </li><li>  destination_languages ‚Äã‚Äã- languages ‚Äã‚Äãto translate into </li><li>  source_dir - ./branches/yourmasterbranch/%path_to_resource_files% </li><li>  source_match - en.% yourformat% </li><li>  db_source - DBI: SQLite: dbname -./% yourproject% .db3 </li><li>  db_namespace -% yourproject% </li><li>  ts_file_path - ./po/PROJECT_ID_IN_SMARTCAT/% LANG% /% FILE% .po </li><li>  output_file_path - ./branches/%yourmasterbranch%/%path_to_resource_files%/% LOCALE%.  % yourformat% </li><li>  output_lang_rewrite { <br>  zh-Hans zh-CN '' zh-Hant-TW zh-TW <br>  } - This parameter allows you to override the notation of languages.  If the designation of the language in the project does not match the notation <a href="https://help.smartcat.ai/hc/en-us/articles/360004895371-Supported-languages-and-language-codes">used</a> in Smartcat, you can override it. </li><li>  master_job - job.% yourmasterbranch% </li><li>  @inherit -. # jobs /:% yourmasterbranch% </li><li>  source_dir (in FBCGEN_BRANCH_JOBS) - ./branches/$FBCGEN_DIR/%path_to_resource_files%/ </li><li>  output_file_path (in FBCGEN_BRANCH_JOBS) - ./branches/$FBCGEN_DIR/%path_to_resource_files%/% LOCALE%.  % yourformat% </li></ul><br><p>  <strong>Important!</strong>  In source_path_prefix, the end point should be% FBCGEN_BRANCH. </p><br><p>  A call to the Smartcat plugin must be added to the appropriate section of myproject.serge.tmpl </p><br><pre> <code class="bash hljs">sync { ts { plugin Smartcat data { project_id 12345678-1234-1234-1234-1234567890123 token_id 12345678-1234-1234-1234-1234567890123 token 1_qwertyuiopasdfghjklzxcvbn push { disassemble_algorithm_name Serge.io PO } pull { complete_projects NO complete_documents YES } log_file ./<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/smartcat.log } }</code> </pre><br><p>  Description of some parameters: </p><br><ul><li>  <strong>disassemble_algorithm_name Serge.io PO</strong> ‚Äî use key hashes sent by Serge.  The parameter is required to optimize the execution time of the pull-ts and push-ts commands. </li><li>  <strong>complete_projects NO</strong> - retrieve lines from Smartcat, only if all documents in the project are completed.  For our integration, the project in Smartcat is synonymous with the repository in GitLab, and includes a set of documents.  A document is a Cartesian product of the number of branches in the repository and the languages ‚Äã‚Äãinto which the translation is made.  That is, if there are 2 branches in your repository that need to be translated into 6 languages, 12 documents will be created in the project. </li><li>  <strong>complete_documents YES</strong> - fetch lines from Smartcat if the document is in the done status.  It is done to minimize the number of commits to the repository. </li></ul><br><h2 id="primer-nastroennogo-proekta">  Sample customized project </h2><br><p>  Below are the configuration files for a project with 6 languages.  The project stores source lines in js-format.  A 5-character file naming format is used.  Path to resource files: ./branches/base-translate/client/src/translations. </p><br><h3 id="myprojectcfg">  myproject.cfg </h3><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># This is a configuration file for fbcgen.pl # Usage: fbcgen.pl myproject.cfg # Root directory where the master branch checkout is located. # (path is relative to the location of the configuration file itself). # The local checkout should be initialized *before* fbcgen.pl is run. # You can run `serge --initialize onboarding-frontend.serge.tmpl` # to do an initial checkout of the project data. $data_dir = './branches/base-translate'; $branch_list_file = 'myproject_branches.txt'; # Where to load Serge config template from. # (path is relative to the location of the configuration file itself). $template_file = "myproject.serge.tmpl"; # Where to save the localized Serge config file. # (path is relative to the location of the configuration file itself). $output_file = "myproject.local.serge"; our $skip_branch_mask = '^(master)$'; # skip these branches unconditionally our $unmerged_branch_mask = '^(translate-)'; # process unmerged branches matching this mask our $any_branch_mask = '^(translate-)'; # additionally, process these branches even if they were merged # Filter out commits that match this mask when determining if branch is inactive. $skip_commit_mask = '^l10n@example.com'; # This sub returns a hash map of additional parameters # that can be referenced in template as `$FBCGEN_&lt;VARIABLE_NAME&gt;`. # For example, `EXTRA_INCLUDE` parameter generated in the function below # is referenced in `myproject.serge.tmpl` file as `$FBCGEN_EXTRA_INCLUDE`. $calculate_params = sub { my ($branch) = @_; return { # for branch names starting with `release/`, return an empty string; # otherwise, return a string that will be used in the `@include` directive EXTRA_INCLUDE =&gt; $branch =~ m!^release/! ? '' : "myproject.inc#skip-saving-localized-files\n" } }</span></span></code> </pre> <br><h3 id="myprojectinc">  myproject.inc </h3><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Here we define a job template (common parameters) that will be reused # across all jobs in the generated configuration file. # Certain job parameters (like job ID and paths) will be overridden # in each feature branch job. job-template { name JS file processing ('master' branch) id myproject.js.base-translate # master job id db_namespace myproject destination_languages ru ko de ja zh-Hans source_dir ./myproject/base-translate/res/en output_file_path ./myproject/base-translate/res/%LANG%/%FILE% source_match \.js$ parser { plugin parse_js } ts_file_path ./po/myproject/%LOCALE%/%FILE%.po callback_plugins { :feature_branch { plugin feature_branch data { master_job myproject.js.base-translate # this must match your master job id } } } } # This block will be included conditionally # for all branches except the `release/` ones (see myproject.cfg). # This allows one to skip saving localized files in non-release branches # (but still gather from them strings for translation). skip-saving-localized-files { callback_plugins { :skip-saving-localized-files { plugin process_if phase can_generate_localized_file data { if { lang_matches . then { return NO } } } } } }</span></span></code> </pre> <br><h3 id="myprojectsergetmpl">  myproject.serge.tmpl </h3><br><pre> <code class="bash hljs">sync { ts { plugin Smartcat data { project_id %project_id% token_id %token_id% token %token% push { disassemble_algorithm_name Serge.io PO } pull { complete_projects NO complete_documents YES } } } vcs { plugin git data { local_path ./branches add_unversioned YES name L10N Robot email l10n-robot@example.com remote_path { base-translate git@gitlab.loc:common/myproject.git<span class="hljs-comment"><span class="hljs-comment">#base-translate /* FBCGEN_BRANCH_REMOTES $FBCGEN_DIR_PADDED git@gitlab.loc:common/myproject.git#$FBCGEN_BRANCH */ } } } } jobs { :develop { id job.base-translate name myproject source_language en destination_languages ru zh-Hans ko de ja optimizations NO source_dir ./branches/base-translate/client/src/translations source_match `en-US.js` debug NO parser { plugin parse_js } leave_untranslated_blank YES db_source DBI:SQLite:dbname=./myproject.db3 db_namespace myproject ts_file_path ./po/1bd80338-a0b5-48b3-822c-e90affd2cdcc/%LANG%/%FILE%.po output_file_path ./branches/base-translate/client/src/translations/%CULTURE%.%EXT% output_bom NO output_lang_rewrite { zh-Hans zh } callback_plugins { :feature_branch { plugin feature_branch data { master_job job.base-translate } } } } /* FBCGEN_BRANCH_JOBS :$FBCGEN_DIR { @inherit .#jobs/:develop id job.$FBCGEN_DIR $FBCGEN_EXTRA_INCLUDE source_path_prefix $FBCGEN_BRANCH. source_dir ./branches/$FBCGEN_DIR/client/src/translations/ output_file_path ./branches/$FBCGEN_DIR/client/src/translations/%CULTURE%.%EXT% } */ }</span></span></code> </pre> <br><h3 id="zapusk-prilozheniya">  Application launch </h3><br><p>  Cloning repository </p><br><pre> <code class="bash hljs">GIT_SSH_COMMAND=<span class="hljs-string"><span class="hljs-string">"ssh -i /usr/local/serge/serge-master/.id_rsa_serge"</span></span> git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> -b base-translate git@gitlab.loc:groups/myproject.git branches/base-translate/</code> </pre> <br><h4 id="lokalizacionnyy-cikl">  Localization cycle </h4><br><p>  A .serge file is generated: </p><br><pre> <code class="bash hljs">GIT_SSH_COMMAND=<span class="hljs-string"><span class="hljs-string">"ssh -i /usr/local/serge/serge-master/.id_rsa_serge"</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/serge/serge-master/fbcgen.pl myproject.cfg</code> </pre> <br><p>  Taking changes from all branches of the repository: </p><br><pre> <code class="bash hljs">GIT_SSH_COMMAND=<span class="hljs-string"><span class="hljs-string">"ssh -i /usr/local/serge/serge-master/.id_rsa_serge"</span></span> serge pull --initialize myproject.local.serge</code> </pre> <br><p>  Collection of translation changes for all branches from Smartcat: </p><br><pre> <code class="bash hljs">GIT_SSH_COMMAND=<span class="hljs-string"><span class="hljs-string">"ssh -i /usr/local/serge/serge-master/.id_rsa_serge"</span></span> serge pull-ts myproject.local.serge</code> </pre> <br><p>  Formation of the database and .po: </p><br><pre> <code class="bash hljs">GIT_SSH_COMMAND=<span class="hljs-string"><span class="hljs-string">"ssh -i /usr/local/serge/serge-master/.id_rsa_serge"</span></span> serge localize myproject.local.serge</code> </pre> <br><p>  Sending new data from the repository to Smartcat: </p><br><pre> <code class="bash hljs">GIT_SSH_COMMAND=<span class="hljs-string"><span class="hljs-string">"ssh -i /usr/local/serge/serge-master/.id_rsa_serge"</span></span> serge push-ts myproject.local.serge</code> </pre> <br><p>  Sending received transfers to the repository in the appropriate branches: </p><br><pre> <code class="bash hljs">GIT_SSH_COMMAND=<span class="hljs-string"><span class="hljs-string">"ssh -i /usr/local/serge/serge-master/.id_rsa_serge"</span></span> serge push myproject.local.serge</code> </pre> <br><p>  The following articles will be devoted to troubleshooting and describing special cases of integration. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/446640/">https://habr.com/ru/post/446640/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../446628/index.html">Give more HighLoad ++: since Monday in St. Petersburg</a></li>
<li><a href="../446630/index.html">How to choose a 3D printer, or why you need a heating table and a closed chamber</a></li>
<li><a href="../446632/index.html">From jurisprudence to Big Data-development</a></li>
<li><a href="../446634/index.html">SDN Digest - Six Open Source Emulators</a></li>
<li><a href="../446638/index.html">Cisco HyperFlex vs. competitors: test performance</a></li>
<li><a href="../446642/index.html">Checklist for creating and publishing web applications</a></li>
<li><a href="../446644/index.html">How to lead SMM in 2019: 17 charts from Neil Patel</a></li>
<li><a href="../446646/index.html">InterSystems IRIS 2019.1 release</a></li>
<li><a href="../446648/index.html">Developing Kubernetes operator with Operator Framework</a></li>
<li><a href="../446650/index.html">How much do testers cost and what do their salaries depend on? Build a portrait of a successful QA-specialist</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>