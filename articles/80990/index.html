<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Programming of industrial automation interfaces</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="HMI (Human-Machine-Interface) is a broad concept encompassing engineering solutions that enable the operator to interact with the machines he manages....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Programming of industrial automation interfaces</h1><div class="post__text post__text-html js-mediator-article">  HMI (Human-Machine-Interface) is a broad concept encompassing engineering solutions that enable the operator to interact with the machines he manages.  The term Human-Machine Interfaces refers to the whole range of control panels from radio tape recorders to pilot cabs.  HMI panels are produced by almost all the giants of the electronics industry (Siemens, Motorolla, Mitsubishi).  I'll show you what the development process for the Pro-Face GP2301 panel looks like. <br><a name="habracut"></a><br>  Create one screen with buttons and lights, complicated by the requirements of the TZ.  The development will be carried out in the native Pro-Face GP Pro environment, the program already has version number 7 and everything inside is very well thought out and polished that you can start developing based on the experience of visual programming under Windows. <br><br>  This is what the window of the project manager looks like; now we need only one button - the [Screen] screen editor. <br> <a title="ImageShack - Image And Video Hosting" href="http://img30.imageshack.us/i/projectmanger.jpg/"><img src="http://img30.imageshack.us/img30/2495/projectmanger.jpg" width="640"></a> <br><br>  In the screen editor create a new screen like Base Screen. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a title="ImageShack - Image And Video Hosting" href="http://img709.imageshack.us/i/screeneditor.jpg/"><img src="http://img709.imageshack.us/img709/6417/screeneditor.jpg" width="640"></a> <br><br>  On the newly created screen, add 5 buttons, which, when pressed, invert the bit to the specified address (0100).  When specifying an address, the bits are set by simply adding the sequence number of the bit to the address: <br><ul><li>  010000 - zero bit at 0100 </li><li>  010015 - the fifteenth bit at 0100 </li></ul><br>  All addressing is 16-bit, the bytes have to rake hands. <br><br> <a title="ImageShack - Image And Video Hosting" href="http://img109.imageshack.us/i/01buttons.jpg/"><img src="http://img109.imageshack.us/img109/18/01buttons.jpg" width="640"></a> <br><br>  At the same address and bits we will tie up light bulbs that will light up when a certain bit is set at address 0100. <br><br> <a title="ImageShack - Image And Video Hosting" href="http://img695.imageshack.us/i/02lamps.jpg/"><img src="http://img695.imageshack.us/img695/9251/02lamps.jpg" width="640"></a> <br><br>  Now with the help of the Transfer utility and the COM cable, fill the project into the panel.  Everything we have drawn before the fill is rasterized (yes yes that‚Äôs right, because all the primitives in the development environment are vector and stretch to any size perfectly) and are presented in the internal 64-color representation. <br><br> <a title="ImageShack - Image And Video Hosting" href="http://img687.imageshack.us/i/03transfer.jpg/"><img src="http://img687.imageshack.us/img687/9928/03transfer.jpg" width="640"></a> <br><br>  The process of pouring and test run can be viewed on the video. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/lT2eQo1ioNU%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhjo-TR_USiD9eMFqXuy2DBCyvqh-Q" frameborder="0" allowfullscreen=""></iframe><br><br>  As always, standard components, when used on practical tasks, are not suitable for any reason.  It happened this time.  According to the TOR, the buttons should not change the bits, but write down their number 0, 1, 2, 3, or 4 at the desired address. In the component libraries, there are such buttons, but there are only bulbs illuminating from the bits. <br><br>  We will solve the problem as follows - the buttons will record their number at 0101, a special script will set the desired bit at 0100 in accordance with the fact that it is in 0101. We will not remove the existing buttons from the screen (let them remain to indicate where to click) and on top of them we put a transparent touch sensitive area, it is called the Touch Panel Input.  As seen in the picture above the buttons, a transparent area appeared, indicated by a grid of dots.  In the properties, we can choose a lot of interesting things, but we only need to set the 16 bit word at 0101. The number specified in the Constant field is recorded in memory. <br><br> <a title="ImageShack - Image And Video Hosting" href="http://img15.imageshack.us/i/04ttag.jpg/"><img src="http://img15.imageshack.us/img15/341/04ttag.jpg" width="640"></a> <br><br>  The functionality of the development environment allows you to write small scripts, our panel is the simplest, it does not even know how to divide into fractional numbers and is limited only to integer mathematics, but there are models with a built-in mat processor and then the script can solve both trigonometry and statistics.  The scripts are called D-Script and can be either global, or run when a specific screen is active.  In the window for adding / editing a script there is a very handy toolbar on the left, and even a small helper in writing the code that occurs when we read the address in memory and helps to correctly draw the address to the memory cell. <br><br> <a title="ImageShack - Image And Video Hosting" href="http://img138.imageshack.us/i/55648647.jpg/"><img src="http://img138.imageshack.us/img138/370/55648647.jpg" width="640"></a> <br><br>  In our example, the script runs from the timer every second and sets the bits in cell 0100, depending on the value in 0101. In addition to the timer, the script can be hung on: <br><ul><li>  bit setting </li><li>  bit reset </li><li>  set or reset bit </li><li>  on non-zero result of executing another script </li><li>  to zero result of another script </li></ul><br><br>  our script is quite simple: <br> <code>if ([w:0101]==0) { <br> [w:0100]=1 <br> } <br> endif <br> <br> if ([w:0101]==1) { <br> [w:0100]=2 <br> } <br> endif <br> <br> if ([w:0101]==2) { <br> [w:0100]=4 <br> } <br> endif <br> <br> if ([w:0101]==3) { <br> [w:0100]=8 <br> } <br> endif <br> <br> if ([w:0101]==4) { <br> [w:0100]=16 <br> } <br> Endif <br></code> <br>  In principle, all that is required of us we have implemented.  With the controller, the panel communicates via the COM port according to the RS232 or RS422 standard.  The communication protocol itself depends on the controller; branded Siemens and others allow the panel to send interrupts to the controller and the panel does not work until it finds the controller.  In our case, the Memory Link protocol is used, through which only the controller is active.  The protocol allows the controller to read and write to the memory panel.  eg: <br>  <b>[ESC] R 0100</b> - reads the contents at 0100, which will receive from the panel in response <br>  <b>[ESC] A FFFF</b> - if written there FFFF <br><br>  write command: <br>  <b>[ESC] W 0100, 000F</b> - not affected in any way, so you have to read forcibly if control of the record is required. </div><p>Source: <a href="https://habr.com/ru/post/80990/">https://habr.com/ru/post/80990/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80983/index.html">Youtube piano</a></li>
<li><a href="../80986/index.html">Obvious inventions that everyone is waiting for, but they do not sell</a></li>
<li><a href="../80987/index.html">Implementation of 960gs in Drupal (NineSixty theme)</a></li>
<li><a href="../80988/index.html">TreeDb. Data structure</a></li>
<li><a href="../80989/index.html">Can we set up an experiment?</a></li>
<li><a href="../80993/index.html">Ubuntu user day</a></li>
<li><a href="../80999/index.html">Red Hat, Zimbra, EnterpriseDB and other Open Software (OPO) for Russia and the CIS</a></li>
<li><a href="../81000/index.html">As in the ATM trial software turned out!</a></li>
<li><a href="../81001/index.html">The script for the backup directory</a></li>
<li><a href="../81007/index.html">We draw coordinates on the map using PHP + GDLib</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>