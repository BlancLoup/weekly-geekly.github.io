<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Lingvo API: ABBYY Dictionaries in the Windows Azure Cloud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We think that readers of our blog do not need to tell in detail what the ABBYY Lingvo dictionary is. ABBYY started this product 27 years ago. At first...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Lingvo API: ABBYY Dictionaries in the Windows Azure Cloud</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/35c/a82/75b/35ca8275bf954b9199b110d16322a0fb.jpg" align="left">  We think that readers of our blog do not need to tell in detail what the ABBYY Lingvo dictionary is.  ABBYY started this product 27 years ago.  At first, the dictionary could only be used on computers, then mobile applications and online services appeared.  Recently, we have opened access to Lingvo dictionaries for third-party developers at <a href="https://developers.lingvolive.com/">https://developers.lingvolive.com</a> - while in free beta mode. <br><br>  Under the cut, we will tell you more about how we worked on this service and how it can be used. <a name="habracut"></a><br><br>  Cloud Lingvo API can be used in many scenarios.  For example, to include the functionality of translating words into an application in which it is not the basis: in a mobile application for travelers, in a game, in an e-book or in a program for reading on smartphones.  You can, for example, add a translation to a web application for learning foreign languages. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The service makes it possible to integrate into the products a full or short translation of words, the interpretation of words, the correction of errors and correct spelling hints, full-text search through articles of available dictionaries, display of an article from a specific dictionary, form of words and pronunciation.  Developers get access to 140 dictionaries of various subjects for 15 languages, morphology works for all languages.  Russian and Ukrainian languages ‚Äã‚Äãperform in pairs with European (English, German, French, Spanish, Italian Portuguese, Latin, Polish, Greek, Danish), as well as with Chinese, Kazakh and Tatar.  Dictionaries of general vocabulary, explanatory, and also thematic in the following areas are available: accounting and auditing, jurisprudence, programming and management. <br><br>  The translation takes place entirely on the side of the service; all users' programs are required only to be able to send HTTP requests. <br><br>  Lingvo API is open for integration into programs for mobile (iOS, Android), desktop (Windows, Linux, Mac, etc.) and web applications for free with a limit of 50,000 characters / day.  In the future, the service will be paid for as it is used, the licensing model is still in operation and right now we will not be able to tell in more detail about what it will be. <br><br><h1>  Service API </h1><br>  To start using the Lingvo API, you need to register at <a href="https://developers.lingvolive.com/">https://developers.lingvolive.com</a> using your email address, Facebook account, VKontakte, Google account, or log in to the site using your <a href="https://www.lingvolive.com/ru-ru">Lingvo Live</a> account.  Then you need to add your application on the "My Applications" tab.  In beta mode, you can register three applications with a limit of 50,000 characters / day for free. <br><br>  The new application is automatically given a standard set of dictionaries and a key to access the API.  With this key, the application must authenticate, get a token for access that needs to be attached to the header of requests to the API.  How to do this is described in the <a href="https://developers.lingvolive.com/ru-ru/Help/Api/POST-api-v1-authenticate">help</a> . <br><br>  Client applications interact with the service using HTTP requests, they can be of several types (methods): <br><br>  1. In the specified direction, you can send a word or phrase and get all the dictionary entries from the existing dictionaries or specify a specific dictionary and get from it. <br>  2. You can get the part of the vocabulary corresponding to the entered word, phrase or part of the word <br>  3. For a word or phrase you can get a short translation, which is the most frequent translation in the existing dictionaries. <br>  4. You can search not only by the titles of dictionary entries, but also by the content of the articles themselves, i.e.  in translations and examples <br>  5. Specific dictionary entry by dictionary identifier and title. <br>  6. Variants of spelling correction of the word. <br>  7. Table with word forms (conjugation / forms by time / plural and so on). <br>  8. Voice acting for the word. <br><br>  In essence, API methods repeat the methods of the Lingvo engine, simplifying access and automatically substituting some parameters.  Within each method there is filtering by the dictionaries available to the client application.  Since the engine produces everything in XML format, for each method we turn the entire output into JSON. <br><br>  Sample requests are posted <a href="https://developers.lingvolive.com/ru-ru/Help/">here</a> . <br><br><h1>  How is everything inside </h1><br>  Our task was to implement the ability to access the engine via HTTP from any device that has Internet access.  In addition, we initially wanted the service to be horizontally scaled.  We chose for this Microsoft Azure Cloud Services.  It combines the ability to configure automatic scaling with the flexibility to configure virtual machines. <br><br>  To set up virtual machines in Cloud Service, we use an installation script written in PowerShell.  It is called from a CMD script (Azure CloudService can call the CMD script specified in the configuration file for initial machine configuration) and performs the following operations: <br><br>  ‚Ä¢ enables execution of 32-bit applications (needed for interaction with the engine); <br>  ‚Ä¢ installs the PowerShell module for working with Openwork, if it has not yet been installed; <br>  ‚Ä¢ Checks whether LingvoServer is installed and, if not, downloads the Zip archive from Azure BlobStorage, unpacks it and launches the LingvoServer installer. <br><br>  Schematically, the solution architecture looks like this: <br><br><img src="https://habrastorage.org/files/770/b6f/7e7/770b6f7e70824de39ebb0056188d3ffe.png"><br><br>  There is basic information about the user application that we need to work: it is his identifier, with which user he is associated and how many characters he can consume per day.  This information is stored in a token, it is a JWT token signed with a key that only we have.  Why do you need to keep it in a token?  In order not to access the database each time (Azure SQL in the diagram), the database is one, it does not scale horizontally, we don‚Äôt want to load it much. <br><br>  We have information about how many characters the application has already consumed.  Putting this information into a token is wrong, because then you have to update the token each time (and this is an extra load on the user of our service ‚Äî he will have to write more complex code, etc.).  Instead, the information is stored in the Redis cache, this is a fast cache that can scale horizontally, which means it can handle a lot of work than the database. <br><br>  A client application request containing a token goes to a virtual machine (indicated in the diagram as a web role).  This is a virtual machine instance in MS Azure Cloud Service, our API and the Lingvo engine are deployed on it, on which everything works.  The number of virtual machines varies according to the Cloud Service‚Äôs auto-scaling options, depending on the average processor load.  The engine installer itself (quite large in size) is stored in Blob Storage.  It is downloaded only if it is not already installed on a specific virtual machine, so as not to load with each service update. <br><br>  The user's request goes through several stages: validation of the token (in which there is information about what application it is and how many characters it can consume at all), if the token is correct, then we look in the Redis-cache and see how much it has already consumed .  Limiting the amount of characters consumed is done using a <a href="https://en.wikipedia.org/wiki/Leaky_bucket">leaky bucket</a> algorithm.  The algorithm provides the promised volume of consumption for the application client, while limiting the possible peak load.  The scope of the possible peak load is set via the configuration.  Information about the number of characters available to the application is stored in the Redis cache and is checked after checking the authorization immediately before executing the method itself.  If he passed the test and the request passes, then we turn to the Lingvo engine inside the virtual machine and get him an answer to his request. <br><br><h1>  Future plans </h1><br>  The largest and most important plan - we want to make the Lingvo engine faster, more easily scalable, and improve the quality of search and the format of search results.  At the moment, as you can see, it lacks a clearer structure.  How to do it right - still thinking.  And, of course, we will replenish the API with new useful methods. <br><br>  We also plan to add learning content to the API and develop adaptive intelligent algorithms based on it, which will use an artificial intelligence to build an individual learning model depending on the needs and level of knowledge of the user. <br><br>  We are very interested in your feedback and wishes!  Write them in the comments to this text or to lingvo.api@abbyy.com. <br><br><h1>  Examples of integration of previous versions of Lingvo API </h1><br>  In conclusion, we will talk about several applications with an integrated Lingvo API.  The service that we have released now is the first experience of implementing the API of our dictionaries in the cloud.  But a few years ago we already released a similar product, which was installed directly into the devices and worked only under Android.  It has been built into several book reading applications: Yota Reader, Moon + Reader, Moon + Reader Pro and others. <br><br>  The Yota developers have integrated the Lingvo API into the Yota Reader application, which allowed users to quickly receive a translation of the word highlighted in the text, without interrupting reading. <br><br>  The developer of Android applications for reading electronic books Moon + Reader and Moon + Reader Pro using the Lingvo API added the function of issuing a card with a brief translation.  When reading a book in a foreign language, you can select a word, select the ‚ÄúDictionary‚Äù menu and see its translation within the selected language pair. <br><br>  Here is the translation in the Moon + Reader application. <br><br><img src="https://habrastorage.org/files/c2f/4b1/264/c2f4b126454c4ae8bd8028b89fbd203e.png"><img src="https://habrastorage.org/files/cf1/01a/bfa/cf101abfa0aa4c258191270d0f9256fb.png"><br><br><img src="https://habrastorage.org/files/a15/223/6b0/a152236b04624a608af50c53fd56e5c7.png"><br><br>  <i>Kirill Kryuchkov,</i> <i><br></i>  <i>Mobile &amp; Lingvo Live</i> </div><p>Source: <a href="https://habr.com/ru/post/317102/">https://habr.com/ru/post/317102/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../317092/index.html">The Stegano exploit kit is used by attackers to compromise users.</a></li>
<li><a href="../317094/index.html">Perform clustering on the example of BitrixVM: simple and clear</a></li>
<li><a href="../317096/index.html">How many stars shine? Habrainterview with players, developers and publisher of "Space Rangers"</a></li>
<li><a href="../317098/index.html">How many stars shine, part 2: Habrainterviews with players, developers and publisher of "Space Rangers"</a></li>
<li><a href="../317100/index.html">Elastix 5 beta</a></li>
<li><a href="../317110/index.html">Information on the threshold of immortality, part 2: DNA storage</a></li>
<li><a href="../317112/index.html">Translated documentation Vue.JS 2.x</a></li>
<li><a href="../317114/index.html">Is it possible to do without jsx and why?</a></li>
<li><a href="../317116/index.html">Reporting system: how to get 50 million reports and save Zen</a></li>
<li><a href="../317118/index.html">Mass "alternative" energy in Russia - is it real?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>