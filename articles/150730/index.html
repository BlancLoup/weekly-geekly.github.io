<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"It is difficult about the simple." JS data types. In search of the truth of primitives and objects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I decided to write a series of articles entitled ‚ÄúDifficult about simple.‚Äù This cycle will be dedicated to the JavaScript language. Why is "difficult ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"It is difficult about the simple." JS data types. In search of the truth of primitives and objects</h1><div class="post__text post__text-html js-mediator-article">  I decided to write a series of articles entitled ‚ÄúDifficult about simple.‚Äù  This cycle will be dedicated to the JavaScript language.  Why is "difficult about the simple"?  Because everything that I will be telling, I will be telling, taking into account the peculiarities of the interpreter, starting with data types.  All this will be done in order to be able to tell just about the complex, for example, about the methods of inheritance in JavaScript and other patterns. <br><a name="habracut"></a><br>  JavaScript is an object-oriented programming language with prototype organization. <br>  What does it mean ‚Äúwith the prototype organization‚Äù, we will talk in the next article (it will definitely be), but why it is ‚Äúobject-oriented‚Äù and whether everything is in the JS object, we will find out today. <br>  To fulfill its goals JS ªu enough only 9 types.  Moreover, only 6 of them are available to the program, the remaining 3 are available only at the implementation level and are used by the specification.  At first glance (and this is the first misconception), everything in JS is an object.  So, five of the six types available to the program are so-called primitives and are not objects (below I will explain why and how they are confused with objects).  These five primitives are: <br><br>  <b>- String (s = 'str')</b> <b><br></b>  <b>- Number (n = 10)</b> <b><br></b>  <b>- Boolean (b = true)</b> <br>  And as I call them "philosophical types": <br>  <b>- null (v = null)</b> <b><br></b>  <b>- undefined (u = undefined)</b> <br><br>  Philosophical by the fact that null means that nothing is assigned to a variable, and undefined means that a variable has been assigned a void.  What is the difference between ‚Äúnothing‚Äù and ‚Äúemptiness‚Äù in this case - think it over at your leisure.  Now we will not do this. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The sixth type (object) available to the program is: <br>  - <b>Object</b> (not to be confused with the Object constructor, we are now talking only about abstract types!) - the only type representing objects in JavaScript. <br>  An object is a data structure (a whole set of them), represented as a set of key-value pairs.  The value can be any of the data types - then it will be a property of the object, or even a function - then it will be a method of the object. <br><br>  There are a great many ways to work with primitives.  Starting with the fact that they can be assigned to variables through literals or through constructors and ending with the fact that primitives can not be declared into variables at all, working with them directly.  Also, primitives can be in global variables and local ones. <br><br>  Here are some examples: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v1; <span class="hljs-comment"><span class="hljs-comment">//undefined ()   var v2='2'; //    var v3 = new String(2); // ,    .     String v4 = String(2); //     .   window.v4 '2'.length; //            34..toString(); //           12. toString(); //           (22).toString();//          </span></span></code> </pre> <br><br>  In the last 4 commands, you can clearly see how a primitive is confused with an object - after all, we call the method, through the point, just like an object.  Indeed, it seems that these primitives are objects. <br><br>  Fallacy is compounded when we check the type of a variable, for example <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> v;</code> </pre><br><br>  and get in response to "object". <br><br>  And if we write: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; v <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>;</code> </pre><br><br>  Then porridge will appear in the head, because the result of the last line will be ‚Äúfalse‚Äù.  That is, the variable v has the type object, but is not inherited from the type Object.  What the heck?! <br><br>  To begin with I will explain a dirty trick with typeof null.  This operator returns the type of the object.  The fact is that the typeof operator returns a string value taken from a rigidly fixed table, where it is written: ‚Äúfor null, return‚Äú object ‚Äù‚Äù.  The instanceof operator - checks whether something belongs to the specified data type.  How he does it, I will tell in the next article, but I assure you that in this case he worked correctly, the primitive null is by no means inherited from the Object type - it is in itself, the primitive is the lowest stage of development. <br><br>  Okay, with typeof and instanceof figured out, but methods are called by primitives - like objects are straight!  How, if it is not an object? <br><br>  This is what it is.  There is such a thing as wrapper functions (constructors) (and again everything will be clarified in the second article).  They are for all primitives (Number (), Boolean (), String ()), as well as others.  Their essence consists in creating an object from a primitive that will have auxiliary methods for working with this type of primitive. <br>  For example, you can create a variable like this: <br><br><pre> <code class="javascript hljs">Var num = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>(<span class="hljs-number"><span class="hljs-number">23.456</span></span>);</code> </pre><br><br>  In this case, from the primitive 23.456 we get the object. <br>  For the number type, the Number () constructor has an auxiliary method toPrecision () - it determines the number of significant digits for the number.  For example, if the number 23.456 is set the number of significant digits 4, then we will get the number 23.45. <br>  And so when we try to address the primitive as an object: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">23.456</span></span>). toPrecision(<span class="hljs-number"><span class="hljs-number">4</span></span>);</code> </pre><br><br>  The interpreter is temporarily wrapped, primitive to an object by calling new Number (23.456), and then this object calls the method toPrecision (), which it now has.  Thus, many mistakenly believe that everything in JS is an object. <br><br>  There is also another example of misleading and misunderstanding of what is happening.  Here is the code: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = <span class="hljs-string"><span class="hljs-string">'str'</span></span>; str.test = <span class="hljs-string"><span class="hljs-string">'test'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  ,   ,  console.log(str.test); //undefined</span></span></code> </pre><br><br>  If we thought, as before, that str is an object, we would be surprised why he did not remember the new test property in himself.  But now we know that when the primitive is referred to as an object, it temporarily turns into an object of type String.  But after performing the operation, this wrapper disappears, and with it the new test property.  That's all, no magic. <br><br>  Actually, running ahead, while wrapping a primitive into an object, a whole chain of inheritance is built (as organized, we will talk later), but in fact it turns out that this is the ‚Äúmatryoshka‚Äù: <br><br>  Object (Number (&lt;primitive&gt;)).  The parent of any object in JS, anyway, is Object.  When you call a property in an object, the search passes through this whole ‚Äúmatryoshka‚Äù until it finds this property in one of the objects or returns undefined or if you looked for a method, it will throw an exception.  Thus, the properties of the Object are also available for the primitive.  How prototype inheritance works and we will talk about its intricacies in the second article. <br><br>  For intrigue over the second article, which I want to release, I'll tell you about one more thing related to the functions of the designers - this is a type conversion.  JS is not a strongly typed language.  This means that at the time of declaration of a variable, we are not obliged to indicate what type it is, and moreover, during the program operation, data of absolute any type can be put into this variable.  And also we can use, for example, string variables in mathematical operations or vice versa, numbers in a concatenation operation.  Example: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = <span class="hljs-string"><span class="hljs-string">'abc'</span></span>; str+<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 'abc1'</span></span></code> </pre><br><br>  Here, a primitive of type number - 1 will be converted to a string primitive.  In objects, this feature is available through a call to the toString () method, in objects of type number, there is a valueOf () method that returns a primitive of type number.  But we sort of said that only objects can have methods.  So in the process of converting a primitive from one type to another, does it also turn into an object?  I assure you that no.  The call to this method occurs implicitly when the constructor function is called by the interpreter without the new operator.  What a magic new operator and what happens when a constructor function is called without it, and what a pancake at the end of a constructor function like that, we'll talk in the next article.  For now, take my word for it - type conversion occurs right away - from a primitive to a primitive. <br><br>  So far, of course, there are more questions than answers, but believe me, everything will become much more transparent after reading the second article.  Here I mostly intrigued and raised a number of questions - so to speak, stirred minds.  But still something can be learned from this article: <br>  1. Despite the conventional wisdom, ‚Äúeverything in JS is an object‚Äù is not so, we found out that out of 6 data types available to the programmer, as many as 5 are primitives and only one represents the type of objects. <br>  2. About objects, we learned that this is a data structure that contains key-value pairs.  When the value can be any of the data types (and it will be a property of the object) or a function (and it will be a method of the object). <br>  3. But the primitives are not objects.  Although it is possible to work with them as with an object (and this causes a delusion that the primitive is an object), but ... <br>  4. Variables can be declared both by simple (literally) (var a = 'str'), and through the constructor function (wrapper) (var a = new String ('str')).  In the second case, we get no longer a primitive, but an object created by the wrapper function String ().  (what kind of magic operator is new and what is a constructor function we will find out further). <br>  5. We learned that it is through the creation of a wrapper on a primitive (new String ('str')) that you can work with as an object.  It is this wrapper that the interpreter creates around the primitive when we try to work with it as an object, but after performing the operation it collapses (therefore, the primitive can never remember the property that we assign to it a.test = 'test'- the test property will disappear with the wrapper ). <br>  6. We learned that objects have a toString () method that returns a string representation of the object (for the type number, valueOf () will return a numeric value). <br>  7. They understood that when performing concatenation operations or mathematical operations, primitives can redefine their type into the necessary one.  To do this, they use the wrapper function of their types, but without the operator new (str = String (str)). (What is the difference and how it works, let's talk further) <br>  8. And finally, we learned that typeof takes values ‚Äã‚Äãfrom a hard-coded table (this is where another misconception comes from, based on typeof null // object). </div><p>Source: <a href="https://habr.com/ru/post/150730/">https://habr.com/ru/post/150730/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150725/index.html">Building Distributed Data Center (DC Interconnect, DCI)</a></li>
<li><a href="../150726/index.html">CAD: all arbitration courts of Russia in one Android device</a></li>
<li><a href="../150727/index.html">Internet Explorer 7-9: Choosing Tools for Maximum CSS3, HTML5 Support</a></li>
<li><a href="../150728/index.html">Acceleration 3.7 times after removing Sleep () in WebKit</a></li>
<li><a href="../150729/index.html">Surface review of javascript-enabled BaaS platforms</a></li>
<li><a href="../150732/index.html">Avl-trees</a></li>
<li><a href="../150734/index.html">RailsClub'Moscow 2012. Interview with Steve Klabnik</a></li>
<li><a href="../150735/index.html">Up to 50% off on all JetBrains products</a></li>
<li><a href="../150736/index.html">The correct calculation for VDI (part 2)</a></li>
<li><a href="../150737/index.html">RailsClub'Moscow 2012. Interview with Xavier Noria (Xavier Noria)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>