<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bison for javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No, not Jison . A full-fledged generator javascript parsers with full support for the bison. 


 Let's start with the main question. 

 What for? 

 I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bison for javascript</h1><div class="post__text post__text-html js-mediator-article">  No, not <a href="http://zaach.github.io/jison/">Jison</a> .  A full-fledged generator javascript parsers with full support for the bison. <br><br><a name="habracut"></a><br>  Let's start with the main question. <br><br><h3>  What for? </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It became necessary to port a large syshny parser to JavaScript without losing small details of the original.  Very lucky that the original parser is written in terms of yacc / bison, and not with your hands on hardcore C. <br><br>  When it is time to port this parser, the first thing that came to mind is to google ‚Äújavascript bison parser‚Äù.  Of course, the very first result was Jison.  Here is a joy, it was thought then.  However, the very first experiment showed that Jison does not know how to do a large piece of work with intermediate states.  These are such cabinets, when hit on which you have to execute a piece of your code, for example, to prompt the lexer in what context he is now.  A brief correspondence <a href="https://github.com/zaach/jison">in the githaba project</a> did not bring consolation.  Instead, the author <a href="https://github.com/zaach/jison/issues/173">responded very savvy dude</a> .  He wrote there, in my opinion, a whole book with a bunch of details!  I had to re-read and understand three times: yes, alas, you have to pick the original bison. <br><br><h3>  Bison </h3><br><br>  I must say that the bison is very well designed.  Instead of hard-coding some constructions inside the generator, the bison uses a template language with which it nicely decomposes the necessary variables and labels into the resulting parser.  Each of the three languages ‚Äã‚Äãhas its own pattern, called the skeleton.  And everything would be fine, but the <a href="http://www.gnu.org/software/m4/manual/m4.html">GNU m4</a> template language is just awful there.  Because of this anachronism, instead of quietly porting the skeleton for Java, I had to deal only with patterned garbage of the day. <br><br><h3>  lalr1.js </h3><br><br>  This is the name of the skeleton for javascript - <a href="">lalr1.js</a> .  They are all <a href="http://en.wikipedia.org/wiki/LALR_parser">brothers lalry there</a> :) <br><br>  The result was very personal.  We take some grammar.y in one hand, lalr1.js - in another, and bang: <br><pre><code class="bash hljs">bison -S ./lalr1.js grammar.y</code> </pre> <br>  we get grammar.js, which, after sticking the lexer to it, can even parse something. <br><br>  Oh yes.  It is important not to forget to replace all C code in this very grammar.y with javascript.  Well, lecturer gash.  Well, and still potestit well, comparing the logs of the parser C and the parser in javascript. <br><br><h3>  Epilogue </h3><br><br>  As usual, everything was done because it was creepy as interesting.  But at the same time managed to bring the result to the beta.  If there are people among you who are interested in generating javascript parsers (well, there for a cofescript, or directly at once javascript), then I will be very glad to help with running it all in.  You can play by taking the source from <a href="">github.com/bison-lalr1.js</a> and setting yourself bison and v8 / d8. <br><br>  <b>Two weeks later (06/28/2013)</b> : The parser still does its job well with a hefty gammatics intertwined with a complex lexer.  Only 10 times slower than sishnogo parser.  Looks like you can release soon :) </div><p>Source: <a href="https://habr.com/ru/post/183400/">https://habr.com/ru/post/183400/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../183382/index.html">Tomato technique in Russian</a></li>
<li><a href="../183386/index.html">Copywriting strike a new blow: Vkontakte began removing music</a></li>
<li><a href="../183388/index.html">Leak: iOS 7 on iPad</a></li>
<li><a href="../183392/index.html">Colossus on clay feet. Principles for managing a fast-paced gaming studio</a></li>
<li><a href="../183394/index.html">Bret Victor - Inventing on the Principle (Bret Victor - Inventing on a Principle)</a></li>
<li><a href="../183404/index.html">Webmoney in Ukraine: news from the fields and a petition to the authorities</a></li>
<li><a href="../183406/index.html">How to promote events in social networks? The story of one mass holiday</a></li>
<li><a href="../183416/index.html">Landsat 8 ranges in operation</a></li>
<li><a href="../183418/index.html">Google intends to build a network of balloons for planetary access to the Internet</a></li>
<li><a href="../183422/index.html">In France, the pirate file sharing service was turned off for the first time ... three years after the adoption of the anti-piracy law</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>