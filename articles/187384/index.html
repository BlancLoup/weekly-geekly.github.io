<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Working with the Yandex.Metrica API in Python</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To all fans of Python and Yandex. Metrics of a good day! 

 Some people know that for some time now I have become a Web developer, however, this is lo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Working with the Yandex.Metrica API in Python</h1><div class="post__text post__text-html js-mediator-article">  <strong>To all fans of Python and Yandex. Metrics of a good day!</strong> <br><br>  Some people know that for some time now I have become a Web developer, however, this is loudly said.  My site with interesting puzzles, by the way, if anyone is interested, you can get there through <a href="http://ru-brains.org/">this link</a> , slowly but surely, roll to the top of search engines, since there are not so many alternatives.  I find out about the attendance on the site from the reports of the Yandex.metrics I already love.  Basically, there is most of what I need there.  But every time to go to from the site in order to see the number of visitors is somehow not a fountain.  And here I again, just in time, remembered that in general I am a programmer and I am learning a python.  ‚ÄúOkay,‚Äù I thought, ‚ÄúI will practice with the network at the same time.‚Äù  No sooner said than done.  Through the oAuth protocol, we register the application and get a debugging token for it (it lives indefinitely and does not need to ask for it each time. So, for our needs, this is the most!).  For all interested, under the cut quote the library code, which can be tied to any GUI - interface: <a name="habracut"></a><br><br>  <a href="">YMReader.py</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And now, briefly, that she still knows how. <br><br><ul><li>  Log in to Yandex. Metrics using ID and token </li><li>  Request a list of counters for your account (used later) </li><li>  Get statistics for today or for all the time of work (Today or Totall in the parameter of the corresponding function) </li><li>  Get a list of search phrases that people used to access your site. </li><li>  Check for correct meter installation </li></ul><br>  Liba itself, of course, does nothing by default.  In order to use it, you need to import it into your project: <br><br> <code>import YMReader</code> <br> <br>  Then pass it the login data using the SetLoginData method in the parameters specifying your ID and your token.  How do you get the token - your business, but I decided to use a static debug (there must be at least something through the ass) <br>  For example, like this: <br><br> <code>SetLoginData("21535707","49985f415a9a46aab45b70304a557cab") #      ,     -  403  401 </code> <br> <br>  Well, now, you can use all the functions.  Type print dir (YMReader) to see what they are called.  As a rule, functions return data to me either as dictionaries (for example, GetSummary) or as a string (CheckCode).  Therefore, to take advantage of the results, no parsing is required.  Let's take, for example, the number of visitors for the site ru-brains.org: <br><br> <code>import YMReader</code> <br> <br> <code>YMReader.SetLoginData("21535707","49985f415a9a46aab45b70304a557cab")</code> <br> <br> <code>print YMReader.GetSummary((YMReader.GetCounters()[1]["URL"]))["Visitors"]</code> <br> <br>  As you can see, everything is simple! <br>  Liba is distributed under the GPL license - so use as much as you want! <br>  Good luck to everyone and buggy code! </div><p>Source: <a href="https://habr.com/ru/post/187384/">https://habr.com/ru/post/187384/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../187374/index.html">Project GPS carwash open source</a></li>
<li><a href="../187376/index.html">750 million mobile phones vulnerable to intruders due to inadequately protected SIM cards</a></li>
<li><a href="../187378/index.html">The idea of ‚Äã‚Äãa large information system for the Russian Academy of Sciences</a></li>
<li><a href="../187380/index.html">iOS Developer Center hacked</a></li>
<li><a href="../187382/index.html">ZendFramework + Bitrix</a></li>
<li><a href="../187386/index.html">Methodology for calculating the load, the number of users of an information system - a website or service</a></li>
<li><a href="../187388/index.html">How to start a billion company</a></li>
<li><a href="../187390/index.html">Writing SOAP client-server application in PHP</a></li>
<li><a href="../187394/index.html">Unity3D and MySQL</a></li>
<li><a href="../187396/index.html">Authentication via social networks for JavaServer Faces (JSF)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>