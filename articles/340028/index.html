<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configure two-way RSA and GOST authentication in the application on JBoss EAP 7</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Security in the modern business information environment is one of the primary roles. Needless to say, in the Bank, where most of the product...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configure two-way RSA and GOST authentication in the application on JBoss EAP 7</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/alfa/blog/340028/"><img src="https://habrastorage.org/webt/59/e0/78/59e078f88f347769510853.jpeg"><br></a> <br>  Hello! <br><br>  Security in the modern business information environment is one of the primary roles.  Needless to say, in the Bank, where most of the products are built on Digital technologies, and at stake is trust, peace of mind and customer welfare, information security is put in the vanguard. <br><br>  In this article I will tell you how we use one of the information security tools in our activities. <br><a name="habracut"></a><br>  Authentication is the process of authenticating a subject by its unique identifier and verifying the right to access the information system. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Two-way authentication is mutual verification and authentication, in which the information system is also required to confirm its authenticity to the user. <br><br>  The Red Hat JBoss Enterprise Application Platform server is one of the common and popular platforms for building enterprise applications in Java. <br><br>  To configure, take the final release of JBoss EAP 7.0.0 from 10.05.2016 from a free source: <a href="https://developers.redhat.com/products/eap/download/">Red Hat JBoss Enterprise Application Platform</a> <br><br>  If you have Red Hat registration, you can download additional patches: <a href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html%3Fproduct%3Dappplatform%26downloadType%3Ddistributions">Red Hat Customer Portal</a> and install your own JBoss EAP instance through the console (http: // localhost: 9990 / console / App.html # patching) <br><br><img src="https://habrastorage.org/webt/59/e0/7a/59e07af748909579858530.png"><br><br><h3>  Formulation of the problem </h3><br>  For a corporate application with a thin client in a web browser, middle or backend servlet, which runs on JBoss EAP, you need to configure two-way authentication using TLSv1.2 protocol using foreign cryptographic algorithms. <br><br>  The task is complicated by the fact that the application on the JBoss server, in turn, interacts with, for example, the CryptoPro Certification Center software and hardware complex, which requires a two-way authentication procedure using the Transport Layer Security Protocol (TLSv1.0) using Russian cryptographic algorithms. <br><br>  It turns out that in one application on the JBoss server you need to make friends with domestic and foreign cryptography. <br><br>  Authentication should be performed by the combined method with the Public Key Infrastructure (PKI) tools, i.e.  using client and server certificates. <br><br><h3>  Preparing RSA Authentication Keys </h3><br>  To authenticate the client and confirm to the client the authenticity of the server itself, both parties need to have their own key pairs with public key certificates.  As well as the storage of root trusted certificates, where the root certificates of certification centers that issued the final authentication certificates should be installed. <br><br><img src="https://habrastorage.org/webt/59/e0/7b/59e07b1aeb8b2397668918.jpeg"><br><br>  Certification centers for server and client may be different. <br><br>  The user must trust the certification authority that issued the certificate for the server. <br><br>  The server must trust the certification authority that issued the certificate for the client. <br><br><img src="https://habrastorage.org/webt/59/e0/7c/59e07c847633c869662637.jpeg"><br><br>  There are many tools and tools with good descriptions and examples that allow you to work with repositories and generate keys and certificate requests (keytool, openSSL, Portecle, XCA).  Therefore, the process of preparing the repositories and issuing certificates is skipped here. <br><br>  Here, for example, is a good article and step-by-step instructions on how to configure <a href="https://technology.amis.nl/2017/05/10/oracle-soa-suite-two-way-ssl-with-tls1-2/">Two-way SSL with TLS1.2 for Oracle SOA Suite</a> using openSSL and keytool.  But, truth, it partially lost its relevance and ceased to reflect the whole picture.  Certificates issued for it will not be correctly perceived in web browsers.  For example, for Google Chrome browser version 58 and further, the subjectAlternativeName attribute of the Extensions block will be used to check the domain name in the TLS certificate, rather than commonName, as before.  Now the browser will give an error: <br><br><img src="https://habrastorage.org/webt/59/e0/7d/59e07d32deab9573907088.png"><br><br><img src="https://habrastorage.org/webt/59/e0/7d/59e07d3d19f67820491676.png"><br><br><blockquote>  Error: "Subject Alternative Name Missing" or NET :: ERR_CERT_COMMON_NAME_INVALID or "Your connection is not private" </blockquote><br>  if the server receives an SSL certificate without a domain in the alternative name of the certification entity. <br><br>  This is what <a href="https://support.google.com/chrome/a/answer/7391219%3Fhl%3Den">Google Chrome Answer</a> says about it. <br><br><img src="https://habrastorage.org/webt/59/e0/7e/59e07e147a610014315054.png"><br><br>  How to add subjectAlternativeName to openSL certificate - <a href="https://www.openssl.org/docs/man1.0.2/apps/x509v3_config.html">here</a> and <a href="https://blog.zencoffee.org/2013/04/creating-and-signing-an-ssl-cert-with-alternative-names/">here</a> <br><br>  Of course, this method of obtaining TLS certificates is only suitable for internal corporate applications. <br><br>  To interact with external clients, you need to contact trusted certificate authorities whose root certificates are pre-installed in browsers, JREs, operating systems, and client devices.  Review of <a href="https://www.sslshopper.com/certificate-authority-reviews.html">sslshopper.com</a> certification centers <br><br>  As a result, two repositories were created.  The <b>ssl-keystore.jks file</b> with keys and JBoss EAP server certificate for authentication to the client.  And <b>ssl-truststore.jks</b> - with a trusted CA root certificate issuing a client authentication certificate. <br><br><h3>  Preparation of GOST-authentication keys </h3><br>  The mutual authentication process of the JBoss server and CryptoPro server TC is essentially the same.  The only difference is in cryptographic algorithms. <br><br><img src="https://habrastorage.org/webt/59/e0/7f/59e07f741fe8f220918983.jpeg"><br><br>  Servers exchange certificates with the signature algorithms of GOST R 34.11 / 34.10-2001 and signature hashes of GOST R 34.11-94 instead of the sha256RSA and sha256 used in RSA TLSv1.2, respectively.  The root certificate here is the ROOT certificate of the PAC CryptoPro ProC itself. <br><br>  To generate a key pair and issue a GOST certificate, you can use the cryptoPro certifying center <a href="https://www.cryptopro.ru/solutions/test-ca">cryptopro.ru/solutions/test-ca</a> <br><br>  Or, if there is, deployed corporate CAs.  At the same time, a cryptographic provider CryptoPro CSP should be installed on the workstation. <br><br><img src="https://habrastorage.org/webt/59/e0/80/59e080252778a431966231.jpeg"><br><br>  After registration on the personal page, you can create requests, manage your certificates. <br><br><img src="https://habrastorage.org/webt/59/e0/80/59e0802a21b4d513809477.jpeg"><br><br>  When generating a key pair, CryptoPro CSP asks to select a repository.  This may be the MS Windows registry, eToken, or JaCarta, if drivers are installed and the corresponding eToken PKI Client 5.1 SP1 <a href="https://www.aladdin-rd.ru/support">environment is installed.</a> <br><br>  JBoss server through Java interfaces implemented in CryptoPro JCP and CryptoPro JCSP can work with the following types of storages: <br><br> <code>JCP - CryptoPro Java Provider <br> KeyStore - CertStore <br> KeyStore - FloppyStore <br> KeyStore - HDImageStore <br> KeyStore - MemoryStore <br> KeyStore - MemoryStore0- MemoryStore9 <br> KeyStore - OCFBase <br> <br> JCSP - CryptoPro Java CSP Provider <br> KeyStore ‚Äì FLASH <br> KeyStore - HDIMAGE <br> KeyStore ‚Äì REGISTRY <br> KeyStore ‚Äì ARDS JaCarta <br> KeyStore ‚Äì Aladdin Token JC <br></code> <br>  In order to have access to eToken, in CryptoPro JCP you must follow the steps given in the CryptoPro instructions. <a href="https://www.cryptopro.ru/products/csp/jcp/downloads">Installation features when using eToken electronic keys</a> <br><br>  In the control panel of the CryptoPro JCP, the OCF tab will appear and the ability to access the eToken via the OCFStore. <br><br><img src="https://habrastorage.org/webt/59/e0/81/59e0815cc841a854398922.jpeg"><br><br>  In this example, JBoss EAP will be configured to work with the KeyStore - HDImageStore.  This means that if the keys and certificate were generated in the Windows registry, eToken or JaCarta, then you need to solve the problem of transferring them to the HDImageStore format. <br><br>  If the keys are in the registry or JaCarta, then we use CryptoPro CSP.  Service tab "Copy" <br><br><img src="https://habrastorage.org/webt/59/e0/81/59e0819f9bc8d701053781.png"><br><br>  Select a container and copy it to eToken. <br><br><img src="https://habrastorage.org/webt/59/e0/81/59e081a979443351846196.png"><br><br><img src="https://habrastorage.org/webt/59/e0/81/59e081b2595ed165885083.png"><br><br>  Further, in the control panel of the CryptoPro JCP, it is possible to view and copy this container from the eToken into the desired HDImageStore format in the OCFStore. <br><br>  The path to the HDImageStore in the CryptoPro JCP is configured on the Hardware tab <br><br><img src="https://habrastorage.org/webt/59/e0/82/59e08239448bb313953383.png"><br><br>  Physically, containers with keys in the HDImageStore format are directories, each of which stores six files with the extension * .key <br><br><img src="https://habrastorage.org/webt/59/e0/82/59e0824233562156923868.png"><br><br>  The JBoss server will use <b>truststore.cpks</b> , which is connected to CryptoPro JCP on the Keys and certificates stores tab, as a trusted root repository with the <b>CAK</b> CryptoPro <b>Pro root</b> certificate. <br><br><img src="https://habrastorage.org/webt/59/e0/82/59e082b70fd1d135668271.png"><br><br><h3>  JBoss server setup </h3><br>  To configure the JBoss EAP 7.0.0 server, all changes need to be made to the jboss-EAP-7.0.0 \ standalone \ configuration \ <b>standalone.xml</b> configuration file <br><br>  Settings are added to the &lt;system-properties&gt; section, which indicate to the server which providers and storages to use for two-way GOST authentication: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"java.protocol.handler.pkgs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sun.security.ssl.allowUnsafeRenegotiation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"java.util.logging.ConsoleHandler.level"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ALL"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl.keyStoreProvider"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JCP"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl.keyStoreType"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HDImageStore"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl.keyStorePassword"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myPass"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl.trustStoreProvider"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JCP"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl.trustStoreType"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HDImageStore"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl.trustStorePassword"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myPass"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl.trustStore"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../standalone/configuration/truststore.cpks"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru.CryptoPro.ssl.SSLLogger.level"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FINE"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru.CryptoPro.ssl.SSLLogger.handlers"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"java.util.logging.ConsoleHandler"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru.CryptoPro.reprov.enableCRLDP"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.sun.security.enableCRLDP"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.ibm.security.enableCRLDP"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ocsp.enable"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.sun.net.ssl.checkRevocation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javax.net.ssl.supportGVO"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  To configure RSA TLSv1.2 user authentication and JBoss server in the section <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">management</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-realms</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  need to add security area: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-realm</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SecureRealm"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">server-identities</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ssl</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">protocol</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TLSv1.2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keystore</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ssl-keystore.jks"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">relative-to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jboss.server.config.dir"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystore-password</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myPass"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"my_domain_net"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ssl</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">server-identities</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">authentication</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">truststore</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ssl-truststore.jks"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">relative-to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jboss.server.config.dir"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystore-password</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myPass"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">authentication</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-realm</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Thus, for JBoss all necessary keystores and certificates are specified. <br><br>  In section <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subsystem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:jboss:domain:undertow:3.1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">buffer-cache</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">server</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default-server"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  to an existing http listener <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">http-listener</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">max-post-size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"104857600"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">socket-binding</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  need to add https: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">https-listener</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">verify-client</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"REQUESTED"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">security-realm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SecureRealm"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">socket-binding</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  The verify-client = "REQUESTED" attribute indicates to the server that it is necessary to request the user's certificate in the browser when accessing the server using the https protocol. <br><br><img src="https://habrastorage.org/webt/59/e0/84/59e0849acdbee694130957.png"><br><br>  The &lt;socket-binding-group name = "standard-sockets" section is used to bind a secure socket: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">socket-binding</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">port</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${jboss.https.port:8443}"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  In Linux OS, where port 8443 is special privileged, you can override it, for example: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">socket-binding</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">port</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${jboss.https.port:19443}"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  If you need to configure the JBoss application on a virtual host, in the section <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subsystem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:jboss:domain:undertow:3.1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">buffer-cache</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">server</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default-server"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  required to add next to <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">host</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default-host"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"localhost"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  setting up your host: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">host</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myApp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"my.domain.net "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">location</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">handler</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"welcome-content"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">filter-ref</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"server-header"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">filter-ref</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"x-powered-by-header"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">host</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  In section <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subsystem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:jboss:domain:security:1.2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-domains</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  need to add the security domain of our application <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-domain</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myApp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cache-type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">authentication</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">login-module</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">code</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CertificateRoles"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">flag</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"required"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module-option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"verifier"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.jboss.security.auth.certs.AnyCertVerifier"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module-option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"securityDomain"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myApp"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module-option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rolesProperties"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file:/JBOSS/jboss-eap-7.0/standalone/configuration/apps/myApp/roles.properties"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">login-module</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">authentication</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jsse</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystore-password</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myPass"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keystore-url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file:/JBOSS/jboss-eap-7.0/standalone/configuration/ssl-keystore.jks"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">truststore-password</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myPass"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">truststore-url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"file:/JBOSS/jboss-eap-7.0/standalone/configuration/ssl-truststore.jks"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">client-auth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-domain</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  To authorize users, if necessary, as shown in the example, a login-module can be configured in the security domain, which will determine the role of the user in the application using his authentication certificate.  For this, the login module uses the prepared /roles.properties file. <br><br>  Sample file content - Subject X500Principal = role <br> <code># <br> # user=role1,role2,... <br> # <br> C\=RU,\ L\=Moscow,\ O\=Alfabank,\ OU\=ORRPP,\ CN\=Vasiliy\ Burmistrov=admin <br> C\=RU,\ L\=Moscow,\ O\=Alfabank,\ OU\=ORRPP,\ CN\=Ivan\ Petrov=user <br></code> <br>  As part of the delivery of CryptoPro JCP there is an instruction for setting up the server <b>JBoss jcp-2.0.39014 \ Doc \ WebServerIntegration \ JBoss \ Howto_set_gost_tls_jboss.docx</b> <br>  JBOSS 6.1.0 Final INTEGRATION (‚ÄúNeo‚Äù) and JTLS 2.0.  This document deals with the outdated version of JBoss and the user authentication process using the Gost TLS protocol directly on the server.  This can be useful if the goal is to raise a channel protected by GOST between the user's browser or another front and application server. <br><br><h3>  Application setup </h3><br>  In order for the deployment application to be integrated with the settings on the server, you need to make a number of parameters in its configuration files. <br><br>  The security domain and virtual host of the application are specified in <b>/WEB-INF/jboss-web.xml</b> <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE jboss-web PUBLIC "-//JBoss//DTD Web Application 5.0//EN" "http://www.jboss.org/j2ee/dtd/jboss-web_5_0.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jboss-web</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-domain</span></span></span><span class="hljs-tag">&gt;</span></span>myApp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-domain</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">virtual-host</span></span></span><span class="hljs-tag">&gt;</span></span>myApp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">virtual-host</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jboss-web</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The file <b>/WEB-INF/web.xml</b> configures security restrictions: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">web-resource-collection</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">web-resource-name</span></span></span><span class="hljs-tag">&gt;</span></span>myApp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">web-resource-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url-pattern</span></span></span><span class="hljs-tag">&gt;</span></span>/ui1/*<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url-pattern</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url-pattern</span></span></span><span class="hljs-tag">&gt;</span></span>/ui2/*<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url-pattern</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">http-method</span></span></span><span class="hljs-tag">&gt;</span></span>GET<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">http-method</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">http-method</span></span></span><span class="hljs-tag">&gt;</span></span>POST<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">http-method</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">web-resource-collection</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">auth-constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">role-name</span></span></span><span class="hljs-tag">&gt;</span></span>*<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">role-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">auth-constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">user-data-constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transport-guarantee</span></span></span><span class="hljs-tag">&gt;</span></span>CONFIDENTIAL<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transport-guarantee</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">user-data-constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">security-constraint</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  and authentication method: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">login-config</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">auth-method</span></span></span><span class="hljs-tag">&gt;</span></span>CLIENT-CERT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">auth-method</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">realm-name</span></span></span><span class="hljs-tag">&gt;</span></span>myApp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">realm-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">login-config</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  As a result of these settings in the application on the JBoss server in Runtime, you can receive from the request of a web browser or other front-system certificate of the authenticated user: <br><br><pre> <code class="java hljs">X509Certificate[] certChain = (X509Certificate[]) request.getAttribute(<span class="hljs-string"><span class="hljs-string">"javax.servlet.request.X509Certificate"</span></span>); X509Certificate userCert = certChain[<span class="hljs-number"><span class="hljs-number">0</span></span>];</code> </pre><br>  Interacting with the CAK CryptoPro CA, the application uses the SOAP API, which is described in the documentation of the LTYA.00067-02 20 01-LU (ZhTYAI.00067-02 90 16) "CryptoPro CA TC hardware and software certification center programmer's guide" <br><br>  The web service is invoked using the Apache Axis 1.4 framework, which implements the JAX-WS interface. <br><br>  If the store HDImageStore, in addition to authentication keys directly in the CryptoPro CA, also stores keys for other applications and other purposes, then a problem arises.  Apache Axis when calling the CryptoPro service, the CA is missing from the repository the first one that was found and, accordingly, authentication fails. <br><br>  To solve this problem, it was necessary to make its own implementation of SocketFactoryImpl. <br><br>  To do this, inherit from org.apache.axis.components.net.JSSESocketFactory <br><br>  And implement the org.apache.axis.components.net.SecureSocketFactory interface <br><br>  Code of own factory SocketFactoryImpl <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.alfabank.orrpp.common.alfaca.ws; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.FileInputStream; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.security.KeyStore; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.security.PrivateKey; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.security.cert.X509Certificate; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Hashtable; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.logging.Logger; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.net.ssl.KeyManager; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.net.ssl.SSLContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.net.ssl.TrustManagerFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.axis.components.net.JSSESocketFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.axis.components.net.SecureSocketFactory; <span class="hljs-comment"><span class="hljs-comment">/** * SSL socket factory. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SocketFactoryImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JSSESocketFactory</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SecureSocketFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SocketFactoryImpl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Hashtable attributes)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(attributes); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger LOGGER = Logger.getLogger(SocketFactoryImpl.class.getName()); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String SIGNER_KEY_ALIAS = <span class="hljs-string"><span class="hljs-string">"signer_CA"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String TRUST_CERT_ALIAS = <span class="hljs-string"><span class="hljs-string">"trust_CA"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>[] PASSWORD = <span class="hljs-string"><span class="hljs-string">"myPass"</span></span>.toCharArray(); <span class="hljs-comment"><span class="hljs-comment">/** * Read the keystore, init the SSL socket factory * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> IOException */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initFactory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//Configuration specified in wsdd. SSLContext context = getContext(); sslFactory = context.getSocketFactory(); } catch (Exception e) { if (e instanceof IOException) { throw (IOException) e; } throw new IOException(e.getMessage()); } } /** * gets a SSL Context * * @return SSLContext * @throws Exception */ protected SSLContext getContext() throws Exception { System.setProperty("ssl.KeyManagerFactory.algorithm", "GostX509"); System.setProperty("ssl.TrustManagerFactory.algorithm", "GostX509"); System.setProperty("ssl.SocketFactory.provider", "ru.CryptoPro.ssl.SSLSocketFactoryImpl"); System.setProperty("ssl.ServerSocketFactory.provider", "ru.CryptoPro.ssl.SSLServerSocketFactoryImpl"); System.setProperty("ru.CryptoPro.ssl.Provider", "JCP"); System.out.println("javax.net.ssl.trustStore: " + System.getProperty("javax.net.ssl.trustStore")); KeyStore trustStore = KeyStore.getInstance(System.getProperty("javax.net.ssl.trustStoreType")); String trustStoreFileName = System.getProperty("javax.net.ssl.trustStore"); trustStore.load(trustStoreFileName == null ? null : new FileInputStream(trustStoreFileName), System.getProperty("javax.net.ssl.trustStorePassword").toCharArray()); KeyStore ks = KeyStore.getInstance(System.getProperty("javax.net.ssl.keyStoreType")); String keystoreFileName = System.getProperty("javax.net.ssl.keyStore"); ks.load(keystoreFileName == null ? null : new FileInputStream(keystoreFileName), System.getProperty("javax.net.ssl.keyStorePassword").toCharArray()); X509Certificate cert = (X509Certificate) ks.getCertificate(SIGNER_KEY_ALIAS); LOGGER.info("Signer found: " + ((X509Certificate) cert).getSubjectX500Principal().getName()); PrivateKey privateKey = (PrivateKey) ks.getKey(SIGNER_KEY_ALIAS, PASSWORD); X509Certificate trustCert = (X509Certificate) trustStore.getCertificate(TRUST_CERT_ALIAS); LOGGER.info("Trust found: " + ((X509Certificate) trustCert).getSubjectX500Principal().getName()); TrustManagerFactory tmf = TrustManagerFactory.getInstance("GostX509"); tmf.init(trustStore); SSLContext context = SSLContext.getInstance("GostTLS", "JTLS"); context.init(new KeyManager[] {new KeyManagerImpl(SIGNER_KEY_ALIAS, privateKey, new X509Certificate[] {cert})}, tmf.getTrustManagers(), null); return context; } }</span></span></code> </pre><br>  To force Apache Axis to use its own factory, in the @Stateless bean, <br>  where we construct a call to the service of CryptoPro Pro Center, override the system property: <br><br><pre> <code class="java hljs">AxisProperties.setProperty(<span class="hljs-string"><span class="hljs-string">"axis.socketSecureFactory"</span></span>, <span class="hljs-string"><span class="hljs-string">"ru.alfabank.orrpp.common.alfaca.ws.SocketFactoryImpl"</span></span>);</code> </pre> <br><h3>  JRE setup </h3><br>  It would seem that everything is set up, and should work.  But no.  There remains one more important touch. <br><br>  In order to authenticate to CryptoPro CA using the Gost TLS protocol from the application on JBoss, the JBoss server must be launched in the JRE with the installed CryptoPro JCP provider. <br><br>  When installing JCP, the JRE settings are changed.  In particular, in jre1.8.0_144 \ lib \ security \ <b>java.security,</b> the KeyManagerFactory and TrustManagerFactory algorithms are changed to Gost.  If you leave it like this, then in JBoss an error will appear at the start: <br><br> <code>2017-10-12 17:44:13,376 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.security.security-domain.myApp: org.jboss.msc.service.StartException in service jboss.security.security-domain.myApp: WFLYSEC0012: Unable to start the SecurityDomainService service <br> at org.jboss.as.security.service.SecurityDomainService.start(SecurityDomainService.java:105) <br> at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032) <br> at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955) <br> at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) <br> at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) <br> at java.lang.Thread.run(Unknown Source) <br> Caused by: java.security.KeyStoreException: Default store provider (keyStore) is SUN but default config provider (cpSSL) is JCP. Check settings on the tab 'Algorithms' of JCP Pane. <br> at ru.CryptoPro.ssl.r.(Unknown Source) <br> at ru.CryptoPro.ssl.KeyManagerFactoryImpl.engineInit(Unknown Source) <br> at javax.net.ssl.KeyManagerFactory.init(Unknown Source) <br> at org.jboss.security.JBossJSSESecurityDomain.loadKeyAndTrustStore(JBossJSSESecurityDomain.java:488) <br> at org.jboss.security.JBossJSSESecurityDomain.reloadKeyAndTrustStore(JBossJSSESecurityDomain.java:335) <br> at org.jboss.as.security.service.SecurityDomainService.start(SecurityDomainService.java:102) <br> ... 5 more <br> <br></code> <br><img src="https://habrastorage.org/webt/59/e0/87/59e087a5c7985339405670.png"><br><br>  For fix, comment in the <b>java.security</b> GostX509 file <br> <code>#ssl.KeyManagerFactory.algorithm=GostX509 <br> #ssl.TrustManagerFactory.algorithm=GostX509 <br></code> <br>  and return the default settings of the SunX509 <br> <code>ssl.KeyManagerFactory.algorithm=SunX509 <br> ssl.TrustManagerFactory.algorithm=PKIX <br></code> <br><h3>  results </h3><br>  The application and runtime with two-way authentication are configured, the data transmission channels are encrypted, and reliable connections are established between the system participants. <br><br><img src="https://habrastorage.org/webt/59/e0/88/59e08897591ca987994997.png"><br><img src="https://habrastorage.org/webt/59/e0/88/59e088a0b0591953533654.png"><br><br><img src="https://habrastorage.org/webt/59/e0/88/59e088ab95581828925467.jpeg"><br><br><h3>  useful links </h3><br><ol><li>  <a href="https://developers.redhat.com/products/eap/download/">Where to download JBoss EAP 7.0.0</a> </li><li>  <a href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html%3Fproduct%3Dappplatform%26downloadType%3Ddistributions">Red Hat Customer Portal</a> </li><li>  <a href="https://technology.amis.nl/2017/05/10/oracle-soa-suite-two-way-ssl-with-tls1-2/">Article Two-way SSL with TLS1.2 for Oracle SOA Suite</a> </li><li>  <a href="https://support.google.com/chrome/a/answer/7391219%3Fhl%3Den">Google support for "Subject Alternative Name Missing"</a> </li><li>  <a href="https://www.openssl.org/docs/man1.0.2/apps/x509v3_config.html">How to use openSSL to add subjectAlternativeName to your certificate here</a> and <a href="https://blog.zencoffee.org/2013/04/creating-and-signing-an-ssl-cert-with-alternative-names/">here</a> </li><li>  <a href="https://www.sslshopper.com/certificate-authority-reviews.html">Review of certification centers with foreign cryptographic algorithms</a> </li><li>  <a href="https://www.cryptopro.ru/solutions/test-ca">Test certification center CryptoPro</a> </li><li>  <a href="https://www.aladdin-rd.ru/support">Aladdin, where to download eToken or JaCarta support drivers (eToken PKI Client 5.1 SP1)</a> </li><li>  <a href="https://www.cryptopro.ru/products/csp/jcp/downloads">Instructions for configuring CryptoPro JCP to support eToken</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/340028/">https://habr.com/ru/post/340028/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340018/index.html">Is there an ideal personal task planner? Develop a modular scheduler</a></li>
<li><a href="../340020/index.html">Attify OS - distributive for testing for penetration of IoT</a></li>
<li><a href="../340022/index.html">DoubleLocker: the first encryptor using the accessibility service of the Android Accessibility Service</a></li>
<li><a href="../340024/index.html">Business wants boxed solutions for everything. Does anyone care about the law of Spring?</a></li>
<li><a href="../340026/index.html">Machine learning: where is the money?</a></li>
<li><a href="../340030/index.html">DELL EMC Networking N1100 Switch Overview</a></li>
<li><a href="../340032/index.html">Overview of one Russian RTOS, part 8. Work with interruptions</a></li>
<li><a href="../340034/index.html">React, built-in functions and performance</a></li>
<li><a href="../340036/index.html">Using the advantages of TypeScript in JavaScript development</a></li>
<li><a href="../340038/index.html">10 tools for parsing information from websites, including competitors' prices + legal assessment for Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>