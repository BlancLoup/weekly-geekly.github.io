<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Visualization of integration applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Since I began to perform the duties of a system architect, I often have to draw rectangles and arrows than to write program code. This could be fought...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Visualization of integration applications</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/527/f06/a9b/527f06a9b184497b8ba40e62ba3a1b50.jpg" alt="image"><br><br>  Since I began to perform the duties of a system architect, I often have to draw rectangles and arrows than to write program code.  This could be fought, for example, during sleepless nights, to participate in open source projects, to create proof of the feasibility of the concept and the demonstration code, but there, too, you need to draw rectangles to demonstrate the architecture.  This article is devoted to the visualization of messaging in distributed systems, service-oriented architecture (SOA) and microservice applications using agile development methodology (this term has lost its meaning, but there is no more appropriate one in this case). <br><a name="habracut"></a><br>  What I like about software in recent years is that in most of the organizations in which I have worked, the principles of a lean and flexible software development methodology are valued.  Everyone wants to create ready-made software (and not documentation), quickly produce a result (and not engage in long planning), eliminate losses and respond to changes.  To implement these principles, management methods such as Scrum, Kanban and technical methods adopted from the methodology of extreme programming (for example, unit testing and pair programming), as well as CI / CD and DevOps methods are used.  In general, I decided to put together in one place the schemes and design tools that I use in my daily work with distributed systems. <br><br><h3>  Problems of the ‚Äú4 + 1‚Äù and ‚ÄúUML Death‚Äù View Model </h3><br>  Each project is accompanied at the start by big ambitions, but every time there is not enough time to bring everything to perfection, and in the end you have to give out something that more or less works.  And this is good - in this way, the world around us helps us avoid embellishments and abide by such principles as YAGNI and KISS.  As a result, we fulfill the necessary minimum and adapt to changes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Most of the schemes that I met were based on Philip Cracten‚Äôs <a href="https://en.wikipedia.org/wiki/4%252B1_architectural_view_model">‚Äú4 + 1‚Äù representation model</a> , which has a development, process, and also a logical and physical representation. <br><br><img src="https://habrastorage.org/files/f2d/60f/500/f2d60f5005f14bdcb02062f19a216f7f.png" alt="image"><br>  <i>Representation model "4 + 1".</i>  <i>Image taken from A Practical Guide to Enterprise Architecture, by James McGavern, Scott W. Ambler, Michael E. Stevens, James Lynn, Vikas Sharan, Elias C. Joe, 2003.</i> <br><br>  I really like the ideas and goals underlying this model: using separate ideas and points of view to consider certain constraints and positioning for different participants.  This model is great for describing complex software architectures, but when I use it for integration applications, I encounter two problems. <br><br><h3>  Chart Applicability </h3><br>  Typically, these views are described using a unified modeling language (UML), and for each view you need to create one or more UML diagrams.  If I need to create 15 types of UML diagrams to describe and explain the system architecture in an accessible manner, this is contrary to the purpose of the UML. <br><br><img src="https://habrastorage.org/files/ecd/cfd/73f/ecdcfd73f8ce4b7193b91aab391ef7cc.png" alt="image"><br>  <i>Death by UML (Death by UML).</i>  <i>Fragments of the chart of <a href="">Paulo Merson</a> from <a href="https://en.wikipedia.org/wiki/Unified_Modeling_Language">Wikipedia</a> .</i> <br><br>  Most likely, in the organization there are only one or two people who have the tools to create such a complex set of diagrams and are able to understand and update them.  Inconvenient for perception and outdated charts are no more useful than outdated documentation.  Complicated diagrams that do not carry much value quickly become a burden, rather than valuable documents describing the current state of an ever-changing system. <br><br>  Another drawback of existing UML diagrams is that they primarily describe object-oriented architectures, rather than channel-based and filter-based architectures.  In messaging applications, the main role is not played by the structure, but by the methods of interaction between the elements, routing and data flows.  Diagrams of object classes, components, packages, etc. - this is far from an effective form of describing the processing of processes based on channels and filters.  UML behavior diagrams (for example, activity and sequence diagrams) are more meaningful, but they also do not make it easy to describe the basic concepts of integration applications, such as filtering and routing based on content. <br><br><h3>  Applicability of representations </h3><br>  Representations reflecting various aspects of the system are an excellent form for describing its concept, however, the existing representations of the 4 + 1 model do not correspond to the practice of developing and deploying modern software.  The idea of ‚Äã‚Äãa directional flow is when a logical representation is first created, then the ideas of development and processes arising from it, and at the end the corresponding physical representation is not always consistent with reality.  The life cycle of system development is different from the traditional (waterfall) sequence of gathering requirements, design, implementation and maintenance. <br><br><img src="https://habrastorage.org/files/0bc/67c/b80/0bc67cb802a445d9a0001f433253b37c.png" alt="image"><br>  <i>Software development life cycle.</i>  <i>Fragment of <a href="http://www.webserv.ca/developmentCycle.php">Web Serv</a> .</i> <br><br>  In practice, alternative development approaches are used, including flexible methodology, prototyping, ‚Äúsynchronization and stabilization‚Äù and ‚Äúovershoot and stabilization‚Äù.  Over time, not only the development process, but also its participants are changing.  When using techniques such as DevOps, developers need to know the final model of physical deployment, and operating specialists must know application processing routes. <br><br>  Modern architectures (for example, microservices) also affect the presentation.  On the one hand, the number of microservices is so large that the knowledge of one of them does not bring much benefit;  on the other hand, general knowledge of microservices is difficult to put into practice.  It is extremely important to choose the appropriate level of abstraction, which combines general ideas about the system with sufficiently detailed information about it. <br><br><h3>  Integration Application Visualization Tools </h3><br>  The most useful model, from my point of view, is described by Simon Brown and is called <a href="http://www.codingthearchitecture.com/2014/08/24/c4_model_poster.html">the C4 model</a> (I advise you to download a free copy of Simon‚Äôs excellent book <a href="https://leanpub.com/visualising-software-architecture">The Art of Visualizing Software Architecture</a> ).  Describing his model, Simon notes the importance of having a single set of abstractions, rather than general notation (for example, UML), and using a small set of diagrams to create abstractions at various levels: system context, containers, components, and classes.  I like this approach because it implies a movement from the general to the particular, starting with the most general presentation with its subsequent detailing at each new level. <br><br>  The C4 model is not always ideal for building middleware and application integration, but is more efficient than previous ones.  If we used it, the system context diagram would be a single rectangle with the words "enterprise service bus", "middleware", "communication middleware" or "microservice" with dozens of arrows diverging in all directions.  Not too helpful, is it?  The container diagram is more convenient, but the term ‚Äúcontainer‚Äù is so overloaded with various meanings (‚Äúvirtual machine container‚Äù, ‚Äúapplication container‚Äù, ‚Äúdocker container‚Äù) that the value of its use for communicative purposes is small.  Component and class diagrams are also not a good choice, since channels and filters are based on enterprise integration patterns, not classes and packages. <br><br>  The question arises: what kind of charts to use?  I use three types of diagrams, which are abbreviated as SSD (although it doesn‚Äôt sound as good as C4): system context, service design, and deployment. <br><br><h3>  System context diagram </h3><br>  This model displays all services (both SOA and micro services) with inputs and outputs.  As a rule, external systems are located in the upper part of the model, services - in the middle, and internal services - in the lower part.  Sometimes internal and external services are located partly above the intermediate level, and partly below it, as shown in the figure below.  Next to the arrows, it is also useful (although not necessary) to specify protocols (for example, HTTP, JMS, file) and data formats (XML, JSON, CSV).  If the number of services is large, then the protocols and data formats can be indicated on the service level diagrams.  Using the arrows, I show the services that initiate requests, rather than the direction of data flows. <br><br><img src="https://habrastorage.org/files/7a4/6af/404/7a46af404f3f43fd845b6930e8183dae.png" alt="image"><br>  <i>System context diagram</i> <br><br>  This diagram gives a good general idea of ‚Äã‚Äãthe structure of a distributed system: its services, internal and external communications, types of interactions (with protocols and data formats) and their initiators. <br><br><h3>  Service structure diagram </h3><br>  This diagram shows what happens in each of the rectangles corresponding to the connecting services in the system context diagram.  To create this diagram, it is recommended to use EIP icons and connect them to each other by message flows.  A service can have multiple data streams, support various protocols, and also implement real-time mechanisms and batch processing. <br><br><img src="https://habrastorage.org/files/c66/870/538/c66870538efa4fc3a63ee158a42731b7.png" alt="image"><br>  <i>Service structure diagram</i> <br><br><h3>  Deployment Chart </h3><br>  The two previous diagrams are logical representations of the system as a whole and each of its services separately.  Deployment diagrams show the deployment locations of each service.  Instances of the same service can run on different nodes;  Services may be active on some nodes and passive on other nodes.  Sometimes services are managed by a load balancer. <br><br><img src="https://habrastorage.org/files/125/dac/290/125dac290de44b41aebcd4977d0ee38a.png" alt="image"><br><img src="https://habrastorage.org/files/fe0/75b/3ca/fe075b3ca0ca4e9da30225bd86a1cca1.png" alt="image"><br>  <i>Deployment Chart</i> <br><br>  The deployment diagram shows how individual services and the system as a whole relate to nodes (physical and virtual). <br><br><h3>  Tool Tips </h3><br>  System context and deployment diagrams consist only of rectangles and arrows;  to create them do not need special tools.  To create a diagram of the structure of the service, you will need a tool with the function of integrating EIP icons.  At the moment, I know the following tools with support for EIP icons: <br><br><ul><li>  Mac OS: <a href="https://www.omnigroup.com/omnigraffle">OmniGraffle</a> with <a href="https://www.graffletopia.com/stencils/137">graffletopia</a> icons.  With this tool, I created all the diagrams for the book <a href="https://leanpub.com/camel-design-patterns">Camel Design Patterns</a> ( <a href="https://leanpub.com/camel-design-patterns">Camel Design Patterns</a> ); </li><li>  Windows: <a href="http://www.sparxsystems.com/products/ea/">Enterprise Architect</a> by Sparx Systems with <a href="https://github.com/hwestphal/eip-ea-icons">Harald Westfal</a> EIP badges.  In addition, <a href="http://www.enterpriseintegrationpatterns.com/downloads.html">there</a> are MS Visio templates; </li><li>  ‚Ä¢ Internet: <a href="https://www.lucidchart.com/">LucidCharts</a> , which by default includes EIP icons.  This tool is the easiest to use and is available anywhere. </li></ul><br>  In addition, there are a number of other development tools that can be used to create EIP diagrams: <br><br><ul><li>  <a href="http://www.jboss.org/products/devstudio/overview/">Red Hat JBoss Developer Studio</a> ; </li><li>  <a href="https://github.com/lbroudoux/eip-designer">Sirius EIP Designer</a> ; </li><li>  <a href="https://www.talend.com/products/matrix/platform-for-enterprise-integration">Talend Open Studio for ESB</a> ; </li><li>  <a href="http://hawt.io/">Hawtio</a> , a plug-in for Camel, which can display Camel routes performed as EIP diagrams. </li></ul><br>  The system context diagram visually displays the overall structure of the system and the coverage of its services;  The service structure diagram describes the service well, and the deployment diagram is useful in designing the physical implementation of the contents of the two previous diagrams. <br><br>  IT professionals can find tasks that take up all their working time.  I am sure that if we had more time, we would have come up with a dozen more useful ideas, but without these three we could not describe the application for integration.  As Antoine de Saint-Exupery once said: <i>"Perfection is achieved not when there is nothing to add, but when there is nothing to remove."</i> </div><p>Source: <a href="https://habr.com/ru/post/318084/">https://habr.com/ru/post/318084/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318070/index.html">The enemy is inside: we invite hackers and speakers on PHDays VII</a></li>
<li><a href="../318072/index.html">Publishing Desktop Applications in Windows Store using Desktop Application Converter</a></li>
<li><a href="../318074/index.html">The results of GeekWeek 2016 and the return of the terrible BAG: Winter with GeekBrains</a></li>
<li><a href="../318078/index.html">The best free applications for customization and design of Windows 10</a></li>
<li><a href="../318080/index.html">How do I use Facebook groups to expand my own business</a></li>
<li><a href="../318086/index.html">Build your open source AWS S3 server</a></li>
<li><a href="../318088/index.html">What does the operator monitor hide from the client?</a></li>
<li><a href="../318096/index.html">Ember - Best Practices: Avoid Leaking Condition into the Factory</a></li>
<li><a href="../318098/index.html">Yandex mobile experience in three video courses: design, development, interfaces</a></li>
<li><a href="../318100/index.html">Christmas Easter eggs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>