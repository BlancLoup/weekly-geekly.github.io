<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Allow customers to make free Skype calls to their office</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For some time now, Skype allows you to integrate your service with a client's SIP server. This option will allow customers or employees to make calls ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Allow customers to make free Skype calls to their office</h1><div class="post__text post__text-html js-mediator-article">  For some time now, Skype allows you to integrate your service with a client's SIP server.  This option will allow customers or employees to make calls to the office for free in a situation where a call to a landline number is not possible at all or is expensive.  Circumstances may force a customer to call from Cuba to a Moscow city number.  So let's take the overhead and let the customer make calls to us from Skype for free. <a name="habracut"></a><br><br>  To do this, we need an office number that is terminated on a softswitch, in my case it is Asterisk.  The client will make a call to a skype account (the icon with which we place it on the site), which will forward the call to our SIP server. <br><br>  Create a Skype Manager account <a href="https://login.skype.com/bcp/login%3Fmessage%3Dlogin_required">here.</a> <br>  After that, from the Features menu, create a new SIP profile that will be used for calls from Skype to our server. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Skype offers one monthly simultaneous subscription for this service at a price of 4.95 euros, two lines cost 9.90 euros :). <br>  From the Manager Skype interface and only from it we transfer the necessary amount and proceed to setting up the sip profile. <br><br>  It should be noted that if you subscribed to one line and suddenly decided to connect the second, this trick will not succeed.  Must be deactivated <br>  old subscription, losing 4.95 euros and then connect the new one to 2 lines already.  Money, of course, no one will return to you :). <br><br>  Let's start creating a Skype account from the Members menu from which the call will be redirected to SIP.  It is best to give some meaningful name to the account, since the client can add it to your contact list. <br>  Now, in the Authentication details menu, we‚Äôll tell Skype on which IP to terminate the call. <br><img src="http://img13.imageshost.ru/img/2012/05/24/image_4fbdff1107bb8.jpg" alt="call termination settings"><br><br>  We are returning to the SIP profile and indicating the account previously created in Members Skype as the path to assigning calls.  We also inform you what Skype number should make a call. <br><img src="http://img13.imageshost.ru/img/2012/05/24/image_4fbdff120bdfd.jpg" alt="which internal call is directed"><br><br>  Create a sip.conf in the direction of skype <br><pre><code class="bash hljs">[skype] <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>=friend context=from_skype host=5.sip.skype.com call-limit=100 nat=no insecure=port,invite disallow=all allow=alaw dtmfmode=rfc2833</code> </pre> <br>  We catch calls in 1000 extensions in the context of from_skype and direct it to the voice menu (in the context menu), the context configuration from_skype <br><br><pre> <code class="bash hljs">[from_skype] exten =&gt; 1000,1,Set(SKYPE=1) exten =&gt; 1000,n,Goto(menu,6666,1) exten =&gt; 1000,n,Hangup()</code> </pre><br>  In the context of the menu, we call the operators and display the names of the callers. <br><pre> <code class="bash hljs">[menu] exten =&gt; 6666,1,GotoIf($[<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${SKYPE}</span></span></span><span class="hljs-string">"</span></span> == <span class="hljs-string"><span class="hljs-string">"1"</span></span>]?skype:orig_caller) exten =&gt; 6666,n(skype),Set(CALLERID(name)=Skype:<span class="hljs-variable"><span class="hljs-variable">${CALLERID(name)}</span></span>) exten =&gt; 6666,n,Goto(next) exten =&gt; 6666,n(orig_caller),Set(CALLERID(name)=Ordinary:<span class="hljs-variable"><span class="hljs-variable">${CALLERID(name)}</span></span>) exten =&gt; 6666,n(next),Dial(SIP/1001/1001&amp;SIP/1002/1002) exten =&gt; 6666,n,Hangup()</code> </pre><br>  Making an icon on the site :) <br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- Skype 'Skype Me!' button http://www.skype.com/go/skypebuttons --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://download.skype.com/share/skypebuttons/js/skypeCheck.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"skype:some_skype_account?call"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/images/call_blue_transparent_70x29.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"border: none;vertical-align:middle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"70"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"29"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Skype Me!"</span></span></span><span class="hljs-tag"> /&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- /end skype --&gt;</span></span></code> </pre><br>  A nice option is that Skype sends without changing the nickname of users, which will allow us to offer an alternative menu to our customers and employees :). </div><p>Source: <a href="https://habr.com/ru/post/144465/">https://habr.com/ru/post/144465/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144460/index.html">Support for touchscreen devices will be improved in CSS4 media queries</a></li>
<li><a href="../144461/index.html">Pulls - pulls, can not pull ...</a></li>
<li><a href="../144462/index.html">CircleCI - a review of the new service Continuous Integration</a></li>
<li><a href="../144463/index.html">DigiTimes: Google will launch its tablet in June</a></li>
<li><a href="../144464/index.html">Grounding What it is and how to do it (part 1)</a></li>
<li><a href="../144466/index.html">Greensock: JavaScript Animation</a></li>
<li><a href="../144468/index.html">Augmented reality, myth or future for it? You would get your smartphone to send it to posters, magazines, posters to get more information, videos, demos and more.</a></li>
<li><a href="../144469/index.html">Split button dropdown without javascript</a></li>
<li><a href="../144470/index.html">Conference "Russian startups: local or global players?"</a></li>
<li><a href="../144472/index.html">Acer Aspire V3-571G Laptop Video Review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>