<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Grep all you can</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About grep they know, if not all, then many readers of Habr , but few know his numerous relatives. 




 Let's find out how to grill everything that h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Grep all you can</h1><div class="post__text post__text-html js-mediator-article"><p> About <code>grep</code> they know, if not all, then <a href="https://habrahabr.ru/post/229501/">many readers of Habr</a> , but few know his numerous relatives. </p><br><img src="https://habrastorage.org/files/e75/a77/bd2/e75a77bd22b042a5a8a7abbf4eacac81.png"><br><p><br>  Let's find out how to grill everything that hides in itself even a grain of text. </p><a name="habracut"></a><br><h2>  pgrep </h2><br><p>  The <code>pgrep</code> command lists the executable processes. </p><br><pre> <code class="hljs ruby">(<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">573</span></span>)$ pgrep bash <span class="hljs-number"><span class="hljs-number">1772</span></span> <span class="hljs-number"><span class="hljs-number">11003</span></span> <span class="hljs-number"><span class="hljs-number">20678</span></span></code> </pre> <br><p>  With the <code>-a</code> , the command will also output the entire command line. </p><br><pre> <code class="hljs ruby">(<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">574</span></span>)$ pgrep -af bash <span class="hljs-number"><span class="hljs-number">1772</span></span> -bash <span class="hljs-number"><span class="hljs-number">11003</span></span> /bin/bash <span class="hljs-number"><span class="hljs-number">20678</span></span> /bin/bash <span class="hljs-number"><span class="hljs-number">23567</span></span> -bash</code> </pre> <br><p>  If you correctly combine <code>ps</code> and <code>pgrep</code> , the result will probably be more convenient than <code>ps -ef |grep process_name</code> , since it does not contain the <code>grep</code> command itself. </p><br><pre> <code class="hljs sql">(5:575)$ ps wup $(pgrep bash) USER PID %CPU %MEM VSZ RSS TTY STAT <span class="hljs-keyword"><span class="hljs-keyword">START</span></span> <span class="hljs-built_in"><span class="hljs-built_in">TIME</span></span> COMMAND root <span class="hljs-number"><span class="hljs-number">1772</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">21572</span></span> <span class="hljs-number"><span class="hljs-number">3020</span></span> tty1 S+ <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> -bash <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> <span class="hljs-number"><span class="hljs-number">11003</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">21384</span></span> <span class="hljs-number"><span class="hljs-number">3772</span></span> pts/<span class="hljs-number"><span class="hljs-number">3</span></span> Ss <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> /<span class="hljs-keyword"><span class="hljs-keyword">bin</span></span>/bash <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> <span class="hljs-number"><span class="hljs-number">20678</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">21396</span></span> <span class="hljs-number"><span class="hljs-number">3604</span></span> pts/<span class="hljs-number"><span class="hljs-number">1</span></span> Ss+ <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> /<span class="hljs-keyword"><span class="hljs-keyword">bin</span></span>/bash root <span class="hljs-number"><span class="hljs-number">23567</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">21364</span></span> <span class="hljs-number"><span class="hljs-number">3016</span></span> tty2 S+ <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> -bash <span class="hljs-number"><span class="hljs-number">946</span></span>/<span class="hljs-number"><span class="hljs-number">7720</span></span>MB <span class="hljs-number"><span class="hljs-number">0.48</span></span> <span class="hljs-number"><span class="hljs-number">0.94</span></span> <span class="hljs-number"><span class="hljs-number">1.00</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">352</span></span> <span class="hljs-number"><span class="hljs-number">20403</span></span></code> </pre> <br><h2>  zipgrep, zfgrep, bzfgrep, xzfgrep </h2><br><p>  You can search for a keyword, a pattern directly from the archive using these commands. </p><br><pre> <code class="hljs pgsql">(<span class="hljs-number"><span class="hljs-number">5</span></span>:<span class="hljs-number"><span class="hljs-number">576</span></span>)$ zipgrep -i <span class="hljs-keyword"><span class="hljs-keyword">exception</span></span> apptrace.zip jboss.stderr:java.lang.NumberFormatException: <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> string: "4718-4e99-bc84-828a7bf7f254" jboss.stderr: at java.lang.NumberFormatException.(NumberFormatException.java:<span class="hljs-number"><span class="hljs-number">65</span></span>) (<span class="hljs-number"><span class="hljs-number">5</span></span>:<span class="hljs-number"><span class="hljs-number">576</span></span>)$ (<span class="hljs-number"><span class="hljs-number">5</span></span>:<span class="hljs-number"><span class="hljs-number">576</span></span>)$ bzfgrep -w bugs /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/doc/coreutils<span class="hljs-number"><span class="hljs-number">-8.25</span></span>/README.bz2 that distribution <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> reported bugs. &lt;http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/<span class="hljs-number"><span class="hljs-number">12292</span></span>/focus=<span class="hljs-number"><span class="hljs-number">12318</span></span>&gt;. see &lt;http://thread.gmane.org/gmane.comp.lib.gnulib.bugs/<span class="hljs-number"><span class="hljs-number">12015</span></span>/&gt;. Reporting bugs: subtle bugs. <span class="hljs-keyword"><span class="hljs-keyword">When</span></span> reporting bugs, please <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the subject <span class="hljs-type"><span class="hljs-type">line</span></span> <span class="hljs-keyword"><span class="hljs-keyword">both</span></span> the package</code> </pre> <br><p>  Utilities support <em>extended regular expressions</em> and have their own <code>egrep</code> . </p><br><table><thead><tr><th>  Fixed strings </th><th>  Basic RegExps </th><th>  Extended RegExps </th></tr></thead><tbody><tr><td>  zfgrep </td><td>  zgrep </td><td>  zegrep </td></tr><tr><td>  bzfgrep </td><td>  bzgrep </td><td>  bzegrep </td></tr><tr><td>  xzfgrep </td><td>  xzgrep </td><td>  xzegrep </td></tr></tbody></table><br><p>  What packages do they belong to? </p><br><pre> <code class="hljs ruby">(<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">777</span></span>)$ equery belongs $(which zgrep zipgrep bzgrep xzgrep) * Searching <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /usr/bin/zgrep,<span class="hljs-regexp"><span class="hljs-regexp">/usr/bin</span></span><span class="hljs-regexp"><span class="hljs-regexp">/zipgrep,/usr</span></span><span class="hljs-regexp"><span class="hljs-regexp">/bin/bzgrep</span></span>,<span class="hljs-regexp"><span class="hljs-regexp">/usr/bin</span></span><span class="hljs-regexp"><span class="hljs-regexp">/xzgrep ... app-arch/bzip</span></span>2-<span class="hljs-number"><span class="hljs-number">1.0</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>-r7 (<span class="hljs-regexp"><span class="hljs-regexp">/usr/bin</span></span><span class="hljs-regexp"><span class="hljs-regexp">/bzgrep) app-arch/gzip</span></span>-<span class="hljs-number"><span class="hljs-number">1.8</span></span> (<span class="hljs-regexp"><span class="hljs-regexp">/usr/bin</span></span><span class="hljs-regexp"><span class="hljs-regexp">/zgrep) app-arch/unzip</span></span>-<span class="hljs-number"><span class="hljs-number">6.0_</span></span>p2<span class="hljs-number"><span class="hljs-number">0</span></span> (<span class="hljs-regexp"><span class="hljs-regexp">/usr/bin</span></span><span class="hljs-regexp"><span class="hljs-regexp">/zipgrep) app-arch/xz</span></span>-utils-<span class="hljs-number"><span class="hljs-number">5.2</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span> (<span class="hljs-regexp"><span class="hljs-regexp">/usr/bin</span></span><span class="hljs-regexp"><span class="hljs-regexp">/xzgrep)</span></span></code> </pre> <br><p>  We compare the ability to parse extended regulars with <code>grep</code> and rejoice at the result. </p><br><pre> <code class="hljs tex">(5:578) grep -oE '<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[0-9]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{1,3}</span></span></span></span>(<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">.</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[0-9]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{1,3}</span></span></span></span>){3}<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span></span>' /var/log/emerge.log |tail -n 3 7.2.6.8 213.180.204.183 213.180.204.183 (5:579) (5:579) bzegrep -o '<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[0-9]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{1,3}</span></span></span></span>(<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">.</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[0-9]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{1,3}</span></span></span></span>){3}<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span></span>' /tmp/emerge.log.bz2 |tail -n3 7.2.6.8 213.180.204.183 213.180.204.183</code> </pre> <br><h2>  pdfgrep </h2><br><p>  The program comes with the same package. </p><br><pre> <code class="bash hljs">(5:580)$ eix pdfgrep [I] app-text/pdfgrep  : 1.3.2 1.4.1-r1 {+pcre <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> unac}  : 1.4.1-r1(14:10:46 29.11.2016)(pcre -<span class="hljs-built_in"><span class="hljs-built_in">test</span></span> -unac)  : http://pdfgrep.org/ : A tool similar to grep <span class="hljs-built_in"><span class="hljs-built_in">which</span></span> searches text <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> PDFs</code> </pre> <br><p>  The command parses pdf files and does all that <code>grep</code> . </p><br><pre> <code class="hljs cs">(<span class="hljs-number"><span class="hljs-number">5</span></span>:<span class="hljs-number"><span class="hljs-number">581</span></span>)$ pdfgrep -i outdiscards ebook/linux_netw.<span class="hljs-function"><span class="hljs-function">pdf </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IP6_INC_STATS</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">net, ip6_dst_idev(dst</span></span></span><span class="hljs-function">), IPSTATS_MIB_OUTDISCARDS)</span></span>;</code> </pre> <br><p>  <code>Pdfgrep</code> does not support <em>extended regular expressions</em> , however it is a <em>very useful program</em> .  I often open pdfs and look for text in them until I remember which book was what I needed and so I lose a lot of time.  Now I know. </p><br><h2>  dgrep </h2><br><p>  Debian users may be familiar with the <code>dgrep</code> that comes with the <a href="http://packages.debian.org/debian-goodies">debian goodies package</a> .  The command is invoked in the same way as regular <code>grep</code> , only the package name is indicated instead of the file. </p><br><img src="https://habrastorage.org/files/e32/faa/a31/e32faaa313f343e68fede17161f89577.png"><br><p><br></p><br><table><thead><tr><th>  Fixed strings </th><th>  Basic RegExps </th><th>  Extended RegExps </th></tr></thead><tbody><tr><td>  dfgrep </td><td>  dgrep </td><td>  degrep </td></tr><tr><td>  - </td><td>  dzgrep </td><td>  - </td></tr></tbody></table><br><p>  The top three are searched in text files, and <code>dzgrep</code> - in archive files. </p><br><h2>  msggrep, mboxgrep </h2><br><p>  This is a very narrowly specialized gizmo to parse localization directories.  Comes with the <a href="https://www.gnu.org/software/gettext/">gettext</a> package.  The program is not from the category of user, but if you really need, you can run from the command line. </p><br><pre> <code class="hljs sql">(5:752)$ msggrep -K -e <span class="hljs-keyword"><span class="hljs-keyword">help</span></span> /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/locale/ru/cups_ru.po</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">And get this conclusion on the screen</b> <div class="spoiler_text"><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">msgid</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> msgstr <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-string"><span class="hljs-string">"Project-Id-Version: CUPS 2.0\n"</span></span> <span class="hljs-string"><span class="hljs-string">"Report-Msgid-Bugs-To: http://www.cups.org/str.php\n"</span></span> <span class="hljs-string"><span class="hljs-string">"POT-Creation-Date: 2015-07-20 14:24-0400\n"</span></span> <span class="hljs-string"><span class="hljs-string">"PO-Revision-Date: 2015-01-28 12:00-0800\n"</span></span> <span class="hljs-string"><span class="hljs-string">"Last-Translator: Aleksandr Proklov\n"</span></span> <span class="hljs-string"><span class="hljs-string">"Language-Team: PuppyRus Linux Team\n"</span></span> <span class="hljs-string"><span class="hljs-string">"Language: Russian\n"</span></span> <span class="hljs-string"><span class="hljs-string">"MIME-Version: 1.0\n"</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Type: text/plain; charset=utf-8\n"</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Transfer-Encoding: 8bit\n"</span></span> msgid <span class="hljs-string"><span class="hljs-string">" --help Show help."</span></span> msgstr <span class="hljs-string"><span class="hljs-string">" --help  ."</span></span> msgid <span class="hljs-string"><span class="hljs-string">" --help Show this help."</span></span> msgstr <span class="hljs-string"><span class="hljs-string">" --help   ."</span></span></code> </pre> </div></div><br><p>  The next exhibit is the <strong>mboxgrep</strong> mailbox <strong>parser</strong> .  <a href="http://www.mboxgrep.org/">The project</a> did not take off, its development is terminated.  In theory, he had to find patterns in letters and process the output as if they were separate files.  However, to begin with, he must be able to find these patterns. </p><br><pre> <code class="hljs coffeescript">(<span class="hljs-number"><span class="hljs-number">5</span></span>:<span class="hljs-number"><span class="hljs-number">753</span></span>)$ grep Inomics docs/PocoMail.bak/Mail/Trash.mbx From: Inomics &lt;inomics-alert@inomics.com&gt; Reply-To: Inomics &lt;inomics-alert@inomics.com&gt; Subject: Inomics Alert Service following <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> a list <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> job openings <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Inomics, the= Inomics! You can always unsubscribe <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> the Inomics Job Alert service <span class="hljs-keyword"><span class="hljs-keyword">by</span></span>= plying to <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> mail with the words <span class="hljs-string"><span class="hljs-string">"Inomics-Job-Unsub#1avwnr55di"</span></span>=</code> </pre> <br><p>  And he does not find. </p><br><pre> <code class="hljs ruby">(<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">754</span></span>)$ mboxgrep Inomics docs/PocoMail.bak/Mail/Trash.mbx (<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">755</span></span>)$</code> </pre> <br><p>  Strangely, the <code>read</code> system calls are the same all the time, regardless of the search. </p><br><pre> <code class="hljs ruby">(<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">779</span></span>)$ strace -e trace=read -o strace_inomics mboxgrep Inomics Mail/Trash.mbx (<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">780</span></span>)$ strace -e trace=read -o strace_freenet mboxgrep freenet Mail/Trash.mbx (<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">781</span></span>)$ diff strace_inomics strace_freenet;md5sum strace<span class="hljs-number"><span class="hljs-number">_</span></span>* <span class="hljs-number"><span class="hljs-number">14</span></span>b7de546a2a776006ad2a6440b680fd strace_freenet <span class="hljs-number"><span class="hljs-number">14</span></span>b7de546a2a776006ad2a6440b680fd strace_inomics</code> </pre> <br><p>  It would be curious to find out if this program was successfully launched from someone? <br>  Well, okay, we got carried away, and the family is not fully inventoried. </p><br><h2>  ssgrep </h2><br><p>  You need to install the <a href="http://www.gnumeric.org/">Gnumeric</a> package.  Able to wool spreadsheets, including proprietary Excel format.  Swears at him, but does. </p><br><pre> <code class="hljs ruby">(<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">782</span></span>)$ ssgrep Date files/*.xlsx     <span class="hljs-string"><span class="hljs-string">"43"</span></span>     <span class="hljs-string"><span class="hljs-string">"41"</span></span>     <span class="hljs-string"><span class="hljs-string">"44"</span></span>     <span class="hljs-string"><span class="hljs-string">"42"</span></span> Unexpected element <span class="hljs-string"><span class="hljs-string">'workbookProtection'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-symbol"><span class="hljs-symbol">state:</span></span> workbook  /Date of Birth (<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">783</span></span>)$ grep Date files/*.xlsx (<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">784</span></span>)$</code> </pre> <br><p>  Extended regular expressions are not supported.  It is a useful thing, I <em>recommend</em> . </p><br><h2>  ngrep </h2><br><p>  Another <a href="http://ngrep.sourceforge.net/">abandoned SourceForge project</a> .  The program is a hybrid of <code>tcpdump</code> and <code>grep</code> , and the first is much closer than the second. </p><br><p>  Monitor network traffic on the <code>syslog</code> port and keyword. </p><br><pre> <code class="hljs pgsql">$ ngrep -d <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> <span class="hljs-string"><span class="hljs-string">'error'</span></span> port syslog</code> </pre> <br><p>  Monitoring network traffic on <code>ftp</code> port and case-insensitive keywords, compare whole words. </p><br><pre> <code class="hljs pgsql">$ ngrep -wi -d <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> <span class="hljs-string"><span class="hljs-string">'user|pass'</span></span> port <span class="hljs-number"><span class="hljs-number">21</span></span></code> </pre> <br><p>  On-line output <code>http</code> traffic. </p><br><pre> <code class="hljs vhdl">$ ngrep -W byline <span class="hljs-keyword"><span class="hljs-keyword">port</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span> interface: eth0 (<span class="hljs-number"><span class="hljs-number">64.90</span></span>.<span class="hljs-number"><span class="hljs-number">164.72</span></span>/<span class="hljs-number"><span class="hljs-number">255.255</span></span>.<span class="hljs-number"><span class="hljs-number">255.252</span></span>) filter: ip <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">port</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span> ) #### T <span class="hljs-number"><span class="hljs-number">67.169</span></span>.<span class="hljs-number"><span class="hljs-number">59.38</span></span>:<span class="hljs-number"><span class="hljs-number">42177</span></span> -&gt; <span class="hljs-number"><span class="hljs-number">64.90</span></span>.<span class="hljs-number"><span class="hljs-number">164.74</span></span>:<span class="hljs-number"><span class="hljs-number">80</span></span> [AP] GET / HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span>. User-Agent: Mozilla/<span class="hljs-number"><span class="hljs-number">4.0</span></span> (compatible; MSIE <span class="hljs-number"><span class="hljs-number">6.0</span></span>; X11; Linux i686) Opera ... Host: www.darkridge.com. Accept: <span class="hljs-literal"><span class="hljs-literal">text</span></span>/html, application/xml;q=<span class="hljs-number"><span class="hljs-number">0.9</span></span>, application/xhtml+xml;q=<span class="hljs-number"><span class="hljs-number">0.9</span></span> ... Accept-Charset: iso-<span class="hljs-number"><span class="hljs-number">8859</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>, utf-<span class="hljs-number"><span class="hljs-number">8</span></span>, utf-<span class="hljs-number"><span class="hljs-number">16</span></span>, *;q=<span class="hljs-number"><span class="hljs-number">0.1</span></span>. Accept-Encoding: deflate, gzip, x-gzip, identity, *;q=<span class="hljs-number"><span class="hljs-number">0</span></span>. Cookie: SQMSESSID=<span class="hljs-number"><span class="hljs-number">5272</span></span>f9ae21c07eca4dfd75f9a3cda22e. Cookie2: $Version=<span class="hljs-number"><span class="hljs-number">1</span></span>. Cache-Control: no-cache. Connection: Keep-Alive, TE. TE: deflate, gzip, chunked, identity, trailers.</code> </pre> <br><p>  And then there is a <strong>killer feature</strong> .  You can specify a hex string with which <code>ngrep</code> maps the binary data of the package.  For example, you can set the signature of the corrupted gifs to then configure the firewall for early detection. </p><br><pre> <code class="hljs kotlin">$ ngrep -xX <span class="hljs-string"><span class="hljs-string">'0xc5d5e5f55666768696a6b6c6d6e6'</span></span> port <span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">eth0 </span></span></span></span>(<span class="hljs-number"><span class="hljs-number">64.90</span></span>.164.72/<span class="hljs-number"><span class="hljs-number">255.255</span></span>.255.252) filter: ip and ( port <span class="hljs-number"><span class="hljs-number">80</span></span> ) match: <span class="hljs-number"><span class="hljs-number">0xc5d5e5f55666768696a6b6c6d6e6</span></span></code> </pre> <br><p>  It is a pity that the development of the project is terminated, it may eventually turn out quite suitable <del>  self-locomotive-helicopter </del>  parser and network traffic analyzer. </p><br><h2>  deepgrep </h2><br><p>  In the end, you can remember non-uniclass search aggregates, such as KDE's <a href="http://packages.debian.org/strigi-utils">deepgirep strigi-utils</a> . </p><br><p>  The program can <del>  to shuffle </del>  search in format files: </p><br><ul><li> <code>tar</code> </li> <li>  <code>ar</code> / <code>deb</code> </li><li>  <code>rpm</code> (but not <code>cpio</code> ) </li><li> <code>gzip/gz</code> </li> <li> <code>bzip2/bz2</code> </li> <li>  <code>zip</code> , and therefore jar / war as well as OpenOffice.org/LibreOffice documents </li><li>  MIME messages (i.e. attachments in email) </li></ul><br><p>  Able to search in archives <em>nested in each other</em> . </p><br><pre> <code class="hljs swift">$ deepgrep bar foo.ar foo.ar/foo.tar/foo.tar.gz/foo.<span class="hljs-built_in"><span class="hljs-built_in">zip</span></span>/foo.tar.bz2/foo.txt.gz/foo.txt:foobar foo.ar/foo.tar/foo.tar.gz/foo.<span class="hljs-built_in"><span class="hljs-built_in">zip</span></span>/foo.tar.bz2/foo.txt.gz/foo.txt:bar</code> </pre> <br><p>  Of the shortcomings. </p><br><ul><li>  Virtually no command line options. </li><li>  Poorly documented. </li><li>  The return code is not related to the search result. </li><li>  There is no support for compression using the LZMA algorithm: <code>lzma, xz, lzip, 7z</code> and also <code>lzop, rzip, cab. cpio, xar, rar, .Z</code>  <code>lzop, rzip, cab. cpio, xar, rar, .Z</code> formats. </li></ul><br><h3>  Used materials </h3><br><ul><li>  <a href="http://noone.org/blog/English/Computer/Shell/grep%252520everything.html">grep everything</a> </li><li>  <a href="http://noone.org/blog/English/Computer/Debian/CoolTools/deepgrep.html">deppgrep: grep nested archives with one command</a> </li><li>  <a href="http://ngrep.sourceforge.net/usage.html">ngrep - network grep</a> </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/316414/">https://habr.com/ru/post/316414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316402/index.html">The best way to leave the market is not to try to enter other markets.</a></li>
<li><a href="../316404/index.html">How to write notes if you are a programmer</a></li>
<li><a href="../316406/index.html">"Great leveler" or a way to solve the problem of leveling</a></li>
<li><a href="../316408/index.html">As I recalled the school geometry course</a></li>
<li><a href="../316412/index.html">Remote backup of VMware cloud resources via self-service portal</a></li>
<li><a href="../316416/index.html">Global objects and their habitats</a></li>
<li><a href="../316418/index.html">We search and analyze errors in the Orchard CMS code.</a></li>
<li><a href="../316420/index.html">CTFzone write-ups - Shall I reverse it?</a></li>
<li><a href="../316422/index.html">8 tools for creating personal or business chat bot</a></li>
<li><a href="../316426/index.html">Quick Guide how to become a Google Certified Associate Android Developer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>