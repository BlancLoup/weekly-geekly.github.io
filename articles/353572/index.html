<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Global site tag (gtag.js) in Google Analytics. What is it and do you need it?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You are reading the translation of Amanda Schroeder‚Äôs " What is gtag.js with Google Analytics and Do I Need It? " 


 If you recently added a Google A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Global site tag (gtag.js) in Google Analytics. What is it and do you need it?</h1><div class="post__text post__text-html js-mediator-article"><p>  <em>You are reading the translation of Amanda Schroeder‚Äôs " <a href="https://www.lunametrics.com/blog/2017/12/12/what-is-gtag-google-analytics/">What is gtag.js with Google Analytics and Do I Need It?</a> "</em> </p><br><p>  If you recently added a Google Analytics tracking code to your site, then you notice a completely different counter code that looks like this: </p><br><img src="https://habrastorage.org/webt/lc/fz/ll/lcfzllvbqenrlmav8kfufhdb3qs.png"><br><p>  There was some confusion around this gtag.js code.  This article should clarify everything.  You will understand if you need gtag.js or not. </p><br><h2 id="chto-takoe-global-site-tag-ili-gtagjs">  What is the Global Site Tag or gtag.js? </h2><br><p>  In recent years, Google Analytics released several updates to its JavaScript library, each of which added new features and was recommended to use. </p><br><p>  However, it is not exactly the same.  This is not just another library update.  The Global Site Tag is designed to streamline and streamline tracking for <strong>all Google products</strong> . </p><a name="habracut"></a><br><p>  The new gtag.js code will completely change the way we collect data.  The change is aimed at sites in which several different codes are embedded on the page directly, such as Google Analytics and Google AdWords.  Directly means without using a tag manager. </p><br><p>  This is a new counter installation style with one goal - to have one centralized tag that sends data to all of Google‚Äôs marketing and analytics tools.  You no longer need to spend hours setting up tags on your site. </p><br><p>  This is not just a new library for Google Analytics.  The same analytics.js is loaded on the background, and with it additional codes.  The choice of libraries depends on which tools you use, such as conversions.js for Google AdWords. </p><br><p>  Previously, we moved from the classical version of the code (ga.js) to Universal Analytics (analytics.js) and compared this with the replacement of a car engine.  Six cylinders - the classic version and eight cylinders - Universal Analytics.  Switching to gtag.js is completely different.  You still use the eight-cylinder engine, but it works differently.  We can compare this with the tuning or firmware of an existing engine ... </p><br><p>  Together with gtag.js we get a lot of new features.  Already decided to switch to new code to take advantage?  No need to hurry. </p><br><h2 id="stoyte-zachem-my-togda-ispolzuem-google-tag-manager">  Stand still  Why do we then use the Google Tag Manager? </h2><br><p>  It is important to note that there is no need to use gtag.js if you are already using Google Tag Manager.  If you are using GTM, just keep doing it.  In fact, we recommend not to embed codes directly, but to use the Google Tag Manager tag manager.  But if you are bound by circumstances and cannot do so, then continue reading. </p><br><h2 id="kak-eto-rabotaet">  How it works? </h2><br><p>  For example, take a typical site where the following codes are set: </p><br><ul><li>  Track Google Analytics page views on every page. </li><li>  Tracking Google Analytics events for interesting interactions. </li><li>  E-commerce Google Analytics for tracking purchases, order steps and more. </li><li>  Google AdWords Conversion Tracking: Purchase or fill out an application form. </li><li>  Google AdWords remarketing tag for creating audiences. </li></ul><br><p>  These are FIVE separate tags for Google products! </p><br><p>  The new gtag.js simplifies all this: </p><br><ul><li>  You can combine several Google product tags in one place of your code. </li><li>  The installation will be easier and it will be easier for you to put all your Google products into operation. </li><li>  It is now possible to send data to several tools at the same time, and not to use individual tags. </li></ul><br><p>  For example, if you use Google Analytics and Google AdWords, your gtag.js fragment will look like this: </p><br><pre><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.dataLayer = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.dataLayer || []; </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">gtag</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{dataLayer.push(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">arguments</span></span></span><span class="javascript">);} gtag(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'js'</span></span></span><span class="javascript">, </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Date</span></span></span><span class="javascript">()); gtag(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'config'</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'UA-1234567-8‚Ä≤); gtag('</span></span></span><span class="javascript">config</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">', '</span></span></span><span class="javascript">AW</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-1234567</span></span></span><span class="hljs-number"><span class="javascript"><span class="hljs-number">-8</span></span></span><span class="javascript">‚Ä≤); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  The gtag.js code will be placed on every page of your site.  <code>config</code> is a command that pulls the appropriate library for a selected product, such as analytics.js for Google Analytics or conversion.js for Google AdWords. </p><br><p>  The <code>config</code> command will take care of some of the initial settings, send a page view to Google Analytics, or remarketing a hit to AdWords.  You can and cancel these actions by default.  Edit the <code>config</code> line like this: </p><br><p> <code>gtag('config', 'UA-66848305-11‚Ä≤, { 'send_page_view': false });</code> </p> <br><p>  Pay attention to this when you decide to add AdWords conversion tracking to your site.  AdWords now also offers gtag-style installation. </p><br><p>  The way that you set up event tracking, e-commerce, and cross-domain tracking for Google Analytics, as well as conversions for AdWords, will change.  All this can be found in the gtag.js documentation for <a href="https://developers.google.com/analytics/devguides/collection/gtagjs/">Google Analytics</a> and <a href="https://developers.google.com/adwords-remarketing-tag/">Google AdWords</a> . </p><br><h2 id="nuzhen-li-mne-gtagjs">  Do I need gtag.js? </h2><br><p>  So should I update?  We suggest using the following scheme to see if you should use gtag.js. </p><br><ul><li><p>  <strong>I put the codes on the new site.</strong>  We recommend using GTM and not paying attention to gtag.js.  But if the codes can only be set directly, then install gtag.js.  You‚Äôll get the latest version of Google Anlytics and be able to work flexibly with other Google products. </p><br></li><li><p>  <strong>Already have a site with analytics codes.</strong>  If codes are installed via GTM, then do not change anything.  GTM provides more features than gtag.js.  If you are not using GTM, then you should think about what would go on it. </p><br></li><li><p>  <strong>Universal Analytics (anlytics.js) is built in without GTM.</strong>  Do not rush to go to gtag.js.  The analytics.js library has not gone away, it just loads into a different style in gtag.js.  If you understand that the new way of implementing codes is more convenient, then go to gtag.js. </p><br></li><li><p>  <strong>The classic library (ga.js) is installed without GTM.</strong>  It's time to go to Universal Analytics.  This is a good reason to use the new gtag.js. </p><br></li></ul><br><p>  Remember: if you are currently using analytics.js, there is no need to rush to migrate to gtag.js.  The amount of work required for this depends on how the codes are organized on your site. </p><br><p>  There is nothing wrong with continuing to use the usual analytics.js.  Refer to the <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/">analytics.js documentation</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/353572/">https://habr.com/ru/post/353572/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353558/index.html">The digest of fresh materials from the world of the frontend for the last week No. 310 (April 9 - 15, 2018)</a></li>
<li><a href="../353560/index.html">Million, million, million ... blue certificates</a></li>
<li><a href="../353562/index.html">[1] + [2] - [3] === 9 !? Examination of internal type conversion mechanisms in JavaScript</a></li>
<li><a href="../353564/index.html">getDerivedStateFromState ‚Äîor how to make a complex problem out of a simple problem</a></li>
<li><a href="../353566/index.html">Overview of information security management architecture in Check Point R80.10. Part 1 (Translation)</a></li>
<li><a href="../353574/index.html">Video about Panda Adaptive Defense on Aether platform</a></li>
<li><a href="../353576/index.html">Correct cryptographic answers: 2018</a></li>
<li><a href="../353580/index.html">From <blocked messenger> - to Matrix</a></li>
<li><a href="../353582/index.html">Color: from hex codes to eye</a></li>
<li><a href="../353584/index.html">Thunkable X - free browser-based mobile development environment for iOS and Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>