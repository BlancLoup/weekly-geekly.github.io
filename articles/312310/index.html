<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we built our mini data center. Part 1 - Colocation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello colleagues and residents of Habr. We want to tell you the story of a small company from the beginning of its formation to the current realities....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we built our mini data center. Part 1 - Colocation</h1><div class="post__text post__text-html js-mediator-article">  Hello colleagues and residents of Habr.  We want to tell you the story of a small company from the beginning of its formation to the current realities.  We want to immediately say that this material is made for people who are interested in this topic.  Before writing this (and long before that) we reviewed a lot of publications on Habr√© about the construction of data centers and it helped us a lot in the implementation of our ideas.  The publication will be divided into several stages of our work, from the rental of the cabinet to the final construction of its own mini-center.  I hope this article will help at least one person.  Go! <br><br><blockquote>  Part 2 - <a href="https://habrahabr.ru/post/312496/">Hermoson</a> </blockquote><br><blockquote>  Part 3 - <a href="https://habrahabr.ru/post/312870/">Relocation</a> </blockquote><br><br><img height="987" src="https://habrastorage.org/getpro/habr/post_images/685/d5c/f57/685d5cf57348321dba8b36b1f5df44a8.jpg" width="740"><br><a name="habracut"></a><br><h3>  Go </h3><br>  In 2015, a hosting company was created in Ukraine with big ambitions for the future and the actual absence of start-up capital.  We rented equipment in Moscow, from one of the well-known providers (and an acquaintance), this gave us the beginning of development.  Thanks to our experience and partly luck, already in the first months we gained enough customers to buy our own equipment and get good connections. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We chose the equipment we needed for our own purposes for a long time, chose price / quality first, but unfortunately most well-known brands (hp, dell, supermicro, ibm) are all very good in quality and have similar prices. <br><br>  Then we went the other way, chose from what is available in Ukraine in large quantities (in case of breakdowns or replacement) and chose HP.  Supermicro (as it seemed to us) are very well configured, but unfortunately their price in Ukraine exceeded any adequate sense.  And there were not so many spare parts.  So we chose what we chose. <br><br><h3>  First iron </h3><br>  We rented a closet in the Dnepropetrovsk data center and purchased the Cisco 4948 10GE (for growth) and the first three HP Gen 6 servers. <br><br><img height="555" src="https://habrastorage.org/getpro/habr/post_images/110/4db/9c4/1104db9c423dd6a52e06db1a1c6760cf.jpg" width="740"><br><br><img height="555" src="https://habrastorage.org/getpro/habr/post_images/514/aeb/f63/514aebf63144a24bded03ba76ed66b1b.jpg" width="740"><br><br><img height="555" src="https://habrastorage.org/getpro/habr/post_images/5c5/015/5e2/5c50155e277acd30694a9ce87985fc17.jpg" width="740"><br><br>  The choice of HP equipment subsequently helped us a lot, due to its low power consumption.  Well, then, off we go.  We purchased managed outlets (PDUs), they were important for us in terms of energy consumption and server management (auto-install). <br><br>  Later we realized that we took not the PDUs that are controlled, but simply the measuring ones.  But HP has a built-in iLO (IPMI) and this saved us.  We did all the automation of the system using IPMI (via DCI Manager).  After we acquired some tools for laying the SCS and we slowly began to build something more. <br><br>  Here we see the APC PDU (which were not managed), we connect: <br><br><img height="987" src="https://habrastorage.org/getpro/habr/post_images/b25/512/bc4/b25512bc477be7db72d9b3ad4d1f51c8.jpg" width="740"><br><br>  So, by the way, we installed the third server and PDU (right and left).  The server has long served us as a stand for the monitor and keyboard with a mouse. <br><br><img height="555" src="https://habrastorage.org/getpro/habr/post_images/39a/b7a/b6b/39ab7ab6bfff9605c36a88a7e6b04a95.jpg" width="740"><br><br>  On the existing equipment, we organized a certain Cloud service with the help of VMmanager Cloud from ISP Systems.  We had three servers, one of which was a master, the second - a file one.  We had the actual backup in case one of the servers crashed (except for the file one).  We understood that 3 servers for the cloud is not enough, so add.  equipment was on the way.  The blessing to ‚Äúdeliver‚Äù to the cloud it was possible without problems and special settings. <br><br>  When one of the servers crashed (master or second backup), the cloud quietly migrated back and forth without crashing.  We specifically tested this before putting it into production.  The file server was organized on quite good disks in hardware RAID10 (for speed and fault tolerance). <br><br>  At that time, we had several nodes in Russia on rented equipment, which we carefully began to transfer to our new Cloud service.  A lot of negative was expressed by the support of ISP Systems, because  there was no adequate migration from VMmanager KVM to VMmanager Cloud, and as a result we were told that this should not be the case.  Carried handles, long and hard.  Of course, only those who agreed to share placement and transfer were transferred. <br><br>  In this way we worked for about a month until we filled the floor of the cabinet with equipment. <br><br><img height="987" src="https://habrastorage.org/getpro/habr/post_images/d35/d5e/faa/d35d5efaaadce339276e99f5c85404ab.jpg" width="740"><br><br>  So we met the second batch of our equipment, again HP (not advertising).  It is simply better to have servers that are interchangeable than vice versa. <br><br><img height="555" src="https://habrastorage.org/getpro/habr/post_images/41f/418/9d9/41f4189d92c481fbe41e581e8138fef4.jpg" width="740"><br><br>  Based on the fact that none of us have extensive experience in laying SCS (except administrators, who, as usual, are not where they need to), we had to learn everything on the fly.  So we had the wires the first time (about a day) when we installed the servers. <br><br><img height="987" src="https://habrastorage.org/getpro/habr/post_images/21e/2fc/d7b/21e2fcd7b1a586f4eebd0841592c0738.jpg" width="740"><br><br>  Something like this - it became after the installation of all the incoming equipment and gaskets. <br><br><img height="555" src="https://habrastorage.org/getpro/habr/post_images/7c3/e66/c05/7c3e66c05b33d9ca4f3d555ae0cbef9a.jpg" width="740"><br><br><img height="987" src="https://habrastorage.org/getpro/habr/post_images/58c/e98/233/58ce98233cb1005bce61202ce7090b72.jpg" width="740"><br><br>  As the company grew, we increasingly encountered certain difficulties.  There were also problems with the equipment (the lack of SAS-SATA cables in fast access), its connection, various subtleties and with DDoS attacks on us (flew and such that they put the entire data center).  But one of the main, in our opinion, is the instability of the data center in which we rented a cabinet for equipment.  We ourselves were not very stable, but when the dp and where you are located falls, this is absolutely bad. <br><br>  Based on the fact that the data center was located in an old semi-abandoned building of an industrial complex, it worked accordingly.  And despite the fact that its owner made every effort so that he worked stably (and this is true, Alexander is really well done and in many ways helped us in the beginning) - they turned off the light, now the Internet.  It probably saved us.  This was the reason that prompted us (without available finance) to start searching for the premises for our own data center and organize the relocation to it in less than 14 days (taking into account the preparation of the room, pulling the optics and everything else) But about this in the next part of our story.  On a hurry move, search for premises and the construction of a mini-Tsoda in which we now live. <br><br>  How we built our mini data center.  <a href="https://habrahabr.ru/post/312496/">Part 2 - Hermoson</a> <br>  <i>PS In the next part a lot of interesting things.</i>  <i>From difficulties with moving, repairing, broaching optics in residential areas, installing automation, connecting UPS and DGU, etc.</i> <br><br><img height="555" src="https://habrastorage.org/getpro/habr/post_images/ed3/5e2/482/ed35e2482f38c1e951b79af813ea90c2.jpg" width="740"><br><br><img height="987" src="https://habrastorage.org/getpro/habr/post_images/581/abd/d73/581abdd731fd9dc8485d0b0c8efdf35d.jpg" width="740"></div><p>Source: <a href="https://habr.com/ru/post/312310/">https://habr.com/ru/post/312310/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312300/index.html">We understand in MAVLink. Part 1</a></li>
<li><a href="../312302/index.html">We sit on a Java-hardcore: Free broadcast of the track Joker 2016 without cuts</a></li>
<li><a href="../312304/index.html">Sell ‚Äã‚Äãlike Amazon: 7 examples of automating personal trigger e-mails that you can run today</a></li>
<li><a href="../312306/index.html">10G Switching for SMB: Extreme Summit Switch X620 Series</a></li>
<li><a href="../312308/index.html">Dive into the blockchain technology: Fast and secure transactions</a></li>
<li><a href="../312312/index.html">As we did automate the translation to 29 locales: build the zoo into a coherent system</a></li>
<li><a href="../312314/index.html">The preliminary program of the MBLTdev 16 mobile developers conference has been published.</a></li>
<li><a href="../312316/index.html">Several versions of PHP on a Windows machine</a></li>
<li><a href="../312318/index.html">Create a game for WebGL using Unity 5 and JavaScript</a></li>
<li><a href="../312320/index.html">Data serialization or communication dialectics: simple serialization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>