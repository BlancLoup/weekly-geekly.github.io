<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Action-Domain-Responder - revision of MVC for web tasks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="purpose 
 Divide user interface interactions between the web client and the web application into three well-defined roles. 



 Prerequisites 
 The te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Action-Domain-Responder - revision of MVC for web tasks</h1><div class="post__text post__text-html js-mediator-article"><h4>  purpose </h4><br>  Divide user interface interactions between the web client and the web application into three well-defined roles. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef2/2d7/3dd/ef22d73dd6c5c06211346d775fd969cd.png" alt="ADR"><br><br><h4>  Prerequisites </h4><br>  The term MVC is experiencing some <a href="http://martinfowler.com/bliki/SemanticDiffusion.html">semantic blurring of</a> its original meaning, especially in the context of the web (see the <a href="https://vimeo.com/40968850">video by Stefan Pribsh</a> for more detailed consideration of the issue).  As a means of eliminating this blurring, I offer you a description of the <i>Action-Domain-Responder</i> pattern, which is a refinement of the MVC concept to meet the needs of solving web-specific tasks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I believe that ADR is much better suited to what we actually implement in the web development process day after day.  For example, the creation of this pattern was partly inspired by the way we solve the problems of routing and dispatching, because in the case of routing and dispatching we turn <i>not</i> to the controller class per se, but to a specific action method in this controller class. <br><br>  Another problem uncovered is that we often view the <i>View</i> as a template, although in the context of the web it would probably be more appropriate to say that the <i>View</i> is an HTTP response.  Based on the foregoing, I believe that ADR is able to provide better than MVC, the separation of concepts for web applications. <br><a name="habracut"></a><br><h4>  Components </h4><br>  <i>An Action</i> is the logic that binds the <i>Domain</i> and the <i>Responder</i> .  It uses input data to interact with the <i>Domain</i> and transmits the <i>Domain</i> output to the <i>Responder</i> . <br><br>  <i>Domain (Domain)</i> contains the logic to control the session, application and environment data, state changes and data management, if necessary. <br><br>  <i>The Responder</i> is the logic required to create an HTTP response or description of the response.  It operates with the main content (body content), templates and views, headers, cookies, status codes and so on. <br><br><h4>  Interactions </h4><br><ol><li>  The web handler receives the request from the client and sends it to <i>Action</i> . </li><li>  <i>The action</i> interacts with the <i>Domain</i> . </li><li>  <i>The action</i> sends data to the <i>Responder</i> (this data may include the results of interaction with the <i>Domain</i> , data from a client request, etc.) </li><li>  <i>The responder</i> generates a response using the data received from the <i>Action</i> . </li><li>  The web handler sends the response to the client. </li></ol><br><h4>  Comparison with MVC (Model-View-Controller) </h4><br>  The most popular pattern describing interactions within the web is the <i>Model-View-Controller</i> .  Is the <i>Action-Domain-Responder</i> really just a <i>Model-View-Controller</i> disguise?  You may notice that the elements of ADR are reflected in the MVC elements: <br><br><pre><code class="php hljs">Model &lt;--&gt; Domain View &lt;--&gt; Responder Controller &lt;--&gt; Action</code> </pre> <br>  The two patterns look very similar.  What are the differences? <br><br>  In general, from Fowler's <a href="http://martinfowler.com/eaaDev/uiArchs.html">GUI Architecture</a> essay [translation <a href="http://habrahabr.ru/post/50830/">here</a> ] we can see that ‚Äúyou have more than one view and one controller, you have to create a separate view controller pair for each block on the page, each control and for the page as a whole. "  This is the main element of semantic blur that occurs when MVC is used in web applications. <br><br>  And let's compare the individual components of MVC and ADR in more detail. <br><br><h5>  <i><b>Model</b></i> and <i><b>Domain</b></i> </h5><br>  I do not see any radical differences in them, except that in ADR the <i>Respondent</i> does not interact with the <i>Domain in</i> any significant way.  <i>The responder</i> may use <i>Domain</i> objects as entities and collections, but only for the purpose of rendering;  <i>The defendant</i> does not modify the <i>Domain</i> and does not send him any information as provided for by MVC. <br><br><h5>  <i><b>Controller</b></i> and <i><b>Action</b></i> </h5><br>  In general, most <i>Controller</i> classes in a system designed according to the principles of MVC contain several methods, each of which corresponds to a separate action.  Since all these methods reside in one <i>Controller</i> , additional ‚Äúwrapper‚Äù logic is also added to it to work with each of these methods, for example, hooks that are triggered immediately before or after the action itself.  A significant exception to this rule is microframes, in which each <i>controller</i> is a separate closure or called object, which is more appropriate for the <i>Action</i> (for example, <a href="http://www.slimframework.com/">Slim</a> ). <br><br>  Within the framework of the same ADR, <i>Actions</i> are seen as separate classes or closures.  In other words, each <i>Action</i> must be rendered into its own separate class or closure. <br><br>  <i>The action</i> interacts with the <i>Domain</i> in the same way that the <i>Controller</i> interacts with the <i>Model</i> , but does not interact with the <i>View</i> or the template system.  <i>The action</i> simply transfers the data to the <i>Respondent</i> and gives the volume to dispose of them. <br><br><h5>  <i><b>Submission</b></i> and <i><b>Responder</b></i> </h5><br>  In the MVC system, the <i>Controller</i> method typically generates a response body using a <i>View</i> (for example, through the <i>Template View</i> or <i>Two Step View</i> ).  The <i>Controller</i> then integrates the generated response body into the response itself.  The <i>Controller</i> Method, which is the action, directly controls the response to set the necessary headers. <br><br>  Sometimes, some <i>Controller</i> methods may provide different response formats for the same data.  Since this variability is often not supported by absolutely all methods, the logic of data presentation somehow changes from method to method, with its own conditions in each specific case. <br><br>  In ADR, each <i>Action</i> has a corresponding <i>Responder</i> .  When an <i>Action</i> finishes its interaction with the <i>Domain</i> , it transfers from the <i>Domain to the</i> <i>Respondent</i> both all the necessary data and control over this data.  <i>The defendant</i> fully controls the setting of headers, the choice of content types, template rendering and so on. <br><br>  Note that a <i>Responder</i> can include a <i>Template Engine</i> , <i>Two-Step Template System</i> , a <i>Transform View,</i> or any other view system.  Also note that a generic <i>Responder</i> can be used by more than one <i>Activity</i> .  The main thing is that the <i>Action</i> leaves all the work on the headers and content to the <i>Respondent</i> , and not that it is necessary to create its <i>Responder</i> for each individual <i>View</i> . <br><br><h4>  Comparison with other patterns </h4><br>  There are other patterns that are considered as refinement, replacement, or addition of the MVC concept.  You can read <a href="https://lostechies.com/derekgreer/2007/08/25/interactive-application-architecture/">this review of patterns from Derek Greer</a> . <br><br><h5>  EBI (Entity-Boundary-Interactor) </h5><br>  The term <a href="http://www.whitewashing.de/2012/08/13/oop_business_applications_entity_boundary_interactor.html">EBI</a> has several synonyms: ports and adapters, hexagonal architecture, <a href="http://www.cs.sjsu.edu/~pearce/modules/patterns/enterprise/ecb/ecb.htm">ECB</a> (Entity-Control-Boundary).  He is described as part of Robert Martin's <a href="http://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html">Pure Architecture</a> . <br><br>  EBI is a partial alternative to MVC, in which the main elements and behaviors represented by <i>Interactor</i> objects and <i>Entities</i> are separated from incoming and outgoing data using <i>Boundary</i> .  The main consequence of this approach is a clear distinction between the application itself and the intricacies of input and output mechanisms, so that key behaviors never depend on any private system for receiving a request or sending a response. <br><br>  I admit, I am not very familiar with the concept of EBI, so this description may not be entirely correct in general or in particular.  After my incomplete research in this area, I came to the conclusion that the EBI architecture probably describes interactions within the application better than MVC.  If the description above is true, then ADR fits pretty well with the EBI structure: <br><br><ul><li>  ADR <i>Action</i> and <i>Responder</i> may serve as a web-specific <i>Limiter</i> </li><li>  An ADR <i>Domain</i> can serve as an analogue of <i>Interactor</i> , encapsulating or otherwise hiding elements of EBI <i>Entities</i> from ADR <i>Action.</i> </li></ul><br>  Alternatively, within the terminology of ports and adapters or a hexagonal architecture, it may be more reasonable to consider the <i>Action</i> as a ‚Äúport‚Äù through which the EBI <i>Limiter</i> is invoked (invoke) as part of the ADR <i>Domain</i> .  Finally, the <i>Respondent</i> can be viewed as an ‚Äúadapter‚Äù through which the application returns data to the client. <br><br>  However, ADR does not seem to be a direct replacement for EBI.  Rather, the two approaches complement each other. <br><br><h5>  DCI (Data-Context-Interaction) </h5><br>  <a href="https://en.wikipedia.org/wiki/Data,_context_and_interaction">DCI is described as an addition to MVC</a> , not a replacement.  I think it would be fair to call him the ADR supplement to the same extent. <br><br><h5>  MVP (Model-View-Presenter) </h5><br>  <a href="http://www.martinfowler.com/eaaDev/ModelViewPresenter.html">MVP was dismissed by the</a> <i><a href="http://www.martinfowler.com/eaaDev/SupervisingPresenter.html">Supervising Controller</a></i> and <a href="http://www.martinfowler.com/eaaDev/PassiveScreen.html"><i>Passive View</i></a> patterns.  At first glance, it looks very similar to ADR, especially in that the <i>Passive View</i> and <i>Model</i> have no dependencies on each other.  From the text of Fowler: <br><blockquote>  The Controller uses the controller both to process the input data and to control the view, allowing you to organize more complex display logic ... <br><br>  Passive View achieves this by reducing the number of behaviors of UI elements to the absolute minimum by using a controller that not only processes the reaction to user events, but also takes all the work of updating the views.  This approach allows you to focus efforts on testing the controller, without worrying about any problems in the views. <br></blockquote><br>  Let's take a closer look: <br><br><ul><li>  <i>Model</i> and <i>Domain are</i> quite similar to each other, as is the case with MVC. </li><li>  <i>Passive Representation</i> does not fully correspond to the <i>Action</i> or the <i>Respondent</i> ;  rather, it can be viewed as a response that is returned to the client. </li><li>  <i>The managing controller</i> recalls the <i>Respondent</i> in terms of "managing the view to allow for more complex display logic".  On the other hand, the <i>Respondent</i> does not interact with the <i>Domain</i> and does not receive input from the client, so it does not seem to fit the role of the <i>Controller</i> . </li><li>  Alternatively, the <i>Controller</i> could be represented as an <i>Action</i> , but the <i>Action is</i> not responsible for managing the views (i.e., the response). </li></ul><br>  In general, close, but not the same. <br><br><h5>  MVVM (Model-View-ViewModel) </h5><br>  MVVM is only partially similar to ADR.  <i>The model</i> in MVVM is practically the same as the <i>Model</i> in MVC and <i>Domain</i> in ADR.  Similarly, MVVM <i>View</i> is very similar to MVC <i>View</i> and <i>Responder</i> in ADR. <br><br>  However, the <i>View Model (ViewModel) is</i> not similar to the <i>Controller</i> in MVC, nor to the <i>Action</i> in ADR.  Since ADR is a refinement of MVC, it is reasonable to assume that a comparison of MVVM with MVC will be similar to that of ADR. <br><br>  For a detailed description of these differences, I advise you to read the articles by <a href="http://joel.inpointform.net/software-development/mvvm-vs-mvp-vs-mvc-the-differences-explained/">Joel Venzel</a> , <a href="http://www.codeproject.com/Articles/228214/Understanding-Basics-of-UI-Design-Pattern-MVC-MVP">Avtar Sing Soha</a> , <a href="http://www.rachelappel.com/comparing-the-mvc-and-mvvm-patterns-along-with-their-respective-viewmodels">Rachel Appel</a> and <a href="https://nirajrules.wordpress.com/2009/07/18/mvc-vs-mvp-vs-mvvm/">Niraj Bhatt</a> . <br><br>  (I had an interesting email discussion where I was told that MVVM is very similar to MVC, to which the <i>View Model</i> was added for interactions between <i>View</i> and <i>Model</i> . If this is true, then <i>View Model</i> can be used in ADRs with same success as MVC). <br><br><h5>  PAC (Presentation-Abstraction-Control) </h5><br>  <a href="https://en.wikipedia.org/wiki/Presentation%25E2%2580%2593abstraction%25E2%2580%2593control">From Wikipedia</a> : <br><blockquote>  PAC is a hierarchical structure of agents, each of which is a triad of representation, abstraction, and control part.  Agents (triads) communicate with each other only through the control part of each of them.  Another difference from MVC is that in each triad, representation and abstraction (a model in MVC terms) are completely isolated.  This approach allows you to process models and views in parallel in different threads, which leaves the user with the impression of a very fast start, since the interface (views) can be displayed before the abstractions are fully initialized. <br></blockquote><br>  Not too much like ADR. <br><br><h5>  RMR (Resource-Method-Representation) </h5><br>  I did not hear about <a href="http://www.peej.co.uk/articles/rmr-architecture.html">RMR</a> until <a href="http://www.reddit.com/r/PHP/comments/24s8yn/actiondomainresponse_a_tentative_mvc_refinement/cha8jo1">ircmaxell pointed it at Reddite</a> . <br><br>  ADR and RMR are very similar to each other, and their elements correspond to each other very precisely. <br><br><pre> <code class="php hljs">Resource &lt;--&gt; Domain Method &lt;--&gt; Action Representation &lt;--&gt; Responder</code> </pre><br>  However, some of the nuances of RMR make me stay with the opinion that these two approaches are still different from each other.  For example: <br><blockquote>  Thus, within the framework of an object-oriented language, we can consider http-resources (Resource) as objects with private properties and a specific set of public methods (Method), each of which corresponds to the standard HTTP method.  In MVC terms, a resource can be represented as a model with a small piece of the controller inside. <br></blockquote><br>  To me personally, this just seems like too much mixing of concepts.  I prefer to see a clearer separation of the models from the actions performed on the application. <br><br><blockquote>  Representation is very similar to Representation in MVC, we give it a resource object and give the command to serialize it into the required output format. <br></blockquote><br>  Obviously, this is not true for a number of HTTP responses, such as, for example, ‚ÄúNot Found‚Äù.  Such an answer is definitely not a representation of the requested resource. <br><br>  In general, it is likely that ADR can be viewed as an augmented and extended variation of RMR, in which the <i>resources</i> and actions that can be performed on them, are clearly divided into <i>Domains</i> and <i>Actions</i> , and where the <i>Representation</i> (i.e. response generation) is controlled <i>The defendant</i> . <br><br><h5>  Models-Operations-Views-Events (MOVE) </h5><br>  From the <a href="http://cirw.in/blog/time-to-move-on">original site</a> : <br><br><blockquote>  Models encapsulate everything your application knows. <br>  Operations encapsulate everything your application does. <br>  Views are the link between your application and the user. <br>  Events are used to safely connect all of these elements. <br></blockquote><br>  This is a very interesting pattern in itself.  The idea of <i>Models</i> and <i>Operations</i> seems to be very appropriate within the framework of the Domain-Driven Design approach. <br><br>  However, I do not think that MOVE is similar to ADR, especially at this point: <br><br><blockquote>  Events are exactly what gives MOVE (and MVC) the inversion of control necessary for models to be able to update views without getting information about what kind of view they are updating. <br></blockquote><br>  In ADR, <i>Domain</i> and <i>Responder</i> do not ‚Äúupdate each other.‚Äù  The work of the <i>Domain is</i> completed, and the result is transferred to the <i>Respondent</i> for further display to the client. <br><br><h5>  Separated Presentation </h5><br>  You can find several indications for ADR, especially <i>Respondent</i> , in <a href="http://martinfowler.com/eaaDev/SeparatedPresentation.html">Separate Views</a> .  The article itself is worth reading, but Separate Views are more of a meta-pattern describing general approaches to separating data from their presentation, rather than specific ways to achieve this separation. <br><br><h4>  Comparison of MVC and ADR with examples </h4><br><h5>  Starting point in MVC </h5><br>  In MVC, the directory structure for a banal blogging system might look something like this.  Note that <b>index</b> and <b>read</b> provide as an alternative the output in JSON, and the comment template is ‚Äúpartial‚Äù (partial) and also allows the output of JSON as an alternative. <br><br><pre> <code class="php hljs">controllers/ BlogController.php <span class="hljs-comment"><span class="hljs-comment"># index(), create(), read(), update(), delete() models/ BlogModel.php views/ blog/ index.html.php index.json.php create.html.php read.html.php read.json.php update.html.php delete.html.php _comments.html.php _comments.json.php</span></span></code> </pre><br>  And here is another type of directory structure for MVC: <br><br><pre> <code class="php hljs">Blog/ BlogController.php <span class="hljs-comment"><span class="hljs-comment"># index(), create(), read(), update(), delete() BlogModel.php views/ index.html.php index.json.php create.html.php read.html.php read.json.php update.html.php delete.html.php _comments.html.php _comments.json.php</span></span></code> </pre><br>  The standard <i>Controller</i> class in MVC looks something like this.  Note that in this <i>controller</i> class there are different actions, and the methods of these actions set the response headers. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// is this a POST request? if ($this-&gt;request-&gt;isPost()) { // retain incoming data $data = $this-&gt;request-&gt;getPost('blog'); // create a blog post instance $blog = $this-&gt;blog_model-&gt;newInstance($data); // is the new instance valid? if ($blog-&gt;isValid()) { // yes, save and redirect to editing $blog-&gt;save(); $this-&gt;response-&gt;redirect('/blog/edit/{$blog-&gt;id}'); return; } else { // no, show the "create" form with the blog instance $this-&gt;response-&gt;setContent($this-&gt;view-&gt;render( 'create.html.php', array('blog' =&gt; $blog), )); return; } } else { // not a POST request, show the "create" form with defaults $this-&gt;response-&gt;setContent($this-&gt;view-&gt;render( 'create.html.php', array('blog' =&gt; $this-&gt;blog_model-&gt;getDefault()) )); } } public function index() { // ... } public function read($id) { // ... } public function update($id) { // ... } public function delete($id) { // ... } } </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre> <br>  The logic of the <b>create ()</b> method can be reduced in some way by making most of the interactions with the model at the <i>Service Layer</i> , but the essence remains the same - the <i>Controller is</i> usually responsible for the response headers and content. <br><br><h5>  Take a look at ADR </h5><br>  For comparison, the folder structure for ADR can be organized as follows.  Note that each <i>Action</i> has a corresponding <i>Respondent</i> . <br><br><pre> <code class="php hljs">Blog/ Action/ BlogIndexAction.php BlogCreateAction.php BlogReadAction.php BlogUpdateAction.php BlogDeleteAction.php Domain/ <span class="hljs-comment"><span class="hljs-comment"># Model, Gateway, Mapper, Entity, Collection, Service, etc. Responder/ BlogIndexResponder.php BlogCreateResponder.php BlogReadResponder.php BlogUpdateResponder.php BlogDeleteResponder.php html/ index.html.php create.html.php read.html.php update.html.php delete.html.php _comments.html.php json/ index.json.php read.json.php _comments.json.php</span></span></code> </pre><br>  A pair of the <i>Action</i> and the <i>Responder</i> , corresponding to the <b>create ()</b> method described above, could look like this: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Action</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogCreateAction</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__invoke</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// is this a POST request? if ($this-&gt;request-&gt;isPost()) { // yes, retain incoming data $data = $this-&gt;request-&gt;getPost('blog'); // create a blog post instance $blog = $this-&gt;blog_model-&gt;newInstance($data); // is the new instance valid? if ($blog-&gt;isValid()) { $blog-&gt;save(); } } else { // not a POST request, use default values $blog = $this-&gt;blog_model-&gt;getDefault(); } // set data into the response $this-&gt;responder-&gt;setData(array('blog' =&gt; $blog)); $this-&gt;responder-&gt;__invoke(); } } </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre> <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Responder</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogCreateResponder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Responder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// $this-&gt;response is the actual response object, or a response descriptor // $this-&gt;view is a view or template system public function __invoke() { // is there an ID on the blog instance? if ($this-&gt;data-&gt;blog-&gt;id) { // yes, which means it was saved already. // redirect to editing. $this-&gt;response-&gt;setRedirect('/blog/edit/{$blog-&gt;id}'); } else { // no, which means it has not been saved yet. // show the creation form with the current response data. $this-&gt;response-&gt;setContent($this-&gt;view-&gt;render( 'create.html.php', $this-&gt;data )); } } } </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br>  Again, you can find opportunities for refactoring in this code, especially with regard to working with the <i>Domain</i> .  The main thing is that the <i>Action</i> does not do any work for the <i>Respondent</i> ;  all necessary work is done directly by the logic of the <i>Respondent</i> itself. <br><br>  You can view the advanced sample ADR code <a href="https://github.com/pmjones/adr/blob/master/example-code">here</a> . <br><br><h4>  Comments </h4><br><h5>  Not considered requests </h5><br>  I received quite a lot of criticism for not including the element corresponding to the "HTTP request" in the pattern.  An early version of this publication contained such an element and was called the "Request-Action-Domain-Response".  However, in further studying MVC and similar architectural patterns, I noticed that none of them define an input element.  In order not to stand out from the general row, ADR does not consider this element either. <br><br><h5>  Not considered Front Controller </h5><br>  The pattern was created to improve the <i>Model-Application-Controller</i> approach, and not web applications in general.  Thus, it deliberately does not consider some of the elements inherent in many web applications, and in particular this applies to the <i>Front Controller</i> . <br><br>  The ADR does not describe the element of routing or dispatch, and it also does not describe how <i>Action</i> and <i>Responder</i> are associated with dispatch.  Routing and scheduling are most often the <i>Front Controller's</i> responsibility area, and there are many ways to establish interaction between the <i>Action</i> , the <i>Respondent</i> and the <i>Front Controller</i> : <br><br><ul><li>  <i>The action</i> can directly call the <i>Responder</i> , which returns a response to the request; </li><li>  <i>The responder</i> and the response can be accessed by the front controller calling them directly; </li><li>  <i>An action</i> can return a <i>Responder</i> , which is then called and returns a response, which is called and sends itself; </li><li>  and so on. </li></ul><br>  The ADR pattern does not describe any elements of pre-filtering or request validation, as they may be part of the <i>Front Controller</i> .  Note that, depending on the pre-filtering logic and the validation of the request, the <i>Action</i> may call the <i>Responder</i> , or it may return its own response, or cause some additional <i>Action</i> as a result of its logic, and so on.  Similarly, a triggered <i>Action</i> may have its own set of checks, resulting in a <i>Responder</i> calling without interacting with the <i>Domain</i> .  The reasons for such ‚Äúshortened‚Äù call chains can be: <br><br><ul><li>  Inconsistency of HTTP methods.  If the routing system does not find a match between the HTTP method used and the requested <i>Action</i> , the <i>Front Controller</i> may return an error with an error instead of redirecting the request to the <i>Action</i> . </li><li>  Authentication.  The presence or absence of client access rights (and their validity) may influence the need to call an <i>Action</i> or interact with a <i>Domain</i> during this <i>Action</i> . </li><li>  Authorization  The access control system may reject the client's request for a specific <i>Action</i> , or cause the <i>Action to</i> be executed without interacting with the <i>Domain</i> and, possibly, return the response on its own. </li><li>  Content mismatch.  <i>Front Controller</i> , <i>Action,</i> or other elements involved in processing a request can check <b>Accept-</b> headers of a client request.       <i></i>  <i></i>    /     . </li><li>  .      -    , <i></i>      <i></i>    <i></i>     . </li></ul><br><h5>   </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An ADR can be called a variation on the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Presentation</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> theme </font><font style="vertical-align: inherit;">in the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model-View-Controller</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pattern </font><font style="vertical-align: inherit;">, rather than an independent pattern. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Then it turns out that the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a variation, similar to the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Page Controller</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and in this context its more accurate name might be </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action Controller</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . In this case, it will correspond to the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controller</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from MVC. (Moreover, the formal description of a Page </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is that it represents a ‚Äúpage or action‚Äù). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Similarly, the </font><i><font style="vertical-align: inherit;">Respondent</font></i><font style="vertical-align: inherit;"> can be considered</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as a variation similar to the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Template View</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transform View</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and then it would be wiser to call it a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Response View</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Thus, the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Responder</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fits perfectly into the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">view</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> element </font><font style="vertical-align: inherit;">of MVC. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notwithstanding the foregoing, I believe that these alternative formulations are not as good and accurate as the description of the approach within the framework of a separate ADR pattern. </font><font style="vertical-align: inherit;">For the most part, due to internal interactions between the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">View</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : in MVC, the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">View</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> updates the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in ADR the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Responder </font></font></i> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">does not</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> update</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Domain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unclear Domain </font></font></h5><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The domain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> covers a lot: not only the application class set, but also its state and environment state. </font><font style="vertical-align: inherit;">It could probably be called a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but that would only add further confusion. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In addition, it is possible that the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> should transfer to the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Respondent</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> not the data received from the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Domain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but the </font></font><i><a href="http://martinfowler.com/eaaDev/PresentationModel.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Presentation Model</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">But in this case, it is possible that the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Domain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> called by the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> should return the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model View</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> that encapsulates the state of the application. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In any case, ADR is offered as a revision of MVC. </font><font style="vertical-align: inherit;">On this basis, we can say about</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The domain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in ADR is all the same, what can be said about the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in MVC.</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explaining </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actions</font></font></i> </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One of the commentators noted that the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can be organized in such a way that different logic works in it, depending on the incoming request. For example, he suggested that readers can extend the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and add functionality to work with different HTTP methods by placing the logic for different HTTP methods in the same </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Although in my opinion, the pattern itself expresses the idea that each </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> should perform only one function, and this clearly follows from the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comparisons </font><font style="vertical-align: inherit;">and the ADR and RMR patterns, I will clarify once again, more explicitly: the meaning is that every </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> must perform one and only one action in response to any incoming request. </font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Replacement, not revision of MVC </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nate Eibel objects that ADR should be considered a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">substitute for</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MVC used for server applications:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I will say that the more I learn about the MVC pattern, the less it seems to me suitable for the server part of web applications. </font><font style="vertical-align: inherit;">&lt;...&gt; I think the main breakthrough of your ADR idea is to get rid of what seems to me a bad abstraction. </font><font style="vertical-align: inherit;">I would advise you to avoid describing ADR in MVC terms except where absolutely necessary.</font></font><br></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Full </font></font><a href="http://paul-m-jones.com/archives/5993"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comment</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Other comments </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The original blog post describing this idea is </font></font><a href="http://paul-m-jones.com/archives/5970"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stefan Hochdurfer responded to my idea </font></font><a href="http://blog.bitexpert.de/blog/controller-classes-vs.-action-classes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in this post</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; further discussion continued </font></font><a href="http://paul-m-jones.com/archives/5987"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="http://www.reddit.com/r/PHP/comments/25y89a/stephan_hochd%25C3%25B6rfer_and_actiondomainresponder"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">on reddit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John Layton wrote about the Focused Controller (Focused Controller), which is very similar to Action from ADR, </font></font><a href="http://www.jonathanleighton.com/articles/2012/explaining-focused-controller"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The subsequent post comparing the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Submission</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Respondent</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is </font></font><a href="http://paul-m-jones.com/archives/5993"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and the comments on it are read </font></font><a href="http://www.reddit.com/r/PHP/comments/26j3nf/the_template_is_not_the_view/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="http://www.reddit.com/r/webdev/comments/26j5o9/the_template_is_not_the_view_xpost_from_rphp/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akihito Coritama offers his comments </font></font><a href="https://koriym.github.io/blog/2014/06/08/action-domain-responder/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4>  Advantages and disadvantages </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One complex advantage is that the pattern more accurately describes the most typical interaction scenarios on the web. The request comes in and is redirected to the action; the action interacts with the domain, and then the response is built. The work of the response ‚Äî including the headlines and the content ‚Äî is entirely separate from the work of the action. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One complex disadvantage is that we have to deal with the increased number of classes in the application. Not only each </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> will receive its own class </font><font style="vertical-align: inherit;">, but also each </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Responder</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But this drawback is probably not so terrible in the long run. The need to create separate classes can lead to a clearer and less deep inheritance hierarchy. Separation </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actions</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Responder</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> promotes better testability. </font><font style="vertical-align: inherit;">In different systems, these features may manifest themselves in different ways. </font><font style="vertical-align: inherit;">Someone noticed that it is more convenient to handle ‚Äúmany classes‚Äù in different code editors and IDEs than ‚Äúfewer classes, but more methods‚Äù, since class overview is usually simpler than method overview.</font></font><br><br><h4>  Thanks </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I express my gratitude to everyone who with their questions, comments, criticism or recommendations helped to work on this proposal. </font><font style="vertical-align: inherit;">Separately, I would like to thank the following people listed without any order:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Matthew Weier O'Phinney </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hari KT </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stephan hochd√∂rfer </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Adam Culp </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dan horrigan </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Josh lockhart </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Beau simensen </font></font></li></ul></div><p>Source: <a href="https://habr.com/ru/post/260769/">https://habr.com/ru/post/260769/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260757/index.html">How we made programming language from JSON</a></li>
<li><a href="../260761/index.html">Bindings QCustomPlot for Python</a></li>
<li><a href="../260763/index.html">Programming for beginners. My acquaintance with Processing</a></li>
<li><a href="../260765/index.html">SAP's electronic signature is just</a></li>
<li><a href="../260767/index.html">Java string processing Part I: String, StringBuffer, StringBuilder</a></li>
<li><a href="../260771/index.html">Forecast for Specification pattern in Domain layer - problems are expected</a></li>
<li><a href="../260773/index.html">Java string processing Part II: Pattern, Matcher</a></li>
<li><a href="../260775/index.html">How I Made and Sold the Axure 7 Course</a></li>
<li><a href="../260777/index.html">Favicons, Touch Icons, Tile Icons, etc. What to choose?</a></li>
<li><a href="../260779/index.html">Contracts in D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>