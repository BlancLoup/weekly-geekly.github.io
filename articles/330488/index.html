<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Firebase at I / O 2017: New Features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guest article from Google I \ O 2017 and GDG Lead in Nizhny Novgorod - Alexander Denisov . 

 Hi Habr! Most recently, another international technology...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Firebase at I / O 2017: New Features</h1><div class="post__text post__text-html js-mediator-article">  Guest article from Google I \ O 2017 and GDG Lead in <a href="https://www.meetup.com/es-ES/Google-Developer-Group-Nizhny-Novgorod/">Nizhny Novgorod</a> - <a href="https://plus.google.com/%2B%25D0%2590%25D0%25BB%25D0%25B5%25D0%25BA%25D1%2581%25D0%25B0%25D0%25BD%25D0%25B4%25D1%2580%25D0%2594%25D0%25B5%25D0%25BD%25D0%25B8%25D1%2581%25D0%25BE%25D0%25B281">Alexander Denisov</a> . <br><br>  Hi Habr!  Most recently, another international technology conference on Google, I / O 2017, was held in Mountain View, California. Someone went to California, someone came to the <a href="https://habrahabr.ru/company/google/blog/328394/">I / O Extended</a> organized by the regional offices of the GDG community, someone watched broadcast independently, and someone did not watch at all (Just in case, leave it here: <a href="https://goo.gl/D0D4VE">all I / O 2017 sessions are recorded</a> ).  About how good or not very good the conference was this year, opinions are contradictory, I can only say it personally, I really liked it. <br><div style="text-align:center;"><img src="https://habrastorage.org/web/e3a/c77/99a/e3ac7799aed146ba95e13a87283b4a85.png"></div><br>  Last year I was very interested in what the guys from the Firebase team are doing, and I even wrote an <a href="https://habrahabr.ru/company/google/blog/305308/">article</a> about it, so I want to tell you what's new in the Firebase ecosystem and how it can be used. <br><a name="habracut"></a><br><h2>  Fabric Integration </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/web/e83/560/a4b/e83560a4b07047c0b65833368c6dff35.png"></div><br>  About the fact that Google acquired Fabric from Twitter, I heard some time ago, but on I / O, I personally saw Fabric Manager groups from Rich Paret from Fabric and Firebase cofounder Andrew Lee on the same stage, discussing the prospects for team unification and friendly teasing each other. <br><br><img src="https://habrastorage.org/web/1c9/180/198/1c91801980c5445eaef31837f28119a0.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, what did we get as a result of this merger?  First, <b>Crahslytics will soon be integrated into Firebase as the main solution for crash reporting</b> !  Already, in the Crash Reporting console we see an invitation to install the Crashlytics service and participate in its testing, and soon it will completely replace Firebase Crash Reporting. <br><br><img src="https://habrastorage.org/web/557/a74/0d6/557a740d6bcd44e88cbea76938e6325a.png"><br><br>  Secondly, <b>integration with the Digits service now allows authentication by phone number</b> !  Free of charge, it will be possible to carry out 10 thousand authentication per month, which should fully meet the needs of developers.  A Digits SDK as an independent product in the near future will receive the status of deprecated. <br><br><img src="https://habrastorage.org/web/378/ed5/03e/378ed503ea8f4ee2bb8c55626e11828b.png"><br><br>  I immediately wanted to screw the phone authorization to my application and show how easy it is to do it, but as it turned out the service is now available only for iOS and WEB developers, the Android version will have to wait another couple of weeks. <br><br><h2>  Dynamic hosting with Firebase Cloud Functions </h2><br>  Back in March, on Google NEXT'17, the guys from the Firebase team told about the launch of the new Cloud Functions for Firebase service.  The service provides the ability to host small JavaScript functions directly in the Google Cloud infrastructure, and execute them in response to events caused by Firebase services or HTTP requests. <br><br>  This allows customizing or <a href="https://firebase.google.com/docs/functions/get-started">expanding the standard operation of Firebase services</a> with its features, such as sending a welcome email to each new user (Authentication), tracking and deleting obscene language in posts or chats (Realtime Database), converting images when loading into the storage (Storage) and so on. <br><br>  For those who have not tried, I will show an example of using Cloud Functions.  Let's take the <a href="https://github.com/firebase/friendlychat">FriendlyChat</a> source code from GitHub, the application I described in last year‚Äôs article.  Tie it to a clean Firebase project and add a Cloud Function that will automatically greet all new users in the chat. <br><br>  The first step is to install <a href="https://nodejs.org/en/">Node.js</a> , and then install the Firebase Command Line Interface (CLI) with the command: <br><br><pre><code class="javascript hljs">npm -g install firebase-tools</code> </pre> <br>  log in to the interface with the command <br><br><pre> <code class="javascript hljs">firebase login</code> </pre> <br>  create a folder for your project, go to it and create the project itself by the team <br><br><pre> <code class="javascript hljs">firebase init functions</code> </pre> <br>  As a result, a project structure will be created in the folder, go to the functions folder and find <i>index.js</i> , and our functions will be stored here.  If you open a file, then it will only have one line - <i>const functions = require ('firebase-functions')</i> ;  - this is actually the Firebase SDK connection.  Add the Admin SDK connection there: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> admin = require(<span class="hljs-string"><span class="hljs-string">'firebase-admin'</span></span>); admin.initializeApp(functions.config().firebase);</code> </pre><br>  Preparations are finished, now we implement the function itself, it will trigger the event of creating a new user in the Authentication service, that is, when the user enters the chat for the first time: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">exports</span></span>.addWelcomeMessages = functions.auth.user().onCreate(event =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> user = event.data; console.log(<span class="hljs-string"><span class="hljs-string">'A new user signed in for the first time.'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fullName = user.displayName || <span class="hljs-string"><span class="hljs-string">'Anonymous'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//              return admin.database().ref('messages').push({ name: 'Firebase Bot', photoUrl: 'https://image.ibb.co/b7A7Sa/firebase_logo.png', // Firebase logo     image hosting text: '${fullName} signed in for the first time! Welcome!' }); });</span></span></code> </pre><br>  It remains to upload the function to the cloud and that's it: <br><br><pre> <code class="javascript hljs">firebase deploy --only functions</code> </pre><br>  you can run the application, and after authorization, the bot happily welcomes the new user in the chat. <br><div style="text-align:center;"><img src="https://habrastorage.org/web/396/19b/480/39619b480cb440ed9c3e60e23f4d0bcf.png"></div><br>  But all this was presented before I / O!  Directly on it, Firebase introduced a novelty that should please the web development community.  The Firebase Hosting service, which previously allowed working only with static content, was expanded by integration with Cloud Functions, and now <a href="https://firebase.google.com/docs/hosting/functions">works with dynamic content generated by the Cloud Functions service</a> . <br><br>  Now developers engaged in progressive web applications will be able to completely abandon their server and use only Firebase. <br><br>  I'd like to give examples, but I haven‚Äôt yet written about Web development using Firebase, and the article would have turned out too big, so expect the following article completely dedicated to web development and using Cloud Functions. <br><br><h2>  Firebase Performance Monitoring </h2><br>  Often, insufficient performance and / or stability of the application are the main cause of user dissatisfaction.  But it‚Äôs not always easy to understand why an application is not productive or stable enough to help with this difficult task, the Firebase team launched a beta test of Performance Monitoring in beta.  Firebase Performance Monitoring is a new free tool that helps you understand when bad code or complex network conditions affect your user interface. <br><br>  In order for the service to start collecting data on the performance of your application, you must connect the Performance Monitoring SDK, then the service will immediately begin to collect data.  The service will provide reports in the form of so-called <i>traces (trace)</i> - performance reports between two events in your application.  Immediately after the connection, data for automatic traces will begin to be collected: <br><br><ul><li>  App start trace - measures the time between when the user started the application and when the application responded </li><li>  App in background trace - measures the time the application is in the background. </li><li>  App in foreground trace - measures application activity time </li></ul><br>  Connect the service to the application to see how it looks.  I took the standard application from google codelabs - <a href="https://github.com/firebase/friendlychat">FriendlyChat</a> and connected it to my database.  Now we will connect Performance Monitoring, for this we will add to the project-level build.gradle in the buildscript ‚Üí repositories section: <br><br><pre> <code class="javascript hljs">jcenter()</code> </pre> <br>  and to the buildscript section ‚Üí dependencies <br><br><pre> <code class="javascript hljs">classpath <span class="hljs-string"><span class="hljs-string">'com.google.firebase:firebase-plugins:1.1.0'</span></span></code> </pre> <br>  then in app-level build.gradle in the dependencies section <br><br><pre> <code class="javascript hljs">compile <span class="hljs-string"><span class="hljs-string">'com.google.firebase:firebase-perf:10.2.6'</span></span></code> </pre> <br>  and under apply plugin: 'com.android.application' <br><br><pre> <code class="javascript hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">'com.google.firebase.firebase-perf'</span></span></code> </pre> <br>  Voila, the service is connected, now automatic traces are started when the application starts. <br><br>  Since there are not enough automatic traces, it is possible to create custom traces using the API provided by the SDK.  They can be supplemented with performance counters related to performance, for example, the number of times the UI has been unavailable for longer than a specified period of time. <br><br>  Custom traces are added very simply, before the section of code that we want to trace we add: <br><br><pre> <code class="javascript hljs">Trace myTrace = FirebasePerformance.getInstance().newTrace(<span class="hljs-string"><span class="hljs-string">"test_trace"</span></span>); myTrace.start();</code> </pre><br>  and after the plot <br><br><pre> <code class="javascript hljs">myTrace.stop();</code> </pre> <br>  I added the tracing of the download image to the chat, well, for the sake of interest, add a counter <br><br><pre> <code class="javascript hljs">myTrace.incrementCounter(<span class="hljs-string"><span class="hljs-string">"storage_load"</span></span>);</code> </pre> <br>  But the results in the console are not immediately available, they will appear there within 12 hours. <br><br><img src="https://habrastorage.org/web/b23/e20/b45/b23e20b4549a4f30a6a258845c0c2f54.png"><br><br><h2>  Advanced Analytics </h2><br>  To begin with, Firebase Analytics no longer exists, now the service is called <b>Google Analytics for Firebase</b> , and this is no accident.  The service was developed jointly by the Firebase and Google Analytics teams, and all reports are now available not only in the Firebase console, but also in the Google Analytics interface. <br><br><img src="https://habrastorage.org/web/059/c44/55d/059c4455d8714d7c8a1b3f5de52da874.png"><br><br><img src="https://habrastorage.org/web/7ee/dae/cc8/7eedaecc84fc4dd794eab269bca59cd9.png"><br><br>  New report types StreamView and DebugView were presented at the beginning of the year, but this does not detract from their degree of usefulness.  StreamView visualizes events as they arrive in Firebase Analytics and provides an overview of how your users interact with your application in real time, rather than with a delay of up to 12 hours.  And with DebugView, you can see at a glance which events are logged. <br><br><img src="https://habrastorage.org/web/fc9/7e8/666/fc97e86662264794b4ec1060d9a113e2.png"><br><br>  And one more news that everyone has been waiting for, now analytic <b>information on user events and parameters can be viewed in reports directly in the console</b> , and not upload data to BigQuery, as it was necessary earlier.  To do this, just adjust the report parameters in the same console. <br><br>  Added all sorts of interesting features, integration with AdMob, automatic Screen Tracking, free Storage Tier in BigQuery ....  so I suppose that analytics still have to write a separate article. <br><br><h2>  Firebase SDK - now in open source </h2><br>  Yes it is.  The source code for the Firebase SDK is now available for review on GitHub.  Not all of course, at the moment, the source is available <a href="https://github.com/firebase/firebase-ios-sdk">Firebase iOS SDK 4.0</a> , <a href="https://github.com/firebase/firebase-js-sdk">Firebase JavaScript SDK 4.0</a> and Firebase Admin SDKs ( <a href="https://github.com/firebase/firebase-admin-node">Node.js</a> , <a href="https://github.com/firebase/firebase-admin-java">Java</a> and <a href="https://github.com/firebase/firebase-admin-python">Python</a> ).  The following promise to lay out the Android SDK, we look forward to. <br><br><img src="https://habrastorage.org/web/a05/2bd/444/a052bd4445c248338fc7b88feab3025c.png"><br><br>  Now you can correct Google, if something in the code you do not like!  That is, now, if you find any bugs from your point of view, you can simply create an issue through the standard GitHub issue tracker and the Firebase team will consider it.  The entire project can also be found in the <a href="https://opensource.google.com/projects/firebase-sdk">Google Open Source Directory</a> . <br><br><h2>  Pleasant trifles </h2><br>  And finally, I will briefly talk about all the nice little things that have been added to existing services. <br><br>  Realtime Database: <br><br><ul><li>  Expanded capabilities, now available up to 100,000 simultaneous connections </li><li>  Added the ability to profile, profiler allows you to analyze the speed of working with data, throughput and delay time depending on the level </li></ul><br>  Storage: <br><br><ul><li>  Added mapping to existing cloud storage bucket, now you can work with them via Firebase </li><li>  Now you can choose the region in which your data will be stored.  This can be useful both from a legal point of view and in terms of performance. </li></ul><br>  Cloud Messaging: <br><br><ul><li>  Token authentication support for APN has been added, and the connection and registration logic in the client's SDK has been greatly simplified. </li></ul><br>  TestLab: <br><br><ul><li>  Added Game Loop support and FPS monitoring, which, in combination with the Unity SDK and C ++ SDK presented earlier, should make Firebase attractive for game developers. </li><li>  Added the ability to simulate the network level, you can select the connection speed 4G, 3G, etc. </li><li>  In the data center appeared Google Pixel and Galaxy S7 for testing applications on real devices of the latest generation </li><li>  Appeared access to Android O </li></ul><br>  And also, without being tied to any of the services, I‚Äôll add that Swift support was implemented in the iOS SDK, which should please iOS developers working with Firebase. <br><br>  So, what conclusions can be drawn?  Nothing super unexpected and amazing on the I / O was presented.  But Firebase is growing, growing slowly and confidently.  Using its services as a backend it is already possible to create completely competitive applications, analyze their work, manage their promotion and monetize.  And the further, the more interesting tools appears to users. <br><br>  PS: On I / O, an interesting offer was announced from Firebase - <a href="http://firebase.google.com/alpha">Alpha program</a> (it won't open without VPN).  Those who register and express their desire to participate in the program will have the opportunity to check for updates to the Firebase services prior to their release.  They will not be perfect (I think that in some places quite raw), but by taking part in the Alpha community, forming feedback on products that are not yet released, you will help determine the future of Firebase! </div><p>Source: <a href="https://habr.com/ru/post/330488/">https://habr.com/ru/post/330488/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330472/index.html">Form submission tracking with GTM</a></li>
<li><a href="../330474/index.html">All you need to know about Windows Server 2016</a></li>
<li><a href="../330480/index.html">Extending, modifying, and creating controls on the UWP platform. Part 1</a></li>
<li><a href="../330484/index.html">The Future of MDN - Focus on Web Docs</a></li>
<li><a href="../330486/index.html">As the "Pilot" upgraded the fiscal registrar in Fujitsu CCT</a></li>
<li><a href="../330492/index.html">Why you should not compress your data files</a></li>
<li><a href="../330498/index.html">Yii 1.1.19</a></li>
<li><a href="../330500/index.html">Brocade Ethernet Switches</a></li>
<li><a href="../330502/index.html">awless.io, mighty CLI for AWS</a></li>
<li><a href="../330504/index.html">How I participated in the Angular Attack hackathon, and what came of it</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>