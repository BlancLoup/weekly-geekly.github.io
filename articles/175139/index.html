<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Website transfer from Visual Studio 2012 to hosting. Parallels Plesk Panel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 About the development of the site on ASP.NET MVC 3/4 is written enough. At least, what would begin to develop itself. however, almost nothin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Website transfer from Visual Studio 2012 to hosting. Parallels Plesk Panel</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  About the development of the site on ASP.NET MVC 3/4 is written enough.  At least, what would begin to develop itself.  however, almost nothing is written about how to transfer it to a hosting / server.  To me, as a person who came from Linux hosting and PCP, the panel itself, the folders, and the project compilation - everything was new.  There are manuals - if you suffer for a long time, then you can google.  However, it turned out that the requests "to lay out the site, transfer the site, expand the site, create a site" practically do not produce results.  Or you need to flip far enough.  The correct query in this situation is the ‚Äúpublishing site‚Äù.  However, on Habr√© there is the whole of <a href="http://habrahabr.ru/company/microsoft/blog/148866/">Creating a Windows Azure Web Site site and deploying there ASP.NET MVC 4 applications</a> and <a href="http://habrahabr.ru/post/147162/">Publishing an ASP.NET MVC site to an updated Windows Azure</a> .  however, this is for Azure. <br><br>  Also, I ran into the problem that there is no possibility to directly publish the site directly from Visual Studio 2012 to hosting - there is a proxy that does not allow it.  although connect via FileZilla - allows.  I do not know what the problem is, I went to the administrators - they threw up their hands and said that the problem was in my Windows 8 Pro.  Okay.  Not such a problem. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Well, the hosting control panel itself.  There are manuals, but in one place, specifically at the beginning of working with it and deploying the site, there is not enough information.  Especially for "newbies" or PCPs who are used to a bit of the "other" logic of this process.  And some of the information in English.  A programmer is not supposed to be surprised or confused.  But anything can happen. <br><br>  I'll start with hosting.  the panel looks like this: <br><br>  Carefully pictures! <br><a name="habracut"></a><br><h4>  Appearance of Parallels Plesk Panel </h4><br><br><img src="https://habrastorage.org/storage2/118/fba/609/118fba60928106ef05cd569843ba3d8a.png"><br><br><img src="https://habrastorage.org/storage2/ced/bde/864/cedbde8643c8613d9bdd35856168ed87.png"><br><br><img src="https://habrastorage.org/storage2/c45/1a8/e98/c451a8e9883d6d595536d7121ae25c52.png"><br><br><img src="https://habrastorage.org/storage2/d37/0e5/0e9/d370e50e9a9e82921a30c0177c696781.png"><br><br><img src="https://habrastorage.org/storage2/427/e1b/62a/427e1b62aa79f378447ccae3aba3e124.png"><br><br><img src="https://habrastorage.org/storage2/081/888/019/081888019395d6bcfc0d29250f8e0e22.png"><br><br><h4>  Creating a database.  Changing the settings for connecting to the database. </h4><br><br>  First, create a database.  To do this, go to "Sites and domains" - "Databases" - "Add a database."  Choose which database to create.  I have a choice between MySql and MsSql.  Enter the name. <br><br><img src="https://habrastorage.org/storage2/c05/d1d/f04/c05d1df04d83d2d3a2cf7e689863417e.png"><br><br>  We return to the "Database".  Select just created. <br><br><img src="https://habrastorage.org/storage2/1de/e58/01f/1dee5801f883171dbc079c33ebc458c1.png"><br><br>  Select "Add user".  Enter the required data. <br><br><img src="https://habrastorage.org/storage2/eac/b18/a98/eacb18a987f7f5b6b3b80f861edd6685.png"><br><br>  Everything.  We remember all the data.  Open Web.config and change the connection string to the database, where ‚ÄúCatalog‚Äù is the database name, ‚ÄúUser‚Äù is the user name, and ‚ÄúPassword‚Äù is the password, respectively. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DefaultConnection"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">connectionString</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Data Source=.\MSSQLSERVER2008;Integrated Security=false;Initial Catalog=hedinco_zf2;User ID=dub;Password=1qaz2wsx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">providerName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Data.SqlClient"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><br>  Also, when transferring a project, I had an error because of the name of the connection, with the name ‚ÄúLocalSqlServer‚Äù.  I found a solution in Google.  Add a connection string with that name.  As a result, the connection section is as follows: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">connectionStrings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DefaultConnection"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">connectionString</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Data Source=.\MSSQLSERVER2008;Integrated Security=false;Initial Catalog=hedinco_zf2;User ID=dub;Password=1qaz2wsx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">providerName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Data.SqlClient"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">remove</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LocalSqlServer"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LocalSqlServer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">connectionString</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Data Source=.\MSSQLSERVER2008;Integrated Security=false;Initial Catalog=hedinco_zf2;User ID=dub;Password=1qaz2wsx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">providerName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Data.SqlClient"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">connectionStrings</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Add your connection for DbContext if necessary. <br><br><h4>  Additional settings before compiling the site </h4><br><br>  You need to add in the same Web.config line: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system.web</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">customErrors</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Off"</span></span></span><span class="hljs-tag">/&gt;</span></span> ....</code> </pre><br><br>  It is necessary to check that the dll row is copied to the bin daddy during compilation. <br><ul><li>  System.Web.Helpers </li><li>  System.Web.Mvc </li><li>  System.Web.Razor </li><li>  System.Web.WebPages </li><li>  System.Web.WebPages.Deployment </li><li>  System.Web.WebPages.Razor </li></ul><br><br>  To do this, in the ‚ÄúReferences‚Äù Solution Explorer, we find the necessary libraries, and in the properties, if necessary, change ‚ÄúCopy locally‚Äù from ‚ÄúFalse‚Äù to ‚ÄúTrue‚Äù.  Normally initially worth True.  But check does not hurt. <br><br>  Also, I would like to note that there were problems with the output of the default page.  Physically, the addresses " <a href="http://hedin.com.ua/">hedin.com.ua</a> " and " <a href="http://hedin.com.ua/home/index">hedin.com.ua/home/index</a> " refer to the same controller and method.  But in the first case I was thrown at " <a href="http://hedin.com.ua/cgi-sys/defaultwebpage.cgi">hedin.com.ua/cgi-sys/defaultwebpage.cgi</a> " and gave an error <br><pre> <code class="html hljs xml">Server Error in '/' Application. The resource cannot be found. Description: HTTP 404. The resource you are looking for (or one of its dependencies) could have been removed, had its name changed, or is temporarily unavailable. Please review the following URL and make sure that it is spelled correctly. Requested URL: /cgi-sys/defaultwebpage.cgi</code> </pre><br><br>  I added a route for an empty address to the RouteConfig.cs file and everything became normal: <br><br><pre> <code class="hljs pgsql"> routes.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span>: "Root", url: "", defaults: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Home", action = "Index" } );</code> </pre><br><br><h4>  Compiling and publishing site </h4><br><br>  Stop debugging if it was running. <br>  Select the desired project in the decision browser, click the right mouse button and select "Publish ..." <br><br>  The first thing that appears is the profile.  If not, select ‚ÄúCreate‚Äù in the drop-down list. <br><br>  The next tab is ‚ÄúConnection‚Äù.  Since there is no direct access via FTP, we select ‚ÄúFile System‚Äù. We select a daddy where to copy the compiled site, ready for uploading to the server.  You can also select "FTP" and upload directly to the hosting.  Then you will need to specify the connection data. <br><br>  Further.  "Options".  Choose Release / Debug.  Put a tick "Delete existing files."  In order to always get an exact copy of the site that worked for us in Visual Studio. <br><br>  Click the "Publish" button in the lower right corner of the window. <br><br>  So.  We received the necessary files that are left to be copied to the server. <br><br><h4>  Copying a site to hosting via FTP </h4><br><br>  Open FileZilla or another convenient FTP client.  Connect to the server.  I have the following directory tree: <br><br><img src="https://habrastorage.org/storage2/893/483/96b/89348396b3ea88f8a2135e6536f065e9.png"><br><br>  We go to the daddy "httpdocs" (analogue of "www / public / public_html" on Linux servers).  And delete all the content (if the hosting is new), or just update the necessary folders / files.  Copy into it the contents of the directory where we Visual Studio published the site. <br><br><h4>  Edit ASP.NET settings </h4><br><br>  In the admin panel "Sites and Domains", select the button "Show (hide) advanced operations", "ASP.NET Settings". <br>  There will be a button "Change version".  Choose the right one.  By default, I was 2. I chose 4. Note that you need to create a project in Visual Studio with a netframework that supports hosting.  I tried to create it under 4.5 - it did not start. (Although, if, for example, you create a site on php 5.4 and hosting 5.3, but the project does not use "5.4 chips", the site will work fine). <br>  Click save. <br><br>  Everything.  We go into the browser, and if your DNS has already been updated and attached (hosting domain), you will see your website running on the Internet. <br>  I studied on a standard project created by VS. <br><br>  If the domain is not yet attached to the hosting, or has not yet been purchased, you can view it using your hosting IP.  To do this, go to the admin panel on the ‚ÄúSites and Domains‚Äù.  Scroll to the bottom.  We see the name of our domain, but against the button.  The first of them allows you to preview the site. <br><br><img src="https://habrastorage.org/storage2/339/e51/d89/339e51d89ff53b9f5b062bc635fdbd95.png"><br><br>  P.S.  If you have found inaccuracies, errors, or there is a way to do better, I will be glad to know and, if possible, correct. </div><p>Source: <a href="https://habr.com/ru/post/175139/">https://habr.com/ru/post/175139/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../175121/index.html">Writing multi-threaded applications for a Windows store using Intel Threading Building Blocks - now with a DLL</a></li>
<li><a href="../175125/index.html">III Forum Apps4All: free for habr developers</a></li>
<li><a href="../175127/index.html">Test task - long, interesting, but ineffective</a></li>
<li><a href="../175131/index.html">IT exhibition MUK-EXPO 2013 in 2 days</a></li>
<li><a href="../175137/index.html">Live broadcast from ITSM conference in Kiev</a></li>
<li><a href="../175143/index.html">Increase usability by 1000% or ‚Äúpaper prototyping‚Äù</a></li>
<li><a href="../175149/index.html">Fifth round of the Windows Phone Next App Star contest</a></li>
<li><a href="../175151/index.html">Metric # 2 - Podcast on technologies and design of interfaces and services</a></li>
<li><a href="../175155/index.html">What we know about high density servers</a></li>
<li><a href="../175161/index.html">ASP.NET MVC, WebApi, SignalR and UnityContainer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>