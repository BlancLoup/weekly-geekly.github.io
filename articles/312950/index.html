<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simplicity criteria</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The lion's share of programmers with a clear conscience will declare that they prefer to solve problems simply, guided first of all by common sense. T...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simplicity criteria</h1><div class="post__text post__text-html js-mediator-article"><p>  The lion's share of programmers with a clear conscience will declare that they prefer to solve problems simply, guided first of all by common sense.  That's just this "just" everyone has their own and usually different from others.  After one long and unconstructive dispute with a colleague, I decided to state what I consider to be simple myself and why.  This did not lead to immediate agreement, but made it possible to understand each other‚Äôs logic and minimize unnecessary discussions. </p><br><h2 id="pervyy-kriteriy">  First criterion </h2><br><p>  The peculiarities of the human brain are such that it badly stores and distinguishes more than 7-9 elements in one list with the optimum number of 1-3. </p><br><p>  Hence the recommendation - ideally to have no more than three members in the interface, three parameters in the method, and so on, and not to allow an increase in their number over nine. <br>  This criterion can be implemented by means of static analysis. </p><a name="habracut"></a><br><h2 id="vtoroy-kriteriy">  Second criterion </h2><br><p>  The most important thing is in the first two lines of any class. </p><br><ol><li>  Name, type parameters, implemented interfaces. </li><li>  Constructor options. </li></ol><br><p>  As a result, we know about the class all that is needed to use it (name, parameters, inputs, outputs), even without looking at the remaining code. <br>  Of course, this works subject to limitations: </p><br><ol><li>  Avoid inheriting implementations. </li><li>  Avoid dependency injection other than through constructor parameters. </li></ol><br><p>  And this criterion can be implemented by means of static analysis. </p><br><h2 id="tretiy-kriteriy">  Third criterion </h2><br><p>  One type - one task.  Contracts - to interfaces, implementations - to classes, algorithms - to methods! <br>  Multitools are good only if there is nothing else at hand.  Thanks to the first two criteria, writing such types is easy.  Yes, this is the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_%25D0%25B5%25D0%25B4%25D0%25B8%25D0%25BD%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B9_%25D0%25BE%25D0%25B1%25D1%258F%25D0%25B7%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">principle of sole responsibility</a> (and <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_%25D1%2580%25D0%25B0%25D0%25B7%25D0%25B4%25D0%25B5%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F_%25D0%25B8%25D0%25BD%25D1%2582%25D0%25B5%25D1%2580%25D1%2584%25D0%25B5%25D0%25B9%25D1%2581%25D0%25B0">separation of interfaces</a> to the heap) <br>  And here a static analysis will have to be trusted to a person. </p><br><h2 id="chetvertyy-kriteriy">  Fourth criterion </h2><br><p>  Restrictions - the same legal part of the contract, as well as method signatures. <br>  And therefore ... </p><br><ol><li>  Comments in the contract are almost always useful, comments in the implementation code are almost always harmful. </li><li>  DTOs are full-fledged objects whose primitive behavior is rewarded by automatic serialization. </li><li>  Immutable objects - reward us with the convenience of validation, lack of racing and unnecessary copying. </li><li>  The static method is a full-fledged class with no state, all the buns from immutable objects plus less memory traffic. </li><li>  Anonymous delegates and lambdas replace the bundle of the interface class with one method, allowing you to throw out two extra types and demonstrate the call signature right in the code. </li><li>  Add the rest of the fake objects to your liking. </li></ol><br><p>  Static analysis here can help only with recommendations on the use of simpler variants of types, if they are seen. </p><br><h2 id="pyatyy-kriteriy">  Fifth criterion </h2><br><p>  Maximum convenience for reuse. <br>  Use interface inheritance, avoid implementation inheritance and get three sources of code reuse </p><br><ol><li>  Contract reuse is very useful, even if no ready-made implementation has come up. </li><li>  Reuse of implementations - wherever a contract is accepted, an already written implementation can be used. </li><li>  Client code reuse - all code that works with the interface (including tests) can be reused with each new implementation. </li></ol><br><p>  Yes, this is <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_%25D0%25BF%25D0%25BE%25D0%25B4%25D1%2581%25D1%2582%25D0%25B0%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B8_%25D0%2591%25D0%25B0%25D1%2580%25D0%25B1%25D0%25B0%25D1%2580%25D1%258B_%25D0%259B%25D0%25B8%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B2">the Liskov principle of substitution</a> in the simplest and most practical way possible. <br>  A static analyzer may report unwanted implementation inheritance. <br>  Also, do not hide the types or methods "just in case."  Everything should be public, except for the fact that it is necessary to hide them as implementation details. </p><br><h2 id="shestoy-kriteriy">  Sixth criterion </h2><br><p>  Your types should be simpler for composition, decoration, adaptation, facade organization, etc., than for change.  With previous criteria, this is easy to achieve. <br>  This will allow as many changes as possible to add to the addition of new code instead of rewriting the current one, which will reduce the regression and the need to edit old tests as well. <br>  A perfect example is interface extension methods that add functionality on the one hand and do not change the original contract and implementation on the other. <br>  Yes, this is the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_%25D0%25BE%25D1%2582%25D0%25BA%25D1%2580%25D1%258B%25D1%2582%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8/%25D0%25B7%25D0%25B0%25D0%25BA%25D1%2580%25D1%258B%25D1%2582%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">principle of openness-closeness</a> . <br>  No, static analysis is of little help here. </p><br><h2 id="sedmoy-kriteriy">  Seventh criterion </h2><br><p>  The types of constructor parameters should speak as much as possible about how to use their meaning. <br>  For example: </p><br><ol><li>  IService - the service needed to implement </li><li>  Lazy &lt;IService&gt; is a service that may not be present at the start, you should read the Value property to start using, a pause is possible at the first call. </li><li>  Task &lt;IResource&gt; - a resource that is obtained asynchronously </li><li>  Func &lt;IArgument, IResource&gt; - parameterized resource factory </li><li>  Usable &lt;IResource&gt; - a resource that is needed up to a certain point; you can report the end of use by calling the Dispose method. </li></ol><br><p>  Alas, static analysis does little to help. </p><br><h2 id="vosmoy-kriteriy">  Eighth criterion </h2><br><p>  Small types are better than large ones, since even poorly designed or realized small types are much easier to fix, rewrite or delete compared to large ones. <br>  A large number of small types is not in itself a fatal problem, since types are not a list, but a graph.  In the head at the same time it is enough to keep the connections of the current type, and their number is limited by the first criterion. </p><br><h2 id="devyatyy-kriteriy">  Ninth criterion </h2><br><p>  Type dependencies between themselves must be limited </p><br><ol><li>  Cycles in the type column should be avoided. </li><li>  You should also avoid direct references of implementations to each other. </li><li>  It is highly desirable to use the pattern-splitting patterns, adding a constraint on the dependencies between the types of different layers on each other. </li></ol><br><p>  The goal is to maximally simplify the type dependency graph.  This helps both when navigating through the code, and in determining the possible affect of certain changes. <br>  Yes, this criterion includes the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_%25D0%25B8%25D0%25BD%25D0%25B2%25D0%25B5%25D1%2580%25D1%2581%25D0%25B8%25D0%25B8_%25D0%25B7%25D0%25B0%25D0%25B2%25D0%25B8%25D1%2581%25D0%25B8%25D0%25BC%25D0%25BE%25D1%2581%25D1%2582%25D0%25B5%25D0%25B9">principle of dependency inversion</a> . <br>  Yes, static analysis can help. </p><br><h2 id="desyatyy-kriteriy">  Tenth criterion </h2><br><p>  Same as the ninth criterion, but for assemblies.  Strongly simplifies life and speeds up the assembly, especially if you immediately design with its account.  For contract assemblies, it is easier to maintain backward compatibility (published contracts do not change).  Builds with implementations can be replaced entirely - they still do not directly depend on each other. <br>  By means of static analysis, it is possible to prohibit some assemblies from referring to others. </p><br><h2 id="odinnadcatyy-kriteriy">  Eleventh criterion </h2><br><p>  All previous criteria may be violated if necessary optimization.  But one thing, in my opinion, always works: <br>  It is easier to optimize the correct code than to adjust the optimized one. </p><br><h1 id="itogi">  Results </h1><br><p>  A written statement of my own ideas clarified a lot for me. <br>  I would like to see your criteria for simplicity in the comments. <br>  Mentioning static analysis means the possibility of implementation, and not its presence at the current moment. <br>  Additions and criticism are traditionally welcome. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/312950/">https://habr.com/ru/post/312950/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312934/index.html">Setting up a dedicated Source server for Linux, part 3</a></li>
<li><a href="../312936/index.html">Setting up a Source Source Server for Linux, Part 4</a></li>
<li><a href="../312940/index.html">Free courses, books and other development materials</a></li>
<li><a href="../312942/index.html">What's new in Swift 3?</a></li>
<li><a href="../312948/index.html">How I created seamless Wi-Fi</a></li>
<li><a href="../312952/index.html">Entertaining task ‚ÄúUnlucky Ticket‚Äù (Elixir edition)</a></li>
<li><a href="../312954/index.html">How to find subdomains in minutes?</a></li>
<li><a href="../312956/index.html">Use Veeam Cloud Connect. Store client backups and replicas</a></li>
<li><a href="../312958/index.html">7 services for monitoring sites</a></li>
<li><a href="../312962/index.html">Incomplete Google AMP technology denies mobile traffic sites.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>