<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We get rid of Amigo, MailUpdater, Yandex Browser and others</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The whole story is that it is possible in principle to prohibit the installation of programs in the domain by means of a GPO, and in this case during ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We get rid of Amigo, MailUpdater, Yandex Browser and others</h1><div class="post__text post__text-html js-mediator-article">  The whole story is that it is possible in principle to prohibit the installation of programs in the domain by means of a GPO, and in this case during the installation an account login / password with the necessary rights will be requested.  But here's a bad luck - programs like those specified in the title of the article (+ browser manager, Unity Player, etc.) are installed in the user's folder and successfully work in the system.  Found a very simple (article just 1 page) way to get rid of Amigo once and for all!  Who cares, I ask under the cat. <br><a name="habracut"></a><br>  Google on this topic issues articles that describe the algorithm for banning the installation of software for a publisher's certificate.  The method is good, but time consuming, and the certificates can change, and pulling them out of the installer is problematic ... in the end, I never managed to implement it.  My algorithm is very simple: <br><br>  We know that ‚Äúfavorite‚Äù by all admins programs are installed in the c: \ Users \% username% \ AppData \ Local folder (correct if there are still hidden places).  So it occurred to me that if we create folders with the names of programs we don't need ourselves, and remove all ntfs rights for them, it turns out that the program simply cannot be installed in the right folder. <br><br>  So, this script: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs dos">::      <span class="hljs-built_in"><span class="hljs-built_in">rmdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Mail.Ru /s /q <span class="hljs-built_in"><span class="hljs-built_in">rmdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\MailRu /s /q <span class="hljs-built_in"><span class="hljs-built_in">rmdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Unity /s /q <span class="hljs-built_in"><span class="hljs-built_in">rmdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Amigo /s /q <span class="hljs-built_in"><span class="hljs-built_in">rmdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Apps /s /q ::  <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Mail.Ru <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\MailRu <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Unity <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Amigo <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Apps ::  (    ) <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> y|<span class="hljs-built_in"><span class="hljs-built_in">cacls</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Mail.Ru /C /G domain.ru\adminuser:F <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> y|<span class="hljs-built_in"><span class="hljs-built_in">cacls</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\MailRu /C /G domain.ru\adminuser:F <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> y|<span class="hljs-built_in"><span class="hljs-built_in">cacls</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Unity /C /G domain.ru\adminuser:F <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> y|<span class="hljs-built_in"><span class="hljs-built_in">cacls</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Amigo /C /G domain.ru\adminuser:F <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> y|<span class="hljs-built_in"><span class="hljs-built_in">cacls</span></span> c:\Users\<span class="hljs-variable"><span class="hljs-variable">%username%</span></span>\AppData\Local\Apps /C /G domain.ru\adminuser:F</code> </pre> <br><br>  As you can see, the list of programs in the example is small (Mail.Ru and MailRu are from the games of mail and satellite, UnityPlayer, Amigo, Apps - I saw something bad there). <br><br>  The list can be replenished with any noticed programs that create their own folder, the main thing is to know the name of such a folder.  There are a lot of nasty things, like Browser Manager, nichrome, bromium and others.  While this has not come to us, I cannot find out the names of the folders, but everything is in your hands! <br><br>  Then everything is simple - we put the launch of this file in logon scripts, or in scheduled tasks (for the user when entering the system), and enjoy the result!  It works in Win7 100%, Amigo, for example, does not even produce any errors, it is simply not installed. <br><br>  ps Amigo and other rubbish can run before the script, thus will not allow to delete your folder.  To make everything clear, you need to rewrite the script so that it scans all the folders of all computer users for bad guys and put it on execution when the computer starts.  I am overwhelmed with emotions, I rather wanted to write an article, so complete the script yourself to the desired state. <br><br>  pss Please do not say that the script is written ugly ugly, and everything can be done in a loop through the list of folders, etc. ... It is simplified for clarity, the simplicity of the idea as a whole. </div><p>Source: <a href="https://habr.com/ru/post/269321/">https://habr.com/ru/post/269321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269307/index.html">TemplateEngine.Docx - OpenSource .NET docx template engine for documents</a></li>
<li><a href="../269309/index.html">Apple fixed vulnerabilities in its products</a></li>
<li><a href="../269311/index.html">ECMA-130 (Compact Disc) on the fingers</a></li>
<li><a href="../269313/index.html">Microsoft will add support for the Clang compiler in the November update of Visual Studio 2015</a></li>
<li><a href="../269315/index.html">Convert video file to gif</a></li>
<li><a href="../269323/index.html">Introduce the anti-spam tool in personal messages on My Circle</a></li>
<li><a href="../269325/index.html">And a little more about auto-tuning textarea</a></li>
<li><a href="../269327/index.html">Using speech recognition and speech synthesis to learn English on iPhone / iPad. Aspects of copyright on techniques. My experience</a></li>
<li><a href="../269329/index.html">Hyper-V vNext - VM versions and new functionality</a></li>
<li><a href="../26933/index.html">Speeding up: Opera 9.50 build 10048 released</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>