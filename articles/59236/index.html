<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We combine twitter.com and vkontakte.ru</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Do you use twitter? If the answer is "Yes", then you are welcome under the cat, where you will be told about the method of automatically reposting mes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We combine twitter.com and vkontakte.ru</h1><div class="post__text post__text-html js-mediator-article">  Do you use twitter?  If the answer is "Yes", then you are welcome under the cat, where you will be told about the method of automatically reposting messages from twitter to the status of a message on the site vkontakte.ru using python. <br><a name="habracut"></a><br>  What is twitter?  This is how the developers themselves answer this question: <br>  Twitter is a service for friends, family, and co-workers to communicate and keep in touch by sharing quick, frequent answers to one simple question: What are you doing? <br><br>  But in the Russian-language twitter at the moment, only 17 thousand users (according to Bobuk).  And, unfortunately, not all my friends, relatives and colleagues are registered on twitter.com and do not rush to register there, even after colorful stories how everything is rosy and beautiful.  But all my friends are hooked on the site vkontakte.ru.  Here they spend a lot of their free and not very time online (and some sit here and with portable devices, which for me personally is somehow weird). <br><br>  Therefore, the logical idea was to combine these two services in any way.  I want to say that this idea is not new at all and there is even a specialized service, we promote it a bit: <a href="http://vtwittere.ru/" title="Vtvitetere">VTwitter</a> .  But personally, I don‚Äôt like to give my passwords to anyone (I‚Äôm not a user, no offense;). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Actually, that's how we got to the goal of this article.  We will link the status of the VKontakte message and twitter by means of a python script that will read the latest message from Twitter, check the VKontakte status and, in case of discrepancy, update the status of the message in the contact.  We give the script to be devoured by your OS scheduler and rejoice.  I will tell you how to do this on a Linux machine using cron.  On Windows, only work with the scheduler will change. <br><br>  And so to begin with we will prepare an environment for work.  We will need two libraries for python: <br><ul><li>  library for working with <a href="http://andrewprice.me.uk/projects/twyt/" title="API Twitter">the Twitter API</a> ; </li><li>  library to work with <a href="http://pypi.python.org/pypi/simplejson/" title="json">json</a> . </li></ul>  Download and unpack.  In principle, we will only need the twyt and simplejson folders, which need to be placed in the same folder as our future script.  Or you can simply install these libraries for python in the system - read the corresponding readme. <br><br>  We now turn to the preparation of confidential information that we need.  To get started, we need a twitter login and password.  It's simple. <br>  Now vkontakte site.  Because  we write a script for ourselves, not a service, we will not produce a sing-in every time on the contact in order to get cookies.  Instead, we will use ready-made cookies, which we will get in the browser.  From the cook we will need: <br><ul><li>  remixpass - password hash; </li><li>  remixmid - id of the user of the contact (you can not get it from the cook); </li><li>  remixemail - your email for login (also just known). </li></ul>  And now an interesting point.  We will need a special confirmation code for the status change operation.  Each user of contact has his own and how it is generated is not known to me.  But it is contained in the code of your main page (user profile).  Therefore, open the source code of the page and look for there <u>activityhash</u> .  This should be an md5 hash of something like this: 876daef42dfe20351bbf31c2a9847c6d. <br><br>  Now we have everything ready for writing code.  Then I will show all the code at once.  He is very well commented and, in principle, there should be no problems with his understanding, and if there are, comments at the bottom of the page. <br><br><blockquote><ol><li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> # -*- coding: utf8 -*- <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json #    <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> # : <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> # : tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> #     cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li></li><li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#483d8b"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : """      """ <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> #      .   ,     mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> #    mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> #  , re.I ‚Äî   parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> #   finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> #    (   ), <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> #     (     ,     ) <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> #   cp1251 <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li></li><li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#483d8b"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : """   """ <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> #   t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> # t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> #   (count=1) response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> #    json- <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> #   <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> # json     json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> #    (    ) <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: #    twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#483d8b"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : """ ,  """ <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> #   <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> #POST    : post = {'key1' : 'value1', 'key2' : 'value2'} <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : #        post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> #     opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> #  <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> #      request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> #   <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> #   request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> #   <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> #  handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> #   data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> #  handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data #   <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : #   status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> #   content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> #     <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: #     <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> #      setactivity,    utf8, <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> # activityhash      post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> #       <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> #        .      . content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></i></font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> <font color="black">)</font></font></code> </li> <li> <code><font color="black"><font color="black"><font color="#808080"><i>#!/usr/bin/env python</i></font> <font color="#808080"><i># -*- coding: utf8 -*-</i></font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">urllib2</font> , <font color="#dc143c">urllib</font> <font color="#ff7700"><b>import</b></font> <font color="#dc143c">re</font> <font color="#ff7700"><b>from</b></font> twyt <font color="#ff7700"><b>import</b></font> twitter <font color="#ff7700"><b>import</b></font> simplejson <font color="#ff7700"><b>as</b></font> json <font color="#808080"><i>#   </i></font> <font color="#808080"><i># :</i></font> <font color="#dc143c">email</font> = <font color="#483d8b">'lalala@mail.ru'</font> <font color="#008000">id</font> = <font color="#483d8b">'23'</font> <font color="#008000">hash</font> = <font color="#483d8b">'191aeb36d7876f9337ca61707b56d5882'</font> activityhash = <font color="#483d8b">'982daef72dfd20321bbf31cia01347c6d'</font> <font color="#808080"><i># :</i></font> tw_login = <font color="#483d8b">'Twitter_login'</font> tw_passwrd = <font color="#483d8b">'Twitter_pass'</font> <font color="#808080"><i>#    </i></font> cookies_string = <font color="#483d8b">'remixemail='</font> + <font color="#dc143c">email</font> + <font color="#483d8b">';remixmid='</font> + <font color="#008000">id</font> + <font color="#483d8b">';remixpass='</font> + <font color="#008000">hash</font> <font color="#ff7700"><b>def</b></font> get_vkontakt_status <font color="black">(</font> text <font color="black">)</font> : <font color="#483d8b">"""      """</font> <font color="#808080"><i>#      .   ,    </i></font> mask_link = <font color="black">(</font> r <font color="#483d8b">';return false;"&gt;'</font> , r <font color="#483d8b">'&lt;/a&gt;&lt;br /&gt;'</font> <font color="black">)</font> <font color="#808080"><i>#   </i></font> mask = r <font color="#483d8b">"(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> +r <font color="#483d8b">")(.*)(?:"</font> +mask_link <font color="black">[</font> <font color="#ff4500">1</font> <font color="black">]</font> +r <font color="#483d8b">")"</font> <font color="#808080"><i>#  , re.I ‚Äî  </i></font> parsed= <font color="#dc143c">re</font> . <font color="#008000">compile</font> <font color="black">(</font> mask, <font color="#dc143c">re</font> . <font color="black">I</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> finish = parsed. <font color="black">findall</font> <font color="black">(</font> text <font color="black">)</font> <font color="#808080"><i>#    (   ),</i></font> <font color="#808080"><i>#     (     ,     )</i></font> <font color="#808080"><i>#   cp1251</i></font> <font color="#ff7700"><b>return</b></font> finish <font color="black">[</font> <font color="#ff4500">0</font> <font color="black">]</font> <font color="black">[</font> <font color="#ff4500">0</font> :- <font color="#ff4500">1</font> <font color="black">]</font> . <font color="black">decode</font> <font color="black">(</font> <font color="#483d8b">'cp1251'</font> <font color="black">)</font> <font color="#ff7700"><b>def</b></font> get_twit_status <font color="black">(</font> login, passwrd <font color="black">)</font> : <font color="#483d8b">"""   """</font> <font color="#808080"><i>#  </i></font> t = twitter. <font color="black">Twitter</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i>#</i></font> t. <font color="black">set_auth</font> <font color="black">(</font> login, passwrd <font color="black">)</font> <font color="#808080"><i>#   (count=1)</i></font> response = t. <font color="black">status_user_timeline</font> <font color="black">(</font> count= <font color="#ff4500">1</font> <font color="black">)</font> <font color="#808080"><i>#    json-</i></font> <font color="#808080"><i>#  </i></font> <font color="#808080"><i># json    </i></font> json_objs = json. <font color="black">loads</font> <font color="black">(</font> response <font color="black">)</font> <font color="#808080"><i>#    (    )</i></font> <font color="#ff7700"><b>for</b></font> json_obj <font color="#ff7700"><b>in</b></font> json_objs: <font color="#808080"><i>#   </i></font> twit = json_obj <font color="black">[</font> <font color="#483d8b">'text'</font> <font color="black">]</font> <font color="#ff7700"><b>return</b></font> twit <font color="#ff7700"><b>def</b></font> get_page <font color="black">(</font> url, post= <font color="#008000">None</font> , cookies= <font color="#008000">None</font> , timeout= <font color="#008000">None</font> , referer= <font color="#008000">None</font> <font color="black">)</font> : <font color="#483d8b">""" ,  """</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> timeout: <font color="#dc143c">urllib2</font> . <font color="#dc143c">socket</font> . <font color="black">setdefaulttimeout</font> <font color="black">(</font> timeout <font color="black">)</font> <font color="#808080"><i>#POST    : post = {'key1' : 'value1', 'key2' : 'value2'}</i></font> <font color="#ff7700"><b>if</b></font> post <font color="#66cc66">!</font> = <font color="#008000">None</font> : <font color="#808080"><i>#       </i></font> post = <font color="#dc143c">urllib</font> . <font color="black">urlencode</font> <font color="black">(</font> post <font color="black">)</font> <font color="#808080"><i>#    </i></font> opener = <font color="#dc143c">urllib2</font> . <font color="black">build_opener</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i>#     </i></font> request = <font color="#dc143c">urllib2</font> . <font color="black">Request</font> <font color="black">(</font> url, post <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> referer <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Referer'</font> , referer <font color="black">)</font> <font color="#808080"><i>#  </i></font> request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'User-Agent'</font> , <font color="#483d8b">'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10) Gecko/2009042523 Ubuntu/9.04 (jaunty) Firefox/3.0.10'</font> <font color="black">)</font> <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> cookies <font color="#66cc66">!</font> = <font color="#008000">None</font> : request. <font color="black">add_header</font> <font color="black">(</font> <font color="#483d8b">'Cookie'</font> , cookies <font color="black">)</font> <font color="#808080"><i># </i></font> <font color="#808080"><i># </i></font> handle = opener. <font color="#008000">open</font> <font color="black">(</font> request <font color="black">)</font> <font color="#808080"><i>#  </i></font> data = handle. <font color="black">read</font> <font color="black">(</font> <font color="black">)</font> <font color="#808080"><i># </i></font> handle. <font color="black">close</font> <font color="black">(</font> <font color="black">)</font> <font color="#ff7700"><b>return</b></font> data <font color="#808080"><i>#  </i></font> <font color="#ff7700"><b>if</b></font> __name__ == <font color="#483d8b">"__main__"</font> : <font color="#808080"><i>#  </i></font> status_twitter = get_twit_status <font color="black">(</font> tw_login, tw_passwrd <font color="black">)</font> <font color="#808080"><i>#  </i></font> content = get_page <font color="black">(</font> <font color="#483d8b">'http://vkontakte.ru/'</font> , cookies=cookies_string <font color="black">)</font> status_vkontakt = get_vkontakt_status <font color="black">(</font> content <font color="black">)</font> <font color="#808080"><i>#    </i></font> <font color="#ff7700"><b>if</b></font> status_twitter <font color="#66cc66">!</font> = status_vkontakt: <font color="#808080"><i>#    </i></font> <font color="#808080"><i>#      setactivity,    utf8,</i></font> <font color="#808080"><i># activityhash     </i></font> post_array = <font color="black">{</font> <font color="#483d8b">'setactivity'</font> : status_twitter. <font color="black">encode</font> <font color="black">(</font> <font color="#483d8b">"utf8"</font> <font color="black">)</font> , <font color="#483d8b">'activityhash'</font> :activityhash <font color="black">}</font> <font color="#808080"><i>#      </i></font> <font color="#808080"><i>#        .      .</i></font> content = get_page <font color="black">(</font> url= <font color="#483d8b">'http://vkontakte.ru/profile.php'</font> , post=post_array, cookies=cookies_string, referer= <font color="#483d8b">'http://vkontakte.ru/id'</font> + <font color="#008000">id</font> )</font></font></code> </li> </ol><br></blockquote><br><br>  Save it all to a file, for example, twitter_in_vkon.py.  We make sure that the library folders are in the same folder, give permission to run chmod + x ./twitter_in_vkon.py and run the script ./twitter_in_vkon.py.  Everything should work: the last message from Twitter will be transferred to the contact;). <br><br>  Now I will tell how to screw all this to a local / remote scheduler like cron.  Screwing on it is unclear why everyone recently annoying Ubuntu.  Others may be different. <br>  We carry out: <br><blockquote><ol><li>  crontab <font color="#660033">-e</font> </li></ol><br></blockquote>  We are opened with a cron file with tasks and the frequency of their execution (by default it is empty).  Add here the launch of our script every five minutes.  To do this, insert the line into the file: <br><blockquote><ol><li>  <font color="#000000"><b>* /</b></font> <font color="#000000">5</font> <font color="#000000"><b>*</b></font> <font color="#000000"><b>*</b></font> <font color="#000000"><b>*</b></font> <font color="#000000"><b>*</b></font> <font color="#000000"><b>/</b></font> etc <font color="#000000"><b>/</b></font> path_to our_script <font color="#000000"><b>/</b></font> twitter_in_vkon.py </li></ol><br></blockquote>  And restart cron: <br><blockquote><ol><li>  <font color="#c20cb9"><b>sudo</b></font> <font color="#000000"><b>/</b></font> etc <font color="#000000"><b>/</b></font> init.d <font color="#000000"><b>/</b></font> cron restart </li></ol><br></blockquote>  or <blockquote><ol><li>  <font color="#c20cb9"><b>sudo</b></font> service cron restart </li></ol><br></blockquote>  Those who want to read more about setting up cron will execute the command man cron =). <br>  That's all.  As a result, we have an automatic reposting of our tweets to the status of a contact message.  Give microblogging to the masses!  =) <br><br>  UPD <br>  <a href="https://habrahabr.ru/users/arti_kz/" class="user_link">arti_kz</a> suggested a logical patch that excludes posting replays. <br>  Change line 114 to: <br>  if (status_twitter! = status_vkontakt) and (status_twitter [0]! = '@'): </div><p>Source: <a href="https://habr.com/ru/post/59236/">https://habr.com/ru/post/59236/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../59216/index.html">For 44% of Runet users, Internet is more important than food and clothing.</a></li>
<li><a href="../59222/index.html">Happy Victory Day!</a></li>
<li><a href="../59223/index.html">Happy Victory Day!</a></li>
<li><a href="../59225/index.html">Russian Windows 7 RC1 for x86</a></li>
<li><a href="../59229/index.html">qiwi.ru escapes without warning</a></li>
<li><a href="../59237/index.html">Using EAC with Wine</a></li>
<li><a href="../59239/index.html">Work with medical data</a></li>
<li><a href="../59240/index.html">Where does the [mathematician - programmer] bachelor go?</a></li>
<li><a href="../59242/index.html">Downgrade Debian: from testing to stable</a></li>
<li><a href="../59243/index.html">Installing a mercurial repository on a debian server with apache2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>