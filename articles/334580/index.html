<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create your own software 3D-engine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Part 1: points, vectors and basic principles 
 Modern three-dimensional game engines used in major projects are a subtle blend of mathematics and prog...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create your own software 3D-engine</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0f/cf0/85f/c0fcf085ff50090cd6c8989b2c1144f9.png" alt="image"></div><br><h1>  Part 1: points, vectors and basic principles </h1><br>  Modern three-dimensional game engines used in major projects are a subtle blend of mathematics and programming.  Many game programmers admit that it‚Äôs very difficult to fully understand them.  If you lack experience (or professional education, like me), this task becomes even more difficult.  I want to introduce you to the basics of graphics systems 3D-engines. <br><br>  In this part we will look at the points and vectors, as well as all the interesting things related to them.  If you own the basics of algebra (variables and mathematics of variables) and computer science (the basics of any object-oriented language), then you can understand this article.  But remember, some of the topics will be quite complex. <br><a name="habracut"></a><br><h2>  Basic coordinate systems </h2><br>  Let's start with the basics.  Three-dimensional graphics require the concept of three-dimensional space.  Of all the types of spaces, the Cartesian space is most often used, which allows us to apply Cartesian coordinates (standard entry <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mo" id="MJXp-Span-2" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mo" id="MJXp-Span-4" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.66ex" viewBox="0 -832 2294.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="1904" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> (x, y) </script>  and two-dimensional graphics, which are studied in most schools). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a9f/24a/d31/a9f24ad3156c517fccc75beb425843fd.png"><br>  <i>A curse to poison many schoolchildren</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Three-dimensional Cartesian space gives us the axes x, y and z (describing the position of the horizontal, vertical and depth).  The coordinates of any point in this space are designated as several numbers (in our case there are three numbers, because we have three axes).  On a two-dimensional plane, an entry is denoted as <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-7"><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span class="MJXp-mo" id="MJXp-Span-12" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.66ex" viewBox="0 -832 2294.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="1904" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> (x, y) </script>  , and in three-dimensional space - as <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mo" id="MJXp-Span-14" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mo" id="MJXp-Span-16" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span class="MJXp-mo" id="MJXp-Span-18" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.45ex" height="2.66ex" viewBox="0 -832 3207.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="1904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-7A" x="2349" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="2818" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> (x, y, z) </script>  .  This record ( <i>tuple</i> ) shows the position of a point relative to the original point of space (which is usually denoted as <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-21"><span class="MJXp-mo" id="MJXp-Span-22" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span class="MJXp-mo" id="MJXp-Span-24" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.365ex" height="2.66ex" viewBox="0 -832 3170.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-30" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-30" x="1335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="1835" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-30" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="2781" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> (0,0,0) </script>  . <br><br>  <strong>Hint: A</strong> tuple is an ordered list (or sequence) of elements in computer science or mathematics.  That is a record <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-29"><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K </font></font></span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span class="MJXp-mo" id="MJXp-Span-34" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-36" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mo" id="MJXp-Span-38" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.909ex" height="2.66ex" viewBox="0 -832 4266.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-4B" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-79" x="1724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="2221" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-6C" x="2666" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="2965" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-65" x="3410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="3877" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> (K, y, l, e) </script>  will be a four-element tuple showing the sequence of characters that make up my name. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/630/0c4/227/6300c4227a1f22e57f4c816fb7dbde12.png"><br><br>  In this space we will define a point as a tuple of three elements.  This can be denoted as: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font></span><span class="MJXp-mo" id="MJXp-Span-41" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mo" id="MJXp-Span-42" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mo" id="MJXp-Span-44" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-mo" id="MJXp-Span-48" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.294ex" height="2.66ex" viewBox="0 -832 5293.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-78" x="2475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="3047" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-79" x="3492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="3990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-7A" x="4435" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="4903" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> P = (x, y, z) </script></p><br><br>  In addition to setting the point, we need to define its parts. <br><br>  Each of the elements of a tuple is a <em>scalar</em> number that determines the position along the <em>base vector</em> .  Each basic vector must have a unit length (its length is 1), that is, such tuples as <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-49"><span class="MJXp-mo" id="MJXp-Span-50" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-51"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-53"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-54" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-55"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-56" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.365ex" height="2.66ex" viewBox="0 -832 3170.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-31" x="1335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="1835" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-31" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="2781" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> (1,1,1) </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-57"><span class="MJXp-mo" id="MJXp-Span-58" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-59"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mo" id="MJXp-Span-60" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-61"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mo" id="MJXp-Span-62" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-63"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mo" id="MJXp-Span-64" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.365ex" height="2.66ex" viewBox="0 -832 3170.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-32" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-32" x="1335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="1835" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-32" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="2781" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> (2,2,2) </script>  cannot be basic vectors because they are too long. <br><br>  We define three basic vectors in our space: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-65"><span class="noError" id="MJXp-Span-66" style="display: inline-block;">\&nbsp;begin&nbsp;{aligned}&nbsp;X&nbsp;&amp;&nbsp;=&nbsp;(1,0,0)&nbsp;\\&nbsp;Y&nbsp;&amp;&nbsp;=&nbsp;(0,1,0)&nbsp;\\&nbsp;Z&nbsp;&amp;&nbsp;=&nbsp;(0,0,1)&nbsp;\&nbsp;end&nbsp;{aligned}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><span class="noError" style="display: inline-block;">\&nbsp;begin&nbsp;{aligned}&nbsp;X&nbsp;&amp;&nbsp;=&nbsp;(1,0,0)&nbsp;\\&nbsp;Y&nbsp;&amp;&nbsp;=&nbsp;(0,1,0)&nbsp;\\&nbsp;Z&nbsp;&amp;&nbsp;=&nbsp;(0,0,1)&nbsp;\&nbsp;end&nbsp;{aligned}</span></span></div><script type="math/tex;mode=display" id="MathJax-Element-9"> \ begin {aligned} X & = (1,0,0) \\ Y & = (0,1,0) \\ Z & = (0,0,1) \ end {aligned} </script></p><br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ee/648/afd/0ee648afd925684b5705fc049d30be94.jpg"><br>  <i>Source: http://www.thefullwiki.org/Arithmetics/Cartesian_Coordinate.</i> <br><br><hr><br><h2>  Coordinate system </h2><br>  Now let's talk about the mathematical definition of our coordinate system, how it affects the graphics system and the calculations that we can make. <br><br><h3>  Point designation </h3><br>  <em>The origin of the coordinate</em> system can be denoted by a point <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-67"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">O</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="2.057ex" viewBox="0 -780.1 763.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-4F" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> O </script>  , which is described by a tuple of three elements (0,0,0).  This means that the mathematical representation of the coordinate system can be represented as follows: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-69"><span class="noError" id="MJXp-Span-70" style="display: inline-block;">\&nbsp;{O;&nbsp;X,&nbsp;Y,&nbsp;Z&nbsp;\}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><span class="noError" style="display: inline-block;">\&nbsp;{O;&nbsp;X,&nbsp;Y,&nbsp;Z&nbsp;\}</span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> \ {O; X, Y, Z \} </script></p><br>  With this record we can say that <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-71"><span class="MJXp-mo" id="MJXp-Span-72" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">x</span><span class="MJXp-mo" id="MJXp-Span-74" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">y</span><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">z</span><span class="MJXp-mo" id="MJXp-Span-78" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.45ex" height="2.66ex" viewBox="0 -832 3207.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="1904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-7A" x="2349" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="2818" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> (x, y, z) </script>  represent the position of the point relative to the origin.  Such a definition means that any point <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-79"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">P</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.745ex" height="2.057ex" viewBox="0 -780.1 751.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-50" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> P </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-81"><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">a</span><span class="MJXp-mo" id="MJXp-Span-84" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">b</span><span class="MJXp-mo" id="MJXp-Span-86" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">c</span><span class="MJXp-mo" id="MJXp-Span-88" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.111ex" height="2.66ex" viewBox="0 -832 3061.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-61" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-62" x="1364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2C" x="1793" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-63" x="2238" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-29" x="2672" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> (a, b, c) </script>  can be represented as: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-89"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">P</span><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">O</span><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">X</span><span class="MJXp-mo" id="MJXp-Span-96" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">Y</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">Z</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.806ex" height="2.178ex" viewBox="0 -780.1 10249.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-4F" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2B" x="3071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-61" x="4072" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-58" x="4601" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2B" x="5676" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-62" x="6676" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-59" x="7106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMAIN-2B" x="8092" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-63" x="9092" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/334580/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiKmGHDP5UJoweW7GBu0s2b2iunQA#MJMATHI-5A" x="9526" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-15"> P = O + aX + bY + cZ </script></p><br>  From now on, we will denote scalar values ‚Äã‚Äãin lower case letters, and vectors - in upper case, that is, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> a </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-104"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">b</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> b </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-106"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">c</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> c </script>  - these are scalars, and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-108"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> X </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-110"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> Y </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-112"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">Z</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> Z </script>  - vectors.  (Actually, these are basic vectors, which we defined above.) <br><br>  This means that the point recorded by the tuple (2,3,4) can be represented as follows: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-114"><span class="noError" id="MJXp-Span-115" style="display: inline-block;">\&nbsp;begin&nbsp;{aligned}&nbsp;(2,3,4)&nbsp;&amp;&nbsp;=&nbsp;(2,0,0)&nbsp;+&nbsp;(0,3,0)&nbsp;+&nbsp;(0,0,4)&nbsp;\\&nbsp;&amp;&nbsp;=&nbsp;(0,0,0)&nbsp;+&nbsp;(2.0.0)&nbsp;+&nbsp;(0.3.0)&nbsp;+&nbsp;(0.0.4)&nbsp;\\&nbsp;=&nbsp;(0.0.0)&nbsp;+&nbsp;2&nbsp;(1.0.0)&nbsp;+&nbsp;3&nbsp;(0.1,&nbsp;0)&nbsp;+&nbsp;4&nbsp;(0,0,1)&nbsp;\\&nbsp;&amp;&nbsp;=&nbsp;O&nbsp;+&nbsp;2X&nbsp;+&nbsp;3Y&nbsp;+&nbsp;4Z&nbsp;\\&nbsp;end&nbsp;{aligned}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-22"> \ begin {aligned} (2,3,4) & = (2,0,0) + (0,3,0) + (0,0,4) \\ & = (0,0,0) + (2.0.0) + (0.3.0) + (0.0.4) \\ = (0.0.0) + 2 (1.0.0) + 3 (0.1, 0) + 4 (0,0,1) \\ & = O + 2X + 3Y + 4Z \\ end {aligned} </script></p><br>  So, we took the abstract concept of "a point in three-dimensional space" and defined it as the sum of four objects.  Such a definition will be very important when it comes to the implementation of the concept in code. <br><br><h3>  Mutual perpendicularity </h3><br>  The coordinate system, which we will use, has a very valuable property: <em>mutual perpendicularity</em> .  This means that at the intersection of each of the axes on its respective plane, the angle between them is 90 degrees. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/36c/f2c/e5b/36cf2ce5b9cb03cd8f42f42a492610b4.jpg"><br><br>  Our coordinate system can also be called "right": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/993/19b/221/99319b221b2c65cc9b0657bb7d97fa0c.jpg"><br>  <i>Source: <a href="http://viz.aset.psu.edu/gho/sem_notes/3d_fundamentals/html/3d_coordinates.html">http://viz.aset.psu.edu/gho/sem_notes/3d_fundamentals/html/3d_coordinates.html</a> .</i> <br><br>  In the language of mathematics, this means that: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-116"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">X</span><span class="MJXp-mo" id="MJXp-Span-118" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">Y</span><span class="MJXp-mtext" id="MJXp-Span-120">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">Z</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-23"> X = Y \ times Z </script></p><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-127"><span class="MJXp-mtext" id="MJXp-Span-128">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">s</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> \ times </script>  denotes the vector product operator. <br><br>  A vector product can be defined by the following equation (provided that we have two tuples of three elements): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-134"><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">a</span><span class="MJXp-mo" id="MJXp-Span-137" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">b</span><span class="MJXp-mo" id="MJXp-Span-139" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">c</span><span class="MJXp-mo" id="MJXp-Span-141" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-142">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">s</span><span class="MJXp-mo" id="MJXp-Span-148" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">d</span><span class="MJXp-mo" id="MJXp-Span-150" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">e</span><span class="MJXp-mo" id="MJXp-Span-152" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">f</span><span class="MJXp-mo" id="MJXp-Span-154" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-156" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">f</span><span class="MJXp-mo" id="MJXp-Span-159" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">e</span><span class="MJXp-mo" id="MJXp-Span-162" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">d</span><span class="MJXp-mo" id="MJXp-Span-165" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">f</span><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">e</span><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">d</span><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-25"> (a, b, c) \ times (d, e, f) = (bf - ce, cd - af, ae - bd) </script></p><br>  These expressions may seem boring, but later they will allow us to more easily perform many different calculations and transformations.  Fortunately, when creating a game engine, we do not need to memorize all these equations - we can start with these expressions and then build on less complex systems over them.  At least, until you want to change something fundamental in the engine! <br><br><hr><br><h2>  Points and Vectors </h2><br>  Having defined the basics of the coordinate system, we can talk about points and vectors, and, more importantly, how they interact with each other.  First, it is worth noting that points and vectors are completely different objects: a point is a physical place in space, a vector is a space between two points. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/099/602/d90/099602d90165fde3aec5b4b466ab9e2d.png"><br><br>  In order not to confuse these two types of objects, I will write points in italic capital letters, for example, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-175"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">P</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> P </script>  and vectors are in bold capital letters, for example, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-177"><span class="MJXp-mtext" id="MJXp-Span-178">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">f</span><span class="MJXp-mrow" id="MJXp-Span-185"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">V</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> \ mathbf {V} </script>  . <br><br>  When working with points and vectors, we will use two basic axioms.  Here they are: <br><br><ul><li>  Axiom 1: the difference between two points is a vector, that is <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-187"><span class="MJXp-mtext" id="MJXp-Span-188">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">f</span><span class="MJXp-mrow" id="MJXp-Span-195"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">V</span></span><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">P</span><span class="MJXp-mo" id="MJXp-Span-199" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">Q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> \ mathbf {V} = P - Q </script></li><li>  Axiom 2: the sum of a point and a vector is a point, that is <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-201"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">Q</span><span class="MJXp-mo" id="MJXp-Span-203" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">P</span><span class="MJXp-mo" id="MJXp-Span-205" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">f</span><span class="MJXp-mrow" id="MJXp-Span-213"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">V</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> Q = P + \ mathbf {V} </script></li></ul><br>  <strong>Hint: an</strong> <em>axiom</em> is a logical statement, considered obvious enough to be accepted without evidence. <br><br><hr><br><h2>  Create engine </h2><br>  Thanks to these two axioms, we have enough information to create classes of "bricks" that are the heart of any three-dimensional game engine: the <code>Point</code> class and the <code>Vector</code> class.  If we were going to create our own engine based on this information, we would need to take other important steps in creating these classes (mainly related to optimizing and working with existing APIs), but we will omit this for the sake of simplification. <br><br>  All class examples will be written in pseudocode so that you can implement them in your favorite language.  Here are the sketches of our two classes: <br><br><pre> <code class="cpp hljs">Point Class { Variables: num tuple[<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//(x,y,z) Operators: Point AddVectorToPoint(Vector); Point SubtractVectorFromPoint(Vector); Vector SubtractPointFromPoint(Point); Function: //      API,   //      drawPoint; }</span></span></code> </pre> <br><pre> <code class="cpp hljs">Vector Class { Variables: num tuple[<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//(x,y,z) Operators: Vector AddVectorToVector(Vector); Vector SubtractVectorFromVector(Vector); }</span></span></code> </pre> <br>  As an exercise, try filling out each of the functions of these classes with working code (based on what we have discussed above).  When finished with this, test the work by running this simple program: <br><br><pre> <code class="cpp hljs">main { var point1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>); var point2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>); var vector1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector(<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); var vector2; point1.drawPoint(); <span class="hljs-comment"><span class="hljs-comment">//  (1,2,1) point2.drawPoint(); //  (0,4,4) vector2 = point1.subtractPointFromPoint(point2); vector1 = vector1.addVectorToVector(vector2); point1.addVectorToPoint(vector1); point1.drawPoint(); //  (4,0,-2) point2.subtractVectorFromPoint(vector2); point2.drawPoint(); //  (-1,6,7) }</span></span></code> </pre> <br><hr><br><h2>  Conclusion </h2><br>  We got to the end of the first part!  It seems that a bunch of mathematics is used here just to write two classes, and this is actually the case.  In most cases, you will never have to work with the game at this level, but knowing the details of the internal workings of the game engine will still be useful (at least for your own pleasure). <br><br><h1>  Part 2: Linear Transformations </h1><br>  Now we will talk about <em>linear transformations</em> , which will allow us to change such properties of vectors as rotation and scale.  We will learn how to apply them in the classes we have already created. <br><br>  To discuss linear transformations, we need to make a small change to the Point class: instead of outputting data to the console, use any graphics API that is convenient for you so that the function draws the current point on the screen. <br><br><hr><br><h2>  Basics of linear transformations </h2><br>  Just a warning: the equations of linear transformations always look much more complicated than they actually are.  We will use trigonometry, but you don‚Äôt really need to know <em>how</em> trigonometric operations are performed: I will explain what you need to transfer to each function and what we will receive from it, and you can use any calculator or mathematical library for all intermediate actions. <br><br>  <strong>Hint:</strong> if you want to get deeper into the inner workings of these equations, then you should <a href="http://www.youtube.com/watch%3Fv%3DF21S9Wpi0y8">watch this video</a> and <a href="http://www.math.wfu.edu/Math105/basics%2520of%2520trigonometry.pdf">read this PDF</a> . <br><br>  All linear transformations have the following form: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-215"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">B</span><span class="MJXp-mo" id="MJXp-Span-217" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">f</span><span class="MJXp-mo" id="MJXp-Span-219" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">a</span><span class="MJXp-mo" id="MJXp-Span-221" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-30"> B = f (a) </script></p><br>  From this it is clear that we have a conversion function <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-222"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">F</span><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-225" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> F () </script>  , vector is used as input <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-226"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> A </script>  , and at the output we get a vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-228"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> B </script>  . <br><br>  Each of these parts ‚Äî two vectors and a function ‚Äî can be represented as a matrix: a vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-230"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> B </script>  - as a 1x3 matrix, vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-232"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> A </script>  - as one more matrix 1x3, and linear transformation <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-234"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">F</span><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-237" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> F () </script>  - as a 3x3 <em>matrix</em> ( <em>transformation matrix</em> ). <br><br>  This means that by expanding the equation, we get the following: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-238"><span class="noError" id="MJXp-Span-239" style="display: inline-block;">\&nbsp;begin&nbsp;{bmatrix}&nbsp;b_&nbsp;{0}&nbsp;\\&nbsp;b_&nbsp;{1}&nbsp;\\&nbsp;b_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;f_&nbsp;{00}&nbsp;&amp;&nbsp;f_&nbsp;{01}&nbsp;&amp;&nbsp;f_&nbsp;{02}&nbsp;\\&nbsp;f_&nbsp;{10}&nbsp;&amp;&nbsp;f_&nbsp;{11}&nbsp;&amp;&nbsp;f_&nbsp;{12}&nbsp;\\&nbsp;f_&nbsp;{20}&nbsp;&amp;&nbsp;f_&nbsp;{21}&nbsp;&amp;&nbsp;f_&nbsp;{22}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;a_&nbsp;{0}&nbsp;\\&nbsp;a_&nbsp;{1}&nbsp;\&nbsp;\&nbsp;a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-37"> \ begin {bmatrix} b_ {0} \\ b_ {1} \\ b_ {2} \ end {bmatrix} = \ begin {bmatrix} f_ {00} & f_ {01} & f_ {02} \\ f_ {10} & f_ {11} & f_ {12} \\ f_ {20} & f_ {21} & f_ {22} \ end {bmatrix} \ begin {bmatrix} a_ {0} \\ a_ {1} \ \ a_ {2} \ end {bmatrix} </script></p><br>  If you have gone through trigonometry or linear algebra, then you may already recall the nightmare of mathematics of matrices.  Fortunately, there is an easier way to write this expression to get rid of most problems.  It looks like this: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-240"><span class="MJXp-mtext" id="MJXp-Span-241">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">n</span><span class="MJXp-mrow" id="MJXp-Span-247"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256" style="margin-right: 0.05em;">b</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-257" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-258">0</span></span></span><span class="MJXp-mspace" id="MJXp-Span-259" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-260"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261" style="margin-right: 0.05em;">b</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-262" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-263">1</span></span></span><span class="MJXp-mspace" id="MJXp-Span-264" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-265"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266" style="margin-right: 0.05em;">b</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-267" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-268">2</span></span></span><span class="MJXp-mtext" id="MJXp-Span-269">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">d</span><span class="MJXp-mrow" id="MJXp-Span-273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">x</span></span><span class="MJXp-mo" id="MJXp-Span-281" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-282">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">n</span><span class="MJXp-mrow" id="MJXp-Span-288"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-296"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-298" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-299">00</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-300"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-302" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-303">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-304" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-305"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-307" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-308">01</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-311" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-312">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-313" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-314"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-316" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-317">02</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-318"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-320" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-321">2</span></span></span><span class="MJXp-mspace" id="MJXp-Span-322" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-323"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-325" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-326">10</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-327"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-329" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-330">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-331" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-332"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-334" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-335">11</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-336"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-338" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-339">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-340" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-341"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-343" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-344">12</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-345"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-347" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-348">2</span></span></span><span class="MJXp-mspace" id="MJXp-Span-349" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-350"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-352" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-353">20</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-354"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-356" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-357">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-358" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-359"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-361" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-362">21</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-363"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-365" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-366">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-367" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-368"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-370" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-371">22</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-372"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-374" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-375">2</span></span></span><span class="MJXp-mspace" id="MJXp-Span-376" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-377">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">d</span><span class="MJXp-mrow" id="MJXp-Span-381"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">x</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-38"> \ begin {bmatrix} b_ {0} \\ b_ {1} \\ b_ {2} \ end {bmatrix} = \ begin {bmatrix} f_ {00} a_ {0} + f_ {01} a_ {1} + f_ {02} a_ {2} \\ f_ {10} a_ {0} + f_ {11} a_ {1} + f_ {12} a_ {2} \\ f_ {20} a_ {0} + f_ { 21} a_ {1} + f_ {22} a_ {2} \\ \ end {bmatrix} </script></p><br>  However, these equations can change when there is a second source of input data, as in the case of rotations, when the vector and the number of its rotation must be specified.  Let's see how the turns work. <br><br><hr><br><h2>  Turns </h2><br>  A turn, by definition, is a circular motion of an object around a turning point.  The turning point in our space can belong to the XY plane, the XZ plane, or the YZ plane (where each plane is composed of two basis vectors, which we discussed in the first part). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/547/5a8/e95/5475a8e95da8a7d97936a623b1888ca5.png"><br><br>  Three turning points mean that we have three separate rotation matrices: <br><br>  XY rotation matrix: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-389"><span class="noError" id="MJXp-Span-390" style="display: inline-block;">\&nbsp;begin&nbsp;{bmatrix}&nbsp;cos&nbsp;\&nbsp;theta&nbsp;&amp;&nbsp;-sin&nbsp;\&nbsp;theta&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;sin&nbsp;\&nbsp;theta&nbsp;&amp;&nbsp;cos&nbsp;\&nbsp;theta&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;\\&nbsp;\&nbsp;end&nbsp;{bmatrix}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-39"> \ begin {bmatrix} cos \ theta & -sin \ theta & 0 \\ sin \ theta & cos \ theta & 0 \\ 0 & 0 & 1 \\ \ end {bmatrix} </script></p><br>  XZ rotation matrix: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-391"><span class="noError" id="MJXp-Span-392" style="display: inline-block;">\&nbsp;begin&nbsp;{bmatrix}&nbsp;cos&nbsp;\&nbsp;theta&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;sin&nbsp;\&nbsp;theta&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;-sin&nbsp;\&nbsp;theta&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;cos&nbsp;\&nbsp;theta&nbsp;\&nbsp;end&nbsp;{bmatrix}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-40"> \ begin {bmatrix} cos \ theta & 0 & sin \ theta \\ 0 & 1 & 0 \\ -sin \ theta & 0 & cos \ theta \ end {bmatrix} </script></p><br>  YZ rotation matrix: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-393"><span class="noError" id="MJXp-Span-394" style="display: inline-block;">\&nbsp;begin&nbsp;{bmatrix}&nbsp;1&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;cos&nbsp;\&nbsp;theta&nbsp;&amp;&nbsp;-sin&nbsp;\&nbsp;theta&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;sin&nbsp;\&nbsp;theta&nbsp;&amp;&nbsp;cos&nbsp;\&nbsp;theta&nbsp;\&nbsp;end&nbsp;{bmatrix}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-41"> \ begin {bmatrix} 1 & 0 & 0 \\ 0 & cos \ theta & -sin \ theta \\ 0 & sin \ theta & cos \ theta \ end {bmatrix} </script></p><br>  That is to rotate the point <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-395"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> A </script>  around the XY plane by 90 degrees ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-397"><span class="MJXp-mtext" id="MJXp-Span-398">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">i</span><span class="MJXp-mrow" id="MJXp-Span-401"><span class="MJXp-mo" id="MJXp-Span-402" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-403">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> \ pi / 2 </script>  radian - most math libraries have a function to convert degrees to radians), you need to do the following: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-404"><span class="noError" id="MJXp-Span-405" style="display: inline-block;">\&nbsp;begin&nbsp;{aligned}&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;b_&nbsp;{0}&nbsp;\\&nbsp;b_&nbsp;{1}&nbsp;\\&nbsp;b_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;&amp;&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;cos&nbsp;\&nbsp;frac&nbsp;{\&nbsp;pi}&nbsp;{2}&nbsp;&amp;&nbsp;-sin&nbsp;\&nbsp;frac&nbsp;{\&nbsp;pi}&nbsp;{2}&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;sin&nbsp;\&nbsp;frac&nbsp;{\&nbsp;pi}&nbsp;{2}&nbsp;&amp;&nbsp;cos&nbsp;\&nbsp;frac&nbsp;{\&nbsp;pi}&nbsp;{2}&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;a_&nbsp;{0}&nbsp;\\&nbsp;a_&nbsp;{1}&nbsp;\\&nbsp;a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\\&nbsp;&amp;&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;cos&nbsp;\&nbsp;frac&nbsp;{\&nbsp;pi}&nbsp;{2}&nbsp;a_&nbsp;{0}&nbsp;+&nbsp;-sin&nbsp;\&nbsp;frac&nbsp;{\&nbsp;pi}&nbsp;{2}&nbsp;a_&nbsp;{1}&nbsp;+&nbsp;0a_&nbsp;{2}&nbsp;\\&nbsp;sin&nbsp;\&nbsp;frac&nbsp;{\&nbsp;pi}&nbsp;{2}&nbsp;a_&nbsp;{0}&nbsp;+&nbsp;cos&nbsp;\&nbsp;frac&nbsp;{\&nbsp;pi}&nbsp;{2}&nbsp;a_&nbsp;{1&nbsp;}&nbsp;+&nbsp;0a_&nbsp;{2}&nbsp;\\&nbsp;0a_&nbsp;{0}&nbsp;+&nbsp;0a_&nbsp;{1}&nbsp;+&nbsp;1a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\\&nbsp;&amp;&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;0a_&nbsp;{0}&nbsp;+&nbsp;-1a_&nbsp;{1}&nbsp;+&nbsp;0a_&nbsp;{2&nbsp;}&nbsp;\\&nbsp;1a_&nbsp;{0}&nbsp;+&nbsp;0a_&nbsp;{1}&nbsp;+&nbsp;0a_&nbsp;{2}&nbsp;\\&nbsp;0a_&nbsp;{0}&nbsp;+&nbsp;0a_&nbsp;{1}&nbsp;+&nbsp;1a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\\&nbsp;&amp;&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;-a_&nbsp;{&nbsp;1}&nbsp;\\&nbsp;a_&nbsp;{0}&nbsp;\\&nbsp;a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\&nbsp;end&nbsp;{aligned}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-44"> \ begin {aligned} \ begin {bmatrix} b_ {0} \\ b_ {1} \\ b_ {2} \ end {bmatrix} & = \ begin {bmatrix} cos \ frac {\ pi} {2} & -sin \ frac {\ pi} {2} & 0 \\ sin \ frac {\ pi} {2} & cos \ frac {\ pi} {2} & 0 \\ 0 & 0 & 1 \ end {bmatrix} \ begin {bmatrix} a_ {0} \\ a_ {1} \\ a_ {2} \ end {bmatrix} \\ & = \ begin {bmatrix} cos \ frac {\ pi} {2} a_ {0} + -sin \ frac {\ pi} {2} a_ {1} + 0a_ {2} \\ sin \ frac {\ pi} {2} a_ {0} + cos \ frac {\ pi} {2} a_ {1 } + 0a_ {2} \\ 0a_ {0} + 0a_ {1} + 1a_ {2} \ end {bmatrix} \\ & = \ begin {bmatrix} 0a_ {0} + -1a_ {1} + 0a_ {2 } \\ 1a_ {0} + 0a_ {1} + 0a_ {2} \\ 0a_ {0} + 0a_ {1} + 1a_ {2} \ end {bmatrix} \\ & = \ begin {bmatrix} -a_ { 1} \\ a_ {0} \\ a_ {2} \ end {bmatrix} \ end {aligned} </script></p><br>  That is, if the starting point <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-406"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> A </script>  had coordinates <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-408"><span class="MJXp-mo" id="MJXp-Span-409" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-410">3</span><span class="MJXp-mo" id="MJXp-Span-411" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-412">4</span><span class="MJXp-mo" id="MJXp-Span-413" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-414">5</span><span class="MJXp-mo" id="MJXp-Span-415" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> (3,4,5) </script>  then the exit point <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-416"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> B </script>  will have coordinates <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-418"><span class="MJXp-mo" id="MJXp-Span-419" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-420" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-421">4</span><span class="MJXp-mo" id="MJXp-Span-422" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-423">3</span><span class="MJXp-mo" id="MJXp-Span-424" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-425">5</span><span class="MJXp-mo" id="MJXp-Span-426" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> (- 4,3,5) </script>  . <br><br><h3>  Exercise: turning functions </h3><br>  As an exercise, try creating three new functions for the <code>Vector</code> class.  One must rotate the vector around the XY plane, the other around YZ, and the third around XZ.  At the input, the functions should receive the required number of degrees of rotation, and return the vector at the output. <br><br>  In general, the functions should work as follows: <br><br><ol><li>  Create output vector. </li><li>  Convert the input in degrees to radians. </li><li>  The solution of each of the elements of the output vector tuple using the above equations. </li><li>  Return the output vector. </li></ol><br><hr><br><h2>  Scaling </h2><br>  Scaling is a transformation that enlarges or reduces an object according to a given scale. <br><br>  This transformation is quite simple (at least compared to turns).  Scaling transformation requires two types of input data: an <em>input vector</em> and a <em>three-element scaling tuple</em> , which defines the scale of the input vector along each axis of space. <br><br>  For example, in a scaling tuple <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-427"><span class="MJXp-mo" id="MJXp-Span-428" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-429"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-431" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-432">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-433" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-434"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-436" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-437">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-438" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-439"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-441" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-442">2</span></span></span><span class="MJXp-mo" id="MJXp-Span-443" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> (s_ {0}, s_ {1}, s_ {2}) </script>  magnitude <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-444"><span class="MJXp-msubsup" id="MJXp-Span-445"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-447" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-448">0</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> s_ {0} </script>  is the X scale, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-449"><span class="MJXp-msubsup" id="MJXp-Span-450"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-452" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-453">1</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> s_ {1} </script>  - along the Y axis, and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-454"><span class="MJXp-msubsup" id="MJXp-Span-455"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-457" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-458">2</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> s_ {2} </script>  - along the Z axis. <br><br>  The scale transformation matrix has the following form (where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-459"><span class="MJXp-msubsup" id="MJXp-Span-460"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-462" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-463">0</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> s_ {0} </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-464"><span class="MJXp-msubsup" id="MJXp-Span-465"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-467" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-468">1</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> s_ {1} </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-469"><span class="MJXp-msubsup" id="MJXp-Span-470"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-472" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-473">2</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> s_ {2} </script>  - these are elements of the scaling tuple): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-474"><span class="noError" id="MJXp-Span-475" style="display: inline-block;">\&nbsp;begin&nbsp;{bmatrix}&nbsp;s0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;s1&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;s2&nbsp;\&nbsp;end&nbsp;{bmatrix}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-56"> \ begin {bmatrix} s0 & 0 & 0 \\ 0 & s1 & 0 \\ 0 & 0 & s2 \ end {bmatrix} </script></p><br>  To make an input vector A <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-476"><span class="MJXp-mo" id="MJXp-Span-477" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-478"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-480" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-481">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-482" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-483"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-485" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-486">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-487" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-488"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-490" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-491">2</span></span></span><span class="MJXp-mo" id="MJXp-Span-492" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> (a_ {0}, a_ {1}, a_ {2}) </script>  twice the X axis (i.e. use a tuple <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-493"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-494">S</span><span class="MJXp-mo" id="MJXp-Span-495" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-496" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-497">2</span><span class="MJXp-mo" id="MJXp-Span-498" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-499">1</span><span class="MJXp-mo" id="MJXp-Span-500" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-501">1</span><span class="MJXp-mo" id="MJXp-Span-502" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> S = (2, 1, 1) </script>  ), the calculations should be as follows: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-503"><span class="noError" id="MJXp-Span-504" style="display: inline-block;">\&nbsp;begin&nbsp;{aligned}&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;b_&nbsp;{0}&nbsp;\\&nbsp;b_&nbsp;{1}&nbsp;\\&nbsp;b_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;&amp;&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;s0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;s1&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;s2&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;a_&nbsp;{0}&nbsp;\\&nbsp;a_&nbsp;{1}&nbsp;\\&nbsp;a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\\&nbsp;&amp;&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;2&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;a_&nbsp;{0}&nbsp;\\&nbsp;a_&nbsp;{1}&nbsp;\\&nbsp;a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\\&nbsp;&amp;&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;2a_&nbsp;{0}&nbsp;+&nbsp;0a_&nbsp;{1}&nbsp;+&nbsp;0a_&nbsp;{2}&nbsp;\\&nbsp;0a_&nbsp;{0}&nbsp;+&nbsp;1a_&nbsp;{1}&nbsp;+&nbsp;0a_&nbsp;{2}&nbsp;\\&nbsp;0a_&nbsp;{0}&nbsp;+&nbsp;0a_&nbsp;{1}&nbsp;+&nbsp;1a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\\&nbsp;&amp;&nbsp;=&nbsp;\&nbsp;begin&nbsp;{bmatrix}&nbsp;2a_&nbsp;{0}&nbsp;\\&nbsp;a_&nbsp;{1}&nbsp;\\&nbsp;a_&nbsp;{2}&nbsp;\&nbsp;end&nbsp;{bmatrix}&nbsp;\&nbsp;end&nbsp;{aligned}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-59"> \ begin {aligned} \ begin {bmatrix} b_ {0} \\ b_ {1} \\ b_ {2} \ end {bmatrix} & = \ begin {bmatrix} s0 & 0 & 0 \\ 0 & s1 & 0 \\ 0 & 0 & s2 \ end {bmatrix} \ begin {bmatrix} a_ {0} \\ a_ {1} \\ a_ {2} \ end {bmatrix} \\ & = \ begin {bmatrix} 2 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \ end {bmatrix} \ begin {bmatrix} a_ {0} \\ a_ {1} \\ a_ {2} \ end {bmatrix} \\ & = \ begin {bmatrix} 2a_ {0} + 0a_ {1} + 0a_ {2} \\ 0a_ {0} + 1a_ {1} + 0a_ {2} \\ 0a_ {0} + 0a_ {1} + 1a_ {2} \ end {bmatrix} \\ & = \ begin {bmatrix} 2a_ {0} \\ a_ {1} \\ a_ {2} \ end {bmatrix} \ end {aligned} </script></p><br>  That is, when the input vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-505"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">A</span><span class="MJXp-mo" id="MJXp-Span-507" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-508" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-509">3</span><span class="MJXp-mo" id="MJXp-Span-510" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-511">4</span><span class="MJXp-mo" id="MJXp-Span-512" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-513">0</span><span class="MJXp-mo" id="MJXp-Span-514" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> A = (3,4,0) </script>  output vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-515"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61"> B </script>  will be equal to <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-517"><span class="MJXp-mo" id="MJXp-Span-518" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-519">6</span><span class="MJXp-mo" id="MJXp-Span-520" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-521">4</span><span class="MJXp-mo" id="MJXp-Span-522" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-523">0</span><span class="MJXp-mo" id="MJXp-Span-524" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> (6,4,0) </script>  . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a87/f01/7c4/a87f017c41187950ba2910f8a3405cb9.gif"><br><br><h3>  Exercise: Scaling Functions </h3><br>  As another exercise, add a new feature to the Vector class.  This new function should receive a scaling tuple and return the output vector. <br><br>  In general, the function should work as follows: <br><br><ol><li>  Create output vector. </li><li>  The solution of each element of the output vector tuple using the above equation (which can be simplified to <code>y0 = x0 * s0; y1 = x1*s1; y2 = x2*s2</code> ). </li><li>  Return the output vector. </li></ol><br><hr><br><h2>  Let's create something! </h2><br>  Now that we have linear transformations at our disposal, let's create a small program to demonstrate the new features.  We will create a program that draws a group of points on the screen and allows you to change them as a whole, performing linear transformations over them. <br><br>  Before we begin, we need to add another function to the <code>Point</code> class.  We will call it <code>setPointToPoint()</code> , it will simply set the position of the current point at the point that is passed to it.  At the entrance she will receive a point and not return anything. <br><br>  Here are the brief characteristics of the program: <br><br><ul><li>  The program will store in an array of 100 points. </li><li>  When you press the <strong>D</strong> key, the program will clear the current screen and redraw the points. </li><li>  When you press the <strong>A</strong> key, the program will scale the position of all points by 0.5. </li><li>  When you press the <strong>S</strong> key, the program will scale the position of all points by 2.0. </li><li>  Pressing the <strong>R</strong> key will rotate the position of all points by 15 degrees on the XY plane. </li><li>  When you press the <strong>Escape</strong> key, the program closes (if you do not write it in JavaScript or another web-oriented language). </li></ul><br>  The classes we have are: <br><br><pre> <code class="cpp hljs">Point Class { Variables: num tuple[<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//(x,y,z) Operators: Point AddVectorToPoint(Vector); Point SubtractVectorFromPoint(Vector); Vector SubtractPointFromPoint(Point); //        Null SetPointToPoint(Point); Functions: //          API drawPoint; } Vector Class { Variables: num tuple[3]; //(x,y,z) Operators: Vector AddVectorToVector(Vector); Vector SubtractVectorFromVector(Vector); Vector RotateXY(degrees); Vector RotateYZ(degrees); Vector RotateXZ(degrees); Vector Scale(s0,s1,s2); }</span></span></code> </pre> <br>  Let's see what the code might look like given the above requirements: <br><br><pre> <code class="cpp hljs">main{ <span class="hljs-comment"><span class="hljs-comment">//   API //   (   ) //   100  Point Array pointArray[100]; for (int x = 0; x &lt; pointArray.length; x++) { //      pointArray[x].tuple = [random(0,screenWidth), random(0,screenHeight), random(0,desiredDepth)); } //         function redrawScreen() { //      API ClearTheScreen(); for (int x = 0; x &lt; pointArray.length; x++) { //     pointArray[x].drawPoint(); } } //     escape,    while (esc != pressed) { //        if (key('d') == pressed) { redrawScreen(); } if (key('a') == pressed) { //      Point origin = new Point(0,0,0); Vector tempVector; for (int x = 0; x &lt; pointArray.length; x++) { //         tempVector = pointArray[x].subtractPointFromPoint(origin); // ,       pointArray[x].setPointToPoint(origin); //          pointArray[x].addVectorToPoint(tempVector.scale(0.5,0.5,0.5)); } redrawScreen(); } if(key('s') == pressed) { //      Point origin = new Point(0,0,0); Vector tempVector; for (int x = 0; x &lt; pointArray.length; x++) { //         tempVector = pointArray[x].subtractPointFromPoint(origin); // ,       pointArray[x].setPointToPoint(origin); //          pointArray[x].addVectorToPoint(tempVector.scale(2.0,2.0,2.0)); } redrawScreen(); } if(key('r') == pressed) { //      Point origin = new Point(0,0,0); Vector tempVector; for (int x = 0; x &lt; pointArray.length; x++) { //         tempVector = pointArray[x].subtractPointFromPoint(origin); // ,       pointArray[x].setPointToPoint(origin); //          pointArray[x].addVectorToPoint(tempVector.rotateXY(15)); } redrawScreen(); } } }</span></span></code> </pre> <br>  So, we have a short, good program that demonstrates all our new features! <br><br><hr><br><h2>  Conclusion </h2><br>  Although we have not considered all possible linear transformations, our micromotor begins to take shape. <br><br>  As usual, for simplicity, I removed some things from the engine (namely, displacement and reflections).  If you want to learn more about these two types of linear transformations, then you can read in the <a href="http://en.wikipedia.org/wiki/Transformation_matrix">Wikipedia article</a> and the links in the article. <br><br>  In the next section, we will look at the various viewing spaces and the clipping of objects that are out of scope. <br><br><h1>  Part 3: Space and Clipping </h1><br>  It can be seen that for the time being the use of the two classes created by us in themselves is a rather complicated process, besides drawing each possible point can quite quickly drain the system memory.  To solve these problems, we will add a new class to the game engine: a <em>camera</em> . <br><br>  Rendering will occur only within the camera, it <em>cuts</em> all objects to the size of the screen, and also controls all of our points. <br><br>  But before we begin all this, we must first talk about clipping. <br><br><hr><br><h2>  Clipping </h2><br>  By definition, pruning is a selection of objects from a larger group of objects.  In our game engine a smaller group will be points that need to be drawn on the screen.  A larger group of objects will be the set of all existing points. <br><br>  Thanks to the cut-off engine, the system memory consumption will be significantly reduced.  It will only draw what the player can see, and not the whole world of points.  In our engine, we implement this by setting the parameters of <em>the viewing space</em> . <br><br>  The overview space will be set along all three of our traditional axes: x, y and z.  Its borders in x consist of everything between the left and right borders of the window, the borders in y are from everything between the upper and lower borders of the window, and the borders in z are in the range from <code>0</code> (where the camera is installed) will use a randomly selected value of <code>100</code> ). <br><br>  Before drawing a point, the camera class will check if the point is in view space.  If it is, then the point is drawn; otherwise, it is not drawn. <br><br><hr><br><h2>  Maybe it's time to add a camera? </h2><br>  By understanding the basics of clipping, we can create a camera class: <br><br><pre> <code class="cpp hljs">Camera Class { Vars: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> minX, maxX; <span class="hljs-comment"><span class="hljs-comment">//    X int minY, maxY; //.  .  Y int minZ, maxZ; //.  .  Z }</span></span></code> </pre> <br>  We will also put on camera the whole process of rendering in the engine.  Often in renderers engines are separated from camera systems.  This is usually done for the convenience of encapsulating systems, because in some engines, when they are stored together, there is confusion.  However, it will be easier for our tutorial to treat them as a single system. <br><br>  First we need a function that can be called from the outside of the class to draw the scene.  This function will cycle through all existing points, compare them with the clipping parameters of the camera and draw them if conditions are met. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c0f/cf0/85f/c0fcf085ff50090cd6c8989b2c1144f9.png"><br>  <i>Source: <a href="http://en.wikipedia.org/wiki/File:ViewFrustum.svg">http://en.wikipedia.org/wiki/File:ViewFrustum.svg</a></i> <br><br>  <strong>Hint:</strong> if you want to separate the camera system from the renderer, you can simply create the <code>Renderer</code> class, cut the points by the camera system, save the ones you want to draw in the array, and then send the array to the renderer‚Äôs <code>draw()</code> function. <br><br><hr><br><h2>  Point management </h2><br>  The last part of the camera class will be the point control system.  Depending on the programming language used, this may simply be an array of all objects for drawing (later we will not only process points), or it may be necessary to use the parent class of objects by default.  If you are very unlucky with the choice, then you have to implement your own parent class of objects and make sure that all the classes being rendered (as long as these are only points) inherit from this class. <br><br>  After adding a control system to a class, our camera will look something like this: <br><br><pre> <code class="cpp hljs">Camera Class { Vars: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> minX, maxX; <span class="hljs-comment"><span class="hljs-comment">//    X int minY, maxY; //    Y int minZ, maxZ; //    Z array objectsInWorld; //    Functions: null drawScene(); //     ,    }</span></span></code> </pre> <br>  Having made all these additions, let's improve a little the program written in the last part. <br><br><hr><br><h2>  Bigger and better </h2><br>  We are going to create a simple point drawing program based on the example program created in the last part. <br><br>  In this iteration of the program we will add the use of a new camera class.  When you press the <strong>D</strong> key, the program will redraw the screen without clipping, showing the number of rendered objects in the upper right corner of the screen.  When you press the <strong>C</strong> key, the program will redraw the screen with clipping, also showing the number of rendered objects. <br><br>  Let's take a look at the code: <br><br><pre> <code class="cpp hljs">main{ <span class="hljs-comment"><span class="hljs-comment">//   API //   (   ) var camera = new Camera(); //    camera.objectsInWorld[100]; //   100     //    camera.minX = 0; camera.maxX = screenWidth; camera.minY = 0; camera.maxY = screenHeight; camera.minZ = 0; camera.maxZ = 100; for(int x = 0; x &lt; camera.objectsInWorld.length; x++) { //      camera.objectsInWorld[x].tuple = [random(-200,1000), random(-200,1000), random(-100,200)); } function redrawScreenWithoutCulling() //         { ClearTheScreen(); //      API for(int x = 0; x &lt; camera.objectsInWorld.length; x++) { camera.objectsInWorld[x].drawPoint(); //     } } while(esc != pressed) //   { if(key('d') == pressed) { redrawScreenWithoutCulling(); } if(key('c') == pressed) { camera.drawScene(); } if(key('a') == pressed) { Point origin = new Point(0,0,0); Vector tempVector; for(int x = 0; x &lt; camera.objectsInWorld.length; x++) { //         tempVector = camera.objectsInWorld[x].subtractPointFromPoint(origin); // ,       camera.objectsInWorld[x].setPointToPoint(origin); //          camera.objectsInWorld[x].addVectorToPoint(tempVector.scale(0.5,0.5,0.5)); } } if(key('s') == pressed) { Point origin = new Point(0,0,0); //create the space's origin as a point Vector tempVector; for(int x = 0; x &lt; camera.objectsInWorld.length; x++) { //         tempVector = camera.objectsInWorld[x].subtractPointFromPoint(origin); // ,       camera.objectsInWorld[x].setPointToPoint(origin); //          camera.objectsInWorld[x].addVectorToPoint(tempVector.scale(2.0,2.0,2.0)); } } if(key('r') == pressed) { Point origin = new Point(0,0,0); //create the space's origin as a point Vector tempVector; for(int x = 0; x &lt; camera.objectsInWorld.length; x++) { //         tempVector = camera.objectsInWorld[x].subtractPointFromPoint(origin); // ,       camera.objectsInWorld[x].setPointToPoint(origin); //          camera.objectsInWorld[x].addVectorToPoint(tempVector.rotateXY(15)); } } } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now you can see the power of clipping with your own eyes! </font><font style="vertical-align: inherit;">Note that in the sample code, some things are implemented a little differently to make the demo more web-compatible.</font></font><br><br><hr><br><h2>  Conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Having created a camera and rendering system, technically we can say that we have a ready-made three-dimensional game engine! </font><font style="vertical-align: inherit;">While it is not too impressive, but everything has its time. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the next section, we will learn how to add geometric shapes to the engine (namely, straight line segments and circles), and also talk about algorithms that can be used to reduce their equations to screen pixels.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Part 4: rasterization of line segments and circles </font></font></h1><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rasterization </font></font></h2><br> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rasterization</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is the process of transforming a shape described in a vector graphic format (or in our case mathematically) into a bitmap image (in which the shape fits into the pixel structure). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Since mathematics is not always as accurate as we need for computer graphics, we need to use algorithms to adapt the forms it describes to our integer screen. </font><font style="vertical-align: inherit;">For example, in mathematics the point may be in the coordinate</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-525"><span class="MJXp-mo" id="MJXp-Span-526" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-527">3.2</span><span class="MJXp-mo" id="MJXp-Span-528" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-529">4.6</span><span class="MJXp-mo" id="MJXp-Span-530" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63">(3.2, 4.6)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> but when rendering it is necessary to shift it to </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-531"><span class="MJXp-mo" id="MJXp-Span-532" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-533">3</span><span class="MJXp-mo" id="MJXp-Span-534" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-535">5</span><span class="MJXp-mo" id="MJXp-Span-536" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64">(3, 5)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">so that it fits into the pixel structure of the screen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For each type of form will be its own rasterization algorithm. </font><font style="vertical-align: inherit;">Let's start with the most simple forms for rasterization: a </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">straight line segment</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Straight line segments </font></font></h2><br><img src="https://habrastorage.org/getpro/habr/post_images/a75/c3c/769/a75c3c7695fbdae6e0939af20eb9866f.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Source: </font></font><a href="http://gamedev.tutsplus.com/tutorials/implementation/lets-build-a-3d-graphics-engine-spaces-and-culling/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://en.wikipedia.org/wiki/File:Bresenham.svg</font></font></a> <br></i> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Straight line segments are one of the simplest depicted forms, so often this is one of the first concepts studied in geometry. </font><font style="vertical-align: inherit;">They are described by two separate points (the initial and final) and the line connecting them. </font><font style="vertical-align: inherit;">The most commonly used algorithm for rasterization of a straight segment is called </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Bresenham algorithm</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Step by step, the Bresenham algorithm looks like this:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Getting at the entrance of the starting and ending points of the line segment. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Determining the direction of the segment by direct calculation of its properties </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-537"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-539">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65">dx</script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-540"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66">dy</script>  ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-543"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">x</span><span class="MJXp-mo" id="MJXp-Span-546" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-547"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-549" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-550">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-551" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-552"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-554" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-555">0</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67">dx = x_{1} - x_{0}</script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-556"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">y</span><span class="MJXp-mo" id="MJXp-Span-559" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-560"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-562" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-563">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-564" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-565"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-567" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-568">0</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-68">dy = y_{1} - y_{0}</script>  ). </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The definition of properties </font></font><code>sx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>sy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and error detection (the mathematical definition is given below).</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Round each point in the segment to a pixel above / below. </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Before implementing the Bresenham algorithm, let's create a base segment class that can be used in the engine:</font></font><br><br><pre> <code class="cpp hljs">LineSegment Class { Variables: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> startX, startY; <span class="hljs-comment"><span class="hljs-comment">//   int endX, endY; //   Function: array returnPointsInSegment; // ,     }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you need to perform a transformation with a new class </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, then it is enough to apply the corresponding transformation to the starting and ending points </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, and then pass them back to the class. All points between the institutes will be processed when drawing itself </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, because the Bresenham algorithm requires only the start and end points to search for all subsequent points. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To embed a class </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in an existing engine, we need to add a function to the class </font></font><code>draw()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, so I refused to use the function </font></font><code>returnPointsInSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. This function will return an array of all points that are in the line segment, which will allow us to draw and cut the segment conveniently. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The function </font></font><code>returnPointsInSegment()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will look something like this (in javascript):</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returnPointsInSegment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        var pointArray = new Array(); //          var x0 = this.startX; var y0 = this.startY; var x1 = this.endX; var y1 = this.endY; //     ,     var dx = Math.abs(x1-x0); var dy = Math.abs(y1-y0); var sx = (x0 &amp; x1) ? 1 : -1; //  x var sy = (y0 &amp; y1) ? 1 : -1; //  y var err = dx-dy; //    //     pointArray.push(new Point(x0,y0)); //   while(!((x0 == x1) &amp;&amp; (y0 == y1))) { var e2 = err * 2; //   //    ,       (  ) if(e2 =&gt; -dy) { err -= dy; x0 += sx; } if(e2 &lt; dx) { err += dx; y0 += sy; } //     pointArray.push(new Point(x0, y0)); } return pointArray; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The easiest way to add the rendering of straight line segments to a camera class is to add a simple structure </font></font><code>if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, for example, like this:</font></font><br><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">//     if (class type == Point) { //    } else if (class type == LineSegment) { var segmentArray = LineSegment.returnPointsInSegment(); //     ,    ,     }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And this is all that is needed for the work of our first class form! </font><font style="vertical-align: inherit;">If you want to learn more about the technical aspects of the Brezenham algorithm (especially errors), then you can read about them in an </font></font><a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D0%2591%25D1%2580%25D0%25B5%25D0%25B7%25D0%25B5%25D0%25BD%25D1%2585%25D1%258D%25D0%25BC%25D0%25B0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article in Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Circumference </font></font></h2><br><img src="https://habrastorage.org/getpro/habr/post_images/dd1/1b6/86b/dd11b686ba8f255edff72db7abaa7a35.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Source: </font></font><a href="http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://en.wikipedia.org/wiki/File:Bresenham_circle.svg</font></font></a></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rasterization of a circle is slightly more complicated than rasterization of a straight line segment. </font><font style="vertical-align: inherit;">For most of the work, we will use </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the center-point algorithm of the circle</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which is a development of the Brezenham algorithm. </font><font style="vertical-align: inherit;">That is, it consists of similar stages, with some differences. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The new algorithm will work like this:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Getting the center point and the radius of the circle. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Forcing points in each main direction </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cycling each quadrant, drawing their arcs </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The circle class is very similar to the straight segment class and will look something like this: </font></font><br><br><pre> <code class="javascript hljs">Circle Class { <span class="hljs-attr"><span class="hljs-attr">Variables</span></span>: int centerX, centerY; <span class="hljs-comment"><span class="hljs-comment">//   int radius; //  Function: array returnPointsInCircle; // ,    Circle }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The function </font></font><code>returnPointsInCircle()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will behave in the same way as a class function </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, returning an array of points so that the camera can render and cut them off. </font><font style="vertical-align: inherit;">This allows the engine to handle many different forms, each of which needs to make only minor changes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here's what the function will look like </font></font><code>returnPointsInCircle()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(in javascript):</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returnPointsInCircle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      var pointArray = new Array(); // ,    var f = 1 - radius; //      (   ) var ddFx = 1; //  x var ddFy = -2 * this.radius; //  y var x = 0; var y = this.radius; //      , //       pointArray.push(new Point(this.centerX, this.centerY + this.radius)); pointArray.push(new Point(this.centerX, this.centerY - this.radius)); pointArray.push(new Point(this.centerX + this.radius, this.centerY)); pointArray.push(new Point(this.centerX - this.radius, this.centerY)); while(x &lt; y) { if(f &gt;= 0) { y--; ddFy += 2; f += ddFy; } x++; ddFx += 2; f += ddFx; //   pointArray.push(new Point(x0 + x, y0 + y)); pointArray.push(new Point(x0 - x, y0 + y)); pointArray.push(new Point(x0 + x, y0 - y)); pointArray.push(new Point(x0 - x, y0 - y)); pointArray.push(new Point(x0 + y, y0 + x)); pointArray.push(new Point(x0 - y, y0 + x)); pointArray.push(new Point(x0 + y, y0 - x)); pointArray.push(new Point(x0 - y, y0 - x)); } return pointArray; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we just add another construction </font></font><code>if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to the main draw loop, and these circles will be fully integrated into the code! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here is what the updated rendering loop might look like:</font></font><br><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">//     if(class type == point) { //    } else if(class type == LineSegment) { var segmentArray = LineSegment.returnPointsInSegment(); //loop through points in the array, drawing and culling them as we have previously } else if(class type == Circle) { var circleArray = Circle.returnPointsInCircle(); //     ,    ,     }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now that we have two new classes, let's do something! </font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rasterization wizard </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This time our program will be simple. </font><font style="vertical-align: inherit;">When the user presses the mouse button, we will draw a circle with the center at the point of pressing and with a random radius. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's look at the code:</font></font><br><br><pre> <code class="javascript hljs">main{ <span class="hljs-comment"><span class="hljs-comment">//   API //   (   ) var camera = new Camera(); //    camera.objectsInWorld[]; //   100     //    camera.minX = 0; camera.maxX = screenWidth; camera.minY = 0; camera.maxY = screenHeight; camera.minZ = 0; camera.maxZ = 100; while(key != esc) { if(mouseClick) { //   camera.objectsInWorld.push(new Circle(mouse.x,mouse.y,random(3,10)); //    camera.drawScene(); } } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> If everything works out successfully, then you can draw excellent circles with the help of the engine. </font></font><br><br><hr><br><h2>  Conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Having added basic rasterization capabilities to the engine, we finally start drawing useful objects on the screen! </font><font style="vertical-align: inherit;">So far there has been nothing difficult, but if you want, you can try to draw people from segments and circles, or something like that. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the next part, we take another look at rasterization. </font><font style="vertical-align: inherit;">Only this time we will add two more classes to the engine: triangles and quadrilaterals.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Part 5: rasterization of triangles and quadrilaterals </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To create classes </font></font><code>Triangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>Quad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">we will actively use the class </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rasterization of triangles </font></font></h2><br><img src="https://habrastorage.org/getpro/habr/post_images/a26/e8a/722/a26e8a7224279c4f8e596c5de9da1470.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The implementation of the class </font></font><code>Triangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the engine is quite simple, especially due to the use of the class </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, in which all rasterization will occur. </font><font style="vertical-align: inherit;">This class allows you to assign three points and draw line segments between them to create a closed triangle. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The draft of the class will look like this:</font></font><br><br><pre> <code class="javascript hljs">Triangle Class { <span class="hljs-attr"><span class="hljs-attr">Variables</span></span>: <span class="hljs-comment"><span class="hljs-comment">//    int Point1X, Point1Y; int Point2X, Point2Y; int Point3X, Point3Y; Function: array returnPointsInTriangle; //    }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For the sake of standardization, we assume that the three points are declared in a clockwise triangle. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Then using the class, </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">you can write the following function </font></font><code>returnPointsInTriangle()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returnPointsInTriangle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ array PointsToReturn; <span class="hljs-comment"><span class="hljs-comment">//       //          PointsToReturn.push(new LineSegment(this.Point1X, this.Point1Y, this.Point2X, this.Point2Y)); PointsToReturn.push(new LineSegment(this.Point2X, this.Point2Y, this.Point3X, this.Point3Y)); PointsToReturn.push(new LineSegment(this.Point3X, this.Point3Y, this.Point1X, this.Point1Y)); return(PointsToReturn); }</span></span></code> </pre> <br>  Not bad, right?<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have already done a lot of work in the classroom </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, so we just have to sequentially connect the segments together to create more complex shapes. </font><font style="vertical-align: inherit;">This allows us to easily create much more complex polygons (polygons) on the screen simply by adding new ones </font></font><code>LineSegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(and storing more points in the class itself). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now let's see how to add more points to this system by creating a class of a square.</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We work with squares </font></font></h2><br><img src="https://habrastorage.org/getpro/habr/post_images/9ae/750/571/9ae7505718d1aaf5155c8fafabad7128.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To implement the class of control quadrangles you just need to add a few additions to the class </font></font><code>Triangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">With another set of points, the class of the quadrilateral will look like this:</font></font><br><br><pre> <code class="javascript hljs">Quad Class { <span class="hljs-attr"><span class="hljs-attr">Variables</span></span>: int Point1X, Point1Y; <span class="hljs-comment"><span class="hljs-comment">//    int Point2X, Point2Y; int Point3X, Point3Y; int Point4X, Point4Y; Function: array returnPointsInQuad; //    }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we just need to add another straight line segment to the function </font></font><code>returnPointsInQuad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, like this:</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returnPointsInQuad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ array PointsToReturn; <span class="hljs-comment"><span class="hljs-comment">//       //         PointsToReturn.push(new LineSegment(this.Point1X, this.Point1Y, this.Point2X, this.Point2Y)); PointsToReturn.push(new LineSegment(this.Point2X, this.Point2Y, this.Point3X, this.Point3Y)); PointsToReturn.push(new LineSegment(this.Point3X, this.Point3Y, this.Point4X, this.Point4Y)); PointsToReturn.push(new LineSegment(this.Point4X, this.Point4Y, this.Point1X, this.Point1Y)); return(PointsToReturn); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Although this way of creating classes is fairly simple, there is a much easier way to encapsulate all polygons into one class. </font><font style="vertical-align: inherit;">With the help of the magic of loops and arrays, we can implement a class of polygons that can accommodate forms of almost any complexity!</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We work with polygons </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To create an ever expanding polygon class, we need two serious steps. </font><font style="vertical-align: inherit;">The first is to put all the points in an array, which will give us a sketch of a class like this:</font></font><br><br><pre> <code class="javascript hljs">Polygon Class { <span class="hljs-attr"><span class="hljs-attr">Variables</span></span>: array Points; <span class="hljs-comment"><span class="hljs-comment">//      Function: array returnPointsInPolygon; //,     }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The second is the use of a loop to bypass the entire indefinite number of straight line segments in a function </font></font><code>returnPointsInPolygon()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, which may look something like this:</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returnPointsInPolygon</span></span></span><span class="hljs-function"> </span></span>{ array PointsToReturn; <span class="hljs-comment"><span class="hljs-comment">//      //              (  ) for(int x = 0; x &lt; this.Points.length; x+=2) { if(   ) { //          PointsToReturn.push(new LineSegment(this.Points[x], this.Points[x+1], this.Points[x+2], this.Points[x+3])); } else if(  ) { //          PointsToReturn.push(new LineSegment(this.Points[x-2], this.Points[x-1], this.Points[0], this.Points[1])); } } //   return PointsToReturn; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Having added this class to the engine, we can create anything in one line of code - from a triangle to a 39-sided monster. </font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Polygon Creator </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To experiment with a new polygon class, let's create a program that demonstrates all of its capabilities. </font><font style="vertical-align: inherit;">Our program will allow the user to add or remove sides of the displayed polygon using the keys. </font><font style="vertical-align: inherit;">Of course, you need to make a limit on the number of sides of the polygon, because with less than three sides, it ceases to be a polygon. </font><font style="vertical-align: inherit;">We do not really care about the upper limit of the sides of the landfill, because it will scale well. </font><font style="vertical-align: inherit;">However, we will limit the number of sides to ten, because we will set new points in the code. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Program specifications can be broken down into the following parts:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The initial drawing of the polygon on the screen. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pressing the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key </font><font style="vertical-align: inherit;">reduces the number of sides of the polygon by 1.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When you press the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key, </font><font style="vertical-align: inherit;">increase the number of sides of the polygon by 1.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The number of sides of the landfill should not be less than 3. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The number of sides of the landfill should not be more than 10. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Let's see how our code should look like: </font></font><br><br><pre> <code class="javascript hljs">main{ <span class="hljs-comment"><span class="hljs-comment">//   API //   (   ) var camera = new Camera(); //    camera.objectsInWorld[]; //    //    camera.minX = 0; camera.maxX = screenWidth; camera.minY = 0; camera.maxY = screenHeight; camera.minZ = 0; camera.maxZ = 100; //c       var threeSides = new Array(100,100,100,50,50,50); var fourSides = new Array(points in here); var fiveSides = new Array(points in here); var sixSides = new Array(points in here); var sevenSides = new Array(points in here); var eightSides = new Array(points in here); var nineSides = new Array(points in here); var tenSides = new Array(points in here); //         var sidesArray = new Array(threeSides, fourSides, fiveSides, sixSides, sevenSides, eightSides, nineSides, tenSides); //     var polygonPoints = 3; //    var polygon = new Polygon(sidesArray[0][0], sidesArray[0][1], sidesArray[0][2], sidesArray[0][3], sidesArray[0][4], sidesArray[0][5],); //     camera.drawScene(); //     escape while(key != esc) { if(key pressed == 'a') { //        3 if(polygonPoints != 3) { //   polygonPoints--; // ,       } //  camera.drawScene(); } else if(key pressed == 's') { //        10 if(polygonPoints != 10) { //   polygonPoints++; // ,       } //  camera.drawScene(); } } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Our small program will now allow you to change the polygon on the screen! </font><font style="vertical-align: inherit;">If you want to make the program a little more powerful, you can add some algorithm to the polygon part to simplify scaling. </font><font style="vertical-align: inherit;">I don‚Äôt know if it exists, but if so, you can easily get an infinitely scalable polygon!</font></font><br><br><hr><br><h2>  Conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now there are quite a lot of rasterization operations in our engine, which allows us to create almost any necessary shape (however, some of them will require a combination). </font><font style="vertical-align: inherit;">In the next part, we move away from drawing forms and talk about other properties. </font><font style="vertical-align: inherit;">If you are interested in adding some color to the screen, then read the next part!</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Part 5: colors </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Our theoretical engine already contains almost everything needed, namely: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classes </font></font><code>Point</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>Vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(engine building blocks).</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Functions of transformations of points. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Class </font></font><code>Camera</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(sets the scope and cuts off points outside the screen).</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Three classes for rasterization (line segments, circles and polygons). </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now let's add colors! </font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Color for all! </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Our engine will process colors, keeping their values ‚Äã‚Äãin class </font></font><code>Point</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. This will allow each point to have its own color, which will greatly simplify the calculations of lighting and shading (at least for a person - sometimes this engine code is less effective). When calculating the illumination and shading of the scene, we can create a function with a list of points and process all of them taking into account the distance to the light source in order to change their color accordingly. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One of the most common ways to store color in programming is to use red, green, and blue values ‚Äã‚Äã(usually called additive color mixing). By saving a value from 0 to 255 of each of the color components, you can create a large palette of colors. (Thus, most of the APIs determine the color, so it‚Äôs logical to use this method for compatibility).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depending on the graphics API used, these values ‚Äã‚Äãcan be transmitted either in decimal ( </font></font><code>255,0,0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) or hexadecimal form ( </font></font><code>0xFF0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code>#FF0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). We will use the decimal format, because it is much easier to work with it. In addition, if your graphics API uses hexadecimal values, then it most likely has a function for converting decimal values ‚Äã‚Äãto hexadecimal values, that is, this will not be a problem. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a65/37e/5c0/a6537e5c075782c18df55b2f685e0198.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To start the implementation of a color model, we add three new variables in the Point class: </font></font><code>red</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>blue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>green</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. So far, nothing incomprehensible happens, but here‚Äôs how the sketch of our class should now look </font></font><code>Point</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="javascript hljs">Point Class { <span class="hljs-attr"><span class="hljs-attr">Variables</span></span>: num tuple[<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//(x,y,z) num red, green, blue; //     r, g, b Operators: Point AddVectorToPoint(Vector); Point SubtractVectorFromPoint(Vector); Vector SubtractPointFromPoint(Point); Null SetPointToPoint(Point); Functions: drawPoint; //      }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That's all we need to store the color of the point. </font><font style="vertical-align: inherit;">Now we just need to change the camera's render function to use the specified color. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The appearance of the function depends very much on the graphic API used, but all interfaces usually have a similar function:</font></font><br><br><pre> <code class="javascript hljs">object.setColor(red, green, blue)</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> If your graphics API uses hexadecimal, not decimal, color values, the function will look something like this: </font></font><br><br><pre> <code class="javascript hljs">object.setColor(toHex(red,green,blue))</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This line uses the function </font></font><code>toHex()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(again, in different API the names of the functions will be different), converting the RGB value into a hexadecimal value, so that you do not have to do it manually. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">By making these changes, you can get colored dots in the scene. </font><font style="vertical-align: inherit;">In the next step, we will add rasterization classes so that we can color the forms entirely. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To add this capability to classes, we just need to add color management to the constructor functions. </font><font style="vertical-align: inherit;">It might look like this:</font></font><br><br><pre> <code class="javascript hljs">lineSegment::<span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(startX, startY, endX, endY, red, green, blue) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.startX = startX; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.startY = startY; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.endX = endX; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.endY = endY; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.red = red; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.green = green; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.blue = blue; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now we just need to change the function of the returned points so that each point in the array has the specified color. </font><font style="vertical-align: inherit;">The new feature will look like this:</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returnPointsInSegment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        var pointArray = new Array(); //          var x0 = this.startX; var y0 = this.startY; var x1 = this.endX; var y1 = this.endY; //     ,     var dx = Math.abs(x1-x0); var dy = Math.abs(y1-y0); var sx = (x0 &amp; x1) ? 1 : -1; //  x var sy = (y0 &amp; y1) ? 1 : -1; //  y var err = dx-dy; //    //     pointArray.push(new Point(x0,y0,this.red,this.green,this.blue)); //   while(!((x0 == x1) &amp;&amp; (y0 == y1))) { var e2 = err * 2; //   //    ,       (  ) if(e2 =&gt; -dy) { err -= dy; x0 += sx; } if(e2 &lt; dx) { err += dx; y0 += sy; } //     pointArray.push(new Point(x0, y0,this.red,this.green,this.blue)); } return pointArray; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now each point on the line segment has the same color, transmitted in the line segment. </font><font style="vertical-align: inherit;">You can use this method to specify colors and other rasterization classes, and then your scene will be painted with different colors! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's use our new features by writing a program.</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Experimenting with 16.7 million colors </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With the help of additive color mixing, we can easily create more than 16.7 million colors using a simple entry ( </font></font><code>r,g,b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">We will create a program that uses all this huge amount of colors. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We will allow the user to control the red, green and blue components of the color by pressing the keys and he can choose any color he likes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The program will have the following specifications:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Drawing an object on the screen. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When you press the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key, the </font><font style="vertical-align: inherit;">value of the red component decreases, and when you press </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , it increases.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When you press the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key, the </font><font style="vertical-align: inherit;">value of the green component decreases, and when you press </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , it increases.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When you press the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key, the </font><font style="vertical-align: inherit;">value of the blue component decreases, and when you press </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , it increases.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Object redrawing after color update. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> It is necessary to limit the values ‚Äã‚Äãof the components and not let them go beyond the limits from 0 to 255. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Given all this, let's look at how the outline of our program might look like: </font></font><br><br><pre> <code class="javascript hljs">main{ <span class="hljs-comment"><span class="hljs-comment">//   API //   (   ) var camera = new Camera(); //    //    camera.minX = 0; camera.maxX = screenWidth; camera.minY = 0; camera.maxY = screenHeight; camera.minZ = 0; camera.maxZ = 100; // ,      var red, green, blue; //       while(key != esc) { if(key press = 'a') { if(red &gt; 0) { red --; object.red = red; //  } } if(key press = 'q') { if(red &lt; 255) { red ++; object.red = red; //  } } if(key press = 's') { if(green &gt; 0) { green --; object.green = green; //  } } if(key press = 'w') { if(green &lt; 255) { green ++; object.green = green; //  } } if(key press = 'd') { if(blue &gt; 0) { blue --; object.blue = blue; //  } } if(key press = 'e') { if(blue &lt; 255) { blue ++; object.blue = blue; //  } } } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now we can experiment with the object and give it any color! </font></font><br><br><br><hr><br><h2>  Conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We added color to the engine and now we have everything we need to work with lighting. </font><font style="vertical-align: inherit;">In the next section, we will look at the process of creating a light source and write functions that allow these sources to influence the colors of the dots.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Part 7: dynamic lighting </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this part we will look only at the very basics of dynamic lighting, so don't be too scared (this whole topic is very extensive and entire books are written about it). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">More specifically, we will create a one-point one-color dynamic lighting system with a constant radius. </font><font style="vertical-align: inherit;">But before we begin, let's look at some of the previously created classes that will be useful to us.</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Reiteration </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Our dynamic lighting will be processed for each point in the process of their display on the screen. </font><font style="vertical-align: inherit;">This means that we will actively use our two previous classes: class </font></font><code>Point</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and class </font></font><code>Camera</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Here's what they look like:</font></font><br><br><pre> <code class="javascript hljs">Point Class { <span class="hljs-attr"><span class="hljs-attr">Variables</span></span>: num tuple[<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//(x,y,z) Operators: Point AddVectorToPoint(Vector); Point SubtractVectorFromPoint(Vector); Vector SubtractPointFromPoint(Point); Null SetPointToPoint(Point); Functions: drawPoint; //      } Camera Class { Vars: int minX, maxX; int minY, maxY; int minZ, maxZ; array objectsInWorld; //    Functions: null drawScene(); //      }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Let's create a simple lighting class based on this information. </font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lighting class </font></font></h2><br><img src="https://habrastorage.org/getpro/habr/post_images/eed/c9c/b95/eedc9cb95133b92ab3b924730e5bb0aa.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An example of dynamic lighting. Source: </font></font><a href="http://redeyeware.zxq.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://redeyeware.zxq.net</font></font></a></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> To work, the lighting class will need some information, namely, position, color, type and intensity (or radius of the light). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As I said earlier, the lighting will be calculated for each point before drawing it. The advantages of this approach are that it is simpler for the engine structure and transfers most of the program load to the central processor. If you calculate the lighting in advance, the load will move to the hard disk of the computer and depending on the design of the engine it will be easier or more difficult to implement. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Given all this, the class will look something like this:</font></font><br><br><pre> <code class="javascript hljs">Lighting Class { <span class="hljs-attr"><span class="hljs-attr">Variables</span></span>: num position[<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//(x,y,z) num red = 255; //,    r     num green = 255; //,    g     num blue = 255; //,    b     string lightType = "point"; //  num radius = 50; //     }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For the sake of simplicity, we will keep all these values ‚Äã‚Äãrigidly set for now, but if you want to expand the capabilities of the lighting classes, you can easily change these values ‚Äã‚Äãthrough other functions, the constructor, etc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">However, all the important calculations for dynamic lighting will be performed in the camera class, so let's look at it.</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shine? </font><font style="vertical-align: inherit;">Camera? </font><font style="vertical-align: inherit;">Motor.</font></font></h2><br><img src="https://habrastorage.org/getpro/habr/post_images/8c6/50a/cf1/8c650acf11ceffcbf1fe5740a5669204.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Another example of dynamic lighting. Source: </font></font><a href="http://blog.illuminatelabs.com/2010/04/hdr-and-baked-lighting.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://blog.illuminatelabs.com/2010/04/hdr-and-baked-lighting.html</font></font></a></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now we will add a new variable to the camera class that we use to store the light source. For now, this variable will contain only one instance of the source, but it can be easily extended so that several point sources can be stored. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Immediately before drawing the point, we will check whether it is in the radius of the light source. If it is, then we need to find the distance between the point and the position of the source, and then change the color of the point in accordance with the distance. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Given all this, we can add a code similar to the code from the camera function </font></font><code>drawScene()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(currentPoint.x &gt;= (light.x - light.radius)){ <span class="hljs-comment"><span class="hljs-comment">//        if(currentPoint.x &lt;= (light.x + light.radius)){ //        if(currentPoint.y &gt;= (light.y - light.radius)){ //        if(currentPoint.y &lt;= (light.y + light.radius)){ //        //      (distance) //    (percentage = distance / radius) point.red += (light.red * percentage); //   ,      point.green += (light.green * percentage); //   ,      point.blue += (light.blue * percentage); //   ,      } } } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As you can see, our way of changing the color of a point is not too complicated yet (however, there are many others that can be used if desired). </font><font style="vertical-align: inherit;">We change the color of the point to a percentage, depending on the distance to the center of the light source. </font><font style="vertical-align: inherit;">Our lighting method completely ignores shadowing, so the points far from the light source do not become darker, and the objects do not block the light from other objects that may be behind them.</font></font><br><br><hr><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Follow the light </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This time in the program we will use several permanent forms on the screen. </font><font style="vertical-align: inherit;">You can choose any form, but in our example I use a few simple points. </font><font style="vertical-align: inherit;">When the user clicks on the screen, we create a light source at this point. </font><font style="vertical-align: inherit;">The next time we press, we move the point to a new position, and so on. </font><font style="vertical-align: inherit;">This will allow us to observe the dynamic lighting in action. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here is what the program might look like:</font></font><br><br><pre> <code class="javascript hljs">main{ <span class="hljs-comment"><span class="hljs-comment">//   API //   (   ) var camera = new Camera(); //    //    camera.minX = 0; camera.maxX = screenWidth; camera.minY = 0; camera.maxY = screenHeight; camera.minZ = 0; camera.maxZ = 100; //         while(key != esc) { if(mouseClick) { if(firstClick) { //         } else { //     } camera.drawScene(); } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now you can appreciate the dynamic lighting in action and see how much depth it adds to the game engine. </font></font><br><br><hr><br><h2>  Conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Although our dynamic lighting is simple, you can easily expand it if you like. </font><font style="vertical-align: inherit;">Some fairly simple but interesting additions:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> variable radius of illumination </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> changeable color of lighting (instead of a monotonous change of color, you can change it to a part of the specified color) </font></font></li><li>     </li><li>     </li><li>          </li><li>      (,   ..) </li></ul></div><p>Source: <a href="https://habr.com/ru/post/334580/">https://habr.com/ru/post/334580/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334570/index.html">Upgrading traders' workplace infrastructure</a></li>
<li><a href="../334572/index.html">10 steps to set up the Create React App + TypeScript + Ant-Design</a></li>
<li><a href="../334574/index.html">How we created a fast event stream processing device on FPGA</a></li>
<li><a href="../334576/index.html">How to configure Travis CI for a .NET Core + PostgreSQL project</a></li>
<li><a href="../334578/index.html">Oracle Storage Cloud Services - everything your enterprise data warehouse needs</a></li>
<li><a href="../334582/index.html">Roslyn analyzers: habits and habitats</a></li>
<li><a href="../334584/index.html">Interplanetary File System - Switch your site to localhost (local IPFS gateway)</a></li>
<li><a href="../334586/index.html">Microservices and Actor Model</a></li>
<li><a href="../334588/index.html">Comprehensive online marketing guide. Day 67. Retargeting and what it is eaten with.</a></li>
<li><a href="../334590/index.html">How to refactor 2 500 000 lines of code and not go crazy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>