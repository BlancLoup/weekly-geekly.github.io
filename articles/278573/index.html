<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Adaptive Split View Controller and Popover in iOS 9 (Swift). Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From time immemorial, the Split View Controller and Popover in iOS were only available on the iPad. 
 Starting with iOS 8, they now work on both the i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Adaptive Split View Controller and Popover in iOS 9 (Swift). Part 1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/dfa/ad6/aaf/dfaad6aaf7d745139434deab957f1f87.png"><br><br>  From time immemorial, the <b>Split View Controller</b> and <b>Popover</b> in iOS were only available on the iPad. <br>  Starting with iOS 8, they now work on both the iPad and the iPhone, thanks to the concept of <b>Size Classes</b> and their adaptive behavior.  However, the automatic adaptation offered by Apple out of the box most often does not suit us and we have to write a small additional code using the <code><font color="#0000FF">UISplitViewControllerDelegate</font></code> and <code><font color="#0000FF">UIPopoverPresentationControllerDelegate</font></code> delegates methods.  In this article, we will explore the adaptive abilities of the <b>Split View Controller</b> and <b>Popover</b> using the example of very simple practical applications that work with the <a href="https://www.flickr.com/">Flickr.com</a> server, which is a cloud service for storing photos.  By itself, this task has a great practical meaning, since it is a common case when data is read from a certain server and then presented as related tables and images.  Along the way, we will demonstrate live Swift syntax constructions, such as computed properties c <code><font color="#0000FF">{get}</font></code> and <code><font color="#0000FF">{set}</font></code> , observers of <code><font color="#0000FF">didSet{}</font></code> properties, higher-order functions <code><font color="#0000FF">map, flatMap, filter</font></code> , type inference from the context, and overload, sharing Swift and Objective-C code, working with <code><font color="#0000FF">NSUserDefaults</font></code> , using <code><font color="#0000FF">NSUserDefaults</font></code> storage, etc.  But still, this article focuses on more complex configurations of adaptive <b>Split View Controller</b> and <b>Popover</b> . <br>  Later, all the applications in this article can be used as templates for developing your applications with similar tasks. <br><a name="habracut"></a><br><br>  So, according to the iOS philosophy, the user interface (UI) can quickly be configured to any type of device, depending on which <b>Size Class</b> has its screen. <br>  To classify various devices in iOS 8, the concept of <b>Size Class</b> was introduced.  Only four <b>Size Classes</b> : <br><ul><li>  Horizontal Regular </li><li>  Horizontal compact </li><li>  Vertical Regular </li><li>  Vertical Compact </li></ul><br>  Your <code>View Controller</code> ( <b>Split View Controller</b> or <b>Popover</b> ) always exists in a <b>Size Class</b> environment with a specific width (width) and height (height).  Currently, the <b>Size Class</b> can be either <b>Compact</b> or <b>Regular</b> : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/392/e55/5d2/392e555d2a3141d080d15eacd3aeba04.png" width="420" height="420"><br><br>  Full-size <b>View Controllers</b> on iPad are always <b>Regular</b> in both directions (horizontal and vertical).  On all iPhones before the appearance of the iPhone 6+ and iPhone 6s +, the horizontal size was always <b>Compact</b> (both in portrait and landscape modes), and the vertical size was <b>Regular</b> in portrait mode and <b>Compact</b> in landscape mode.  With the advent of large iPhones 6+ and iPhones 6s +, unlike other iPhones, their width became <b>Regular</b> in landscape mode, which made it possible to extend the use of the full-fledged <b>Split View Controller</b> to iPhones 6+ and iPhones 6s + in landscape mode. <br>  It will not be very convenient if I create various interfaces for all 4 situations for my applications.  Therefore, in Xcode 7 we have another <b>Size Class</b> , called Any (w <b>Any</b> h <b>Any</b> ), which we use when designing universal applications: <br><br><img src="https://habrastorage.org/files/ffe/dd0/194/ffedd0194998480f850ea631ef727983.png" width="500" height="310"><br><br>  In iOS 7, we had to use two completely different user interfaces built on different types of <b>Controllers</b> when creating a universal application (below are the photoboards from the <a href="https://github.com/BestKora/Photomania-URL-Universal">Photomania Universal URL</a> from the previous Stanford CS193P course Fall 2013 - Winter 2014. <a href="https://itunes.apple.com/us/course/developing-ios-7-apps-for/id733644550">‚ÄúDeveloping iOS 7 Apps for iPhone and iPad‚Äù</a> ): <br>  <b>Split View Controller</b> on iPad <br>  Main_iPad.storyboard <br><img src="https://habrastorage.org/files/4ee/e25/1ac/4eee251ac38b481bb6c90c9c59540505.png" width="900" height="584"><br><br>  <b>Navigation Controller</b> on iPhone <br>  Main_iPhone.storyboard <br><br><img src="https://habrastorage.org/files/245/2b7/606/2452b760606e4b36ae9a6557255ebc67.png"><br><br>  The <a href="https://github.com/BestKora/Photomania-URL-Universal">Photomania Universal URL</a> app queries the <a href="https://www.flickr.com/">Flickr</a> server for the most recent photos, compiles a list of photographers who took these photos, and shows it to you.  If you click on the photographer, a list of the photos taken by him appears in the table.  Then you can click on any photo in the list, and get both a full-scale image of your photo and the <b>URL of</b> that image. <br>  Here is how this application works with <b>Compact-width</b> devices: <br><img src="https://habrastorage.org/files/a10/36a/4e2/a1036a4e2c464ff0856df72b33993cba.png" width="900" height="446"><br><br>  And this is how it works with <b>Regular-width</b> devices: <br><br><img src="https://habrastorage.org/files/b7b/b5b/e2f/b7bb5be2f9184337b1f55dfc7b753dd0.png" width="900" height="324"><br><br>  This background application constantly queries the <a href="https://www.flickr.com/">Flickr</a> server for more and more recent photos and uploads them to the <b>Core Data</b> database.  The list of photographers on the screen tracks the appearance of this data, which is constantly updated automatically.  The application was designed for iOS 7 and written in Objective-C.  Its implementation included two storyboards: one for the iPhone, and the other for the iPad (listed above).  It was in the order of things, and there was no talk of any adaptive interface, except for using the Autolayout mechanism. <br>  However, the <a href="https://github.com/BestKora/Photomania-URL-Universal">Photomania Universal</a> application designed in this way for iOS 7 will not work <u>correctly</u> on all devices in iOS 9: on iPhone 5s and older iPhones, black bars will appear below and above the screen. <br>  Therefore, the task was to create a modern adaptive UI of this application for iOS 9 on Swift.  It is solved using the <b>Split View Controller</b> container, which, starting with iOS 8, becomes adaptive.  This means that the only <b>Split View Controller</b> can manage two different architectures: for iPhone and for iPad. <br><br>  To get an adaptive interface in iOS 9, you need to select a storyboard file with a <b>Split View Controller</b> , specify <b>Size Class</b> and <b>Auto Layout</b> mode in the File Inspector <br><img src="https://habrastorage.org/files/f90/d02/173/f90d0217369b4d1f8bfab8aedfe2fd48.png" width="600" height="460"><br><br>  and add a new adaptive <b>segue</b> like <b>Show Detail</b> : <br><img src="https://habrastorage.org/files/0f7/cdb/db8/0f7cdbdb898f4814853db102ef9159c1.png" width="800" height="428"><br><br>  The adaptive storyboard is very similar to the storyboard for iPad in iOS 7, except for two things: <br><ul><li>  the sizes of all screen fragments are the same and correspond to the class w <b>Any</b> h <b>Any</b> that is universal in Xcode, </li><li>  a new adaptive <b>segue of</b> type <b>Show Detai</b> l appeared, which helps the <b>Split View Controller to</b> perform two functions at once: ‚Äúsliding‚Äù along the stack elements in the <b>Navigation Controller</b> , as was the case for the iPhone, and ‚Äúmoving‚Äù to <b>Detail</b> , as is the case in the Split View Controller for iPad.  (Previously, there was no <b>segue</b> on the iPad at all) </li></ul><br><br>  Next, we have to investigate the work of the adaptive <b>Split View Controller</b> on various devices, and in case of deviation of its work from our usual functioning, make certain additions to the code.  The number of these additions depends on what elements are included in the <b>Master</b> and <b>Detail</b> .  We will list five interesting cases from the developer‚Äôs point of view, which are different in <b>Master</b> complexity, and the <b>Detail</b> is the same everywhere ‚Äî the only <code><font color="#0000FF">ImageViewController</font></code> inserted into the <b>Navigation Controller</b> and designed to show the image of the photo: <br><br>  1. The classic version: one element in the <b>Master</b> , inserted into the <b>Navigation Controller</b> , (often the <b>Table View Controller</b> ) - the <i>AdaptiveSplitViewController1Swift</i> application on <a href="https://github.com/BestKora/AdaptiveSplitViewSwift">Github</a> . <br><img src="https://habrastorage.org/files/afa/28b/ff6/afa28bff63e84e66b5160cd7e7e23374.png" width="600" height="419"><br><br>  2. Many <b>Table View Controller</b> elements inserted into the <b>Navigation Controller</b> - the <u>AdaptiveSplitViewController2Swift</u> application on <a href="https://github.com/BestKora/AdaptiveSplitViewSwift">Github</a> . <br><img src="https://habrastorage.org/files/0ca/20b/2d0/0ca20b2d060c41129f36637919fb813c.png" width="800" height="428"><br><br>  3. <b>Tab Bar Controller</b> as <b>Master</b> - <i>AdaptiveSplitViewController3Swift</i> application on <a href="https://github.com/BestKora/AdaptiveSplitViewSwift">Github</a> . <br><img src="https://habrastorage.org/files/fcc/4f7/e03/fcc4f7e037364ca199ccdad6b0870097.png" width="800" height="592"><br><br>  4. The case of different UI and different user classes for devices with different <b>Size Classes</b> is not discussed here, but the idea can be found in <a href="http://bestkora.com/IosDeveloper/dopolnenie_/">‚ÄúAdaptive interface with two storyboards for iOS 9‚Äù</a> . <br><br>  5. Adaptive <b>Popover</b> - <i>AdaptiveSplitViewController4Swift</i> application on <a href="https://github.com/BestKora/AdaptiveSplitViewSwift">Github</a> . <br><img src="https://habrastorage.org/files/45a/d8a/554/45ad8a554f9c441a9577f2bd3e940dd4.png" width="800" height="427"><br><br>  The easiest way to understand the need for additional corrections is to experiment not with the cumbersome <a href="https://github.com/BestKora/Photomania-Split-Popover-Swift">Photomania Universal URL</a> application c ‚Äúuploading‚Äù <a href="https://www.flickr.com/">Flickr</a> photos in the background in <b>Core Data</b> , but with a very simple application also working with photos located on the <a href="https://www.flickr.com/">Flickr</a> server.  Information about these photos is read asynchronously in the application and placed in a table so that after the user selects a particular photo, show its full-scale image.  Designing such an application from scratch will allow us to ‚Äúkill two birds with one stone‚Äù.  On the one hand, demonstrate the syntax of Swift.  And, on the other hand, use this simple experimental application as a base for more complex adaptive configurations of <b>Split View Controller</b> and <b>Popover</b> . <br><br><h2>  Experimental application </h2><br>  Open a new project for a universal application on Swift, call it AdaptiveSplitViewController1Swift and use the <b>Single View Application</b> template (this is the template, not the <b>Master-Detail Application</b> , which we will explore later). <br><br><img src="https://habrastorage.org/files/521/98c/f86/52198cf867de42c6a3b2d8593ef56649.png"><br>  We will design our application from scratch.  Therefore, we remove the single screen fragment of the <b>View Controller</b> from the storyboard and leave the storyboard completely empty.  Also remove the ViewController.swift file. <br>  Set the adaptive mode on the storyboard, that is, enable the <b>Size Class</b> and <b>Auto Layout</b> options: <br><br><img src="https://habrastorage.org/files/80f/f1a/037/80ff1a03730f4f52863d1c43cb406b10.png" width="800" height="273"><br>  Drag from the object palette to the storyboard <b>Table View Controller</b> for the Flickr photo list and the usual <b>View Controller</b> for the full-scale image of the photo.  The last screen fragment will receive the <b>URL of the</b> photo as a Model and display its image.  Therefore, it will be called <b>Image View Controller</b> . <br>  Paste the <b>Table View Controller</b> into the <b>Navigation Controller</b> <br><img src="https://habrastorage.org/files/69a/e91/019/69ae91019266452191e3b42556d62373.png" width="800" height="267"><br><br>  and connect the <b>Table View Controller</b> and the <b>Image View Controller with the</b> usual <b>Show segue</b> with the identifier ‚ÄúShow Photo‚Äù: <br><img src="https://habrastorage.org/files/5c6/f99/0fa/5c6f990fa10b4aa7b0c46f11af4b766a.png" width="800" height="307"><br><br>  Set the <b>Navigation Controller</b> as a start screen fragment: <br><img src="https://habrastorage.org/files/602/547/579/6025475796c74f1bb8a096f6b1aee96b.png" width="800" height="307"><br><br>  In the <b>Table View Controller,</b> set the style of the dynamic cell prototype as <b>Subtitle</b> and set the identifier <code><font color="#0000FF">photoCell</font></code> for the reused cell <br><img src="https://habrastorage.org/files/817/534/3fd/8175343fd48741a58ff5f9a10cf25dea.png" width="800" height="130"><br><br>  For a table with photos, we create a very simple <code><font color="#0000FF">FlickrPhotosTVC</font></code> class, which inherits from <code><font color="#0000FF">UITableViewController</font></code> and whose task is to display a list of photos represented by an array of <code><font color="#0000FF">Photo</font></code> structures: <br><br>  <u><i>FlickrPhotosTVC.swift</i></u> <br><img src="https://habrastorage.org/files/381/247/962/381247962a3441a6a8b4f8748a35049d.png" width="700" height="126"><br><br>  The <code><font color="#0000FF">Photo</font></code> structure, which we place in the <i><u>DataModel.swift</u></i> file, contains the title of the photo <code><font color="#0000FF">title</font></code> , more detailed information about the photo <code><font color="#0000FF">subtitle</font></code> , the unique identifier of the photo <code><font color="#0000FF">unique</font></code> , the <code><font color="#0000FF">imageURL</font></code> image <code><font color="#0000FF">imageURL</font></code> , which made the photographer‚Äôs photo: <br><br>  <u><i>DataModel.swift</i></u> <br><img src="https://habrastorage.org/files/637/c71/772/637c71772380455c87a6730599243e40.png" width="700" height="139"><br><br>  The <code><font color="#0000FF">struct Photo</font></code> structure has a <code><font color="#0000FF">convenience</font></code> initializer <code><font color="#0000FF">init?(json:[String:AnyObject])</font></code> , which has input data from the <a href="https://www.flickr.com/">Flickr</a> server as a dictionary <code><font color="#0000FF">[String:AnyObject]</font></code> .  This is an <code><font color="#0000FF">Optional</font></code> initializer, and that is why it has a sign <code><font color="#0000FF">?</font></code>  question in the name of <code><font color="#0000FF">init?</font></code>  : <br><br>  <u><i>DataModel.swift</i></u> <br><img src="https://habrastorage.org/files/9c7/40b/d58/9c740bd587e94b6fb5b4dbbc01d90545.png" width="750" height="326"><br>  There are special requirements for the formation of attributes <code><font color="#0000FF">Photo</font></code> .  If the photo does not have a title, then you need to use a detailed description of the <code><font color="#0000FF">subtitle</font></code> photo as the <code><font color="#0000FF">title</font></code> .  If the photo has neither title <code><font color="#0000FF">title</font></code> nor detailed description of <code><font color="#0000FF">subtitle</font></code> , you need to use ‚ÄúUnknown‚Äù as <code><font color="#0000FF">title</font></code> .  The keys <code><font color="#298A08">FLICKR_PHOTO_TITLE, FLICKR_PHOTO_ID, FLICKR_PHOTO_DESCRIPTION</font></code> and <code><font color="#298A08">FLICKR_PHOTO_OWNER</font></code> of the Flickr photo dictionary are defined in the <u><i>FlickrFetcher.h</i></u> file containing the <b>public API</b> for <a href="https://www.flickr.com/">Flickr</a> (more on that later). <br><br>  The array of structures <code><font color="#0000FF">var photos = [Photo]</font></code> is the model for <b>MVC</b> <code><font color="#0000FF">FlickrPhotosTVC</font></code> and is used in the <code><font color="#0000FF">UITableViewDataSource</font></code> methods: <br><br>  <u><i>FlickrPhotosTVC.swift</i></u> <br><img src="https://habrastorage.org/files/98d/eec/4bb/98deec4bb1b84583b7696cd1a18eac39.png" width="700" height="273"><br><br>  and also when ‚Äúmoving‚Äù to the <b>Image View Controller</b> under the assumption that the model of the <code><font color="#0000FF">ImageViewController</font></code> class that serves it is the property <code><font color="#0000FF">var imageURL: NSURL?</font></code>  The <b>URL of the</b> photo image.  We prepare the new <b>segue</b> <b>Show Detail</b> type in the code of the <code><font color="#0000FF">FlickrPhotosTVC</font></code> class <code><font color="#0000FF">FlickrPhotosTVC</font></code> such a way as to take into account the presence of the <b>Navigation Controller</b> preceding the <b>Image View Controller</b> , and add the <code><font color="#0000FF">displayModeButtonItem</font></code> button on the navigation bar (but more on that later) to <b>Split View Controller</b> : <br><br>  <u><i>FlickrPhotosTVC.swift</i></u> <br><img src="https://habrastorage.org/files/8f9/8cc/c97/8f98ccc9770947ee8b3d4bcc8b083cba.png" width="730" height="349"><br>  The constants for the storyboard are collected in the <code><font color="#0000FF">privater</font></code> structure of the <code><font color="#0000FF">Storyboard</font></code> : <br><br>  <u><i>FlickrPhotosTVC.swift</i></u> <br><img src="https://habrastorage.org/files/0f1/0f8/148/0f10f8148a124839bf4b892ad6aff768.png" width="700" height="78"><br><br>  According to the concept of object-oriented programming, we will make the <code><font color="#0000FF">FlickrPhotosTVC</font></code> class more generic, that is, it will form a table of photos represented by the <code><font color="#0000FF">[Photo]</font></code> array and, when selecting a specific row in the table, show an image of the corresponding photo using <b>MVC</b> <code><font color="#0000FF">ImageViewController</font></code> .  But he will not care how the <code><font color="#0000FF">[Photo]</font></code> array is obtained: from the <a href="https://www.flickr.com/">Flickr</a> server or from the <code><font color="#0000FF">NSUserDefaults</font></code> repository. <br>  Therefore, in order to display photos from the <a href="https://www.flickr.com/">Flickr.com</a> server, we create a new class <code><font color="#0000FF">JustPostedFlickrPhotosTVC</font></code> , which is a <b>subclass of the FlickrPhotosTVC</b> class: <br><br>  <u><i>JustPostedFlickrPhotosTVC.swift</i></u> <br><img src="https://habrastorage.org/files/ccd/1d8/b04/ccd1d8b0491c451db717c7083b052bfc.png" width="650" height="130"><br>  ............................ <br><br>  The data from the <a href="https://www.flickr.com/">Flickr</a> server will be loaded in the class <code><font color="#0000FF">JustPostedFlickrPhotosTVC</font></code> using the <b>public API</b> for <a href="https://www.flickr.com/">Flickr</a> , which was provided by the <b><a href="http://web.stanford.edu/class/cs193p/cgi-bin/drupal/downloads-2013-fall">Stanford website</a></b> in the form of the <u><i>Flickr Fetcher</i></u> folder.  It allows you to get the <b>URL</b> s for various requests to <a href="https://www.flickr.com/">Flickr</a> , its code is written in Objective-C.  The easiest way to include Objective-C code in a Swift project is to copy one file from the <u><i>Flickr Fetcher</i></u> folder (there are only three of them) into your Swift project, then before you copy the <u><i>FlickrFetcher.m</i></u> file you will be asked if you want to add Objective- C header file for communication with Swift ?: <br><br><img src="https://habrastorage.org/files/0a2/fec/668/0a2fec6689754a7c94c59af87816f4d2.png" width="700" height="311"><br><br>  You reply ‚ÄúCreate a header header file‚Äù.  As a result, an empty <u><i>AdaptiveSplitViewController1Swift-Bridging-Header.h</i></u> header file will be generated for your project, to which you add the necessary public API files for <a href="https://www.flickr.com/">Flickr</a> : <br><img src="https://habrastorage.org/files/027/633/622/02763362286646f58d2ffa52c3b5f9a9.png" width="600" height="334"><br><br>  Everything.  You don‚Äôt need to do anything else; now you can directly access classes and constants of the <b>public API</b> for <a href="https://www.flickr.com/">Flickr</a> .  All you have to do is get the <a href="https://www.flickr.com/services/api/misc.api_keys.html">Flickr API</a> key.  A free Flickr.com account is fine, since you will not post <a href="https://www.flickr.com/">photos</a> on <a href="https://www.flickr.com/">Flickr</a> , but only request them. <br>  The newly received header file is automatically registered in the project settings: <br><br><img src="https://habrastorage.org/files/4e0/17a/607/4e017a607dfa4af4bbf32ca4a2419be9.png" width="850" height="234"><br>  Let's go back to the <code><font color="#0000FF">JustPostedFlickrPhotosTVC</font></code> class, which is specifically designed to read the most ‚Äúfresh‚Äù photos from <a href="https://www.flickr.com/">Flickr</a> , and use the <b>public API</b> to form the <b>URL</b> request for ‚Äúrecent‚Äù photos.  Data reading at this <b>URL</b> is asynchronous and the resulting information is converted into an array <code><font color="#0000FF">[Photo]</font></code> : <br><br>  <u><i>JustPostedFlickrPhotosTVC.swift</i></u> <br><img src="https://habrastorage.org/files/209/62b/b8f/20962bb8febe466a8a5d89e7d1ce5c5c.png" width="750" height="379"><br><br>  <b>JSON</b> data is converted into an array of <code><font color="#0000FF">[Photo]</font></code> structures by a single line, thanks to the <code><font color="#0000FF">flatMap</font></code> function, type out of context, and <code><font color="#0000FF">Optional</font></code> <code><font color="#0000FF">Photo</font></code> initializer. <br>  <code><font color="#0000FF">self.photos</font></code> array <code><font color="#0000FF">self.photos</font></code> ‚Äúpicked up‚Äù by <b>superclas</b> s <code><font color="#0000FF">FlickrPhotosTVC</font></code> and we see a table of photos, provided that we put a custom class for the <b>Flickr Photos</b> table as <code><font color="#0000FF">JustPostedFlickrPhotosTVC</font></code> on the storyboard: <br><br><img src="https://habrastorage.org/files/2c7/63b/c40/2c763bc404e9487eaaedfe9162be5e33.png" width="680" height="311"><br><br>  In order to show the user that data is being downloaded from the network, which takes some time, let's enable <b>Flickr Photos</b> on the storyboard <b>Refresh Control</b> : <br><br><img src="https://habrastorage.org/files/abb/127/2fc/abb1272fc0ae47cd9d981c16e5e145cc.png" width="900" height="196"><br><br>  Before the <code><font color="#0000FF">func fetchPhotos ()</font></code> method of loading data from the <a href="https://www.flickr.com/">Flickr</a> server, we put <code><font color="#AB0F62">@IBAction</font></code> - that is, we show that this is an <b>Action</b> : <br><br><img src="https://habrastorage.org/files/36f/2f1/df4/36f2f1df41544ed7aa77e0f83b6a3d1d.png" width="700" height="143"><br><br>  Using <b>CTRL-</b> dragging, we will bind <b>Refresh Control</b> to <code><font color="#AB0F62">@IBAction</font></code> <code><font color="#0000FF">func fetchPhotos ()</font></code> : <br><br><img src="https://habrastorage.org/files/c1c/38a/eaf/c1c38aeaf17044a6a1fc8110fca045fc.png" width="900" height="410"><br><br>  To get a full-scale image of a photo, use the <code><font color="#0000FF">ImageViewController</font></code> class, whose model is <code><font color="#0000FF">var imageURL: NSURL?</font></code>  : <br><br>  <u><i>ImageViewController.swift</i></u> <br><img src="https://habrastorage.org/files/f78/229/5b7/f782295b7a5c4682865dc2292f033d09.png" width="700" height="268"><br><br>  Details of the design of this class are described in <a href="http://bestkora.com/IosDeveloper/lektsiya-9-cs193p-winter-2015-scroll-view-i-mnogopotochnost-multithreading/">Lecture 9 CS193P Winter 2015 - Scroll View and Multithreading of the</a> course <a href="https://itunes.apple.com/us/course/developing-ios-8-apps-swift/id961180099">‚ÄúDeveloping iOS 8 Apps with Swift‚Äù at</a> Stanford University CS193P Winter 2015. <br>  Install this class for the remaining on the storyboard <b>Image View Controller</b> : <br><br><img src="https://habrastorage.org/files/3c4/87a/90a/3c487a90ac54436ea74ad448c5ed8c3a.png" width="700" height="218"><br><br>  Run the application, wait for the download to finish c <u><a href="https://www.flickr.com/">Flickr</a></u> , select a photo, get its image. <br><br><img src="https://habrastorage.org/files/0f2/a5b/fec/0f2a5bfec4c848c188a0503efdf6e544.png" width="800" height="394"><br><br>  Everything functions correctly and looks good on <b>Compact-width</b> devices (all iPhones except iPhone 6+ and iPhone 6s +, for which this mode is valid only in portrait view), but on <b>Regular-width</b> devices (all iPad and iPhone 6+ and iPhone 6s + in landscape mode) should use <b>Split View Controller</b> . <br>  The code is on <b><a href="https://github.com/BestKora/AdaptiveSplitViewSwift">Github</a></b> - the <i><u>AdaptiveSplitViewController1Swift</u></i> application. <br>  This concludes the formation of our experimental application and proceeds with the implementation of the adaptive <b>Split View Controller</b> in the classic version. <br><br><h2>  1. Classic version of adaptive Split View Controller </h2><br>  To do this, create another storyboard in this application using the menu <b>File</b> -&gt; <b>New</b> -&gt; <b>File</b> -&gt; <b>User Interface</b> : <br><br><img src="https://habrastorage.org/files/15f/897/2af/15f8972af0594c64ae9d242aec78b736.png" width="600" height="422"><br><br>  Let's call it conditionally iPad.storyboard (in fact, the name has no meaning, since we later rename iPad.storyboard to Main.storyboard): <br><br><img src="https://habrastorage.org/files/0d5/bec/218/0d5bec2180d34d2cba7caf24a6a78a67.png" width="400" height="308"><br>  As a result, we get an empty iPad.storyboard.  In order for the application to work with iPad.storyboard, add the code to <i><u>AppDelegate.swift</u></i> : <br><img src="https://habrastorage.org/files/ed8/9c2/58a/ed89c258a39a409091930463d4f9169a.png" width="700" height="242"><br><br>  Extract from the Objects Palette and place on the storyboard <b>Split View Controller</b> , which appears along with the two accompanying <b>View Controllers,</b> which we will immediately remove, and instead of the <b>Master,</b> copy <code><font color="#0000FF">Flickr Photos</font></code> from the Main.storyboard, inserted into the <b>Navigation Controller</b> , and instead of <b>Detail</b> - <code><font color="#0000FF">Image View Controller</font></code> , also inserted into the <b>Navigation Controller</b> . <br><img src="https://habrastorage.org/files/f09/155/33c/f0915533c6d3418993f99aad7e9a4956.png" width="700" height="488"><br><br>  We use the new adaptive <b>segue of</b> type <b>Show Detail</b> with the identifier "Show Photo". <br><br><img src="https://habrastorage.org/files/ae9/635/3f0/ae96353f0e0a4b7e8fb23be72445c8c4.png" width="700" height="519"><br><br>  The brackets in the picture in the Attributes Inspector clarify that the <b>segue</b> of the <b>Show Detail</b> type is <b>Replace segu</b> e, which means that the <b>Detail of</b> this <b>Split View Controller</b> will be replaced with a new <b>MVC</b> instance.  This is very important for further understanding.  Like any other <b>segue</b> , <b>segue</b> of the <b>Show Detail</b> type needs preparation, especially if the <code><font color="#0000FF">destination</font></code> (the <b>View Controller</b> where we ‚Äúmove‚Äù thanks to this <b>segue</b> ) is the <code><font color="#0000FF">UINavigationController</font></code> : <br><br>  <u><i>FlickrPhotosTVC.swift</i></u> <br><img src="https://habrastorage.org/files/18a/7c9/816/18a7c9816bd24e93bca66ac4e24557d3.png" width="700" height="262"><br><br>  Please note that when using <b>segue,</b> there is a complete replacement of <b>Detail with</b> new <b>MVC</b> , and <code><font color="#0000FF">prepareForSegue</font></code> works even before loading <code><font color="#0000FF">ImageViewController</font></code> and setting a new Model value (that is, <code><font color="#0000FF">imageURL</font></code> ) may not update the <b>Image View Controller</b> user interface to the end, as some <b>outlets</b> are not yet exposed and we are not completely on the screen yet.  Therefore, the <code><font color="#0000FF">ImageViewController</font></code> class is designed in such a way that when you install the Model - <code><font color="#0000FF">imageURL</font></code> , the sample image data is <code><font color="#0000FF">imageURL</font></code> from the <a href="https://www.flickr.com/">Flickr</a> server and the user interface is updated only if the <code><font color="#0000FF">ImageViewController</font></code> already on the screen: <br><br>  <u><i>ImageViewController.swift</i></u> <br><img src="https://habrastorage.org/files/edf/37f/c74/edf37fc746d547acaad226fea63ba763.png" width="700" height="219"><br><br>  In our case, when <b>Detail</b> will be completely replaced by a new <b>MVC</b> instance, we will fetch the data from the network and update the UI in the ‚Äúlife cycle‚Äù <code><font color="#0000FF">viewWillAppear</font></code> , that is, just before the image appears on the screen: <br><br>  <u><i>ImageViewController.swift</i></u> <br><img src="https://habrastorage.org/files/47e/c5c/640/47ec5c640ddb42b0aadd11c8e3e99d5c.png" width="680" height="150"><br><img src="https://habrastorage.org/files/3c6/3c4/fcb/3c63c4fcb95644f49538f1f9576c7f56.png" width="680" height="534"><br><br>  Run the application on iPhone 6+ and iPad in portrait mode: <br><br><img src="https://habrastorage.org/files/5f2/f40/d0c/5f2f40d0c2e94f8a88fa4147b80df264.png" width="500" height="430"><br><br>  On iPhone 6+ and iPad 2, a blank screen appears - this is <b>Detail</b> (in our case, <code><font color="#0000FF">ImageViewController</font></code> ) for <b>SplitViewController</b> , and this was the usual <b>SplitViewController</b> behavior previously when it was designed only for iPad.  But if the iPhone 6+ has a return button to the <b>Master</b> (in our case, this is a table with a list of Flickr photos), then on the iPad it‚Äôs not even clear what to do.  The user must in some magical way guess that the <code><font color="#610B5E">swipe</font></code> gesture works, which will show us the <b>Master</b> , that is, the Flickr photo list. <br>  Then you can choose a photo and the screen with a photo will be automatically updated.  Everything works, but there is no return button in the <b>Master</b> . <br>  <u><i>Run the application on the iPad in portrait mode.</i></u> <br><img src="https://habrastorage.org/files/6dd/bdf/389/6ddbdf389b7843739f1cbc5b18d44226.png" width="900" height="374"><br><br>  <u><i>Run the application on the iPad in landscape mode.</i></u> <br><img src="https://habrastorage.org/files/97d/dbf/0aa/97ddbf0aabed49d780ab601cf2da7f7d.png" width="900" height="325"><br>  Everything is working. <br><br>  <u><i>Run the application on iPhone 6+ in portrait mode</i></u> <br><img src="https://habrastorage.org/files/b1c/4d8/bb1/b1c4d8bb1b454cafa42817be78421efc.png" width="700" height="338"><br><br>  When launched in portrait mode, there is a return button that calls us to select a Flickr photo.  Click on this button, and really get into the <b>Master</b> , that is, the screen fragment with a list of photos.  Then you can choose a photo and receive its image.  This mode works. <br><br>  <u><i>Go to landscape mode on iPhone 6+</i></u> <br><img src="https://habrastorage.org/files/e47/c17/3a3/e47c173a30b44a4688a794820b4a40e1.png" width="800" height="239"><br><br>  Everything is working.  Photos are updated in <b>Detail</b> . <br><br>  What can be concluded from these experiments? <br><br>  If we are dealing with <b>Regular-width</b> devices (iPad in portrait and landscape modes and iPhone 6+, iPhone 6s + in landscape mode), then both <b>Master</b> and <b>Detail</b> are on the screen at the same time.  This mode for the adaptive <b>Split View Controller</b> is called <code><font color="#FF0000">expanded</font></code> .  This is the previously known habitual mode of the usual <b>Split View Controller</b> . <br>  If we are dealing with <b>Compact-width</b> devices (iPhone 6+, iPhone 6s + in portrait mode, all other iPhones in portrait and landscape modes), then only one <b>MVC</b> is on the screen: either <b>Master</b> or <b>Detail</b> , therefore this mode is called <code><font color="#FF0000">collapsed</font></code> for  <b>Split View Controller</b> .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is the mode when the adaptive </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> operates as a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in the stack of which both </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail are located</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have one storyboard that works on both platforms (iPhone and iPad) and automatically adapts. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But we are not satisfied with two things:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We want the same return button to appear on any iPad in portrait mode, as on any iPhone in portrait mode; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When launched on any iPhone in portrait mode, it would not be </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with a blank screen (as was the case for the iPad), but </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (as was the case for the iPhone).</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order for a launch button on any iPad to appear in portrait mode, you must place it explicitly on the navigation bar in </font></font><i><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppDelegate.swift</font></font></u></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/files/eff/0b8/65a/eff0b865aad340259d4235dc7edbd772.png" width="730" height="271"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code><font color="#0000FF">prepareForSegue</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the class </font><font style="vertical-align: inherit;">method </font></font><code><font color="#0000FF">FlickrPhotos</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br> <i><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlickrPhotos.swift</font></font></u></i> <br><img src="https://habrastorage.org/files/52b/40a/b78/52b40ab784f246ceab89ea316283bc5d.png" width="700" height="318"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In addition, give the heading </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which in our case will be ‚ÄúFlickr Photos‚Äù: </font></font><br><img src="https://habrastorage.org/files/593/b6e/68d/593b6e68d62d4341a9ea10a6168f0443.png" width="800" height="440"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a result, we have the necessary return button for iPad in portrait mode and the mode switch button for iPhone 6+, iPhone 6s + in landscape mode. </font></font><br><img src="https://habrastorage.org/files/9ed/c7e/a2f/9edc7ea2ffce4adc94bd0b3a117b74c8.png" width="600" height="422"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here's how the mode switch button works on iPhone 6+, iPhone 6s + in landscape mode: </font></font><br><img src="https://habrastorage.org/files/222/5a9/87b/2225a987bbaf446286a6b41382bc2713.png" width="800" height="243"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now the work of the adaptive </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regular-width</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devices can be considered satisfactory. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What does not suit us in work of adaptive </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compact-width</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devices? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On iPhones, work should immediately begin with the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> display </font><font style="vertical-align: inherit;">and continue to move sequentially in the direction of </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with the help of the stack mechanism </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . This is provided by delegate methods </font></font><code><font color="#0000FF">UISplitViewControllerDelegate</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, one of which we are now implementing in </font></font><code><font color="#0000FF">AppDelegate</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First, we confirm the protocol </font></font><code><font color="#0000FF">UISplitViewControllerDelegate</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br>  <u><i>AppDelegate.swift</i></u> <br><img src="https://habrastorage.org/files/de8/7d8/8d6/de87d88d69824334b9a5a2802760b8bd.png" width="730" height="301"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And finally, we implement the </font></font><code><font color="#0000FF">collapseSecondaryViewController, ontoPrimaryViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delegate </font><font style="vertical-align: inherit;">method </font></font><code><font color="#0000FF">UISplitViewControllerDelegate</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, which is triggered when switching to the </font></font><code><font color="#FF0000">collapsed</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode when only one </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> should remain on the screen </font><font style="vertical-align: inherit;">. He asks us if we need to drop </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? If we answer </font></font><code><font color="#0000FF">true</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, then </font></font><code><font color="#FF0000">collapsed</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">only </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> remains </font><font style="vertical-align: inherit;">on the screen in </font><font style="vertical-align: inherit;">mode </font><font style="vertical-align: inherit;">, if </font></font><code><font color="#0000FF">false</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- then </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . We want to have </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> only at the start, that is, when </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - this </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation Controller,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> its masthead </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the stack is </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageViewController</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Odel which </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imageURL</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">has a value of </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nil</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . This is the condition we select before returning </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">true</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br>  <u><i>AppDelegate.swift</i></u> <br><img src="https://habrastorage.org/files/adf/f6f/d92/adff6fd92b244198aee04b99ca1895b6.png" width="700" height="197"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We start </font></font><i><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iPhone 6+ in portrait mode</font></font></u></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><img src="https://habrastorage.org/files/184/c35/f31/184c35f3147b427e8275c20b68f1684a.png" width="600" height="466"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now our adaptive interface works as it should, that is, for </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compact-width</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devices, we start from the Flickr photo list. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So, the configuration of the adaptive </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for the classic case is complete. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rename the storyboard Main.storyboard in iPhone.storyboard and leave it to history in this application, and in iPad.storyboard Main.storyboard and make it the basis for a universal application: </font></font><br><br><img src="https://habrastorage.org/files/a44/8dd/7d8/a448dd7d889f4a48b4ae4ddb5b7057ac.png" width="800" height="486"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as well as get rid of extra code </font></font><code><font color="#0000FF">AppDelegate</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/files/6ff/6b2/4a5/6ff6b24a5b4449a58d649acb05d9cdd2.png" width="730" height="307"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The final version of a simple application </font></font><i><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AdaptiveSplitViewController1Swift</font></font></u></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is on </font></font><a href="https://github.com/BestKora/AdaptiveSplitViewSwift"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To summarize our actions for creating an adaptive </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Step 1. Drag and drop the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from the Object Palette. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Step 2. Insert the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> into the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and connect it to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Step 3. Add </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segue</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Show Detail</font></font></b> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> type. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Step 4. Set up a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segue</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> method </font></font><code><font color="#0000FF">prepareForSegue</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, taking into account that </font></font><code><font color="#0000FF">destinationViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for this </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segue</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can be both </font></font><code><font color="#0000FF">ImageViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, and </font></font><code><font color="#0000FF">UINavigationController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in whose stack it is at the very top </font></font><code><font color="#0000FF">ImageViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Step 5. Add buttons to the navigation bar in the </font><b><font style="vertical-align: inherit;">segue</font></b><font style="vertical-align: inherit;"> and c </font></font><code><font color="#0000FF">prepareForSegue</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">preparation </font><font style="vertical-align: inherit;">method </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Step 6. Implement </font><font style="vertical-align: inherit;">the </font><font style="vertical-align: inherit;">delegate </font><font style="vertical-align: inherit;">method </font><font style="vertical-align: inherit;">that is triggered when switching to the </font><font style="vertical-align: inherit;">mode when only one </font><b><font style="vertical-align: inherit;">View Controller</font></b><font style="vertical-align: inherit;"> should remain on the screen </font><font style="vertical-align: inherit;">; in this case, we drop the </font><b><font style="vertical-align: inherit;">Detail</font></b><font style="vertical-align: inherit;"> when starting. </font><font style="vertical-align: inherit;">You can do without these 6 steps and get exactly the same code and UI immediately, if you use the excellent </font><b><font style="vertical-align: inherit;">Master-Detail</font></b><font style="vertical-align: inherit;"> application template, which already has </font><b><font style="vertical-align: inherit;">Show Detail segue</font></b><font style="vertical-align: inherit;"> , </font><b><font style="vertical-align: inherit;">Navigation Controller</font></b><font style="vertical-align: inherit;"> , and all the necessary code. </font><font style="vertical-align: inherit;">We can improve a little more.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code><font color="#0000FF">AppDelegate</font></code><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><code><font color="#0000FF">AppDelegate</font></code><font style="vertical-align: inherit;"></font><code><font color="#0000FF">collapseSecondaryViewController:ontoPrimaryViewController:</font></code><font style="vertical-align: inherit;"></font><code><font color="#0000FF">UISplitViewControllerDelegate</font></code><font style="vertical-align: inherit;"></font><code><font color="#FF0000">collapsed</font></code><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for iPad, setting preferential display mode </font></font><code><font color="#0000FF">.AllVisible</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br>  <u><i>AppDelegate.swift</i></u> <br><img src="https://habrastorage.org/files/186/ac2/2a6/186ac22a62b24b75be263abeb2dcb58b.png" width="700" height="306"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What </font></font><code><font color="#0000FF">preferredDisplayMode?</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this property </font><font style="vertical-align: inherit;">means </font><font style="vertical-align: inherit;">defines the preferred display mode. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> does its best to adjust the interface accordingly, but it can also use a different display mode if, for example, there is not enough space to display in your preferred mode. By default, the value of the property </font></font><code><font color="#0000FF">preferredDisplayMode</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is </font></font><code><font color="#0000FF">.Automatic</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. On the iPad, this leads to the use of the mode </font></font><code><font color="#0000FF">.PrimaryOverlay</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in portrait orientation and </font></font><code><font color="#0000FF">.AllVisible</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in landscape orientation. By setting the preferred display mode </font></font><code><font color="#0000FF">.AllVisible</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, we actually only affect the display of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on the iPad in portrait mode </font></font><br><br><img src="https://habrastorage.org/files/2db/379/536/2db3795360e84ab8a8b5e16a58c56338.png" width="700" height="475"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppDelegate.swift</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> shows two more commented out lines of code.</font></font><br><br> <code><font color="#0000FF">// splitViewController.preferredPrimaryColumnWidthFraction = 0.5 <br> // splitViewController.maximumPrimaryColumnWidth = 512</font></code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you remove comments from these lines, you can adjust the width of the columns for </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . You can use a property </font></font><code><font color="#0000FF">preferredPrimaryColumnWidthFraction</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that takes a value from 0.0 to 1.0 to represent a fraction of the total width of the screen that the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> occupies </font><font style="vertical-align: inherit;">. By default, this property accepts a value </font></font><code><font color="#0000FF">UISplitViewControllerAutomaticDimension</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that leads to the appropriate width of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> selected by the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The actual </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> width is </font><font style="vertical-align: inherit;">limited to values ‚Äã‚Äãin the range </font></font><code><font color="#0000FF">minimumPrimaryColumnWidth</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code><font color="#0000FF">maximumPrimaryColumnWidth</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split view controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It will do its best to customize the interface according to the property values ‚Äã‚Äãyou specify, but it can change them to others depending on the space available. </font><font style="vertical-align: inherit;">You can get the actual width of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> using the property </font></font><code><font color="#0000FF">primaryColumnWidth</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><img src="https://habrastorage.org/files/a55/804/1a6/a558041a612744d2a528ae7546424262.png" width="700" height="547"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The code is on </font></font><b><a href="https://github.com/BestKora/AdaptiveSplitViewSwift"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the </font></font><i><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AdaptiveSplitViewController1Swift</font></font></u></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application </font><font style="vertical-align: inherit;">.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2. Set Table View Controllers in Master </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But let's go ahead and add another screen fragment of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for photographers who took Flickr photos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To do this, based on the previous </font></font><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AdaptiveSplitViewController1Swift</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application, </font><font style="vertical-align: inherit;">we will create a new </font></font><i><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AdaptiveSplitViewController2Swift</font></font></u></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application </font><font style="vertical-align: inherit;">and enable </font><font style="vertical-align: inherit;">another </font><b><font style="vertical-align: inherit;">Table View Controller</font></b><font style="vertical-align: inherit;"> in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font> Now our user interface looks like this: <br><br><img src="https://habrastorage.org/files/db8/0cf/a99/db80cfa990b847a99ea05e8bb355c7f4.png" width="800" height="426"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First we select a photographer, then any photo of this photographer from the list of his photos, and then we show the selected photo: The </font><b><font style="vertical-align: inherit;">Table View Controller</font></b></font><br><br><img src="https://habrastorage.org/files/d3b/ee2/caa/d3bee2caad214a7eb229a8e728561b74.png" width="700" height="343"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> screen fragment </font><font style="vertical-align: inherit;">for photographers is served by a fairly simple class </font><font style="vertical-align: inherit;">. It is almost a copy of the class </font><font style="vertical-align: inherit;">, there is also a property </font><font style="vertical-align: inherit;">that is a list of photos, but its installation leads to the calculation of other property </font><font style="vertical-align: inherit;">, which is a list of photographers who took these pictures, and a </font><b><font style="vertical-align: inherit;">M</font></b><font style="vertical-align: inherit;"> dressed for class </font><font style="vertical-align: inherit;">: </font><u><i><font style="vertical-align: inherit;">FlickrPhotographersTVS.swift</font></i></u><font style="vertical-align: inherit;"> Photo </font><font style="vertical-align: inherit;">and photographer </font><font style="vertical-align: inherit;">defines the structure and are in the </font><i><u><font style="vertical-align: inherit;">DataModel.swift</font></u></i><font style="vertical-align: inherit;"> file </font><font style="vertical-align: inherit;">:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code><font color="#0000FF">FlickrPhotographersTVC</font></code><font style="vertical-align: inherit;"></font><code><font color="#0000FF">FlickrPhotoTV</font></code><font style="vertical-align: inherit;"></font><code><font color="#0000FF">var photos = [Photo]()</font></code><font style="vertical-align: inherit;"></font><code><font color="#0000FF">var photographers = [Photographer]()</font></code><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code><font color="#0000FF">FlickrPhotographersTVC</font></code><font style="vertical-align: inherit;"></font><br><br> <u><i><font style="vertical-align: inherit;"></font></i></u> <br><img src="https://habrastorage.org/files/6c1/c19/906/6c1c199065a743718253723c77037ccd.png" width="680" height="263"><br><br><font style="vertical-align: inherit;"></font><code><font color="#0000FF">Photo</font></code><font style="vertical-align: inherit;"></font><code><font color="#0000FF">Photographer</font></code><font style="vertical-align: inherit;"></font><i><u><font style="vertical-align: inherit;"></font></u></i><font style="vertical-align: inherit;"></font><br><img src="https://habrastorage.org/files/c29/51d/679/c2951d6791594028816aa9021dcb8609.png" width="700" height="585"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The </font><font style="vertical-align: inherit;">following </font></font><code><font color="#0000FF">var photographers = [Photographer]()</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">methods are implemented </font><font style="vertical-align: inherit;">on the basis of the Model </font></font><code><font color="#0000FF">UITableViewDataSource</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br> <u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlickrPhotographersTV.Swift</font></font></i></u> <br><img src="https://habrastorage.org/files/2bb/126/844/2bb12684483f4a3f8b6fc1f7cbaaf9e8.png" width="700" height="277"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> To prepare a ‚Äúmove‚Äù to a table with a list of photos, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flickr Photos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uses a method </font></font><code><font color="#0000FF">prepareForSegue</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that, like in the class, </font></font><code><font color="#0000FF">FlickrPhotos</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">takes into account that </font></font><code><font color="#0000FF">destinationViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">which we ‚Äúmove‚Äù to can be inserted into </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br> <u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlickrPhotographersTV. swift</font></font></i></u> <br><img src="https://habrastorage.org/files/12e/8e6/267/12e8e626738d427d9363f2c0cbd7704a.png" width="700" height="342"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Choosing a photographer </font></font><code><font color="#0000FF">photographer</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, we ask for the Model </font></font><code><font color="#0000FF">destinationViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, only photos </font></font><code><font color="#0000FF">photos</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">taken by this photographer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The constants for the storyboard are assembled in the </font></font><code><font color="#0000FF">private</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">structure </font></font><code><font color="#0000FF">Storyboard</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br> <u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlickrPhotographersTV.Swift</font></font></i></u> <br><img src="https://habrastorage.org/files/00c/8bc/5a5/00c8bc5a5c9b4884b1f6dc646c25d7b6.png" width="700" height="83"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Just as in the ‚Äúclassic version‚Äù, we assume that the class</font></font><code><font color="#0000FF">FlickrPhotographersTVC</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">According to the concept of object-oriented programming is more general. It does not care how the array is obtained </font></font><code><font color="#0000FF">[Photo]</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: from or from the Flickr server </font></font><code><font color="#0000FF">NSUserDefaults</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. To get an array of </font></font><code><font color="#0000FF">[Photo]</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Flickr server, we already have a class </font></font><code><font color="#0000FF">JustPostedFlickrPhotosTVC</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, which we will now make the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subclass</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> not </font></font><code><font color="#0000FF">FlickrPhotosTVC</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the ‚Äúclassic‚Äù version, but in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subclass</font></font></b> <code><font color="#0000FF">FlickrPhotographersTVC</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br> <i><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JustPostedFlickrPhotosTV.Swift</font></font></u></i> <br><img src="https://habrastorage.org/files/8ff/0e2/3da/8ff0e23da8b541b5aa41f7d44dac51cb.png" width="700" height="153"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This </font></font><code><font color="#0000FF">JustPostedFlickrPhotosTVC</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will be the user class for the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flickr Photographers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> screen fragment </font><font style="vertical-align: inherit;">: </font></font><br><img src="https://habrastorage.org/files/2c9/e40/774/2c9e407748144904a606ffac20cb3f5a.png" width="700" height="354"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and for the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flickr Photos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> screen fragment, the </font><font style="vertical-align: inherit;">user class will be </font></font><code><font color="#0000FF">FlickrPhotosTVC</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><img src="https://habrastorage.org/files/b7b/212/281/b7b212281bb646d29c95ed8019e35339.png" width="700" height="361"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch the application, see how it works. Everything works fine, except for one situation where the iPhone 6+ (or iPhone 6s +) switches from portrait mode to landscape mode (that is, from </font></font><code><font color="#FF0000">collapsed</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode to </font></font><code><font color="#FF0000">expanded</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">according to the terminology of the adaptive </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). At that, its screen in portrait mode shows the List of Photos at the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> location </font><font style="vertical-align: inherit;">, and not the image of the selected photo at all: </font></font><br><br><img src="https://habrastorage.org/files/34f/f23/4a5/34ff234a5e0a4da1af7c45ed09baed04.png" width="700" height="444"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When switching from the </font></font><code><font color="#FF0000">collapsed</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode when there is only one </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on the screen </font><b><font style="vertical-align: inherit;">,</font></b><font style="vertical-align: inherit;"> to the </font></font><code><font color="#FF0000">expanded</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> simultaneously on the screen) adaptive </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> takes the current screen as a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">default. And this is not at all what we need: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can be </font><font style="vertical-align: inherit;">in place </font><font style="vertical-align: inherit;">only </font></font><code><font color="#0000FF">ImageViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. With the help of another </font></font><code><font color="#0000FF">separateSecondaryViewControllerFromPrimaryViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delegate </font><font style="vertical-align: inherit;">method, </font></font><code><font color="#0000FF">UISplitViewControllerDelegate</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">we ourselves have to make the necessary configuration:</font></font><br><br>  <u><i>AppDelegate.swift</i></u> <br><img src="https://habrastorage.org/files/651/ab2/411/651ab24113d2433fb937778cc972e71d.png" width="700" height="434"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The method is </font></font><code><font color="#0000FF">separateSecondaryViewControllerFromPrimaryViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">triggered when switching from </font></font><code><font color="#FF0000">collapsed</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode to, </font></font><code><font color="#FF0000">expanded</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and it asks us which </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> should be taken as </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . By default, the </font><font style="vertical-align: inherit;">current </font><b><font style="vertical-align: inherit;">View Controller</font></b><font style="vertical-align: inherit;"> is taken </font><font style="vertical-align: inherit;">as the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , if it is not the </font><b><font style="vertical-align: inherit;">Master</font></b><font style="vertical-align: inherit;"> . In our special case, when </font><font style="vertical-align: inherit;">- a table with a list of photos </font><font style="vertical-align: inherit;">inserted into the </font><b><font style="vertical-align: inherit;">Navigation Controller</font></b><font style="vertical-align: inherit;"> , we have to generate </font><b><font style="vertical-align: inherit;">Detail</font></b><font style="vertical-align: inherit;"> in the conditions of scant information. We have nowhere to get </font><font style="vertical-align: inherit;">(photo image) as soon as from the storyboard and we need the ID of the screen fragment </font><b><font style="vertical-align: inherit;">Detail</font></b><font style="vertical-align: inherit;"> on the storyboard (in our case it‚Äôs</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code><font color="#0000FF">primaryViewController</font></code><font style="vertical-align: inherit;"></font><code><font color="#0000FF">FlickrPhotosTVC</font></code><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code><font color="#0000FF">ImageViewController</font></code><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Let this identifier will be "detailNavigation": </font></font><br><br><img src="https://habrastorage.org/files/4bb/d61/4f8/4bbd614f8a1e4ffeb38fdcb668b52b37.png" width="700" height="376"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After the restoration </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from a storyboard, we can get our </font></font><code><font color="#0000FF">ImageViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(the code is </font></font><code><font color="#0000FF">controller</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) and make the necessary adjustments: Add a button on the navigation bar, put a header </font></font><code><font color="#0000FF">ImageViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and set up his </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Odel (in this case </font></font><code><font color="#0000FF">imageURL</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), which will match the first line in the list of photos: </font><font style="vertical-align: inherit;">Run the application, now everything is working correctly. In addition, the first line in the photo list is highlighted, for which a photo is shown: </font><font style="vertical-align: inherit;">Output: in order to ensure the adaptive operation of the </font><b><font style="vertical-align: inherit;">Split View Controller, there are</font></b><font style="vertical-align: inherit;"> numerous (&gt; 1)</font></font><br><br> <code><font color="#0000FF">if let photo = photosView.photos.first { <br> controller.imageURL = NSURL(string: photo.imageURL) <br> controller.title = photo.title <br> }</font></code> <br><font style="vertical-align: inherit;"></font><br><br><img src="https://habrastorage.org/files/488/bc6/b7b/488bc6b7bd4b4f16926e5eddd196bec9.png" width="700" height="446"><br><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table View Controllers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , you need to use the </font></font><code><font color="#0000FF">separateSecondaryViewControllerFromPrimaryViewController</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delegate </font><font style="vertical-align: inherit;">method </font></font><code><font color="#0000FF">UISplitViewControllerDelegate</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The code is on </font></font><a href="https://github.com/BestKora/AdaptiveSplitViewSwift"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the </font></font><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AdaptiveSplitViewController2Swift</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the </font></font><b><a href="https://habrahabr.ru/post/278781/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">second part of</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> this tutorial, we will further complicate our experimental application and extend it to case 3 - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tab Bar Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Split View Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and 5 - adaptive </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Popover</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The code for all options can be found on </font></font><a href="https://github.com/BestKora/AdaptiveSplitViewSwift"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div><p>Source: <a href="https://habr.com/ru/post/278573/">https://habr.com/ru/post/278573/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278563/index.html">Intensive announcement on ASP.NET Core at the Microsoft DevCon 2016 conference</a></li>
<li><a href="../278565/index.html">libuniset2 is a library for creating ACS. It is better to see once ... Part 3 (Creating a management process)</a></li>
<li><a href="../278567/index.html">Still messing around with debugging?</a></li>
<li><a href="../278569/index.html">Critical vulnerability of Cisco Nexus 3000 Series Switches and 3500 Platform allows remote access to them</a></li>
<li><a href="../278571/index.html">Preparing an ASP.NET 5 (Core) project and DNX environment to participate in the hackathon as part of hack.summit () 2016 at Koding.com</a></li>
<li><a href="../278575/index.html">Superscalar Stacking Processor: We Cross Horror And Hedgehog</a></li>
<li><a href="../278577/index.html">Automation of easy database 1C list management</a></li>
<li><a href="../278579/index.html">Using the Chromium project codebase as an SDK for developing cross-platform applications</a></li>
<li><a href="../278581/index.html">History of Chatto</a></li>
<li><a href="../278583/index.html">Work with FireBird from 1C. Collection of proven recipes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>