<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Brew beer with MP8036multi module</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the clients asked us to select the appropriate module for solving their problem. 

 The module is planned to be used as part of a small private...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Brew beer with MP8036multi module</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/57e/de3/2f6/57ede32f6c6449a781c6baef2ad822c7.jpg" width="722"><br><br>  One of the clients asked us to select the appropriate module for solving their problem. <br><br>  The module is planned to be used as part of a small private brewery.  The task of the module was the strict maintenance of a certain temperature-time regime of the wort in one of the cycles.  As the heater is applied TEN power of 3 kW. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The task is as follows: <br><br>  - heating and maintaining the wort to 60 ¬∞ C for 30 minutes; <br>  - heating and holding at 70 ¬∞ C for 20 minutes; <br>  - heating and holding up to 80 ¬∞ C for 10 minutes; <br>  - indication of the end of the cycle and turning off the heater; <br>  - indication of the passage of the cycle; <br>  - alarm of temperature sensor failure or exceeding the maximum allowable temperature. <br><br>  As a control module, it was decided to use the universal programmable <a href="http://masterkit.ru/%3F1929257">MP8036multi</a> . <br><a name="habracut"></a><br><img src="https://habrastorage.org/files/3ec/10c/c86/3ec10cc86058476e9564bc2136efc5f1.jpg"><br>  Fig.  one <br><br>  The uniqueness of the MP8036multi module lies in the flexibility of its configuration: the state of the controller outputs may depend on various combinations of input states.  However, programming this module for any particular task does not cause any difficulties.  Based on the MP8036multi, you can automate the lighting system, control the heating, emergency power supply at home or summer house, automate watering and ventilation of the greenhouse, as well as implement many other solutions. <br><br>  In general approximation, the heating system has the following main controls and alarms: <br>  - START / STOP button - INPUT4; <br>  - accident indicator - PWM1; <br>  - cycle control indication - OUT1, OUTPUT2, OUTPUT3; <br>  - temperature sensor - DT1; <br>  - indication of the end of the cycle - RELAY2; <br>  - control channel of heating elements - RELAY1. <br><br>  Any power source with a voltage of 12V and a current of at least 100 mA will be suitable for powering the module.  As such a unit, we recommend using the well-proven AC / DC converter <a href="http://masterkit.ru/%3F1493572">PW1245</a> .  There are two relays installed on the module with a maximum permissible current of 10A 250V, which is not enough to control the customer‚Äôs heating elements (3 kW power).  Therefore, we recommend using the <a href="http://masterkit.ru/%3F1868182">MP146</a> power module as a control relay for the <a href="http://masterkit.ru/%3F1868182">heating elements</a> .  The contacts of this module are designed to turn on electrical appliances with a voltage of up to 250V and a power of up to 6.6 kW. <br><br>  Management is as follows: <br><br>  When you turn on the switch at INPUT4, the program starts.  Since  for identical events, different operating modes are required, additional OUTPUT 1, OUTPUT 2 and OUTPUT 3 are involved.  These outputs create additional events for which the desired mode of operation is selected.  In turn, each timer is limited by its temperature range.  TENOM is controlled by RELAY1 through the power module MP146. <br>  After the expiration of 60 minutes there is a complete disconnection of the heater, and an indication on RELE2 signals the end of the cycle. <br>  If during operation the temperature goes beyond the maximum limit of the process or the thermal sensor fails, an alarm will be triggered at the PWM1 output. <br><br>  The process of the heating cycle operation can be observed at the OUTPUT 1 OUT 2 and OUT 3 outputs.  Forced shutdown and restart of the cycle is carried out using a switch installed on INPUT4. <br><br>  The text of the program and the electric control circuit of the heater can be seen below. <br><br><div class="spoiler">  <b class="spoiler_title">Program</b> <div class="spoiler_text">  // input4 - on / off <br>  // exit1 - 30 min <br>  // exit2 - 50 min <br>  // exit3 - 60 min <br>  // DT1 - 60, 70, 80 <br>  // RELAY1 - TEN <br><br>  RELAY CONFIGURATION RESET <br><br>  RELAY 1. MODE_PO_MULSE = 1 <br><br>  RELAY 1. MODE. STATUS = DISABLED <br>  RELAY1. MODE1. CONDITION1: INPUT4 = 1 <br>  RELAY 1. MODE1. CONDIT2: OUTPUT1 = 0 <br>  RELAY 1. MODE1. CONDITION3: OUTPUT2 = 0 <br>  RELAY1. MODE1. CONDITION4: OUTPUT3 = 0 <br>  RELAY 1. MODE1. CONDITION 5: OUT1 = 1 <br>  RELAY 1. MODE1. CONDITION6: OUTPUT2 = 1 <br>  RELAY 1. MODE1. CONDITION7: OUTPUT3 = 1 <br>  RELAY 1. MODE1. CONDITION8: DT1&gt; = 60 <br>  RELAY 1. MODE1. CONDITION9: DT1&gt; = 70 <br>  RELAY1. MODE1. CONDITION10: DT1&gt; = 80 <br>  RELAY 1. MODE1. CONDITION11: INPUT4 = 0 <br>  RELAY 1. MODE1. CONDITION12: RELAY2 = ENABLE <br>  RELAY1.REAM1.LOGICA_USLOVY = (Y11 AND (Y4 OR (Y5 AND Y6 AND Y7 AND Y8) OR (Y2 AND Y6 AND Y7 And Y9) OR (Y2 And Y3 And Y7 And U10))) OR Y1 OR Y12 <br><br>  RELAY 1. MODE. STATUS = ENABLE <br>  RELAY 1. MODE2. CONDITION1: INPUT4 = 1 <br>  RELAY 1. MODE 2. CONDIT2: OUTPUT1 = 0 <br>  RELAY 1. MODE 2. CONDIT 3: OUT 2 = 0 <br>  RELAY 1. MODE2. CONDITION4: OUTPUT3 = 0 <br>  RELAY 1. MODE 2. CONDITION 5: OUT1 = 1 <br>  RELAY 1. MODE 2. CONDITION 6: OUTPUT 2 = 1 <br>  RELAY 1. MODE2. CONDITION7: OUTPUT3 = 1 <br>  RELAY 1. MODE 2. CONDITION8: DT1 &lt;60 <br>  RELAY 1. MODE 2. CONDITION9: DT1 &lt;70 <br>  RELAY 1. MODE 2. CONDITION10: DT1 &lt;80 <br>  RELAY1. MODE2. CONDITION11: INPUT4 = 0 <br>  RELAY1. MODE2. LOGIC OF THE CONDITIONS = Y11 AND ((Y5 AND Y6 AND Y7 AND Y8) OR (Y2 And Y6 And Y7 And Y9) OR (Y2 And Y3 And U7 And U10)) <br><br>  RELAY2. MODE_PO_MULSE = 1 <br><br>  RELAY 2. MODE. STATUS = DISABLED <br>  RELAY2. MODE1. CONDITION1: INPUT4 = 1 <br>  RELAY 2. MODE1. CONDITION2: OUTPUT3 = 1 <br>  RELE2. MODE. LOGIC OF THE CONDITIONS: U1 OR U2 <br><br>  RELAY 2. MODE 2. STATUS = INCLUDED <br>  RELAY 2. MODE 2. DELAY = 1 (s) <br>  RELAY2. MODE2. CONDITION1: INPUT4 = 0 <br>  RELAY2. MODE2. CONDITION2: OUTPUT3 = 0 <br>  RELAY 2. REGIME 2. LOGIC OF THE CONDITIONS: U1 AND U2 <br><br>  //T.k.  With the same events, different operating modes are required, additional OUTPUT 1 OUTPUT 2 and OUTPUT 3 are involved.  These outputs create additional events for which the desired mode of operation is selected. <br><br>  OUTPUT1. MODE_PO_MULSE = 1 <br><br>  OUTPUT1. MODE1. STATUS = 0 <br>  OUTPUT1. MODE1. CONDITION1: INPUT4 = 1 <br>  OUTPUT1. MODE1. LOGIC_OUTIONS = U1 <br><br>  OUTPUT1. MODE2. STATUS = 1 <br>  OUTPUT1. MODE2. TIME_ACTION = 30 (min) <br>  OUTPUT1. MODE2. CONDITION1: INPUT4 = 0 <br>  OUTPUT1. MODE2. LOGIC_OUTIONS = U1 <br><br>  OUTPUT2.REW_NUMBERING MODE = 1 <br><br>  OUTPUT2. MODE1. STATUS = 0 <br>  OUTPUT2. MODE1. CONDITION1: INPUT4 = 1 <br>  OUTPUT2. MODE. LOGIC_OUTIONS = U1 <br><br>  OUTPUT2. MODE2. STATUS = 1 <br>  OUTPUT2. MODE2. TIME_ACTION = 50 (min) <br>  OUTPUT2. MODE2. CONDITION1: INPUT4 = 0 <br>  OUTPUT2. MODE2. LOGIC_OUTIONS = U1 <br><br>  OUTPUT3. MODE_PO_MULSE = 1 <br><br>  OUTPUT3. MODE1. STATUS = 0 <br>  OUTPUT3. MODE1. CONDITION1: INPUT4 = 1 <br>  OUTPUT3. MODE. LOGIC_OUTIONS = U1 <br><br>  OUTPUT3. MODE2. STATUS = 1 <br>  OUTPUT3. MODE2. TIME_ACTION = 60 (min) <br>  OUTPUT3. MODE2. CONDITION1: INPUT4 = 0 <br>  OUTPUT3. MODE2. LOGIC OF THE CONDITIONS = U1 <br><br>  PWM1. MODE_PROPERTY = 1 <br><br>  PWM1. MODE1. FUNCTION = DISCRETE_OUT <br>  PWM1. MODE1. STATUS = 0 <br>  PWM1. MODE1. CONDITION1: DT1 &lt;81 <br>  PWM1. MODE1. CONDIT2: INPUT2 = 0 <br>  PWM1. MODE1. LOGIC_OUTIONS = U1 or U2 <br><br>  PWM1. MODE2. FUNCTION = DISCRETE_INIT <br>  PWM1. MODE2. STATUS = 1 <br>  PWM1. MODE2. DELAY = 1 (s) <br>  PWM1. MODE2. CONDITION1: INPUT1 = 1 <br>  PWM1. MODE2. CONDITION2: DT1&gt; 81 <br>  PWM1. MODE2. LOGIC_UNITIES = U1 or U2 <br><br></div></div><br><br><img src="https://habrastorage.org/files/24a/fe3/552/24afe355278f4e21b9f00b9ead943d57.jpg"><br>  Connection diagram Fig.  2 <br><br>  Channel PWM1 is in discrete output mode.  But if necessary, it can always be used as intended.  When practicing the program, do not forget to add the DT1 temperature sensors, according to the configuration instructions.  Please note that when adding two or more sensors, you must connect them in turn.  The time intervals and temperature range are adjusted locally. <br><br>  If when debugging a program you often have to load the configuration into the module, but you do not want to add temperature sensors every time and reconfigure the ADC lines, use only resetting the changed lines: <br><br>  RELAY1 CONFIGURATION RESET <br>  RESET RELAY2 CONFIGURATION <br>  RESET CONFIGURATION OUTPUT1 <br>  RESET CONFIGURATION OUTPUT2 <br>  RESET CONFIGURATION OUTPUT3 <br>  RESET OF PWM CONFIGURATION <br><br>  With such commands, the settings of only one specified line will be reset, while the remaining settings will remain unchanged. <br>  Each time the program is loaded into the module‚Äôs memory, the configurator program must be restarted.  Connecting power, sensor and power relay should not cause any difficulties.  The text of the program is also intuitive.  We recommend using the <a href="http://masterkit.ru/%3F1493572">PW1245</a> AC / DC converter to power the module. <br><br>  We hope that the proposed solution will suit the client.  We are waiting for his response, we are ready for the whole team to take part in setting up the equipment and the subsequent tasting of the finished product! <br><br>  Ps  Data on heating and shutter speed are given conditional, used only for writing the program.  Required data is substituted by the user. <br><br>  More applications: <br><br>  <a href="https://geektimes.ru/company/masterkit/blog/268240/">MP8036multi: an example of a thermostat</a> <br><br>  <a href="https://geektimes.ru/company/masterkit/blog/267834/">MP8036multi: example of a timer</a> <br><br>  <a href="https://geektimes.ru/company/masterkit/blog/271266/">We manage the autonomous power of a country house</a> </div><p>Source: <a href="https://habr.com/ru/post/395539/">https://habr.com/ru/post/395539/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../395527/index.html">Russian scientists have created a magneto-thrombolytic system that breaks blood clots thousands of times more effective than analogs.</a></li>
<li><a href="../395529/index.html">Robotics educational sets MRobot with Intel Inside</a></li>
<li><a href="../395531/index.html">Brief history of hoverboard construction: 5 most famous projects</a></li>
<li><a href="../395533/index.html">Haier air conditioning control based on ESP8266</a></li>
<li><a href="../395537/index.html">Label it</a></li>
<li><a href="../395541/index.html">Spacesuit for landing on Europe and the Moon - what should it be? Interview with Lead Designer Final Frontier Design</a></li>
<li><a href="../395543/index.html">Russia creates an open base of near-Earth objects</a></li>
<li><a href="../395545/index.html">Novgorod archaeologists have discovered an unknown ancient Russian curse</a></li>
<li><a href="../395547/index.html">Symantec / Norton Antivirus multiple security vulnerabilities</a></li>
<li><a href="../395549/index.html">Is it true that humanity is becoming stupid?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>