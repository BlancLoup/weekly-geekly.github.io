<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What is the MERN stack and how to work with it?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 A long time ago we released a pilot project about the MEAN stack (Mongo, Express, Angular, Node), which in general did not disappoint us,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What is the MERN stack and how to work with it?</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  A long time ago we released a pilot <a href="https://www.piter.com/product_by_id/73181486">project about the MEAN stack</a> (Mongo, Express, Angular, Node), which in general did not disappoint us, however, we decided not to do reprints and updates in due time, unlike the publishing house Manning, which <a href="https://www.manning.com/books/getting-mean-with-mongo-express-angular-and-node-second-edition">updated</a> this book. .  Nevertheless, we continue to search in this direction and today we would like to talk to you about the related MERN stack, where React is located not on the client Angular.  The <a href="https://www.iamtimsmith.com/about">floor is</a> given to <a href="https://www.iamtimsmith.com/about">Tim Smith</a> . <br><br><img src="https://habrastorage.org/webt/1d/hf/l7/1dhfl7yw9am620o13r-nz-i4il8.jpeg"><br><a name="habracut"></a><br>  Pre-notification: all the code for this article is <a href="https://github.com/iamtimsmith/simple-mern-app">here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this tutorial on the MERN stack, we‚Äôll write a simple blog using React.js, Node.js, Express.js, and MongoDB to expand our full-stack arsenal. <br><br><h3>  What is a ‚Äústack‚Äù? </h3><br>  Perhaps the first thing to discuss is the idea of ‚Äã‚Äãa ‚Äústack‚Äù as such.  There are many different stacks, and all of them are just different ways to achieve the same goal.  Creating a full-stack application, we envisage in it the client part with which the user will interact, and the same client part will mediate work with the server and the database - making the whole process as simple and manageable as possible. <br><br>  We can say that the stack is a certain set of technologies used to solve this problem. <br><br>  Although there are a lot of stacks, which would be worth talking about, some of them are more popular today than others.  One of these popular stacks is called MEAN, and it consists of: <br><br><ul><li>  <b>M</b> ongoDb </li><li>  <b>E</b> xpress.js </li><li>  <b>A</b> ngular.js </li><li>  <b>N</b> ode.js </li></ul><br>  Today we‚Äôll talk about the MERN stack, which is very similar to MEAN with the exception that Angular.js is replaced by React.js.  Thus, we will be able to use MongoDB as a database, Node.js and Express respectively for the server and routing, and React.js - to create the client part with which the user will interact. <br><br><h3>  How is development done using this stack? </h3><br>  Before turning to all the subtleties, let's take a general look at how all these elements work together.  Personally, it took me some time to understand this, because my background is related to PHP, where the client and server parts are somewhat mixed up. <br><br>  <i>1. Server side (Node and Express.js) and client side (React.js)</i> <br><br>  First of all, you need to understand that the server part and the client part are separate entities.  The client part can be in the same repository with the server, and maybe in a completely different one. <br><br>  <i>2. Used for communication terminals API</i> <br><br>  If you are already thinking about how to make friends client and server part - I will answer: this is done through the API.  The API (application program interface) is created on the server, where we will have ‚Äúterminals‚Äù through which the application located in the client side can interact with the server. <br><br>  Let me explain on the fingers: imagine that your left hand is the server part, and the right hand is the client part. <br><br>  Now fold your arms and twist your fingers as if you were shaking hands with yourself.  This is exactly how templating languages ‚Äã‚Äãwork.  They allow you to simply display some markup along with the data dropped from the servers - and in them the client and server components largely overlap each other. <br><br>  Now open your hands.  Spread your fingers as wide as possible and make sure that your left and right hands touch only with your fingertips.  This is how the MERN stack works.  The server side provides terminals (fingertips with the left hand) for access to the server, to which the client side sends calls (through the fingertips of the right hand) and communicates with these servers (left hand) through these points of contact. <br><br>  I hope it has become a little clearer, and if not, forget the whole metaphor, as if I didn‚Äôt mention it. <br><br><h3>  Our backend from Node.js and Express.js </h3><br>  Although I am not going to give here step-by-step instructions on how to build this stack (this is a topic for a separate article), I would like to consider the various elements of the stack that are commonly used or can be used in it.  I read several manuals myself, telling how to set up a server, but it did not explain why these particular libraries are used for this purpose. <br><br>  After we create the app.js file, we need to install a number of packages.  Below are the most common packages that I used to use in my projects with Express.js - perhaps they will be useful to you. <br><br><ul><li>  <b>Express.js</b> is a framework for creating web applications.  It has built-in functionality to solve many problems, in particular, to establish routing. </li><li>  <b>Mongoose</b> is an object data manager (ODM) that provides interactions between the express.js application and the MongoDB database. </li><li>  <b>BodyParser</b> is a library that allows the express.js application to read the body (that is, the content) of incoming requests. </li><li>  <b>DotENV</b> - allows you to use files with the .env extension to work with confidential data. </li><li>  <b>Passport.js</b> - provides authentication in our application, and provides several different authentication methods. </li><li>  <b>Validator</b> - simple validation of many data types </li><li>  <b>bCrypt</b> - encrypt sensitive data, such as passwords </li><li>  <b>Nodemon</b> - ‚Äúhot reboot‚Äù for our node-server in case the situation changes;  thanks to Nodemon, you can not stop or restart the server after making any changes. </li></ul><br>  Of course, there are many other packages, but in my experience, these libraries are used most often. <br><br>  So, having dealt with some of the most actively used packages, let's look at the code.  To begin with - our server: <br><br><img src="https://habrastorage.org/webt/xk/g7/f_/xkg7f_3zeltvgqsj-knjstppros.png"><br><br>  This is a simple API server.  As you can see, it is equipped with the basic CRUD (Create-Read-Update-Delete) functionality - nothing supernatural.  Looking closely at it, we‚Äôll see that <code>res.json()</code> is used here to provide output data for a specific URL ‚Äî that is, no HTML or other template is used for output.  This is how we build our APIs by opening data access for React.js. <br><br>  You may also have noticed that I just pointed mongoose to my own mongodb server installed on my computer.  For this mechanism to work properly, MongoDB must be installed on your computer and work.  If it doesn't work, just open a console window and enter the following command: <br><br><img src="https://habrastorage.org/webt/yz/fr/o2/yzfro2ns9az9yqno2kc522rdnfa.png"><br><br>  It will start the MongoDB server on your local machine.  Since all this is done locally, you will not be able to see my posts if you run the code from the repository.  We'll have to write new content ourselves.  If you need a content-stub, I recommend the excellent <a href="http://fillerama.io/">Fillerama.io</a> generator, <a href="http://fillerama.io/">chopping</a> text from some of my favorite movies and TV shows. <br><br>  If you are interested in testing the server yourself, you can run it with the following command: <br><br><img src="https://habrastorage.org/webt/83/fr/1z/83fr1z4cgcdnjrx9up44nk5enxe.png"><br><br>  After the server starts up and tells us that it is working on port 3333, and that it has connected to MongoDB, you can open <a href="https://www.getpostman.com/">Postman</a> and test our routes there.  As for the GET options, you can simply insert the route and click ‚ÄúSend‚Äù.  In the case of POST, you will have to select ‚ÄúBody‚Äù and fill in the fields for the title and main content. <br><br><h3>  Note about the client part </h3><br>  Now that we have configured and launched our server, we can start working on a client with which our users will interact.  The client will be written in React.js, and this can be done in several different ways. <br><br>  The first is to simply add all the necessary libraries for the client part (react, react-dom, react-router, etc.) all in the same <code>package.json</code> file where we wrote the server libraries.  In this project, I did just that, but I must note that I do not consider this option the best.  I think that as our project grows, the code base will become increasingly confusing, and if we use exactly this method, then in the future work with it will become more complicated.  I preferred this path in the application being described precisely because I know for sure: it will not grow and in general will not change at all.  This application is written solely for demonstration purposes. <br><br>  The second and (in my opinion) more optimal approach is to create a separate repository for the server part and a separate one for the client part.  We still can easily clone the client-side repository into the directory with our project, just to make sure that the client part is specified in our <code>.gitignore</code> file.  For example, in the file structure for this application there is a <code>client</code> directory, where all the client-side code resides.  We could put it in a completely separate repository, and then just add the following entry to our server‚Äôs repository <code>.gitignore</code> file: <br><br><img src="https://habrastorage.org/webt/o8/sy/h4/o8syh4xj4rxbc5te5wwk_ax_7bc.png"><br><br>  By adding the <code>client</code> folder to the <code>.gitignore</code> file, we guarantee that the system will not take this folder as the second repository in the project.  In addition, this approach facilitates the work of redesigning or replacing the client part, since the server part is completely unaffected. <br><br>  How exactly your full-stack application will be designed depends solely on you.  It just seems to me that if you keep separate repositories for the client and server parts, the structure of the application will be a bit more accurate. <br><br><h3>  We create client part on React.js </h3><br>  Now, having dealt with the organization of the project, let's talk, actually, about the client code.  Below is my <code>app.js</code> file for an application on React.js, and I will not embed the code for each component in this post, but simply leave a <a href="https://github.com/iamtimsmith/simple-mern-app">link</a> to the repository and explain what each React component is doing. <br><br>  This is how the screenshot of the main page of our application will look like: <br><br><img src="https://habrastorage.org/webt/rp/j-/yz/rpj-yzfnehkwotobufkxqxf3zzi.png"><br><br>  As you can see, <code>app.js</code> absolutely nothing complicated in <code>app.js</code>  There is a &lt;Router&gt;, which allows you to set routes in React.js, which display the various components based on their URL.  And here are the other components that will be used in our React.js application: <br><br><ul><li>  <b>Header</b> - Navigation bar located at the top of the screen </li><li>  <b>Index</b> - Lists of available blog entries </li><li>  <b>New</b> - The form through which the user can create a new post </li><li>  <b>Single</b> - Displays a specific blog entry based on its <code>id</code> </li><li>  <b>Edit</b> - A form through which a user can update a blog entry found by <code>id</code> </li></ul><br>  We use Axios to make http calls to API terminals, and then launch React.js to display the data as we please.  In this post I will give the Index.js code to make it clearer how it all works together. <br><br><img src="https://habrastorage.org/webt/9j/dp/wo/9jdpwo-gh8ifomloyx0cibju1mi.png"><br><br>  The above code involves a class component that allows us to use the state and methods of the life cycle.  This is necessary because Axios calls must be made in the <code>componentDidMount()</code> life cycle method.  It should be noted that I received a CORS error when I tried to make calls to my local API.  To solve this problem, I added several headers to the server.js file in my Express server - and it all worked.  This code is noted in the server.js comments. <br><br>  <i>Let's make sure that search robots read our React.js application normally.</i> <br><br>  Rounding out, I would like to talk briefly about rendering.  If you run our site and go directly to any blog post, then there may be some problems with the display of content.  In this case, it will be inconvenient to browse the site, not only for users, but also for search engine robots indexing content.  To work around this problem, I recommend using tools like Gatsby js or Next js.  The two solutions are different, but both can be useful, depending on what you need. <br><br>  Gatsby js is a static site generator.  You can write a site on React.js, and then Gatsby will turn it into static files during the build process, as a result of which the site will become super-fast.  Gatsby comes with many useful plug-ins, thanks to which the tool becomes almost universal.  By the way, my site is made using Gatsby.js!  Since static files are created at build time, the site needs to be rebuilt whenever the source content changes. <br><br>  <a href="https://nextjs.org/">Next.js</a> , in turn, is a server component for displaying React.js sites.  It has many useful features built in, such as routing, code splitting, styled components, and more.  Server rendering means that the data will be updated automatically, as is done on the server, but, before being displayed in a browser window, the rendering phase will be performed.  That is why no problems with the display of data to the user should not be, and the search engines will also do their job without problems. <br><br>  There are many other solutions of this kind, but I have heard about these two most of all, and during the work on this project I used them.  Both are perfectly documented, so it‚Äôs easy to quickly deal with both and get down to business. <br><br><h3>  Final thoughts on the MERN stack </h3><br>  I hope this article has helped you a little more accurately imagine how the MERN stack works.  In it, we just take MongoDB, Express.js and Node.js and create from them a server that already provides API terminals, through which our React.js application can access data.  So now you understand a lot, it‚Äôs time to do great things! </div><p>Source: <a href="https://habr.com/ru/post/458096/">https://habr.com/ru/post/458096/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458084/index.html">50 selected materials about the earnings of musicians, sound in games and movies, unusual instruments and well forgotten old ones</a></li>
<li><a href="../458088/index.html">Best Linux Distributions for Older Computers</a></li>
<li><a href="../45809/index.html">USB to VirtualBox</a></li>
<li><a href="../458090/index.html">What really happened to the disappeared Malaysian Boeing (part 2/3)</a></li>
<li><a href="../458092/index.html">Towards the core of Python</a></li>
<li><a href="../458098/index.html">Pitfalls GDPR</a></li>
<li><a href="../4581/index.html">IE7 and CSS support: expert comments</a></li>
<li><a href="../458102/index.html">Effective web development workflow: Confluence, Airtable and other tools</a></li>
<li><a href="../458104/index.html">RDMA inside the data center in the implementation of Huawei</a></li>
<li><a href="../458106/index.html">Jetpack Compose dive</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>