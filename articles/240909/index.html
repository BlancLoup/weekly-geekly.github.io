<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Symfony2 Step Form with SyliusFlowBundle</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sometimes when developing web applications other than a primitive blog or business card site, you may be faced with the need to create bulky forms ‚Äî i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Symfony2 Step Form with SyliusFlowBundle</h1><div class="post__text post__text-html js-mediator-article">  Sometimes when developing web applications other than a primitive blog or business card site, you may be faced with the need to create bulky forms ‚Äî information about a user with multiple addresses, personal data, <s>pet names</s> , etc.  Creating a step-by-step form can simplify the lives of users, but not always developers.  In an attempt to help the latter, this post was written. <a name="habracut"></a><br><br>  We will consider the bundle already mentioned in the open spaces of the e-commerce platform <a href="http://sylius.org/">Sylius</a> - <a href="https://github.com/Sylius/SyliusFlowBundle">SyliusFlowBundle</a> .  Why precisely he?  The recommendation of a colleague who pained due to CraueFormFlowBundle's inflexibility, project documentation <s>and sylius.org design put</s> the internal scales on the side of the described solution.  In general, let's go. <br><br>  First you need to pull up the bundle itself: <br><pre><code class="bash hljs">composer require <span class="hljs-string"><span class="hljs-string">"sylius/flow-bundle"</span></span></code> </pre> <br>  Next, edit the AppKernel.php: <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/AppKernel.php public function registerBundles() { $bundles = array( new Sylius\Bundle\FlowBundle\SyliusFlowBundle(), // Other bundles... ); }</span></span></code> </pre><br>  In order for our form to start, you need to perform the following actions: <br><ol><li>  Create the necessary steps - objects immenting the interface StepInterface, with a template for each of them. </li><li>  Link the steps to the script - interface ProcessScenarioInterface and declare it as a service </li><li>  Import routing from bundle </li></ol><br>  That's all you need to get a working step by step form.  Now consider each of the steps in more detail. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Creating steps </h3><br>  As mentioned above, SyliusFlowBundle requires us to implement our StepInterface, for this it is convenient to use the kindly provided abstraction ControllerStep, which, as can be seen from the name, in turn inherits the symphon controller.  The solution offers us to break a step into two actions - displayAction and forwardAction.  The first obviously displays the form, the second processes the POST request and redirects the user to the next step.  Most likely, your steps will have a lot of common code that can be put into its own abstract class.  For example: <br><div class="spoiler">  <b class="spoiler_title">BaseStep</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseStep</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ControllerStep</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> USER = <span class="hljs-string"><span class="hljs-string">'user'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">displayAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ProcessContextInterface $context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createView( <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getStepForm($context-&gt;getStorage()-&gt;get(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::USER)), $context ); } <span class="hljs-comment"><span class="hljs-comment">/** {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forwardAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ProcessContextInterface $context)</span></span></span><span class="hljs-function"> </span></span>{ $form = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getStepForm($context-&gt;getStorage()-&gt;get(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::USER)); $form-&gt;handleRequest($context-&gt;getRequest()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($context-&gt;getRequest()-&gt;isMethod(<span class="hljs-string"><span class="hljs-string">'POST'</span></span>) &amp;&amp; $form-&gt;isValid()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;onFormValid($form, $context); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createView($form, $context); } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> Form $form * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> ProcessContextInterface $context * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Response */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Form $form, ProcessContextInterface $context)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> mixed $data * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> Form */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStepForm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($data = null)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> Form $form * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> ProcessContextInterface $context * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> mixed */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onFormValid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Form $form, ProcessContextInterface $context)</span></span></span></span>; }</code> </pre><br></div></div><br>  Here, in displayAction, we retrieve an object from the store (by default, session), get the form depending on the specific step, and render the page (the implementation will also need to be provided at a specific step).  The only task is forwardAction data validation.  Finally, take a look at the implementation of the step: <br><div class="spoiler">  <b class="spoiler_title">MainStep</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainStep</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseStep</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">displayAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ProcessContextInterface $context)</span></span></span><span class="hljs-function"> </span></span>{ $context-&gt;getStorage()-&gt;remove(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::USER); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::displayAction($context); } <span class="hljs-comment"><span class="hljs-comment">/** {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Form $form, ProcessContextInterface $context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'HospectAppBundle:Process:step.html.twig'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'form'</span></span> =&gt; $form-&gt;createView(), <span class="hljs-string"><span class="hljs-string">'context'</span></span> =&gt; $context, ]); } <span class="hljs-comment"><span class="hljs-comment">/** {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStepForm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($data = null)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createForm(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MainInfoType(), $data); } <span class="hljs-comment"><span class="hljs-comment">/** {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onFormValid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Form $form, ProcessContextInterface $context)</span></span></span><span class="hljs-function"> </span></span>{ $context-&gt;getStorage()-&gt;set(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::USER, $form-&gt;getData()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;complete(); } }</code> </pre><br></div></div><br>  Here, the desired form is created predictably, a step-specific representation is rendered and, in the case of validity of the data, it is saved to the session.  The last step should, of course, save the long-suffering object in your favorite permanent data store. <br><br><h3>  Linking steps to a script </h3><br>  At this stage we have several spherical steps cut off from the application.  To change this you need to create a script.  The script is the link of the general form and is responsible for such things as: the sequence of steps, the installation of parameters of the route common to all steps, the redirection after the successful completion of all steps, etc.  However, in reality, there is not so much work here - the interface needs to implement only one method ‚Äî build, which accepts only one parameter at the input ‚Äî the builder with the methods familiar to it. <br><div class="spoiler">  <b class="spoiler_title">UserScenario</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserScenario</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContainerAware</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProcessScenarioInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ProcessBuilderInterface $builder)</span></span></span><span class="hljs-function"> </span></span>{ $builder -&gt;add(<span class="hljs-string"><span class="hljs-string">'main'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MainStep()) -&gt;add(<span class="hljs-string"><span class="hljs-string">'address'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AddressStep()) -&gt;setRedirect(<span class="hljs-string"><span class="hljs-string">'hospect_app_homepage'</span></span>); } }</code> </pre><br></div></div><br>  In order for the system to ‚Äúfind out‚Äù about our script, you need to announce it as a service with the 'sylius.process.scenario' tag: <br><pre> <code class="php hljs">sylius.scenario.flow: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hospect</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppBundle</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Process</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Scenario</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserScenario</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">calls</span></span></span><span class="hljs-class">: - [ </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">setContainer</span></span></span><span class="hljs-class">, [@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">service_container</span></span></span><span class="hljs-class">] ] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tags</span></span></span><span class="hljs-class">: - </span></span>{ name: sylius.process.scenario, alias: user }</code> </pre><br><br><h3>  Routing configuration </h3><br>  We are offered only three routes for the entire form, no matter how many steps there are.  All of them have an obligatory parameter of scenarioAlias, being guided by which the necessary scenario pulls up.  The routes 'sylius_flow_display' and 'sylius_flow_forward' require the presence of a second parameter called 'stepName'.  That's all.  Import looks like this: <br><pre> <code class="php hljs">sylius_flow: resource: @SyliusFlowBundle/Resources/config/routing.yml prefix: /</code> </pre><br><br><h3>  Links </h3><br><ul><li>  <a href="https://github.com/holyspecter/sylius-flow-demo">Described example on GitHub</a> </li><li>  <a href="http://docs.sylius.org/en/latest/bundles/SyliusFlowBundle/index.html">Documentation SyliusFlowBundle</a> </li><li>  <a href="https://github.com/Sylius/SyliusFlowBundle">SyliusFlowBundle repository</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/240909/">https://habr.com/ru/post/240909/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240897/index.html">Another little engineering investigation or cry Yaroslavna</a></li>
<li><a href="../240899/index.html">Just the hard stuff: high performance computing for engineering and research tasks.</a></li>
<li><a href="../240901/index.html">Fly IQ4511 Tornado One Octa: ‚Äúflagship‚Äù, ‚Äúpremium‚Äù or ‚Äújust a smartphone‚Äù?</a></li>
<li><a href="../240903/index.html">From idea to business - or go with the flow</a></li>
<li><a href="../240907/index.html">Blend4Web, an open platform for creating three-dimensional web applications</a></li>
<li><a href="../240911/index.html">Missing maps: as a human genome decoding project, only for cities</a></li>
<li><a href="../240913/index.html">Virtual networks: VXLAN and VMware NSX</a></li>
<li><a href="../240915/index.html">We are preparing Debian to transfer the clock October 26, 2014</a></li>
<li><a href="../240917/index.html">Go language: rehabilitation of imperative programming</a></li>
<li><a href="../240919/index.html">Project management tools and methodology on the example of a startup pivot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>