<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Updating references from an external source with the possibility of making independent edits</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is such a site - RosYam . Once upon a time about him even wrote on Habr√© . I support him and I want to share the solution of one small problem t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Updating references from an external source with the possibility of making independent edits</h1><div class="post__text post__text-html js-mediator-article">  There is such a site - <a href="http://rosyama.ru/">RosYam</a> .  Once upon a time about him <a href="http://habrahabr.ru/post/120286/">even wrote on Habr√©</a> .  I support him and I want to share the solution of one small problem that I encountered in the process.  Perhaps someone will be interested. <br><br>  So.  There are <a href="http://rosyama.ru/sprav/">two reference books</a> on RosYam, which are updated from external sources.  This is a directory of traffic police units and a directory of regional prosecutor's offices.  They are filled with data from the official websites of the <a href="http://www.gibdd.ru/">State Traffic Safety Inspectorate</a> and the <a href="http://www.genproc.gov.ru/">Prosecutor General‚Äôs Office</a> .  However, the data on these sites sometimes turn out to be erroneous (for example, the index of the Nizhny Novgorod traffic police), and sometimes they are not updated sufficiently quickly.  And users tell us about it because they want to use relevant data. <br><br>  In the classical system of simple mirroring of data from official sites, this problem is insoluble.  Either we refuse regular updates and all use incorrect data, or our edits will be erased with the next update. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  The first solution that comes to mind is to create another directory in which to enter all manual edits so that they roll right after the daily update.  However, this option is bad in that such manual editing will someday become unnecessary (the official website will begin to send correct data) and after a while and simply erroneous (the unit commander changed two times in a month and a half). <br><br>  Therefore, it was decided to make a smart system flexible synchronization. <br><br>  Copies of the traffic police directories and prosecutor's offices were created.  These directories store information that came during the last synchronization.  During the current synchronization, the obtained information is compared with a copy of the directory, the changed data is detected, and only this data is updated in the combat reference book.  As a result, having received information from the user about incorrect data in the directory, you can immediately make corrections on RosYam, as well as write a letter to the traffic police, so that they correct themselves.  After that, I calmly rest, because I know that when the traffic police corrects the data on my report - RosYama will load it automatically and nothing will break. <br><br>  If anyone is interested, the implementation code is laid out on the github: <a href="https://github.com/RosYama/RosYama.2/blob/master/protected/controllers/SpravController.php">github.com/RosYama/RosYama.2/blob/master/protected/controllers/SpravController.php</a> functions of the actionFill_gibdd_reference () and actionFill_proibe_reference () <br><br>  PS And yesterday, we also had the same housekeeper, as in the Habr√©, here. </div><p>Source: <a href="https://habr.com/ru/post/151842/">https://habr.com/ru/post/151842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151834/index.html">HTC Windows Phone 8X and 8S are officially presented</a></li>
<li><a href="../151835/index.html">What do the results of the survey of British firms on the topic of new gTLDs?</a></li>
<li><a href="../151836/index.html">IT Compote # 23 Programming and Technology Podcast</a></li>
<li><a href="../151838/index.html">Cognitive bias of universal intelligence</a></li>
<li><a href="../151839/index.html">Raspberry Pi can now be officially overclocked to 1 GHz without losing the warranty</a></li>
<li><a href="../151843/index.html">Cloud php hosting in one click!</a></li>
<li><a href="../151844/index.html">How to enter the magistracy in England</a></li>
<li><a href="../151846/index.html">Software Freedom Day 2012 in the capital: how was the rally</a></li>
<li><a href="../151847/index.html">SQL Server Audit with NetWrix SQL Server Change Reporter: What's New in Version 2.5</a></li>
<li><a href="../151848/index.html">William Gibson Interview Wired. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>