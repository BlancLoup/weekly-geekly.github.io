<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pool Automation with NEVOTON DMC-5.1.1-Z Data Acquisition Module</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pic.1 Pool water exchange system 

 A large distribution in modern suburban construction received private pools with circulating water exchange system...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pool Automation with NEVOTON DMC-5.1.1-Z Data Acquisition Module</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/124/a8b/87d/124a8b87d8104cff8f44ace8996a17ba.jpg"><br>  Pic.1 Pool water exchange system <br><br>  A large distribution in modern suburban construction received private pools with circulating water exchange system.  This is a system in which the pump runs continuously and the water circulates continuously in a closed loop, passing successively through the filter, heat exchanger and water treatment system. <br><br>  The filter mechanically removes water from contamination, the heat exchanger heats the water to a comfortable temperature, the water treatment system provides the necessary concentration of chemically active substances to disinfect water and set the desired pH level. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And, if a water treatment system, like any responsible system, is built on already existing specialized controllers, such as, for example, Bayrol Pool Relax, then the rest of the water exchange system is more often passive: the circulating pump runs continuously, the amount of water in the system is not changed or monitored . <br><br>  At best, install a ball valve, controlled by a thermostat, to maintain the desired water temperature. <br><br>  This system can be improved using the NEVOTON DCM-5.1.1-Z data acquisition module.  It is intended for measuring analog signals from various sensors, transmitting measurement results over a wireless communication network of the Z-Wave standard and switching electrical networks with voltage up to 275 V. Its application will allow the basin water exchange system to be integrated into the home automation system of the Z-Wave standard. <br><a name="habracut"></a><br><img src="https://habrastorage.org/files/fcb/2df/728/fcb2df728e7b4edd928a9f15727f3658.jpg"><br>  <i>Figure 2. The NEVOTON DCM-5.1.1-Z data acquisition module</i> <br><br>  It is proposed to measure the following parameters: <br><ol><li>  The water pressure in the line after the pump </li><li>  Water temperature after heat exchanger </li><li>  Water level in the pool </li><li>  Water level in the overflow tank, if available in the system </li><li>  The position of the ball valve in front of the heat exchanger </li></ol><br>  It is also possible to control the pump itself (on / off), this reduces the cost of electricity when the pump is running. <br><br>  It is clear that with prolonged downtime it is possible to pollute the water, surfaces and communications of the basin, but in this case, you can set the scenario of periodic pumping of water, but do not drive water all the time, even if the coming weeks are not going to use the pool. <br><br>  An example of the inclusion of the data collection module in the pool water exchange system is shown in Fig. 1. The module itself is conveniently located near the pump and the water treatment system.  As a rule, they are located in the same room in close proximity to each other. <br><br>  Since the data acquisition module used is designed to work in a wireless network of the Z-Wave standard, it is necessary to ensure its communication with the automation system controller directly or through intermediate devices of this automation standard. <br><br>  Configure the NEVOTON DCM-5.1.1-Z I / O module according to the task: <br><ul><li>  Water pressure in the line after the pump - pressure sensor with output 0-10 V; </li><li>  Water temperature after the heat exchanger - Pt1000 thermal resistance; </li><li>  The water level in the pool - a pressure sensor with an output of 0-10 V; </li><li>  The water level in the overflow tank, if any, in the system is a pressure sensor with an output of 0-10 V; </li><li>  The position of the ball valve in front of the heat exchanger - output 4-20 mA. </li></ul><br>  Consider the implementation of the proposed solution based on the Raspberry Pi single-board computer with the RaZberry expansion card, designed to work in the Z-Wave network, and installed on the Raspberry Z-Way-server (the installation procedure is described here: <a href="http://razberry.z-wave.me/index.php%3Fid%3D24">razberry.z-wave.me/index.php ? id = 24</a> ). <br><br>  Next, follow the instructions here: <a href="http://razberry.z-wave.me/docs/RaZberry500_QSG_en1.pdf">razberry.z-wave.me/docs/RaZberry500_QSG_en1.pdf</a> , run the Z-Way-server. <br><br>  The next step is to enable the data collection module in the Z-Wave network.  Exclusion and inclusion of the data collection module in the Z-Wave network is performed by pressing the ‚ÄúSet‚Äù button located on the front side of the device three times. <br>  If there is no NEVOTON DCM-5.1.1-Z device description file (Description) in your Raspberry, you need to add it. <br>  For this, the NEVOTON DCM-5.1.1-Z.xml file needs to be downloaded from the manufacturer‚Äôs website at <a href="http://domoton.ru/shop/modul-sbora-dannyx-dmc-5-1-1-z/">domoton.ru/shop/modul-sbora-dannyx-dmc-5-1-1-z</a> and added to the / opt / folder z-way-server / ZDDX on your Raspberry Pi. <br>  After that, run the python command ./MakeIndex.py. <br>  Then in Expert UI, select the description file, as shown in Figure.  3 <br><br><img src="https://habrastorage.org/files/3fd/974/d8d/3fd974d8d34c4bbca32dfa6c6f6bd189.jpg"><br>  <i>Fig.</i>  <i>3. Select the description file</i> <br><br>  We will connect the sensors in accordance with the instructions. <br>  Next, enter the tab "Configuration" and configure the type of sensor in all channels. <br><br>  For Channel 1 (sensor with output voltage 0-10 V): <br><br><img src="https://habrastorage.org/files/037/a4b/f10/037a4bf10c4740ceaa27e25def162a8a.jpg"><br>  <i>Fig.</i>  <i>4. Channel 1 configuration for pressure sensor</i> <br><br>  For Channel 2 (Pt1000 temperature sensor): <br><br><img src="https://habrastorage.org/files/d98/20d/be7/d9820dbe70db4592b154afd7b28e99a0.jpg"><br>  <i>Fig.</i>  <i>5. Channel 2 configuration for temperature sensor</i> <br><br>  For Channel 3 (sensor with output voltage 0-10 V): <br><br><img src="https://habrastorage.org/files/cd6/35b/2a4/cd635b2a4b144d7b8f2ef22874985e20.jpg"><br>  <i>Fig.</i>  <i>6. Channel 3 configuration for pressure sensor</i> <br><br>  For Channel 4 (sensor with output voltage 0-10 V): <br><br><img src="https://habrastorage.org/files/f7b/368/87e/f7b36887eef1402590b102ec3bf17e57.jpg"><br>  <i>Fig.</i>  <i>7. Channel 4 configuration for pressure sensor</i> <br><br>  For Channel 5 (sensor with 4-20 mA output current): <br><br><img src="https://habrastorage.org/files/b36/192/59a/b3619259aa4c4b859ccd58a6b2408b7b.jpg"><br>  <i>Fig.</i>  <i>8. Channel 5 configuration for current sensor</i> <br><br>  After that, save the configuration, exclude the device from the network and turn it on again. <br>  The device involves the use of an internal relay if necessary, as shown in Fig.  9. <br><br><img src="https://habrastorage.org/files/276/897/b98/276897b98e884757b7b1347b8b92f01f.jpg"><br>  <i>Fig.</i>  <i>9. Status and on / off relay</i> <br><br>  After the inputs are configured, the NEVOTON DCM-5.1.1-Z will begin to measure the sensor outputs, and the results are shown in fig.  ten. <br><br><img src="https://habrastorage.org/files/519/b19/c47/519b19c4746d4b05bb7a89b850c4dbe0.jpg"><br><img src="https://habrastorage.org/files/e0c/099/c3e/e0c099c3e2e44de2b398a5eeed9cd84c.jpg"><br><img src="https://habrastorage.org/files/6f3/a47/6a4/6f3a476a45d343e6a8a2cf431874a4eb.jpg"><br><img src="https://habrastorage.org/files/7e8/b46/dea/7e8b46dea9c248c0baf349b5bccf784f.jpg"><br><img src="https://habrastorage.org/files/4ff/015/b1a/4ff015b1afc9489dadec56db0d525c58.jpg"><br>  <i>Fig.</i>  <i>10. Sensor readings in Smarthome GUI (v. 2.2)</i> <br><br>  In order to normalize sensor data and display it in a user-friendly form, you can use the DataSensorMultiplication module, which can also be downloaded from the manufacturer‚Äôs website at <a href="http://domoton.ru/shop/modul-sbora-dannyx-dmc-5-1-1-z/">domoton.ru/shop/modul-sbora-dannyx-dmc-5-1-1 -z</a> .  The module after installation has the name ‚ÄúPhysical conversion module‚Äù - in the English interface and ‚ÄúModule for the conversion of physical quantities‚Äù - in the Russian-language interface. <br><br>  This module converts the sensor reading into any physical quantity using the formula (Sensor Value * Multiplier) with the display of the desired name of the physical quantity. <br><br>  After downloading, the module must be unpacked and added to the / opt / z-way-server / automation / modules folder on Raspberry.  Next, you need to restart the server with sudo service z-way-server restart.  After that, the module will be available for use. <br><br>  For example, it is known that to bring the values ‚Äã‚Äãof the pressure sensor with an output of 0-10 V (Channel 1, the water pressure in the line after the pump) to 1 atm, the sensor value must be multiplied by 0.785.  To do this, configure the module, as shown in Fig.  eleven. <br><br><img src="https://habrastorage.org/files/e9f/b6a/9c6/e9fb6a9c64284300b04c71fb7a14720a.jpg"><br>  <i>Fig.</i>  <i>11. Configure the value conversion module</i> <br><br>  The result of the module is shown in Fig.  12. <br><br><img src="https://habrastorage.org/files/35f/729/af6/35f729af659d469ea5caba65dd294504.jpg"><br>  <i>Fig.</i>  <i>12. The result of the conversion module</i> <br><br>  This module can be used as often as desired, and each time a virtual device will be created with fields for display.  Values ‚Äã‚Äãfrom this virtual device can be used in further scenarios of Smart Home automation. <br><br>  Thus, it is always possible, for convenience of perception, to convert data from sensors into any type (recalculate readings according to the level of liquid in any geometric volume, etc., i.e., it is important to calculate the coefficient and set it in the module). <br><br>  By coupon <b>GT_NEVOTON</b> in the store <a href="http://www.5smart.ru/">5smart.ru</a> discount of all 10%! </div><p>Source: <a href="https://habr.com/ru/post/372501/">https://habr.com/ru/post/372501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../372489/index.html">Malicious fake Pokemon GO game for Android devices</a></li>
<li><a href="../372491/index.html">Tips and secrets number 2</a></li>
<li><a href="../372495/index.html">Lord of the Rings</a></li>
<li><a href="../372497/index.html">Virtual reality technology plan to use as an anesthetic</a></li>
<li><a href="../372499/index.html">Coyne for like, or why STEEM currency is popular</a></li>
<li><a href="../372503/index.html">Huge robotic manipulators or how we participated in the Moscow Mini Maker Faire festival</a></li>
<li><a href="../372505/index.html">Bitcoin economic news digest</a></li>
<li><a href="../372507/index.html">Why the way to the future of robozahvatov lies through tactile intelligence</a></li>
<li><a href="../372509/index.html">Configurable logic cells in PIC microcontrollers</a></li>
<li><a href="../372511/index.html">In Moscow and the region in –†–æk√©mon Go, more than 180,000 people play. Daily growth 30%</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>