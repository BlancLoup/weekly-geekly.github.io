<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integration code Vivaldi. Tell our developers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, the Norwegian edition of Digi.no published a story about how the developers of the Vivaldi browser work with the Chromium code. In an interv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integration code Vivaldi. Tell our developers</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/c79/798/ac9/c79798ac90505ec2c0ba0d778f8fd93a.jpg" alt="image"><br><br>  Recently, the Norwegian edition of Digi.no published a story about how the developers of the Vivaldi browser work with the Chromium code.  In an interview, the three leading experts of the company for the first time publicly told about this important component of the development process of the Vivaldi browser. <br><br>  In an interview with the Norwegian edition, three employees of the company took part - Ingwe Pettersen, Jarle Antonsen and Andre Schultz.  They talked about how work is carried out on integrating the Vivaldi browser code and the Chromium core used in the browser - about the advantages and disadvantages of this approach, as well as what problems arise and how to deal with them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Below is a translation into Russian of the most interesting questions and answers. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/bfe/c08/51d/bfec0851d196f97435466e2fead183d2.jpg" alt="image"><br>  <i>(Clockwise from left to right) Harald Brombach from Digi.no, Jarle Antonsen, Yngve Pettersen, Andre Schultz.</i> <i><br></i> <br><h3>  Is the problem of large volume and short periodicity of updating the Chromium core code? </h3><br>  <i>Ingwe Pettersen (Lead Engineer)</i> : A new version of Chromium is released every six weeks and we need to integrate our own Vivaldi code with the code for this kernel.  I am engaged in this task, being responsible for the code base of the browser.  And - yes, this is quite a difficult and time-consuming work, which takes several weeks. <br><br><h3>  Is there any progress in this work? </h3><br>  <i>Jarle Antonsen (project manager)</i> : Previously, the integration process took three to four weeks, but with the integration of the last two versions of Chromium (68 and 69), the Vivaldi developers managed in less than two weeks.  The main problem was the regression - when our code stopped working with the Chromium code, and it was their correction that took most of the time. <br><br><h3>  How is the Chromium community working? </h3><br>  <i>Andre Schulz (UI Developer)</i> : To our joy, very productive.  I constantly send questions to the developers of various modules and get quite detailed answers, sometimes even with suggestions on how to make the module work even better. <br><br><h3>  Do you contribute to the development of Chromium? </h3><br>  <i>Ingwe Pettersen</i> : Over the past six months, we sent a dozen patches for the Chromium code.  These are mainly suggestions for clearing the code, but there have also been bug fixes.  Right now we are preparing a few more patches to be sent to the developers of Chromium. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/73d/088/0e9/73d0880e9a0420fd81f08389f2ad760c.jpg" alt="image"><br>  <i>Jarle Antonsen, Yngve Pettersen, Andre Schultz.</i> <br><br><h3>  How complex and lengthy is the code integration process? </h3><br>  <i>Ingwe Pettersen</i> : After the release of the next Chromium update, I create a new separate branch and start working with it.  I extract the Chromium code and sync all the sub-modules that we use while making small changes.  This part of the process is quite well automated with us. <br><br>  Then we copy all our updates over the Chromium codebase.  There is a lot of manual work, because  we get quite a few regressions and code merge conflicts.  Previously, it was very problematic, but over time we cleaned the code well from the elements that caused conflicts, and today everything is much simpler.  For example, in the last update, we made changes to about 900 files, and only 80 files required manual editing of the code.  It took me about five to six hours to do it ‚Äî it used to take at least a week before. <br><br>  After completing the merge code, you need to compile the browser code for various platforms - Windows, Linux, Mac.  As a rule, it takes one day or even several hours.  In general, the process of merging code takes two or three days today. <br><br><h3>  How are new problems identified? </h3><br>  <i>Ingwe Pettersen</i> : Actually, in the process of integrating the code, errors are already showing up, in order to correct which, you have to make changes to the code of Vivaldi modules.  This can take quite a long time. <br><br>  Then Andre, Jarle and other developers are starting to fix the detected problems, as well as new ones that are already being detected during the testing process of the Vivaldi browser. <br><br><h3>  And how difficult is this process? </h3><br>  <i>Andre Schulz</i> : Yes, the changes at Chromium are the most difficult in our work.  A couple of times we turned off the flags for some functions and worked in parallel with the Chromium functions, which were actually removed from the following kernel versions.  This created many problems for us.  The most difficult case occurred when upgrading to the Chromium 64 core and it took us a long time to fix it, which affected the reduction in the rate of release of the new Vivaldi browser assemblies. <br><br>  <i>Ingwe Pettersen</i> : After fixing the problems encountered when integrating a new kernel, we continue to work on finding and fixing errors until we get a fairly stable version suitable for release as a finished product. <br><br><h3>  How are things with the addition of new features in the browser? </h3><br>  <i>Ingwe Pettersen</i> : Yes, we do not stop working on new functions, so the main code of Vivaldi is constantly changing and being tested.  Every time one of the developers adds changes to the code, a new assembly is automatically created.  These assemblies are actively tested first inside the company and by third-party testers of Sopranos, and then by users of public browser test assemblies, and in the end it is the QA department that decides whether we are ready to release the final release. <br><br>  Now about 20 developers work for Vivaldi.  I do not know exactly how many developers are involved in the development of Chromium, but there are, of course, much more than us.  You can try to compare the number of changes in the code made by both teams recently. <br><br>  In five years, we have made more than 17,000 changes to our core code.  Over the past year we have made more than 2,700 changes.  For comparison, between Chromium 67 and 68, approximately 12,000 changes were made to the Chromium code, and between versions 68 and 69, this figure amounted to about 15,000 changes.  In other words, the Chromium development team made as many changes in a few days as we made to our code in a year.  Therefore, I estimate the number of active Chromium developers at about 600 people. <br><br>  <i>Jarle Antonsen</i> : As a rule, we have a little time from the idea to the realization of a new function.  In a small team, it is easier to avoid excessive bureaucracy.  At the same time, almost all team members are actively involved in testing new functions, including company director Jon von Tachner.  And, of course, the process of adding new features is very dependent on user requests - their recommendations and feedback are crucial to our work. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/913/465/1a0/9134651a00b0bda4a7579ff75e5a37ee.jpg" alt="image"><br>  <i>(Clockwise from left to right) Jarle Antonsen, Yngve Pettersen, Andre Schulz, Harald Brombach.</i> <br><br>  <a href="https://ru.vivaldi.net/vivaldi-code-integration/">Original article</a> </div><p>Source: <a href="https://habr.com/ru/post/423319/">https://habr.com/ru/post/423319/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423309/index.html">DBMS transactions</a></li>
<li><a href="../423311/index.html">Partnership Naviaddress and ACTUM</a></li>
<li><a href="../423313/index.html">Attach to I2C. Make a simple logic analyzer</a></li>
<li><a href="../423315/index.html">Universal Links Theory</a></li>
<li><a href="../423317/index.html">Why a Scala man?</a></li>
<li><a href="../423321/index.html">Protect repositories on github against malicious commits</a></li>
<li><a href="../423323/index.html">‚ÄúYou have to be lazy to become a good tester‚Äù</a></li>
<li><a href="../423329/index.html">Preparing for a big five company interview</a></li>
<li><a href="../423335/index.html">How to win a click into Ya. Direct and AdWords for 600 thousand rubles a month</a></li>
<li><a href="../423337/index.html">How to make friends with PHPstorm, xDebug and remote branches collected through Docker? Too easy‚Ä¶</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>