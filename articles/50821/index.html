<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Modernization of the old-style telephone (telephone roulette).</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The essence (goal?) Of the project 
 - At that time it was a project for regional competitions in radio electronics and radio design. 

 Next on the l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Modernization of the old-style telephone (telephone roulette).</h1><div class="post__text post__text-html js-mediator-article"><h4>  <b>The essence (goal?) Of the project</b> </h4><br>  - At that time it was a project for regional competitions in radio electronics and radio design. <br><br>  Next on the list: <br>  - Choose an idea - upgrade phone. <br>  - Create a device based on a PIC16 microcontroller. <br>  - More ASM language learning as well as C. <br>  - Create a usable device through which you can call. <br>  - that still =) <a name="habracut"></a><br><br>  More precisely, the essence of the modernization of the phone is the following - to bring the old phone with a drum dial in human form, replace the entire front panel.  And stick a 4x4 keyboard and a 20x4 display onto it.  Connect and assemble so it would work. <habracut>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>What do we need?</b> </h4><br><br>  First you need to know what we can.  from this and to proceed, at that time I owned the PIC12 / 16 controllers and chose PIC16F877A. <br><br>  Programmer debugger ICD2 Bulgarian production ~ 2.5k rubles.  Please note that it works in MPLAB native program for Windows as well as in Piklab on Linux via USB <br><br> <a href="http://itmages.ru/view.php%3Faction%3Dview%26id%3D1876%26key%3D440d26"><img src="https://habrastorage.org/getpro/geektimes/post_images/b04/970/b63/b04970b63d8d85cb48515cea1d4f01c9.jpg"></a> <br><br>  Datasheet on the controller that will be used in the device can be found here <a href="http://www.microchip.ru/files/d-sheets-rus/PIC16_Manual.pdf">microchip</a> <br><br>  Ordinary plastic DIP40 case (sorry for money pottery) <br>  Ask the question why DIP40? <br>  - Firstly, we need to ensure the verification of the buttons, and we have a 4x4 keyboard - in our case, one port of the controller is already taken. <br>  - Secondly, we need to connect the display 20x4 and there are 16 contacts for control. <br>  - Thirdly, it will also be necessary to dial the number, coax, blink, system LEDs inside the case. <br>  - Well, ‚ÄúThe stock pocket does not pull.‚Äù <br><br>  One could of course put the display and keyboard on one port, but at that time my project was ‚Äúon fire‚Äù, so it was the perfect choice. <br><br>  A little about the display, the display was used 4 lines of 20 characters each, you can see the datasheet on the display here <a href="http://itmages.ru/files/hd44780u.pdf">20x4 LCD</a> <br>  I will say that this is an easy-to-learn display. (Not so much as a pinnacle that I recently tinker with) <br><br>  We will also need a little bit besides the display and the controller =) well, yes, some more brain and free time. <br><br><h3>  Go!  (with) </h3><br><br>  As I have already said, the victim of my alteration was the old landline phone, I cannot show the photo in its original form for obvious reasons. <br><br>  everything superfluous was removed from it, and it looked like this: <br><br> <a href="http://itmages.ru/view.php%3Faction%3Dview%26id%3D1874%26key%3De07d00"><img src="https://habrastorage.org/getpro/geektimes/post_images/ab5/4af/cc6/ab54afcc62c6b3f1b0ae6307f9917fc6.jpg"></a> <br><br>  Then the circuit was developed and the board was made. <br>  The board is made in a pencil type :) i.  You go to the store, you buy a marker with a special varnish, and draw paths by hand, and then poison it as usual. <br>  The turn of the board (i.e. the tracks) can also be observed <br><br> <a href="http://itmages.ru/view.php%3Faction%3Dview%26id%3D1871%26key%3Df38048"><img src="https://habrastorage.org/getpro/geektimes/post_images/b22/022/7bb/b220227bb9e18fefff189188d232d9ae.jpg"></a> <br><br>  In general, after we all soldered, and prepared it should look that way or better :) <br><br> <a href="http://itmages.ru/view.php%3Faction%3Dview%26id%3D1870%26key%3Ddcb21e"><img src="https://habrastorage.org/getpro/geektimes/post_images/211/08a/894/21108a894ba07f5f8b7bd7e3182cfc74.jpg"></a> <br><br>  Next, we make the body, somehow we cut off the entire front panel from this brittle plastic, and we make our own - a new one.  in it we make rectangular cuts for the keyboard and display.  here of course it was possible for me to be careful but =) in general we put all this murkiness inside <br><br> <a href="http://itmages.ru/view.php%3Faction%3Dview%26id%3D1872%26key%3D5b1144"><img src="https://habrastorage.org/getpro/geektimes/post_images/19d/5ce/5d1/19d5ce5d12bcc6d2cad6ed5a8b1dd6aa.jpg"></a> <br><br>  We check the assembly of our device, and close / turn on and see what we did, I have this <br><br> <a href="http://itmages.ru/view.php%3Faction%3Dview%26id%3D1873%26key%3D861791"><img src="https://habrastorage.org/getpro/geektimes/post_images/59d/5c5/851/59d5c5851cae1794b6ce158d3b601164.jpg"></a> <br><br>  General view of the assembled device <br><br> <a href="http://itmages.ru/view.php%3Faction%3Dview%26id%3D1888%26key%3D617ead"><img src="https://habrastorage.org/getpro/geektimes/post_images/0b4/ea8/f0a/0b4ea8f0a4827d6547900e5dc0abb172.png"></a> <br><br><h4>  <b>Button Assignments</b> </h4><br>  - 1, 2, 3, 4, 5, 6, 7, 8, 9, 0 - as usual <br>  - * - this is the backlight <br>  - the most right upper one is ‚Äúmute‚Äù <br><h4>  <b>Pinout for keyboard</b> </h4><br><br>  The keyboard is standard, front view. <br><br> <code>1................2................3................() <br> 4................5................6................() <br> 7................8................9................() <br> *................0................#................() <br> <br> .........RC0..RC1..RC2..RC3..RC4..RC5..RC6..RC7.......</code> <br> <br>  And I was not too lazy to restore the circuit diagram of the board and firmware. <br>  I made it as usable as possible, so I executed it in sPlan 6.0 <br>  - Download not installed <a href="">splan</a> <br>  - Download the installed splan there I ruled some + scheme in the same <a href="">splan</a> <br>  - Who already has this program can just download the <a href="">scheme</a> <br>  - To whom laziness / no program can see the image of the scheme :) <br><br> <a href="http://itmages.ru/view.php%3Faction%3Dview%26id%3D1877%26key%3D9aa656"><img src="https://habrastorage.org/getpro/geektimes/post_images/79f/129/322/79f1293225d914522e86a7afac84942f.png"></a> <br><br>  Now I will tell all sorts of things that he has <br><br>  - The device is powered by telephone + power (yes this is bad) <br>  - Has the mode "without sound" <br>  - Has the mode "turn off / on the backlight" <br>  - has a city dialing mode <br>  - has an intercity dialing mode <br>  - it has a cool display =) and if you still plug in the blue backlight it will be chic at all! <br>  - usable keyboard for dialing, not that this tape ... <br>  - picks up when pressed =) <br>  - in the version of asma, some kind of melody, in C, it just peaks when an incoming call =) <br><br>  Now a few words about the firmware <br><br><h3>  <b>ASM</b> </h3><br>  There is a lot of code in the Asmov firmware, yes.  but there is something that is not in Sishnoy for example <br>  - when an incoming call there, the animation is small on the display is spinning, <br>  - the talk counter (incoming) works correctly there <br>  - to my mind there remained the counter of the dropped calls =) <br><br><h3>  <b>Si</b> </h3><br>  When I wrote the firmware, it divided everything into parts, there are a lot of files there that would be easier to edit <br>  Why did I not understand it on C, but I wanted to do my wash better, but I didn‚Äôt finish it =) <br>  but, there are features like <br>  - Disable / enable backlight <br>  - Silent mode <br>  - improved work with long-distance numbers <br>  - unsuccessful attempt to redial =) <br><br>  firmware can be downloaded right there: <br><br>  - <a href="">Asm firmware</a> <br>  - <a href="">C firmware</a> from the pancake, Habr eats letters - for downloading the sishnoy file name - Telefon (C) .tar.bz2 (without spaces in brackets) <br><br>  The bus on the display on the diagram is numbered, connect accordingly. <br><br>  It is possible that there are errors in the scheme I have restored, but I seem to have done it right, but I almost died (it‚Äôs difficult to draw diagrams ‚Äúvice versa‚Äù) <br><br>  As for the display, it means that it is BC2004GPLCH of Bolymin QC OC 060711 <br>  I don‚Äôt like MELT because they have a ‚Äúglass layer‚Äù too green.  Datasheet on the display above in the article. <br><br>  <s>At the request of the workers we will do the programming blog MK as soon as karma is enough :)</s> <br><br>  ps  if you don‚Äôt see the pictures, it means the server is down :) </habracut></div><p>Source: <a href="https://habr.com/ru/post/50821/">https://habr.com/ru/post/50821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../50816/index.html">New light bulb</a></li>
<li><a href="../50817/index.html">New paid service on LovePlanet.ru - "Improving photos."</a></li>
<li><a href="../50818/index.html">Comments Ideas for the site.</a></li>
<li><a href="../50819/index.html">4. Metaprogramming patterns. 19 Kyu. Salvation of drowning business of the hands of drowning people</a></li>
<li><a href="../50820/index.html">Mono brings C # to iPhone and Wii</a></li>
<li><a href="../50822/index.html">About attentiveness</a></li>
<li><a href="../50823/index.html">Mouse Control</a></li>
<li><a href="../50828/index.html">FreeBSD 7.1 - i386 -> amd64 migration via SSH only :)</a></li>
<li><a href="../50830/index.html">Martin Fowler - GUI Architectures. Part 1</a></li>
<li><a href="../50831/index.html">jQuery in Eclipse PDT, WTP / Zend Studio for Eclipse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>