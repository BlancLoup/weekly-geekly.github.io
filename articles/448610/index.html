<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>DIY: How we did a ‚Äúlive‚Äù schedule for Codefest X</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In late March, the 10th anniversary CodeFest died down in Novosibirsk. Like, probably, any conference, CodeFestX left the participants a lot of differ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>DIY: How we did a ‚Äúlive‚Äù schedule for Codefest X</h1><div class="post__text post__text-html js-mediator-article">  In late March, the 10th anniversary <a href="https://2019.codefest.ru/">CodeFest</a> died down in Novosibirsk.  Like, probably, any conference, CodeFestX left the participants a lot of different impressions of ‚Äúmy foot will not be here anymore‚Äù before ‚Äúhow to buy a lifetime subscription?‚Äù.  I will not describe how it was, the reviews are <a href="https://youtu.be/N1oy7dGuSEI">already there</a> and I think there will be more.  I want to share the story of how we launched <a href="https://codefest.wrike.tech/welcome">an alternative version for the Codefest schedule</a> ( <i>look better from the mobile</i> ): from idea to the result. <br><br><img src="https://habrastorage.org/webt/a9/i-/fr/a9i-frbjx1pwd_-idvj21kuwahe.jpeg"><br><a name="habracut"></a><br><h2>  Idea </h2><br>  I have been visiting Codefest since 2010, and this year was my 9th conference.  For me, Codefest is a tradition, and this time I wanted to do something useful.  Before the event, reading the conference chat, I realized that the schedule is something that can definitely be improved.  Codefest is a rich event from which everyone would like to get the most, so I decided to help with building an alternative, customizable schedule. <br><br>  The objectives were as follows: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>For visitors</b> - to give the opportunity to get more relevant information about current events and form their own tape of interests.  Plus, all conference attendees had the opportunity to come to our booth and gash any missing feature or fix a bug; </li><li>  <b>For Codefest</b> , this is an additional distribution channel for a ‚Äúnational‚Äù program; </li><li>  <b>For us, as a company</b> , this is, of course, an additional plus in the Employer-brand. </li></ul><br><br><img src="https://habrastorage.org/webt/rx/s9/pz/rxs9pzzpvpsnzfsdanwyrbo5alw.jpeg"><br><br>  The concept of a ‚Äúpumped-through‚Äù schedule went to Codefest organizers.  I shared the idea at Wrike and quickly found like-minded people ready to connect.  We started with research, looked at conference sites and mobile apps.  In general, they launched the usual <a href="https://youtu.be/aMLS3sr0diE">grocery process</a> in Wrike. <br><br>  As a result of the backlog development, it was determined that the necessary functionality is needed like this: <br><br><ul><li>  The main conference schedule with the ability to filter reports and search; </li><li>  Favorites and notifications about the approach of selected events; </li><li>  The national program, with the same functionality as the main one, as well as the opportunity for partners and activists to add events to this program. </li></ul><br>  There were lower priority tasks: <br><br><ul><li>  Discussion on the report so that authorized users can exchange views and debate; </li><li>  Likes and people's rating reports; </li><li>  Map, because  CodeFest is great, and navigation is very important. </li></ul><br>  There were still tasks with the third priority, where we still have a lot of spaceships buried, but I believe that their time will come. <br><br><h2>  Implementation </h2><br>  We decided to take as a stack for the project what we use in the development of our product to give an opportunity to see how the frontend is built in Wrike.  We write on <a href="https://www.dartlang.org/">Dart</a> ( <i>and already told why: <a href="https://habr.com/ru/company/wrike/blog/330832/">here</a> and <a href="https://habr.com/ru/company/wrike/blog/330900/">here</a></i> ) and <a href="https://medium.com/flutter-io/hummingbird-building-flutter-for-the-web-e687c2a023a8">YET</a> for large web projects like ours, there is only Angular ( <i>that's <a href="https://youtu.be/0mHspoS5Zf8">5 minutes of inspiration</a> from <a href="https://habr.com/ru/users/bunopus/" class="user_link">bunopus</a></i> ).  The repository of our project can be found here <a href="https://github.com/wrike/codefestx">github.com/wrike/codefestx</a> . <br><br>  In our application to Angular, we added <a href="https://hackernoon.com/redux-step-by-step-a-simple-and-robust-workflow-for-real-life-apps-1fdf7df46092">Redux</a> .  For Dart there are several implementations: we took <a href="https://pub.dartlang.org/packages/redux">Redux.dart</a> and <a href="https://pub.dartlang.org/packages/redux_epics">Redux Epics</a> for effects.  In our project, the Redux-related code is here <a href="https://github.com/wrike/codefestx/tree/master/lib/src/redux">github.com/wrike/codefestx/tree/master/lib/src/redux</a> . <br><br>  To work with immutable states ( <i>immutable state</i> ), we have taken packages <a href="https://pub.dartlang.org/packages/built_value">built_value</a> and <a href="https://pub.dartlang.org/packages/built_collection">built_collection</a> , which simplify the work well.  For example, we create a class for the state of our application, <a href="">CodefestState</a> , and packages generate a <a href="">builder</a> . <br>  For communication between Angular and Redux, a simple trick is used ( <i>the main component is <a href="">github.com/wrike/codefestx/blob/master/lib/app_component.dart</a></i> ): <br><br><ul><li>  ChangeDetectorRef - standard Angulyarov display update mechanism ( <i>documentation <a href="https://webdev.dartlang.org/angular/note/effective/change-detection">here</a></i> ) </li><li>  Standard redux Store ( <i>documentation <a href="">here</a></i> ) </li><li>  Our simple dispatcher - <a href="">github.com/wrike/codefestx/blob/master/lib/src/redux/services/dispatcher.dart</a> </li></ul><br>  And we link them together through the standard dart <a href="https://www.dartlang.org/tutorials/language/streams">stream</a> : <br><br> <code>_dispatcher.onAction.listen((action) =&gt; _store.dispatch(action)), <br> _store.onChange.listen((_) =&gt; _zone.run(_cdr.markForCheck)), <br></code> <br>  That is, when creating an action in the manager ( <i>they are all <a href="https://github.com/wrike/codefestx/tree/master/lib/src/redux/actions">here</a></i> ), it gets into the Redux repository.  It is being processed and the state is changing, which causes the Angulyarovsky Change Detection cycle. <br>  For sending notifications, 2 mechanisms were made: for notifications about the occurrence of events, since  This is important, integrated with <a href="https://www.pushwoosh.com/">PushWoosh</a> and got a system push ( <i>unfortunately without the support of browsers on iOS</i> ).  For less critical events, for example, the release of a new version, they raised a socket, and used <a href="https://pub.dartlang.org/packages/socket_io_client">socket_io_client</a> on the client. <br><br><img src="https://habrastorage.org/webt/lu/lm/lh/lulmlhwogwbghjqewm8y6onvxec.gif"><br><br>  In general, the structure of the application is simple and, in my opinion, understandable.  If you have questions, then we can discuss specific solutions in the comments or on github. <br><br><h2>  Infrastructure </h2><br>  In the modern world, in order to lay out the JS file for general use, <a href="https://kubernetes.io/">one</a> cannot do without <a href="https://kubernetes.io/">k8s</a> .  But seriously, one of the features of our service is its refinement right at the conference itself ( <i>which some Dartisan used among visitors and no, they are not from Wrike :)</i> ). <br><br><img src="https://habrastorage.org/webt/1n/b0/xb/1nb0xbs7ur95vrppmx1i0gkd55i.jpeg"><br><br>  Therefore, we decided to make an honest CI.  We looked at the integration possibilities that <a href="https://github.com/marketplace/category/continuous-integration">GitHub has</a> , and found <a href="https://cloud.google.com/cloud-build/">Google Cloud Build there</a> : since we use Google products, then we shouldn‚Äôt leave this track.  The integration works like this: any commit to the repository calls the build <a href="">cloudbuild.yaml</a> .  We followed the path that we assemble the Docker container with the finished application ( <i>there is a template for darth - <a href="https://hub.docker.com/r/google/dart/">hub.docker.com/r/google/dart</a></i> ), and then we launch it in k8s, so that we can roll back releases, scale and provide other hypothetical situations.  From what was not enough out of the box, it‚Äôs the ability to do different behaviors depending on the branch where we commit, that is, for the master to build and deploy to battle, and for the other branches, the minimum steps are taken without k8s.  There is an active discussion of this topic <a href="https://github.com/GoogleCloudPlatform/cloud-builders/issues/138">here</a> , and we took advantage of the decision from this discussion.  CI worked perfectly and never failed. <br><br><h2>  A spoon of tar </h2><br>  In addition to our success, of course, there is something that could be done differently.  For example, not to force people to log in when voting for reports - some do not like it ( <i>especially in short-term services</i> ).  As a result, we received not so many ‚Äúlikes‚Äù for the reports, but, nevertheless, congratulated the speaker-champions. <br><br><img src="https://habrastorage.org/webt/xe/0t/q4/xe0tq4-g1dpk5w764k2kkp7rgvo.jpeg"><br><br>  We also, in the guise of web development, have forgotten about the hard limitations of iOS, and that there is <a href="https://help.pushwoosh.com/hc/en-us/community/posts/360000826663-Mobil-Safari">no way to push for the web</a> .  It turned out that almost half of the users of our service were from the iPhone.  Unfortunately, we could not send them a notification. <br>  And what else upset the team, as I have already mentioned, did not manage to do all our plans.  Some of the functionality was rolled out right at the conference, and some still live in the backlog. <br><br><h2>  results </h2><br>  Thanks to the organizers that the link to the schedule was added to the participant list of the conference.  During the conference, the service was used by more than 1,100 users.  To the main program of ~ 120 events, we added another ~ 50 "folk".  Approximately 75% of the sessions were on mobile devices, we sent over 500 push notifications, released 3 releases during the conference itself, got a lot of pleasure from the process and the result. <br><br><img src="https://habrastorage.org/webt/ax/7h/6j/ax7h6jbwkhnsve1quyod0g82e6w.jpeg"><br><br>  It was a great experience, and we will continue to develop the project, at least for internal events and conferences Wrike.  If you were on Codefest and used our schedule, we will be glad to receive your feedback in the comments. </div><p>Source: <a href="https://habr.com/ru/post/448610/">https://habr.com/ru/post/448610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../448596/index.html">Tablet holder on a treadmill or search for free steps</a></li>
<li><a href="../448600/index.html">How to study the critical DHCP vulnerability in Windows 10 has led to the detection of two more security errors</a></li>
<li><a href="../448602/index.html">Is monitoring dead? - Long live monitoring</a></li>
<li><a href="../448604/index.html">GameBoy on C #</a></li>
<li><a href="../448608/index.html">How to take the first steps in robotics?</a></li>
<li><a href="../448618/index.html">Douglas-Pecker Algorithm</a></li>
<li><a href="../448620/index.html">T + Conf 2019 is around the corner</a></li>
<li><a href="../448622/index.html">PHP GR8: Will JIT improve PHP 8 performance</a></li>
<li><a href="../448624/index.html">See the data? Not. So I do not see, but they are. We destroy data on SSD-drives, and even restore the speed</a></li>
<li><a href="../448626/index.html">DDoS to help: how we conduct stress and stress tests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>