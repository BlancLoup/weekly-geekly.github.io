<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What is ZFS? And why are people crazy about her?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We will now discuss ZFS advanced file system. We will discuss how it appeared, what it is, and why it is so popular in technical circles and enterpris...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What is ZFS? And why are people crazy about her?</h1><div class="post__text post__text-html js-mediator-article">  We will now discuss ZFS advanced file system.  We will discuss how it appeared, what it is, and why it is so popular in technical circles and enterprises. <br><br>  Although I am from the USA, I prefer to pronounce ZedFS instead of ZeeFS, because it sounds cooler.  You can choose the pronunciation for yourself. <br><br><blockquote>  Note: In this article, you will see that ZFS is repeated many times.  When I talk about features and installation, I mean OpenZFS.  The paths of ZFS (developed by Oracle) and OpenZFS diverged since Oracle closed the OpenSolaris project.  (Read more later in the article.) </blockquote><a name="habracut"></a><br><h2>  ZFS history </h2><br>  The Z (ZFS) file system was created by Matthew Aren and Jeff Bonwick in 2001. ZFS was developed to be the next generation of OpenSolaris file systems from Sun Microsystems.  In 2008, ZFS was ported to FreeBSD.  In the same year, ZFS porting to Linux began.  However, since ZFS began to be released under the CDDL license, which is incompatible with the GNU GPL, it cannot be added to the Linux kernel.  To circumvent this limitation, most distributions offer ZFS installation methods. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Soon after Oracle bought Sun Microsystems, the OpenSolaris code was closed.  All subsequent development of ZFS has become closed too.  A large number of ZFS developers have been disappointed by these changes.  Two thirds of the important ZFS developers, including Arens and Bonvik, left Oracle due to this decision.  They joined other companies and created the OpenZFS project in September 2013. The project led the open source development of ZFS. <br><br>  Let us return to the problem with the licenses mentioned above.  From the moment OpenZFS separated from Oracle, it may be interesting to someone why they did not change the GPL-compatible license, so as to include the file system in the Linux kernel.  According to the OpenZFS website, changing the license entails contacting the developers who made changes to the OpenZFS release (including those who started this project and the ZFS code prior to OpenSolaris) and get their permission.  This is almost impossible (maybe some of them have already died or are not so easy to find), they decided to leave everything as it is. <br><br><h2>  What is ZFS?  What makes it special? </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/750/dc3/5a3/750dc35a38c02934e5d092316ab2e14d.png" alt="image"><br><br>  As I said earlier, ZFS is an advanced file system.  As such, it has some interesting features.  Such as: <br><br><ul><li>  Pooled storage </li><li>  Copy-on-write </li><li>  Snapshots </li><li>  Verification of information integrity and automatic repair </li><li>  RAID-Z </li><li>  The maximum file size is 16 Exabytes ( <i>Approx. Translator: 10 ^ 18 bytes</i> ) </li><li>  Maximum storage size of 256 quadrillion Zettabyte ( <i>Approx. Translator: Quadrillon - million ^ 4; Zettabyte - 10 ^ 21 bytes)</i> </li></ul><br>  We will understand some of them. <br><br><h2>  Unified Storage </h2><br>  Unlike other file systems, ZFS combines the file system and disk manager capabilities.  This means that ZFS can create a file system spanning all disks.  But not only that, you can also add storage to the disk system.  ZFS will partition and format disks. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/abb/3ce/2be/abb3ce2be8ebedd9e83f684e1a6f3819.png" alt="image"><br><br><h2>  Copy-on-write </h2><br>  Copy-on-write is another interesting feature.  But most file systems, if the information is overwritten, it is lost forever.  In ZFS, new information is recorded in a separate block.  Once the recording is complete, the file system metadata is updated to the point of new information.  This ensures that if the file system breaks (or something like that happens) during recording, the old information will be fixed.  This means that the system does not need to run fsck after a crash. <br><br><h2>  Snapshots </h2><br>  Copy-on-write leads to another interesting thing about ZFS: snapshots.  ZFS uses snapshots to keep track of file system changes.  The snapshot stores the original version of the file system and the current one, in which all changes since the snapshot was taken.  No extra space is used.  As soon as new information is written to the current file system, new blocks are distributed to store it.  If the file has been deleted, the mention of it from the snapshot disappears.  Pictures are designed to track changes, but are not complementary and do not create files. <br><br>  Pictures can be mounted in read-only format to restore the old version of the file.  You can also roll back the system to the previous snapshot.  All changes made after the snapshot will be lost. <br><br><h2>  Verification of information integrity and automatic repair </h2><br>  Whenever new information is recorded in ZFS, a check-sum (checksum) is created for this information.  When the information is read, the check-amount is confirmed.  If the check sums do not match, ZFS notices the error and tries to correct it. <br><br><h2>  RAID-Z </h2><br>  ZFS can raise RAID without auxiliary software.  Not surprisingly, ZFS provides its own implementation of RAID: RAID-Z.  RAID-Z is essentially a variation of RAID-5.  However, RAID-Z is designed to outperform RAID-5 in terms of error, ‚Äúall data and parity information becomes incompatible after an unexpected reboot.‚Äù To use the base level (RAID-Z1) you need at least two disks to storage and one for parity control.  RAID-Z2 needs at least two disks for storage and two for parity.  RAID-Z3 requires two disks for storage and three for parity.  Once the disks are added to the RAID-Z groups, they must be a multiple of two. <br><br><h2>  Huge storage options </h2><br>  When ZFS was created, it was designed to be the best of its kind.  At a time when most file systems were 64-bit, the creators of ZFS decided to make it 128-bit, for future confirmation of this.  This means that ZFS provides capacity of 16 million 32-bit or 64-bit systems.  In addition, Jeff Bonwick (one of the creators) said that the power supply of a fully-filled 128-bit memory pool would literally require more energy than for the boiling of the oceans. <br><br><h2>  How to install ZFS </h2><br>  If you want to use ZFS out of the box, then you must install either FreeBSD or an OS that uses the illumos kernel.  Illumos is a fork of the OpenSolaris core. <br><br>  In fact, ZFS support and for ZFS is the main aspect, why some experienced Linux users opt for BSD. <br><br>  If you want to use ZFS on Linux, you can use it as a file system for storage only.  As far as I know, none of the distributions make it possible to install ZFS, so that it works immediately.  If you are interested and want to try, there is a ZFS on Linux project that provides several tutorials. <br><br><h2>  At last </h2><br>  In this article, I talked about the advantages of ZFS.  And now about a little problem.  Using RAID-Z can be costly due to the number of drives needed for it. <br><br>  Have you ever used ZFS?  And how is she to you?  Tell us about it in the comments. <br><br><h2>  Translator's epilogue </h2><br>  Thank you for reading.  Good luck to you. </div><p>Source: <a href="https://habr.com/ru/post/424651/">https://habr.com/ru/post/424651/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../424637/index.html">Magic barcode</a></li>
<li><a href="../424639/index.html">Google turned 20 years old</a></li>
<li><a href="../424645/index.html">How we did the most massive internal survey in the bank</a></li>
<li><a href="../424647/index.html">The worst chart in the world</a></li>
<li><a href="../424649/index.html">Java vs GO. Testing a large number of users</a></li>
<li><a href="../424653/index.html">Welcome to Voronezh Game Dev Meetup</a></li>
<li><a href="../424655/index.html">Jira customization for your needs. Perfect flow and perfect ticket</a></li>
<li><a href="../424657/index.html">[Translate] Fix or kill automatically installed javascript?</a></li>
<li><a href="../424659/index.html">General office privilege - natural light</a></li>
<li><a href="../424661/index.html">Small Earth satellites contain the potential for amazing scientific and commercial opportunities.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>