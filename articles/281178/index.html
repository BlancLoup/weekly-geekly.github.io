<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RAML 1.0: review of innovations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RAML , the markup language used to describe the RESTful API, has already been written . In a discussion of the article on Habrahabr one of the readers...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RAML 1.0: review of innovations</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/0e2/cb3/b0a/0e2cb3b0aa6678528bac86c7872f4f7b.png" alt="RAML 1.0" width="100%" height="100%"><br><br>  <a href="http://raml.org/" rel="nofollow">RAML</a> , the markup language used to describe the RESTful API, has already been <a href="https://habrahabr.ru/company/selectel/blog/265337/">written</a> .  In a discussion of the article on Habrahabr one of the readers <a href="http://habrahabr.ru/company/selectel/blog/265337/">noticed</a> that RAML has not been updated for a long time, almost since the summer of 2014. <br><br>  The RAML format has been significantly improved for several months.  <a href="" rel="nofollow">The new specification version 1.0</a> was published on the official website relatively recently, in early October 2015.  Compared with the previous version (0.8), many changes and additions have been made to it.  On the most significant innovations, we will describe in detail in this article. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Data types </h2><br><br>  The most important innovation in RAML 1.0 is data type support.  Now in the introductory part of the document, you can describe in great detail all the data types with which the API works: <br><br><pre><code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: <span class="hljs-built_in"><span class="hljs-built_in">New</span></span> API mediaType: application/<span class="hljs-type"><span class="hljs-type">json</span></span> <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>: Person: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> # properties: firstname: string lastname: string is_our_employee: <span class="hljs-type"><span class="hljs-type">boolean</span></span> Document: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> properties: Author title: string signing_date: <span class="hljs-type"><span class="hljs-type">date</span></span></code> </pre> <br><br>  The data types defined in the specification can be used further in the description of response bodies, URI parameters, headers, and query parameters, for example: <br><br><pre> <code class="hljs pgsql">/documents/{documentId}: <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>: responses: <span class="hljs-number"><span class="hljs-number">200</span></span>: body: application/<span class="hljs-type"><span class="hljs-type">json</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: Document</code> </pre><br><br><h2>  Examples: advanced features </h2><br><br>  In the documentation for any API, it is desirable to give as many examples as possible. <br>  In RAML 1.0, examples can be added to any part of the document.  Examples can be presented in both JSON and YAML formats: <br><br><pre> <code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: <span class="hljs-built_in"><span class="hljs-built_in">New</span></span> API mediaType: application/<span class="hljs-type"><span class="hljs-type">json</span></span> <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>: Person: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> # properties: firstname: string lastname: string is_our_employee: <span class="hljs-type"><span class="hljs-type">boolean</span></span> examples: { firstname: Alexander lastname: Ivanov is_our_employee: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }</code> </pre><br><br>  With examples, the description of the API becomes more understandable and intuitive. <br><br><h2>  Annotations </h2><br><br>  With the help of <a href="" rel="nofollow">annotations,</a> additional metadata can be inserted into the RAML specifications.  This feature is useful when designing an API: in the annotation, you can add information that will be useful in the future (for testing, supplementing documentation, etc.). <br>  Consider a simple example (taken from <a href="https://github.com/spotify/ramlfications/wiki/RAML-v1.0:-Annotations" rel="nofollow">official documentation</a> ): <br><br><pre> <code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: Illustrating annotations mediaType: application/<span class="hljs-type"><span class="hljs-type">json</span></span> annotationTypes: experimental: /<span class="hljs-keyword"><span class="hljs-keyword">groups</span></span>: (experimental):</code> </pre><br><br>  The introductory part of the document (the annotationTypes attribute) describes the general format of annotations.  Next, one of the API endpoints is marked as experimental. <br><br>  Annotations can also be used in more complex situations - for example, to describe test cases: <br><br><pre> <code class="hljs scala">#%<span class="hljs-type"><span class="hljs-type">RAML</span></span> <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: <span class="hljs-type"><span class="hljs-type">Testing</span></span> annotations mediaType: application/json annotationTypes: testCase: allowedTargets: [ <span class="hljs-type"><span class="hljs-type">Method</span></span> ] allowMultiple: <span class="hljs-literal"><span class="hljs-literal">true</span></span> usage: | <span class="hljs-type"><span class="hljs-type">Use</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> annotation to declare a test <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>. <span class="hljs-type"><span class="hljs-type">You</span></span> may apply <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> annotation multiple times per location. properties: scenario: string setupScript?: string[] testScript: string[] expectedOutput?: string /documents: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: myResourceTypes.collection get: (testCase): scenario: <span class="hljs-type"><span class="hljs-type">No</span></span> <span class="hljs-type"><span class="hljs-type">Documents</span></span> setupScript: deleteAllDocuments testScript: getAllDocuments expectedOutput: [ ] (testCase): scenario: <span class="hljs-type"><span class="hljs-type">One</span></span> <span class="hljs-type"><span class="hljs-type">Document</span></span> setupScript: [ deleteAllDocuments, addDocs ] testScript: getAllDocuments expectedOutput: '[ { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">999</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"John Smith"</span></span> } ]' (testCase): scenario: <span class="hljs-type"><span class="hljs-type">Multiple</span></span> <span class="hljs-type"><span class="hljs-type">Documents</span></span> setupScript: [ deleteAllDocuments, addDocs ] testScript: getAllDocuments expectedOutput: '[ { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">998</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Bob Brown"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">999</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"John Smith"</span></span> } ]'</code> </pre><br><br><h2>  Libraries </h2><br><br>  Another innovation RAML 1.0 - the library.  A library is a file in which profiles, data types, and other information are placed in the introductory part of the document.  Now in the new document you can not paint in detail the introductory part, but refer to the existing libraries.  This practice resembles the connection of external libraries and modules in the program code. <br>  Let us give an example of a library: <br><br><pre> <code class="hljs vhdl">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Library</span></span> #     libraries/files.raml usage: | <span class="hljs-keyword"><span class="hljs-keyword">Use</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> define some basic <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>-related constructs. types: <span class="hljs-keyword"><span class="hljs-keyword">File</span></span>: properties: name: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> length: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> traits: drm: headers: drm-key: resourceTypes: <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>: get: <span class="hljs-keyword"><span class="hljs-keyword">is</span></span>: drm put: <span class="hljs-keyword"><span class="hljs-keyword">is</span></span>: drm</code> </pre><br><br>  After the library is stored in a separate file, it can be accessed in the main specification file: <br><br><pre> <code class="hljs delphi">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: Files API <span class="hljs-keyword"><span class="hljs-keyword">uses</span></span>: files: !include libraries/files.raml resourceTypes: <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>: !include files-resource.raml /files: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">file</span></span></code> </pre><br><br><h2>  Add-ins and extensions </h2><br><br>  Add-ins (overlays) and extensions (extensions) are intended to customize API descriptions ‚Äî for example, when you need to create (and then regularly update and maintain) API documentation in several languages.  This task is not as simple as it may seem at first glance.  Most of the API documentation tools available cannot cope with this task without additional crutches. <br><br>  With RAML 1.0, using add-ins, you can easily implement support for multilingual documentation.  Imagine that we have documentation for the API in English, and we need to do French localization for it.  English documentation is stored in the booklibrary.raml file.  Let's give a small fragment: <br><br><pre> <code class="hljs vhdl">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: Book <span class="hljs-keyword"><span class="hljs-keyword">Library</span></span> API documentation: - title: Introduction content: automated <span class="hljs-keyword"><span class="hljs-keyword">access</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the books - title: Licensing content: Please respect the copyright <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> this book</code> </pre><br><br>  To add French localization, create an add-in file (overlay): <br><br><pre> <code class="hljs dos"> #%RAML <span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> Overlay usage: French localisation masterRef: booklibrary.raml documentation: - <span class="hljs-built_in"><span class="hljs-built_in">title</span></span>: Introduction content: l'acc√®s automatis√© <span class="hljs-built_in"><span class="hljs-built_in">aux</span></span> livres - <span class="hljs-built_in"><span class="hljs-built_in">title</span></span>: licene content: Respectez les droits d'auteur svp</code> </pre><br><br>  This file includes only French translations;  All descriptions of the methods and responses during generation will be taken from the main file. <br><br>  With the help of extensions, you can create additional descriptions of methods and responses.  This may be necessary to adapt the description of the API for different categories of users or for different use cases (for example, in a situation where the free version of the service is available to the base users, and the paid version users have an extended set of functions) <br><br>  Consider the following fragments (examples are taken <a href="https://github.com/spotify/ramlfications/wiki/RAML-v1.0:-Extensions" rel="nofollow">from here</a> ): <br><br><h5>  Main file </h5><br><br><pre> <code class="hljs vhdl">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: Book <span class="hljs-keyword"><span class="hljs-keyword">Library</span></span> API documentation: - title: Introduction content: Automated <span class="hljs-keyword"><span class="hljs-keyword">access</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> books - title: Licensing content: Please respect copyrights <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> our books. /books: description: The collection <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">library</span></span> books get:</code> </pre><br><br><h5>  Expansion with a description of the functionality of the API for users with administrative rights </h5><br><br><pre> <code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Extension</span></span> <span class="hljs-keyword"><span class="hljs-keyword">usage</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> administrative functionality masterRef: librarybooks.raml /books: post: description: <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> a <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> book <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the collection</code> </pre><br><br><h5>  Extension for a custom version of the API available at the specified URL </h5><br><br><pre> <code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Extension</span></span> <span class="hljs-keyword"><span class="hljs-keyword">usage</span></span>: The <span class="hljs-keyword"><span class="hljs-keyword">location</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> the <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> instance <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> the Piedmont library API masterRef: librarybooks.raml baseUri: http://api.piedmont-library.com</code> </pre><br><br><h2>  Conclusion </h2><br><br>  The innovations we have examined indicate that RAML is developing in the direction of a simple, but at the same time very flexible description language, which allows documenting even the most complex APIs. <br><br>  I am also glad that new, more advanced tools for creating documentation for the API are appearing now.  In the fall of 2015, MuleSoft (the main developer of RAML) released the <a href="http://apiworkbench.com/" rel="nofollow">API WorkBench plugin</a> (see also the <a href="https://github.com/mulesoft/api-workbench" rel="nofollow">repository on GitHub</a> ) for the <a href="https://atom.io/" rel="nofollow">Atom</a> text editor - we recommend you pay attention.  Let's hope that in the future this tool will develop successfully. <br><br>  If you have already used RAML 1.0 to document the API, we invite you to share your experience.  If it seems to you that we have forgotten to tell about some interesting innovation - write to us and we will definitely add it to the review. <br><br>  If for one reason or another you cannot leave comments here - welcome to our <a href="https://blog.selectel.ru/raml-1-0-obzor-novovvedenij/">corporate blog</a> . </div><p>Source: <a href="https://habr.com/ru/post/281178/">https://habr.com/ru/post/281178/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../281164/index.html">Collecting Checkpoint Firewall Logs (OPSEC LEA)</a></li>
<li><a href="../281168/index.html">How to hack thousands of printers in the Russian Federation and print everything you want</a></li>
<li><a href="../281170/index.html">Ubuntu Russification console in 2016</a></li>
<li><a href="../281172/index.html">Welcome to Moscow Atlassian Meetup April 26</a></li>
<li><a href="../281176/index.html">His name is Bot. Statsbot</a></li>
<li><a href="../281180/index.html">Lists of actions: simple, flexible, extensible AI</a></li>
<li><a href="../281184/index.html">Seven things you need to know a novice programmer</a></li>
<li><a href="../281186/index.html">Computer vision and mobile robots. Part 1 - V-REP, Python, OpenCV</a></li>
<li><a href="../281188/index.html">What's in git 2.8? Push, grep, rebase, config and other things</a></li>
<li><a href="../281190/index.html">Angular 2 Beta, training course "Tour of Heroes" part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>