<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Editing .heic images without losing colors</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The problem of loss of natural color rendition when converting images from heic format to jpg and png formats is considered, the solution method in Ph...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Editing .heic images without losing colors</h1><div class="post__text post__text-html js-mediator-article">  The problem of loss of natural color rendition when converting images from heic format to jpg and png formats is considered, the solution method in Photoshop is described. <br><br><img src="https://habrastorage.org/webt/uz/ez/qz/uzezqzvhdakmdxy-9cdkl7fhkxg.jpeg"><br><br><h2>  Description of the problem </h2><br>  The <a href="https://ru.wikipedia.org/wiki/HEIF">HEIF</a> image <a href="https://ru.wikipedia.org/wiki/HEIF">format</a> , which is referred to on Apple devices as <a href="https://ru.wikipedia.org/wiki/HEIF">heic</a> , is currently gaining in popularity.  Compared with the jpeg format, it allows for an equal file size to achieve better quality.  However, when converting this format to JPEG, there is a loss of color.  The insidiousness lies in the fact that at a quick glance, users may not notice a slight discrepancy in the color rendition and put a much paler photo on the Internet than it looked on the iPhone's screen.  To prevent this from happening, you should adjust the color profiles in Photoshop after the conversion. <br><a name="habracut"></a><br>  In Windows, to look at or, especially, to process images of this format is not easy.  Even <abbr title="Adobe Photoshop version: 19.1.5 20180604.r.346 2018/06/04: 1175273 x64">Photoshop CC 2018</abbr> does not support working with heic, so you should convert the image into one of the popular formats using various online services or special programs.  I used the free <a href="https://imazing.com/ru/heic/download">iMazing HEIC Converter</a> program for this.  It allows you to save the original images in the formats .jpg (c setting the level of compression) and png. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      However, it was not without surprises.  It turned out that when converting, the output jpeg-image has the <a href="https://ru.wikipedia.org/wiki/DCI-P3">Display P3</a> <a href="https://habr.com/post/67831/">color profile</a> , and not the usual <a href="https://ru.wikipedia.org/wiki/SRGB">sRGB</a> , used in most monitors and LCD displays of mobile devices.  If we want to get an image without loss of compression in the png format, then the color profile will not be attached to the image at all;  at the same time, the numerical values ‚Äã‚Äãof the pixel colors will be recorded exactly in Display P3, and the display of such a picture on the Internet (in the sRGB profile) will lead to color distortions.  In this case the colors will appear less saturated. <br><br><h2>  From HEIC to JPEG </h2><br>  <b>1. Convert an image from HEIC to JPEG to iMazing HEIC Converter</b> <br><br><div class="spoiler">  <b class="spoiler_title">Simple interface iMazing HEIC Converter</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/fl/_k/mb/fl_kmbswcdm4etsflk2a1fj-rwk.png"><br></div></div><br>  <b>2. Open the resulting jpeg-image in Photoshop</b> <br><br>  Immediately we see a warning color management system.  If the desired color profile is selected by default in the Photoshop workbench (for placing photos on the Internet with iPhone, preference should be given to sRGB IEC1966-2.1), select the second option (Convert document colors to workspace). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o6/fg/zr/o6fgzrhzjrab_dvm2ufsc4y4bti.png"></div><br><div class="spoiler">  <b class="spoiler_title">Alternative method</b> <div class="spoiler_text">  If another working color profile is selected by default, then select the first option (Use embedded profile instead of working profile), and then click Edit / Convert to profile /, set ‚ÄúsRGB IEC1966-2.1‚Äù, click ‚ÄúOK‚Äù.  Screenshots are attached below. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">What do these options mean?</b> <div class="spoiler_text">  Use the built-in profile (instead of the desktop) - the numerical values ‚Äã‚Äãof the pixel colors will remain intact, but Photoshop will display the colors according to the original Display P3 color space.  In Photoshop, the photo will look right, as it was originally on the iPhone, but after saving most programs will display a picture unnatural, since these programs will try to display the values ‚Äã‚Äãof the Display P3 space in the usual sRGB. <br><br>  Convert document colors to workspace ‚Äî values ‚Äã‚Äãof pixel colors are recalculated so that the image in the selected workspace looks the same as in the original workspace with the original pixel colors values. <br>  Do not use the built-in profile (do not control the color) - the pixel values ‚Äã‚Äãwill not be changed, in addition, the information about the used profile will be deleted.  After that, all programs, even Photoshop itself, will act according to the principle: ‚ÄúThere is no information about the color profile, it means it should be displayed in a standard color profile (sRGB)‚Äù. <br></div></div><br>  <b>3. Save the image</b> <br><br>  When saving, do not forget to tick the "ICC-profile: sRGB IEC1966-2.1". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-l/_i/bs/-l_ibsgis3wfoknieivn7tv4yxs.png"></div><br><h2>  From HEIC to PNG </h2><br>  If we want to get an image without loss of compression, we should convert it into png format. <br><br>  <b>1. Convert an image from HEIC to PNG to iMazing HEIC Converter</b> <br><br>  <b>2. Open the resulting png-image in Photoshop</b> <br><br>  The color profile is not attached to images in the png format, so the warnings of the color management system are not in this case, and Photoshop is trying to display in sRGB the pixels whose values ‚Äã‚Äãare recorded for Display P3. <br><br>  <b>3. Assign the original color profile</b> <br><br>  We know in which profile the pixel values ‚Äã‚Äãare recorded.  Leaving the color values ‚Äã‚Äãintact, assign an Image P3 color profile: Edit / Assign Profile / Image P3 / OK /. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zz/rq/kz/zzrqkzhc1tcwjexfzbfu5cvamas.png"></div><br>  At this stage, we see that the image has restored the same saturation, while the pixel values ‚Äã‚Äãhave remained unchanged.  These same values ‚Äã‚Äãhave become differently displayed. <br><br>  <b>4. Convert the color profile</b> <br><br>  Edit / Convert to Profile / Slave.  simple RGB - sRGB IEC1966-2.1 / OK / <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yt/fk/o0/ytfko0u7qudekjbnqxw-inub-n4.png"></div><br>  <b>5. Save in any format.</b> <br><br><h2>  Result </h2><br>  For a visual demonstration of the need to restore colors after converting from heic, the image below shows a fragment of the image, which combines images with the restoration of the original colors (bottom) and immediately after converting without correction (top). <br><br><img src="https://habrastorage.org/webt/oh/dt/ie/ohdtiegpkwj8b4jw1thvd3oacy4.png"></div><p>Source: <a href="https://habr.com/ru/post/418177/">https://habr.com/ru/post/418177/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../418165/index.html">Quasar, Sobaken and Vermin: reveal the details of the current cyber espionage campaign</a></li>
<li><a href="../418167/index.html">ScadaPy: add the IEC 60870-5-104 protocol</a></li>
<li><a href="../418169/index.html">What's new in Veeam Availability Console 2.0 Update 1?</a></li>
<li><a href="../418171/index.html">What metrics to rely on, if users perform few conversions on the site?</a></li>
<li><a href="../418173/index.html">"There and back" for neural networks, or a review of auto-encoder applications in text analysis</a></li>
<li><a href="../418181/index.html">Roskomnadzor re-blocked the Hideme.ru VPN service. The site again moved to a new address.</a></li>
<li><a href="../418183/index.html">The use of speech analytics in business</a></li>
<li><a href="../418185/index.html">The story of one autopsy: how we reversed Hancitor</a></li>
<li><a href="../418187/index.html">In America, they suggested replacing all libraries with Amazon hubs. The public is indignant</a></li>
<li><a href="../418189/index.html">The heir of Zeus: how dangerous is IcedID Trojan for bank customers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>