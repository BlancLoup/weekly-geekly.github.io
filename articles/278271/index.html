<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hiding the actual place where the company's server is located: practical methods and question</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! I lead a small IT outsourcing, and last year we were approached by several clients with similar tasks at once - to make sure that no one knew w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hiding the actual place where the company's server is located: practical methods and question</h1><div class="post__text post__text-html js-mediator-article">  Hello!  I lead a small IT outsourcing, and last year we were approached by several clients with similar tasks at once - <b>to make sure that no one knew where exactly the company's servers are located.</b> <br><br>  In the first case, it was a construction business, they have one of the features of the sphere that there should not even be a trace of correspondence on the machines, especially before tenders.  Therefore, they have a RDP farm and terminals in the office.  It was necessary to hide the core.  In the second case, a service company that works with well-known personalities (this is just a security layer for them, which they do not consider superfluous).  In the third - production for the oil sector, in which the sphere has an unrealistic unfair competition with the abandonment of insiders into foreign offices. <br><br>  We came up with the following scheme: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/5a4/d89/6e5/5a4d896e57f6420bab05d55f74211849.jpg"><br><br>  In the center - the core, around the core - perimeter relay servers (cheap proxy machines, each with its own service), then - end-user terminals.  Criticize, please, well, or try to calculate the kernel server IP using the example at the end. <a name="habracut"></a><br><br><h4>  <b>Why do you need it?</b> </h4><br>  The general idea is that only the business owner and the main admin know where the servers are physically located.  Houses at the customer, in the basement of the office, in the garage or in the data center in Germany or Tula ... - it does not matter. <br><br>  Naturally, big business is able to solve such problems (or they do not arise at all for a number of reasons, developed information security).  But small and medium - no, and even by the forces of the admin it is not always possible to do this more or less correctly.  Therefore, they knocked to us. <br><br>  <b>The idea of ‚Äã‚Äãprotection is that:</b> <br>  - It is difficult to find the server IP, because for this you have to capture one of the relays-machines and the router. <br>  - Relay machines are controlled by the routing server, which is protected by the traditional set: anti-DDoS, QoS, active intrusion prevention system and so on. <br>  - The relays themselves are so weak in terms of resources that any attempt to push DDoS through them will result in cutting off the connection with the node and lifting another relay machine anywhere in the world for 5‚Äì6 minutes. <br><br>  Relays are taken from random cheap web hosts (including those already tested by us) and are automatically picked up from the routing server dashboard.  We do not have access to this dashboard - we make the installation and show what to change.  After that, the customer sets a new password and specifies the IP of the parent server.  This is confirmed by open source, which we give to the customer. <br><br>  Naturally, the weak link is admin.  But if he outbid him or forced to knock, still little will help. <br><br>  The points give standard services such as mail, internal site, messenger, terminal, 1C applications.  In general, the same thing as two classic servers, immured in the basement, but instead of the IP ‚Äúbasement‚Äù friends behind the masonry in the config of the user terminal - the IP machines of the perimeter. <br><br>  <b>As a result, a situation arises when:</b> <br><ul><li>  You can not find the server of the kernel - that is, for example, you can not steal or pick up something that does not exist. </li><li>  The router server protects against standard threats and filters untargeted traffic. </li><li>  At the entry point is low productivity - it lays down like a fuse. </li></ul><br><br>  More details: <br><br><img src="https://habrastorage.org/files/ff6/ba9/c18/ff6ba9c185bb4acd9fe2bd8e1c2af66a.jpeg"><br><br>  We are still completing clustering - roundrobin and replication of the router server.  Access points are fundamentally non-duplicable, because this is a very simple and cheap thing - it‚Äôs easier to deploy a new one than to duplicate it. <br><br><h4>  Details: </h4><br><div class="spoiler">  <b class="spoiler_title">Installing a router server</b> <div class="spoiler_text">  The installation happens automatically, but in its process the following actually happens: <br>  ‚Ä¢ On a clean system, a new user is created with sudo privileges. <br>  ‚Ä¢ Disables root. <br>  ‚Ä¢ Install OpenVPN, iptables-persistent, Prometheus, MongoDB, Nginx, management scripts, backup, monitoring, etc. <br>  ‚Ä¢ Configure iptables. <br>  ‚Ä¢ Prometheus is configured. <br>  ‚Ä¢ Prometheus and node-exporter are configured. <br>  ‚Ä¢ Nginx and MongoDB are configured. <br>  ‚Ä¢ All scripts, agents and system images that will be involved in the installation of access points and connecting protected servers are unpacked and configured. <br></div></div><br><br>  From unfair competition - quite a defense.  The question is, have we foreseen everything on our bike? <br><br>  Well, I invite you to try to check where the central server.  Here are two machines with a web application published on them (in the expanded perimeter there are also access points): <br>  <i>45.32.154.167</i> - route number 1 to the site. <br>  <i>151.236.15.175</i> - route number 2 to the same site. <br><br>  If you find the IP of the central server - from my bottle.  Show me exactly how you found it - the second one.  Contact mail: binfini@yandex.ru <br><br>  UPD 03/01/16 6:33 PM Some people found a third route to the server, but not the server itself. <br>  UPD 03/01/16 9:38 PM Someone else found a third route to the server, but not the server itself. <br>  UPD 03/04/16 00:00 Thank you all very much for the attempts and advice, I suspend the kunkurs, the web server address was not found. </div><p>Source: <a href="https://habr.com/ru/post/278271/">https://habr.com/ru/post/278271/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278261/index.html">VMware NSX and Nutanix: build a fully software-defined data center (Software-Defined Datacenter)</a></li>
<li><a href="../278263/index.html">Ensuring the quality of business services</a></li>
<li><a href="../278265/index.html">Euclidean algorithm for generating traditional musical rhythms</a></li>
<li><a href="../278267/index.html">Objection to making Coroutines with await in C ++ 17</a></li>
<li><a href="../278269/index.html">Arduino + Modbus + MasterScada</a></li>
<li><a href="../278275/index.html">Report from the meeting of Perl-programmers Moscow.pm February 4</a></li>
<li><a href="../278277/index.html">Kotlin for beginners</a></li>
<li><a href="../278279/index.html">Welcome to CeBIT 2016</a></li>
<li><a href="../278281/index.html">A simple example of visualizing the results of a CPUID instruction.</a></li>
<li><a href="../278283/index.html">How to interrupt continuous integration</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>