<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Profiling programs in QNX Momentics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="General information 

 QNX Momentics Professional Edition (PE) based on the Eclipse platform is a full-featured and highly integrated professional dev...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Profiling programs in QNX Momentics</h1><div class="post__text post__text-html js-mediator-article"><h4>  General information </h4><br><br>  <b>QNX Momentics Professional Edition (PE)</b> based on the Eclipse platform is a full-featured and highly integrated professional developer kit that contains everything you need to build and optimize applications for the QNX Neutrino RTOS.  With a wide range of handy tools ‚Äî from embedding on a processor board to remote diagnostics ‚Äî QNX Momentics PE provides a single, flexible software environment for the entire development cycle. <br><br>  Profiling programs provides a simple and convenient mechanism for researching the execution of a program in order to optimize it.  <b>Profiling</b> is a collection of program performance characteristics, such as the execution time of individual program fragments, the number of correctly predicted conditional transitions, etc. The tool used to analyze work is called a <b>profiler</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this <b>step</b> -by- <b>step guide, we profile the sy21</b> training, multithreaded application using the <b>QNX System Profiler</b> and <b>QNX Application Profiler</b> tools to demonstrate the capabilities of the profiling tools in QNX Momentics. <br><br><a name="habracut"></a>  Many pictures <br><br>  The Profiler of the Profiler shows the execution time of individual program fragments, allows you to see the amount of time that the program spends on each line and each function. <br><br>  The System Profiler profiler goes beyond conventional debuggers and code analyzers, it is a graphical system analysis tool, allowing you to explore how all the components of a complex real-time system interact with each other.  The result is additional convenience for users in terms of finding errors and optimizing code, as well as increasing the speed of work and greater predictability of the systems themselves. <br><br>  The <a href="http://narod.ru/disk/36185778001/sy21.cc.html">sy21</a> multithreaded application built on semaphores (Semaphore is an object that allows no more than n streams to enter a given code segment) illustrates the work of thread synchronization, within the framework of this guide it will allow to better demonstrate the work of the profiler. <br><br><h4>  Training </h4><br><br>  To work with this guide, you will need: <br><ul><li>  QNX Momentics, to compile the application and perform the profiling itself (the manual uses the latest version, 6.5, but the profiling tools are available from earlier versions) </li><li>  Installed QNX Neutrino to run the compiled application (the manual uses the <a href="http://ru.wikipedia.org/wiki/VMware_Workstation">VMware Workstation</a> virtual machine) </li><li>  Average knowledge of C ++ </li></ul><br><br><h4>  Profiling </h4><br><br>  In QNX Momentics we will create a new QNX C ++ project, set the configuration in the <b>Buld Variants</b> tab <br><br><img src="https://habrastorage.org/storage2/d31/692/30e/d3169230e810d5484be6a786fd86ef35.gif"><br><br>  The project has been created, now we will compile the application <b>Project-&gt; Build Project</b> , with successful compilation in the console window we will see the following <br><br><img src="https://habrastorage.org/storage2/f94/664/95d/f9466495de4e1ae948fd61965d98caf5.gif"><br><br>  Create a <b>C / C ++ QNX QConn (ip)</b> configuration for running the program <b>run-&gt; run configurations</b> <br><br><img src="https://habrastorage.org/storage2/da7/232/679/da72326790e908b7eb16c1c4b0253a27.gif"><br><br>  In the <b>C / C ++ Aplication field,</b> select our project. <br><br><img src="https://habrastorage.org/storage2/a1b/47f/da9/a1b47fda902f33b65233e546d8ca2d94.gif"><br><br>  In the <b>Target Options</b> field, write the ip address of the running QNX Neutrino OS <br><br><img src="https://habrastorage.org/storage2/e53/92a/c2f/e5392ac2f15ce8fa5d8087dfa9ae26b2.gif"><br><br>  The ip address can be found by running the terminal in the operating system, using the <b>ifconfig</b> command, to monitor the processes at a momentics, you must run the target <b>qconn</b> agent <br><br><img src="https://habrastorage.org/storage2/687/283/5e1/6872835e1c3c59a4e9061e97198c4325.gif"><br><br>  Go to the arguments tab of the program being executed, run the program with arguments <b>-n20 -t2</b> , n is the number of iterations of the synchronization cycle (control transfer), t is the number of threads between which synchronization is performed <br><br><img src="https://habrastorage.org/storage2/5d4/5b8/69f/5d45b869fb1df54a36963addef7b9705.gif"><br><br>  Now create a profiler configuration: <br><br><img src="https://habrastorage.org/storage2/431/53b/435/43153b43589b14fe99367b639c541eba.gif"><br><br>  Run the generated profiler configuration, while it is running, run our program for execution.  Open the created log, to do this, go to the QNX System Profiler tab and open the log (file with kev extension) <br>  General information: <br><br><img src="https://habrastorage.org/storage2/75e/97f/c4b/75e97fc4b273af645a7f8cdd94e1bd4a.gif"><br><br>  CPU load: <br><br><img src="https://habrastorage.org/storage2/f97/b7d/314/f97b7d3149af0949a7fe5b1593d32b54.gif"><br><br>  Graphical representation of the interaction of processes and threads: <br><br><img src="https://habrastorage.org/storage2/3d4/a8c/13c/3d4a8c13c0a2949df5923745b67b5d44.gif"><br><br>  Consider more.  Find our process and take a closer look. <br>  Creating the first child thread: <br><br><img src="https://habrastorage.org/storage2/49f/696/1b3/49f6961b30a3ef16303724130613883b.gif"><br><br>  Sync cycle: <br><br><img src="https://habrastorage.org/storage2/40f/e94/c55/40fe94c55f9eaa764c2bd9fd3378a854.gif"><br><br>  Now go to the QNX Aplication Profiler tab. <br><br><img src="https://habrastorage.org/storage2/b46/35a/55e/b4635a55e0fe97461909b6b3c8a64545.gif"><br><br>  here you can see the total execution time of individual as individual functions and threads. <br><br>  Also, if you go to the QNX System information tab, you can view the status of a running operating system. <br>  Running processes: <br><br><img src="https://habrastorage.org/storage2/14e/d9d/765/14ed9d765d1b73b79bc9ac66357c722f.gif"><br><br>  Information about the selected process: <br><br><img src="https://habrastorage.org/storage2/f6d/00b/33b/f6d00b33bdfcc1be69967ea50a120160.gif"><br><br>  Memory Information: <br><br><img src="https://habrastorage.org/storage2/65e/951/4bb/65e9514bbf583baad370e9caf3161d3b.gif"><br><br>  File system: <br><br><img src="https://habrastorage.org/storage2/ce3/1ac/b38/ce31acb38825a0a0d9ccfab6b484e4c4.gif"><br><br>  In this tutorial, we will not optimize anything, as it was written to demonstrate profiling tools. <br><br><h4>  Literature </h4><br><ul><li>  Anatomy of parallelism - Oleg Tsiryulik, Egor Goroshko </li><li>  QNX Momentics Basics - Sergey Zyl </li></ul><habracut></habracut></div><p>Source: <a href="https://habr.com/ru/post/135607/">https://habr.com/ru/post/135607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135599/index.html">Protection of Internet banking systems: TLS, electronic signature, GOST, tokens</a></li>
<li><a href="../135602/index.html">System Enhancement (6.34 megabytes) for HTC Desire</a></li>
<li><a href="../135604/index.html">ASP.NET Push notifications with SignalR</a></li>
<li><a href="../135605/index.html">Responsibility Process</a></li>
<li><a href="../135606/index.html">Regular phishing emails (or How to remove passwords from mail on Yandex)</a></li>
<li><a href="../135608/index.html">New Year's Quest: Analysis</a></li>
<li><a href="../135609/index.html">Did you use multiple C ++ inheritance in real projects?</a></li>
<li><a href="../135611/index.html">Droider Show # 22. Results of the year</a></li>
<li><a href="../135613/index.html">YouTube search in Unity</a></li>
<li><a href="../135614/index.html">Rails 3.x SOAP Server (WashOut)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>