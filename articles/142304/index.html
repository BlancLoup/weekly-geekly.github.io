<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integration of CKEditor into SonataAdminBundle</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Strictly speaking, this WYSIWYG editor is built in with a ‚Äúflick of the wrist‚Äù. It is only necessary to upload its javascript code to the admin page a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integration of CKEditor into SonataAdminBundle</h1><div class="post__text post__text-html js-mediator-article">  Strictly speaking, this WYSIWYG editor is built in with a ‚Äúflick of the wrist‚Äù.  It is only necessary to upload its javascript code to the admin page and add the ‚Äúckeditor‚Äù class to the required textarea field.  But there is one bad reef, about which I wrote in a post. <br><br><a name="habracut"></a><br><br>  <a href="http://ckeditor.com/">CKEditor is built</a> into <a href="https://github.com/sonata-project/SonataAdminBundle">SonataAdminBundle</a> in three simple steps: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  1. Create your own SonataAdminBundle editing page template </h5><br>  AcmeDemoBundle :: sonata_admin_base_layout.html.twig <br><br><pre><code class="html hljs xml">{% extends 'SonataAdminBundle::standard_layout.html.twig' %} {% block javascripts %} {{ parent() }} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{ asset('js/ckeditor/ckeditor.js') }}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> {% endblock %}</code> </pre> <br><br><h5>  2. We connect our template in the config.yml configuration file </h5><br><br><pre> <code class="php hljs">sonata_admin: ... templates: layout: AcmeDemoBundle::sonata_admin_base_layout.html.twig</code> </pre><br><br><h5>  3. Display the form element with the ckeditor class: </h5><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configureFormFields</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FormMapper $form)</span></span></span><span class="hljs-function"> </span></span>{ ‚Ä¶ $form -&gt;with(<span class="hljs-string"><span class="hljs-string">'General'</span></span>) ‚Ä¶ -&gt;add(<span class="hljs-string"><span class="hljs-string">'text'</span></span>, <span class="hljs-string"><span class="hljs-string">'textarea'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'attr'</span></span>=&gt;<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'class'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'ckeditor'</span></span>))); ‚Ä¶. }</code> </pre><br><br>  That's all.  However, like many things done by the ‚Äúflick of the wrist,‚Äù the editor is embedded slightly crookedly, as can be seen in the screenshot.  All dialog boxes are distorted, incomprehensible indents, etc. The editor becomes almost ‚Äúuseless‚Äù.  This happens due to the fact that the developers in Sonata have set too general CSS selectors, which are inherited by the ckEditor elements. <br><br><img src="https://habrastorage.org/storage2/ee9/a3a/c9c/ee9a3ac9cc1e91a2651b57cb63864030.png"><br><br>  What is the solution to the problem?  It is very simple.  You need to override the CSS styling of the distorted elements.  Well, in order not to torture the dear reader by searching for and correcting styles of distorted elements with Firebug, below is a ready-made CSS block that you just need to paste into the same AcmeDemoBundle :: sonata_admin_base_layout.html.twig template file <br><br><pre> <code class="css hljs">{% block stylesheets %} {{ parent() }} &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span>&gt; <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: inherit; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: inherit; } <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">textarea</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">select</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: inherit; <span class="hljs-attribute"><span class="hljs-attribute">-webkit-transition</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-moz-transition</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-ms-transition</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-o-transition</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-webkit-box-shadow</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-moz-box-shadow</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: none; } <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>: inherit; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: inherit; <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>: inherit; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: inherit; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: inherit; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: inherit; } <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">td</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">border-top</span></span>: none; } <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">th</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">td</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: inherit; } <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">select</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: inherit; } <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.cke_skin_kama</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">textarea</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inherit; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: inherit; } &lt;/<span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span>&gt; {% endblock stylesheets %}</code> </pre><br><br>  As we see in the screenshot below, all major problems and distortions are fixed.  It became possible to use the editor, which I and the customer are very happy about. <br><br><img src="https://habrastorage.org/storage2/0a1/8ee/4a8/0a18ee4a86eacfa81ab872c81de66c2e.png"><br><br><h5>  PS </h5><br>  It is possible that I have not yet seen some distorted elements inside other dialog boxes, and the css file must be supplemented with new rules.  If you have noticed and corrected this defect, do not be lazy to add the appropriate style in the comments - let's make life easier for our fellow developers. </div><p>Source: <a href="https://habr.com/ru/post/142304/">https://habr.com/ru/post/142304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142299/index.html">How to use smoothing and increasing the frequency of video in LCD TVs when connected to a PC</a></li>
<li><a href="../142300/index.html">What do static analysis and search engines have in common? Good top!</a></li>
<li><a href="../142301/index.html">TodoMVC - "Hello, world" on steroids</a></li>
<li><a href="../142302/index.html">We are friends with Thinstation 5.0 and VMWare View 5.0 client with full USB-redirect</a></li>
<li><a href="../142303/index.html">Editing GRUB on Ext4 from under Windows</a></li>
<li><a href="../142306/index.html">Ya.Subbotnik in Kiev</a></li>
<li><a href="../142308/index.html">More mobile phone operations</a></li>
<li><a href="../142310/index.html">JavaScript API Yandex.Maps - version 2.0</a></li>
<li><a href="../142312/index.html">"Accelerate 2012 parallel programming contest" or "6 ultrabooks and 10 SSD will be enough for everyone!"</a></li>
<li><a href="../142313/index.html">Bloomberg in 2007 after the release of the iPhone: "Apple will sell a couple of devices to its fans, but definitely will not make a revolution in the market"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>