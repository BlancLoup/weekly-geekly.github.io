<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Practice: How to set up an HP ProLiant ML10v2 server and prepare it for OS installation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon dear friends! Today I want to present you with a short practical overview dedicated to solving a specific task. Namely, the initial set...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Practice: How to set up an HP ProLiant ML10v2 server and prepare it for OS installation</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/hpe/blog/272667/"><img src="https://habrastorage.org/files/fdf/f7c/8b2/fdff7c8b2aec4dedb06d2ae7efd9f2ec.png" align="left"></a>  Good afternoon dear friends!  Today I want to present you with a short practical overview dedicated to solving a specific task.  Namely, the initial setup of the server and the installation of Windows Server 2012 R2 using proprietary HPE deployment tools.  I will do this on the example of the now popular HP ProLiant ML10v2 server in the following configuration (part number 814483-421): <br><br><ul><li>  4U tower server </li><li>  Intel Pentium G3240 processor </li><li>  HP Dynamic SmartArray B120i embedded RAID controller </li><li>  In our case, 4 Seagate LFF disks are used - they are not included in the server‚Äôs package. </li></ul><br>  Full specifications can be found <a href="http://www8.hp.com/ru/ru/products/proliant-servers/product-detail.html%3Foid%3D7876074">here</a> . <br><br>  The peculiarity of this server, which is the most budgetary representative of the ProLiant family, is the lack of built-in tools for deploying Intelligent Provisioning on the server itself.  Therefore, for its initial configuration, you need to use a bootable USB flash drive with an HP Service Pack for ProLiant image.  The instruction below will include such operations: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Preparing and creating a bootable flash drive ( <b>note</b> that you can also work with the Service Pack for ProLiant from the remote iLO console (http://h20564.www2.hpe.com/hpsc/swd/public/detail?swItemId=MTX_4f842ceb31cf48d392e22705a8), ISO image from there </li><li>  Configuring RAID on the server </li><li>  Update server software components (firmware) </li><li>  Installing Windows Server 2012R2 </li></ul><br>  All significant operations are accompanied by pictures.  The terrible quality of the pictures serves to achieve the effect of presence :) <br><a name="habracut"></a><br><h2>  <font color="#00b882">Preparing and creating a bootable flash drive</font> </h2><br>  So, you become the proud owner of the HP ProLiant ML10v2 server (or prepare it for sale).  Before you start setting it up, you need to do the following operations: <br><br><ul><li>  Find a flash drive 8GB or more. <br><br></li><li>  Prepare the disk with the distribution of the OS and the license key.  In my example, the server did not have a built-in DVD drive, so a USB drive was used. <br><br></li><li>  Register your server with <a href="http://h20566.www2.hpe.com/portal/site/hpsc%3Fac.admitted%3D1449652513315.125225703.1938120508">the HPE Support Center</a> using its serial number.  If you visit the Support Center for the first time, you will need to register with HP Passport (it gives access to all HP resources). <br><br></li><li>  After registration, you will be able to download Service Pack for ProLiant (SPP), a universal configuration and update tool for most current and past generations of HP ProLiant servers.  Download SPP <a href="https://h20566.www2.hpe.com/hpsc/swd/public/detail%3Fidx%3D%26action%3DdriverDocument%26itemLocale%3D%26swItemId%3DMTX_1d06af9e8a0a4e43b8981b4471%26mode%3D">here</a> (Click the link ‚ÄúGet software‚Äù, 5GB file I managed to download in 30 minutes). <br><br></li><li>  Download the HP USB Key Utility to create bootable USB flash drives <a href="https://yadi.sk/d/3S9OQUqMksj8n">from here</a> .  You can also use any other utility to create bootable disks / flash drives from an ISO image. <br><br></li><li>  Using the utility, write the SPP ISO image to the USB flash drive. <br><br></li><li>  In my example, we will install Windows Server 2012R2, you will need the B120i RAID controller driver for it.  <a href="https://yadi.sk/d/VqZFEFoom6d5m">Download it here</a> .  Write the driver on the same flash drive in a folder with a memorable name. <br><br></li><li>  Drivers for other operating systems can also be found on the HPE website, their names can be found in the <a href="https://yadi.sk/i/nfIEIW9Im6dGD">list of SPP components</a> (look for the word B120i). </li></ul><br>  So, you have a flash drive and an OS disk.  Start setting. <br><br><h2>  <font color="#00b882">Configuring RAID on the server</font> </h2><br><ul><li>  Connect a monitor, mouse and keyboard to the server (use the USB ports on the back of the server) <br><br></li><li>  Insert the bootable USB flash drive into the USB port on the front of the server <br><br></li><li>  Turn on the server and wait for the initial initialization (about 3-5 minutes).  How this process looks like can be seen here in this realistic video: <a href="https://youtu.be/ZVgCSp7G9R0">youtu.be/ZVgCSp7G9R0</a> , watch from 1:10 to 4:20 <br><br></li><li>  We are interested in two lines that appear simultaneously: HP Dynamic Smart Array B120i (initialization should give the result 0 Logical volumes, that is, the controller is active, but logical disks are not created);  as well as an invitation at the bottom of the screen to press the F11 key to go to the boot menu (Boot Menu) - press F11 now <br><br></li><li>  When you are prompted to press F5 or Esc under the line about the B120i controller, press Esc (for any other ProLiant Gen8 or Gen9 server, you would have to press F5 and go to SSA, and then follow the same instructions) <br><br></li><li>  A list of possible boot devices appears, press the key with the number designating USB Drive (I had it number 3) <br><br></li><li>  Next, a screen with a flashing HP round logo appears, and after it a screen for selecting the boot option: <br><br><img src="https://habrastorage.org/files/608/277/79d/60827779d9754a32b4c8461a66bbb89b.jpg"><br><br></li><li>  Select Interactive mode <br><br></li><li>  Wait a while (for about a minute you will only see the desktop wallpaper and the cursor) <br><br></li><li>  We accept the terms of the license agreement and click Next. <br><br><img src="https://habrastorage.org/files/edd/bd6/0a5/eddbd60a5f074e148bf1d665fee95262.jpg"><br><br></li><li>  On the first screen of the graphic shell that appears, feel free to click on the middle point - HP Smart Storage Administrator (SSA) <br><br><img src="https://habrastorage.org/files/636/8ae/1f2/6368ae1f2baa40249ac2dec2f7112587.jpg"><br><br></li><li>  When SSA boots, go to RAID settings <br><br><img src="https://habrastorage.org/files/9ce/e8b/a38/9cee8ba38f1c463cab77e05382c9cc40.jpg"><br><br></li><li>  Click Create Array: <br><br><img src="https://habrastorage.org/files/049/270/4a9/0492704a9860476abfe2f6f49170c448.jpg"><br><br></li><li>  Select the disks from which you want to create a RAID group.  I selected all 4 available disks - Select All: <br><br><img src="https://habrastorage.org/files/d49/17e/c1d/d4917ec1deef4cce8a85dc74129ee175.jpg"><br><br></li><li>  On the next screen, I chose RAID 1 + 0, left the rest of the settings as is, and clicked Create Logical Drive: <br><br><img src="https://habrastorage.org/files/cb7/626/17b/cb762617bbdf479bb90ed249dc952d68.jpg"><br><br></li><li>  The next screen will show the results of our settings, accept them and return to the main SSA screen.  There we press the button Set Bootable Logical Drive / Volume <br><br><img src="https://habrastorage.org/files/908/c58/a57/908c58a57ea641cf9f058490d71c7573.jpg"><br><br></li><li>  Select the logical disk we created as bootable: <br><br><img src="https://habrastorage.org/files/68f/731/086/68f7310868824796bd6cceab12a7421d.jpg"><br><br></li><li>  Everything, we leave SSA and again we get on the first screen </li></ul><br><h2>  <font color="#00b882">Update server software components (firmware)</font> </h2><br><ul><li>  Now it is recommended to update the firmware, because  since the release of the server from the factory could pass a long time  Launch the Firmware Update tool (left menu item) <br><br><img src="https://habrastorage.org/files/636/8ae/1f2/6368ae1f2baa40249ac2dec2f7112587.jpg"><br><br></li><li>  We give the tool to automatically check the current firmware versions and suggest upgrade options: <br><br><img src="https://habrastorage.org/files/8d0/863/667/8d08636672c44c558f0188e9d171cf7d.jpg"><br><br></li><li>  We agree on all the proposed options (they are immediately marked Selected).  The option recommended at the bottom of the list (marked with Force) can be skipped if you are not sure that you need it.  Click Deploy. <br><br><img src="https://habrastorage.org/files/878/75f/ba1/87875fba1d244a82acb440569d6569e9.jpg"><br><br></li><li>  The tool updates the firmware for some time (Deployment in progress) and then offers to perform a reboot, agree <br><br><img src="https://habrastorage.org/files/359/96f/32b/35996f32b171469e9a87d05624911315.jpg"><br><br></li><li>  Now our server is fully ready to install the OS. </li></ul><br><h2>  <font color="#00b882">Installing Windows Server 2012R2</font> </h2><br><ul><li>  We connect an external DVD drive with a Windows Server disk and turn on the server.  It will automatically boot from DVD. <br><br></li><li>  Following the usual steps at the beginning of the installation of Windows, we will reach the step of choosing a place to install the OS.  Windows does not contain drivers for the B120i controller, so we‚Äôll feed the drivers to the installer from our flash drive (the DVD drive can be turned off while the flash drive is plugged into the port on the front panel) <br><br><img src="https://habrastorage.org/files/6c7/0c9/f0d/6c70c9f0d3884f3fb12b25a202b258e1.jpg"><br><br></li><li>  Choose the location of the driver on the flash drive and the driver itself <br><br><img src="https://habrastorage.org/files/b0f/2b0/e00/b0f2b0e00fe64bca832bb34e90c0b3d6.jpg"><br><br><img src="https://habrastorage.org/files/f22/9ae/91a/f229ae91ae034ff2bd8964c4c7b4d3d6.jpg"><br><br></li><li>  Now the installer sees the free space from which you can create a partition with the "Create" button.  Create a partition, select it to install Windows and click "Next."  Next, the installation will go as usual. <br><br><img src="https://habrastorage.org/files/1b5/2cc/e43/1b52cce43dcf47e58f75518cb673a939.jpg"></li></ul><br>  That's all.  I hope this instruction will be useful to the owners of ProLiant ML10v2, which in Russia are already several hundred and are becoming more and more.  Unfortunately, in Russian this instruction has never been published before, which could cause difficulties when deploying in the absence of built-in tools in the server itself.  I apologize in advance for any inconvenience. <br><br>  And, if you purchased the ML10v2 and you have something wrong with preparing a bootable USB flash drive, then write a request to me in private messages.  We will be able to send you a ready bootable USB flash drive tested on our hardware.  In the request, specify the serial number of your server. <br><br>  PS: If you want to see other similar instructions on our blog, also write about it in the comments! </div><p>Source: <a href="https://habr.com/ru/post/272667/">https://habr.com/ru/post/272667/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../272653/index.html">On the other side of the game: an open course on game design</a></li>
<li><a href="../272655/index.html">How we taught 1C to generate an IVR menu for Asterisk</a></li>
<li><a href="../272657/index.html">Architecture IoT-solutions on a real example</a></li>
<li><a href="../272659/index.html">Next, in search of palindromes 3</a></li>
<li><a href="../272661/index.html">NOT unlimited mailbox, or Tale about the secret limitation of Mail.ru</a></li>
<li><a href="../272669/index.html">Tarantool as an application server</a></li>
<li><a href="../272671/index.html">ICQ mobile application design contest</a></li>
<li><a href="../272673/index.html">Shadows of the characters in the video The Blacksmith</a></li>
<li><a href="../272675/index.html">PostgreSQL Designing a Document-Oriented API: Comprehensive Queries (Part 4)</a></li>
<li><a href="../272677/index.html">Perl5 plugin for IntelliJ IDEA v1.2: Moose and Signatures</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>