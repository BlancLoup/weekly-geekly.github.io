<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Understanding Meltdown and Specter: What you need to know about new vulnerabilities found in almost all CPUs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It seems that processor manufacturers have been hit hard: within a few days, all the news sites started talking about two hardware vulnerabilities cal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Understanding Meltdown and Specter: What you need to know about new vulnerabilities found in almost all CPUs</h1><div class="post__text post__text-html js-mediator-article">  It seems that processor manufacturers have been hit hard: within a few days, all the news sites started talking about two hardware vulnerabilities called Meltdown and Specter right away.  I must say that this is a very hot week, which has not been seen in the technology industry for a long time.  But I will not hurry, so let's deal with everything in order. <br><br><img src="https://habrastorage.org/webt/61/qf/u_/61qfu_im0jmjj9cq2tulkprwbui.png"><br><a name="habracut"></a><br>  Security researchers working in the Google Project Zero group, along with other research groups and academic institutions, found a number of security threats associated with speculative execution.  Speculative execution is one of the cornerstones of high performance modern processors and, in essence, all processors have higher performance than the built-in microcontroller.  As a result, virtually every modern high-performance processor on the market, released over the past few decades, is vulnerable to one or more exploits. <br><br>  At the moment, the main danger is an exploit called Meltdown.  It primarily affects Intel processors, although there is evidence of the vulnerability of several ARM processors.  With the help of Meltdown, malicious code can abuse the implementations of the speculative execution of Intel and ARM, which will lead to the leakage of information from other processes - directly from the omniscient core of the operating system.  As a result, Meltdown can be easily used to track other processes and steal information that needs to be isolated by the kernel, other programs, or other virtual machines. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Meanwhile, the second type of exploit is called Specter, and the number of processors at risk of exploitation is even wider.  In fact, every high-performance processor ever created - Intel, AMD, ARM and POWER - is considered vulnerable.  Like Meltdown, Specter‚Äôs attack abuses speculative execution to get information that needs to be isolated.  However, Specter‚Äôs peculiarity is that it is a more complex and much more insidious attack;  while Meltdown is based on the abuse of a specific implementation of speculative execution, Specter can be viewed as a (previously unknown) fundamental vulnerability of speculative execution that can now be used for attacks.  Specter requires more preparation efforts to force the target application to leak information, but the fundamental nature of risk means that Specter‚Äôs vulnerability is much harder to fix, and it has not yet been fully investigated. <br><br><img src="https://habrastorage.org/webt/mh/f2/ad/mhf2adilmwhrypipyjpk1gk-hea.png"><br><br>  Meltdown breaks down the most fundamental isolation between applications and the operating system.  This attack allows the program to get direct access to the memory, and therefore to the secret data of other programs and the operating system. <br><br>  If the processor of your computer is vulnerable, and you use an unpatched operating system, it is not safe to work with secret information.  High chance of information leakage.  This applies to both personal computers and cloud infrastructure.  Fortunately, software patches have been released to protect against Meltdown. <br><br>  Specter breaks the isolation between various applications.  This allows an attacker to obtain data even from programs that comply with all safety rules and operate without errors.  In fact, the security checks of the programs mentioned increase the attack surface and may make applications more susceptible to Specter.  Specter's exploit is more difficult to apply than Meltdown, however, it is much more difficult to neutralize the threat of such an attack.  Nevertheless, it is possible to prevent some of the already known exploit options by installing the latest software patches. <br><br><h3>  Hasty release did not reveal the whole situation. </h3><br>  An unplanned stream of news about Meltdown and Specter came crashing into the information space, and as a result, researchers, hardware and software suppliers, and the general public tried to understand what happened and what to do about it.  Now we know that these vulnerabilities were discovered last summer, since then the vector of actions of security vendors and researchers has been focused on understanding the consequences of exploits and developing the necessary fixes and recommendations.  It was decided that information about Meltdown and Specter should not be published until Tuesday, January 9 - the release date of the first patch of this year. <br><br>  Instead, the following happened: since the fixes for the exploits were fixed in the Linux kernel repository, users had a suspicion that something serious had happened.  In connection with the rapid development of all sorts of speculations on this ground, the suppliers of software and hardware postponed the date of notification to the public and the release of patches on January 3.  The result of a premature publication, as one might expect, was somewhat random: I carefully read various sources and see that even now not all published tips (or, often, not a complete list of recommendations). <br><br>  As a result, I am still collecting information, and probably by the time I finish writing, something in this article will be outdated or incorrect.  But at the moment this is all that we know from the moment of the news release. <br><br><h3>  DO NOT PANIC </h3><br>  It is said that, despite a lot of glaring (and sometimes fatal) inaccuracies, the ‚ÄúHitchhiker's Guide to the Galaxy‚Äù guide has surpassed the ‚ÄúGalactic Encyclopedia‚Äù in popularity because it is a bit cheaper and because it has the words ‚ÄúDO NOT PANIC‚Äù written in big funny letters on the cover. <br><br>  Before diving into some of the deep technical aspects of Meltdown and Specter, I think it is better to start with a review of the situation at a higher level.  This includes the risks associated with new exploits, how to deal with them, and what individual users should do (if possible) in the face of danger. <br><br>  For a start, the good news is: if you are not a cloud service provider, the immediate risk of these attacks is very low.  The bad news is that since these exploits are based on hardware vulnerabilities, it will take some time to fix it.  And there are so many devices that run many different operating systems, and all this needs to be fixed. <br><br><h3>  What we know: </h3><br><br>  <b>These are local attacks</b> : both Meltdown and Specter are local attacks that require the execution of malicious code on the target machine.  This means that these attacks are not (directly) an attack of remote code execution - as was Nimda or Code Red - which means that systems cannot be attacked just by connecting to the network.  It is clear that they are closer to privilege escalation attacks, a class of attacks that help penetrate deeper into the system (to which you already have access).  However, researchers have shown that they can perform Specter-based attacks using JavaScript, so a web browser can launch a malicious JavaScript file, and thus allow an attack. <br><br>  <b>This is a read-only attack</b> (access to information).  Although we mentioned that the attacks could not be carried out remotely, if Meltdown and Specter could be launched on the local system, the nature of the exploit is that it is a read-only attack.  That is, all they can do is read the information from the system.  They cannot directly enforce code execution in the OS kernel, other virtual machines or other programs.  And yet, information disclosure attacks can be very destructive depending on what information is obtained.  There is always the risk of using this information to conduct a successful attack already by executing code, which means that the threat does exist.  But the real risk lies precisely in the use of these vulnerabilities by attackers to steal information, and not to control the system. <br><br><h3>  What is / is not detected vulnerability: </h3><br><br>  <b>THIS:</b> <br><br>  - the way in which an attacker can observe the contents of privileged memory, bypassing existing privilege levels <br>  - malicious code that exploits vulnerabilities and runs locally, is able to obtain critical information such as passwords and encryption keys. <br><br>  <b>IS NOT:</b> <br><br>  - service shutdown attack <br>  - network attack <br>  - method of injection of modified code or substitution of memory contents. <br><br>  <b>This is mainly a threat to distributed hosting environments</b> .  Given the above, these attacks are most dangerous for shared hosting environments, where several users can execute code in one system.  As a result, cloud service providers, such as Amazon and Microsoft, are already taking steps to protect their services from attacks.  Separate systems and devices, in comparison with cloud, have much less practical risk.  The attacker still needs to run the malicious code on a separate system before he can launch the attack;  but if the attacker can still do it, then the specified separate system will be in a very unenviable position. <br><br>  <b>You can protect yourself from Meltdown and Specter</b> : since the root of the problem Meltdown and Specter is at the hardware level, ideally, this equipment would be worth replacing.  However, the replacement of all systems released in 20 years does not look like an attractive idea.  Like other processor errors, it can be mitigated by a combination of processor microcode and operating system updates.  Vendors, such as Microsoft, Apple and Linux distributions, are already in the process of deploying these fixes, including we observed an ultra-rare unplanned update from <a href="https://portal.msrc.microsoft.com/en-US/eula">Microsoft</a> on Wednesday evening. <br><br><img src="https://habrastorage.org/webt/az/fb/jv/azfbjvcrx3s_mtcanpcjxntamh8.png"><br><br>  <b>... but it will take some time</b> : however, since the information about the exploit was released earlier than planned, not all security measures will be ready.  A full set of measures requires both software updates and microcodes.  As noted by Intel, mitigation efforts will require several days and weeks. <br><br>  <b>Protection from Meltdown will have an impact on performance</b> : in a nutshell, measures to protect from Meltdown include a better separation of user-space programs from the OS kernel.  As a result, contact switching between user space and the kernel occurs with serious delays.  However, the actual impact of this process on performance will depend on the workload and processor architecture. <br><br>  <b>This is a bad week for Intel</b> : Intel is the dominant CPU supplier for cloud service providers, who, in turn, are most at risk from Meltdown and Specter.  Combined with the fact that Intel is much more susceptible to the more urgent threat of Meltdown than any other vendor, means that customers of high-paying Intel servers are primarily at risk of such attacks.  And this, in turn, reflects badly on Intel‚Äôs reputation. <br><br>  Regarding processors vulnerable to attack: Intel has confirmed that this is all Core-based architectures, including the first generation (Nehalem).  It should be noted that earlier processors cannot be excluded. <br><br>  <b>For AMD, this week is better (but also not a gift)</b> : AMD, on the contrary, has good news. <br><br>  In short, their processors are not vulnerable to Meltdown attacks - and this is the only supplier among the Big 3 that has been shunned by disruptive news.  Considering that Meltdown is a more urgent risk, this means that AMD and its users incur risks that are incomparably smaller than Intel users.  However, AMD processors are still vulnerable to Specter attacks, and in the long run there are still too many unknown moments: how dangerous Specter is, and how much protection is possible against him. <br><br><h3>  And what is unknown: </h3><br>  <b>When full updates for protection will be available for each platform</b> : as noted above, deploying updates to protect against exploits will take several days or weeks.  From a PC point of view, a Microsoft update is just one piece of the puzzle, although perhaps the most important because it can reduce the risk of Meltdown without updating the microcode.  However, we are still awaiting microcode updates in order to increase protection against Specter on Intel processors (this applies equally to AMD processors). <br><br>  On the other hand, Google announced that they have already released Android updates with ARM-recommended protective measures for supported Nexus and Pixel devices, but these updates do not contain all the necessary patches for the Linux kernel. <br><br><h3>  Our security measures: </h3><br>  <i>We take a set of measures to provide the most secure platforms.</i>  <i>This includes a combination of patches for operating systems and firmware developed in collaboration with industry partners, operating system suppliers and OEM suppliers.</i> <i><br><br></i>  <i>It is expected that the full range of protective measures will be available to users from a few days to a few weeks.</i> <br><br>  <b>It is unclear how such safety measures will affect productivity</b> : returning to the question of the complex of measures to protect from Meltdown, it is unclear what the impact on performance will be.  Theoretically, individual operations and workloads can be slowed down by 30%, but to a large extent this will depend on how often the task switches to the core.  In practice, it is still expected that the average effect in reality is less ‚Äúpernicious‚Äù, especially for desktop users.  But server users (with regard to performance) are less fortunate. <br><br>  Meanwhile, the impact on the performance of Specter protection is virtually unknown, in part because the search for Specter protection continues.  Based on what the equipment suppliers have published, the impact should be minimal. <br><br>  For our part, we are still waiting for the microcode update, and even after that we will have to try out all possible consequences by trial and error.  This is definitely what we should go into in the AnandTech style in the future, as soon as all necessary updates are received. <br><br>  Finally, for its part, the Microsoft Azure group published its own data in customer recommendations, noting that the impact on performance is very small. <br><br>  Most Azure users will not see a noticeable impact on performance after the upgrade.  We worked on optimizing the data transfer paths between the processor and the disk and found no particular effect on performance after the fix was applied.  Although some customers may still experience some drop in network performance. <br><br>  <b>The extent of Specter‚Äôs vulnerability is still unclear</b> : while Meltdown is a more pressing threat, it‚Äôs already clear how it works and what needs to be done to protect it.  Specter, however, is simply a variable with an unknown value.  There is a lot of evidence of such attacks, but, in a broader sense, Specter attacks are a new class of attacks, not quite similar to what we have seen before.  As a result, no one is sure that he fully understands the possible consequences of using an exploit.  There is a risk that Specter attacks can be used much more widely than we imagine. <br><br>  It is also unclear how much you can defend against Specter.  The lack of understanding of Specter‚Äôs entire range of applications is not completely clear how to protect against it.  The researchers working on the vulnerability are not at all sure that it will be enough to completely solve the problem of software or microcode updates.  Rather, at the moment these measures should be considered as temporary solutions.  Specter Specter attacks that are already known can be prevented, but defense can be useless against other Specter attacks.  This is an area requiring much more research. <br><br><h3>  What can users do now? </h3><br>  Finally, the question arises what measures should be taken by the owners of computers and gadgets in the face of the threat of an attack by Meltdown and Specter.  The fundamental vulnerability that permits speculative execution attacks is in the hardware itself, so the problem cannot really be solved without replacing the devices.  The only thing that can be done right now is to reduce the threat with the help of software and microcode patches that are trying to at least somehow close the security hole. <br><br><img src="https://habrastorage.org/webt/rn/xu/ch/rnxuchmrjq5kpe_c9x6krdtsugs.png"><br>  <i>Cumulative update of Windows 10 Version 1703 for x64 systems (KB4056891)</i> <br><br>  A security issue has been identified in Microsoft products that may affect your system.  You can help us protect your system by installing an update from Microsoft.  To view the full list of fixes, refer to the relevant chapter in the Microsoft Knowledge Base.  After installing the update, you will need to restart. <br><br>  The answer to the question ‚Äúwhat to do to the user‚Äù seems to be simple, but not very useful: there is little that can be done in principle.  Software and microcode updates to protect against these exploits will be distributed in the usual way, so <b>updating your systems and mobile devices to the latest OS version is the most important step</b> you can take.  As mentioned earlier, all vendors have already released or are in the process of deploying the necessary software updates.  But if a specially developed narrowly targeted tool is used for the attack, the user will simply have nothing to defend.  The task of manufacturers as soon as possible to find a solution to this problem. <br><br>  <b>And finally</b> <br><br>  Be sure to keep yourself up to date with events, read more information about these attacks.  In particular, I want to continue exploring the importance of speculative execution and why attacking it can have significant implications for the design of the CPU.  Speculative execution is a rather important function to improve performance on modern processors, but, as these attacks showed, even (seemingly) perfectly implemented, it has some unresolved security problems, which is unacceptable in the current computing era. <br><br>  Meltdown and Specter should be considered more deeply, and although both of them are attacks on speculative execution, they represent very different types of attacks.  Now Meltdown is the biggest problem because of its relative ease of use.  But, as noted by the authors of the Specter publication, Specter is a more fundamental vulnerability that will stay with us for a long time.  We have yet to see what this means for system security.  And from the point of view of computer science, I expect that these discoveries will have a great impact on the entire development of future processors. <br><br>  <b>As advertising.</b>  <b>Hurry to take advantage of the interesting offer in the new year and get a 25% discount on the first payment when ordering for 3 or 6 months!</b> <b><br><br></b>  These are not just virtual servers!  This is a VPS (KVM) with dedicated drives, which can be no worse than dedicated servers, and in most cases - better!  <b><a href="https://ua-hosting.company/vpsnl">We made VPS (KVM) with dedicated drives in the Netherlands and the USA</a> (configurations from VPS (KVM) - E5-2650v4 (6 Cores) / 10GB DDR4 / 240GB SSD or 4TB HDD / 1Gbps 10TB available at a uniquely low price - from $ 29 / month , options are available with RAID1 and RAID10)</b> , do not miss the chance to place an order for a new type of virtual server, where all resources belong to you, as on a dedicated one, and the price is much lower, with a much more productive hardware! <br><br>  <a href="https://habrahabr.ru/company/ua-hosting/blog/329618/">How to build the infrastructure of the building.</a>  <a href="https://habrahabr.ru/company/ua-hosting/blog/329618/">class c using servers Dell R730xd E5-2650 v4 worth 9000 euros for a penny?</a>  <b>Dell R730xd 2 times cheaper?</b>  Only we have <b><a href="https://ua-hosting.company/serversnl">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV from $ 249</a> in the Netherlands and the USA!</b> </div><p>Source: <a href="https://habr.com/ru/post/347254/">https://habr.com/ru/post/347254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347242/index.html">Apply the KISS principle to the design principles themselves.</a></li>
<li><a href="../347244/index.html">What engineers read GridGain. Books for those interested in In-Memory Computing</a></li>
<li><a href="../347246/index.html">An honest approach to managing people, or why I never do counteroffers</a></li>
<li><a href="../347250/index.html">Is javascript a solution to an asynchronous problem?</a></li>
<li><a href="../347252/index.html">How neural networks help in e-learning</a></li>
<li><a href="../347256/index.html">Making games in Python 3 and Pygame: Part 3</a></li>
<li><a href="../347258/index.html">Why salt HTTP callbacks</a></li>
<li><a href="../347260/index.html">How to find a good marketer?</a></li>
<li><a href="../347262/index.html">Che Burashka and hacking systems selling tickets to Moscow electric trains</a></li>
<li><a href="../347264/index.html">ATM Security: Application Control Application Difficulties</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>