<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple tasks in Java. Weakly solve everything?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi ! We‚Äôve put together a get-together for one of the coolest Russian-speaking Java practitioners and asked them to give a task for you to break your ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple tasks in Java. Weakly solve everything?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/bba/875/2c8/bba8752c823e4df787cf148b1ff71449.gif"><br><br>  <b>Hi</b> !  We‚Äôve put together a get-together for one of the coolest Russian-speaking Java practitioners and asked them to give a task for you to break your teeth, your brain and beat against the wall, trying to figure out how it works.  Actually, we argued on a bottle of Hennessy that in 12 hours after publication no one would send all the correct answers.  I'm sure someone can.  Therefore, if you do it first - from my bottle. <br><br>  The first task is simple, it is from the viewer Nikolay Garbuzov, a specialist in rolling pins, who loves recursion, pattern matching and compilation magic: <br><blockquote>  <b>Does the following aspect compile AJC compiler?</b> <br>  If so, what will it output to the console during compilation? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> aspect QuizAspect { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">count</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i++; } before (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n) : execution(<span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> QuizAspect.count(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)) &amp;&amp; args(n) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(QuizAspect.count(<span class="hljs-number"><span class="hljs-number">1</span></span>)&gt;<span class="hljs-number"><span class="hljs-number">1</span></span>) { System.out.println(<span class="hljs-string"><span class="hljs-string">"QuizAspect "</span></span> + n); } }</code> </pre> </blockquote><br><br>  While simple, right? <a name="habracut"></a><br><br>  <b>The second task is from Vladimir Sitnikov (NetCracker), a</b> dirty pervert with regards to regular expressions.  This bad man even <a href="http://javapoint.ru/talks">wrote an</a> announcement of his report to the JPoint with their help. <br><br><blockquote>  What is the catch to delete Java comments with such an expression?  List 3 reasons why this should not be done.  (we believe that the source code is written in normal characters) - <pre> <code class="java hljs">Pattern.compile(<span class="hljs-string"><span class="hljs-string">"/\\*(?:[^*]|\\*[^/])*\\*/"</span></span>)</code> </pre><br><br>  And the second task right away - is it possible to write ‚Äúhello world‚Äù on java without a single space? </blockquote><br><br>  <b>The third task was</b> sent by the viewer Nikolai Alimenkov from the club of anonymous developers.  He has been scaling his scalable systems for 10 years, and has come to rest with us, so the task is one of the simplest: <br><br><blockquote>  There are 2 Spring contexts: <br><br>  1. a.xml with bin <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">util:list</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myList"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">util:list</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  2. b.xml with bin <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">util:list</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myList"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>6<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">util:list</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  What a code snippet prints: <br><br><pre> <code class="java hljs">System.out.println(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClassPathXmlApplicationContext(<span class="hljs-string"><span class="hljs-string">"a.xml"</span></span>, <span class="hljs-string"><span class="hljs-string">"b.xml"</span></span>).getBean(<span class="hljs-string"><span class="hljs-string">"myList"</span></span>));</code> </pre><br><br>  And how can you get him to throw an error without changing the logic of the code? </blockquote><br><br>  <b>The fourth task is provided by Nikita Salnikov-Tarnovsky,</b> specifically focusing on hardcore and writing a tool for finding memory leaks - Plumbr.  Not one wrote, of course, but only he can read the received code.  Fucking optimizer. <br><br><blockquote>  Below are 2 programs.  Each of them tries to allocate a total of memory larger than the size of the heap.  But one of them throws out java.lang.OutOfMemoryError, and the second does not.  Why? <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OOM1</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SIZE = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (Runtime.getRuntime().maxMemory() * <span class="hljs-number"><span class="hljs-number">0.55</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ { <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] bytes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[SIZE]; System.out.println(bytes.length); } <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] bytes1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[SIZE]; System.out.println(bytes1.length); System.out.println(<span class="hljs-string"><span class="hljs-string">"I allocated memory successfully"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OOM2</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SIZE = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (Runtime.getRuntime().maxMemory() * <span class="hljs-number"><span class="hljs-number">0.35</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ { <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] bytes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[SIZE]; System.out.println(bytes.length); } <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] bytes1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[SIZE]; System.out.println(bytes1.length); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] bytes2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[SIZE]; System.out.println(bytes2.length); System.out.println(<span class="hljs-string"><span class="hljs-string">"I allocated memory successfully"</span></span>); } }</code> </pre><br></blockquote><br><br>  <b>The penultimate task from Baruch Sadogursky from JFrog and Bintray / Artifactory</b> <br><br><blockquote>  What will this code output? <br><br><pre> <code class="hljs scala"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">back</span></span></span><span class="hljs-function"> </span></span>= <span class="hljs-symbol"><span class="hljs-symbol">'bac</span></span>k' <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">quotes</span></span></span><span class="hljs-function"> </span></span>= [<span class="hljs-string"><span class="hljs-string">"I'll be $back"</span></span>, <span class="hljs-string"><span class="hljs-string">"I'll be ${-&gt; back}"</span></span>, <span class="hljs-string"><span class="hljs-string">"I'll be ${back}"</span></span>, <span class="hljs-string"><span class="hljs-string">"I'll be "</span></span>+back] println quotes back = <span class="hljs-symbol"><span class="hljs-symbol">'bac</span></span>h' println quotes</code> </pre></blockquote><br><br>  <b>The latter is from Yevgeny Borisov, trainer of the officers of the Israeli army in Java.</b>  Spring: <br><br><blockquote>  There are two bins: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">  </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (()) { (); } } } <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">  </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (()) { (); } } }</code> </pre><br>  How to make, that at context closing, both methods <i>closeAll</i> worked in parallel (and what options are)? </blockquote><br><br><h4>  Achivki and solutions </h4><br><ul><li>  A small souvenir to the first to post three correct decisions <b>under the spoiler</b> in the comments. </li><li>  A bottle of Hennessey is for someone who can answer all questions at once in 12 hours.  If there are several of them, the first one who sent the correct answers. </li><li>  Free tickets for you and a friend at the JPoint conference on Monday to those who can correct or substantially improve the answers of those who set the tasks. </li></ul><br><br>  Answers, please, in the comments under the spoiler.  If you cannot comment, do #jpoint on Facebook or VKontakte. <br><br>  Here are the <a href="http://habrahabr.ru/post/255951/">answers</a> to the first four questions, and after the JPoint we will publish and the answers to the questions <a href="http://habrahabr.ru/users/jbaruch/" class="user_link">jbaruch</a> and <a href="http://habrahabr.ru/users/evgenyborisov/" class="user_link">EvgenyBorisov</a> . <br><br>  PS: you can search for tips in the <a href="http://javapoint.ru/talks">announcements of</a> relevant reports on the JPoint website. </div><p>Source: <a href="https://habr.com/ru/post/255869/">https://habr.com/ru/post/255869/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255859/index.html">1 year in ABBYY: Part 1 - Job Search and First Impressions</a></li>
<li><a href="../255861/index.html">Octodon again became collapsible</a></li>
<li><a href="../255863/index.html">Encryption GOST 28147-89 on x86 and GPU-processors</a></li>
<li><a href="../255865/index.html">Mixins for ‚Äúclasses‚Äù in javascript</a></li>
<li><a href="../255867/index.html">Smart Home and MySensors: Part 0</a></li>
<li><a href="../255871/index.html">Obfuscation programs</a></li>
<li><a href="../255873/index.html">Free training for students at the end of April</a></li>
<li><a href="../255875/index.html">Microsoft Developer Tour - ¬æ ways, ahead of Siberia and Kazakhstan</a></li>
<li><a href="../255877/index.html">Promotion indie games on Steam Greenlight</a></li>
<li><a href="../255879/index.html">Clinical Document Architecture Ô¥æCDAÔ¥ø</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>