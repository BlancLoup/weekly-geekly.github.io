<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Home Cisco VoIP Lab Based on GNS3 Emulator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As in many other areas of communication, our beloved Cisco company is striving to consolidate its leading position in the VoIP market. It was under th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Home Cisco VoIP Lab Based on GNS3 Emulator</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/00f/e26/3ce/00fe263ce07f8608d4cbb23db566e3fb.jpg" alt="image"><br><br>  As in many other areas of communication, our beloved Cisco company is striving to consolidate its leading position in the VoIP market.  It was under the auspices of this technology that the last Cisco Expo took place.  Cisco strongly encourages and develops this area, and given the fact that VoIP specialists today are <a href="http://academy.ru/t.asp%3Fid%3D320%26nl%3Dhh">among the most expensive network engineers</a> , more and more networkers are turning their attention to this area. <br><br>  The Cisco certificate line has a separate ‚Äúconcentration‚Äù for VoIP professionals, consisting of three certificates: <a href="http://www.cisco.com/web/learning/le3/le2/le0/le3/learning_certification_type_home.html">CCNA Voice</a> , <a href="http://www.cisco.com/web/learning/le3/le2/le37/le65/learning_certification_type_home.html">CCNP Voice</a> and <a href="http://www.cisco.com/web/learning/le3/ccie/voice/index.html">CCIE Voice</a> .  Cisco has produced and continues to produce a huge amount of training materials to prepare for these certifications, but then there is a stumbling block for those interested: where to practice? <br><a name="habracut"></a><br>  What is IP telephony?  IP telephony is a technology that allows you to use any IP-based packet-switched network as a means of organizing and conducting international, long-distance and local telephone calls and fax transmission in real time.  In other words, using easily accessible Internet channels, you can make calls to anywhere in the world where there is a telephone or Internet access. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Well, if you have a hands-on experience with VoIP and access to Cisco VoIP equipment.  But if not, it does not matter at all.  For those who want to learn, but are not ready at the moment to spend $ 1000 on equipment, I want to tell you how to make a home Cisco VoIP lab based on all of us‚Äôs favorite <a href="http://www.gns3.net/">GNS3</a> emulator and <a href="http://www.cisco.com/en/US/products/sw/voicesw/ps5475/index.html">Cisco IP Communicator</a> softphones (CIPC).  The first tool is free, you can download it from the official site.  IOSs for devices and CIPC can be easily found on torrents. <br><br>  The basis of Cisco's VoIP network is Cisco Communication Manager.  In its ‚Äúbig‚Äù version, it runs on a separate server, and there is also a version for ‚Äúsmall and medium businesses,‚Äù as determined by Cisco, which is built into IOS for Integrated Services Routers (ISR) and is called Cisco Communication Manager Express.  It is her, because of its simplicity, we will emulate. <br>  Our goal is to ‚Äúglue‚Äù our virtual network, in which the Cisco router will run with Communication Manager Express running on it, and the real network. <br><br>  1. First, create a loopback interface in Windows, on which we are going to emulate a router (for illustration purposes, we will configure the system on Windows 7 Ultimate).  To do this, go to the installation dialog of new equipment, there we select the installation of the network adapter by Microsoft, called ‚ÄúThe Microsoft Adapter for Loopback‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/565/e87/67e/565e8767ec0c1610e93b0660a4cd73ad.jpg" alt="image"><br><br>  The created adapter will act as an ‚Äúexit‚Äù from the virtual network to the real network. <br><br>  2. Already at this stage we can interact with the virtual network, but only from one computer.  And our goal is to open access to it from all machines of the real network. <br><br>  To do this, go to "Change adapter settings", select both adapters - the real one, with which we exit to the real network, and the virtual loopback that we just created - and click "Create a bridge".  As a result, we get a bridge connection, which allows traffic to be exchanged with our virtual interface and the real one. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/815/7e1/798/8157e17980f035f3a5767992250a35ee.jpg" alt="image"><br><br>  When creating a bridge, the system itself assigns it an IP address, and we need to know it.  The ipconfig command will help us with this.  With its help in my case, I easily found out that Windows assigned the address 192.168.1.100 to my bridge. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/228/9fe/884/2289fe884371ca90b57e69b300aaa560.jpg" alt="image"><br><br>  3. Now let's begin the most interesting thing: creating a router in GNS3 and configuring Cisco Communication Manager Express (CME). <br><br>  For my experiment, I chose the 7200 platform and IOS c7200-adventerprisek9_sna-mz.150-1.M.  On the one hand, it includes CME, which is quite functional for me, and on the other hand, this is the default iOS for this platform on my emulator.  But nothing prevents you from choosing, for example, the platform 3600 and some other IOS - it's all about your goals and your tastes. <br><br>  Let's create a router and Cloud in the emulator.  In the Cloud, you must specify our loopback adapter as an NIO Ethernet.  It all should look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f7e/8b8/188/f7e8b8188cf7495babc044f8aedc9108.jpg" alt="image"><br><br>  This completes the cloud setup. <br><br>  To begin with, you will have to insert a card with one or several Ethernet ports of your choice into the router.  After that we will be able to connect the port of this router with the Cloud port - after our manipulation, a virtual port appeared in the Cloud object, which corresponds to our loopback interface. <br><br>  Everything, we start Tsisko. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/923/89e/210/92389e2100327ba1a7f57d464a083ebf.jpg" alt="image"><br><br>  I will not delve into the theory - I will leave it to you to study for independent work, especially since there is a lot of it, and it is damn interesting, as it always happens with Tsisko.  In the field of VoIP, as in many others, Cisco has developed and used many proprietary standards.  It is possible that they are tomorrow's standards of the entire industry, because a huge number of technologies and standards widely used today, starting with Power over Ethernet and ending with MPLS, were originally developed by Cisco Systems as proprietary standards. <br><br>  But I digress, back to our router.  First we need to configure its interface so that it can communicate with the network, and the network with it.  The interface needs to be assigned an IP address that is included in our network, but not used by other devices, including the newly created bridge.  In my case, I stopped at the address 192.168.1.50.  Go to configuration mode and enter: <br><br> <code>interface FastEthernet0/0 <br> ip address 192.168.1.50 255.255.255.0 <br> no shutdown</code> <br> <br>  Now, attention!  We need to check whether we did everything right.  If the networks are working, we should be able to ping real machines on our network from the virtual router and vice versa. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a4c/197/432/a4c1974324a2c904c196c533a1f1510e.jpg" alt="image"><br><br>  Works?  Perfectly!  Go to the router again. <br><br>  The basic CME settings are hidden in the router under the command of telephony-service.  We will need to make the following manipulations with it: <br><br> <code>telephony-service <br> max-ephones 10 <br> max-dn 10 <br> ip source-address 192.168.1.50 port 2000 <br> auto assign 1 to 10</code> <br> <br>  The max-ephones command sets the maximum number of IP phones that this router will serve, and max-dn, respectively, the maximum number of lines.  Here we can specify any number up to the maximum, but it should be borne in mind that, depending on these commands, the router allocates some of its resources for VoIP, and it‚Äôs better that these values ‚Äã‚Äãare close to real. <br><br>  The command ip source-address specifies from which interface the CME should accept requests to connect telephones to it. <br><br>  With the auto assign 1 to 10 command, we tell the router that we want it to automatically assign lines with numbers from 1 to 10 to the connected phones. <br><br>  Now let's configure the lines (remember that the entire configuration of the router is done in configuration mode): <br><br> <code>ephone-dn 1 <br> number 101 <br> ephone-dn 2 <br> number 102</code> <br> <br>  Using the ephone-dn command, we create a line, and number assigns a phone number to this line.  Entering these commands should look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc2/4a2/75d/dc24a275d6f3834f7591c23b6228d5a3.jpg" alt="image"><br><br>  System messages that pop up on the command line will help us understand that the lines are activated and turned on. <br><br>  4. The next step is to install and configure Cisco IP Communicator.  You should have no problems with the installation, and after downloading Java you will see such a telephone number on the screen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0fa/34f/cd2/0fa34fcd240f80eaf6dded34a2892353.jpg" alt="image"><br><br>  Clicking on the image with the right button, select Preferences.  There, in the Network settings, you need to specify the adapter through which our computer goes to the network, and the TFTP server.  As a TFTP server, you need to specify the address of our virtual router.  That is, in our case, 192.168.1.50. <br><br>  After that, your phone will reboot, find the CME, log in there and look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/19a/572/8c5/19a5728c5eb3b17a2864980bdbb11d56.jpg" alt="image"><br><br>  Having made the same manipulations on the second computer in your network, you will receive a second phone with the corresponding number, and so on. <br><br>  Thus, by building up a virtual network, and raising more and more new softphones on computers, we can create a rather complex and nontrivial infrastructure and pull it in enough to earn the right to call ourselves a Cisco Certified VoIP Specialist. <br><br>  There is an opinion that the Tsiski emulator is the first step to a rubber woman.  It certainly has the right to exist.  However, no one is born CCIE, everyone passes each of the stages to the heights on their own, and GNS3 can do a good job for those who want to understand the tricks of tsiskovskogo VoIP. <br><br>  And there - who knows, maybe you will like it so much that you decide to buy yourself a real lab on eBay. <br><br>  Good luck and see you on the Cisco exams! </div><p>Source: <a href="https://habr.com/ru/post/112098/">https://habr.com/ru/post/112098/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112090/index.html">How to create your affiliate brand</a></li>
<li><a href="../112091/index.html">How Facebook develops code</a></li>
<li><a href="../112093/index.html">Toshiba EasyGuard Technology: New Standards for Laptop Security and Connectivity</a></li>
<li><a href="../112095/index.html">Rosnano invests in Plastic Logic</a></li>
<li><a href="../112097/index.html">VMware's flexible cloud organization for Internet projects (IaaS)</a></li>
<li><a href="../112099/index.html">Parse JSR-334: code examples</a></li>
<li><a href="../112100/index.html">Settings in Android applications</a></li>
<li><a href="../112101/index.html">Upcoming CSS innovations</a></li>
<li><a href="../112107/index.html">Search results are major issues?</a></li>
<li><a href="../112109/index.html">Is there internet on mars or glimpse into the future</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>