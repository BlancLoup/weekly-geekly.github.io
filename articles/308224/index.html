<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HPE Synergy Pro Part I - Intro</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Initially, I planned to write one small article, but as I dived into the topic I realized that most likely you would need a series of 5-6 articles to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HPE Synergy Pro Part I - Intro</h1><div class="post__text post__text-html js-mediator-article">  Initially, I planned to write one small article, but as I dived into the topic I realized that most likely you would need a series of 5-6 articles to reveal the essence fully enough. <br><br>  What are we talking about?  About the product of Hewlett-Packard Enterprise (hereinafter - simply HPE) - Synergy. <br><a name="habracut"></a><br>  Here is a link to the following parts: <br><blockquote>  Part II (Chassis and Server) - <a href="https://habrahabr.ru/post/310092/">habrahabr.ru/post/310092</a> <br>  Part III - D3940 Disk Storage and SAS Switches - <a href="https://habrahabr.ru/post/310564/">habrahabr.ru/post/310564</a> <br>  Part IV - Our Networks - <a href="https://habrahabr.ru/post/313240/">habrahabr.ru/post/313240</a> <br>  Part V Management - <a href="https://habrahabr.ru/post/319430/">habrahabr.ru/post/319430</a> <br></blockquote><br><br>  By virtue of my work, I am tightly connected with computing complexes, that is, with those pieces of hardware that work with basic information properties ‚Äî information can be transmitted, stored and processed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Information transfer is, in fact, various data transmission networks;  data storage - various storage systems: hardware storage systems, software storage systems, and SAN;  well and processing - various server systems.  HPE Synergy, at first glance, falls into the category of information processing systems, i.e.  in the "various server types" category. <br><br>  On Habr√©, I found two articles mentioning (at least!) This product: <br><br><ul><li>  1. <a href="https://habrahabr.ru/company/cbs/blog/273737/">habrahabr.ru/company/cbs/blog/273737</a> - here announced the announcement Synergy; </li><li>  2. <a href="https://habrahabr.ru/company/hpe/blog/273681/">habrahabr.ru/company/hpe/blog/273681</a> </li></ul><br>  The second article is more interesting, it says what Synergy will consist of, but it's absolutely not clear why the whole complex is needed.  That is, I personally saw the whole complex as a replacement for the HPE c7000 blade chassis, but why?  The chassis is ultra-successful, it will be sold for a long time (promised by 2020), why do we need a new complex?  On the other hand, it is obvious that HPE has its own vision (vision), which justifies an investment in the development of a new product tens of millions of USD, and which I still can not understand. <br><br>  In February, I came to the HPE Summit 2016 in France, where the piece of iron was given to touch it, I will put a couple of photos here for the seed: <br><br>  Front-right view.  It was impossible to take pictures normally, because everyone was taking pictures. <br><br><img src="https://habrastorage.org/files/1b6/26f/b8c/1b626fb8c5cf4baa8a3bde60e367208b.JPG"><br><br>  Back view. <br><br><img src="https://habrastorage.org/files/879/19c/139/87919c1398c048099b0915dddcf8936b.JPG"><br><br>  As a result, in order to understand why a new product might be needed, I decided to make this note. <br><br>  First, in order to see the purpose of Synergy, it makes sense to refer to the history of the emergence of blade systems in general, to understand what processes led to the development of these systems (and, in principle, as science teaches science, some fact can only be seen in its historical context). <br><br>  So, in 1999, Compaq was the best friend and competitor of many IT companies in the US market in the state of Texas.  By 1999, this company already existed 17 years on the market and sold PCs, laptops, servers, network equipment and software (worked closely with Microsoft).  It is interesting in the context of the article by the fact that Christopher Hipp worked as a server architect for a long time (I hope that I write the name correctly, just in case the original is Christopher Hipp), but just in 1999, at the peak of the dot-com crash a big blow to sales of Hi-End solutions), he left Compaq and founded his company - RLX Technologies.  And Compaq, in the end, bought the company Hewlett-Packard. <br><br>  Further, RLX Technologies, led by Christopher Hipp, took up the development of blade servers.  The urge to develop was the understanding that the main value of the server is its computational power, whereas power supplies, for example, or a building structure, or a control system, are secondary to the main function ‚Äî processing mathematical operations.  The logical development of this idea was the idea that all non-core server functionality can be put into a separate constructive chassis into which you can later install servers without power supplies and so on.  The first blade server and chassis were released already in 2000, and in 2002 the patent <a href="https://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D6411506B1%26KC%3DB1%26FT%3DD%26ND%3D%26date%3D20020625%26DB%3D%26locale%3Den_EP">US6411506 "High density web server chassis system and method"</a> was registered - I recommend to follow the link and get acquainted, very interesting.  Then things went differently, the server blades were sold, but there were several unsuccessful initiatives, and in 2005, RLX Technologies acquired (surprise!) Hewlett-Packard.  Christopher Hipp took up the development of a quantum computer, but died on July 14, 2009 from heart failure while riding a bicycle in Silicon Valley. <br><br>  After several years of experimenting with different chassis ‚Äî e-class (very much like the patent mentioned above), p-class (no longer so similar); in 2007, Hewlett-Packard released the first revision of the c-class chassis - c7000, thus Next year it will be already 10 years since this solution is sold on the IT market - a kind of record.  It became clear that the large type of servers pleased the large customers, as it allowed to install more servers in the standard rack (more servers for God of servers!), For example, 40 single-unit ones plus two ToR switches (Top of the rack), whereas if you rack a rack with four c7000 chassis of 16 servers, then you can accumulate 64 servers in the rack (1.6 times more).  By the way, that is why the height of the chassis is trying to make 10 units, so that 4 chassis can be inserted into the rack.  Thus, for 5 years, i.e.  by 2010, blade solutions occupied 40% of the total server market. <br><br>  This is the evolution of computing systems that has occurred since 2000 and, obviously, led to the further emergence of Synergy. <br><br>  Let us turn to the "second".  To understand why something needs, you need to look at the internal structure.  Let's see what Synergy consists of: <br><br>  <strong>1.</strong> Base unit rack-mount chassis Frame 12000 with a height of 10 units.  However, it does not contain 16 servers, but only 12 (most of the pictures on the network are renders of 3D models, the first photo clearly shows the chassis - it is not so colorful at all). <br><br>  <strong>2.</strong> Servers, as mentioned above: <br><br><ul><li>  a.  either up to 12 pieces of dual-processor (Xeon E5-2xxx v4) HPE Synergy 480 Gen9, </li><li>  b.  either up to 6 pieces of four-processor (Xeon E7-48xx and Xeon E7-88xx) HPE Synergy 620 Gen9; </li><li>  c.  either up to 6 pieces of four-processor (Xeon E5-46xx) HPE Synergy 660 Gen9; </li><li>  d.  or up to 3 monstrous four-processor (Xeon Xeon E7-48xx and Xeon E7-88xx) HPE Synergy 680 Gen9 - this is actually the "gluing" of two 620 servers.  This server also supports fantastic 6TB DDR4 memory. </li></ul><br>  <strong>3.</strong> HPE Synergy D3940 Storage Module - up to 40 SFF HDD or SSD drives.  This storage module is actually JBOD (from the English. Just a bunch of disks, just a pack of disks), the module does not have its own storage controllers.  At first, the presence of such a strange module caused one big question - WHY?  But, it seems to me, I began to guess what it is for.  By the way, the Smart Array P542D / 2GB FBWC 12Gb RAID controller must be installed in the server blade to work with the storage module.  In the first photo, this module is installed in zone No. 1, occupying compartments No. 1 and No. 2. <br><br>  <strong>4.</strong> HPE Synergy Composer - monitoring and management server with OneView preinstalled.  About him have to write a separate article.  On the first photo above - lying on the table pulled out of the chassis. <br><br>  <strong>5.</strong> HPE Synergy Frame Link Module (FLM) - a module that connects to the HPE Synergy Composer.  As I understand it, it transmits information from other chassis when there is more than one chassis in the installation.  I will try to disassemble it in the same article as the composite. <br><br>  <strong>6.</strong> HPE Synergy Image Streamer - module for storing and deploying operating systems with the necessary settings at the moment.  I have not yet met such a module, apparently he will also have to devote a separate article in the framework of the review. <br><br>  <strong>7. The</strong> network part is not yet very rich, however, before moving on to the list of currently available modules, I would like to separately note that the chassis is immediately laid out the wiring of passive switching in the form of optics, and the declared available speed of internal switching is up to 100 Gbit / s.  Apparently, this is one of the reasons for replacing the previous c7000 chassis - there is copper and a maximum of 20 Gbit / s. <br>  So what can be installed: <br><br>  Ethernet / CNA: <br><br><ul><li>  a.  HPE Virtual Connect SE 40GB F8 Module for HPE Synergy - the second photo shows, it is installed in bay 3, above the top row of power supplies; </li><li>  b.  HPE Synergy 10Gb Interconnect Link Module; </li><li>  c.  HPE Synergy 20Gb Interconnect Link Module; </li><li>  d.  HPE Synergy 10 / 40Gb Pass Thru Module. </li></ul><br>  SAS connections: <br><br><ul><li>  a.  HPE Synergy 12Gb SAS Connection Module with 12 Internal Ports - the second photo shows, it is installed in the uppermost compartment; </li><li>  b.  HPE Synergy D3940 Redundant I / O Adapter. </li><li>  It looks like the disks from the module with disks located in one chassis (let it be chassis 2) can be connected to servers in another chassis (for example, chassis 1). </li></ul><br>  SAN network: <br><br><ul><li>  a.  Brocade 16Gb / 12 Fiber Channel SAN Switch Module; </li><li>  b.  Brocade 16Gb / 24 Fiber Channel SAN Switch Module; </li><li>  with.  HPE Virtual Connect SE 16Gb Fiber Channel Module - it seems to me that in the second photo it is installed in bay 6, above the bottom row of power supplies. </li></ul><br>  From the server side, you can install 4 types of adapters: <br><br><ul><li>  a.  HPE Synergy 3820C 10 / 20Gb Converged Network Adapter (CNA); </li><li>  b.  HPE Synergy 3830C 16Gb Fiber Channel Host Bus Adapter; </li><li>  c.  HPE Synergy 3530C 16Gb Fiber Channel Host Bus Adapter; </li><li>  d.  HPE Synergy 2820C 10Gb Converged Network Adapter (CNA). </li></ul><br>  As you can see (surprise!), There is no purely Ethernet network card at all. <br><br>  <strong>8.</strong> Fans and power supplies - in theory, 10 fans are always included, power supply units - two of 2650 W each, maximum 6 pcs, added in pairs.  In theory, because in the configurator there is a function for changing the number of BPs, but it is currently blocked, by default it costs 6 pieces. <br><br>  For power consumption and heat dissipation, you can go separately.  I made two roughly identical server configurations (two Intel Xeon E5-2660 v4 (14C) processors, 4x16 Gb DDR4 PC4-2400, two 300 Gb 10k disks, 20 Gbit network) in the HPE Power Advisor 7.9 engineering data program, It turned out the following: <br>  For the Synergy 12000 Frame chassis with twelve 480 G9 servers, one composer, one streamer, a pair of switches: <br><br><img src="https://habrastorage.org/files/9f0/952/cad/9f0952cadf3448609a6af7ddfef1e32d.png"><br><br>  For the BladeSystem c7000 chassis with 16 BL460c G9 servers, two Onboard Administrator control modules, a pair of switches (for some reason, the weight in this window is 219 kg): <br><br><img src="https://habrastorage.org/files/429/74a/36e/42974a36ee02475a81e197664f0f19cd.png"><br><br>  It can be seen that with one volume (10U), the c7000 chassis is heavier (higher density of servers), but the Synergy Frame eats more electricity and generates more heat, about 1.2 times.  What is the reason - is not very clear. <br><br>  In general, the main components are listed above.  What can I say?  Initially, the design seems awkward: there are fewer servers than in the C7000, more electricity is being consumed, some disk shelves that contain just a set of disks without some kind of structure, SAS switches.  Why make such a garden when there is a normal working chassis c7000?  So I thought for about half a year, until the tasks for designing infrastructure on BigData and Hadoop fell through.  It turned out that for these tasks, the usual infrastructure, such as chassis with servers + SAN network + storage, is practically not applicable.  If there are no problems with servers, then internal interconnect and storage is a bottleneck of such systems.  The main advantage of Hadoop is the ability to linearly increase computational power to an enormous scale (I saw a description of solutions for 2000 nodes), which is clearly not possible for ‚Äúblade + storage‚Äù architectures, firstly, in c7000, a maximum of 20 Gbit / s (rather, symmetric ten), secondly, the storage system has a limit on the number of disks per controller pair and, when this number is required to increase, it is necessary to change the storage system, and this is very expensive, plus data migration is a technologically complex process.  A good description of the bottlenecks found <a href="https://www.safaribooksonline.com/library/view/hadoop-operations/9781449327279/ch04.html">here - the chapter "Blades, SANs, and Virtualization"</a> . <br><br>  So, if you look at Synergy from this angle, the platform looks very profitable: put the correct controller into the server, put the server into the chassis, through Composer gave the necessary number of disks to the new server in the storage module, quickly through the image either ‚Äúunmodified Debian 7.3‚Äù or RHEL with the necessary settings, and the new computational node is ready.  Considering that one pair of compositors can control a 20th chassis (5 full racks, up to 240 servers) - this is just VERY cool.  In this paradigm, Synergy is a near-perfect solution, a real alternative to rack servers, of which farms are now being built for BigData.  Considering that the forecast for the Big Data analysis market is 50 billion USD by 2020, the development of Synergy is a very strong bid for leadership in this segment. <br><br>  In future articles I would like to consider the components of Synergy separately: <br><br><ul><li>  1. The chassis and server itself. </li><li>  2. Storage module with disks and SAS switches. </li><li>  3. Network. </li><li>  4. HPE Synergy Composer. </li><li>  5. HPE Synergy Image Streamer. </li></ul><br>  Further interesting?  ) <br><br>  <strong>PS</strong> - In general, the original title, I planned this - I want to see a gopher!  (‚ÄúSee the gopher? And he is there!‚Äù To the DMB) </div><p>Source: <a href="https://habr.com/ru/post/308224/">https://habr.com/ru/post/308224/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308212/index.html">At the request of readers, check the LDAP server code ReOpenLDAP</a></li>
<li><a href="../308214/index.html">Faster fast or deep optimization Median filtering for Nvidia GPUs</a></li>
<li><a href="../308216/index.html">1C, Linux, Excel, Word, OpenXML, ADO and Net Core</a></li>
<li><a href="../308218/index.html">You dissect the corpse using SOLID</a></li>
<li><a href="../308220/index.html">2D magic in detail. Part Four. Water</a></li>
<li><a href="../308226/index.html">Who are you, Professor Malan?</a></li>
<li><a href="../308228/index.html">How Clojure helps speed up the writing of Selenium tests</a></li>
<li><a href="../308232/index.html">How it works and what the ‚Äúdeep‚Äù integration of ‚ÄúBitrix24‚Äù and the UniSender email newsletter service can do</a></li>
<li><a href="../308234/index.html">What is lead</a></li>
<li><a href="../308236/index.html">Linux Vulnerability Audit with Vulners.com</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>