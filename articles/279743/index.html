<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NetApp StorageGrid object storage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, I deviate from the traditional theme of FAS storage systems for me and bring up the topic of object data storage in NetApp StorageGri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>NetApp StorageGrid object storage</h1><div class="post__text post__text-html js-mediator-article">  In this article, I deviate from the traditional theme of FAS storage systems for me and bring up the topic of object data storage in NetApp StorageGrid WebScale systems.  In short, object storage is the third storage type along with NAS and SAN.  Imagine that each file consists of data and meta information (owner, rights, modification time, etc.), so object storage allows you to separate these parts and store them in the form of "key / value".  Such an information storage approach opens up opportunities for decentralized, distributed data storage on a huge scale with transparent data migration, replication and transparent switching of end users between the nodes of an object cluster.  In a broad sense, object storage can be implemented both at the device level (hard disk), using specialized SCSI commands (Object-based Storage Device Commands), and at the level of the storage system access protocol, which consists of several disks (which their turn is not at all obliged to be objective).  In both cases, Ethernet is used for connection and IP protocol for data transfer.  An example of the implementation of object-level storage at the device level is hard drives of the Seagate Kinetic Open Storage platform line.  An example of data storage in the cloud could be Microsoft Azure BLOB, Amazon S3.  In this article, I will focus on object storage systems that can be deployed on your site and, if necessary, connected to the cloud.  The object protocols S3, SWIFT, CDMI have gained wide popularity, all of which are add-ons over HTTP. <br><img src="https://habrastorage.org/files/8c1/8dd/d8a/8c18ddd8aac44e2bb24604fdfec0a5c5.png"><br><a name="habracut"></a><br><br><h4>  Story </h4><br>  Initially, the StorageGRID product was developed for public health, as the storage of millions of large and small objects required a specialized solution.  Large manufacturers of health equipment such as Siemens, AGFA and other large <abbr title="Picture Archiving and Communication System">PACS</abbr> systems support the ability to send objects directly to StorageGRID.  This approach made it possible to implement a scenario not previously possible for file storages, for example, when the doctor needs to obtain patient data for the last 10 years, although the patient has moved from Minnesota to Los Angeles.  StorageGRID is still in high demand in the healthcare industry, but could also find application in cloud solutions for storing a variety of data. <br><br>  The NetApp StorageGrid family consists of two representatives: <br><ol><li>  Pure Software, NetApp StorageGrid WebScale </li><li>  NetApp StorageGrid appliance based on E-Series - SG5660. </li></ol><br>  Both of these options can coexist in the same cluster. <br><img src="https://habrastorage.org/files/454/450/c0c/454450c0c8924569a26b7c7b620733aa.PNG">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first option consists of a dual-controller system, where one controller is the Storage node and the second is the Compute node.  Those.  There are two controllers in the chassis, but this is not a High-Avalability system by itself - at least 2 such SG5660 systems (ie 4 controllers) are recommended, for fault tolerance.  For a hardware solution other than the SG5600, you must also have at least 2 servers to host the Gateway and Admin nodes. <br>  The second option (software) can be supplied as an ESXi applause or as a Docker image based on Debian Linux.  In this variant, you can use one regular E-Series, with two controllers and High-Availability, with standard OS SANtricity and on top of all this at least two servers with Storage, Gateway and Admin nodes.  In the software version, more server capacity is needed because of the need to maintain the Storage node (the most demanding of resources) on the server. <br><img src="https://habrastorage.org/files/40f/201/8bb/40f2018bbd944586b7a39b51608aa729.PNG"><br><br>  The growth of unstructured data is steadily gaining momentum, examples of such data generators are the emerging IoT market, photo and video cameras on the market with unprecedented resolution and frame quality, medical equipment and other devices.  To close all of these tasks, the StorageGrid product was developed from scratch: <br><br>  <b>Web data repositories</b> <br><ul><li>  For small objects with extremely high transaction loads </li><li>  To store billions of objects </li></ul><br>  <b>Data archives</b> <br><ul><li>  Large objects, low transaction load </li><li>  Long-term storage, not demanding on the speed of response </li></ul><br>  <b><a href="http://www.storagenewsletter.com/rubriques/customer-wins/media-companies-adopt-netapp-storagegrid-webscale-object-storage/">Media repositories</a></b> <br><ul><li>  Globally distributed, large objects </li><li>  StorageGRID is great for healthcare. </li><li>  StorageGRID is also very suitable for Video on Demand (VoD) tasks. </li><li>  Stream data access, high bandwidth </li></ul><br><br><h4>  StorageGrid main features </h4><br>  Allows you to manage geodistributed unstructured data.  With a single control panel, management policies across all sites where the cluster nodes are located, StorageGrid, thus pulling the data to where they are needed.  Tape libraries and RESTful HTTP-like protocols such as CDMI, S3 and Swift are supported, with which the system can be integrated with cloud providers.  Data can seamlessly move between all levels: local storage, cloud and tape libraries. <br><div class="spoiler">  <b class="spoiler_title">Storage Grid Web GUI</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/231/30f/b90/23130fb903054a8ca18360076b607bf9.png"></div></div><br><img src="https://habrastorage.org/files/201/468/09b/20146809b7564eff8d61101bbf21a3c1.PNG"><br><br>  The advantages of the StorageGrid platform include: <br><ul><li>  Support for all the most popular object protocols </li><li>  Extensibility to 100 billion objects (375 million per node), 70PiB information (soft limit) </li><li>  Distribution: up to 16 sites </li><li>  The ability to use tape libraries as a level to store data archives </li><li>  When policies change, the data life cycle will be automatically adjusted to match the changes. </li><li>  One of the most advanced data lifecycle policy ( <abbr title="Information Lifecycle Management">ILM</abbr> ) settings: Automatic distribution of data across local levels (SSD, SATA, SAS, Ribbon, Geo-EC), public clouds (such as AWS S3), and between customer sites.  The distribution of data can be made on the basis of information about the cost of data, the need for their level of protection, performance, availability, cost of the network and the durability of the stored data. </li></ul><br><img src="https://habrastorage.org/files/17d/a59/3f6/17da593f66a34efa87a5cd0558160615.png"><br><br><h4>  Erasure coding </h4><br>  Almost all object storage systems are able to store multiple copies of a single object (replication), duplicating data on different nodes and sites, thus ensuring fault tolerance.  And <a href="http://community.netapp.com/t5/Technology/Erasing-Misconceptions-Around-RAID-amp-Erasure-Codes/ba-p/83689">Erasure Coding (EC)</a> is a mechanism similar to RAID, but running at the level of an object, which is broken into several parts, and not at the level of entire hard drives.  EC allows significantly less storage space, providing a fault tolerance mechanism. <br><img src="https://habrastorage.org/files/cf4/473/409/cf44734090ec462d82d773ba0ceda982.png"><br><br><h5>  Geo-EC </h5><br>  Geo Distributed Erasure Coding is an EC, where parts of an object that make up such a ‚ÄúRAID group‚Äù can be on systems located in different parts of the world, store two or three copies of data, and allow you to achieve incredible levels of accessibility, but this generates a corresponding amount traffic and space occupied.  This is where the geo-distributed Erasure Coding function comes to the rescue so that failover and availability are not impaired, significantly reducing the amount of space occupied.  The following EC schemes are available: <br><ul><li>  2 + 1 for three sites </li><li>  4 + 2 for three sites </li><li>  6 + 3 for three sites </li><li>  9 + 3 for four sites </li><li>  8 + 2 for five sites. </li></ul><br><img src="https://habrastorage.org/files/c91/be5/e69/c91be5e694f34331a7259ed9b8684315.png"><br>  Erasure Coding on the one hand saves disk space, on the other hand adds overhead in calculating the checksum and recovering the object.  In the case of Geo-EC, when reading an object, the response rate is still increasing as the reading is performed from two sites.  Those.  EC needs to be used wisely, and later in <a href="https://habr.com/ru/post/279743/">ILM</a> I will tell you how. <br><br><h5>  Hierarchical ec </h5><br>  StorageGrid allows you to distribute data based on their durability and fault tolerance policies.  Hierarchical Erasure Coding allows local EC and Geo-EC to be automatically executed based on these policies.  Hierarchical EC is well suited for installations with at least 3 sites to protect against the failure of the entire site. <br><img src="https://habrastorage.org/files/be8/697/332/be8697332e5046ca8b7afa8866d5612d.PNG"><br><br><h5>  DDP - local EC </h5><br>  Dynamic Disk Pools (using StorageGrid WebScale as a local EC) is the functionality of the NetApp E-Series hardware, a kind of RAID, like regular RAID groups, it is created on a single local system.  DDP allows not to lose in performance in case of local failure of one or several disks (otherwise objects will pull up from other nodes or sites), plus it saves electricity and network (WAN / LAN) traffic: data access and recovery will be performed locally.  This functionality perfectly complements Geo-EC. <br><img src="https://habrastorage.org/files/83e/44b/370/83e44b3708d74ed68a2bdf129ce2c1fc.PNG"><br><br><h4>  <a href="https://habr.com/ru/post/279743/">Information Lifecycle Management</a> </h4><a name="ILM"></a><br>  ILM in StorageGRID systems will allow flexible and much more efficient use of disk space due to data lifecycle policies.  So, for example, you can set up a policy so that if an object was recorded or there was at least one access to it within 30 days, you can store X copies of it on several different sites.  If there were no calls to him for more than 30 days, then deleting copies and driving him through the EC, in this case, the increased reading time of the object will not be such a problem.  And if the object has not been accessed for 1 year, then send it to the cloud or tape.  It is important to note that the example above is granular at the level of each individual object and not at the level of a large dataset, such as a LUN or a file ball (in a SAN or NAS, respectively).  If the price of resources changes, the policy will tighten and re-distribute the data in accordance with the new changes. <br><img src="https://habrastorage.org/files/2f3/d85/a1a/2f3d85a1ae77412e9a9d4a6a2e430365.png"><br><br><h4>  Durability </h4><br>  It can be divided into two parts: integrity and data availability. <br>  Data integrity is ensured by: using digital hash sums when data is written, read, migrated, and periodically checked.  Damaged objects are transparently recreated from copies.  Erasure Coding geo-distributed mechanism allows you to economize on the use of space for storing copies of data. <br>  Availability of data is ensured through Fault-tolerent architecture, support for uninterrupted operations, software updates and platform equipment.  Load distribution, both during normal operation and in case of failure.  NetApp AutoSupport can automatically notify support for pre-reactive problem resolution.  Erasure coding at the node level improves the availability of each node, recovery time, impact on performance and network activity (available only on the E-Series platform with Dynamic Disk Pools). <br><br><h4>  NAS </h4><br>  A NAS functional with CIFS / NFS protocols can be implemented using a NAS bridge.  This will not modify the existing infrastructure and provide standard file access to end users.  StorageGrid, in turn, thanks to life cycle policies, can, based on meta-information (for example, the last modification time or file creation), transparently move this data across storage levels.  Licenses for file bridges are included in the StorageGrid distribution, they do not need to be re-purchased.  Integration with Active Directory and LDAP is supported.  NAS bridge, as it were, ‚Äúfrom above‚Äù provides access via CIFS / NFS and this is the most common NAS. <br>  Bottom on the back end, the same NAS bridge is connected via an object protocol and converts files to objects, then they are already stored and processed as ordinary objects. <br><br><h4>  Security </h4><br>  Support for end-to-end encryption of each object and Secure Multi-Tenancy.  Support for authentication and security mechanisms for S3 and CDMI.  LDAP / AD integration for user authentication within one Tenant is supported. <br><br><h4>  Production-Ready </h4><br>  This is a very important point, when the customer has no army of programmers and administrators, it is important that the complex is reliable.  StorageGrid technologies are more than 14 years old (in 2001, the first installation), and it managed to build a large number of integrations with other known products for backup, archiving, file synchronization, collaboration, etc. <br><br><ul><li>  NTP Hierarchical storage management service: Software Object Storage &amp; Cloud Connector (File Vacuum) </li><li>  Ctera File sync and share, collaboration </li><li>  Stealth Microsoft SQL / Exchange / SharePoint integration </li><li>  PoINT Hierarchical Storage Management Service </li><li>  Commvault Backup and archive </li><li>  Citrix Sharefile File sync and share, collaboration </li><li>  Egnyte File sync and share, collaboration </li><li>  SoftNAS General purpose NFS and CIFS gateway </li><li>  <a href="https://habrahabr.ru/post/279849/">NetApp AltaVault (SteelStore)</a> .  The link will be available after the publication of the next article. </li><li>  Symantec Enterprise Vault with NetApp StorageGRID Adapter </li><li>  Amazon S3 </li><li>  Amazon CloudFront </li><li>  Open Stack Swift with white box </li><li>  Inktank Ceph with Calamari </li><li>  Swift API </li><li>  OpenStack Glance Integration: Leverage StorageGRID Webscale as Glance image repository via S3 and Swift </li><li>  NetApp OpenStack Cinder driver </li><li>  Openstack Kilo </li><li>  OpenStack Heat orchestration </li><li>  Other. </li></ul><br><br><h4>  StorageGrid Licensing Policy </h4><br>  The product is licensed per terabyte, regardless of the number and type of nodes.  The hardware and software implementation of StorageGRID can coexist in the same cluster.  All possible functionality is included in the basic delivery: <br><ul><li>  In the case of hardware implementation, the product is licensed by the number of raw (RAW) terabytes </li><li>  In the case of purchasing a software license (without using StorageGRID hardware), the product is licensed by the amount of useful space, and the coefficient x1.25 is used. </li></ul><br><br><h4>  findings </h4><br>  StorageGRID is a product for applications that support RESTful HTTP, which is suitable for large and small objects, high bandwidth, transactional and automatic, transparent movement of data across storage levels.  Geo-clustering allows you to achieve incredibly high resiliency and data availability, hiding the failure of entire sites.  EC technology allows you to significantly save space by using a RAID-like architecture.  StorageGRID supports multiple storage tiers and is one of the most advanced data lifecycle management mechanisms.  ILM will automatically move data when the price changes at a particular storage level, which will allow for more efficient use of resources and flexible response to changes in the cost of data storage (for example, in the Cloud or in Tape libraries).  StorageGRID is an established, mature product with a broad list of third-party software integration, which simplifies support and integration into existing infrastructure.  Encrypting objects and supporting LDAP / AD authentication helps protect against data theft.  StorageGRID can be a complete replacement for Amazon S3, allowing you to rent to multiple companies for storage and acting as a private cloud for those who cannot place data in a public cloud.  And it can be an addition to AWS S3, using it as a data storage level and has a mechanism for calculating the cost of their storage for StorageGRID storage tenants. <br><br>  <b>This may contain links to Habra articles that will be published later</b> . <br>  <b>I ask to send messages on errors in the text to the <abbr title="Private message">LAN</abbr></b> . <br>  <b>Comments, additions and questions on the article on the contrary, please in the comments</b> . </div><p>Source: <a href="https://habr.com/ru/post/279743/">https://habr.com/ru/post/279743/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279731/index.html">Qt 5.6 framework release</a></li>
<li><a href="../279733/index.html">ECMA-262 standard (JavaScript) in pictures, part 2</a></li>
<li><a href="../279735/index.html">Productivity in the development of Office Add-ins</a></li>
<li><a href="../279737/index.html">Replacing jitter exceptions</a></li>
<li><a href="../279739/index.html">Processing ‚Äúvideo 360‚Äù, image cleaning: algorithm and its implementation in C #</a></li>
<li><a href="../279745/index.html">Template Turing Machine</a></li>
<li><a href="../279747/index.html">Porting FreeModbus 1.5 under STM32 HAL rs485 without RTOS</a></li>
<li><a href="../279749/index.html">Study: DDR4, considered ‚Äúinvulnerable‚Äù, is vulnerable to Rowhammer vulnerability</a></li>
<li><a href="../279751/index.html">Programmers misconceptions about phone numbers</a></li>
<li><a href="../279753/index.html">QA: Conference. The second wave of speakers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>