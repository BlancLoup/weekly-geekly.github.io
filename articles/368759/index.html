<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A new algorithm for calculating the rating of "Kinopoisk" prefers movies with a paid view. Mini investigation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Late update to the post: 2 months after the post was released, the formula for calculating the rating was amended, which is described in this post on ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A new algorithm for calculating the rating of "Kinopoisk" prefers movies with a paid view. Mini investigation</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/840/954/2c3/8409542c3f80491ab683e798c697dae7.png"><br><br>  <i><b>Late update to the post:</b> 2 months after the post was released, the formula for calculating the rating was amended, which is described in <a href="http://www.kinopoisk.ru/blogs/inside/post/4509/">this post</a> on the project blog.</i>  <i>They bring the ratings of "Kinopoisk" to those that were before (although this is not a full rollback).</i>  <i>The author of this post does not have an unequivocal opinion on whether everything is as it should now, only cautious optimism.</i> <br><br>  The events around the Kinopoisk reboot seem to be noisy, the users who have left are spending time on the previous site, the developers with parsers make insidious plans, the management has made <a href="http://geektimes.ru/post/264116/">personnel decisions of</a> ambiguous focus, and everything else has returned to normal.  But not all. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Rollback to the previous version of the site has not touched movie ratings.  And although on <a href="http://www.kinopoisk.ru/top">the Top 250</a> we can see a familiar familiarity with many things with ‚ÄúEscape from the Shawshank‚Äù and ‚ÄúThe Green Mile‚Äù as leaders, on the pages of the films themselves, in the Google issue and other places, the rating is displayed - the one that went to the basis of <a href="http://beta.kinopoisk.ru/top">Topa-250 beta</a> (I have it open intermittently, which was observed immediately after the restart). <br><br>  And after a week nothing has changed, as if hinting to us that the new rating will remain for a long time, if not forever.  I don‚Äôt exclude that the old top will be updated soon, maybe it keeps only because the rating calculation algorithm differs from the algorithm on the film pages (‚Äúin the top, special mechanisms are used that prevent unscrupulous users from cheating the rating‚Äù), and this algorithm corrects not a new one, but an old rating (mostly within a couple of hundredths). <br><a name="habracut"></a><br><h1>  General view </h1><br>  Well, let's look at the <a href="http://beta.kinopoisk.ru/top">new rating</a> .  If you do not open it, you can use the <a href="http://rndd.ru/files/250%2520%25D0%25BB%25D1%2583%25D1%2587%25D1%2588%25D0%25B8%25D1%2585%2520%25D1%2584%25D0%25B8%25D0%25BB%25D1%258C%25D0%25BC%25D0%25BE%25D0%25B2%2520%25E2%2580%2594%2520%25D0%259A%25D0%25B8%25D0%25BD%25D0%25BE%25D0%259F%25D0%25BE%25D0%25B8%25D1%2581%25D0%25BA.html">version I saved</a> .  It is a week <font>(I wanted to do this work a long time and started at the beginning of last week, but I managed to finish it only recently, then wrote another post)</font> , but the ratings have changed only slightly (no more than a few thousandths, if we compare the <a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/rating/page/1/">detailed</a> <a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/rating/page/1/">versions)</a> stamp, with one important exception - see below). <br><br>  What I have to say right away - in all the time, I have not seen a relatively new algorithm for comments by service representatives.  According to the redesign, any meaningful comments slipped through, but the circumstances of entering the new rating calculation algorithm are shrouded in deaf fog.  The only comment we have is <a href="https://www.facebook.com/tatsiy/posts/10200859171638635">criticism of the founder of Kinopoisk, Vitaly Tatsiya</a> , who expressed concern that ‚Äúthey [the new Kinopoisk team will kill] the only decent rating of films in runet ... and whether all their users will be sent to imdb. <br><br>  The fact that everyone noticed was a sharp drop by 35 positions of the two leaders mentioned above and the rise of Interstellar from 12th position to 2nd, as well as a scandalous 8.2 points instead of 4.8 in the trash film Green Elephant (and after the flash mob, users who saw this and decided to make it absurd were already 9.1).  These changes may seem strange to someone, but they themselves are difficult to evaluate (with the exception, perhaps, of ‚ÄúElephant‚Äù, which I, however, did not watch).  Yes, the old rating on these points was closer to the <a href="http://imdb.com/top_250_films">IMDb rating</a> (where Escape from the Shoushenk is also in the first place, and Interstellar on the 29th), but this is still not an argument. <br><br>  A closer look reveals other strange and controversial things.  To begin with - all the films with the number of votes less than 70 thousand were removed from the beta beta (the limit was established by practical consideration).  This is not such a trifle: in connection with this decision, 21 films fly out of the top 100, 152nd place moves to the 100th, and 489th to the 224th (the full version of the new top without these exemptions, see <a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/rating/page/1/">this list on the old ‚ÄúKinopoisk‚Äù, sorted by rating</a> ).  70 thousand votes is more than a serious border;  it has not yet been overcome, including the acclaimed <a href="http://www.kinopoisk.ru/film/705356/">"Leviathan"</a> or launched in two weeks ago in the Russian box office and a month and a half ago in the world <a href="http://www.kinopoisk.ru/film/841700/">"Martian"</a> .  At the same time, in the old top the border was 500, and I did not hear any special complaints about it in this regard. <br><br><img src="https://habrastorage.org/files/f6e/ccd/551/f6eccd551df44bd680a7301590543cde.png"><br>  <i>The arrows connect positions in</i> the same <i>top with a threshold of 70 thousand votes and without</i> <br><br>  Such a decision could be made from commercial considerations: less popular films are less likely to be available for online viewing at Yandex partners.  And indeed: films with fewer than 70 thousand votes in the first hundred top beta versions are usually made far in the past century and are either available for free from Yandex partners or not available;  There is no paid one.  (To verify this, you can use the regular expression <code>^[^\t]+\t((\d\d?|100)\t|[^\t]+\t(\d\d?|100)\t).+$</code> on <a href="http://rndd.ru/files/kinopoisk.txt">this table</a> , which is described below under the spoiler. Movies outside the top are those with a dash in the second and third columns.) <br><br>  Let us turn to the ratings themselves.  Since the top beta version displays ratings up to a tenth instead of a thousandth, instead it‚Äôs better to work with the mentioned <a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/rating/page/1/">list on the old Kinopoisk</a> . <br><br>  Films from the 1st to the 42nd position cover the range from 9.465 to 9,000 points, moreover, in three films the rating is exactly 9,000, <i>and the next one has a rating of 8,299</i> .  Then follow immediately 55 films in the range from 8,271 to 8,200. <br><br><img src="https://habrastorage.org/files/e7f/435/cc6/e7f435cc6e5342dc9920ae7d71ba473d.png"><br><br>  Wow a failure of 0.7 points!  In turn, ‚Äúnine exactly‚Äù - these are clearly traces of some kind of either external intervention, or incomprehensible rounding;  the rest gives just some fancy ratio of factors in the formula, generating an uneven distribution. <br><br>  And now pay attention that these are three films with 9,000: these are the very fallen ‚ÄúShawshank Escape‚Äù and ‚ÄúThe Green Mile‚Äù, and with them for the company and exchanging 5th place for the 38th ‚Äú1 + 1‚Äù .  Ahead of everything that will be said later, you can immediately draw attention to the fact that ‚ÄúEscape from the Shoushenk‚Äù and ‚Äú1 + 1‚Äù are films available for <i>free</i> viewing at Yandex partners. <br><br>  Further more.  During the few days that I worked with the top, I fell to witness the miraculous metamorphosis with the rating of another film - "Chorus."  He fell from 8.745 (the same ‚Äúblind zone‚Äù for other films) to 8.260 in a couple of days.  I even managed to capture this incredible ‚Äújourney‚Äù on webcitation.org with the help of the Bing cache: <a href="http://www.webcitation.org/6cI7y9U7l">here the movie has a rating of 8.745</a> , <a href="http://www.webcitation.org/6cKekXNcZ">here it is 8.515</a> , and at the moment it has <a href="http://www.kinopoisk.ru/film/51481/">8.260</a> .  <s>I feel like a paranormal hunter.</s>  No other movies have a rating even at close speed.  This film is not available from partners of "Yandex" neither for free nor for a fee. <br><br><img src="https://habrastorage.org/files/2d6/35b/0c9/2d635b0c96af49c18fcf09237d8a6d7e.png"><br>  <i>Another strange detail - the new ratings change in a strange relationship with the change of the old.</i>  <i>Top <a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/rating/page/1/">for October 15</a> and <a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/rating/page/1/">yesterday</a> , the films "Leon" and "Interstellar"</i> <br><br><h1>  Preparation for calculations </h1><br>  I must say that at first I took the new rating as technical problems of the new Kinopoisk team, without seriously considering the version about its deliberate distortion.  This is simply not the style of "Yandex" - a company that generally keeps its reputation;  such manipulations for it must be the strictest taboos.  But after the first alarm bells, suspicions began to creep in.  And then I decided to sort things out. <br><br>  And if we have two tops - new and old - and even both ratings for each film, as well as data on the availability of these films for paid / free viewing from Yandex partners, the <b>solution suggests a simple one: to compare the positions of all films in one top and in another, and before the heap - and their ratings, calculate the arithmetic average of paid, free and all other films and compare.</b>  Of course, this method does not pretend to the accuracy of the findings, but it is capable of a general impression. <br><br><div class="spoiler">  <b class="spoiler_title">Methodological details, process and table with summary data</b> <div class="spoiler_text">  Despite the seeming ease of the task, several difficulties arose in the process, firstly, in order to withstand the relative methodological correctness, and secondly, to the volume of copy-text, text processing and rechecking, which increased many times in this connection.  From these considerations, it was decided to be limited to the first 100 positions.  Moreover, taking into account all 250, there would be difficulties with the fact that a film from one top is not present at all in another, and it is not clear how to take into account such cases. <br><br>  Methodological difficulties begin with the fact that comparing two stamps, in one of which (old) there are all films, and in the other (new) a threshold for entering 70 thousand votes is set for them, it is not quite correct.  That is, it is possible to compare with the goal of finding out how much the films with paid viewing have advanced in the new top, and the result will obviously be ‚Äúwell advanced‚Äù in the light of the above circumstances.  Nevertheless, here human intervention can still find some profound explanation (well, or not to find, but simply state the obvious - ‚ÄúYes, in this way they push partner films to the top‚Äù).  I am more interested in the technical side, the rating itself - what will change (or has already changed, if the current state of affairs is supposed to be fixed) with its introduction. <br><br>  As a result, I did this.  I took the top of the old version and in the same way cut out films with the number of votes less than 70 thousand. Then I calculated the new positions (the 100th became the 82nd and the 144th became the 100th).  And then I worked with two versions of the old top (below they are combined into one table). <br><br>  Then, first, I went through the positions of the films in the top beta version and found the corresponding positions in the two tops of the old version.  Then I did the same thing the other way around and added the missing films (if the film from the old top was not at all in the new one due to the lack of votes, I opened the film page and looked to see if there was a possibility to watch the film).  In the cumulative list were films that are present in at least one of the top 100.  The second step (‚Äúvice versa‚Äù) is needed in order to avoid a bias towards the first top: if it takes the starting point, then the average position in it will be significantly lower than in the second, and what other anomalies can it have with it? bring <br><br>  The results, I must say, were not long in coming - 4 paid films and not a free one got into the new top 100 of the second hundred, even the adapted old one, and 4 free ones and 1 paid left.  But let's not get ahead of events. <br><br>  According to the results, the following tablet came out (the <a href="http://rndd.ru/files/kinopoisk.txt">full version</a> ; as I said, over the past time, the ratings have changed slightly, except for ‚ÄúThe Chorus‚Äù, about the anomaly with which read above): <br><br><pre> <code class="hljs css">1 1 36    9<span class="hljs-selector-class"><span class="hljs-selector-class">.202</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.000</span></span>  2 2 37   9<span class="hljs-selector-class"><span class="hljs-selector-class">.154</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.000</span></span> 3 3 1   9<span class="hljs-selector-class"><span class="hljs-selector-class">.008</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.465</span></span> 4 4 3   8<span class="hljs-selector-class"><span class="hljs-selector-class">.895</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.405</span></span> 5 5 38 1+1 8<span class="hljs-selector-class"><span class="hljs-selector-class">.880</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.000</span></span>  6 6 4   8<span class="hljs-selector-class"><span class="hljs-selector-class">.775</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.397</span></span> 7 7 5  8<span class="hljs-selector-class"><span class="hljs-selector-class">.773</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.358</span></span>  8 8 14  8<span class="hljs-selector-class"><span class="hljs-selector-class">.772</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.272</span></span> 9 9 6   8<span class="hljs-selector-class"><span class="hljs-selector-class">.710</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.336</span></span> 10 10 12   8<span class="hljs-selector-class"><span class="hljs-selector-class">.700</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.294</span></span>  11 11 8     8<span class="hljs-selector-class"><span class="hljs-selector-class">.694</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.324</span></span>  12 12 2  8<span class="hljs-selector-class"><span class="hljs-selector-class">.667</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.409</span></span> 13 13 11    8<span class="hljs-selector-class"><span class="hljs-selector-class">.657</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.295</span></span>  14 14 10   8<span class="hljs-selector-class"><span class="hljs-selector-class">.650</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.299</span></span> 15 15 22  8<span class="hljs-selector-class"><span class="hljs-selector-class">.632</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.190</span></span>  ... 128 94 103    8<span class="hljs-selector-class"><span class="hljs-selector-class">.197</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.156</span></span>  130 95 101  ‚Ññ17 8<span class="hljs-selector-class"><span class="hljs-selector-class">.194</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.158</span></span>  133 96 79   8<span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.197</span></span>  141 97 135   8<span class="hljs-selector-class"><span class="hljs-selector-class">.180</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.128</span></span>  142 98 96  8<span class="hljs-selector-class"><span class="hljs-selector-class">.180</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span>  143 99 106   8<span class="hljs-selector-class"><span class="hljs-selector-class">.179</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.149</span></span> 144 100 91  8<span class="hljs-selector-class"><span class="hljs-selector-class">.178</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.174</span></span> 161 109 99  ! 8<span class="hljs-selector-class"><span class="hljs-selector-class">.163</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.161</span></span>  164 110 85   8<span class="hljs-selector-class"><span class="hljs-selector-class">.161</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.182</span></span>  170 113 73  8<span class="hljs-selector-class"><span class="hljs-selector-class">.151</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.207</span></span> 177 117 94   8<span class="hljs-selector-class"><span class="hljs-selector-class">.140</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.171</span></span> 187 122 97     8<span class="hljs-selector-class"><span class="hljs-selector-class">.129</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.167</span></span> 210 130 100     8<span class="hljs-selector-class"><span class="hljs-selector-class">.097</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.161</span></span>  296 155 92  :   8<span class="hljs-selector-class"><span class="hljs-selector-class">.053</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.171</span></span>  362 164 98    8<span class="hljs-selector-class"><span class="hljs-selector-class">.025</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.165</span></span></code> </pre><br>  The first column is the position in the old top, the second is the position in it, if you exclude from it films with the number of votes less than 70 thousand, the third is the position in the new top on the beta version of the site.  First comes the old rating, then the new one.  The last letter or its absence is the availability of paid (‚Äúp‚Äù) and free (‚Äúb‚Äù) viewing at Yandex partners. <br><br>  (Since the ratings were written a little later than the positions, the 39th position in the new top of the "Diamond Hand" does not match its rating between the 47th and 48th positions. And judging by the fact that the 39th place should have a rating between 8,299 and 9,000, she experienced just that anomaly, which I described above in the case of "Chorus", which before my eyes fell from 43rd position to 49th. <s>I feel even more like a character in the X-Files series. there is still a film "Paranormal Activity" about it - you have to look Wow, you can. <a href="http://beta.kinopoisk.ru/film/404366/">online</a> 99 ‚ÇΩ the new "kinopoisk" Wait 7.0 points.!</s>  <s>e, as it <a href="http://www.kinopoisk.ru/film/404366/votes/">grew by half a point</a> ?)</s> </div></div><br><br><h1>  Simple arithmetic </h1><br>  Get down to business.  In this place it is worthwhile to stipulate that what I have done can be repeated by everyone.  Those interested can do it not for 100, but for all 250 films (if they can overcome the above difficulties).  At the bottom of the post I gave regular expressions that allow you to select from the table above under the spoiler, in case you want to work with it. <br><br><h2>  Positions </h2><br>  <b>1.</b> First, let's see how the positions between the two tops have changed <b>as is, i.e.</b>  <b>without agreeing on the criteria for inclusion in the top</b> (cutting out films from an old top with less than 70 thousand votes and subsequent position adjustments, see above under the spoiler). <br><br>  All calculations in expanded form are shown <a href="http://pastebin.com/Ku2dHUMJ">here</a> .  <font>(It would probably be more convenient to turn all this into a spreadsheet, but it was too lazy to remember them; regulars + multiple cursors + copy-to-calculator are also nothing.)</font> <br><br><ul><li>  The average position of <i>all</i> 102 films shifted to <b>16.12</b> up (due to the fact that low positions in the unadapted old top correspond to high in the new, but not vice versa). </li><li>  Each of the 29 <i>pay-</i> per-view movies shifted an average of <b>24.89</b> positions up. </li><li>  Each of the 21 films with <i>free</i> viewing shifted an average of <b>5.77</b> positions up. </li><li>  Each of the 52 <i>inaccessible</i> films has shifted on average by <b>15.43</b> positions up. </li></ul><br>  <b>And the most important thing:</b> <b><br></b> <ul><li>  <b>The difference between the growth of paid films and the average height was 8.77 positions.</b> </li><li>  <b>The difference between the growth of free movies and the average height was ‚àí10.35 positions.</b> </li></ul><br><br>  <b>2.</b> Now let's see what is the participation of the rating itself, and not the rating + criteria for inclusion in the top.  Compare the position <b>between the new top and the old one adapted for the harmonization of criteria</b> . <br><br>  Calculations - <a href="http://pastebin.com/ghtBisKJ">here</a> . <br><br><ul><li>  The average position of <i>all</i> 108 films shifted up by <b>0.96</b> . </li><li>  Each of the 30 <i>pay-</i> per-view movies shifted an average of <b>5.97</b> positions up. </li><li>  Each of the 24 movies with <i>free</i> viewing shifted an average of <b>5.91</b> positions <i>down</i> . </li><li>  Each of the 54 <i>inaccessible</i> films has shifted an average of <b>1.24</b> positions up. </li></ul><br>  <b>Total:</b> <b><br></b> <ul><li>  <b>The difference between the growth of paid films and the average height was 5.01 positions.</b> </li><li>  <b>The difference between the growth of free movies and the average height was ‚àí6.87 positions.</b> </li></ul><br><br><h2>  Ratings </h2><br>  <b>3.</b> Since all films have ratings regardless of the number of votes, we can compare movie ratings in the aggregate sample of both top 100 directly.  The number of films in the sample increases.  Compare the <b>new top with unadapted old</b> . <br><br>  <a href="http://pastebin.com/1Td22iEi">Calculations</a> . <br><br><ul><li>  The average rating of <i>all</i> 120 films increased by <b>0.142</b> points. </li><li>  The rating of each of the 29 films with <i>paid</i> viewing has increased by an average of <b>0.232</b> points. </li><li>  The rating of each of the 28 films with <i>free</i> viewing has increased by an average of <b>0,023</b> points. </li><li>  The rating of each of the 63 <i>inaccessible</i> films has increased by an average of <b>0.154</b> points. </li></ul><br>  <b>Total:</b> <b><br></b> <ul><li>  <b>The difference between the growth of paid films and the average height was 0.090 * points.</b> </li><li>  <b>The difference between the growth of free movies and the average height was ‚àí0.119 * points.</b> </li></ul><br>  * - The dramatic change in the rating of ‚ÄúChoristov‚Äù, described above, will increase these values ‚Äã‚Äãby several thousandths. <br><br>  Nine hundredth is not so little as it may seem.  If the average rating on the old ‚ÄúKinopoisk‚Äù is 7.2, and the maximum is 9.2, and if you consider all movies from 7 and above to have to watch, this is not less than 4% of the ‚Äúwatchable zone‚Äù range. <br><br>  <b>4.</b> Finally, take a sample from the second comparison and apply it to the ratings.  We compare the ratings <b>between the new top and the old one adapted for the harmonization of criteria</b> . <br><br>  <a href="http://pastebin.com/gVbH1kU0">Calculations</a> . <br><br><ul><li>  The average rating of <i>all</i> 108 films increased by <b>0.142</b> points (as in the last paragraph). </li><li>  The rating of each of the 30 <i>pay-</i> per-view films has grown by an average of <b>0.223</b> points. </li><li>  The rating of each of the 24 films with <i>free</i> viewing has increased by an average of <b>0.054</b> points. </li><li>  The rating of each of the 54 <i>inaccessible</i> films has increased by an average of <b>0.136</b> points. </li></ul><br>  <b>Total:</b> <b><br></b> <ul><li>  <b>The difference between the growth of paid films and the average height was 0.081 points.</b> </li><li>  <b>The difference between the growth of free movies and the average height was ‚àí0.088 points.</b> </li></ul><br>  (There are no ‚Äúchoristers‚Äù in this sample.) <br><br>  All calculations have been re-checked. <br><br><h1>  findings </h1><br><h2>  Reasonable doubt </h2><br>  In principle, one paid film, which went 150 positions up, would give the result shown in the second comparison, and this could be considered an accident.  But there are no such huge differences in positions between the two tops.  The maximum difference in paid films is 63 positions, won back by ‚ÄúMad Max: Dear Rage‚Äù, and the rise of Mad Max is compensated, for example, by the fall of ‚ÄúWhite Captivity‚Äù by 38 positions. <br><br>  Also, probably, it would be possible to calculate how much such a deviation is likely if the calculation formula would give the films random positions within certain limits.  Due to my lack of great knowledge in statistics, I leave it to those who have it.  But I have big doubts that such a probability is somehow great.  (Coarsely, one can be convinced of the uniformity of deviation by counting indicators separately for the top 50 and films from 51 to 100 positions according to the same principles; what I did is that the conclusions remain (growth 4.44 and 8.19 for paid ones in the second sample; the second value is greater, obviously, because the jumps on the top are stronger).) <br><br>  In itself, raising the ratings of paid films and sagging free ones does not mean intent - there may be unobvious factors that by pure coincidence increase the value of some variables and lower the others.  Relatively speaking, it is possible to imagine that for old Soviet films, which most often have the possibility of free viewing, there are some peculiarities of putting users in their ratings, which, from the point of view of the new algorithm, play down the rating of these films.  On the other hand, the mere fact that these coincidences mysteriously play into the hands of the commercial interests of the company (and not, for example, <i>against</i> its interests) in any case cannot be ignored by the public. <br><br>  What else?  Since correlation does not mean a causal relationship, the inverse relationship hypothesis comes to mind. <br><div class="spoiler">  <b class="spoiler_title">An example of how it works</b> <div class="spoiler_text">  It was this assumption that was a plausible explanation of the phenomenon noted in a <a href="http://habrahabr.ru/post/144618/">popular post</a> 3 years ago, where a supposedly minimal correlation between signs of the zodiac and character traits was revealed.  People interested in astrology, were tested to determine the psychological type.  The proposed explanation was that their ideas about their zodiac sign reflected on how they answered the test questions, hence the correlation. </div></div>  Could it have been so that the new top was given to the partners of Yandex, and they drove their assortment under it? <br><br><h2>  Cynical version </h2><br><img src="https://habrastorage.org/files/53a/01c/1fa/53a01c1faa28453f88f7cc267bd2a104.png"><br>  <i>Kinopoisk visitors, movie lovers, know what these guys are.</i> <br><br>  There is a more trivial explanation.  It sounds like this: <br><br>  The effective managers of Yandex are very effective and very strong in metrics, analysis and calculations.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They were so tempted to optimize everything around that they not only nibbled the site‚Äôs functionality, </font></font><a href="http://pastebin.com/7xs5E7hb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">having excluded everything that does not bring direct income</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but even the opportunity to push the rating of paid films up to the tenth point did not miss. At the same time, it is reasonable to reason that if we correct the rating, it is unnoticeable, so as not to provoke mass discontent, be it clumsy. In fact - will anyone really sit with a calculator and calculate the difference in positions and rating for each film ?? OH SH ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And so 9 positions in the top 100 or one-tenth rating points - it would seem nonsense - are converted into quite tangible thousands and millions of wood.</font></font><br><br><h2>  Total </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">From myself I‚Äôll say that I was not convinced by the version for reasonable doubt, and I tend to the second, although I can only guess what logic the decision-makers had. However, in the light of the </font></font><a href="http://pastebin.com/7xs5E7hb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recent insider,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I can almost imagine it. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yes, and I can hardly imagine why, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in principle</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a rating ‚Äúadjustment‚Äù may be necessary. I would like to ask: ‚ÄúWhat are you going to adjust? An objective opinion of tens and hundreds of thousands? " </font></font><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(And yet - and this already repeats the" big "story with the restarting of" Film Search "- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" Why don't you need to give any comments on this? "</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> But God bless him ...)</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> What was not so with the old one?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clearing up? But in the old top it has already been applied, and cope with the wrap can be a more direct way - removing fictitious ratings along with the users who put them. Yes, and I doubt that someone might need to wind the "Escape from the Shawshank." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nevertheless, all this in any case will only suspicion. Therefore, it would be interesting to listen to the position of Yandex itself. I do not exclude that there is some more trivial explanation that escaped my attention. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anyway, this whole undertaking with a new rating doesn‚Äôt cause anything but bewilderment, both for me and for everyone else whose opinion I had to face, whether on objective grounds or on the basis of purely subjective feelings. Therefore, as well as the results of the foregoing</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I urge Yandex to abandon the new algorithm in order not to undermine the credibility of the unique rating of films, TV series, etc. in Runet. </font><font style="vertical-align: inherit;">- a worthy alternative to the IMDb rating, as well as to the Kinopoisk and Yandex. </font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order not to end on a bad note, I will say that in the process of working with the top of the new site, I was able to evaluate, in my opinion, the </font><font style="vertical-align: inherit;">function of short tags, which is far better than the notation </font><font style="vertical-align: inherit;">, unjustly ridiculed in the memorable post </font></font><a href="https://geektimes.ru/users/andorro/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">andorro </font></font></a> <a href="http://geektimes.ru/post/263652/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúWhat's wrong with the launch of‚Äú Kinopoisk ‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> the genre makes it clear what this or that film is about, as well as the title pictures of films instead of advertising posters.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Appendage </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Saved by me in the web archive: </font></font><br><ul><li> <a href="http://www.kinopoisk.ru/top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classic Top 250</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Top-250 beta versions are not saved anywhere due to muddy redirects, and in any case there is uploading of 12 films. </font><font style="vertical-align: inherit;">Once again the link to the </font></font><a href="http://rndd.ru/files/250%2520%25D0%25BB%25D1%2583%25D1%2587%25D1%2588%25D0%25B8%25D1%2585%2520%25D1%2584%25D0%25B8%25D0%25BB%25D1%258C%25D0%25BC%25D0%25BE%25D0%25B2%2520%25E2%2580%2594%2520%25D0%259A%25D0%25B8%25D0%25BD%25D0%25BE%25D0%259F%25D0%25BE%25D0%25B8%25D1%2581%25D0%25BA.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">saved me locally</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Top 500, sorted by new rating: </font></font><a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/rating/page/1/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/rating/page/2/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Top 500, sorted by classic rating, beyond 250 (for two films): </font></font><a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/order/page/3/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="http://www.kinopoisk.ru/top/lists/1/filtr/all/sort/order/page/4/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></a> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(I, in my opinion, took data from slightly earlier versions.) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regulars for choosing from the table by the link above all films:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> first sample: </font></font><code>^((\d\d?|100)\t\d|[^\t]+\t[^\t]+\t(\d\d?|100)\t).+$</code> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> second (it‚Äôs fourth) sample: </font></font><code>^[^\t]+\t((\d\d?|100)\t|[^\t]+\t(\d\d?|100)\t).+$</code> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> third sample: </font></font><code>^((\d\d?|100)\t|[^\t]+\t[^\t]+\t(\d\d?|100)\t).+$</code> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/368759/">https://habr.com/ru/post/368759/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../368749/index.html">Andy Grove and the turning points of Intel history</a></li>
<li><a href="../368751/index.html">Watch Shock Clock: the discharge of electricity and fear - the key to success awakening</a></li>
<li><a href="../368753/index.html">3D printing and safe sex toys at home (DIY) (18+)</a></li>
<li><a href="../368755/index.html">Space Run or four lectures in five days</a></li>
<li><a href="../368757/index.html">We open the cards: why the HEPA filter in the air cleaner does not need an efficiency of 99.95%</a></li>
<li><a href="../368761/index.html">Cloud or local server: What to choose to deploy Zimbra?</a></li>
<li><a href="../368765/index.html">Nairi: an outstanding machine of an outstanding developer</a></li>
<li><a href="../368769/index.html">Computer - the engine of commerce or "Children's World" on the platform of Intel</a></li>
<li><a href="../368771/index.html">All new buildings in San Francisco up to 10 floors high will be equipped with solar panels</a></li>
<li><a href="../368773/index.html">"Institute for Internet Development" offers tough measures to combat piracy in Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>