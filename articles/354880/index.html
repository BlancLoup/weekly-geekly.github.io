<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is it possible to consciously refuse functional programming?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Functional programming pervades much of the core world of programming ‚Äî the JavaScript ecosystem, Linq for C #, even high order functions in Java. Thi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is it possible to consciously refuse functional programming?</h1><div class="post__text post__text-html js-mediator-article">  Functional programming pervades much of the core world of programming ‚Äî the JavaScript ecosystem, Linq for C #, even high order functions in Java.  This is what Java looks like in 2018: <br><br><pre><code class="java hljs">getUserName(users, user -&gt; user.getUserName());</code> </pre> <br>  Functional programming is so useful and convenient that, as far as I can see, has penetrated into all modern common languages. <br><br>  But not everything is so rosy.  Many developers resist this <a href="https://medium.com/javascript-scene/the-two-pillars-of-javascript-pt-2-functional-programming-a63aa53a41a4">tectonic shift</a> in our approach to software.  Honestly, today it is difficult to find a job related to JavaScript, which does not require knowledge of the concepts of AF. <br><a name="habracut"></a><br>  Functional programming underlies both dominant frameworks: React (architecture and one-way data transfer was created to avoid common variable DOM) and Angular (RxJS is a library of utility operators that are widely used throughout the framework using higher-order functions).  Redux and ngrx / store are also functional. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Beginners may be frightened by the OP approach, and for the sake of quickly drawing into the work, someone from your team can suggest getting used to the code base by <b>refusing the OP</b> . <br><br>  For managers who are unfamiliar with the FI itself or its influence on the modern programming ecosystem, such a proposal may seem reasonable.  In the end, isn't the PLO faithfully serving us for 30 years?  Why not leave everything as it is? <br><br>  Let's deal with the wording itself.  What does ‚Äúban‚Äù of FP at <b>the policy level</b> mean in general <b>?</b> <br><br><h3>  What is functional programming? </h3><br>  My favorite definition: <br><br>  <b>Functional programming</b> is the paradigm of using <b>pure functions</b> as indivisible units of composition, with the avoidance of a <b>common changeable state and side effects.</b> <b><br></b> <br>  Net function: <br><br><ul><li>  Getting the same input data always returns the same result. </li><li>  It has no side effects. </li></ul><br>  That is, the <b>essence of the OP</b> is reduced to: <br><br><ul><li>  <b>Programming with features</b> </li><li>  <b>Avoiding common alterations and side effects</b> </li></ul><br>  Putting it all together, we get software development with building blocks in the form of pure functions (indivisible units of composition). <br><br>  By the way, <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D1%258D%25D0%25B9,_%25D0%2590%25D0%25BB%25D0%25B0%25D0%25BD_%25D0%259A%25D1%2591%25D1%2580%25D1%2582%25D0%25B8%25D1%2581">Alan Kay</a> (the founder of the modern OOP) believes that the essence of object-oriented programming is: <br><br><ul><li>  <b>Encapsulations</b> </li><li>  <b>Messaging</b> </li></ul><br>  So OOP is just another way to <b>avoid common alterations and side effects.</b> <br><br>  Obviously, the opposite of the OP is not OOP, but unstructured, procedural programming. <br><br>  The Smalltalk language (in which Alan Kay laid the foundations of OOP) is both <b>object-oriented and functional</b> , and the need to choose one thing is an alien and unacceptable idea. <br><br>  The same is true for javascript.  When <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25B9%25D1%2585,_%25D0%2591%25D1%2580%25D0%25B5%25D0%25BD%25D0%25B4%25D0%25B0%25D0%25BD">Brendan Eich was</a> hired to develop this language, his main idea was to create: <br><br><ul><li>  Browser Scheme (FP) </li><li>  A language that looks like Java (OOP) </li></ul><br>  In JavaScript, you can try to stick to one paradigm, but, for good or not, they are both inextricably linked.  JavaScript encapsulation depends on closures - a concept from the OP. <br><br>  Surely you are already using functional programming, perhaps without even knowing it. <br><br><h3>  How to NOT use OP </h3><br>  To avoid functional programming, you have to avoid using pure functions.  But then you will not be able to write such code, because it may turn out to be clean: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getName = obj =&gt; obj.name; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = getName({ uid: <span class="hljs-string"><span class="hljs-string">'123'</span></span>, name: <span class="hljs-string"><span class="hljs-string">'Banksy'</span></span> }); <span class="hljs-comment"><span class="hljs-comment">// Banksy</span></span></code> </pre><br>  Let's refactor the code so that it no longer refers to the OP.  You can make a class with a public property.  Since encapsulation is not used, it would be an exaggeration to call this the PLO.  Perhaps "procedural object programming"? <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ constructor ({name}) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } getName () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name; } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myUser = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User({ uid: <span class="hljs-string"><span class="hljs-string">'123'</span></span>, name: <span class="hljs-string"><span class="hljs-string">'Banksy'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = myUser.getName(); <span class="hljs-comment"><span class="hljs-comment">// Banksy</span></span></code> </pre><br>  Congratulations!  We have just turned 2 lines of code into 11, and also introduced the possibility of an uncontrolled external mutation.  And what did you get <b>in return</b> ? <br><br>  Well, actually, nothing.  In fact, we have lost in universality and opportunities for <b>significant code savings</b> . <br><br>  The previous getName () function worked with any incoming object.  The new function also works (because it is JS and we can delegate methods to any objects), but it turns out much more clumsy.  You can allow two classes to inherit from the normal parent class, but this implies an unnecessary relationship between the classes. <br><br>  Forget about reuse.  We just flushed it down the toilet.  This is how code duplication looks like: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Friend</span></span></span><span class="hljs-class"> </span></span>{ constructor ({name}) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } getName () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name; } }</code> </pre><br>  A diligent student from the back of the desk will exclaim, ‚ÄúWell, create a person class!‚Äù <br><br>  Then: <br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Country</span></span></span><span class="hljs-class"> </span></span>{ constructor ({name}) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } getName () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name; } }</code> </pre><br>  ‚ÄúBut these are different types.  <b>Of course</b> , you cannot apply the person class method to a country! ‚Äù. <br><br>  To this I answer: "Why not?" <br><br>  One of the incredible advantages of functional programming is the trivial simplicity of generalized programming.  We can call this ‚Äúgeneralization by default‚Äù: the ability to write one function that will work with <b>any</b> type that satisfies its <b>generalized requirements</b> . <br><br>  Note to Java programmers: this is not about static typing.  Some FP languages ‚Äã‚Äãhave excellent static type systems, but still enjoy the benefits of structured types and / or HKT (higher-kinded types). <br><br>  This is an obvious example, but the resulting code savings are <b>huge</b> . <br><br>  This allows libraries like <a href="https://github.com/ericelliott/autodux">autodux to</a> automatically generate domain logic for any object created from a getter / setter pair (and many others).  We can also reduce the amount of domain logic code by half, or even more. <br><br><h4>  No more higher order functions. </h4><br>  Since many (but not all) higher-order functions take advantage of pure functions to return the same values ‚Äã‚Äãwhen receiving the same input data, you cannot use functions like <code>.map(), .filter(), .reduce()</code> without causing side effects <code>.map(), .filter(), .reduce()</code> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arr = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> = n =&gt; n * <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doubledArr = arr.map(<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>);</code> </pre><br>  Becomes: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arr = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> = (n, i) =&gt; { console.log(<span class="hljs-string"><span class="hljs-string">'Random side-effect for no reason.'</span></span>); console.log(<span class="hljs-string"><span class="hljs-string">'Oh, I know, we could directly save the output to the database and tightly couple our domain logic to our I/O. That will be fine. Nobody else will need to multiply by 2, right?'</span></span>); saveToDB(i, n); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n * <span class="hljs-number"><span class="hljs-number">2</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doubledArr = arr.map(<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>);</code> </pre><br><h4>  Rest in peace, the composition of the function.  1958‚Äì2018 </h4><br>  Forget about <b>point-free-composition of higher order components</b> to encapsulate end-to-end functionality on pages.  This convenient, declarative syntax turns into a taboo: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrapEveryPage = compose( withRedux, withEnv, withLoader, withTheme, withLayout, withFeatures({ initialFeatures }) );</code> </pre><br>  You will have to manually import all this into each component, or even worse - to plunge into a tangled, inflexible hierarchy with class inheritance (which most conscious citizens, and even (especially?) The <a href="https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612//ref%3Das_li_ss_tl%3Fie%3DUTF8%26linkCode%3Dll1%26tag%3Deejs-20%26linkId%3D6bf38f374c00b60d798680a47193cd12">canon of object-oriented programming</a> rightly <a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-s-the-difference-between-class-prototypal-inheritance-e4cd0a7562e9">recognize as antipattern</a> ). <br><br><h4>  Goodbye promises and async / await </h4><br>  Promises are monads.  Technically, they belong to the theory of categories, but I heard that promises still belong to the OP, also because in Haskell they are used to ensure cleanliness and laziness (lazy). <br><br>  Honestly, it is not so bad to get rid of monads and functors.  They are much easier than we expose them!  I do not just teach people how to use <code>Array.prototype.map</code> and promises <b>before</b> talking about the general concepts of functors and monads. <br><br>  Do you know how to apply them?  So you are halfway to understanding functors and monads. <br><br><h3>  So, to avoid functional programming </h3><br><ul><li>  Do not use popular JavaScript frameworks and libraries (they all betray you for the sake of FP!) </li><li>  Do not write clean functions. </li><li>  Do not use many of the built-in features of JavaScript: most math functions (because they are pure), immutable methods of strings and arrays, <code>.map(), .filter(), .forEach()</code> , promises, or async / await </li><li>  Write unnecessary classes </li><li>  Double (or even further increase) domain logic by manually stuffing getters and setters literally for the whole row </li><li>  Take a ‚Äúreadable, explicit‚Äù imperative approach and confuse domain logic with rendering and network I / O tasks. </li></ul><br>  And say goodbye to: <br><br><ul><li>  Time travel debugging </li><li>  Simple development of features undo / redo </li><li>  Reliable, consistent unit tests </li><li>  Plugs and testing without D / I </li><li>  No-I / O Fast Unit Tests </li><li>  Small code bases, convenient for testing, debugging and maintenance </li></ul><br>  Avoid functional programming?  No problem. <br>  Or wait a minute ... </div><p>Source: <a href="https://habr.com/ru/post/354880/">https://habr.com/ru/post/354880/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354870/index.html">The experience of creating a mobile application: it did not work the first time</a></li>
<li><a href="../354872/index.html">Richard Hamming: Chapter 11. Coding Theory - II</a></li>
<li><a href="../354874/index.html">MIT course "Computer Systems Security". Lecture 1: Introduction: Threat Models, Part 1</a></li>
<li><a href="../354876/index.html">Swift for data scientist: quick dive in 2 hours</a></li>
<li><a href="../354878/index.html">Richard Hamming: Chapter 15. Digital Filters - 2</a></li>
<li><a href="../354882/index.html">LAppS application server for microservice architecture</a></li>
<li><a href="../354884/index.html">The city falls asleep, hackers wake up</a></li>
<li><a href="../354886/index.html">ReactiveValidation: data validation in WPF</a></li>
<li><a href="../354888/index.html">Practice implementing Cisco ISE. Engineer's look</a></li>
<li><a href="../354890/index.html">We optimize the web with Vitaly Friedman, - compression, images, fonts, HTTP / 2 features and Resource Hints</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>