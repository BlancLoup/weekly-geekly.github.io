<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About Legacy code without maximalism: what to do</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagine that you were given the task to fix a part of the code. Many thoughts will arise in your head. Who wrote it? When? Or maybe he - legacy? Where...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About Legacy code without maximalism: what to do</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/fcb/8e7/96d/fcb8e796da2c45da2ead4512fdb0185e.png"><br><br>  Imagine that you were given the task to fix a part of the code.  Many thoughts will arise in your head.  Who wrote it?  When?  Or maybe he - legacy?  Where is the documentation?  Let's try to deal with the "legacy" thoroughly and from all sides.  Andrey Solntsev <a href="https://habrahabr.ru/users/asolntsev/">@asolntsev</a> ( <a href="http://asolntsev.github.io/">http://asolntsev.github.io/</a> ), a developer from Tallinn-based Codeborne, will help us in this matter.  Let's start. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/252/a71/f8d/252a71f8da0a3df1ac93c938a5391fce.jpg" align="left" width="150">  <b>- Andrei, are you familiar with the writings of Michael Feathers, for example, ‚ÄúWorking Effectively with Legacy Code‚Äù?</b>  <b>The book focuses on the importance of testing and highlights one of the key differences between legacy and non-legacy code ‚Äî the presence of tests.</b>  <b>Do you agree with this opinion?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Absolutely agree!  I will say more: unit tests are a necessary but not sufficient condition.  And with unit tests you can pile in such a way that Heracles himself will not rake. <br>  What the real Jedi mast has to do is: <br><ol><li>  TDD - that is, <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B0%25D0%25B7%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BA%25D0%25B0_%25D1%2587%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B7_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">tests up to the code</a> . <br></li><li>  Clean code (and clean tests). <br></li></ol><br><br>  I love Robert C. Martin‚Äôs Clean Code.  This is a tabletop bible for me.  I strongly advise everyone.  By the way, his <a href="http://blog.cleancoder.com/uncle-bob/2016/07/27/TheChurn.html">blog</a> is great too. <br><br clear="left"><a name="habracut"></a><br>  <b>- With clean code is understandable.</b>  <b>And what have the TDD?</b>  <b>Code without bugs - this is not the same as good code?</b> <br><br>  Everyone thinks that TDD is about tests, which means it's boring. <br>  Nonsense! <br>  TDD - this is about development (test driven DEVELOPMENT).  This is a way to create code so that it is NOT legacy.  So that it can be maintained: debug, fix, refactor, refine.  At the moment it is the only way known to mankind.  Everything else - from the evil one, do not let yourself be deceived. <br><br>  <b>- There is an opinion that TDD is for weaklings, and for strong developers it‚Äôs enough just to think hard and think through the code in advance.</b>  <b>Then there will be no bugs.</b> <br><br>  TDD is not needed to find bugs. <br>  A test is the first use of your code.  Sherlock Holmes said: ‚ÄúFirst you collect the facts, and only then you build the theory.  Otherwise, you will subconsciously begin to juggle the facts under your theory. ‚Äù  You will not even notice how this happens!  It is the same with the code: when you write a test before the code, you have to think about how it is more convenient to use it, what to call a class, a method;  what parameters to pass.  And if you first write the code, then you begin to juggle tests for it.  As a result, the share of tests will be too complicated, the other is difficult to correct, and some will remain unwritten.  And here we have the legacy code in person! <br><br>  <b>- Continuing the conversation about testing - in your opinion, which tests are correct and in what situations, for example, unit tests?</b> <br><br>  Let's start with unit tests.  They are needed in every project, here without options. <br><br>  Of course, other types of tests are also important: integration tests, UI, performance tests.  This is already in different projects in different ways.  One thing is important: they should be an order of magnitude smaller than unit tests.  About the <a href="http://2015.codefest.ru/lecture/990">pyramid of testing</a> everything in the course, I hope. <br><br>  <b>- What should be the code coverage tests?</b>  <b>Is 70% Enough?</b>  <b>How not to overdo it with the "diagnosis" of the project?</b> <br><br>  Of course, you need to strive for maximum coverage.  All this talk about 30% or 70% coverage is from misunderstanding.  We must strive for 100% (although this is an unattainable limit). <br><br>  Everyone knows that 100% coverage is impossible, but not everyone correctly understands why.  It‚Äôs not at all because ‚Äúonly critical things have to be tested,‚Äù ‚Äúthere‚Äôs no need to test getters,‚Äù and ‚Äúwe have more important things to do.‚Äù <br><br>  Full coverage is not possible because in any system the code communicates with the outside world.  Drawing pixels on the screen, device management, and so on - for this code, unit tests are impossible, you need to check it with your own eyes.  Our professionalism is to keep this layer of ‚Äúcommunication with the outside world‚Äù as thin as possible, and to take all the logic out of it.  And it needs to be tested. <br><br>  Roughly speaking, if overdue loans need to be highlighted in red, then the ‚Äúwhat kind of overdue‚Äù logic should be put into a separate method with unit tests, and ‚Äúhighlighting‚Äù - separately.  Well there, css or whatever.  And TDD stimulates the separation of these layers, that's what's great.  This is his strength!  And tests are just a side effect. <br><br>  <b>- How much time do you need to devote to the creation of unit tests, and at what stage of the project do they play a key role?</b> <br><br>  Unit tests play a key role at all stages.  There is no stage where ‚Äúit's time to start writing unit tests‚Äù or ‚Äúyou can no longer write unit tests‚Äù. <br><br>  If you do everything right, you can never answer the question of how long it takes to write unit tests.  This is part of the development.  Nobody asks how long it takes to apply brick with mortar, and how much - laying.  These are all necessary steps and that's it.  You can not throw one of them, otherwise your wall will fall apart on the second day, and you will get a bunch of legacy bricks. <br><br>  <b>- How does the process of writing tests look like?</b> <br><br>  You write a red test for 10 minutes, make it green for 10 minutes, refactor 10 minutes.  No one, of course, measures this time for sure - sometimes it is 5: 30: 0, and sometimes 180: 5: 60.  Never mind.  It is important that you will be able to change the code at the same rate and in a month, and in a year with the same pace, at a predictable rate.  Constant speed in the long run is much more important than high instantaneous speed at the start. <br><br>  I advise this video where TDD is clearly and cheerfully shown: ‚ÄúThe <a href="https://www.youtube.com/watch%3Fv%3D8u6_hctdhqI%26feature%3Dyoutu.be%26a">boy was naked - the boy protested!</a>  "Do not be intimidated by the length, there is only unit tests for the first 30 minutes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/242/815/f1e/242815f1e4b468a386c52cc881cb57c4.png"><br><br>  <b>- Andrei, if TDD is so useful, why is it used so little?</b> <br><br>  It's simple.  TDD is a discipline.  It's like a sport: everyone knows that sport is useful, but lazy.  The most honest ones admit that they are lazy, the rest find excuses, and the most notorious begin to invent explanations why the sport, it turns out, is even harmful.  The same with TDD. <br><br>  The funny difference is that people lying on the couches do not call themselves athletes.  It's all fair.  And coders do not write tests and at the same time call themselves developers.  Incredible, right?  But it always ends the same way.  The athlete who misses training quickly loses the competition.  Similarly, the code written not through tests, instantly becomes legacy.  It's all fair. <br><br>  <i>TDD is a discipline.</i>  <i>It is not enough to know TDD, it should be used every day, at each code change.</i>  Even the most vehement fans of TDD are continually forgotten and find themselves in an unattractive position, writing publicly the code before the test.  Pair <a href="http://2015.jokerconf.com/talks/solncev_keks/">programming</a> helps a lot with this.  This is another practice that I strongly advise. <br><br>  <i>TDD is a theorem that needs to be proved every day.</i> <br><br>  <b>- We discussed issues related to test coverage.</b>  <b>It is important to address other legacy issues, such as compatibility.</b>  <b>There are projects where the code does not change for the sake of compatibility with even more ancient libraries.</b>  <b>If you draw analogies with the automotive industry, do not you think that attempts to use outdated components and assemblies in new designs are destructive, and the average code level in the project must meet the expectations of time?</b> <br><br>  I'll tell you one bike.  My brother worked in the chemical laboratory of the University of Tartu.  A delegation from Europe came to them.  Everything was shown to them: new premises, new equipment, everything.  And then they noticed the old Soviet unit somewhere in the corner.  The delegates made round eyes and asked, they say, why don't you throw it away?  To which the answer followed: ‚ÄúDo not believe it!  Because he ... WORKS! ‚Äù <br><br>  There is no single answer.  You can update all dependencies daily and treat it as necessary hygiene.  You can even ask Maven or Gradle to do this automatically.  And you can make a fork of the original library and sit for twenty years on the old version.  Perhaps it depends on dependencies.  If I strongly depend on Selenium, use new features, then I update it often.  If I don‚Äôt depend on new log4j features, I‚Äôm sitting on the ancient version.  Everything works. <br><br>  The older I get, the more I tend to the fact that you should not chase after updates.  The new Play framework was no better than Struts2.  Maven is no better (and even worse) than Ant.  TestNG is definitely worse than JUnit (and after all the ‚Äúnew generation‚Äù in the title!).  Hibernate3 was harder than Hibernate 2. Spring boot is harder than Spring MVC.  But 10 years have passed!  I am silent about new JavaScript libraries. <br><br>  <i>So not everything is new, that smeared with grease.</i> <br><br>  <b>- Have you encountered similar situations in your practice (in addition to the previous question)?</b>  <b>How did you get out of these situations?</b>  <b>What strategy do you follow, rewrite everything (the term greenfield is often used) or do refactoring?</b> <br><br>  Of course, met. <br>  Yes, it's just a matter of organization.  If you want to update some kind of dependency, which is backward incompatible, you just need to allocate time for this, agree with the team so that no one has anything urgent at that moment, and refactor.  Many will begin to cry: "We do not give time for it."  Well, I do not know, maybe not so need to be updated?  It would be critical - would give time. <br><br>  As for greenfield, I'm pretty skeptical. <br>  Of course, the bad soldier who does not want to rewrite everything from scratch. <br>  But in my entire life I have never seen a system rewritten from scratch and become better.  Usually it turns out the same or worse.  The rewriter starts with great excitement, then he faces one problem, on the other;  he understands that he no longer has time ... Leaves technical debt in one place, in another - and now you already have a legacy code in the new project, although half of it is not written. <br><br>  In order to rewrite something from scratch, you must have a very clear understanding of how and with what you can do better.  And why your predecessors did not succeed. <br><br>  <b>- Maybe there is a proven "hybrid" option?</b> <br><br>  There is a hybrid option.  You can rewrite from scratch any part of the system, the most <i>legacy</i> .  And leave the old version too, so that they work in parallel.  And transfer to a new version of all the pieces of the system gradually, one by one.  Yes, it requires patience and time, but this is the only way.  Reluctance?  Then don't start at all.  Haste is not the place. <br><br>  <b>- How do you distinguish a bad legacy code from the most ‚Äúoverclocked‚Äù?</b>  <b>Should I chase performance to the detriment of future support?</b> <br><br>  The overclocked code is a type of a dozen lines of abstruse operations with bytices in order to work faster?  I think that such a code is in real life from the category of tales.  Everyone thinks that only steep peppers do that, and they also want to learn.  In application programming, this is almost never needed. <br>  And if you still need it, then no one bothers to make this code "overclocked", and well readable, and tested.  Come on, you're a professional.  First write unit tests, and then overclock.  Didn't master unit tests?  There is nothing to disperse - the nose is not old enough. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f12/e82/058/f12e82058f9b6b5bb12c7608cf130a28.png"><br><br>  <b>- Do you think the legacy code can slow down the development of the entire system?</b> <br><br>  Of course it can!  And slow! <br>  Actually, this is the most important thing that usually slows down.  Every next change is made more difficult, the risk of breaking something more. <br><br>  <b>- Can you give advice on the need to get rid of the terrible and slow "monster" in the project, if you see it?</b>  <b>How did they react (if such situations occurred)?</b>  <b>Changes led to a positive effect (if such situations occurred)?</b> <br><br>  You've probably heard about the scout rule: leave the clearing a bit cleaner than it was before you.  That is, do not just change the desired line, but also a sensitive factor, add the missing test.  This way your project will be constantly improved. <br><br>  But here it is important not to go too far.  It is necessary to make a clearer clearing, and not to plow the entire forest without looking back.  I saw this (and did) many times: the next hot head decides to rewrite everything, goes away for a few hours / days in a hard refactoring, gets stuck, sinks and as a result does only worse.  At best, it rolls back its changes and gets off with a little waste of time. <br><br>  Repairing the legacy code is definitely an extremely useful exercise.  Excellent pumping skills of analytical thinking, refactoring and understanding of good code.  As an exercise - I advise. <br><br>  BUT. <br>  Repairing the legacy code is the same as hacking the hydra head.  Grow three new.  And yet it turns out that the first one was not completely cut off, and not only that you were bitten, so something sticky and green spilled out of it and soiled everything around.  And then the manager came and said: ‚ÄúWhat the hell did you touch, did it work?‚Äù <br><br>  Therefore, if you repair the legacy code, seriously hoping to improve something in the project - good luck, good health and good mood.  Something somewhere sawed, but by and large nothing will change.  This is the case when it is necessary to treat the symptom, and the disease.  Do not squeeze the pimple, and go to the street to run.  Understand what the problem really is.  Why do you have bad code in your team?  Are people in a hurry?  Do not understand the architecture?  Conflict with each other?  Do not know how to negotiate?  I met all this in real projects with smart adults.  And this should be treated, and not renamed variables. <br><br>  <b>- You are of the opinion that the beauty of the code is not yet an indicator of legacy status?</b> <br><br>  The "beauty" of the code is evil!  Never call code ‚Äúbeautiful,‚Äù even mentally.  The most sophisticated govnokod is obtained from the desire to "make beautiful."  The code can be readable, predictable, concise - but not beautiful!  ‚ÄúBeautiful code‚Äù is like a ‚Äúgood hero‚Äù in an essay on literature.  Make an effort to find a more accurate wording - and at the same time answer many other questions. <br><br>  <b>- Is it possible to assert that a violation of the standard code design agreement is legacy?</b> <br><br>  Standard conventions are useful, but do not overestimate them.  Any code convention becomes legacy even faster than the code itself.  Nobody ever reads them.  Did the swan, the crab and the pike have strings of a standard length - and did it help them much? <br><br>  And you should not waste your strength for them.  Set up once the IDE of all project participants so that it itself formats the code as it should, and no longer think about it. <br><br>  <b>- As part of the legacy, we discussed issues of testing, performance, dependencies in projects, beauty code, and touched upon the topic of development.</b>  <b>Your opinion about the legacy code and the reasons for its occurrence did not change over time?</b> <br><br>  Of course, changed.  At first, I, like everyone, thought that the bad code was written by Hindus and stupid colleagues.  Or "Junior".  But everything is not so simple. <br><br>  I do not like too simple explanations.  It‚Äôs too easy to blame it on those assholes.  And the legacy code arises from the most intelligent people, and in the best projects. <br><br>  <b>- And you have?</b> <br><br>  Oh yeah.  Oh yeah! <br>  So here I am broadcasting, so smart, about the legacy-code, and I myself have an open-source project <a href="http://ru.selenide.org/">Selenide</a> , which I haven‚Äôt blinked with legacy-code.  No, it works fine, users are happy, but it's harder for me to change it over time.  There are tickets that have been hanging for a couple of years, because it's really hard for me to make them.  Change in one place - breaks in another.  Yes, there are integration tests, thanks to which I am not afraid to break something.  But there is no help from them in the sense that changing the code fails. <br><br>  Once I understood: the key problem is that in this project I did not initially write unit tests.  It seemed, why tests if this library itself is intended for writing tests?  She and so will be tested along and across.  But it turned out - there it is, Mikhalych!  Unit tests are needed to avoid legacy code. <br><br>  Well, that's what I do: I sit down every six months or a year and rewrite some module to hell with the dog.  Since this is a hobby, I am from it.  But if it was work and was expressed in money - would it be worth rewriting?  Oh, I do not know ... <br><br>  <b>‚ÄîHow do you think, in what shades should a legacy code be perceived?</b>  <b>When is it justified?</b> <br><br>  I have a simple recipe.  Take a break from lambdas and brackets for a second and imagine yourself in the client's place.  This is a great cleansing brain. <br><br>  As a customer, you bring your car to a car-care center, ask to see what's knocking there. <br>  And the mechanic says to you: ‚ÄúI changed what was knocking, but you also have a leaky fuel pump, will we change it?‚Äù This is a good mechanic.  A bad mechanic would change the pump right away.  A good mechanic reported a problem and wrote down the options: you can replace it now - it will cost so much.  You can not change, then the winter is still reaching, but then all the hoses will fly - it will be three times more expensive.  And you yourself as a client decide.  One will say: Why go twice, change everything!  Another will say: ‚ÄúNow there is no money, but I still need winter tires.  Let's wait until spring. ‚Äù <br><br>  Do you know what the worst mechanic does?  Keep silent  Will only do what they asked. <br><br>  And how do we all behave with you, dear programmers? <br>  Those very hotheads who strive to immediately change everything - they are like who?  Right, like a bad mechanic.  And those "matured", they decide to leave everything as it is?  Alas, as the worst.  What does a good mechanic have to do with legacy code?  And how often do we do that?  Think about it. <br><br>  <b>- Andrei, TDD, unit tests - all this sounds good, but you understand that for 99% of our readers it is very heavy due to various reasons, often independent of them.</b>  <b>Can you finally give a simple recipe how to deal with legacy code?</b> <br><br>  You want a recipe, but when I give a recipe - proven, reliable, you say that you do not have time for it.  And keep complaining about legacy code.  What are you waiting for me, the red pill - drank, and you're already in the matrix?  There will be no pills. <br><br>  <i>People are like people.</i>  <i>They love to hurry, but it has always been ... Humanity loves simple recipes ... In general, they remind the old ones ... the microservice question only spoiled them ...</i> <br><br>  In general, the magic will not get rid of legacy-code.  But you stay there, good luck, good mood! <br><br>  <b>- Thank you so much for the frank and positive conversation.</b>  <b>Let's hope that readers will discover for themselves, albeit not simple, but still solutions in the battle with legacy.</b>  <b>One of the recent <a href="https://habrahabr.ru/company/pvs-studio/blog/306748/">articles</a></b> <b>is direct confirmation of the importance of testing.</b>  <b>Personally, you convinced me.</b> <br><br>  Thank you for the invitation. <br>  And I will take advantage of the situation and invite all readers to visit us in Tallinn.  We have a beautiful medieval city, good craft beer and great events for IT people, where anyone can come for free: <a href="http://devclub.eu/">devclub.eu</a> <br><br>  Thank you for your attention and patience! <br><br><hr><br>  <i>More interesting reports, technical, hardcore, you will find in the <a href="http://jokerconf.com/">program Joker 2016</a> .</i>  <i>If you are working with Legacy, you should pay attention to the following reports:</i> <i><br><br></i> <ul><li>  <i><a href="http://jokerconf.com/">Andres Almiray, Griffon: What's new and what's coming</a></i> </li><li>  <i><a href="http://jokerconf.com/">Baruch Sadogursky: Maven vs. Greydla - at the dawn of automation</a></i> </li><li>  <i><a href="http://jokerconf.com/">Dmitry Alexandrov: JBatch, or not the biggest data</a></i> </li></ul> <i><br>        ¬´    legacy enterprise   Java 8 ‚Äî ,   ¬´ ¬ª¬ª.</i> </div><p>Source: <a href="https://habr.com/ru/post/308528/">https://habr.com/ru/post/308528/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308514/index.html">How to find out what kind of flowers to give to a girl, if only her head moves and she cannot speak?</a></li>
<li><a href="../308516/index.html">1 second loading acceleration gave a 10% conversion increase: case Staples</a></li>
<li><a href="../308520/index.html">Checking MSBuild source code with PVS-Studio</a></li>
<li><a href="../308522/index.html">What Google is silent on and why you should use Apache HttpComponents in Android</a></li>
<li><a href="../308526/index.html">Math on the fingers: let's count at least one row of Fourier in the mind</a></li>
<li><a href="../308532/index.html">Selection of programming podcasts in Russian and English</a></li>
<li><a href="../308534/index.html">R and Spark</a></li>
<li><a href="../308536/index.html">Announcement of the conference Linux Piter 2016 - the second international Linux conference in Russia</a></li>
<li><a href="../308538/index.html">Crosswalk Project - replacement of Android WebView. Project development</a></li>
<li><a href="../308540/index.html">Serena releases version 11.1 of its BPM platform.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>