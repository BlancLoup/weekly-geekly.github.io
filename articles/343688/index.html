<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Implementation of the simplest investment strategy based on API MOEX (Moscow Exchange)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 In this hot time, cryptocurrency is worth remembering not only about high instant speculative income, but also about the fact that your...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Implementation of the simplest investment strategy based on API MOEX (Moscow Exchange)</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  In this hot time, cryptocurrency is worth remembering not only about high instant speculative income, but also about the fact that your money can work and earn your whole life.  Being a supporter of fundamental analysis when choosing investment objects, for several years I have preferred to keep money in securities.  I went through several stages of the formation of an investment portfolio suitable for my psychological stability, reviewed the composition of the portfolio several times, and gradually came to what I have now. <br><br><img src="https://habrastorage.org/webt/rn/jf/le/rnjfleoqrjkgfoubcpavliqr038.png"><br><a name="habracut"></a><br>  <b>The essence of the strategy:</b> with the help of a simple technical analysis in the form of tracking simple moving averages, you find the trend reversal point and sell or buy an asset.  I am in no way agitating for you to immediately rush and start trading on the exchange, because it works 100%.  This only works (!) In combination with an understanding of the fundamental processes taking place in the company. <br><br><h3>  Two options for applying the strategy </h3><br>  <b><i>First option</i></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will not go into the most interesting jungles of the theory of the formation of the right investment portfolio, I will tell only about such a thing as rebalancing.  <b>Rebalancing</b> is the periodic equalization of the proportions of assets in a portfolio through the sale of risen prices and the purchase of depreciating assets.  There is some debate about the effectiveness of this action, but I hold the position that this is a good practice.  The question remains - how to spend and at what time. <br><br><img src="https://habrastorage.org/webt/nm/ub/ch/nmubchb6f5wv1wx6uzxmzfb9lsm.jpeg"><br><br>  Some people think that it is necessary to rebalance in a certain month and the entire portfolio, others believe that it is necessary to catch convenient moments (unfortunately this is not always possible).  Therefore, I try to combine these two approaches in the implementation of rebalancing. <br><br>  <b><i>Second option</i></b> <br><br>  Also, every investor has a depressed speculator, and this speculative streak periodically wakes up in each of us.  Of course, it is best if she wakes up at a quiet time, and not during the correction, when the brain stubbornly convinces ‚ÄúSell-sell-sell‚Äù.  To feed our domestic speculator, we can use the simplest strategy that so many traders use and at the same time it is fairly simple and reliable.  The strategy of <b>"following the trend"</b> ( <a href="http://stocktrainer.ru/skolzyashhie-srednie-ma/">description</a> ).  Maybe you have met these terms earlier, for example, on the forex market or on other near market resources, but in terms of a combination of speculation + investing there is a significant difference that makes you look at this strategy from the other side. <br><br>  I will cite as an example a couple of companies that I follow and consider them quite good in a fundamental sense (good business, reporting, the presence of dividends): <br><br>  <b>Example 1:</b> Enel <br><br><img src="https://habrastorage.org/webt/y2/_t/po/y2_tpotlm8bbmpjn-fg6i8ra9gi.jpeg"><br><br>  <b>Example 2:</b> Aeroflot <br><br><img src="https://habrastorage.org/webt/ca/55/ke/ca55kerwix1ttxdyccydhmkzd_8.jpeg"><br><br>  The red circles mark the intersection points of two moving averages with different periods, which is a signal that the trend is strong enough and you can make a decision on the action (buying / selling), in accordance with the fundamental situation.  For example, an aeroflot could be sold for a quarter, precisely because of its last quarterly report.  Many speculators have enough of this factor to start selling.  For a long-term investor, this is a signal that the average purchase price can be well averaged (to buy additional paper at a lower price) or to rebalance. <br><br><h3>  Technical part </h3><br>  Since I don‚Äôt like to sit down at the terminal, and my broker does not provide trend tracking functions, I decided to study the available description of <a href="http://www.moex.com/a2193">the Moscow Exchange API</a> , <a href="http://iss.moex.com/iss/reference/">the query guide</a> and write a script that will inform me about the trend change for the tools I‚Äôm interested in (read all securities of which the portfolio consists ") by mail. <br><br>  To begin with, a small class was written: <br><br><div class="spoiler">  <b class="spoiler_title">Class code</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">emitent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $name; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $cost; <span class="hljs-comment"><span class="hljs-comment">//  public $trand; //  public $closeCost; //  public $average50; //   50  public $average15; //   15  public function getPrice($emitent,$format){ $uri = 'https://iss.moex.com/iss/engines/stock/markets/shares/securities/'.$emitent.$format; $result = file_get_contents($uri); $resultObject = json_decode($result,true); /* @var $resultObject type */ $this-&gt;cost = $resultObject['marketdata']['data'][2][12]; return $this-&gt;cost; } public function getAverage50($emitent,$format){ $historyPrice = []; $historydata = []; $date1 = date("ymd",strtotime("-1 days")); $date2 = date("ymd",strtotime("-100 days")); $uri = 'https://iss.moex.com/iss/history/engines/stock/markets/shares/boards/TQBR/securities/'.$emitent.$format.'?from='.$date2.'&amp;till='.$date1; $result = file_get_contents($uri); $resultObject = json_decode($result,true); $historydata = $resultObject['history']['data']; $historydata_reverse = array_reverse($historydata); for ($i=0;$i&lt;50;$i++){ array_push($historyPrice,$historydata_reverse[$i][11]); } $average50 = array_sum($historyPrice)/count($historyPrice); return $average50; } public function getAverage15($emitent,$format){ $historyPrice = []; $historydata = []; $date1 = date("ymd",strtotime("-1 days")); $date2 = date("ymd",strtotime("-50 days")); $uri = 'https://iss.moex.com/iss/history/engines/stock/markets/shares/boards/TQBR/securities/'.$emitent.$format.'?from='.$date2.'&amp;till='.$date1; $result = file_get_contents($uri); $resultObject = json_decode($result,true); $historydata = $resultObject['history']['data']; $historydata_reverse = array_reverse($historydata); for ($i=0;$i&lt;15;$i++){ array_push($historyPrice,$historydata_reverse[$i][11]); } $average15 = array_sum($historyPrice)/count($historyPrice); return $average15; } }</span></span></code> </pre> <br></div></div><br>  From the subtle points that I took from the directory: <br><br><pre> <code class="hljs ruby"><span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/iss.moex.com/iss</span></span><span class="hljs-regexp"><span class="hljs-regexp">/history/engines</span></span><span class="hljs-regexp"><span class="hljs-regexp">/stock/markets</span></span><span class="hljs-regexp"><span class="hljs-regexp">/shares/boards</span></span><span class="hljs-regexp"><span class="hljs-regexp">/TQBR/securities</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code> </pre> <br>  <b>History</b> - request prices from the desired period of time <br>  <b>Stock</b> - trading system (engines) "Stock market and deposit market" <br>  <b>Shares</b> - specific market (markets) "Stock Market" <br>  <b>TQBR</b> - specific trading mode (boards) "T + Promotions and DR" <br><br>  Server response is either json or xml.  You get an array of data.  The data in the array may vary depending on the request you are sending.  The descriptions of the array fields are stored in the same data in the ‚ÄúCOLUMNS‚Äù block.  Values ‚Äã‚Äã- in the "DATA" block. <br><br>  A full description of all the fields relating, for example, to the stock market, can be viewed on <a href="http://www.micex.ru/iss/engines/stock/markets/shares">this page</a> . (By the way, I found this description only when preparing the article). <br><blockquote>  <b><u>Comment.</u></b>  If you take a period of more than 100 days, then you need to make several requests there by moving the array pointer.  The situation is described on the last page of the Moex API manual. </blockquote><br>  After that, the script itself was written ( <i><u>for the quality of the code with sticks, please do not beat</u></i> ): <br><br><div class="spoiler">  <b class="spoiler_title">Script code</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> ($_SERVER[<span class="hljs-string"><span class="hljs-string">"DOCUMENT_ROOT"</span></span>].<span class="hljs-string"><span class="hljs-string">'/classes.php'</span></span>); $file = <span class="hljs-string"><span class="hljs-string">'portfolio.json'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     $portfolio = json_decode(file_get_contents($file), true); foreach ($portfolio as &amp;$emitent) { $sending_mail = false; $emitentMoex = new emitent(); $emitentMoex-&gt;name = $emitent[0]; $emitentMoex-&gt;trand = $emitent[1]; $format = '.json'; $price = $emitentMoex -&gt;getPrice($emitentMoex-&gt;name, $format); $history15 = $emitentMoex -&gt;getAverage15($emitentMoex-&gt;name, $format); $history50 = $emitentMoex -&gt;getAverage50($emitentMoex-&gt;name, $format); if ($history15&lt;$history50){ $trend_course = " "; $trand_course_bool = false; } else { $trend_course = " "; $trand_course_bool = true; } if ($trand_course_bool != $emitentMoex-&gt;trand){ $sending_mail = true; $trend_course .='.  '; (boolean)$emitent[1] = $trand_course_bool; } if ($sending_mail){ $date = date("ymd"); $headers = "Content-type: text/html; charset=UTF-8 \r\n"; $headers .= "From: Change trands alert &lt;yourmail@box.com&gt;\r\n"; $message = ": ".$emitentMoex-&gt;name."&lt;br&gt;"." : ".$price. "&lt;br&gt;"."  15: ".$history15."&lt;br&gt;"."  50: ".$history50."&lt;br&gt;".$trend_course; mail("yourmail@box.com", 'test'.$date , $message,$headers); } } file_put_contents($file, json_encode($portfolio,true)); </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br></div></div><br>  It receives from the json array, in the same folder, a list of tickers and a trend direction label.  Requests prices for the specified time intervals and calculates the values ‚Äã‚Äãof simple moving averages by the formula: <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><mi>m</mi><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi><msubsup><mi>s</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>P</mi><mi>i</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.622ex" height="2.78ex" viewBox="0 -780.1 10170.5 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-75" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-6D" x="1292" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-6C" x="2420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-69" x="2719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-6D" x="3064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-69" x="3943" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-74" x="4288" y="0"></use><g transform="translate(4650,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-6E" x="663" y="499"></use><g transform="translate(469,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(6368,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-69" x="908" y="-213"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/343688/&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_lHrkhq7xa32j2Tglz1fW9WHBhw#MJMATHI-6E" x="9570" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><mi>m</mi><mtext>&nbsp;</mtext><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi><msubsup><mi>s</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>P</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ frac {\ sum \ limits_ {i = 1} ^ n P_i} {n} </script></p><br>  Where P is the closing price, and n is the number of time intervals for which price values ‚Äã‚Äãare taken. <br><br><div class="spoiler">  <b class="spoiler_title">array example</b> <div class="spoiler_text"><pre> <code class="hljs json">[ [<span class="hljs-string"><span class="hljs-string">"GAZP"</span></span>,<span class="hljs-literal"><span class="hljs-literal">true</span></span>], [<span class="hljs-string"><span class="hljs-string">"MTSS"</span></span>,<span class="hljs-literal"><span class="hljs-literal">true</span></span>], [<span class="hljs-string"><span class="hljs-string">"FEES"</span></span>,<span class="hljs-literal"><span class="hljs-literal">false</span></span>], [<span class="hljs-string"><span class="hljs-string">"ENRU"</span></span>,<span class="hljs-literal"><span class="hljs-literal">true</span></span>], [<span class="hljs-string"><span class="hljs-string">"IRAO"</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], . . . [<span class="hljs-string"><span class="hljs-string">"AFLT"</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-string"><span class="hljs-string">"LKOH"</span></span>,<span class="hljs-literal"><span class="hljs-literal">true</span></span>], [<span class="hljs-string"><span class="hljs-string">"GMKN"</span></span>,<span class="hljs-literal"><span class="hljs-literal">true</span></span>] ]</code> </pre> <br></div></div><br>  Next, it determines the current direction depending on whether the value is smaller or smaller than the average (15-day) than the large value (50-day).  It compares the current direction with the saved one and sends a notification to the mailbox when the value changes. <br>  Then I open the news by ticker and analyze the situation. <br><br><h3>  Total </h3><br>  The exchange provides access to information for free, with a delay of 20 minutes.  For intra-day speculation, the data is not suitable, but to write any tools that will help make decisions in the medium term is very good.  On the move, for example, an indicator of reaching the target price.  Many brokers and consultants post recommendations on target prices in open access and you can easily write a script that will track the price.  In yahoo.finance, for example, this tool first broke, and then it was completely removed.  Also, public overseas services crookedly receive information about the prices of our issuers. <br><br>  I hope this information will help you in the future more convenient to control your portfolio, as it helped me. <br><br>  Useful links for long-term investors: <br><br>  <a href="http://roundabout.ru/">Around Yes to</a> <br>  <a href="https://fintraining.livejournal.com/">Investor notes</a> <br>  <a href="http://www.myrichway.ru/">Way to Wealth</a> <br><br>  PS I want to note that trend monitoring refers to the technical analysis of stocks.  Many fundamental investors have a negative attitude towards TA, considering it to be fortune-telling, prediction, etc.  But my point of view is that TA is more likely an assistant investor in decision making, only confirming any hypothesis.  But in any case, not a tool for peremptory approval.  As they like to repeat in the environment of non-professional financial consultants, everything written above is not a guide to action and a recommendation for making deals. </div><p>Source: <a href="https://habr.com/ru/post/343688/">https://habr.com/ru/post/343688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343676/index.html">Write your insurance agent: Ingosstrakh organizes hackathon</a></li>
<li><a href="../343678/index.html">Is it true that the future of CPaaS is for ‚ÄúServerless‚Äù technologies?</a></li>
<li><a href="../343680/index.html">Secrets of React and Redux in the development of web applications</a></li>
<li><a href="../343682/index.html">Administering Juniper Switches with Ansible</a></li>
<li><a href="../343684/index.html">Regression tests for memory leaks, or how to write a memory profiler for .NET applications</a></li>
<li><a href="../343690/index.html">How to get on the road to OS development</a></li>
<li><a href="../343692/index.html">Open the CrackMe winter contest: break-rover</a></li>
<li><a href="../343694/index.html">Arduino and segment LCD indicator</a></li>
<li><a href="../343696/index.html">Latent parasites</a></li>
<li><a href="../343700/index.html">Flying snowflakes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>