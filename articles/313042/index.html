<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configure the LoRaWAN gateway and create our first IoT application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article ‚Äú Multi-Tech Base Stations Allowed to Deploy a LoRaWAN Network in a Couple of Clicks ‚Äù talked about how easy it is to create an IoT networ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configure the LoRaWAN gateway and create our first IoT application</h1><div class="post__text post__text-html js-mediator-article">  The article ‚Äú <a href="https://habrahabr.ru/company/efo/blog/312424/">Multi-Tech Base Stations Allowed to Deploy a LoRaWAN Network in a Couple of Clicks</a> ‚Äù talked about how easy it is to create an IoT network using Multi-Tech equipment.  Now it's time to launch our first application. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/357/fe8/869/357fe88695db43c5ba07ecafe8174c2e.jpg"></div><br><a name="habracut"></a><br>  So, we will need: <br><br><ul><li>  <a href="http://wless.ru/technology/%3Faction%3Ddetails%26id%3D676%26pf%3Dtech%26pf_id%3D9%26prod%3D12%26tech%3D9%26type%3D156"><b>Conduit Gateway</b> (AEP)</a> with <b>mCard</b> module <b>installed (MTAC-LORA-868)</b> </li><li>  868 MHz antenna </li><li>  computer (pc) </li></ul><br>  We will connect the PC via Ethernet to the gateway and use it to configure / configure the latter. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>The Conduit gateway</b> is essentially the same base station, but for indoor use (indoor version): <br><br><img src="https://habrastorage.org/files/2a8/3ea/18d/2a83ea18da1f41c3b148f94ec152856c.png"><br><br>  To begin, we will need to configure <b>LoRaWAN Network Server</b> , and then create our application in a <b>Node-Red</b> graphical environment.  The application will receive messages from LoRaWAN terminals and send them back (echo mode), simultaneously displaying received messages in the Node-Red interface. <br><br>  So let's get started. <br><br>  The default gateway is fixed <b>IP 192.168.2.1, login is admin, password is admin</b> .  After successfully entering the password, immediately go to the menu item <b>Setup -&gt; LoRa Network Server</b> and see the following image: <br><br><img src="https://habrastorage.org/files/581/9e2/f9d/5819e2f9d84642a493676f01c8c9b2b4.jpg"><br><br>  Let's see what is responsible for what: <br><br><ol><li>  To enable the server, check <b>Enabled</b> . <br><br></li><li>  The gateway has 3 fixed 125 kHz channels configured (center frequencies 868.1, 868.3 and 868.5 MHz), and five additional 125 kHz channels can be configured with a center frequency of 200 kHz.  These additional channels are configured by setting the center frequency of the additional band in the <b>Additional Channels</b> field.  For example, if in the <b>Additional Channels</b> field we set the value to 869.3, then we receive additional channels with the following center frequencies: 868.9;  869.1;  869.3;  869.5;  869.7 MHz. <br>  The ranges of acceptable values ‚Äã‚Äãin the <b>Additional Channels</b> field are 863.5-867.5 and 869.1-869.5 (MHz). <br><br></li><li>  The <b>Mode</b> field can take two values: <b>NETWORK SERVER</b> and <b>PACKET FORWARDER</b> .  If we plan to use the LoRaWAN Network Server on the gateway itself, then we leave the value of NETWORK SERVER, and if, say, in the cloud, then PACKET FORWARDER.  In our case, leave the <b>NETWORK SERVER</b> . <br><br></li><li>  <b>Public</b> tick refers to the type of network - <b>Public</b> or <b>Private</b> .  If the <b>Private</b> type is used (the daw is not installed), then the terminal devices are connected to the <b>LoRaWAN</b> network <b>faster</b> (1-2 sec.), And you can also disable encryption of the payload if you wish. <br><br></li><li>  The most important are the <b>Network ID</b> and <b>Network Key</b> fields.  In fact, they correspond to the <b>AppEUI</b> and <b>AppKey</b> values ‚Äã‚Äãof the <b>LoRaWAN</b> specification, but since the use of sufficiently long (8 and 16 bytes, respectively) hexadecimal values ‚Äã‚Äãis not always convenient, Multi-Tech decided to give users the right to choose.  In gateways / BS, Conduit <b>AppEUI</b> and <b>AppKey</b> can be set in two ways: <br><br>  a) <b>human</b> - <b>loving</b> - in the <b>Network ID</b> field, select <b>Name</b> and write the human-readable network name below (the gateway will translate our name to <b>AppEUI</b> ); <br>  b) <b>according to the LoRaWAN specification</b> - in the <b>Network ID</b> field, select <b>EUI</b> and write the hexadecimal value <b>AppEUI</b> . <br><br>  The values ‚Äã‚Äãof the <b>AppEUI</b> and <b>AppKey</b> in the gateway / BS must match the values ‚Äã‚Äãprogrammed in the LoRaWAN terminals. <br><br></li><li>  Other settings leave unattended </li></ol><br>  After configuring the LoRaWAN server, you need to remember to click <b>Save and Restart</b> to apply the changes. <br><br>  This is such an easy setup.  Everything, now you can log in again and go to the menu item <b>Apps -&gt; Node-Red</b> to create a demo application. <br><br>  After re-entering the username / password admin / admin (this is to access the Node-Red), we get to the <b>Node-Red</b> : <br><br><img src="https://habrastorage.org/files/7e7/9cc/0af/7e79cc0af2014d419dd473086f2c0e31.jpg"><br><br>  In the left part are the nodes that we can drag to the main field and connect with each other with the mouse.  For our example, we take the <b>lora</b> node from the <b>Input</b> <b>section</b> , and the <b>debug</b> and <b>lora</b> nodes from the <b>Output</b> section, and connect them as shown in the picture: <br><br><img src="https://habrastorage.org/files/c9f/7c7/080/c9f7c7080d984569a3f66deae043bbac.jpg"><br><br>  Click the <b>Deploy</b> button in the upper right corner of the Node-Red window - that's all, the application is ready! <br><br><img src="https://habrastorage.org/files/be7/6f4/6ef/be76f46ef24d425bbba5df45d7691e4f.jpg"><br><br>  Now you can see what happens when sending messages from a LoRaWAN device to the Conduit gateway.  After successfully receiving a message from the device, we should receive a response message to the same device, and we can also see this message (Hello_Habroworld!) In the debug tab on the right side of the Node-Red window (thanks to the connected debug node): <br><br><img src="https://habrastorage.org/files/c68/d41/02e/c68d4102ef574ab8ac3777083c099498.jpg"><br><br>  In our demo example, the received messages are echoed back, in the actual configuration, they can be sent without additional efforts to certain TCP / UDP ports of the remote server, sent as MQTT, SMS, e-mail, saved to a file, shared on Twitter, processed on the gateway / BS, etc. <br><br>  Of course, in the same way you can transfer data in the opposite direction. <br>  In this way, you can create IoT applications very quickly and show them to your favorite customers. </div><p>Source: <a href="https://habr.com/ru/post/313042/">https://habr.com/ru/post/313042/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../313030/index.html">Easy tor integration into the android application using the example of a rutracker client</a></li>
<li><a href="../313034/index.html">Developing and testing chef dolls with the Sparrowdo tool</a></li>
<li><a href="../313036/index.html">Why "1984" will not come</a></li>
<li><a href="../313038/index.html">Writing a simple React application using the cellx library</a></li>
<li><a href="../313040/index.html">A person. As the creator of JavaScript, Brendan Ike came to the creation of his company</a></li>
<li><a href="../313044/index.html">How will virtual offices affect our lives?</a></li>
<li><a href="../313048/index.html">Personal experience of receiving the Blue Card in Germany 2015-2016. Part 1: Job Search</a></li>
<li><a href="../313052/index.html">Dissect OpenVPN. Part 1. Static keys</a></li>
<li><a href="../313054/index.html">RailsClub 2016: podcasts with Ivan Nemytchenko and Ilya Zykin</a></li>
<li><a href="../313056/index.html">Translation of excerpts from Robert Heinlein‚Äôs book, Take Your Government Back - part 17</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>