<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We develop horizons and immerse ourselves in robotics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Electronics is very interesting. A very pleasant feeling when you open an electronic device, you see something familiar: ‚ÄúHere is a diode, but a trans...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We develop horizons and immerse ourselves in robotics</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/1f2/ba9/19b/1f2ba919b28a731daf3e280c522d850d.jpg" alt="image"><br><br>  Electronics is very interesting.  A very pleasant feeling when you open an electronic device, you see something familiar: ‚ÄúHere is a diode, but a transistor!‚Äù, When instead of carrying the motherboard for repair, you can change the capacitor on it in a couple of minutes .  However, many people are afraid of it, presenting huge wiring diagrams with strange squiggles and incomprehensible assembly code.  I want to show everyone that it‚Äôs easy to start engaging in electronics, and in particular robotics!  A simple robot can be made in just a couple of hours. <br><a name="habracut"></a><br><h4>  Few words </h4><br>  In these articles, I will step by step make the robot, starting with the simplest, and gradually complicating, and describe the various nuances, the solution of problems that will meet me on the way. <br>  First of all, these articles are written for newbies to help them get their first experience in this field in a positively pleasant way, so that everything will work out for them and they will not fall into despair. <br>  Those who understand, I will ask not to criticize strongly about some moments where something can be done better and more rationally, but to give advice. <br>  Enjoy your reading. <br><br><h4>  From the lyrics to the case </h4><br>  The first goal is to build a base for the robot and make it ride. <br>  We will need: <br>  ‚Ä¢ Microcontroller (further mk) <br>  ‚Ä¢ one-side glass fiber laminate <br>  ‚Ä¢ 2 electric motors <br>  ‚Ä¢ Anything as wheels <br>  ‚Ä¢ Programmer for firmware mk <br>  ‚Ä¢ Optionally, for convenience, a connector for connecting the programmer to the board 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I began to learn Atmel's AVR controllers, because they are fairly common and simple, and I will use them.  In this case, my choice was ATMega16A. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/250/4b7/f05/2504b7f0520e14f3a2741055cdafdb4a.jpg" alt="Photo Atmegi 16 and Atmega 8"><br>  (In the photo ATMega16A and ATMega8A) <br><br>  It has 40 legs and 16 kb of memory.  This is more than enough for my experiments and the voracious C code. Yes, I will program in C, since it is still simpler, but I honestly learned the very basics of the assembler, which I advise others to do: it will help immensely in the future.  You can use other microns, for example, atmega8. <br>  I took the motors designed for a voltage of 2-8V with a current of 120mA. <br><br><h5>  Step 1. Base </h5><br>  We need to make the main board.  We will etch the PCB.  How to do this has been described many times. <br>  First of all, I need to separate the tracks under the programmer.  I have already prepared in advance the programmer of the construction of Gromov, who works via the com-port. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c96/aa3/a2f/c96aa3a2fa9054129e1c5b108299618c.jpg" alt="photo programmer Gromov"><br><br>  By the way, right away he did not earn from me.  The reason was in non-compliance with the polarity of the diodes, pay attention to it. <br>  Look at the location of the I / O ports: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7cb/387/d97/7cb387d97ebf0355056ce5792774edd8.jpg" alt="i / o atmega16 ports"><br><br>  We need to tie the legs like this (in the order of the programmer connector): <br><ul><li>  7 -&gt; MISO </li><li>  8 -&gt; SCK </li><li>  11, 31 -&gt; GND (0V) </li><li>  9 -&gt; RESET </li><li>  6 -&gt; MOSI </li><li>  10, 30 -&gt; VCC (+ 5V) </li></ul><br>  I do not have a laser printer, so I will use a regular black marker.  Its disadvantage is that it is partially washed off and because of this it is impossible to make thin tracks.  And, of course, everything is drawn by hand.  We draw: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/47a/44d/6a8/47a44d6a8132d037c000553f879e7867.jpg" alt="PCB marker with marker"><br><br>  Wiring is not perfect, we will need jumpers, but oh well.  I also brought contacts from all the legs of the micron, so that in the future it would be more convenient to solder to them, and made tracks on the board, maybe useful, not to waste the valuable metal of the PCB. <br><br>  I persecute in a solution of copper sulfate and salt.  Pros in availability, price, much less toxicity.  Potential minus in the speed of the process. <br>  I spread the mixture and put the board there.  It is desirable to move it, so the process will be faster.  You can put there a spray aquarium compressor. <br><br>  This time the persecution lasted a very long time, for two or three hours.  Because the concentration in the solution was weak: it has been with me for several weeks and slowly precipitates.  The board turned out to be very unsuccessful, a large percentage of the tracks were washed away and missed. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/714/d98/a92/714d98a921a1ba01b79ae36eb30352d6.jpg" alt="fail"><br><br>  Hence attempt number two. <br>  We draw again, a little differently, several times carefully drawing tracks with a marker.  But most importantly (!), We degrease the board before it, which I forgot to do in the first attempt. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/57f/797/08d/57f79708dd107d42c58ecc2d90e7293b.jpg" alt="new"><br><br>  But the subtlety: how to poison very quickly.  We place the board in an airtight container with a solution (it is not necessary that it covers all of it).  We are closing.  And we begin to actively shake this container with our hands.  As a result, my board got corrupted in just 3 minutes of such actions.  And here is the result: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e6b/d3a/f97/e6bd3af9715212822f5835b662130825.jpg" alt="etched board"><br><br>  This time it came out very high quality. <br>  After tinning, solder the jumpers using electrical tape to overlap the tracks. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1f5/f36/756/1f5f36756f9b272cdd54a41ad6e79484.jpg" alt="photo of tin tracks"><br><br>  Solder the chip and the connector under the programmer.  Done: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/6b7/ed4/a41/6b7ed4a41b7ec5c7bd7227712c1ab100.jpg" alt="photo of the finished board"><br><br><h5>  Step 2. Movement </h5><br>  We organize the moving part.  The system will be on three wheels, two of which are driven by engines.  I decide to simply glue them to the PCB. <br>  We mark, degrease the board with a cotton swab and alcohol-containing liquid. <br>  We glue the engines, leave them dry. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f8e/ad4/814/f8ead4814b5d53d2a0e3b2b1ba7ff98c.jpg" alt="image"><br><br>  We come up with a third wheel.  I found an old children's mechanical constructor, which is ideal and assembled this design: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/9c9/506/8b5/9c95068b528ef7a646a3bdf05f69f016.jpg" alt="image"><br><br>  Just put it on the glue and leave to dry. <br><br>  Next we need the wheels themselves.  I decided to take them from the same set.  However, the holes in them are much larger than the diameter of the shafts of the engines.  Therefore, the creative with wire and elastic was used: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/0fd/dcb/55e/0fddcb55e15bb93826b1b8e57aa56220.jpg" alt="photo solution with a wheel"><br><br>  Solder the contacts of the engines with wires to the feet on the microns.  Let it be PB3 and PB4, for the left and PA3, PA4 for the right. <br>  The first version of the robot is ready: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/6a1/f9f/4b7/6a1f9f4b79b6556fcbd49376dc933a48.jpg" alt="photo of the first version of the robot"><br><br><h5>  Step 3. Program and firmware. </h5><br>  I wrote a straightforward C program that just starts the engines. <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;avr/io.h&gt; //      - int main(void) { //    DDRB |= (1&lt;&lt;2); //  PB2 DDRB |= (1&lt;&lt;3); // PB3 DDRA |= (1&lt;&lt;2); // PA2 DDRA |= (1&lt;&lt;3); // PA3 //    //  PORTB |= (1&lt;&lt;2); PORTA |= (1&lt;&lt;3); //  PORTB &amp;= ~(1&lt;&lt;3); PORTA &amp;= ~(1&lt;&lt;2); return 0; }</span></span></span></span></code> </pre> <br><br>  I'm flashing with uniprof. <br>  We connect microns, we supply power (I took 5v from the computer power supply). <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/x_81bdb677.jpg" alt="photo of the robot with a connected programmer"><br><br>  Mk responded immediately. <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/y_391f0081.jpg" alt="uniprof screenshot"><br><br>  Take the firmware HEX-file and sew.  Initially, one bit did not want to flash, but the ‚Äúbrake‚Äù button decided everything. <br>  Is done.  Turn off the programmer, reset the reset with a finger and ... nothing. <br><br><h5>  Step 4. Cruel Reality </h5><br>  Here is the first sudden problem: <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/x_71d2e999.jpg" alt="problem with leg stresses"><br><br>  Why so?  After all, we have a high level of 5V, and a low 0. We begin to study the materiel and forums. <br>  And here we learn that the micron can only deliver a current of 40-50 mA maximum, which is not enough for our engines of 120 mA.  Accordingly, we can apply, for example, transistors. <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/x_7556bf7f.jpg" alt="photo transistors kt315"><br><br>  But it is even easier (we are newbies, yes) to get a ready-made engine driver (hereinafter referred to as dd). <br>  I bought the popular l293d. <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/x_9e53787a.jpg" alt="l293d pictures"><br><br>  You need to connect the motors to the Output legs, and in the Input legs there are microns, which will control the corresponding Output outputs (by number).  Enable1 and Enable2 must be powered up plus. <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/x_1569be44.jpg" alt="port diagram i / o l293d"><br><br>  We poison, puddle, solder dd: <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/x_24845ff3.jpg" alt="photo of soldered l293d"><br><br>  Sticking board on our robot. <br>  We unsolder the wiring from micron to the engines and solder them to the corresponding contacts of our driver. <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/x_05b9d646.jpg" alt="image"><br><br>  And that's it! <br><br>  We connect to the programmer and it should work.  If not, check the soldering sites for defects and unnecessary contacts.  (It didn‚Äôt work right away. When I connected the power, the system began to warm up terribly. I thought that the problem with the heat sink from l293d even soldered a couple of solder wires to it, which did not help. Studying the forums, I soldered 2 capacitors (one electrolyte per 100 microfarad and one Ceramic at 0.1 microfarad) parallel to the power supply, did not help either. As a result, it turned out that I just confused the plus and minus on the power connector from the bp). <br><br>  Earned?  Fine.  We take our program, flash, reset resets, and hurray!  Engines work stably! <br>  The old wheels fell off, so I cut new ones out of wood, and since  They came out not quite round, slightly smoothed their wonderful tape. <br>  Total: <br><br><img src="http://pp.vk.me/c5557/u91527282/142810521/y_74624541.jpg" alt="image"><br><br>  Now a solemn moment! <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/iwTpKY0q97c%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhjISTrNCypaa0rvWp6NbSxRywlvpw" frameborder="0" allowfullscreen=""></iframe><br><br>  Yes! <br><br>  Let's play a little with the movement: <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;avr/io.h&gt; #include &lt;util/delay.h&gt; int main(void) { DDRB |= (1&lt;&lt;2); DDRB |= (1&lt;&lt;3); DDRA |= (1&lt;&lt;2); DDRA |= (1&lt;&lt;3); unsigned char i= 0; while(i&lt;3){ //   PORTB |= (1&lt;&lt;2); PORTA |= (1&lt;&lt;3); PORTB &amp;= ~(1&lt;&lt;3); PORTA &amp;= ~(1&lt;&lt;2); _delay_ms(700); //  PORTB &amp;= ~(1&lt;&lt;2); PORTA &amp;= ~(1&lt;&lt;3); PORTB |= (1&lt;&lt;3); PORTA |= (1&lt;&lt;2); _delay_ms(1100); i++; } while(1) { // ,   PORTB |= (1&lt;&lt;2); PORTA &amp;= ~(1&lt;&lt;3); PORTB &amp;= ~(1&lt;&lt;3); PORTA |= (1&lt;&lt;2); _delay_ms(3000); // ,   PORTB &amp;= ~(1&lt;&lt;2); PORTA |= (1&lt;&lt;3); PORTB |= (1&lt;&lt;3); PORTA &amp;= ~(1&lt;&lt;2); _delay_ms(3000); } return 0; }</span></span></span></span></code> </pre> <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/B6RH8tgQzPA%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhhM2Pe1d5yBDpn6abZOcLnq_fiGBQ" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Afterword </h4><br>  As you can see, make the simplest robot elementary.  Further, all is limited only by your imagination. <br><br>  Do not be afraid to start something new - everything will definitely work out. <br><br>  If you have questions - ask. <br><br>  Thanks for reading! <br><br><h5>  FAQ from replies to comments on the topic </h5><br><ul><li>  <a href="http://habrahabr.ru/blogs/robot/128793/">What to read?</a> </li><li>  <a href="http://habrahabr.ru/blogs/robot/128793/">How to solder and poison?</a> </li><li>  <a href="http://habrahabr.ru/blogs/robot/128793/">And what is Gromov's programmer?</a> </li></ul><br><br><h6>  About the cost price: </h6><br><ul><li>  ATMega16A to DIP ~ 110p </li><li>  2 engines QX-FF-130-14230 ~ 140r </li><li>  l293d ~ 60r </li><li>  Capacitor 100mkF 25V ~ 2p </li><li>  Ceramic condenser 0.01¬µF ~ 2p </li><li>  Textolite ~ 30p </li><li>  Nest under the programmer ~ 5p </li></ul><br>  Total: ~ 349p + optional: solder, wires, wheels, glue. <br>  Engines can take other, cheaper, at least for 20r. <br><br><h5>  UPD: </h5><br>  <s>The post was published by itself in some mysterious way, while it was attended by a large number of not yet corrected bloopers, for which I apologize.</s>  <s>I fix it.</s> <br>  Many thanks for the comments.  Very nice. </div><p>Source: <a href="https://habr.com/ru/post/128793/">https://habr.com/ru/post/128793/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128786/index.html">Principles from retail in IT project management</a></li>
<li><a href="../128787/index.html">Segment tree</a></li>
<li><a href="../128788/index.html">The Open Virtualization Alliance has already gathered 200 participants.</a></li>
<li><a href="../128791/index.html">AdWords API Banking. Who is the target?</a></li>
<li><a href="../128792/index.html">Overview of services and applications for Samsung Smart TV</a></li>
<li><a href="../128794/index.html">Combustion - an alternative approach to testing Rails Engines</a></li>
<li><a href="../128799/index.html">Show all that is hidden</a></li>
<li><a href="../128802/index.html">Twitter banned part of the Ukrainian IP?</a></li>
<li><a href="../128803/index.html">Exact selection of contours on images</a></li>
<li><a href="../128804/index.html">Concept Microhabr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>