<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Organizing multichannel numbers with the help of Komunikator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once, in very dense times, in our office for receiving calls was enough two ordinary, wired phones. As time went on, the company grew, we needed a sec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Organizing multichannel numbers with the help of Komunikator</h1><div class="post__text post__text-html js-mediator-article">  Once, in very dense times, in our office for receiving calls was enough two ordinary, wired phones.  As time went on, the company grew, we needed a second office, respectively, there was a need to organize a mobile multi-channel PBX.  The classic (analog) PBX fell away due to the inconvenience of organizing a single telephone connection with the new office, and again expensive and long-term wiring in the new office, installation and programming of a proprietary telephone, and we also had employees at remote work, they needed to transfer the call on a cell number.  And what can we say, it is so important to keep the phone number, which has been known to customers for a long time and not to lose it when moving.  The solution was obvious - go to the IP PBX.  It remained only to pick up the software. <br><br><a name="habracut"></a><br>  The task to bring the idea to life was assigned to me as an admin.  The software requirements for IP PBXs were set as follows: the ability to receive and make calls to landline and international numbers, an unlimited number of internal numbers, call forwarding to both internal numbers and cellular operators, conference calls, low price, easy setup and service. <br><br>  A brief analysis of existing software solutions clarified two points: most programs for using IP telephony do not have the required set of functions (no international call service, restriction on the number of internal numbers, a mandatory condition: the seller company provides telephony configuration) and the quality of communication as a whole does not match the cost of the proposed solutions.  There was even a thought about software Asterisk, but there is a question about the expensive configuration, and the allocation of a separate server for it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But, as they say, the catcher and the beast are running: the familiar IT people suggested that a new solution developed on the Yate platform, Komunikator, appeared on the Russian IP telephony market.  Below I have resulted the table with its basic functionality. <br><br><table><tbody><tr><td>  Cost of solution </td><td>  0 rub. </td></tr><tr><td>  Subscription fee </td><td>  0 rub. </td></tr><tr><td>  Connecting external SIP-providers </td><td>  0 rub. </td></tr><tr><td>  Support for external SIP providers </td><td>  unlimited </td></tr><tr><td>  PC client </td><td>  SIP phone or Softphone </td></tr><tr><td>  Number of employees (internal numbers) </td><td>  unlimited </td></tr><tr><td>  Active call route patterns </td><td>  unlimited </td></tr><tr><td>  WEB interface </td><td>  Yes </td></tr><tr><td>  Multichannel </td><td>  Yes </td></tr><tr><td>  Call Forwarding </td><td>  Yes </td></tr><tr><td>  Call transfer to mobile operator number </td><td>  Yes </td></tr><tr><td>  Conference organization </td><td>  Yes </td></tr><tr><td>  Call recording </td><td>  not </td></tr><tr><td>  Call blocking </td><td>  Yes </td></tr><tr><td>  Call hold </td><td>  Yes </td></tr><tr><td>  Fax to e-mail </td><td>  not </td></tr><tr><td>  Auto attendant </td><td>  Yes </td></tr><tr><td>  Ringing tone </td><td>  Yes </td></tr><tr><td>  Call History </td><td>  Yes </td></tr></tbody></table><br><br>  The sources of the novelty could be downloaded in open access (read - for free) on the githaba, which I promptly did on our server.  Before proceeding with the installation process of IP-PBX, it is necessary to clarify that the installation should be understood as the transfer of the virtual machine image in the virtualization program for placement and subsequent use.  The Komunikator virtual machine image is presented as a * .OVA file and has a size of about 770 MB ( <a href="">download image</a> ). <br><br>  The minimum system requirements that will be borrowed by the Komunikator running virtual machine: <br><ul><li>  RAM: 512 MB; </li><li>  video memory: 12 MB; </li><li>  disk space: 2 GB (as needed, the size will increase). </li></ul><br><br>  When testing the Komunikator virtual machine, an Intel Celeron 430 processor (1.8 GHz) was used, which coped well with the task. <br><br>  Next, I will describe the process of installing Komunikator (4 stages), I did it according to the document "Installation Guide for IP-PBX" ( <a href="https://github.com/Digt/Komunikator/wiki">githab</a> ) <br>  As a virtualization program, the Oracle VM VirtualBox program was chosen to review the IP PBX installation process.  VirtualBox is freely distributable, which gives the right to free use of this program, without any payments. <br><br>  1. Specify the virtual machine image file virtualization program: <br><br>  In the menu "Import configurations ..." select the image file of the virtual machine, then click "Next". <br><br><img src="https://habrastorage.org/storage3/aaf/5c2/039/aaf5c203952290ce8cb7e9529f0b0b10.png"><br><br>  2. Specifying configuration parameters recreated from a virtual machine image file <br>  Select the configuration parameters of the virtual machine.  It is recommended to select the default configuration options.  And click "Import". <br><br><img src="https://habrastorage.org/storage3/3df/383/f69/3df383f698289b10b4bbd4ed54009b52.png"><br><br>  After the reconstruction is completed from the image file of the virtual machine, it (the virtual machine) will be displayed in the list of the virtual machine management window. <br><br>  3. Configuring the network connection settings of the VirtualBox virtualization program and the DHCP server used by this program. <br>  In the menu "File" - "Settings ..." select the option "Network" to configure the network connection. <br><br><img src="https://habrastorage.org/storage3/411/5a8/f10/4115a8f10e9606a6bc9ebe776928889e.png"><br><br>  It is recommended that you select the default IP address offered by VirtualBox. <br><br><img src="https://habrastorage.org/storage3/f51/c15/6aa/f51c156aa30e120ea6ae7f2ba70c68d6.png"><br><br>  If there is already a DHCP server on the network to connect the computer to the network (on which VirtualBox is installed), then the DHCP server offered by VirtualBox must be disabled.  And vice versa, otherwise. <br><br><img src="https://habrastorage.org/storage3/2b9/790/5f1/2b97905f1c34faf1771ced016f302b52.png"><br><br>  4. Start of the virtual machine (start of IP-PBX).  In the context menu, click "Run". <br><br><img src="https://habrastorage.org/storage3/cf3/bfb/6d5/cf3bfb6d5ec8e680de576bf52c1147a6.png"><br><br>  Installation of IP-PBX "Komunikator" is completed.  Since  ‚ÄúKomunikator‚Äù is configured and controlled via a web-interface through a browser, then you need to know the IP address assigned to the virtual machine where this IP PBX is installed. <br><br>  After starting the virtual machine and booting the OS, you will need to enter the name and password of the account registered on this OS, i.e.  OS Administrator. <br><br><img src="https://habrastorage.org/storage3/fe4/156/6cc/fe41566cc833a450afd95947037c3729.png"><br><br>  Interaction with the OS is carried out through the command line interface. <br><br>  To get the network interface parameters (including IP addresses), the OS provides the command - ifconfig. <br><br><img src="https://habrastorage.org/storage3/8c8/db3/600/8c8db360049c0d80b1ab905ca751296d.png"><br><br>  Now you can connect to an IP PBX.  We launch the browser and in the search bar enter the received IP address of the virtual machine.  In the browser window that opens, you need to enter the IP-PBX administrator account information, after which the PBX management interface will launch. <br><br><img src="https://habrastorage.org/storage3/11a/aa2/8be/11aaa28beca4d4c95ee3c08ef9de90ac.png"><br><br>  A detailed description of the interface has already been prepared by the developers of Komunikator.  I recommend to study, because  This will be required when you further configure SIP-clients and SIP-provider.  ( <a href="https://github.com/Digt/Komunikator/wiki/Description-of-the-system-interface">githab</a> ) <br><br>  We chose MegaFon as a SIP provider, it came up to us for the cost of the service and is already integrated with Komunikator.  After connecting to the MegaFon mobile operator (buying a SIM card), to get a single multi-channel number, it is necessary to activate the MultiFon service.  Do not confuse the MultiFon service with the Mobile PBX service. <br><br>  Activation took place by USSD-team - * 137 # <img src="https://habrastorage.org/storage3/392/1f4/617/3921f4617d81fb9dd99e39b0ef8c4150.png"><br><br>  From the SIP provider we get: username (subscriber number), password (obtained after connecting to the MultiFon service), server IP address, port, protocol, domain. <br><br>  Next, we configure the provider in the Komunikator interface on the Routing tab of the Providers panel.  And fill in all the required fields. <br><br><img src="https://habrastorage.org/storage3/fdc/70f/07d/fdc70f07db2ee7dce468efe07839faa8.png"><br><br>  Now we create rules for converting dialed phone numbers for "external" outgoing calls. <br><br><img src="https://habrastorage.org/storage3/c36/009/cd6/c36009cd69aacc2b4fcf38cf68ee7644.png"><br><br>  Then we connect internal subscribers (SIP-clients) to IP automatic telephone exchange.  This is done in the ‚ÄúReferences‚Äù tab in the ‚ÄúInternal Numbers‚Äù panel. <br><br><img src="https://habrastorage.org/storage3/016/5de/c89/0165dec89bbb13567e11d219f64143f8.png"><br><br>  Well, create the rules for receiving "external" incoming phone calls. <br><br><img src="https://habrastorage.org/storage3/b4c/633/4b7/b4c6334b7bb83a0f0e3c58da2fd3b98c.png"><br><br>  For more information about the redirection of "external" incoming phone calls received by the IP-PBX from a SIP-provider, see the manual, in the section "Configuring a SIP-provider" ( <a href="https://github.com/Digt/Komunikator/wiki/Make-phone-calls">github</a> ) <br><br>  That's not at all difficult and in a short time earned a multi-channel number in our office. <br><br>  At the moment, the following functions are implemented in the product: <br><ul><li>  Outgoing and incoming calls for both external and internal communication; </li><li>  Conference call; </li><li>  Call log; </li><li>  Call forwarding from extension to mobile number. </li><li>  Transfer a call to an internal number or to the number of an employee‚Äôs mobile operator. </li><li>  Intercept a call. </li></ul><br><br>  Commands for performing functions are described, again, on the <a href="https://github.com/Digt/Komunikator/wiki/Description-of-built-in-functions">githaba</a> . <br><br>  And that's not all: in the plans of developers to improve the product.  For example, among the planned options - the ability to integrate with 1C, chat and calls from the site. <br><br>  I hope my positive experience with Komunikator will help someone to set up a multi-channel telephone line in his company.  Good luck! </div><p>Source: <a href="https://habr.com/ru/post/195030/">https://habr.com/ru/post/195030/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../195010/index.html">Backing up data to a free cloud service Wuala</a></li>
<li><a href="../195014/index.html">FileCoder ransomware families intensified</a></li>
<li><a href="../195018/index.html">Silently Apple has updated the iMac line</a></li>
<li><a href="../195024/index.html">IFA 2013 with your own eyes: Samsung, Toshiba, Panasonic, TCL / Alcatel and Archos mobile devices</a></li>
<li><a href="../195028/index.html">Android remote lock</a></li>
<li><a href="../195040/index.html">HBase, loading large data arrays through bulk load</a></li>
<li><a href="../195042/index.html">NVIDIA Delivers Part of Video Card Documentation to the nouveau Team</a></li>
<li><a href="../195044/index.html">Google apologizes for yesterday‚Äôs crash with Gmail and explains the reason</a></li>
<li><a href="../195046/index.html">LinkMeUp. Release 7. Access Networks, xPON</a></li>
<li><a href="../195048/index.html">Ansible</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>