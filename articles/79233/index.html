<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Compiling a 64-bit version of Qt for windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In recent years, Qt's cross-platform library has received not only numerous improvements, but also QtCreator's own development environment and conveni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Compiling a 64-bit version of Qt for windows</h1><div class="post__text post__text-html js-mediator-article"><img src="http://bit.ly/7xTMgm" align="left" alt="logo">  In recent years, Qt's cross-platform library has received not only numerous improvements, but also QtCreator's own development environment and convenient installers for all operating systems.  Now, for development, you do not need to install the necessary environment yourself, set paths, integrate the library into ide ‚Äî just run the installer and everything will work out of the box.  Unfortunately, the windows version has an installer only for the 32-bit library build and ide.  And sometimes there is a need to make exactly a 64-bit application - most often it is connected with the need to use other people's 64-bit components: loadable libraries, inproc com components, and other strange things.  Under the cat contains detailed instructions on how to compile Qt and QtCreator from source for a 64-bit architecture. <br><br><a name="habracut"></a><br><h1>  A warning </h1><br>  The build will take about 6 hours and 8 gigabytes of hard disk space :). <br><br><h1>  Install the compiler </h1><br>  For correct operation of the debugger in QtCreator, it is recommended that you build a compiler from Microsoft. <br>  Download the SDK <a href="http://tinyurl.com/yjmzhno">here</a> , run the installer, and install the entire ‚Äúdeveloper tools‚Äù branch (almost everything from there is used to build Qt). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  We collected source codes in a heap </h1><br>  Download the latest QtCreator 1.3 source <a href="">here</a> and unpack the archive in <br> <code>c:\qt\</code> <br>  Rename the unpacked folder to <br> <code>2010.01.x64</code> <br>  Then download the latest Qt 4.6 sources <a href="">here</a> and unpack the archive in <br> <code>c:\qt\2010.01.x64</code> <br>  Rename the unpacked folder to <br> <code>qt</code> <br>  Here you need to take into account that when compiling, folder names will be compiled into qmake and will not be changed.  The folder names I gave correspond to where Qt installs the installer under windows. <br><br><h1>  Assembly </h1><br>  Run <br> <code>C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\bin\Visual Studio 2008 x64 Win64 Command Prompt.lnk</code> <br> <br>  In the opened console we sequentially execute: <br><br> <code>cd c:\qt\2010.01.x64\qt <br> configure.exe <br> o <br> y <br> nmake <br></code> <br><br>  A call to configure.exe creates a makefile to build everything with a microsoft compiler (compiler <br>  will be determined automatically, as we work in the visual studio command prompt - environment variables with us).  ‚ÄúO‚Äù will select the open source license type (for free), ‚Äúy‚Äù will confirm the license agreement.  The nmake call is actually a microsoft utility for reading the makefiles and compiling what you need and what you don‚Äôt need.  After nmake has worked (and it takes several hours), we don‚Äôt close the console and copy all .pdb files from <br> <code>c:\qt\2010.01.x64\qt\lib</code> <br>  Because of the bugs in the makefile, they will be erased when deleting temporary files.  Then we continue in the console: <br><br> <code>nmake clean <br> set PATH=%PATH%;c:\qt\2010.01.x64\qt\bin <br> cd c:\qt\2010.01.x64 <br> qmake "CONFIG+=release" -r <br> nmake release <br></code> <br><br>  Without closing the console, copy to the temporary folder all .pluginspec files from <br> <code>c:\qt\2010.01.x64\lib\qtcreator\plugins\nokia</code> <br>  This is also a bug in the makefile.  Then we continue in the console: <br><br> <code>nmake clean <br></code> <br><br>  After everything has been compiled, move the .pdb and .pluginspec files back.  QtCreator is compiled in the release version, since the debug build will run as a command-line application with a non-removable console. <br><br><h1>  File turning </h1><br>  After everything has been successfully collected, all .dll files in the ending of the name that do not have ‚Äúd‚Äù are copied from the folder <br> <code>c:\qt\2010.01.x64\qt\bin</code> <br>  to folder <br> <code>c:\qt\2010.01.x64\bin</code> <br>  The QtCreator development environment runs as <br> <code>c:\qt\2010.01.x64\bin\qtcreator.exe</code> <br>  Before calling, you must call <br> <code>C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\bin\vcvars64.bat <br></code> <br>  This is to ensure that QtCreator works correctly with the compiler and debugger from Microsoft. <br><br>  Launch QtCreator, select Tools-&gt; Options-&gt; Project, uncheck ‚ÄúUse jom‚Äù.  You can, in principle, not to shoot, but then this same jom will need to be downloaded and copied into ‚Äúbin‚Äù.  Click "Apply". <br>  Then select Tools-&gt; Options-&gt; Qt4-&gt; QtVersions, click on the "+" in the upper right corner, in the field "Version Name" we write "Qt 4.6.0 x64", in the field "QMake location" we write <br>  "C: \ qt \ 2010.01.x64 \ qt \ bin \ qmake.exe", set "MSVC Version" to "9.0", in the "Default Qt Version" field, select "Qt 4.6.0 x64" and click on the "Rebuild" button ".  Choose Tools-&gt; Options-&gt; Help-&gt; Documentation, click ‚ÄúAdd‚Äù and add all .qch files from c: \ qt \ 2010.01.x64 \ qt \ doc \ qch <br><br>  Generally all.  Creating, editing, building and, best of all, debugging 64 bit Qt programs under windows is at your service.  I say goodbye for this and wait for comments.  If you have questions - I will try to answer.  If you have a story to tell (maybe I did everything in vain and ready installers are already in the open spaces of the network :) - I will be grateful. <br><br><h1>  Updated 27.06.2010 </h1><br>  To build with the recently released Visual Studio 2010 SDK, you must run configure.exe with the key <pre>  -platform win32-msvc2008 </pre>  It is advisable to use the latest version of Qt from GIT and brunch 2.0 of Qt Creator from there. <br><pre> git clone -b 2.0 git: //gitorious.org/qt-creator/qt-creator.git c: \ qt \ qt-creator.
</pre><br>  Before launching, it is necessary to install perl and replace in qt / mkspecs / win32-msvc2010 / qmake.conf the fragment "QMAKE_CFLAGS_RELEASE = -O2 -MD" with "QMAKE_CFLAGS_RELEASE = -Od -MD". <br><br><h1>  Profit? </h1><br><img src="http://j.mp/8dj4za" alt="QtCreator"><br><br></div><p>Source: <a href="https://habr.com/ru/post/79233/">https://habr.com/ru/post/79233/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../79225/index.html">Nginx + PHP-FPM vs. Apache2 Prefork + mod_php</a></li>
<li><a href="../79227/index.html">Smashing book</a></li>
<li><a href="../79228/index.html">Install and configure Perl on IIS 7.x</a></li>
<li><a href="../79231/index.html">Using the capabilities of the Windows platform in PHP</a></li>
<li><a href="../79232/index.html">Unusual videos-Chariot Skates</a></li>
<li><a href="../79234/index.html">New syntax in Twi: Slashtagi</a></li>
<li><a href="../79239/index.html">MIEM 1962-2010</a></li>
<li><a href="../79240/index.html">How familiar are we with fiction?</a></li>
<li><a href="../79241/index.html">MTS and IBA Finance: solve the problem</a></li>
<li><a href="../79243/index.html">How social networks were invented</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>