<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Game 15</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In early 1880, a certain Charles Pevi, a dentist from Worcester, drew public attention by offering $ 1000 (then it was good money), for solving the fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Game 15</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage2/d9c/c3e/d4a/d9cc3ed4a438eb5822c926d0b08b821d.png"><br>  <i>In early 1880, a certain Charles Pevi, a dentist from Worcester, drew public attention by offering $ 1000 (then it was good money), for solving the following problem: fifteen checkers were placed in a square box in the correct order, and only checkers 14 and 15 were rearranged , as it shown on the picture.</i>  <i>The task was to gradually move the checkers, bring them to the normal position, and, moreover, the order of the checkers 14 and 15 should be corrected.</i> <br><br>  In our company, every employee can be self-educated 5 hours a week (read / write on Habr, learn F # or read SICP).  Over time, this practice has evolved into the creation of mini-projects.  For example, Maxim, an experienced JavaScript developer, decided to try creating apps for iOS, and for about a month and a half released <a href="http://taucraft.com/15/">tags</a> that, without any advertising, were included in the TOP 10 Russian App Store in the game category for a week. <br><br>  Further, the verification code on Objective-C and the principle of the passage of the Fifths from Yakov Isidorovich Perelman's book ‚ÄúLive Mathematics‚Äù. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For many of us, it was a surprise that exactly half of all possible (1,307,674,368,000) combinations have no solutions.  To test for decisiveness, we took a formula from Wikipedia: let the square with the number <i>i be</i> located before (if you count from left to right and from top to bottom) <i>k</i> squares with numbers less than <i>i</i> .  We assume that <i>n <sub>i</sub> = k</i> , that is, if after a knuckle with the <i>i</i> -th number there are no numbers less than <i>i</i> , then <i>k</i> = 0. We also enter the number <i>e</i> - the row number of the empty cell (counting from 1).  If the amount <br><br><img src="https://habrastorage.org/storage2/c77/7f3/ea7/c777f3ea72691823a3737aa39298baa1.png"><br><br>  is odd, then a puzzle solution does not exist. <br><br><h4>  Objective-C verification code </h4><br><pre><code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"GamePositionValidator.h"</span></span></span><span class="hljs-meta"> @interface GamePositionValidator(){ NSInteger emptyCellRowNumber; } @property (nonatomic, retain) NSArray* validPosition; @property (nonatomic, retain) NSArray* currentPosition; @end @implementation GamePositionValidator @synthesize validPosition; @synthesize currentPosition; -(id) initWithValidPosition:(NSArray *) _validPosition emptyCellRowNumber:(NSInteger ) _emptyCellRowNumber{ if(self = [super init]){ self.validPosition = _validPosition; emptyCellRowNumber = _emptyCellRowNumber; } return self; } -(NSInteger) positionOfChipInValidPosition:(NSInteger) chipNumber{ for(NSInteger i=0; i</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;self.validPosition.count; i++){ NSNumber* number = [self.validPosition objectAtIndex:i]; if(number.intValue == chipNumber){ return i; } } return -1; } -(NSInteger) countOfDisordersInPosition:(NSInteger) position{ NSInteger chipNumber = ((NSNumber*)[self.currentPosition objectAtIndex:position]).intValue; NSInteger chipPosition = [self positionOfChipInValidPosition:chipNumber]; NSInteger countOfDisorders = 0; for( NSInteger i= position+1; i&lt;15; i++){ chipNumber = ((NSNumber*)[self.currentPosition objectAtIndex:i]).intValue; NSInteger nextChipPosition = [self positionOfChipInValidPosition:chipNumber]; if( nextChipPosition &lt; chipPosition){ countOfDisorders ++; } } return countOfDisorders; } -(BOOL) isPositionCanBeTransformedToValidPosition:(NSArray*) position{ self.currentPosition = position; NSInteger totalDisorders = 0; for(NSInteger i=0; i&lt;self.currentPosition.count; i++){ totalDisorders+=[self countOfDisordersInPosition:i]; } self.currentPosition = nil; return (totalDisorders + _emptyCellRowNumber) % 2 == 0; } @end</span></span></span></span></code> </pre> <br>  This is Max‚Äôs first Objective-C app so you can safely criticize it. <br><br>  Lastly, the principle of the passage of the ‚ÄúFifths‚Äù in the book ‚ÄúLiving Mathematics‚Äù by Y.I. Perelman: <br>  ‚ÄúImagine a location in which 15 checkers are placed in a motley mess.  Near moves you can always bring a checker 1 into place.  Similarly, it is possible, without touching checker 1, to bring checker 2 to the right to the next place.  Then, without touching the checkers 1 and 2, you can put the checkers 3 and 4 in their normal places: if they do not happen to be in the last two vertical rows, then it is easy to bring them into this area and then with a series of movements achieve the desired result. <br>  Now the top line 1, 2, 3, 4 is put in order, and with further manipulations with the checkers, we will not touch this row. <br><br>  In the same way we try to put in order and the second line: 5, 6, 7, 8;  it is easy to make sure that this is always achievable.  Further, in the space of the last two rows, checkers 9 and 13 must be brought to the normal position;  this is also always possible.  Of all the put in order checkers 1, 2, 3, 4, 5, 6, 7, 8, 9 and 13 in the future, not one move; <br><br><img src="http://habrastorage.org/storage2/c3b/f88/184/c3bf8818407745e08e3c97b7a1a5858c.png"><br><br>  there remains a small area of ‚Äã‚Äãsix fields, in which one is free and the other five are occupied with checkers 10, 11, 12, 14, 15 in random order.  Within this six-place section, you can always bring checkers 10, 11, 12 to their normal places. When this is achieved, checkers 14 and 15 will be placed in the last row either in the normal order or in the reverse. ‚Äù  Good luck! </div><p>Source: <a href="https://habr.com/ru/post/146508/">https://habr.com/ru/post/146508/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146503/index.html">The data structure of the project OpenStreetMap, look under the skirt service</a></li>
<li><a href="../146504/index.html">Windows 8: Interface Design</a></li>
<li><a href="../146505/index.html">Video review of Asus N46 / N56 / N76 laptops</a></li>
<li><a href="../146506/index.html">Larry Page lost his voice</a></li>
<li><a href="../146507/index.html">Helping KeePassX to work with Indicator Applet Complete in the latest Ubuntu versions</a></li>
<li><a href="../146509/index.html">Zabbix and free SMS</a></li>
<li><a href="../146510/index.html">EGE past and present</a></li>
<li><a href="../146511/index.html">Google TV will be sold not only in the US</a></li>
<li><a href="../146512/index.html">Microsoft buys Yammer for $ 1.2 billion</a></li>
<li><a href="../146513/index.html">Americans have created a sensitive "skin" for the robot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>