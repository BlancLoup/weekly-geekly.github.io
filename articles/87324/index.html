<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Culinary Tricks, Part One (Chef)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After a recent introductory publication about Chef, I decided to talk a bit more about useful recipes: 
  

 We use external configurators 
 Sometimes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Culinary Tricks, Part One (Chef)</h1><div class="post__text post__text-html js-mediator-article">  After a recent <a href="http://habrahabr.ru/company/scalaxy/blog/87302/">introductory publication about Chef,</a> I decided to talk a bit more about useful recipes: <br> <a title="Habraeffekt.ru;" href=""><img src="https://habrastorage.org/storage/habraeffect/4c/e6/4ce6463eccd0edbfb6a1a705294af0cd.png"></a> <a name="habracut"></a><br><br><h4>  We use external configurators </h4><br>  Sometimes we have to configure our machines not on the basis of internal Chef attributes, but on the basis of the configuration provided by the third-party service (which Chef puts again). <br><br>  In this case, <a href="http://www.opscode.com/blog/2009/06/01/cool-chef-tricks-install-and-use-rubygems-in-a-chef-run/">this trick</a> will help us: we describe the resource and launch it at the stage of the description of the recipe. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is useful, for example, if we store some of the data in LDAP.  Then we must first install and configure the openldap client through Chef, put the necessary gem to get the necessary data from LDAP, and then this data can be used directly in the recipe. <br><br><h4>  Go to Chef 0.8 </h4><br>  After upgrading to <a href="">Chef 0.8.6,</a> we found that the client authentication method has changed a lot. <br><br>  Now, to perform the standard bootstrap, we need to put the /etc/chef/validation.pem file in / etc / chef (for taking from the server from there) before the first chef-client. <br><br>  After that, the client will be able to automatically validate himself and obtain his / her own certificate /etc/chef/client.pem. <br><br>  Do not forget to update the chef recipe, the config directories and the main rakefile in your Chef repository. <br><br><h4>  Many cookbooks </h4><br>  Since many cookbooks are on GitHub, you can find a lot of useful information by running around the forks of the same <a href="http://github.com/opscode/cookbooks">github.com/opscode/cookbooks</a> . <br><br>  If possible, try to let your recipes go free floating. <br><br><h4>  Correctly restarted chef-server </h4><br>  If you have configured Chef using the default <a href="http://habrahabr.ru/blogs/sysadm/83775/">initialization style runit</a> , the chef-server does not respond correctly to the <code>sv restart chef-server</code> command. <br><br>  This is solved by adding a file. <br>  / etc / sv / chef-server / control / t (0755) with the following content: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#/bin/sh exec 2&gt;&amp;1 /usr/bin/sv interrupt chef-server</span></span></code> </pre><br><br><h4>  We follow the services </h4><br>  Applications without errors do not exist.  Therefore, they need to be monitored, for which such tools as runit, monit, god, munin, cacti, nagios, zabbix etc. are useful.  But I would also like to draw your attention to <a href="http://asemanfar.com/Why-We-Wrote-Bluepill">Bluepill</a> , as a replacement for the monit and god services. </div><p>Source: <a href="https://habr.com/ru/post/87324/">https://habr.com/ru/post/87324/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../87317/index.html">PARPG role-playing game requires a new project leader</a></li>
<li><a href="../87319/index.html">RE2 - new regular expression library</a></li>
<li><a href="../87320/index.html">Air "Hold"</a></li>
<li><a href="../87322/index.html">Packard Bell EasyNote LJ65 Review</a></li>
<li><a href="../87323/index.html">Apple closes 16 (sixteen) security holes in Safari 4</a></li>
<li><a href="../87325/index.html">Magnificent works of artists in Adobe Illustrator</a></li>
<li><a href="../87327/index.html">Introduction to pygtk / gtkbuilder: write a calculator</a></li>
<li><a href="../87329/index.html">OpenSource project is looking for developers</a></li>
<li><a href="../87331/index.html">360 ¬∞ Litefast Cylindrical Display</a></li>
<li><a href="../87333/index.html">Nikon D90 in pink</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>