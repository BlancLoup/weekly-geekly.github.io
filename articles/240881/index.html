<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The story of how Apple taught me to make a quality product</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, the essence of my story is to tell where the idea came from, how the application was developed and how Apple influenced the developmen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The story of how Apple taught me to make a quality product</h1><div class="post__text post__text-html js-mediator-article">  Hello everyone, the essence of my story is to tell where the idea came from, how the application was developed and how Apple influenced the development. <br><a name="habracut"></a><br>  <b>I will show the application code of the latest version.</b> <br><br>  <i>The idea came on an ordinary day, I was visiting my parents in the summer with my brother.</i>  <i>Brother - senior lieutenant.</i>  <i>On this day, he wanted to find an application in the App Store that would contain a complete military charter with simple and simple navigation, but not a single application was found in the store by his search queries.</i>  <i>Then he immediately offered me to implement this idea, since he believed that this is a rather necessary thing on the phone, which will always be with you and should be a good demand.</i> <i><br></i>  <i>You probably say, ‚ÄúWhat is the problem?</i>  <i>Go to Google, download your pdf-nickname and drop it in iBooks ‚Äù.</i>  <i>But why so many gestures?</i>  <i>If you now have an application, when you have everything at hand, you don‚Äôt need to download and search anything!</i>  <i>In addition, with convenient navigation, which will be improved to great heights.</i> <br><br>  <b>And so, you learned how the idea appeared, but now the most interesting thing is how did the development itself go, and where does Apple influence it?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Around the middle of August, I got down to business.  I was thinking how best to implement an application: throw everything in a Label or use a TextView? <br>  After thinking for a few days, I found a solution for myself - to use the usual Web View.  In order for the charter to be displayed in the Web View, I sliced ‚Äã‚Äãthe charter into separate html files into different parts. <br>  The code already contains the functionality of the ability to change the font size.  I used NSUserDefaults to save the font size value and did a small check, where I already substituted the html file I needed.  The font can be set as follows - small, medium, large. <br><br>  Controller with font settings: <br><pre><code class="objectivec hljs">- (<span class="hljs-keyword"><span class="hljs-keyword">IBAction</span></span>)selectFont:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)sender { [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> saveSetting]; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) saveSetting { <span class="hljs-built_in"><span class="hljs-built_in">NSUserDefaults</span></span>* userDefaults = [<span class="hljs-built_in"><span class="hljs-built_in">NSUserDefaults</span></span> standardUserDefaults]; <span class="hljs-comment"><span class="hljs-comment">//    [userDefaults setInteger:self.fontSegmentedControl.selectedSegmentIndex forKey:kSettingsFont]; [userDefaults synchronize]; } - (void) loadSetting { NSUserDefaults* userDefaults = [NSUserDefaults standardUserDefaults]; //   self.fontSegmentedControl.selectedSegmentIndex = [userDefaults integerForKey:kSettingsFont]; }</span></span></code> </pre> <br><br>  Opening the webView itself: <br><pre> <code class="objectivec hljs">- (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) loadPage { <span class="hljs-built_in"><span class="hljs-built_in">NSUserDefaults</span></span>* userDefaults = [<span class="hljs-built_in"><span class="hljs-built_in">NSUserDefaults</span></span> standardUserDefaults]; <span class="hljs-built_in"><span class="hljs-built_in">NSInteger</span></span> indexFont = [userDefaults integerForKey:<span class="hljs-string"><span class="hljs-string">@"font"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (indexFont == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//     NSString* filePath = [[NSBundle mainBundle] pathForResource:@"preOnePart" ofType:@"html"]; //   NSString NSString* html = [NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:nil]; //   UIWebView  [_webView loadHTMLString:html baseURL:nil]; } else if (indexFont == 1) { //     NSString* filePath = [[NSBundle mainBundle] pathForResource:@"preOnePartMediumFont" ofType:@"html"]; //   NSString NSString* html = [NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:nil]; //   UIWebView  [_webView loadHTMLString:html baseURL:nil]; } else if (indexFont == 2) { //     NSString* filePath = [[NSBundle mainBundle] pathForResource:@"preOnePartLargeFont" ofType:@"html"]; //   NSString NSString* html = [NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:nil]; //   UIWebView  [_webView loadHTMLString:html baseURL:nil]; }</span></span></code> </pre><br><br>  For several days I created an application framework, a menu, and other trifles.  I made the simple navigation that I needed in parts and chapters of the charter, and in principle, the application was ready.  Used the open-source <a href="https://github.com/John-Lluch/SWRevealViewController">SWRevealController</a> library for the menu. <br><br>  Added a section about the application to the menu. <br>  Here the user can tell about the application on Twitter and Facebook: <br><br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#pragma mark - share actions - (IBAction)twitterShare:(UIButton *)sender { if ([SLComposeViewController isAvailableForServiceType:SLServiceTypeTwitter]) { SLComposeViewController* controller = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeTwitter]; [controller setInitialText:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">" #AppStore    ¬´Military! -  &amp;      ¬ª  App Store.    ;)"</span></span></span><span class="hljs-meta">]; [controller addURL:[NSURL URLWithString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"https://itunes.apple.com/ru/app/military!-novosti-ustav-vnutrennej/id914651209?l=en&amp;mt=8"</span></span></span><span class="hljs-meta">]]; controller.completionHandler = ^(SLComposeViewControllerResult result) { NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Completed"</span></span></span><span class="hljs-meta">); }; [self presentViewController:controller animated:YES completion:nil]; } else { UIAlertView* error = [[UIAlertView alloc] initWithTitle:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">""</span></span></span><span class="hljs-meta"> message:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"   Twitter-  . \n , !"</span></span></span><span class="hljs-meta"> delegate:self cancelButtonTitle:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"OK"</span></span></span><span class="hljs-meta"> otherButtonTitles:nil,nil]; [error show]; NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"The twitter sevice is not evailalble"</span></span></span><span class="hljs-meta">); } } - (IBAction)facebookShare:(UIButton *)sender { // Put together the dialog parameters NSMutableDictionary *params = [NSMutableDictionary dictionaryWithObjectsAndKeys: @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Military!"</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"name"</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">" &amp;      "</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"caption"</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"              ,          ,     !"</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"description"</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"https://itunes.apple.com/ru/app/military!-novosti-ustav-vnutrennej/id914651209?l=en&amp;mt=8"</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"link"</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"http://cs619627.vk.me/v619627853/19d6e/xdHr-XTVs8k.jpg"</span></span></span><span class="hljs-meta">, @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"picture"</span></span></span><span class="hljs-meta">, nil]; // Show the feed dialog [FBWebDialogs presentFeedDialogModallyWithSession:nil parameters:params handler:^(FBWebDialogResult result, NSURL *resultURL, NSError *error) { if (error) { // An error occurred, we need to handle the error // See: https://developers.facebook.com/docs/ios/errors NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Error publishing story: %@"</span></span></span><span class="hljs-meta">, error.description); } else { if (result == FBWebDialogResultDialogNotCompleted) { // User cancelled. NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"User cancelled."</span></span></span><span class="hljs-meta">); } else { // Handle the publish feed callback NSDictionary *urlParams = [self parseURLParams:[resultURL query]]; if (![urlParams valueForKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"post_id"</span></span></span><span class="hljs-meta">]) { // User cancelled. NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"User cancelled."</span></span></span><span class="hljs-meta">); } else { // User clicked the Share button NSString *result = [NSString stringWithFormat: @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Posted story, id: %@"</span></span></span><span class="hljs-meta">, [urlParams valueForKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"post_id"</span></span></span><span class="hljs-meta">]]; NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"result %@"</span></span></span><span class="hljs-meta">, result); } } } }]; } //------------------Login implementation starts here------------------ - (void)loginView:(FBLoginView *)loginView handleError:(NSError *)error { NSString *alertMessage, *alertTitle; // If the user should perform an action outside of you app to recover, // the SDK will provide a message for the user, you just need to surface it. // This conveniently handles cases like Facebook password change or unverified Facebook accounts. if ([FBErrorUtility shouldNotifyUserForError:error]) { alertTitle = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Facebook error"</span></span></span><span class="hljs-meta">; alertMessage = [FBErrorUtility userMessageForError:error]; // This code will handle session closures since that happen outside of the app. // You can take a look at our error handling guide to know more about it // https://developers.facebook.com/docs/ios/errors } else if ([FBErrorUtility errorCategoryForError:error] == FBErrorCategoryAuthenticationReopenSession) { alertTitle = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Session Error"</span></span></span><span class="hljs-meta">; alertMessage = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Your current session is no longer valid. Please log in again."</span></span></span><span class="hljs-meta">; // If the user has cancelled a login, we will do nothing. // You can also choose to show the user a message if cancelling login will result in // the user not being able to complete a task they had initiated in your app // (like accessing FB-stored information or posting to Facebook) } else if ([FBErrorUtility errorCategoryForError:error] == FBErrorCategoryUserCancelled) { NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"user cancelled login"</span></span></span><span class="hljs-meta">); // For simplicity, this sample handles other errors with a generic message // You can checkout our error handling guide for more detailed information // https://developers.facebook.com/docs/ios/errors } else { alertTitle = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Something went wrong"</span></span></span><span class="hljs-meta">; alertMessage = @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Please try again later."</span></span></span><span class="hljs-meta">; NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Unexpected error:%@"</span></span></span><span class="hljs-meta">, error); } if (alertMessage) { [[[UIAlertView alloc] initWithTitle:alertTitle message:alertMessage delegate:nil cancelButtonTitle:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"OK"</span></span></span><span class="hljs-meta"> otherButtonTitles:nil] show]; } } - (NSDictionary*)parseURLParams:(NSString *)query { NSArray *pairs = [query componentsSeparatedByString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"&amp;"</span></span></span><span class="hljs-meta">]; NSMutableDictionary *params = [[NSMutableDictionary alloc] init]; for (NSString *pair in pairs) { NSArray *kv = [pair componentsSeparatedByString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"="</span></span></span><span class="hljs-meta">]; NSString *val = [kv[1] stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding]; params[kv[0]] = val; } return params; }</span></span></code> </pre><br><br>  For two more days I suggested a little beauty in the app.  I hasten to note that in the original version, which was sent to Review to Apple, the application did not have the ‚ÄúLatest News‚Äù section - there was just one charter and that's it. <br><br>  The application was sent to Review in early September and a week later I received the first Reject from Apple.  What is the matter?  Apple interpreted its point of view in this way - ‚ÄúApplications that constitute a song or movie should be sent to the iTunes Store.  Applications that are a book should be sent to the iBooks Store. ‚Äù <br><br>  Yes, in principle, Apple was right, as the application was more like a book.  I decided to add something else to the functionality ... For example, the flow of fresh news on the same subject as the application.  I took for this the RSS-feed ‚ÄúRIA Novosti‚Äù and parsed it with the help of NSXMLParser: <br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#pragma mark - NSXMLParser - (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict { element = elementName; if ([element isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"item"</span></span></span><span class="hljs-meta">]) { item = [[NSMutableDictionary alloc] init]; title = [[NSMutableString alloc] init]; link = [[NSMutableString alloc] init]; image = [[NSMutableDictionary alloc] init]; description = [[NSMutableString alloc] init]; date = [[NSMutableString alloc] init]; } if ([element isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"enclosure"</span></span></span><span class="hljs-meta">]) { linkImage = [attributeDict objectForKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"url"</span></span></span><span class="hljs-meta">]; typeImage = [attributeDict objectForKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"type"</span></span></span><span class="hljs-meta">]; } // NSLog(@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"RSS Utility: didStartElement: %@"</span></span></span><span class="hljs-meta">, elementName); } - (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName { if ([elementName isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"item"</span></span></span><span class="hljs-meta">]) { [item setObject:title forKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"title"</span></span></span><span class="hljs-meta">]; [item setObject:link forKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"link"</span></span></span><span class="hljs-meta">]; [item setObject:description forKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"description"</span></span></span><span class="hljs-meta">]; [item setObject:image forKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"enclosure"</span></span></span><span class="hljs-meta">]; [item setObject:typeImage forKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"imageType"</span></span></span><span class="hljs-meta">]; [item setObject:linkImage forKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"imageUrl"</span></span></span><span class="hljs-meta">]; [item setObject:date forKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"pubDate"</span></span></span><span class="hljs-meta">]; [feeds addObject:[item copy]]; } } - (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string { if ([element isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"title"</span></span></span><span class="hljs-meta">]) { [title appendString:string]; } else if ([element isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"link"</span></span></span><span class="hljs-meta">]) { [link appendString:string]; } else if ([element isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"imageUrl"</span></span></span><span class="hljs-meta">]) { [linkImage appendString:string]; } else if ([element isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"description"</span></span></span><span class="hljs-meta">]) { [description appendString:string]; } else if ([element isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"pubDate"</span></span></span><span class="hljs-meta">]) { [date appendString:string]; } } - (void)parserDidEndDocument:(NSXMLParser *)parser { [self.tableView reloadData]; [self.refreshControl endRefreshing]; }</span></span></code> </pre><br><br>  In order to view the news in full, by clicking on a table cell, a controller was opened from the Web View. <br><br>  The method that sends a link to the news in another controller: <br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#pragma mark - Passed data to another controller - (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender { if ([[segue identifier] isEqualToString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"CustomSegue"</span></span></span><span class="hljs-meta">]) { NSIndexPath *indexPath = [self.tableView indexPathForSelectedRow]; NSString *string = [feeds[indexPath.row] objectForKey: @</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"link"</span></span></span><span class="hljs-meta">]; [[segue destinationViewController] setUrl:string]; NSString* string2 = [feeds [indexPath.row] objectForKey:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"title"</span></span></span><span class="hljs-meta">]; [[segue destinationViewController] setTitleForShare:string2]; } }</span></span></code> </pre><br><br>  Our actions in the controller with Web View: <br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@implementation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IVDetailViewController</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">synthesize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">titleForShare</span></span></span><span class="hljs-class">; - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-class"> </span></span>{ [<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> viewDidLoad]; <span class="hljs-built_in"><span class="hljs-built_in">NSURL</span></span> *myURL = [<span class="hljs-built_in"><span class="hljs-built_in">NSURL</span></span> URLWithString: [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.url stringByAddingPercentEscapesUsingEncoding: <span class="hljs-built_in"><span class="hljs-built_in">NSUTF8StringEncoding</span></span>]]; <span class="hljs-built_in"><span class="hljs-built_in">NSURLRequest</span></span> *request = [<span class="hljs-built_in"><span class="hljs-built_in">NSURLRequest</span></span> requestWithURL:myURL]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.webView loadRequest:request]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.navigationController.navigationBar addGestureRecognizer:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.revealViewController.panGestureRecognizer]; <span class="hljs-comment"><span class="hljs-comment">// Do any additional setup after loading the view. }</span></span></code> </pre><br><br>  Having implemented this functionality, I sent it to Apple again.  After a week and a half, I get a second refusal.  What is wrong this time ?!  I read the comments checking application - ‚ÄúApple and our customers appreciate the simple, elegant, creative, well-designed interface.  They require more effort, but worth it.  Apple sets the bar high.  If the user interface is not good enough, the application may be rejected. ‚Äù <br><br>  Thinking with my head, I rushed to finish my offspring again.  Photos were added to the news feed and sharing, here I used Custom Table Cells. <br><br>  After that, I added another navigation through the Web View in the controller, where you can watch the news in full.  That is - on the page forward, on the page back, stop the download, update.  And also the opening UIActivityViewController: <br><br><pre> <code class="objectivec hljs">- (<span class="hljs-keyword"><span class="hljs-keyword">IBAction</span></span>)activityAction:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)sender { <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *textToShare = titleForShare; <span class="hljs-built_in"><span class="hljs-built_in">NSURL</span></span> *myWebsite = [<span class="hljs-built_in"><span class="hljs-built_in">NSURL</span></span> URLWithString:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.url]; <span class="hljs-built_in"><span class="hljs-built_in">NSArray</span></span> *objectsToShare = @[textToShare, myWebsite]; <span class="hljs-built_in"><span class="hljs-built_in">UIActivityViewController</span></span> *activityVC = [[<span class="hljs-built_in"><span class="hljs-built_in">UIActivityViewController</span></span> alloc] initWithActivityItems:objectsToShare applicationActivities:<span class="hljs-literal"><span class="hljs-literal">nil</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">NSArray</span></span> *excludeActivities = @[<span class="hljs-built_in"><span class="hljs-built_in">UIActivityTypeAirDrop</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UIActivityTypePrint</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UIActivityTypeAssignToContact</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UIActivityTypeSaveToCameraRoll</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UIActivityTypeAddToReadingList</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UIActivityTypePostToFlickr</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UIActivityTypePostToVimeo</span></span>]; activityVC.excludedActivityTypes = excludeActivities; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> presentViewController:activityVC animated:<span class="hljs-literal"><span class="hljs-literal">YES</span></span> completion:<span class="hljs-literal"><span class="hljs-literal">nil</span></span>]; }</code> </pre><br><br>  I improved the interface, updated the application icon and added splash view (this is what appears before launching the application). <br>  The application was sent for the third time.  And this time, the application has finally sunburnt me happy status ‚ÄúReady For Sale‚Äù. <br><br>  <b>Why do I think that Apple strongly influenced the look and functionality of the application?</b>  <b>I think from the story everything became clear.</b>  <b>And for myself, I understood why Apple is so sensitive to checking applications sent to them for review.</b>  <b>No need to hurry anywhere, you need to make a quality product right away!</b>  <b>Apple loves quality and we made sure of that again!</b>  <b>Conclusions for themselves, of course, made.</b> <br><br>  PS I hasten to note for you, dear readers: my experience in developing for iOS is nothing ‚Äî literally since May 2014. <br><br>  PSPS Almost immediately on the second day after the day of the application's release, I received the first bad review of the application.  The main claims were as follows: the old charter for 2007, without updates for 2014 and in the application it was not possible to change the font size for ease of reading the charter.  The fault lay completely on me and I understood that.  On the same day, at the price of my dream, I realized all this and corrected other trifles.  Update already sent for review. <br>  After that, a special support group was created for this application, where the user will be able to see for himself that I heard them.  The group can be found on the App Store page in the ‚ÄúDeveloper‚Äôs Site‚Äù section. <br><br>  UPDATE! <br><br>  Now the application is in first place in the top paid applications category "News". <br><img src="https://habrastorage.org/getpro/habr/post_images/62e/241/697/62e24169719beba930240d19afb3e731.jpg" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/240881/">https://habr.com/ru/post/240881/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240867/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ 130 (October 12 - 19, 2014)</a></li>
<li><a href="../240869/index.html">Brick Drone - quadcopter from LEGO constructor</a></li>
<li><a href="../240871/index.html">Signature of object code with a certificate from StartSSL. Steps - paid, received, signed</a></li>
<li><a href="../240875/index.html">We use MVVM in Unity3D using NData</a></li>
<li><a href="../240877/index.html">The role of big data in private investigations and analysis</a></li>
<li><a href="../240883/index.html">Discover the Oro Platform</a></li>
<li><a href="../240885/index.html">How to change the parameters of accelerating the movement of the mouse cursor in Mac OS</a></li>
<li><a href="../240887/index.html">Why do I need a blog on Habr√©: experience Madrobots</a></li>
<li><a href="../240889/index.html">How to protect your server from the vulnerability POODLE SSLv3</a></li>
<li><a href="../240891/index.html">AsyncCollections: the story of one bike</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>