<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I made a snake on LabVIEW</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""From grain you to do / just for lulz" is dedicated to ... 



 Snake. The game is old (as Wikipedia says: the middle or even the end of the 1970s), b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I made a snake on LabVIEW</h1><div class="post__text post__text-html js-mediator-article">  "From grain you to do / just for lulz" is dedicated to ... <br><br><img src="https://habrastorage.org/storage1/adc38296/ce5f603d/a9b20179/c2c40e68.png"><br><br>  Snake.  The game is old (as <a href="http://ru.wikipedia.org/wiki/Snake_%2528%25D0%25B8%25D0%25B3%25D1%2580%25D0%25B0%2529">Wikipedia</a> says: the middle or even the end of the 1970s), but not less interesting, at least as an example of a simple but interesting algorithm to illustrate the possibilities of graphical programming in LabVIEW 2009. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  Actually the algorithm. </h4><br><br>  The basis of the game is a two-dimensional array of integers, which will represent the playing field.  The snake will be located in this array.  When a snake's head moves to a new array field (depending on the direction of the snake's movement), the lifetime of a particular cell will be added. <br><br>  Each cycle of the game cycle runs through the array reducing the values ‚Äã‚Äãof nonzero cells by one.  After that, non-zero cells on the screen are filled with color, and zero cells remain white.  Thus, a head of non-zero cells with a length equal to the lifetime of the first cell will constantly stretch behind the head moving across the field.  Thus, the cell's lifetime determines the length of the snake.  And the length can be increased or decreased. <br><br>  Increasing the length of the snake occurs when eating some kind of "food".  Food - a point on the playing field, described only by its two coordinates.  As soon as it is eaten, that is, the coordinates of the head of the snake coincide with the coordinates of the food, the length of the snake increases by 1, and the food gets a new pair of randomly selected coordinates. <br><br>  Reducing the length of the snake occurs when biting its own tail.  Yes, I understand that this is no longer a snake, but a worm of some kind, and that in a classic snake you should have ended the game with an amnover, but not the point.  This is done in the same simple way: if at some point the head of a snake enters a cell already occupied by its body, then its depth decreases by the value recorded at the bite site.  The remaining tail will lie quietly on the field, exhausting its time of life. <br><br>  The task is simple and clear.  Now let's turn to LabVIEW. <br><br><h4>  Game interface </h4><br><br>  Create an element on the form - an array and the simplest of the boolean indicators ‚ÄúFlat Square Button‚Äù from the ClassicBoolean toolbar. <br><br><img src="https://habrastorage.org/storage1/2bd939b8/fb07cb84/23151263/de4793e8.jpg"><br><br>  For a boolean indicator, we will hide its title and color it so that if it is false, he and his frame would be white, and if true, dark green and light green, respectively.  The indicator sizes are set to 10 x 10 pixels. <br><br>  Place the indicator in the array.  Let's make the array two-dimensional, as well as hide the array index indicators and its header.  The array itself is spread so that it displays 32 x 24 copies of the indicator. <br><br>  Let's paint the shape in nice colors.  This item is optional, but is my favorite. <br><br>  After all the manipulations, the playing field with a random set of true and false values ‚Äã‚Äãlooks like this. <br><br><img src="https://habrastorage.org/storage1/b6d18c27/ba948536/c87ed31e/6755e8ba.jpg"><br><br><h4>  The main cycle of the program. </h4><br><br>  The program will be based on a While loop, terminated by the false condition, that is, never.  Inside the loop we place the terminal of our array, and also connect the following variables to the array, which will store the main parameters of the game.  These are the coordinates of the head of the snake, the direction of its movement and its length, the coordinates of the food, combined into corresponding clusters, as well as the integer array mentioned in the first chapter.  It all looks like this: <br><br><img src="https://habrastorage.org/storage1/170716b2/ea0d34ac/bec52085/4c64e867.jpg"><br><br><h5>  Loop content </h5><br><br>  Inside the loop, we will add the Event Structure with the help of which we will subsequently capture events with the goal of processing signals from the keyboard about pressing control arrows, and a sequential structure within which we will step by step arrange the entire sequence of processing each step of the snake.  And the first step will be to run through the entire array with a decrease in all non-zero elements by 1. This is done using two for each nested in one another. <br><br><img src="https://habrastorage.org/storage1/ee226918/0b60cf3f/7a61bdf1/8eac8f5f.jpg"><br><br>  The next step is to change the coordinates of the head in accordance with the direction of movement and change the length of the snake in case of eating food or biting off its own tail.  The change of coordinates occurs with the help of Case - the structure to the terminal of the condition of which the variable direction is connected.  Depending on the value of the direction, one of the tabs of the structure is executed, on which the corresponding coordinate increases or decreases by 1.  If at the same time the coordinate goes beyond the maximum or zero, then it is zeroed, or set to the maximum to provide the so-called ‚Äúpassage through the edge of the screen‚Äù. <br><br>  If the new coordinates are pairwise equal to the food coordinates (two comparison operators and one And operator), then the length is increased by 1, and for food, new coordinates are generated using a random number generator (from 0 to 1) and coefficients.  Otherwise (the false tab is not shown) all three variables get the same values. <br><br>  If the array element with the coordinates of the new head position is not zero, then the value of this element is subtracted from the length of the snake.  If the length of the snake becomes less or equal to zero, then the value 1 is assigned to it, since the snake‚Äôs head always remains. <br><br>  Clusters of values ‚Äã‚Äãare going back to absorbing new values.  Values ‚Äã‚Äãthat have not been changed at this step can be not recalled again - they will remain the same and so on. <br><br><img src="https://habrastorage.org/storage1/7636338e/cbd88c8a/93da2af8/d1903c1b.jpg"><br><br>  In the next step, the snake's length is written to the new field as its lifetime, generating a Boolean array and uploading it to the indicator on the front panel.  That's not difficult.  Do not forget just before unloading, in addition, add true to the cell with coordinates equal to the food coordinates. <br><br><img src="https://habrastorage.org/storage1/1a2ce35d/148a7048/bc244185/fac7d6bf.jpg"><br><br><h4>  Control </h4><br><br>  That's the whole, actually snake, it remains only to fasten the control.  For him, we have already determined the Event - the structure, or speaking in Russian, the structure of events.  This multi-tab structure waits for one of the predefined events in it for a specified time interval, and executes the corresponding tab when it waits (well, or the timeout tab if it does not wait).  Events can be diverse, ranging from mouse clicks on the front panel of the application, and ending with system events.  We will be interested in the key down event of the keyboard. <br><br>  Move the event structure to the last frame of the sequential structure and insert into it the conductor containing the Snake cluster (since we will change its value by pressing the keyboard keys). <br><br>  Add an event, as an event source (Event Source) select:.  And as an event: Key -&gt; Key Down. <br><br>  Of the event parameters returned by the structure, we are only interested in the VKey parameter, which contains the key code that triggered the event.  Add a Case - a structure that will give out 0 if the key was pressed to the left, 1 - if down, 2 - to the right, and 3 - up.  and if any other key was pressed, the direction value would remain unchanged.  an additional delay is added so that the triggering of the event structure does not shorten the interval between ticks. <br><br><img src="https://habrastorage.org/storage1/eddcd039/325d800d/0a7721e0/ce28040b.jpg"><br><br>  That's all.  You can run and play.  Of course, it would be nice to display the number of points scored on the front panel, the level of complexity on which the game speed would depend (the amount of time between measures) and much more, well, you can improve anything indefinitely, and further improvements do not carry illustrative goals. <br><br>  For those who wish, you can familiarize yourself with the full scheme of the application <a href="http://www.imagepost.ru/%3Fv%3Dfull_6.png">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/133708/">https://habr.com/ru/post/133708/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133700/index.html">Integrating Qt applications into Mac OS X (using Cocoa and Objective-C ++)</a></li>
<li><a href="../133703/index.html">Using HTTP proxy and SOCKS in Linux</a></li>
<li><a href="../133705/index.html">Subtitles in HTML5 Video, CORS, FileAPI Writer and other new features in the new preview of Internet Explorer 10</a></li>
<li><a href="../133706/index.html">The best site in the world</a></li>
<li><a href="../133707/index.html">Precedent: Facebook has signed a user data agreement with the US government</a></li>
<li><a href="../133709/index.html">Video review omnivorous reader PocketBook Pro 602</a></li>
<li><a href="../133710/index.html">The new version of SkyDrive: convenient file sharing, HTML5-loading, etc.</a></li>
<li><a href="../133711/index.html">Website Optimization Tips</a></li>
<li><a href="../133713/index.html">Payment for the work of a freelancer from the account of an individual or legal entity</a></li>
<li><a href="../133714/index.html">WordPress.com offers an AdSense alternative for its users.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>