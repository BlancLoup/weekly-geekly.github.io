<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Meld in windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quick Reference: Meld is a utility for visually comparing files / folders. 

 Surely not everyone agrees that this instrument is worth those dances wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Meld in windows</h1><div class="post__text post__text-html js-mediator-article">  Quick Reference: <a href="http://meld.sourceforge.net/">Meld</a> is a utility for visually comparing files / folders. <br><br>  Surely not everyone agrees that this instrument is worth those dances with a tambourine that must be performed around it for less comfortable work (Meld is slightly not designed for work in Windows, but since it is written in python using GTK, it can also function in it) .  I, having poked the free alternatives with my wand, decided for myself that if it got started, then the efforts would not be in vain. <br><br><a name="habracut"></a>  I suggest that interested to get to the point. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The process can be divided into two parts: installation and finishing. <br><br><h3>  Installation </h3><br>  The main manipulations are described here: <a href="http://live.gnome.org/Meld/Windows">Meld / Windows</a> .  Below is the same list with my comments. <br><ol><li>  Python: <ul><li>  I didn‚Äôt juggle with versions of python, I installed the one specified in the manual. </li><li>  <a href="">http://python.org/ftp/python/2.6.2/python-2.6.2.msi</a> . </li><li>  Install (eg c: \ dev \ python). </li></ul></li><li>  GTK + All-in-one bundle: <ul><li>  But this pack, I took a newer (2.18 instead of 2.16). </li><li>  <a href="">http://ftp.gnome.org/pub/gnome/binaries/win32/gtk+/2.18/gtk+-bundle_2.18.7-20100213_win32.zip</a> . </li><li>  Unpack (eg c: \ dev \ gtk). </li></ul></li><li>  Python gnome bindings: <ul><li>  With these things you need more careful.  Almost the wrong version, nothing works right away. </li><li>  <a href="">http://ftp.gnome.org/pub/GNOME/binaries/win32/pygtk/2.12/pygtk-2.12.1-3.win32-py2.6.exe</a> . </li><li>  <a href="">http://ftp.gnome.org/pub/GNOME/binaries/win32/pygobject/2.20/pygobject-2.20.0.win32-py2.6.exe</a> . </li><li>  <a href="">http://ftp.gnome.org/pub/GNOME/binaries/win32/pycairo/1.4/pycairo-1.4.12-2.win32-py2.6.exe</a> . </li><li>  From myself I will add pygtksourceview, it was useful when dopilivanii. </li><li>  <a href="">http://ftp.gnome.org/pub/GNOME/binaries/win32/pygtksourceview/2.2/pygtksourceview-2.2.0.win32-py2.6.exe</a> . </li><li>  All this needs to be installed by making sure that the installer correctly found the folder with python (eg c: \ dev \ python). </li></ul></li><li>  libglade: <ul><li>  Here, too, unchanged, especially since the latest version at the moment. </li><li>  <a href="">http://downloads.sourceforge.net/gladewin32/gtk-2.12.9-win32-2.exe</a> . </li><li>  Install (eg c: \ dev \ glade). </li></ul></li><li>  gtksourceview: <ul><li>  A couple of these versions (pygtksourceview-2.2.0 and gtksourceview-2.2.2) have worked for me. </li><li>  <a href="">http://ftp.gnome.org/pub/GNOME/binaries/win32/gtksourceview/2.2/gtksourceview-2.2.2.zip</a> . </li><li>  And you will need version 2.9.3, because  2.2.2 lacks some files. </li><li>  <a href="">http://ftp.gnome.org/pub/GNOME/binaries/win32/gtksourceview/2.9/gtksourceview-2.9.3.zip</a> . </li><li>  Unpacking 2.2.2 (eg c: \ dev \ gtksourceview). </li></ul></li><li>  Cygwin: <ul><li>  Why I did not understand Cygwin.  Works without it. </li><li>  <a href="">http://www.cygwin.com/setup.exe</a> . </li><li>  Install according to the situation (eg c: \ dev \ cygwin). </li><li>  If it does not work, neither without Cygwin'a, nor with it, you need to install the patch package. </li></ul></li><li>  Download meld source code: <ul><li>  <a href="">http://ftp.gnome.org/pub/gnome/sources/meld/1.3/meld-1.3.1.tar.bz2</a> </li><li>  Unpack (eg c: \ dev \ meld). </li></ul></li><li>  Add this to your Path: <ul><li>  Yes, yes, in the PATH variable, add paths to python (item 1, c: \ dev \ python), to libraries (items 2, 4 and 5, c: \ dev \ gtk \ bin, c: \ dev \ glade \ bin and c: \ dev \ gtksourceview \ bin) and to Cygwin if it is installed (point 6, c: \ dev \ cygwin \ bin).  You can also add a path to Meld himself (point 7, c: \ dev \ meld \ meld-1.3.1) </li></ul></li></ol>  Now, if you run <i>python</i> , specifying the path to Meld (c: \ dev \ meld \ meld-1.3.1 \ meld) as a parameter, the Meld window should open.  Otherwise, either I was sealed, or you did something wrong. <br><br><h3>  Dopilivanie </h3><ol><li>  The first question, after a successful launch: ‚Äúwhat the hell is this black console window for me ?!‚Äù. <br><br>  The solution is simple: you do not need to run <i>python</i> , but <i>pythonw</i> . <br><br></li><li> The next point: the utility window does not save its position and the state of deployment to the full screen (not that fullscreen, but that maximized).  Perhaps this is a GTK problem, perhaps a windows window manager. <br>  I could not completely correct this behavior. <br><br>  Saving the position of the window can be realized by saving the coordinates manually, but since  positioning the window before displaying it is impossible, and moving it after the display is ugly, I did not do that. <br><br>  I decided to limit <code>WINDOW_STATE_MAXIMIZED</code> to saving the <code>WINDOW_STATE_MAXIMIZED</code> flag.  This is achieved by adding the <i>window_maximized</i> option to the application settings, and the <i>window-state-event</i> signal handler.  First, you need to describe the handler: in the <i>meldapp.glade</i> file (c: \ dev \ meld \ meld-1.3.1 \ glade2 \ meldapp.glade) in the <code>&lt;widget class="GtkWindow" id="meldapp"&gt;</code> add the line <code>&lt;signal name="window_state_event" handler="on_window_state_event"/&gt;</code> : <br><blockquote><pre>  --- c: \ dev \ meld-base \ meld-1.3.1 \ glade2 \ meldapp.glade
 +++ c: \ dev \ meld \ meld-1.3.1 \ glade2 \ meldapp.glade
 @@ -7.6 +7.7 @@
      &lt;property name = "title" translatable = "yes"&gt; Meld &lt;/ property&gt;
      &lt;property name = "icon"&gt; pixmaps / icon.png &lt;/ property&gt;
      &lt;signal name = "size_allocate" handler = "on_size_allocate" /&gt;
 + &lt;signal name = "window_state_event" handler = "on_window_state_event" /&gt;
      &lt;signal name = "delete_event" handler = "on_delete_event" /&gt;
          &lt;child&gt;
            &lt;widget class = "GtkVBox" id = "appvbox"&gt;
</pre></blockquote><br>  Then add a handler: in the <i>meldapp.py</i> file (c: \ dev \ meld \ meld-1.3.1 \ meldapp.py) add the <code>on_window_state_event</code> method: <br><blockquote><pre>  --- c: \ dev \ meld-base \ meld-1.3.1 \ meldapp.py
 +++ c: \ dev \ meld \ meld-1.3.1 \ meldapp.py
 @@ -615.6 +615.9 @@
          self.prefs.window_size_x = rect.width
          self.prefs.window_size_y = rect.height

 + def on_window_state_event (self, window, state):
 + self.prefs.window_maximized = bool (state.new_window_state &amp; gtk.gdk.WINDOW_STATE_MAXIMIZED)
 +
      #
      # Toolbar and menu items (file)
      #
</pre></blockquote><br>  Add default setting: <br><blockquote><pre>  --- c: \ dev \ meld-base \ meld-1.3.1 \ meldapp.py
 +++ c: \ dev \ meld \ meld-1.3.1 \ meldapp.py
 @@ -313.6 +313.7 @@
      defaults = {
          "window_size_x": prefs.Value (prefs.INT, 600),
          "window_size_y": prefs.Value (prefs.INT, 600),
 + "window_maximized": prefs.Value (prefs.BOOL, 1),
          "use_custom_font": prefs.Value (prefs.BOOL, 0),
          "custom_font": prefs.Value (prefs.STRING, "monospace, 14"),
          "tab_size": prefs.Value (prefs.INT, 4),
</pre></blockquote><br>  And finally, apply the setting before displaying the window: <br><blockquote><pre>  --- c: \ dev \ meld-base \ meld-1.3.1 \ meldapp.py
 +++ c: \ dev \ meld \ meld-1.3.1 \ meldapp.py
 @@ -499.6 +500.8 @@
          self.scheduler.connect ("runnable", self.on_scheduler_runnable)
          self.widget.set_default_size (self.prefs.window_size_x, self.prefs.window_size_y)
          self.ui.ensure_update ()
 + if self.prefs.window_maximized:
 + self.widget.maximize ()
          self.widget.show ()
          self.widget.connect ('focus_in_event', self.on_focus_change)
          self.widget.connect ('focus_out_event', self.on_focus_change)
</pre></blockquote><br></li><li>  Some settings, such as the toolbar display style, are taken from the GNOME desktop configuration files, and if they are not, the default setting is used.  For the toolbar style, this is <code>TOOLBAR_BOTH</code> , i.e.  display of icons and signatures. <br><br>  For myself, I just changed to <code>TOOLBAR_ICONS</code> : <br><blockquote><pre>  --- c: \ dev \ meld-base \ meld-1.3.1 \ meldapp.py
 +++ c: \ dev \ meld \ meld-1.3.1 \ meldapp.py
 @@ -375.7 +376.7 @@

      def get_toolbar_style (self):
          if not hasattr (self, "_gconf"):
 - return gtk.TOOLBAR_BOTH
 + return gtk.TOOLBAR_ICONS
          style = self._gconf.get_string ('/ desktop / gnome / interface / toolbar_style') or "both"
          style = {"both": gtk.TOOLBAR_BOTH, "text": gtk.TOOLBAR_TEXT,
                   "icon": gtk.TOOLBAR_ICONS, "icons": gtk.TOOLBAR_ICONS,
</pre></blockquote><br></li><li>  Funny things happen when saving files with hyphens other than LF (\ n).  In this case, all LFs are replaced by file transfers, so CRLF (\ r \ n) is converted to CRCRLF, and the next time it is saved again. <br><br>  Perhaps the problem lies in the incorrect parsing of the file (in Ubuntu Meld does not allow this), but so far I have solved it, simply commenting out a section of code that replaces some hyphens with others: <br><blockquote><pre>  --- c: \ dev \ meld-base \ meld-1.3.1 \ filediff.py
 +++ c: \ dev \ meld \ meld-1.3.1 \ filediff.py
 @@ -815.6 +815.7 @@
              else:
                  return melddoc.RESULT_ERROR
          text = buf.get_text (buf.get_start_iter (), buf.get_end_iter (), 0)
 + "" "
          if bufdata.newlines:
              if type (bufdata.newlines) == type (""):
                  if (bufdata.newlines)! = '\ n':
 @@ -832.6 +833.7 @@
                          if k! = '\ n':
                              text = text.replace ('\ n', k)
                          break
 + "" "
          if bufdata.encoding:
              try:
                  text = text.encode (bufdata.encoding)
</pre></blockquote><br>  Moreover, the same code makes all transfers even with one comb. <br><br></li><li>  In Meld, which was installed according to the instructions on the GNOME website, the syntax highlighting functions, the display of line numbers and the display of spaces instead of tabs are not available. <br><br>  To fix this, I added the gtksourceview-2.2.2 library to the manual.  It lacks the <i>language.rng</i> , <i>language2.rng</i> and <i>styles.rng files</i> , but they are in gtksourceview-2.9.3 in the share \ gtksourceview-2.0 \ language-specs folder.  They just need to be copied to a similar one in gtksourceview-2.2.2. </li></ol>  Now Meld behaves quite adequately.  You can use. <br><br>  If someone practices the above, take a look from time to time, there may be updates. <br><br>  PS I haven‚Äôt dealt with python, GTK and PyGTK before, so if you have written outright nonsense somewhere, please correct. </div><p>Source: <a href="https://habr.com/ru/post/87597/">https://habr.com/ru/post/87597/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../87587/index.html">EP3 Sonic Defenders - Ear Plugs</a></li>
<li><a href="../87588/index.html">International competition of blogs The BOBs: among the finalists - blogs in Russian!</a></li>
<li><a href="../87590/index.html">Beeline does not work links in your account</a></li>
<li><a href="../87594/index.html">Faster, higher, stronger - A-Data fast memory review</a></li>
<li><a href="../87595/index.html">10 online stores with the highest conversion, January 2010</a></li>
<li><a href="../87599/index.html">Main arteries of your office</a></li>
<li><a href="../87600/index.html">ON for the organization of full-time education</a></li>
<li><a href="../87603/index.html">Opera Unite for daily use</a></li>
<li><a href="../87608/index.html">Riot for Farmer</a></li>
<li><a href="../87615/index.html">CAPTCHA hackers earned $ 25 million</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>