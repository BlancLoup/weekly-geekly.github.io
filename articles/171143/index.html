<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NetBSD / hpcmips</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, a review of the vintage NEC MobilePro 790 keyboard handheld caused a very lively discussion. But on the whole, the device is now useless due...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>NetBSD / hpcmips</h1><div class="post__text post__text-html js-mediator-article">  Recently, a review of the vintage NEC MobilePro 790 keyboard handheld caused a very lively discussion. But on the whole, the device is now useless due to an extinct operating system.  You can try to get around this obstacle.  Yes, we put NetBSD. <br><img src="https://habrastorage.org/getpro/habr/post_images/e6f/01d/90b/e6f01d90b6b889826fa6e0e1b4bcdbe4.jpg" alt="image"><br>  (c) Not mine <br><a name="habracut"></a><br><br><h4>  Training </h4><br>  A NetBSD / hpcmips 6.0.1 system will be placed on the CF card.  At hand was one of 4 GB, that's enough with his head.  The card can be placed either in its native slot, or in the adapter on PCMCIA - there is no difference.  The sequence is approximately as follows: the backup is all over ActiveSync, because the contents of the RAM are lost, installing the kernel, installer and bootloader into the onboard flash - it is not overwritten upon reboot, take care of the installer access to the packages - there are options.  The installer offers a choice to download from the official repository, FTP, from somewhere else such as NFS or from a disk partition.  Initially, I intended to download directly via PCMCIA WiFi.  The network picked up without the slightest problem, but then multiple unpacking errors went.  I did not want to mess around, I wrote off a buggy Chinese router, so I <a href="">uploaded</a> all the packages to the card section from here: <a href="">ftp.netbsd.org/pub/NetBSD/NetBSD-6.0.1/hpcmips/binary/sets</a> .  It did not help, errors remained.  I can not say what it is connected with - the card is good and works with other devices without errors.  Further installation had to be carried out on the GXEmul emulator.  In general, a flash drive with such a scheme should be divided into two sections - into one package and, if necessary, the bootloader with all that is necessary, the second should be left empty and not broken - NetBSD will divide it into subsections during installation. <br><br><h4>  Installation </h4><br>  We need the <a href="">pbsdboot.exe</a> bootloader and the <a href="">netbsd.gz</a> kernel / installer from here: <a href="">ftp.netbsd.org/pub/NetBSD/NetBSD-6.0.1/hpcmips/installation</a> .  It also makes sense to put a <a href="">core</a> nearby, in the unpacked form.  We throw in the flash or on the FAT-section of the card.  The manual recommends a newer hpcboot bootloader, but it did not work for me. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/c51/57a/0aa/c5157a0aae408c52c5c80b2a7c0c0ac8.jpg"><br><br>  In the bootloader, you must specify the full path to the installer, it will look like / Internal Flash ROM / bsd / netbsd.gz, and the framebuffer parameters in the drop-down list.  When you click on the Boot, the kernel starts to boot.  The process is slow, takes minutes 3. This will end with the appearance of the installer.  After an obvious choice of language there will be a not so obvious approach to the console for the names of the disk partitions. <br><br><img src="https://habrastorage.org/storage2/336/b96/49b/336b9649b8265448d35fc8f1d29f374b.jpg"><br>  Here you have to select ‚ÄúUtility‚Äù, then ‚ÄúRun / bin / sh‚Äù and execute <code>disklabel wd0</code> . <br><br><img src="https://habrastorage.org/storage2/c2d/29a/01f/c2d29a01fcf01775261ef7f67aa790c0.jpg"><br><br>  The section with packages must be remembered, it will be a type name wd0e.  We will need it later when specifying the source of the packages.  Further actions are generally very obvious to a person who has ever installed at least Linux.  Small difficulties caused except that the partitioning of the disk.  NetBSD takes one partition and splits it into /, swap, and so on.  It was unusual. <br><br><h4>  Job </h4><br>  After restarting the installer-&gt; WinCE-&gt; bootloader with the kernel from the package, we get the root console, there is no default password.  The system is loaded for several minutes.  The longest stage is the update fontconfig. <br><br><img src="https://habrastorage.org/storage2/0f9/244/442/0f92444420240c22316d324089f15ad9.jpg"><br><img src="https://habrastorage.org/storage2/e1e/2a6/c53/e1e2a6c5380b53aa14b2d522991c43ad.jpg"><br>  Memory in a freshly loaded system is free somewhere around 8-9 MB out of cash 32 minus a little bit.  And then, honestly, there is no it - this work.  X does not start.  And in the emulator work.  I am writing off some problems with wscons, the console and framebuffer driver.  And maybe with the equipment.  But all attempts to pull the available strings to success did not lead.  On the emulator it looks like this: <br><img src="https://habrastorage.org/storage2/404/320/663/404320663faecf29226e1565ea026da9.jpg"><br><br><h4>  Gxemul </h4><br>  Oddly enough, there is a very good emulator of this machine - GXEmul.  Not all of it is emulated, but a significant part of it.  For the person who started QEMU or Bochs it will not be easy to figure it out.  Here is the instruction: <a href="http://gxemul.sourceforge.net/gxemul-stable/doc/guestoses.html">gxemul.sourceforge.net/gxemul-stable/doc/guestoses.html#netbsdhpcmipsinstall</a> .  There is a caveat that using the -X option (a window with a framebuffer instead of a text console) does not work the arrows on the keyboard, which leads to a deadlock in the installer when splitting the slice into sections - it is in this dialog, the only one of all time, there are no shortcuts, and the choice of the ‚ÄúOK‚Äù item can only be made by arrows.  However, if you put it on a virtual disk and use it entirely, then this moment will not arise at all.  The speed of operation is surprisingly consistent with the real machine, I launch it on Pentium M 1.8.  I don‚Äôt know how to load Windows CE in it.  Perhaps, dump the firmware.  But to do this is no pleasure, to be honest <br><br><h4>  findings </h4><br>  In the museum, definitely.  No practical use </div><p>Source: <a href="https://habr.com/ru/post/171143/">https://habr.com/ru/post/171143/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../171131/index.html">IBM Watson supercomputer could be your next chef or doctor</a></li>
<li><a href="../171135/index.html">Urbee 2: a real car printed on a 3D printer</a></li>
<li><a href="../171137/index.html">Microsoft Surface RT will be available in Russia</a></li>
<li><a href="../171139/index.html">Overview of free SIP clients for Windows</a></li>
<li><a href="../171141/index.html">Writing an HTML widget for the iBook Author application</a></li>
<li><a href="../171145/index.html">The first lawsuit under the new law 187-–§–ó. VKontakte on the verge of blocking?</a></li>
<li><a href="../171147/index.html">How we voiced the temple</a></li>
<li><a href="../171151/index.html">Garbage Collector's unexpected behavior of sessions</a></li>
<li><a href="../171153/index.html">Perfect watch</a></li>
<li><a href="../171155/index.html">DataEngine and Python2 or How I wrote my widget</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>