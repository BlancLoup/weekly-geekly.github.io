<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>7 rules of writing programs that will not die with you</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Your programs are your legacy. Decide for yourself how long it will exist. 

 Life ends, but programs don't have to die. 

 After a series of my tweet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>7 rules of writing programs that will not die with you</h1><div class="post__text post__text-html js-mediator-article">  Your programs are your legacy.  Decide for yourself how long it will exist. <br><br>  Life ends, but programs don't have to die. <br><br>  After a <a href="https://twitter.com/karangoel/status/555939307458789376">series of my tweets</a> on how to write programs, I was asked to reveal this topic.  I warn you that rarely in which project can you clearly follow all seven rules.  I myself often do not get it.  But the more rules you follow, the more your programs will survive.  Each symbol adds something to a common ecosystem, and our task, as engineers, is to keep the ecosystem clean and tidy. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What can I get by giving a good code?  Doesn't the right to live a learning approach called ‚Äúmove faster, breaking everything in your path?‚Äù No.  Learning to write code is a skill, it is accessible to everyone.  Learning to write good code is an art.  It takes effort, time and dedication. <br><a name="habracut"></a><br>  Do you want to leave even more <a href="http://en.wikipedia.org/wiki/Segmentation_fault">SEGFAULTs</a> after the death of the world?  Do you want to have a sysadmin repairing systems that are broken because of your crappy code?  So that your project manager will remember you as an engineer who has infuriated users? <br><br>  There is nothing wrong with fast forwarding, but at some point you need to realize that low-quality code will not take you far. <br><br>  When you come to the doctor, he first asks you many questions in order to understand what happened to you.  He does not prescribe medication before making a diagnosis.  Likewise, it‚Äôs important to find out if something is wrong with your code. <br><br>  1. Nakat updates takes a lot of time and effort? <br>  2. Is the system crashing even from a small update? <br>  3. Have you ever rolled out a broken code for production, and this became known only after user complaints? <br>  4. Do you know what to do when the system crashes?  How to get to backups and recover from them? <br>  5. Do you spend more time changing environments, re-running the same commands, running some utilities - than writing programs? <br><br>  If you answered "yes" - this article is for you.  Read, but better read twice. <br><br><h4>  1. Divide into modules </h4><br>  The human brain is a complex device, <a href="http://en.wikipedia.org/wiki/Human_brain">more complex than any processor</a> , and it does not cope with the solution of complex problems.  Suppose it is difficult to immediately multiply 13 * 35.  But if we divide these operations into simple ones: 35 * 10 + 30 * 3 + 5 * 3 = 455, then the calculation is simplified.  Breaking down the problem into simple and independent, we come to the answer. <br><br>  The same with programs.  Split the program into several parts, files, directories.  projects.  Print all dependencies in one place, use the MVC principle or its variant.  This code is easier to read and easier to debug.  In most cases, debugging will lead you to several lines of code, and not to a file of a thousand lines.  Rolling updates of one module, you will not break the rest of the system. <br><br><h4>  2. Test </h4><br>  Fu, tests.  Brrrrrr! <br><br>  Such a reaction is natural because we have been taught that tests are not part of the programming.  You are taught patterns in C ++, but not how to test them.  That is the problem.  Some believe that the tests are over writing up to the program itself. <br><br>  I don't care when you write tests, if you write them.  No need to be a hero, start with a simple one (print (add (1, 1) == 2)), and then go to the test framework in your language. <br><br>  Then you will begin to understand the complexity of your program, learn to divide it into modules, parts that can be tested separately.  It turns out that using tests, you will already perform two of the seven rules. <br><br><h4>  3. Continuous integration </h4><br>  Tests should successfully work, and in different environments (for example, in different versions of Python).  Also tests should be carried out after each change.  Instead of doing it manually from the command line, it is more convenient and faster to create a platform for continuous integration. <br><br><blockquote>  <a href="http://www.thoughtworks.com/continuous-integration">Continuous Integration</a> (NI) is a development practice in which code integrates into the repository several times a day.  Each time it is checked automatically, allowing you to track problems at an early stage. </blockquote><br><br>  For my projects I use <a href="https://travis-ci.org/">TravisCI</a> and <a href="https://drone.io/">Drone.io</a> .  When I make a new addition to the code, the platform does the build and executes the tests. <br><br><h4>  4. Automate </h4><br>  Large projects always have a lot of small auxiliary tasks.  Some people make tekstoviki with teams and copy them from there.  But it's easier to learn <a href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html">bash</a> (and / or Python) <a href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html">scripts</a> .  Here are some tasks that need to be automated with scripts: <br><br>  - conversion of README.md to other formats <br>  - automated testing (including creating test servers and data, deleting temporary files, etc.) <br>  - upload code to the development server <br>  - program placement on production <br>  - automatic update dependencies <br><br><h4>  5. Redundancy </h4><br>  The first thing you see on git-scm.com: <br><br><blockquote>  Git is a free, open source distributed version control system designed to work with both small and very large projects with high speed and efficiency. </blockquote><br><br>  Distributed  This is the key word.  Pinch yourself if you are hosted only on a githaba.  Because it is a single point of failure.  If the githab crashes, or during a push operation you damaged files, your development process stops. <br><br>  Login to <a href="https://bitbucket.org/">Bitbucket</a> and do the following in your repository: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># rename origin remote git remote rename origin github # add the gitlab remote (for the love of everything that's holy, use ssh) git remote add bitbucket &lt;remote link for bitbucket&gt; # push existing code to new remote git push -u bitbucket ‚Äîall # let's magic git config -e # add this in the file [remote ‚Äúorigin‚Äù] url = git@github.com:username/reponame.git url = &lt;remote link for bitbucket&gt;</span></span></code> </pre> <br><br>  Now, when you upload code, the changes go both to Github and Bitbucket.  You never know when something breaks.  And it is always useful to have backups.  Here's how it works for me: <br><br>  - all code lives in the Codebase directory in Dropbox.  Automatic sync. <br>  - almost all code lives on Github <br>  - the most important code lives on two private mirrors - one at school, the other on my AWS <br><br>  I will lose my code only if the end of the world comes. <br><br><h4>  6 commits </h4><br>  This should be familiar to you.  Take a look at the story and you will see something like: <br><br><blockquote>  "Fixed a bug in the module" </blockquote><br><br>  SERIOUSLY?!?! <br><br>  Corrected?  What mistake?  Which module? <br><br>  Many people regard the version control system as a backup, and not as a way to keep history.  The history of such messages is useless.  Suppose a week after this commit you decided to bring something back, because it introduced a new bug to the project.  But since there is no description of the action, you need to review all the changes.  To prevent this, version control systems were created. <br><br>  So as not to strain, just use the following key: <br><br>  - each commit should have a point.  Bug fix, add new feature, delete existing one? <br>  - only one change per commit <br>  - include the problem number in the commit message <br>  - include a description of the changes.  It depends on the rules of the current project, but usually you mention what caused the error, how you fixed it and how to test it. <br>  - write a meaningful message: <br><br>  <i>Added a new form in the header to make it easier to collect links.</i>  <i>shut down # 3</i> <br><br>  instead <br><br>  <i>deleted everything, for why not, heh</i> <br><br><h4>  7. Plan </h4><br>  Even if you follow all the previous rules and feel like a programming god, anything can happen anyway.  Have a plan for the worst case.  What if traffic breaks records?  Where do you get backups if the system crashes?  Who to call at night, if the server does? <br><br>  Think over, but do not overdo it.  Automate everything that is possible.  Then document everything in detail.  So that whoever receives your code can also follow the plan.  Having a plan does not only mean looking smarter, it really means being smarter. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/395/561/baf/395561baff1b5c7136334c98c4a798b8.png" alt="image"><br><br>  These are the rules and determine a good program.  If they are not convinced, answer me two questions: <br><br>  1. Do you expect from a newcomer to join you that he will understand the existing code with ease? <br>  2. Is code refactoring simple and quick? <br><br>  If not, reread again.  Save, share with the team. <br><br>  These rules may seem obvious at first.  And there is.  Bad code is constantly being created, and in the end, it dies.  Your programs are your legacy.  Decide for yourself how long it will exist. <br><br>  Happy programming. </div><p>Source: <a href="https://habr.com/ru/post/250645/">https://habr.com/ru/post/250645/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250633/index.html">Machine learning - 1. Correlation and regression. Example: site visitors conversion</a></li>
<li><a href="../250637/index.html">Details about the internal kitchen AngularJS</a></li>
<li><a href="../25064/index.html">Pseudo-Friday: Murtazin leaks memory on the disk.</a></li>
<li><a href="../250641/index.html">Solution: Adobe AIR does not find a connected iOS device from under Windows 7</a></li>
<li><a href="../250643/index.html">Without cuts. The second month of cashback service Kubyshka in Russia</a></li>
<li><a href="../25065/index.html">XP tweaks: transfer temporary files and cache to ramdisk</a></li>
<li><a href="../250653/index.html">Setting up the IPAM service step by step</a></li>
<li><a href="../250657/index.html">DevCon Digest # 2. Immerse in ASP.NET</a></li>
<li><a href="../250659/index.html">Android application architecture ... The right way?</a></li>
<li><a href="../25066/index.html">Mozilla chose Mindtouch as the future platform for the Developer Community.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>