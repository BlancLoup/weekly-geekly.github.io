<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MongoDB features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I watched videos from the Mongo Moscow conference . 
 Here are the theses about the possibilities left over from what was viewed. 
 The translation wa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MongoDB features</h1><div class="post__text post__text-html js-mediator-article">  I watched videos from <a href="http://www.digitaloctober.ru/event/Mongo_DB_conference">the Mongo Moscow conference</a> . <br>  Here are the theses about the possibilities left over from what was viewed. <br>  The translation was not so hot, looked at English, could make a mess of something. <br>  I tried to be objective, if it didn't work out - write :) <br><br><a name="habracut"></a><br><br><ol><li>  The data in MongoDB is a list of JSON hashes, with nested arrays and hashes. </li><li>  A document is one such hash. </li><li>  Therefore, there is no ALTER TABLE - the record structures are independent of each other. </li><li>  Collations are now poorly supported, UTF is good. </li><li>  Hit the syntax in some places: In MongoDB, write 'db.schema.find ({"s", {$ gt: "a"}}) "instead of' where s&gt;" a '. </li><li>  No transactions.  But operations with documents are guaranteed to be atomic. </li><li>  When you call getLastError, it checks to see if an error has occurred.  In safe mode (in many drivers is the default) is called after each entry.  You can call less often - less overhead, but in case of an error you will have to rewrite a stack of records immediately. </li><li>  getLastError can not be expected from all servers, but only from a few. </li><li>  They propose to create documents rather complicated (for example, one document is a blog with nested posts, each with a nested comment tree).  This is a bad idea - the load on one element can become critically large. </li><li>  No JOIN.  Just create a data structure so that you do not need it.  Mice, become hedgehogs. </li><li>  There is replication, replication log (I do not know, binary or command). </li><li>  If the replication master has died, a new one will be selected among the slaves in 10‚Äì20 s. </li><li>  There are shards.  By ranges, not by hashes.  Ranges for each shard are set in the config. </li><li>  Resharing is carried out by adjusting these ranges.  At the same time, records for variable shards are blocked for the duration of the transfer. </li><li>  The data in the stack is divided into chunks of approximately 200M each. </li><li>  There is a MapReduce interface, but only a glimpse is mentioned about it. </li><li>  There are spatial indexes. </li><li>  <b>There is mmapped storage with customizable fsync frequency.</b> </li><li>  It seemed that they only kept the indexes in memory, but perhaps this was not the case.  I would not want to. </li><li>  Indices are some trees similar to B-tree.  It is better to periodically rebuild them, but since version 1.8, it is quite rare. </li><li>  Interesting - in the query filters, you can set the condition $ where and write the filter condition in JS in it. </li><li>  True, the indexes will not be used (still). </li><li>  There are sparse indexes - if the attribute is specified only for a small number of documents, only they will get into the index. </li><li>  Covered indexes are IOT, i.e.  The index contains other attributes so that the query can return results using only the data from the index, without access to the chunks with the documents. </li><li>  One entry in the index - about 40 bytes overhead. </li><li>  Empirical query optimizer that alarming. </li><li>  Optimizes the ratio of index scan to the number of returned documents. </li><li>  In any case, the used index can be specified in the hint. </li></ol></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/119703/">https://habr.com/ru/post/119703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119695/index.html">Free Wi-Fi with a little twist</a></li>
<li><a href="../119696/index.html">Likester. Facebook Trends</a></li>
<li><a href="../119697/index.html">Creating a simple 3D application with ShiVa3D</a></li>
<li><a href="../119699/index.html">Tron lightcycle: Tron style PC modding</a></li>
<li><a href="../119700/index.html">LW cryptography: ciphers for RFID systems</a></li>
<li><a href="../119706/index.html">Counting objects in a binary image. Part 2</a></li>
<li><a href="../119707/index.html">Free Windows images for testing sites in Internet Explorer</a></li>
<li><a href="../119711/index.html">How to finish the game</a></li>
<li><a href="../119712/index.html">Super-brand secrets: Apple (translation)</a></li>
<li><a href="../119720/index.html">Laptop Review Lenovo ThinkPad X220</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>