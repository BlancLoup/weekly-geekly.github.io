<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We are looking for hover support on css</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear habrakhabrovtsy! 

 When creating an adaptive version of the site, there are often situations when you need to know whether the browser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We are looking for hover support on css</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/e_/yz/9n/e_yz9ny_pfw8qvftvw9rfwy-sze.jpeg" alt="image" align="left" width="140">  Good day, dear habrakhabrovtsy! <br><br>  When creating an adaptive version of the site, there are often situations when you need to know whether the browser supports the user hover or not.  For example, drop-down when hovering a submenu, or various animations tied to a hover event - all this is needed only on a PC.  On touch devices, the behavior of the elements should change.  So how to set certain styles only for devices with hover support on css, without forgetting about cross-browser compatibility? <br><a name="habracut"></a><br>  At the beginning I just want to say that there is the Modernizr js-library, which solves this problem.  But ... Screwing this library only to determine support for hover, instead of writing a single media query in css is not the best option, in my opinion. <br><br>  But with media queries is not so simple.  Let's see what the options are! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1. <a href="https://habrahabr.ru/users/media/" class="user_link">media</a> (hover)</b> <br><br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:red;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (hover){ <span class="hljs-comment"><span class="hljs-comment">/* hover*/</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:green;} }</code> </pre> <br>  This media query will allow you to separately register styles only for devices that support hover.  But let's look at browser support: <a href="https://caniuse.com/">caniuse.com/#feat=css-media-interaction</a> <br><br>  As you can see, it is not supported by IE and Firefox.  Those.  our code will perceive these browsers as without hover support.  This option does not suit us! <br><br>  <b>2. <a href="https://habrahabr.ru/users/media/" class="user_link">media</a> (pointer: coarse)</b> <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:green;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (pointer:coarse){ <span class="hljs-comment"><span class="hljs-comment">/*touch-*/</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:red;} }</code> </pre> <br>  This query works exactly the opposite, i.e.  only for touch devices.  Support is the same as that of <a href="https://habrahabr.ru/users/media/" class="user_link">media</a> (hover), but because  IE and Firefox are PC browsers - this media query should not work in them anyway. <br><br>  Such a solution is quite suitable for those cases when you need to register styles specifically for touch devices.  But basically, the challenge is to prescribe styles for hover.  And this means that you have to first write styles for all browsers, and then drop them in the media query.  This not only increases the code, but is also rather inconvenient, since  you must duplicate every property changed at a hover event on an element. <br><br>  <b>3. <a href="https://habrahabr.ru/users/media/" class="user_link">media</a> (hover) +</b> <br><br>  Choosing from the above two options, the first is the most attractive.  There would be more browser support ... <br><br>  But, fortunately, we have a variety of media queries that are supported only in certain browsers.  The specificity of such support can be found <a href="http://browserhacks.com/">on this site</a> . <br><br>  So, this code will work only in IE: <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (min-width:<span class="hljs-number"><span class="hljs-number">0</span></span>\<span class="hljs-number"><span class="hljs-number">0</span></span>) {}</code> </pre> <br>  And this media query will only work for Firefox: <br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (min--moz-device-pixel-ratio:<span class="hljs-number"><span class="hljs-number">0</span></span>) {}</code> </pre> <br>  So let's combine all 3 requests! <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:red;} @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (hover) , (min-width:<span class="hljs-number"><span class="hljs-number">0</span></span>\<span class="hljs-number"><span class="hljs-number">0</span></span>) , (min--moz-device-pixel-ratio:<span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-comment"><span class="hljs-comment">/* hover*/</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:green;} }</code> </pre> <br>  The result is a universal media query, triggered by the support of hover. <br>  The request is supported in all major browsers, and as a bonus, it works correctly on Blackberry and in Opera Mini (which was not the case in version 2). <br><br>  Demo comparison of 3 approaches.  Green = hover support: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/liptonicetea/embed/preview/bLwZJN" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/348502/">https://habr.com/ru/post/348502/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../348492/index.html">Clothing stores in section: why are we so painful to go there</a></li>
<li><a href="../348494/index.html">Remove what is hidden: optimization of 3D scenes in the mobile game. Tips employees Plarium Krasnodar</a></li>
<li><a href="../348496/index.html">Social engineering as an attack method</a></li>
<li><a href="../348498/index.html">Neurogress: a platform of neural control systems from Blue Brain project participants</a></li>
<li><a href="../348500/index.html">Modern CSS for dinosaurs</a></li>
<li><a href="../348506/index.html">Kickstarter and games in 2017</a></li>
<li><a href="../348508/index.html">Interesting surprises ConcurrentDictionary (+ analysis of the problem with DotNext 2017 Moscow)</a></li>
<li><a href="../348510/index.html">We build a distributed reactive application and solve consistency problems.</a></li>
<li><a href="../348512/index.html">The transition from AngularJS to Angular: problems and solutions of the hybrid mode (2/3)</a></li>
<li><a href="../348516/index.html">Create a concept game without programming skills: how we conducted the first PixJam in the company</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>