<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mission critical communication and what does NFV have to do with it?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Looking for firefighters, 
 Looking for the police ... 

 What is mission critical communication? This is a relationship, on the reliability of which ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mission critical communication and what does NFV have to do with it?</h1><div class="post__text post__text-html js-mediator-article">  <i>Looking for firefighters,</i> <i><br></i>  <i>Looking for the police ...</i> <br><br>  What is mission critical communication?  This is a relationship, on the reliability of which people‚Äôs lives depend.  Examples of services for which such a connection is needed are the system-112, the Ministry of Emergency Situations, the security forces (the Ministry of Internal Affairs, the FSB, the Ministry of Defense).  Also mission critical communication is needed in the emergency zone and at facilities where accidents can have devastating effects: energy, chemical industry, public transport, etc. <br>  Mission critical communication networks are built on the basis of professional mobile radio communications (PMR) standards.  At the moment there are two main standards: <b>TETRA</b> (Terrestrial Trunked Radio) ETSI EN 300 392 and <b>DMR</b> (Digital Mobile Radio) ETSI 102 361. I will not go into details (information on these standards is available on the network), but they have, besides advantages , there is a significant drawback: they are sharpened for voice, and the speed of data and video transmission is significantly limited.  Although it is clear that the ability to transmit video from the scene can be critical.  What to do? <br><a name="habracut"></a><br>  When it comes to high-speed mobile Internet, LTE networks, which are already widespread both abroad and in Russia, are immediately remembered.  The solution seems simple and logical: to build a professional connection on the LTE network.  In addition to speeds, we immediately get coverage, which is provided by mobile operators.  No sooner said than done, and in 2014 the standard 3GPP TS 22.179 ‚ÄúMission Critical Push to Talk (MCPTT) over LTE‚Äù appeared.  Everything, 3GPP has done its job, now it remains for equipment manufacturers to implement support for MCPTT, and for telecom operators to introduce this equipment and PMR throughout the country!  :) Well, agree on RAN Sharing between the operators, but these are organizational details. <br><br><h2>  Examples of projects that use PMR </h2><br><ul><li>  Service-112 is being built in Russia, while the information sources for it are not only voice calls of people, but also GLONASS, video from surveillance cameras and even video cameras of intercoms. </li><li>  The possibility of controlling the traffic lights to ensure the "green line" fire engines.  <a href="http://www.comnews.ru/content/106549/2017-04-04/informacionnye-sistemy-za-bezopasnost">"Information Systems for Security"</a> </li><li>  PMR in transport and energy: <a href="http://www.comnews.ru/content/106509/2017-03-30/ms-spectelekom-gotov-k-zapusku-mvno">MS-Spetstelecom is ready to launch MVNO</a> </li><li>  <a href="http://www.rbc.ru/technology_and_media/11/11/2015/56432cf99a79473f00ad3721">MegaFon and project for MIA</a> </li></ul><br>  Despite the presence of examples, for PMR projects there is a significant limitation.  In Russia, as is known, the course has been taken to import equipment, and in such an important area for the state as Transdnistrian Moldavian Republic, the requirements for components are only becoming tougher.  But it is often impossible to find a replacement even for manufacturers of equipment for conventional mobile communication networks (such as Huawei, Ericsson, Nokia), and for PMR the problem is even more acute.  Not to mention the specialized terminals, the choice of which is extremely limited. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Ims </h2><br>  The smiley in the introduction was for a reason - everything, of course, is not so easy.  We start to dive into the standards ... The main functionality of the PMR is reliable voice communication, so first of all we look at what LTE offers.  We are surprised to find that the voice in LTE was not originally provided for and the technologies used for VoLTE have come a long way from the Circuit-Switched Fallback (CSFB) to using IMS (IP Multimedia Subsystem).  Currently, the use of IMS or SIP core in LTE is recognized as the target architecture for mobile networks.  What is IMS?  IMS standards appeared long before LTE and are used to organize voice and video transmission in packet data networks.  A very simplified diagram looks like this: <br><br><img src="https://habrastorage.org/files/719/755/74f/71975574f9bb44bd84a37cffd6983421.png"><br><br>  The complex scheme will not even try to draw, because  IMS is a separate world with hundreds of standards, if it's interesting, a little more here: <a href="http://sushkov.ru/articles/Article_vsp_in_ngn.htm">‚ÄúProviding voice services in next-generation communication networks‚Äù</a> .  Briefly according to the scheme.  The basic idea of ‚Äã‚ÄãIMS is to divide the architecture into layers: transport, management, and application layer.  The MRF (Media Resource Function) is located at the transport level, it provides services such as: conference calling, notification, transcoding of the transmitted signal, and MGW (Media Gateway) media gateways.  To simplify the scheme, I immediately drew the MGCF (Media Gateway Control Function), a control function for transport gateways, although in reality it is at the control level.  Call switching and control is performed by the CSCF (Call Session Control Function), which interacts with application servers and media gateways using the SIP protocol.  Subscriber profiles are stored in the HSS, the HSS interacts with the world using the Diameter protocol. <br><br><h2>  VoLTE </h2><br>  How do IMS fit in with LTE?  For this there is a special standard with requirements: GSMA PRD IR.92 v9.0: ‚ÄúIMS Profile for Voice and SMS‚Äù.  Those.  if the operator already has an IMS system, then it integrates it in accordance with the standard.  If not, then for VoLTE it can be limited to functional elements that implement only the necessary interfaces, then it will be called the SIP core.  Let's add to the LTE network: <br><img src="https://habrastorage.org/files/fae/fed/943/faefed9434234929b08be70c86182724.png"><br><br>  The actual architecture will depend on which systems already exist for the telecom operator.  For clarity, I did not divide PGW (Packet Data Network Gateway) for IMS and the Internet.  Again, for clarity, I painted the HSS common for LTE, IMS and PCRF, although the HSS for LTE and IMS are different in general, and for PCRF you need to draw a separate UDR or SPR.  The LTE Policy and Charging Rules PCRF controls the speed of the traffic that goes through PGW.  Accordingly, when the CSCF understands that a voice call starts, it instructs the PCRF to set a certain QCI priority for traffic (QoS Class Identifier), for more information about PCRF, see <a href="http://sushkov.ru/articles/Article_pcrf.htm">‚ÄúTariffing of modern data services in mobile networks and managing subscriber service policies‚Äù</a> . <br>  To install and control a voice call in VoLTE, it is necessary that the SIP goes from the subscriber device, i.e.  The device must support SIP natively or through the application.  The diagram shows SIP signaling flows (red arrows with small dotted lines) and data (blue arrows with large dotted lines).  Application servers are used to implement services over pure VoLTE, for example, to organize call forwarding, implement black / white lists, etc. <br><img src="https://habrastorage.org/files/301/42c/e67/30142ce67a09431796baf0142a10f3c3.png"><br><br><h2>  MCPTT </h2><br>  So, with VoLTE sorted out a little, for MCPTT network requirements are tightened: <br><br>  A new functionality is added - broadcast communication: one to many, many to many. <br><br>  It is necessary to prioritize calls and traffic; for this purpose, special QCI 65.66 are introduced, which should ensure a voice delay of no more than 75 ms and 100 ms, respectively. <br>  The devices themselves must also support the MCPTT natively and be able to communicate with each other directly, without the presence of a communication network. <br><br>  Let's turn to the standards and see what the telecom operator needs to do in order to run MCPTT over LTE.  In accordance with the standard, elements appear in MCPTT to support the broadcast messages of the MBMS GW (Multimedia Broadcast Multicast Services) and BM-SC (Broadcast Multicast Services Center), as well as the MCPTT Application Service and to implement the service logic and the MCPTT User DB for setting up and storing groups subscribers: <br><img src="https://habrastorage.org/files/68c/80d/80a/68c80d80a9414703ab268c917b3d8247.png"><br><br>  A little more detail.  The MCPTT Application Service consists of the MCPTT server, the Common service core, the MCPTT User Database, and the MCPTT client running on a user terminal.  From the circuit from the standard it becomes sad: <br><br><img src="https://habrastorage.org/files/202/bfa/b96/202bfab96b844df9a7e5b0e113b786c2.png"><br><br>  Therefore, painted more clearly: <br><img src="https://habrastorage.org/files/17e/c5a/60f/17ec5a60f6ae4c0387107f939a6b0311.png"><br><br>  <b>MCPTT server</b> <br>  The MCPTT server is a functional element (implementing the Group Communication Service Application Server GCS AS, as described in 3GPP TS 23.468) for controlling multicast and single calls.  The MCPTT server includes the SIP AS (Application Server), HTTP client and server.  Interacts with IMS and MTTP client via SIP protocol for: <br><br><ul><li>  obtain information on the location of the UE to determine the possibility of using multicast broadcasting; </li><li>  coordination and management of media streams (floor control).  Secure RTCP (SRTCP) protocol is used; </li><li>  transfer of media streams themselves (media distribution).  Secure RTP (SRTP) protocol is used; </li><li>  can directly control the PCRF over the Rx interface or interact with it through the IMS system; </li><li>  if the network has Multimedia Broadcast Multicast Services, it requests multicast resources for broadcasting. </li></ul><br>  <b>MCPTT DB</b> <br>  DDMA (Diameter Data Management Applications) is used to interact with the MCPTT DB.  SCTP is recommended as transport.  It provides data retrieval, subscription / unsubscription for notification of changes, receipt of changes, data modification.  When receiving data, MCPTT users are identified by MCPTT ID.  For MCPTT ID, the URI format is recommended. <br><br>  <b>Common service core</b> <br>  Interacts with the functional element of the ‚ÄúCommon service core‚Äù via HTTP and SIP protocols.  Common service core provides: <br><br><ul><li>  subscriber authentication and authorization (Identity); </li><li>  Subscribers connection to group calls; Group management; </li><li>  configuration management, such as service policies (Configuration); </li><li>  stores and transfers encryption keys (Key server); </li><li>  receives notifications about the connection of the MCPTT UE, informing the UE of calls; </li><li>  queues and prioritize calls. </li></ul><br>  To activate the MCPTT service, the following interaction sequence occurs. <br><img src="https://habrastorage.org/files/c01/e52/210/c01e5221007f4e7f82ee7dd675bcb983.png"><br><br><ol><li>  At the beginning of the call, the mobile terminal performs the usual Internet connection setup. </li><li>  But then the MCPTT client starts working, which authenticates the subscriber. </li><li>  Next is the registration of the SIP client in the IMS / SIP core. </li><li>  After successful SIP registration, the services are authorized. </li><li>  For this, the subscriber profile is requested from the MCPTT DB. </li><li>  The necessary configuration is sent from the profile to the client's MCPTT. </li><li>  And information about the groups in which the subscriber participates. </li><li>  Requested media resources are requested. </li><li>  And installed voice or video streams. </li></ol><br>  How full CallFlow looks like for setting up end-to-end connections can be found, for example, <a href="http://nemergent.com/blog/%3Fp%3D102">here</a> . <br><br><h2>  What does the NFV do with it? </h2><br>  About what is NFV, <a href="https://habrahabr.ru/company/billing/blog/316324/">I already wrote</a> .  How are Network Functions Virtualization and MCPTT related?  For telecom operators, launching VoLTE is the second step after building the LTE network itself.  But most operators lack IMS.  There is a natural desire to minimize cash and labor costs.  The reversal of the virtual environment and the launch of the necessary IMS elements on it in the form of virtual network functions (VNF) allows you to quickly achieve the desired.  Other network functions such as HSS or PCRF are also well virtualized.  And if the operator does not have them, their virtualization is quite logical.  In addition, the elements of the MCPTT system itself are subject to requirements for work in virtual environments.  What is probably worth doing iron, so this function "Media distribution", which performs the encoding of data streams. <br>  So for NFV there was another worthy application - MCPTT service! <br><br><h2>  Series of articles about NFV </h2><br>  <a href="https://habrahabr.ru/company/billing/blog/316324/">SDN &amp; NFV and what's the Cloud?</a> <br>  <a href="https://habrahabr.ru/company/billing/blog/317428/">Clouds like love</a> <br>  <a href="https://habrahabr.ru/company/billing/blog/326500/">Mission critical communication and what does NFV have to do with it?</a> <br>  Interfaces and functional blocks NFV (in operation) <br>  Manufacturers and use cases of SDN and NFV (planned) <br>  Cooking NFV at home (planned) <br>  BigData and NFV - is there a connection?  (planned) </div><p>Source: <a href="https://habr.com/ru/post/326500/">https://habr.com/ru/post/326500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326484/index.html">Architecture of modular React + Redux applications</a></li>
<li><a href="../326486/index.html">Nginx + Lua, flexible load balancing with session saving</a></li>
<li><a href="../326490/index.html">The third service is superfluous: Telegram is also friends with telephony</a></li>
<li><a href="../326494/index.html">7 Major Game Design Changes from the Nintendo 64 Era</a></li>
<li><a href="../326498/index.html">iThink - the first iOS conference from NIX Solutions in Kharkov</a></li>
<li><a href="../326506/index.html">No Bugs, No Flaws or the reliability of systems as such</a></li>
<li><a href="../326510/index.html">Walking through the data center TIER III</a></li>
<li><a href="../326512/index.html">Test of knowledge of mobile analytics from Appmetrica</a></li>
<li><a href="../326516/index.html">The process of creating a game about parkour on the example of Parkour Simulator 3D</a></li>
<li><a href="../326518/index.html">Yandex through the eyes of an intern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>