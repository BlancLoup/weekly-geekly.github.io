<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The tragedy of one hundred percent code coverage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's funny how things change. For fifteen years, I have faithfully adhered to the principles of TDD (development through testing, or, as they used to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The tragedy of one hundred percent code coverage</h1><div class="post__text post__text-html js-mediator-article">  It's funny how things change.  For fifteen years, I have faithfully adhered to the principles of TDD (development through testing, or, as they used to call it, test-first approach) or at least the view that developers should write unit tests.  But lately, I’ve been increasingly saying, not “This is a need to be tested,” but “Why did you write this test?” <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/c1b/7d7/23c/c1b7d723cfd9409fb23d3cbee0698d05.jpeg"></div><a name="habracut"></a><br><h4>  Why is that? </h4><br>  Once, when I was walking around the office, one developer stopped me and asked for help with unit tests.  He had some difficulties when using the Mockito to test this code here: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/040/0f9/9f2/0400f99f23cf4cbba6ada77911cf84e5.png"></div><br>  My answer seems to have surprised him.  I said, "It does not need to be tested." 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      “Of course you need!” He replied.  “How can I find out that everything works?” <br><br>  “This is a completely transparent code.  There is nothing like that in it: neither conditional attributes, nor cycles, nor transformations.  Just a normal piece of glue code. ” <br><br>  “But if you do not conduct the test, anyone can come, make some changes and break everything!” <br><br>  “Listen, even if this imaginary blunder or villain really comes and spoils everything - what do you think he will do when the corresponding unit test fails?  Delete, and all things. " <br><br>  “Well, what if you had to write a test?” <br><br>  "In that case, I would have come out of the situation like this." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/a26/753/908/a267539082634c6aa0d8defae567ab3b.png"></div><br>  “But you don't use the Mockito!” <br><br>  "So what?  Mockito doesn't help you here.  On the contrary, it interferes.  With him, the test will be neither easier nor more readable. " <br><br>  “But we decided that we will conduct all tests using the Mockito!” <br><br>  My answer: "…" <br><br>  The next time I ran into him, he proudly told me that he still managed to write this test on Mockito.  I understand what satisfaction you have when it turns out to make something work, and yet I somehow feel sad. <br><br><h4>  Another example </h4><br>  Another time, I was called by the developer, inspired by the high code coverage of one of his new applications and a flashing love of BDD (behavior-based development).  Looking through the code, we found such a test on Cucumber: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/317/ba4/97e/317ba497e4bc41528ee21a74a7b2393f.png"></div><br><br>  Those who worked with Cucumber will not be surprised by the amount of auxiliary code that it requires: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/8fa/a32/cb3/8faa32cb3bc54e1aa90f58c6336d5509.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/web/342/913/20e/34291320eef84e0fa9d92846bb48778e.png"></div><br>  And all this in order to test the following: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/bea/bab/d2a/beababd2a77c45568417a6799af1e328.png"></div><br>  Yes, a simple map lookup.  I had a fairly trusting relationship with this developer to say to him in plain English: “So much time was wasted.” <br><br>  He replied: "But my boss expects me to write tests for all classes." <br><br>  “And what does it cost you?” <br><br>  "Cost?" <br><br>  "Besides, this has nothing to do with BDD." <br><br>  "I know, but we decided to do all the tests with Cucumber." <br><br>  My answer: "...". <br><br>  I understand what satisfaction you have when you manage to adapt the instrument to your needs, and yet I somehow felt sad. <br><br><h4>  What is the tragedy? </h4><br>  The tragedy is that two talented developers (I would willingly go with them on a <a href="https://stripe.com/blog/bring-your-own-team">team interview</a> ) kill time for such tests - tests that have no use and which the next generations of developers from IG will have to maintain in working order. <br><br>  The tragedy is that instead of choosing the right tool for the job, we are tormented with those who are completely unsuitable and do not know why. <br><br>  The tragedy is that when “good practice” becomes generally accepted, we seem to forget how we came to it, what advantages it offers, and — most importantly — what expenses it requires. <br><br>  Instead of having it all in mind, we simply automatically apply it without much hesitation, and as a result we get very mediocre results - we lose most of the advantages, while paying the full price (sometimes with a charge).  My experience says that creating quality unit tests is not an easy job. <br><br><h4>  So is it worth processing the whole code? </h4><br>  Yes, everyone has to do it ... but only within the framework of one project. <br><br>  We have more than enough examples of one extreme: projects without a single unit test, and we already know how painful it is to work with them.  But few people have experience of interaction with the opposite extreme: projects that require 100% code coverage and adhere to TDD in everything.  Unit tests (especially those where the test first approach is implemented) are excellent practice, but we need to understand which tests are useful and which ones only reduce productivity. <br><br>  Remember: nothing costs us nothing, there are no magic wands.  It is always better to stop and think. </div><p>Source: <a href="https://habr.com/ru/post/328406/">https://habr.com/ru/post/328406/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../328390/index.html">Loyalty programs: how shops heat up customer interest</a></li>
<li><a href="../328394/index.html">Google I / O Extended 2017 in 20 cities of Russia</a></li>
<li><a href="../328398/index.html">EPAM FRONT-END OPEN DAY</a></li>
<li><a href="../328402/index.html">Use Spring Groovy context to create a configurable, interactive graphical UI</a></li>
<li><a href="../328404/index.html">How on Instagram disconnected the Python garbage collector and started living</a></li>
<li><a href="../328408/index.html">Essentialism and decision theory</a></li>
<li><a href="../328410/index.html">“They didn’t come up with anything, improvise” or Agile in information security</a></li>
<li><a href="../328412/index.html">Your idea is nonsense.</a></li>
<li><a href="../328416/index.html">Do not you send spam?</a></li>
<li><a href="../328418/index.html">Realistic Realm. 1 year experience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>