<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Behind the scenes of MixRadio: from the start of development to the Nokia X platform</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Friday, Habr! 
 As you already know at the Barcelona MWC 2014 exhibition, we presented a new line of Nokia X smartphones with an entire ecosystem of a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Behind the scenes of MixRadio: from the start of development to the Nokia X platform</h1><div class="post__text post__text-html js-mediator-article">  Friday, Habr! <br>  As <a href="http://habrahabr.ru/company/Nokia/blog/213717">you already know</a> at the Barcelona MWC 2014 exhibition, we presented a new line of Nokia X smartphones with an entire ecosystem of applications from Microsoft and Nokia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/745/668/8c1/7456688c11b6193c876524fd88a7c73d.png"><br><br>  One of the applications on the Nokia X platform is the well-proven MixRadio music streaming service on Lumia smartphones.  And today we want to share with you the story of developers about how they brought this service to the Nokia X platform and other details hidden from the eyes of a simple user. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Interesting details for those who are interested in developing applications under the cat. <br><a name="habracut"></a><br>  Creating a common code for MixRadio applications under various platforms has been our main and long-term task throughout the past year.  When we first started working on expanding the service, we faced the question of how to allocate efforts as efficiently and effectively as possible.  We came up with an action plan based on the architecture created as a result of working on the MixRadio application for Windows 8. We presented this architecture at <a href="http://channel9.msdn.com/Events/Build/2013/2-219">the Build 2013 conference</a> . <br><br><h4>  Why was the common code needed? </h4><br>  So why are we so committed to ensuring that all our applications use the same code?  First of all, because MixRadio should have identical functionality and usability on all devices, namely on devices of the Lumia line, Asha smartphones, computers and tablets on Windows 8.1, the web version of Mixrad.io, and now also on Nokia gadgets X. <br><br>  The Nokia MixRadio service itself is a kind of your personal radio station, which can be accessed from any device.  This means that by creating a MixRadio application for a new platform, we endow it with the basic functionality that is present in previously created applications for other platforms.  It is this application basis that can be implemented thanks to the common code. <br><br>  Common code can be used, for example, to access the API backend to retrieve data from a server, to manage an account or to cache data, and so on. <br><br>  Every time we created a new application and understood that the application has the potential to develop a common code, we had to face a choice.  Which is more correct: learn the lessons of past developments and create the ‚Äúright‚Äù new code from scratch or try to reuse the code that we already have and continue to make gradual improvements by careful refactoring? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/739/8be/0ca/7398be0ca660199e8b59863ce1406c6e.png"><br><br>  Trying different approaches, we made some important discoveries for ourselves.  The new code, which was not fully integrated into existing applications from the very beginning, was simply not accepted by them.  In contrast, code reuse, thanks to a good planning process, was relatively simple when creating new applications.  Even in spite of the fact that we missed the opportunity to create a new, more advanced code. <br><br>  Another advantage of code reuse is its continuous improvement as a result of many iterations.  Such a code contains perhaps not always noticeable, but important changes that correct the errors that have been identified throughout its existence.  This is a good basis for creating something new, which will allow you to significantly gain time, unlike the situation when you are writing an application from scratch. <br><br>  Using shared code also simplifies the process of subsequent application support.  Want to change the work of a particular function of the application?  Instead of involving several separate teams of developers, it would be easier to change the code in one place.  All applications based on common code will receive updates simultaneously.  The same applies to the correction of errors. <br><br>  In general, we believe that there is enough reason to use a carefully thought out common code.  That is why we use a common architecture when creating applications for MixRadio. <br><br><h4>  The overall architecture of MixRadio </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/f6e/17e/193/f6e17e193744b07cd88217cf4902d2ac.png"><br>  <i>Existing MixRadio Architecture</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/599/5d2/231/5995d2231a7b096721b84858a8effed6.png"><br>  <i>Target MixRadio Architecture</i> <br><br>  The target application architecture of MixRadio is based on <a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/gg521153(v%3Dvs.105).aspx">the MVVM design pattern</a> .  It was chosen by us because it allows us to use as much common code as possible between all our applications.  MVVM facilitates the separation of user interface (UI) from business logic.  This means that we can adapt to different platforms while keeping the application foundation the same for all applications. <br><br>  Each MixRadio application contains a minimum amount of unique code, mainly responsible for the visual component or helping the application to function successfully in a particular platform (ie, responsible for the specific platform).  The rest of the code, containing business logic, view models and other models, is common and is used by all applications. <br><br>  <a href="http://msdn.microsoft.com/en-us/library/vstudio/gg597391(v%3Dvs.110).aspx">Portable Class Libraries (PCLS)</a> let you share key business logic across multiple platforms.  That is why all our common code is created in PCLS. <br><br><h4>  Development history </h4><br><h5>  Windows phone </h5><br>  The starting point in the history of MixRadio can be called the development of the Nokia Music application for Windows Phone 7. However, at first we did not think about any common code - it appeared only when we created the Nokia Music application on Windows Phone 8. We used some common ideas ( views) and view models (ViewModels) using basic related files in Visual Studio. <br><br><h5>  Windows 8 </h5><br>  When we started developing an application for Windows 8, the overall architecture has already been defined.  As a first step towards a common architecture, a single software layer was created.  Even then, it was distinguished by the many advantages of a common architecture. <br><br>  The shared layer was a portable class library that simultaneously supports the Windows Phone 7/8 and Windows 8 platforms. <br><br>  In addition, when creating an application for Windows 8, we integrated into all applications the <a href="http://dev.mixrad.io/">MixRadio API</a> toolkit, which is still freely available to all developers. <br><br><h5>  Nokia X </h5><br>  The advent of the Nokia X family of smartphones has allowed us to take a step forward and go beyond the Windows platform.  And with this, Xamarin <a href="http://www.xamarin.com/">www.xamarin.com</a> , a framework for cross-platform development of mobile applications using C #, helped us.  Read more about it in <a href="http://habrahabr.ru/post/188130">this post</a> . <br><br>  Xamarin provides fantastic support for the runtime and related .NET tools on alternative (non-Microsoft) platforms.  This means that our development teams can create new applications for new platforms using our familiar development tools and common code that is already involved in other applications.  In addition, thanks to a recently announced partnership with Microsoft, Xamarin has added support for PCLS to its framework.  This allowed us to achieve even more convenient work with our target architecture and shared libraries. <br><br>  After a little research, we chose <a href="https://github.com/MvvmCross/MvvmCross">MvvmCross</a> as the main framework for MVVM.  MvvmCross was for us the final piece of the puzzle when transferring MixRadio to a new platform.  He helped to abstract from the specifics of the platform, thereby solving one of the main problems in cross-platform development.  MvvmCross allowed to fully implement the functionality of MixRadio in the application for Nokia X, while retaining all the advantages of the new platform. <br><br><h4>  Next steps </h4><br>  The final step on our path to a common architecture will be the replacement of legacy code in applications for Windows Phone and Windows 8 by removing it from existing shared PCL libraries and integrating with the common code base.  After the release of the application for Nokia X, this is our next main task and we have already begun work. <br><br><h4>  API </h4><br>  For developers who plan to use Xamarin to create applications for the Nokia X platform, we are reporting good news - you can use our C # SDK toolkit or the REST API interface to integrate MixRadio into your applications. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/770/c18/af2/770c18af283b28ed1839539f71108d77.jpg"></div><p>Source: <a href="https://habr.com/ru/post/215031/">https://habr.com/ru/post/215031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../215019/index.html">The first stage of public consultation on copyright reform under the European Commission is over.</a></li>
<li><a href="../215021/index.html">CROC is the first Red Hat certified cloud service provider in the Russian Federation</a></li>
<li><a href="../215023/index.html">The logic of thinking. Part 7. Human-computer interface</a></li>
<li><a href="../215025/index.html">Pitfalls in the system testing modules for Magento</a></li>
<li><a href="../215027/index.html">Evernote interface Android errors</a></li>
<li><a href="../215033/index.html">Better world with ReactiveCocoa</a></li>
<li><a href="../215035/index.html">Some snake oil</a></li>
<li><a href="../215037/index.html">Gabe answers [translation]</a></li>
<li><a href="../215039/index.html">Webinar on the Theory of Algorithms at Innopolis University</a></li>
<li><a href="../215047/index.html">Unusual way to get your passport data by hosting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>