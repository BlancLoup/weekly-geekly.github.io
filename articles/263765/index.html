<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data structures Informal guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Of course, you can be a successful programmer without sacred knowledge of data structures, but they are absolutely indispensable in some applications....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data structures Informal guide</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/0a5/6fb/6be/0a56fb6bec21413e9328b33cf511ea87.png"><br><br>  Of course, you can be a successful programmer without sacred knowledge of data structures, but they are absolutely indispensable in some applications.  For example, when you need to calculate the shortest path between two points on a map, or find a name in a phone book containing, say, a million entries.  Not to mention the fact that data structures are constantly used in sports programming.  Consider some of them in more detail. <br><a name="habracut"></a><br><h3>  Turn </h3><br>  So say hello to Lupi! <br><br><img src="https://habrastorage.org/files/df8/1df/761/df81df761d31451e940df9d1f16e05c7.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Lupi loves playing hockey with his family.  And by ‚Äúplay,‚Äù I mean: <br><br><img src="https://habrastorage.org/files/991/734/6ec/9917346ec98a495dbfa7ef1111da1c64.png"><br><br>  When the turtles fly into the gate, they are thrown to the top of the pile.  Notice, the first bug added to the pile leaves it first.  This is called the <b>Queue</b> .  Just as in those queues that we see in everyday life, the first element added to the list leaves it first.  Another structure called <b>FIFO</b> (First In First Out). <br><br>  What about insert and delete operations? <br><br><pre><code class="python hljs">q = [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elem)</span></span></span><span class="hljs-function">:</span></span> q.append(elem) <span class="hljs-comment"><span class="hljs-comment">#     print q def delete(): q.pop(0) #     print q</span></span></code> </pre> <br><h3>  Stack </h3><br>  After such a fun hockey game, Lupi makes pancakes for everyone.  She puts them in one pile. <br><br><img src="https://habrastorage.org/files/589/0f4/c54/5890f4c54ba9433fb49d2010d5dff5b0.png"><br><br>  When all the pancakes are ready, Lupi serves them to the whole family, one by one. <br><br><img src="https://habrastorage.org/files/42d/2b7/4f6/42d2b74f668d4ce493fb42eaf1058cf8.png"><br><br>  Note that the first pancake she made will be served last.  This is called <b>Stack</b> .  The last item added to the list will be the first to leave.  This data structure is also called <b>LIFO</b> (Last In First Out). <br><br>  Adding and removing items? <br><br><pre> <code class="python hljs">s = [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">push</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elem)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#    -  s.append(elem) print s def customPop(): #    -  s.pop(len(s)-1) print s</span></span></code> </pre><br><h3>  A pile </h3><br>  Have you ever seen a density tower? <br><br><img src="https://habrastorage.org/files/513/cf3/bf7/513cf3bf74064a59b4103959644ada80.png"><br><br>  All elements from top to bottom are located in their places, according to their density.  What happens if you throw a new object inside? <br><br><img src="https://habrastorage.org/files/2fb/ee4/029/2fbee4029d074cd6bff0886f6a4ee648.gif"><br><br>  It will take place, depending on its density. <br><br>  This is how the <b>Heap</b> works. <br><br><img src="https://habrastorage.org/files/d4f/b56/cc4/d4fb56cc45ad4f7abe9bf8ba90a56401.png"><br><br>  A pile is a binary tree.  This means that each parent element has two children.  And although we call this data structure a heap, but it is expressed through a regular array. <br>  Also, the heap always has the height logn, where n is the number of elements <br><br>  The figure shows a heap of max-heap type, based on the following rule: children are <b>smaller than the</b> parent.  There are also min-heap heaps, where children are always <b>larger than the</b> parent. <br><br>  Some simple functions for working with heaps: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">global</span></span> heap <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> currSize <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#    i-  return i/2 def left(i): #     i- return 2*i def right(i): #     i- return (2*i + 1)</span></span></code> </pre><br><br>  <b>Add item to existing heap</b> <br>  To begin with, we add an element to the bottom of the heap, i.e.  at the end of the array.  Then we swap it with the parent until it fits into place. <br><br><img src="https://habrastorage.org/files/58a/795/3e9/58a7953e9c704b5d86c848f669de9d4e.jpg"><br><br>  Algorithm: <br><ol><li>  Add an item to the bottom of the heap. </li><li>  Compare the added item with the parent;  if the order is correct, we stop. </li><li>  If not, swap the elements and return to the previous item. </li></ol><br>  Code: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">swap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#    a     b temp = heap[a] heap[a] = heap[b] heap[b] = temp def insert(elem): global currSize index = len(heap) heap.append(elem) currSize += 1 par = parent(index) flag = 0 while flag != 1: if index == 1: #    flag = 1 elif heap[par] &gt; elem: #        -      flag = 1 else: #      swap(par, index) index = par par = parent(index) print heap</span></span></code> </pre><br>  The maximum number of passes of the while loop is equal to the tree height, or logn, therefore, the complexity of the algorithm is O (logn). <br><br>  <b>Retrieving Maximum Heap Element</b> <br>  The first item in the heap is always the maximum, so we just remove it (remembering beforehand) and replace it with the lowest one.  Then we will bring a bunch in the correct order using the function: <br><br><pre> <code class="python hljs">maxHeapify().</code> </pre> <br><br><img src="https://habrastorage.org/files/36d/43a/ce3/36d43ace39b246778f5817640ebb6945.jpg"><br><br>  Algorithm: <br><ol><li>  Replace the root element of the lowest. </li><li>  Compare new root element with children.  If they are in the right order - stop. </li><li>  If not, replace the root element with one of the children (smaller for min-heap, larger for max-heap), and repeat step 2. </li></ol><br><br>  Code: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extractMax</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> currSize <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> currSize != <span class="hljs-number"><span class="hljs-number">0</span></span>: maxElem = heap[<span class="hljs-number"><span class="hljs-number">1</span></span>] heap[<span class="hljs-number"><span class="hljs-number">1</span></span>] = heap[currSize] <span class="hljs-comment"><span class="hljs-comment">#   -  heap.pop(currSize) #   currSize -= 1 #   maxHeapify(1) return maxElem def maxHeapify(index): global currSize lar = index l = left(index) r = right(index) #,     ;     -   if l &lt;= currSize and heap[l] &gt; heap[lar]: lar = l if r &lt;= currSize and heap[r] &gt; heap[lar]: lar = r if lar != index: swap(index, lar) maxHeapify(lar)</span></span></code> </pre><br>  And again, the maximum number of calls to the maxHeapify function is equal to the height of the tree, or logn, which means the complexity of the algorithm is O (logn). <br><br>  <b>We make a bunch of any random array</b> <br>  OK, there are two ways to do this.  The first is to insert each element into the heap one by one.  It is simple, but completely ineffective.  The complexity of the algorithm in this case will be O (nlogn), since  O (logn) function will be executed n times. <br><br>  A more efficient way is to use the maxHeapify function for <i>sub-heap</i> , from (currSize / 2) to the first element. <br><br>  The complexity is O (n), and the proof of this statement, unfortunately, is beyond the scope of this article.  Just understand that the elements in the heap part from currSize / 2 to currSize have no descendants, and most of the sub-heaps formed in this way will be less than logn. <br><br>  Code: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildHeap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> currSize <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(currSize/<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>): <span class="hljs-comment"><span class="hljs-comment">#   range() -  ,     . print heap maxHeapify(i) currSize = len(heap)-1</span></span></code> </pre><br><img src="https://habrastorage.org/files/3e7/01f/1e5/3e701f1e513940a39d99957502e2906c.png"><br><br>  Indeed, why is this all? <br><br>  Heaps are needed to implement a special type of sorting, called, oddly, ‚Äú <b>heap sorting</b> ‚Äù.  Unlike the less effective ‚Äúsorting by inserts‚Äù and ‚Äúbubble sorting‚Äù, with their terrible complexity in O (n <sup>2</sup> ), ‚Äúheap sorting‚Äù has complexity O (nlogn). <br><br>  Realization of indecency is simple.  Just continue to consistently extract the maximum (root) element from the heap, and write it into an array until the heap is empty. <br><br>  Code: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">heapSort</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>, len(heap)): <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> heap heap.insert(len(heap)-i, extractMax()) <span class="hljs-comment"><span class="hljs-comment">#      currSize = len(heap)-1</span></span></code> </pre><br>  To summarize all of the above, I wrote a few lines of code containing <a href="https://gist.github.com/RadhikaG/2f627fd74a272f653f92">functions</a> for working with the heap, and for OOP fans, I designed everything as a <a href="https://gist.github.com/RadhikaG/21fc4a9f75ae9c4b70b3">class</a> . <br><br>  Easy, isn't it?  And here, celebrating Lupi! <br><br><img src="https://habrastorage.org/files/6d7/501/85f/6d750185f3644651afc0938270c7c573.jpg"><br><br><h3>  Hash </h3><br>  Lupi wants to teach his kids to distinguish shapes and colors.  For this, she brought home a huge number of colorful figures. <br><br><img src="https://habrastorage.org/files/13b/f01/b42/13bf01b429824d73bdd0a68a1ac4c2c7.png"><br><br>  After a while, the turtles are completely confused. <br><br><img src="https://habrastorage.org/files/640/d71/829/640d71829f644b12b7abc97d6944b858.jpg"><br><br>  So she took out another toy to simplify the process a bit. <br><br><img src="https://habrastorage.org/files/dce/84a/0dc/dce84a0dc47941ce99aa37155fa1eff7.jpg"><br><br>  It has become much easier, because the turtles already knew that the figures were sorted according to shape.  And what if we mark each pillar? <br><br><img src="https://habrastorage.org/files/595/5d0/6a3/5955d06a33cb4fd5aaa069ee3b44d704.png"><br><br>  The turtles now need to check the column with a certain number, and choose from a much smaller number of figures.  And if we also have a separate pillar for each combination of form and color? <br><br>  Suppose the column number is calculated as follows: <br><br>  <b>Fio</b> summer <b>tri</b> square <br>  f + and + o + t + p + e = 22 + 10 + 16 + 20 + 18 + 6 = pillar 92 <br><br>  Red rectangle <br>   +  +  +  +  +  = 12 + 18 + 1 + 17 + 18 + 33 = Column 99 <br><br>  etc. <br><br>  We know that 6 * 33 = 198 possible combinations, so we need 198 pillars. <br><br>  Let's call this formula for calculating the column number - <b>Hash function</b> . <br><br>  Code: <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hashFunc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(piece)</span></span></span><span class="hljs-function">:</span></span> words = piece.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) <span class="hljs-comment"><span class="hljs-comment">#    colour = words[0] shape = words[1] poleNum = 0 for i in range(0, 3): poleNum += ord(colour[i]) - 96 poleNum += ord(shape[i]) - 96 return poleNum</span></span></code> </pre><br>  ( <i>Cyrillic is a bit more complicated, but I left it for simplicity</i> . - <b>comment. per.</b> ) <br><br>  Now, if we need to find out where the pink square is stored, we can calculate: <br><pre> <code class="python hljs">hashFunc(<span class="hljs-string"><span class="hljs-string">' '</span></span>)</code> </pre> <br><br><img src="https://habrastorage.org/files/126/c15/cec/126c15cec83e4f0bb8265bb2fb661862.png"><br><br>  This is an example of a hash table, where the location of the elements is determined by the hash function. <br>  With this approach, the time spent searching for any item does not depend on the number of items, i.e.  O (1).  In other words, the search time in the hash table is a constant value. <br><br>  Ok, but let's say we are looking for a ‚Äúcartographic rectangle‚Äù (if, of course, the color ‚Äúcaramel‚Äù exists). <br><br><pre> <code class="python hljs">hashFunc(<span class="hljs-string"><span class="hljs-string">' '</span></span>)</code> </pre> <br>  will return us 99, which is the same as the number for the red rectangle.  This is called a " <b>collision</b> ".  To resolve conflicts, we use the ‚Äú <b>Chain method</b> ‚Äù, meaning that each column stores a list in which we look for the record we need. <br><br>  Therefore, we simply put the caramel rectangle on red, and choose one of them when the hash function points to this pillar. <br><br>  The key to a good hash table is to choose a suitable hash function.  Undoubtedly, this is the most important thing in creating a hash table, and people spend an enormous amount of time developing quality hash functions. <br>  In good tables, no single position contains more than 2-3 elements, otherwise, hashing does not work well, and the hash function needs to be changed. <br><br><img src="https://habrastorage.org/files/d21/ac6/60b/d21ac660b5354ac8ab3170328a098073.png"><br><br>  Once again, the search is not dependent on the number of elements!  We can use hash tables for everything that has gigantic sizes. <br><br>  Hash tables are also used to search for strings and substrings in large chunks of text, using the <b><a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D0%25A0%25D0%25B0%25D0%25B1%25D0%25B8%25D0%25BD%25D0%25B0_%25E2%2580%2594_%25D0%259A%25D0%25B0%25D1%2580%25D0%25BF%25D0%25B0">Rabin-Karp</a></b> algorithm or the <b><a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D0%259A%25D0%25BD%25D1%2583%25D1%2582%25D0%25B0_%25E2%2580%2594_%25D0%259C%25D0%25BE%25D1%2580%25D1%2580%25D0%25B8%25D1%2581%25D0%25B0_%25E2%2580%2594_%25D0%259F%25D1%2580%25D0%25B0%25D1%2582%25D1%2582%25D0%25B0">Knut-Morris-Pratt</a></b> algorithm, which is useful, for example, for determining plagiarism in scientific papers. <br><br><img src="https://habrastorage.org/files/43b/5e4/2ef/43b5e42eff8940ccb0660bc45ff95d33.jpeg"><br><br>  On this, I think you can finish.  In the future, I plan to consider more complex data structures, such as the <i>Fibonacci heap</i> and the <i>segment tree</i> .  I hope this informal guide turned out to be interesting and useful. <br><br>  Translated to Habr by a programmer locked in the <a href="https://vk.com/coders_stuff">attic</a> . </div><p>Source: <a href="https://habr.com/ru/post/263765/">https://habr.com/ru/post/263765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263755/index.html">Cybercriminals revived Darkode forum</a></li>
<li><a href="../263757/index.html">Skills of .NET-developer of Russia and the USA, what's the difference?</a></li>
<li><a href="../263759/index.html">Android found vulnerabilities that allow access to a smartphone via MMS</a></li>
<li><a href="../263761/index.html">GNS3 in the cloud</a></li>
<li><a href="../263763/index.html">How does this mysterious HTC Dot View work?</a></li>
<li><a href="../263769/index.html">A brief history of the evolution of proof-of-work in cryptocurrencies. Part 1</a></li>
<li><a href="../263771/index.html">How to set up directory synchronization in IP PBX - search by ODBC</a></li>
<li><a href="../263773/index.html">How ITSM-System ServiceNow appeared in our cloud</a></li>
<li><a href="../263775/index.html">Algorithm for parsing arithmetic expressions</a></li>
<li><a href="../263777/index.html">VMware vSphere 5.5 and 6.0 performance - settings, considerations. Performance best practices</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>