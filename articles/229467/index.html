<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android last.fm scrobbler WAIL Beta is now open source</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hey. About half a year ago, I started an Android application for scrobbling of last.fm music played in different players. 

 For several months I don‚Äô...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android last.fm scrobbler WAIL Beta is now open source</h1><div class="post__text post__text-html js-mediator-article">  Hey.  About half a year ago, I started an Android application for scrobbling of <a href="http://last.fm/">last.fm</a> music played in different players. <br><br>  For several months I don‚Äôt have time to develop this project, so I decided to open its source code ( <a href="https://github.com/artem-zinnatullin/android-wail-app">repository on github</a> ). <br><br>  I am writing this post on Habr with a little hope that there are people here who would be interested to develop WAIL further, add new features, fix bugs and just participate in the open source Android project :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Briefly about <a href="http://last.fm/">last.fm</a></b> : this is a service for those who like to listen to music, the main feature of which is that you can transfer information about the tracks that you listen to, and last.fm based on this will offer you other performers, friends, concerts of performers, which you are listening to (by the way, it's awesome, for the first time I went to a concert precisely on the recommendation of last.fm). <br><br>  <font color="gray">Screenshots to maintain interest</font> <br><img src="https://habrastorage.org/getpro/habr/post_images/c43/026/6d0/c430266d002af2ae5b08dfd321bece16.png"><img src="https://habrastorage.org/getpro/habr/post_images/c52/4c3/2b6/c524c32b6d4a8133d695d73faa782fbd.png"><br><br><a name="habracut"></a><br><br>  <b>Briefly about the possibilities of WAIL</b> : <br><ul><li>  Interception of events (broadcasts intents) about playing music from various players and scrobbling this information in last.fm </li><li>  #Nowplaying update on last.fm </li><li>  Offline work (when access to the network appears - WAIL will send information to last.fm) </li><li>  Minimalistic UI in Holo style (although it looks good on Android L too) </li><li>  The possibility of sound notifications about scrobbling a track or skipping a track (if the track is ignored by the application due to different conditions) </li><li>  List of processed tracks </li><li>  And the little things :) </li></ul><br><br><h3>  Some more screenshots: </h3><br><br><img src="https://habrastorage.org/getpro/habr/post_images/99e/5f2/9ad/99e5f29adddd6e2e7ea40cc2e8b23e48.png"><img src="https://habrastorage.org/getpro/habr/post_images/166/d00/682/166d006828421a9e8b459800b7bdf35c.png"><br><br><h3>  Now, about the architecture of the application for those who would be interested to delve inside </h3><br><br><ul><li>  WAIL - What am I listening </li><li>  1) The main part of WAIL is <a href="https://github.com/artem-zinnatullin/android-wail-app/tree/develop/wail-app/src/main/java/com/artemzin/android/wail/receiver/music">BroadCastReceviers that catch intents from music apps.</a> </li><li>  2) The second main part of WAIL - <a href="">WAILService</a> , to which information about tracks is transmitted, he already decides what to do with them - scrobble, update #nowplaying, etc. </li><li>  3) Internal SQLite database, in particular <a href="">TracksDBHelper</a> , here WAIL writes the processed tracks, respectively, this database allows you to work offline.  <a href="">WAILService</a> periodically traverses this information and sends it to last.fm </li><li>  4) Well, actually UI: Everything is built on fragments, there is support for layout for tablets </li></ul><br><br><h3>  What priority in features </h3><br><br><ul><li>  RemoteControllerClient support is an API for media players, much better than handling intents.  there is at least some standard on it.  By the way, your lock screen uses this API to display and control the music being played.  I have some developments in this area, but everything is complicated by the almost complete lack of documentation from Google on this topic.  The essence of RemoteControllerClient support is that WAIL will automatically be able to handle ALL music players that use this API. </li><li>  The output of the current track being processed on the main screen - many users do not understand whether a track is currently processing WAIL or not ... In general, a necessary and useful feature </li><li>  Displaying scrobbling notifications, updating #nowplaying to status bar </li><li>  Settings for disabling scrobbling depending on the type of network connection (mobile networks / wifi) </li><li>  Feel free to offer your suggestions on <a href="https://github.com/artem-zinnatullin/android-wail-app/issues">issues on the githab</a> </li></ul><br><br><h3>  Who might be interested in digging in WAIL </h3><br><ul><li>  Experienced Android developers who want to show their skills in the Open Source project :) </li><li>  Beginning Android developers who I suggest doing small fixes / features and slowly mastering Android development in real practice with access to Google Play to real users </li><li>  WAIL users who are concurrently Android or Java developers and want to change something in the application :) </li></ul><br><br><h3>  If you decide to help WAIL </h3><br>  1) Firstly - thank you very much, both from me and from users :) <br><br>  2) Secondly, I wrote a <a href="https://github.com/artem-zinnatullin/android-wail-app/wiki">small wiki on the topic of styled gages on commits, on git flow and styled gays on the sources and resources of the project</a> , please read <a href="https://github.com/artem-zinnatullin/android-wail-app/wiki">it</a> , it is short. <br><br>  3) Thirdly - yes, <b>successfully submitted pull requests from you will get into Google Play!</b> <br><br>  4) I will be the project manager, periodically checking pull requests, I will help the project as a developer when there is time.  Google Play releases will be made as the project develops, I would like to make frequent releases in order to quickly get feedback from users and build plans for the next releases <br><br>  5) If you want to start with a light one, make up a small issue, for example, fix an icon or translate it into a language that you can understand, get an issue on the githabe, then make a pull-request with a fix / feature and that's it :) <br><br>  Thank you all for your attention, I hope WAIL will develop and live on :) <br><br>  <b>Link to githab</b> <a href="https://github.com/artem-zinnatullin/android-wail-app">WAIL Beta - Android last.fm scrobbler</a> <br><br>  PS <br>  <font color="gray">If you look at the githab, you will see that there are very few commits.</font>  <font color="gray">This is due to the fact that the private repository contained the keys with passwords with which I sign the applications (Fail, I agree), I decided not to trust git filter-branch and bfg and just created a new repository transferring the sources and removing private data, about ~ 250 commits is lost.</font> <font color="gray"><br></font>  <font color="gray">In addition, the application contains keys to last.fm api, and yes to the githaba.</font>  <font color="gray">But damn, it is not difficult to decompile the Android application and get all this data, and complicate the development of other people by having to register on last.fm in the developers section, I would not want to receive the keys, please do not use them for bad intentions :)</font> <br><br>  <font color="gray">Fasting is not in ‚ÄúI am promoting‚Äù due to the fact that: 1) The project is open-sourced 2) It is absolutely not commercial, made with soul for those to whom the application is useful 3) If Habr's moderators consider that the post should be moved to ‚ÄúI am promoting‚Äù - OK</font> <br><br>  Pps <br>  Naturally, the code is not perfect ... Now I would rewrite half, but in general, the architecture is flexible and extensible :) <br><br>  Ready to answer questions in the comments to the article. </div><p>Source: <a href="https://habr.com/ru/post/229467/">https://habr.com/ru/post/229467/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../229453/index.html">Nvidia + Nexus 7 + two magnifiers + box = VR helmet</a></li>
<li><a href="../229455/index.html">TinyBanker banking trojan source leaked to network</a></li>
<li><a href="../229459/index.html">Do-it-yourself visitor</a></li>
<li><a href="../229461/index.html">Check the validity of in-game purchases through the Google API</a></li>
<li><a href="../229465/index.html">Automatic code alignment</a></li>
<li><a href="../229469/index.html">We analyze the protocol of new sensors Noolite</a></li>
<li><a href="../229471/index.html">We charge Lumia with the power of sound</a></li>
<li><a href="../229473/index.html">Innovative entropy production method</a></li>
<li><a href="../229475/index.html">Wargaming Public API</a></li>
<li><a href="../229477/index.html">Interview with Maxim Korobtsev about gamification for team management (audio)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>