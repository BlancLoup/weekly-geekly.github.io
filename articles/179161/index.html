<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Diablo III's economy has been destroyed by integer overflow</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Blizzard's Diablo III - a popular online Action / RPG, released almost a year ago, received its share of technical issues. From Error 37 to lags, whic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Diablo III's economy has been destroyed by integer overflow</h1><div class="post__text post__text-html js-mediator-article">  Blizzard's Diablo III - a popular online Action / RPG, released almost a year ago, received its share of technical issues.  From Error 37 to lags, which translate into hundreds of wasted hours spent, but Blizzard spent the past year debugging the backend to better cope with millions of active players. <br><br>  Diablo III can also be noted for the real economy, with an emphasis on regional Auction Houses, where players can sell rare items for gold, which amounts to millions and billions (inflation is crazy).  In addition, Diablo III uses Real World Auction House, where players can sell gold or items for real world money. <br><br>  Yesterday Patch 1.0.8 was released, which was supposed to improve the progress of the characters.  After several weeks of testing in the Public Test Realm, where volunteers run a patch in order to understand that it will not cause any harm to the game, the patch was successfully published. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Yes, the patch has been fully tested in PTR - but with the exception of one minor refinement added at the last minute.  And this refinement has broken the economy of the game into small pieces. <br><br><img src="https://habrastorage.org/storage2/ea9/71b/043/ea971b0434c2c6991543f6581a2bc7b9.jpg"><a name="habracut"></a><br><br>  The final build included the following changes: <br><br><blockquote>  The size of the stack for the sale of gold in the auction house increased from 1 million to 10 million. </blockquote><br><br>  As a rule, in Real Money Auction House a player can sell gold in batches of 1 million, with a maximum of 600 servings.  In version 1.0.8, this increment, respectively, increased to 10 million.  What happens when a player tries to put up absurdly large amounts for sale?  (it's absurd because getting even 100 million gold for one player has long been considered an almost impossible task - Blizzard can underestimate players) <br><br>  The user Reddit with the nickname tyropro perfectly <a href="http://www.reddit.com/r/Diablo/comments/1dx3wv/some_speculation_on_how_the_gold_bug_made_it_to/">explains</a> : <br><br>  Gold could be put up for trading at RMAH, which, if sold in real money, would not exceed $ 250.  The published video, for example, showed sales of 6 billion gold ‚Äî 600 x 10,000,000 at $ 0.39 per stack, totaling $ 234.  When a player placed such an auction, only about 1.7 billion fell on the sale, and the rest ‚Äúdisappeared‚Äù until gold returned to the chest and there already increased. <br><br>  Here are the exact numbers from the video: <br><br><table><tbody><tr><td>  RMAH auction is created: </td><td>  6,000,000,000 gold </td></tr><tr><td>  The auction is shown as: </td><td>  1,705,032,704 gold </td></tr><tr><td>  The missing! </td><td>  4,294,967,296 gold </td></tr><tr><td>  Missing if divided by 2: </td><td>  2,147,483,648 gold </td></tr></tbody></table><br><br>  4,294,967,296 is 2 <sup>32</sup> degrees, the limit for an unsigned integer, an interesting implementation from Blizzard. <br><br>  Simply put, the code for selling gold in the RMAH does not know how to work with numbers larger than int32, and as a result of overflow it doubles the gold in the pockets of the sellers. <br><br>  So, the attacker can create a 6 billion auction, from which only 1.7 billion will be put up for sale (and, accordingly, only 1.7 billion will be written off from the burglar's account), cancel it, and get back to the account already 6 billion.  Net income - 4.2 billion.  Repeat until complete satisfaction. <br><br>  The exploit was shown on one of the sites and quickly sold to people.  Anyone who knew about the bug could repeat it. <br><br>  And the fun began. <br><br><img src="https://habrastorage.org/storage2/31a/2b8/7e2/31a2b87e29694b4eda17791bfd558864.png"><br>  Yes, there is 420 <i>billion</i> gold! <br><br>  After the deceivers bought all the items in the Auction Houses, they put them up for sale at Real Money Auction House.  For real money.  And people bought them. <br><br>  And this is the worst scenario for Diablo III.  And all because of an untested small change in the patch.  What could Blizzard do with this?  It would be nice to roll back all the achievements on the day before the patch is released, but this would cause a lot of negative feedback.  But to leave the economy in this position is impossible - it would devalue items, and Diablo III is just about things. <br><br>  In the end, Blizzard did not roll back, but banned all those who cheat, and returned the money to everyone who spent real money.  The change in the patch that caused the chaos was canceled and, accordingly, the problem was temporarily solved. <br><br>  And let it be a lesson - not tested changes at the last minute can lead to a collapse of the entire economy. <br><br>  <i><b>From the translator</b> : And this is already the second bug in the game economy, which became known in less than a week - on Saturday, CCP described how the <a href="http://habrahabr.ru/post/178721/">ill-conceived functionality led to almost the same situation in EVE Online</a> .</i>  <i>Yes, the economy in games is virtual, but mistakes and / or ill-conceived functionality allow you to find ways that allow you to simply bypass the long and honest earnings and steal real money already.</i>  <i>Interesting features of the new digital world.</i> </div><p>Source: <a href="https://habr.com/ru/post/179161/">https://habr.com/ru/post/179161/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179149/index.html">MikroTik - quick setup of the access point</a></li>
<li><a href="../179151/index.html">Nexenta operating experience, or 2 months later</a></li>
<li><a href="../179153/index.html">Features of c ++ tuples implementation</a></li>
<li><a href="../179155/index.html">A little more about migrations. PHP version</a></li>
<li><a href="../179159/index.html">xdebug in the hands of the administrator</a></li>
<li><a href="../179163/index.html">DevConf contest - dedicated to the Victory Day!</a></li>
<li><a href="../179167/index.html">Introducing GStreamer: Data Sources</a></li>
<li><a href="../179169/index.html">We tame Ustream.tv for HD video broadcasting on our own website without displaying ads</a></li>
<li><a href="../179171/index.html">New Firefox Cookie Policy</a></li>
<li><a href="../179173/index.html">Cutting into two equal parts, part three</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>