<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ATP "Pravo.ru" for Android - as it were</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Almost a year ago, namely on September 12, 2011, we posted on Google Play, then the Android Market, a client for the Pravo.ru reference and legal syst...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ATP "Pravo.ru" for Android - as it were</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/fc6/780/ccf/fc6780ccfb050cc146ce01e25ca31a92.png"><br><br>  Almost a year ago, namely on September 12, 2011, we posted on <s>Google Play,</s> then the Android Market, a client for the Pravo.ru reference and legal system.  This project was the first major application from the company Parcsis under the Android OS.  Looking ahead, I will say that the development was not at all as smooth as we would like.  Not all the ideas proposed by the designers managed to be implemented, and not all engineering solutions met the requirements of the business.  Android gave us a lot of surprises. <br><br>  But, nevertheless, thanks to the team cohesion and dedication, we have gone this way for more than a year, releasing and supporting the product <a href="https://play.google.com/store/apps/category/BUSINESS%3Ffeature%3Dcategory-nav">included</a> in the TOP-10 free applications in the "Business" category. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><img src="https://habrastorage.org/storage2/b0d/220/4bd/b0d2204bd932487ff3af492f087506a8.png"><br><br><h4>  Design </h4><br><h5>  Android vs.  iphone </h5><br>  It so happened that in Parcsis, designers are at the head of the workflow.  Business analysis is deeply integrated into the design department, and the layout of the application is actually a technical task for the development department.  Some time before the development of Andriod, customers for iPhone and iPad were successfully implemented, and the first problem was waiting for us. <br><br>  Any Android user will surely tell you that Android is not an iPhone at all.  But iPhone users think that Android is almost an iPhone, only a little worse.  Our designers, as staunch supporters of Apple products, initially proposed to implement the same interface as on the iPhone, ignoring the standard controls and the presence of physical buttons. <br><br>  It is clear that it was by no means impossible to do that, since then the application would be absolutely unsuitable.  As often happens, this problem was solved by a long and detailed conversation, with a demonstration of the interfaces of standard iOS and Android applications.  As a result, designers, as people quite educated and possessing the necessary breadth of consciousness, took the position of developers and began to prepare for us a separate layout, different from the iPhone. <br><br><h5>  Many screen configurations </h5><br>  As I <a href="http://habrahabr.ru/company/turbomilk/blog/146601/">wrote</a> earlier, Android devices have a large number of different screen configurations, and the number of pixels horizontally and vertically is not a decisive characteristic.  After all, there are devices <a href="">with a diagonal of 10 inches and a resolution of 800x600</a> , and <a href="">a diagonal of 5 inches and a resolution of 1280x800</a> . <br><br>  Designers kept asking what should be the size of the layout page in pixels?  It took a real quantum leap of consciousness to understand that a vertex for an android is closer to a web vertex than a layout for iOS. <br><br><img src="https://habrastorage.org/storage2/b0d/220/4bd/b0d2204bd932487ff3af492f087506a8.png"><br><br><h4>  Development </h4><br><h5>  Offline base </h5><br>  One of the main "chips" of our program is offline mode.  The value is obvious - in the absence of the Internet, for example, in the courthouse (or already in jail, as lucky) the user will be able to access all the main documents - the Constitution of the Russian Federation, codes and federal laws.  It was originally intended to deliver an archive with documents directly inside the apk file, in the <a href="http://developer.android.com/tools/projects/index.html">asserts</a> directory.  Arikhv weighed more than 30 meters, which gave the output, along with the resources and the actual binary of the program, apk weighing 35 megabytes.  ‚ÄúOkay‚Äù, we decided and put the first version on the market. <br><br>  And almost immediately began to receive letters from users that they can not download the application, even on modern powerful phones with enough free space and fast Wi-Fi. <br><br>  There were two reasons.  First, some android devices <a href="http://stackoverflow.com/questions/4850889/people-cant-download-our-specific-product-in-android-market">can not</a> install apk files more than 30 megabytes.  Secondly, to install an application weighing N meters, it takes about 3N of free space on the phone. <br>  The challenge was to ensure that the application runs on devices with a download cache of at least thirty megabytes. <br><br>  Various solutions to the problem were proposed.  For example, make two versions of the program - full, with off-base, and lightweight, working only online.  Or even abandon the pre-formed database, allowing the user to select documents for offline access.  But the final solution to the problem was the addition of the functionality of downloading the database from the web, which we still use today.  Subsequently, this mechanism was used on both iOS and <a href="http://habrahabr.ru/company/pravo/blog/148953/">WP7</a> . <br><br><h5>  Content providers </h5><br>  Android has a great mechanism based on <a href="http://en.wikipedia.org/wiki/Late_binding">late binding</a> and <a href="http://habrahabr.ru/post/141201">an</a> incredible mix of <a href="http://ru.wikipedia.org/wiki/Ajax">AJAX</a> and <a href="http://ru.wikipedia.org/wiki/Data_Manipulation_Language">DML</a> .  It is called <a href="http://developer.android.com/reference/android/content/ContentProvider.html">ContentProvider</a> . <br><br>  This mechanism looks quite native, and we could not resist the temptation to use it.  But, as it turned out later, content providers <a href="http://habrahabr.ru/post/134305/">have a</a> number of significant drawbacks, greatly slowing down the application development process.  The only obvious advantage is data exchange with other applications, we have not used, and, in the end, we completely abandoned content providers as an unnecessary layer in the mechanism for obtaining data from the database. <br><br><img src="https://habrastorage.org/storage2/853/3f1/c5b/8533f1c5b97e5e1708df747d25c4d6af.png"><br><br><h4>  Conclusion </h4><br>  Despite all the difficulties that we faced, we managed to develop a really useful application.  His merits were appreciated both by practicing lawyers and law students.  The number of devices on which <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.parcsis.asps">‚ÄúRight.ru‚Äù for Android</a> is installed is approaching 100,000, every day the program is used up to 15,000 times.  We listen to all the wishes of users and read all the letters that send us at <a href="">sps@pravo.ru</a> .  Each new release adds new functionality to the program, making it even more convenient and useful. </div><p>Source: <a href="https://habr.com/ru/post/149955/">https://habr.com/ru/post/149955/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../149946/index.html">Two stories about communication with one of the leading Russian telecoms</a></li>
<li><a href="../149947/index.html">‚ÄúFree Time Wars‚Äù or BF2 server + office statistics</a></li>
<li><a href="../149948/index.html">We translate Chrome extension to manifest_version 2</a></li>
<li><a href="../149951/index.html">Amazon announced cheap backup storage</a></li>
<li><a href="../149952/index.html">Bitinstant is going to issue a Bitcoin payment card</a></li>
<li><a href="../149956/index.html">Oracle shell call</a></li>
<li><a href="../149958/index.html">AppCode 1.6: what's new?</a></li>
<li><a href="../149959/index.html">The project "Radioastron"</a></li>
<li><a href="../149960/index.html">ICS update for Xperia 2011 smartphones</a></li>
<li><a href="../149961/index.html">Updated Windows Azure Training Kit: 41 labs and 35 presentations</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>