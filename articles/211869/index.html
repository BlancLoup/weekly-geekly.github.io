<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Arista. Acquaintance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© there is not a single post about switches companies Arista Networks . At the same time there are a few comments , in my opinion, quite positi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Arista. Acquaintance</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/8d3/388/ed4/8d3388ed43f81a1e190f33e4034da52a.jpg"><br><br>  On Habr√© there is not a single post about switches companies <a href="http://www.aristanetworks.com/">Arista Networks</a> .  At the same time <a href="http://habrahabr.ru/search/%3Ftarget_type%3Dcomments%26order_by%3Drelevance%26q%3Darista">there are a few comments</a> , in my opinion, quite positive in semantic coloring. <br><br>  I wanted to write about this company, their equipment, the operating system <acronym>EOS</acronym> and <acronym>CLI</acronym> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  Excuses </h4><br>  I am not a representative of the vendor and I do not have deep knowledge across the entire line.  The topic is an overview and reflects my personal opinion.  For the opinions of readers have comments and new topics. <br><br><h4>  Arista history </h4><br>  According to the book <a href="http://shop.oreilly.com/product/0636920022435.do">Arista Warrior</a> and the <a href="http://www.aristanetworks.com/en/company/management">corresponding section of the</a> site, three key figures are guilty of the appearance of Arista Networks: <br><br><ul><li>  <b>Andy bechtolsheim</b> <br>  One of the founders of Sun Microsystems.  In 1995, he left Sun and created Granite Systems, whose goal is to produce high-speed network switches.  In 1996, Cisco buys Granite Systems.  Under his leadership, Cisco creates the Catalyst 4500 series of switches. Andy leaves Cisco in 2003 and creates Kealia, a new generation server company that Sun buys in 2004. <br>  In 2005, he became one of the founders of Arasta, who later changed its name to Arista Networks. <br></li><li>  <b>David Cheriton</b> <br>  One of the founders of Granite Systems.  <acronym>ASIC</acronym> Chief Architect for Catalyst 4X00 on Cisco.  He was also a technical consultant for Google, VMware, Tibco, Cisco, Sun and several startups. <br></li><li>  <b>Kenneth duda</b> <br>  A pioneer in high-performance networking software and a leading EOS architect at Arista.  He is one of the authors of the specifications of several network protocols, for example: VXLAN and NVGRE.  He was the first employee at Granite Systems and led the development of software for the Catalyst 4X00 line. <br></li></ul><br>  <b>Jayshree Ullal</b> is the CEO.  She was a senior vice president at Cisco and was responsible for the Cisco Nexus 7000, Catalyst 4500, and Catalyst 6500 series. In 2005, Network World Magazine included her in the list of ‚Äú50 Most Powerful People‚Äù ). <br><br><h4>  Product line. </h4><br>  Arista Networks <a href="http://www.aristanetworks.com/en/products/">offers</a> only switches and of course related products (power cables, transceivers, service, etc.).  Arista is positioning its switches for use in Data Processing Centers (DPCs). <br><br>  A short free table (clickable) for some parameters from the <a href="http://www.aristanetworks.com/media/system/pdf/AristaProductQuickReferenceGuide.pdf">Arista Products Quick Reference Guide</a> (more parameters, for example, there is hardware support for <a href="http://ru.wikipedia.org/wiki/Virtual_Extensible_LAN">VXLAN</a> ): <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/3cb/2c1/c31/3cb2c1c31679e9cd9017628dd4735a0f.jpg"></a> <br><br>  The company does not manufacture routers, Wi-Fi AP, SOHO devices, firewalls and other network devices. <br><br><h4>  Merchant siliconon </h4><br>  Data Plane (‚Äúdata transmission plane‚Äù) in Arista switches is built using special-purpose integrated circuits - <a href="http://ru.wikipedia.org/wiki/ASIC">ASIC</a> . <br><br>  By type of origin, ASICs are divided into: <br><ul><li>  Custom Silicon - chips, which are usually designed and manufactured by a company that manufactures switches on these chips. </li><li>  Merchant Silicon is ‚Äúcommercially available‚Äù chips designed and manufactured by a company that does not manufacture switches on them. </li></ul><br>  A simple example for an analogy from the world of smartphones: <br><ul><li>  HTC does not manufacture CPUs for its smartphones, but it assembles and sells smartphones on, for example, Qualcomm chips.  This is an example of Merchant Silicon. </li><li>  Samsung company produces both an Exynos chipset and smartphones on them.  In the case of Samsung, this is an example of a Custom Silicon. </li></ul><br>  Arista does not develop its own ASIC, but uses Merchant Silicon from Intel and Broadcom in its switches. <br><br>  On the one hand, this is nothing unique.  For example, Broadcom‚Äôs ASIC StrataXGS Trident II has built the following switches from some vendors (vendors in alphabetical order): <br><ul><li>  Arista 7050X </li><li>  Cisco Nexus 9000 </li><li>  Extreme Networks Summit X770 </li><li>  Juniper QFX5100 </li></ul><br>  On the other hand, with this approach, switch parameters such as: <br><ul><li>  The quality of programming and use of ASIC resources.  ASIC is not just plug and play, their resources can be managed programmatically (this is the flexibility (in a certain range) of using these chips).  The switch behavior on traffic depends on the quality of the algorithms and code. </li><li>  The design is both internal (choice (for example, CPU variant, number and type of RAM) and the layout of the elements on the boards, fans, power supplies) and external (number of units, ease of port layout, etc.) </li><li>  Quality and convenience of the OS and CLI switch. </li><li>  Availability of necessary and convenient additional features implemented both on the basis of ASIC and programmatically on the RE.  It should be remembered that some function can be supported in the ASIC, but not supported by the switch OS.  In this case, it simply will not be available for use.  Worse, when the function that performs the functions of Data Plane is implemented not in ASIC, but programmatically. </li></ul><br>  About such characteristics of Arista Networks switches as <a href="http://habrahabr.ru/company/advanserv/blog/206168/">delays</a> and work with the buffer, there are presentations, rumors and more <a href="http://habrahabr.ru/post/199500/">comments on Habr√©</a> . <br><br><h4>  EOS </h4><br>  EOS is a modular operating system that provides Arista switches.  It is one for the entire line of switches, not only in name.  Who updated at least once the IOS on the Cisco switches knows that the IOS c3550 * .bin will not work on the switch that uses the c3750 * .bin.  And who worked with Juniper knows that jinstall-ex-4500 * .tgz will not replace jinstall-ex-4200 * .tgz.  At Arista, it turns out to do a single OS file for the entire line.  Not the main plus of EOS, but convenient. <br><br>  EOS is based on <a href="http://ru.wikipedia.org/wiki/Fedora">Fedora</a> .  The OS runs on a separate CPU (currently x86), which allows you to separate the Control Plane (‚Äúcontrol plane‚Äù - CPU, EOS) and Data Plane (‚Äúdata transfer plane‚Äù - ASIC).  All this is not new, but there are also architectural features in EOS that are not in the OS of other vendors.  So, for example, the components necessary for the switch operation do not communicate with each other directly, but do it only through a special manager-base - Sysdb.  Sysdb is both a common bus for communication between processes and a database for the working information of these processes.  For example, a route that arrives via IGP, before it enters the ASIC, is passed by the process responsible for IGP to Sysdb;  Sysdb keeps it in its bins and transfers it to the process responsible for interacting with the ASIC. <br><br>  With the help of work through Sysdb it turns out to provide greater survival and stability.  For example, something happened to the service responsible for SNMP (for example, the complexly formed data in the request caused a crash), and he died.  The process manager (ProcMgr) automatically restarts the SNMP service.  After launch, all services access Sysdb and, if their data is already there, then they restore them and continue to work with them. <br><br>  In the traditional construction of the OS (including for network devices) components, services and services transfer data between themselves directly.  Restarting or "dropping" the service process entails the loss of all its working data (routes, statistics and other things), and it can also affect other services with which the unlucky process worked and exchanged data: they can also "fall" or lose conditions required for operation. <br><br>  The schematic structure of the "traditional OS" and Arista EOS: <br><table><tbody><tr><th><img src="https://habrastorage.org/getpro/habr/post_images/574/e42/dd5/574e42dd593e282dd8816a92670eb002.png"></th><th><img src="https://habrastorage.org/getpro/habr/post_images/5e5/d21/3e7/5e5d213e77df3cd58ac87f790c2baee4.png"></th></tr></tbody></table><br>  ( <i>Pictures from</i> <a href="http://www.aristanetworks.com/media/system/pdf/EOSWhitepaper.pdf">EOS Architecture Whitepaper</a> .) <br><br>  Such an EOS device does not guarantee complete stability and reliability, but it is still better than nothing.  And with the help of functioning through Sysdb, <acronym>ISSU</acronym> services are implemented. <br><br><h5>  CLI </h5><br>  Cli (in EOS, all launched applications from Arista are capitalized) also works via Sysdb. <br><div class="spoiler">  <b class="spoiler_title">CLI commands are written in Python:</b> <div class="spoiler_text"><pre><code class="bash hljs">[admin@localhost ~]$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/lib/python2.7/site-packages/CliPlugin/ [admin@localhost CliPlugin]$ ls -a *Cli*py AaaCli.py CliSchedulerCli.py FaultInjectionCli.py IraIpCli.py MlagShowCli.py PimCli.py RipShowTechCli.py TapAggIntfCli.py AclCli.py ClockCli.py FhrpCli.py IraIpIntfCli.py MlagTunnelCli.py PimShowTechCli.py RouteEventMonCli.py TcpdumpCli.py AclCliRules.py CpuFabricCli.py FileCli.py IraShowTechCli.py MlagWarningCli.py PmbusCli.py RouteMapCli.py TechSupportCli.py AgentCli.py DcbxCli.py FruCli.py IraVrfCli.py ModuleCli.py PortSecCli.py RoutingBgpCli.py TrackingCli.py AgentPingCli.py DebugMessageCli.py IgmpCli.py LagCli.py ModuleIntfCli.py PowerCli.py RoutingIsisCli.py UplinkFailureDetectionCli.py AgentResourceCli.py DebuggingCli.py IgmpProfileCli.py LagIntfCli.py MoreCli.py PowerDiagsCli.py RoutingOspf3Cli.py VersionCli.py AgentShutdownCli.py DhcpRelayHelperCli.py IgmpShowTechCli.py LagIntfMlagCli.py MrouteCli.py PsmiCli.py RoutingOspfCli.py VlanCli.py ArpEventMonCli.py DiagCli.py IgmpSnoopingCli.py LagShowTechCli.py MrouteEtbaCli.py PtpCli.py RoutingRipCli.py VlanIntfCli.py ArpIp6Cli.py DonkeyCli.py IgmpSnoopingDebugCli.py LanzCli.py MrouteEventMonCli.py QosCli.py SectionCliLib.py VmTracerCli.py ArpIpCli.py EbraEthIntfCli.py IgmpSnoopingEtbaCli.py LanzIntfCli.py MrouteShowTechCli.py RadiusCli.py SendCli.py VmTracerIntfCli.py ArpIpIntfCli.py EbraEthIntfCliModel.py IgmpSnoopingEventMonCli.py LauncherDaemonCli.py MsdpCli.py RedSupCli.py SflowCli.py VxlanCli.py BackupIntfCli.py EbraShowTechCli.py IgmpSnoopingShowTechCli.py LinkFlapCli.py NetworkCli.py RedSupCliFormatSpec.py ShellCli.py WaitForWarmupCli.py BeaconLedCli.py EbraSnmpCli.py InstallCli.py LldpConfigCli.py NetworkToolsCli.py RedSupFileCli.py SnmpCli.py WatchCli.py BfdCli.py EmailCli.py IntfCli.py LldpStatusCli.py NetworkUrlCli.py ReloadCauseCli.py StormControlCli.py XcvrCli.py BootCli.py EnvironmentCli.py IntfRangeCli.py LoggingCli.py OldDhcpRelayCli.py ReloadCli.py StpCli.py XcvrConfigCli.py BridgingCli.py ErrdisableCli.py IntfSnmpCli.py LoopbackIntfCli.py OpenFlowCli.py ReloadConfigSaveCli.py StpCliLib.py BridgingCliModel.py EthIntfCli.py Ip6NdCli.py MacEventMonCli.py PciCli.py ReloadElectionCli.py StpIntfCli.py BridgingEtbaCli.py EthShowTechCli.py IraCommonCli.py MacFlapCli.py PeerIntfCli.py ReloadFileSyncCli.py SupeSessionCli.py CliCli.py EventCli.py IraEtbaCli.py ManagementActiveIntfCli.py PfcCli.py RibIp6Cli.py SwitchIntfCli.py CliCliModel.py EventMonCli.py IraIp6Cli.py MirroringCli.py PhyCli.py RibIpCli.py SysMgrCliLib.py CliError.py ExtensionMgrCli.py IraIp6IntfCli.py MlagConfigCli.py PhyConfigCli.py RibShowTechCli.py TacacsCli.py [admin@localhost CliPlugin]$ head VlanCli.py ==&gt; VlanCli.py &lt;== <span class="hljs-comment"><span class="hljs-comment"># Copyright (c) 2006-2011 Arista Networks, Inc. All rights reserved. # Arista Networks, Inc. Confidential and Proprietary. #------------------------------------------------------------------------------- # This module implements VLAN configuration. In particular, it provides: # - the Vlan class # - the VlanSet class # - the "config-vlan" mode # - the "[no] vlan &lt;vlan_set&gt;" command # - the "[no] name &lt;vlan_name&gt;" command</span></span></code> </pre> <br></div></div><br>  Users can change both built-in commands and write their own. <br><br>  The very same work in the CLI is similar to the work in the Cisco IOS CLI.  At first it seems that this is a copy (not like that of Huawei, but a copy).  But then improvements become visible, which were very lacking in IOS. <br><br>  For example, when changing the parameters of an interface group, the word ‚Äúrange‚Äù is not needed, and the interface numbers are displayed on the left: <br><pre> <code class="bash hljs">localhost(config)<span class="hljs-comment"><span class="hljs-comment">#int e1,3,5 localhost(config-if-Et1,3,5)# localhost(config-if-Et1,3,5)#load-interval 10</span></span></code> </pre><br>  Or you can see the utilization of interfaces and groups of interfaces: <br><pre> <code class="bash hljs">localhost<span class="hljs-comment"><span class="hljs-comment">#sh int e3,e48 | i rate 10 seconds input rate 5.26 Gbps (53.3% with framing overhead), 433507 packets/sec 10 seconds output rate 12.2 Mbps (0.2% with framing overhead), 21824 packets/sec 10 seconds input rate 12.2 Mbps (0.2% with framing overhead), 21826 packets/sec 10 seconds output rate 5.26 Gbps (53.3% with framing overhead), 433546 packets/sec</span></span></code> </pre><br>  And it is absolutely not necessary to select with the cursor 3 digits per port speed in order to understand whether we are dealing with megabits or gigabits.  But that's not all.  EOS displays interface utilization in%. <br><br>  And in EOS you can make multiple pipes and use GNU / Linux programs: <br><pre> <code class="bash hljs">sho run | grep X | grep -v Y | more</code> </pre> <br>  It is not necessary to add ‚Äúdo‚Äù in the configuration mode before the command. <br><br>  You can see the diff of the active and saved configuration: <br><pre> <code class="bash hljs">localhost<span class="hljs-comment"><span class="hljs-comment">#sh run diffs --- flash:/startup-config +++ system:/running-config @@ -190,9 +190,10 @@ ! interface Loopback0 ipv6 enable + ipv6 address 2001:db8:ffff::ffff/128 ipv6 address 2001:db8::1/128 ip address 10.10.10.1/32 - ip address 10.255.255.1/32 secondary + ipv6 ospf priority 20 ipv6 ospf 1 area 0.0.0.0 ! interface Management1 @@ -200,7 +201,6 @@ ! interface Vlan10 description test - shutdown mtu 9000 ip address 10.1.1.1/24 !</span></span></code> </pre><br>  You can exit bash and look around: <br><pre> <code class="bash hljs">localhost<span class="hljs-comment"><span class="hljs-comment">#bash Arista Networks EOS shell [admin@localhost ~]$ ls / bin dev export lib mnt opt proc sbin srv tmp var boot etc home media monitor persist root selinux sys usr [admin@localhost ~]$ sudo -s bash-4.1# cat /proc/cpuinfo | grep name model name: AMD Turion(tm) II Neo N41H Dual-Core Processor model name: AMD Turion(tm) II Neo N41H Dual-Core Processor</span></span></code> </pre><br>  All <acronym>ACLs</acronym> are named.  No need to remember and get confused in the rooms.  For adherents of the old approach, it is possible to use numbers as names. <br><br>  And so on and so forth.  CLI in EOS is not just a copy, it is a self-contained shell with convenient features and far from the progenitor. <br><br><h5>  Extensible OS </h5><br>  The word "Extensible" in the "Extensible Operating System" is meant to indicate the <a href="https://eos.aristanetworks.com/wiki/index.php/EOS_Extensibility">extensibility of</a> the OS functionality.  This is achieved due to the possibility of installing their programs, demons, scripts on the switch.  You can, for example, install and run the OpenVPN client.  Or, run the script in Python, or, even <a href="https://github.com/Exa-Networks/exabgp">ExaBGP</a> .  You can make friends with your crafts with Sysdb, and then, after collecting RPM packages, spread them across the network. <br><br><h5>  Some other features of EOS </h5><br><ul><li>  <b>CloudVision</b> allows you to connect Arista switches to the XMPP server as clients.  You can write CLI commands in ‚Äúchats‚Äù with them, and the switches will respond with the results of their execution.  You can add multiple devices to a group chat and execute commands on all members of a group at the same time. </li><li>  <b>Advanced Event Management</b> is something like Cisco <acronym>EEM</acronym> or Junos Event Scripts: you can program actions (CLI commands, script execution) for certain events (for example: the port has dropped).  Read more on the <a href="http://www.aristanetworks.com/en/products/eos/aem">site</a> . </li><li>  <b>Event Monitor</b> logs changes in MAC, ARP and routing tables on the embedded flash memory in the form of SQLite database. </li><li>  <b>eAPI</b> (External API) allows you to work with the switch via JSON-RPC: input and output data as JSON objects. </li><li>  Using <b>Zero Touch Provisioning (ZTP),</b> you can automate the configuration of a new switch.  The switch with default settings is loaded in ZTP mode and tries to get network settings via DHCP.  Using the <i>option bootfile-name</i> , which can also be <i>sent</i> via DHCP, the switch can specify the URL to load the script (on the shell, or, for example, in the language of the embedded CLI, since it is one of the shell options).  If the script is downloaded successfully, the device will execute it.  In this case, automation is limited, probably, only by fantasy. </li><li>  <b>DirectFlow</b> allows <b>you</b> to set rules (such as mirroring; changing priority, VLAN, SRC / DST, etc.) applied to traffic (based on, for example, SRC / DST (IP, MAC, port) or protocol numbers, or VLAN, etc.) from the CLI (and eAPI will also go).  Using such rules, you can, for example, more selectively mirror traffic for analysis, as opposed to SPAN.  Or send to the cleaning system only the traffic for the desired IP, and not put this system into a gap.  Such functionality is usually described as an advantage when switching switches to OpenFlow mode.  DirectFlow allows you to apply rules in ASIC without OpenFlow. </li></ul><br><h4>  Aboot </h4><br>  Aboot is not part of EOS, but an EOS bootloader, something like Cisco ROMmon. <br><br>  I want to talk about it, because it is very simple and straightforward.  Aboot is nothing more than a <a href="http://ru.wikipedia.org/wiki/BusyBox">BusyBox</a> .  All data, including EOS images and logs, is stored on the built-in flash drive.  Aboot allows you to access it (as well as access to external USB drives connected to USB ports) and restore the device to work in case of problems.  Logging into Aboot is also simple: without dancing with a tambourine, without pinching buttons and sending strange codes to the console - CRTL + C. <br><br><div class="spoiler">  <b class="spoiler_title">I think this will help present the simplicity and capabilities of aboot:</b> <div class="spoiler_text"><pre> <code class="bash hljs">Aboot 2.0.5-430838 Press Control-C now to enter Aboot shell ^CWelcome to Aboot. Aboot<span class="hljs-comment"><span class="hljs-comment"># echo $SHELL /bin/sh Aboot# arp devmem initblockdev overcast-lcd swiinfo ash df initnetdev ping switch_root autoboot dirname insmod ping6 switchroot base64 dmesg iostat pmap sync basename dosfsck ip poweroff sysinit blockdev dropbearmulti ipcalc powertop tail boardinit du kexec ps tar boot echo kill pwd tee bootchartd egrep ln readlink telnet bunzip2 env login realpath tftp burnK7 expr losetup reboot time burnMMX false ls recover touch burnP6 fdisk lsmod reset tr busybox fgconsole lspci rev traceroute bzcat fgrep lsusb rm traceroute6 cat find md5sum rmdir true checkpass flashrom mdev rmmod udhcpc chgrp flock mkdir route umount chmod free mkdosfs rx uname chown fsck.msdos mkfs.vfat scp unxz chroot fsck.vfat mknod sed unzip clear fullrecover mktemp setpci vi cmp grep modinfo sh vmcore-dmesg cp gunzip more sha1sum wget cpio halt mount sleep which cut head mpstat smemcap xz date help mv ssh xzcat dbclient hexdump nbd-client stat yes dd ifconfig netconf stty zcat devio init nvramtool sum Aboot# exit Restarting system.</span></span></code> </pre><br></div></div><br>  Even <i>ipcalc</i> is for convenience. <br><br><h4>  Application </h4><br>  As mentioned earlier, Arista Networks targets its equipment in data centers and offers the following options for optimal use: <br><img src="https://habrastorage.org/getpro/habr/post_images/d7d/8a4/57e/d7d8a457ecdef5f1889d9716f2e5bfa5.png"><br><br><ul><li>  <b>Single-Tier "Spline"</b> - a hybrid of Leaf ("list") and Spine ("root") - "Spline".  It is proposed to put two redundant switches in the center of the row.  Using, for example, 7316X switches, from its 512 40 Gbit / s ports, you can make 2048 ports 10 Gbit / s speed using a special QSFP-SFP + splitter (adapter from QSFP to 4 SFP +).  From 7250QX-64 we get 256 SFP + interfaces at just 2 U. As can be seen from the switch characteristics table, switching will be without oversubscription.  The name is pure marketing, but with the right calculation and approach, implementation can be very cost-effective, easy to build and maintain.  For example, in the past, to connect 240 copper ports without redundancy, you needed 5 boards of 48 ports on the Cisco Catalyst 6506. </li><li>  <b>Layer 2 / MLAG</b> - already become ‚Äúclassic‚Äù Leaf and Spine, built on MLAG (also known as MC-LAG).  The MC-LAG is a <i>Multi-Chassis Link Aggregation Group</i> , that is, a <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B3%25D1%2580%25D0%25B5%25D0%25B3%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F_%25D0%25BA%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25BE%25D0%25B2">LAG</a> built from two devices (in this case, switches) to a third device (switch or server), while the third device assumes it is connected to one device.  Thus, it is possible to do without <a href="http://ru.wikipedia.org/wiki/STP">STP</a> and, importantly, both channels will be active (active / active). </li><li>  <b>Layer 3 / ECMP</b> is a variation of the ‚Äúclassic‚Äù Leaf and Spine, but with all the links between all the devices on L3 (IPv4 and / or IPv6).  Due to the absence of restrictions on more than two devices in the nodes, this scheme has better scalability than the previous one.  All connections also work in active mode, no STP.  Protection against banding traffic is based on routing protocols.  <acronym>Balanced</acronym> traffic using <acronym>ECMP</acronym> . </li></ul><br>  Nothing prevents to assemble a ring or mixed topology using STP and its more advanced options, including PVST.  But it will have a negative effect on the inefficiency, scaling and ease of use. </div><p>Source: <a href="https://habr.com/ru/post/211869/">https://habr.com/ru/post/211869/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../211853/index.html">Cross-platform https server with non-blocking sockets. Part 2</a></li>
<li><a href="../211855/index.html">IBM can get rid of semiconductor business</a></li>
<li><a href="../211863/index.html">Polyfill to work around browser forms autocomplete</a></li>
<li><a href="../211865/index.html">MDIF announced the creation of a free network Outernet</a></li>
<li><a href="../211867/index.html">Qwt and Qt Creator. Quick and easy. Part 2: Display and Control Elements</a></li>
<li><a href="../211871/index.html">Design and architecture in the OP. Introduction and Part 1</a></li>
<li><a href="../211877/index.html">Translation Code Club Scratch Curriculum, crowdsourcing</a></li>
<li><a href="../211879/index.html">Modification of UEFI BIOS, part two: useful modifications</a></li>
<li><a href="../211881/index.html">On solving an incomplete cubic equation</a></li>
<li><a href="../211885/index.html">Lightweight Tables or practical tips when designing a database ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>