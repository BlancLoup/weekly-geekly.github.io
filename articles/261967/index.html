<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Exam 70-485 Advanced Windows Store App Development Using C #</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="While all progressive developers are anticipating the release of Windows 10 and are preparing to develop applications for it, I, after passing the 70-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Exam 70-485 Advanced Windows Store App Development Using C #</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/373/990/ab0/373990ab0f914fa6a7d68049b1ce83d9.jpg"><br>  While all progressive developers are anticipating the release of Windows 10 and are preparing to develop applications for it, I, after passing the 70-485 test, want to share with you the in-depth features of developing applications for Windows 8 and 8.1.  Fortunately, the development of 10 and under 8.1 has a lot in common.  This article is supposed to help you pass the exam 70-485, but may be interesting in any case, if you are developing applications for Windows Store.  It contains some of the must-know snippets, a description of the features and classes of WinRT, as well as some points on which tricky questions can be asked. <br>  Under the cut about everything a little.  Since it is impossible to cover everything, a peculiar reminder turned out. <br><a name="habracut"></a><br>  Exam description is available at the link: <a href="https://www.microsoft.com/learning/ru-ru/exam-70-485.aspx">Exam 70-485 Advanced Windows Store App Development Using C #</a> <br>  I advise you to familiarize yourself with the list of topics posted there, on which questions will be asked.  As with all such tests, after the end of the test a printout with the percentage of correct answers for each of the topics will be available to you, which means that in order to pass the exam, you must have knowledge of all topics. <br><br>  <b>Sensors (Windows.Device.Sensors space)</b> <br>  <i>Accelerometer</i> - Acceleration.  This sensor returns the acceleration values ‚Äã‚Äãalong the x, y, and z axes.  Simply put, this movement is left-right / to itself and from itself.  Also supports the shaken event (when shaking). <br>  <i>Gyrometer</i> - Angular speed / rotation.  Returns values ‚Äã‚Äãrelative to the x, y, or z axis.  In other words - rotation without shifting the axis. <br>  Accelerometers give correct values ‚Äã‚Äãfor long duration actions, but give a lot of noise for short actions.  On the contrary, gyrometers are good for short actions, but drift for long ones.  It is advisable to use both sensors to calibrate each other. <br>  <i>Compass</i> - returns the direction of the north and, if possible, the magnetic north <br>  <i>Inclinometer</i> - Inclinometer pitch, roll, and yaw values ‚Äã‚Äãthat correspond to the angles of rotation around the x, y, and z axes <br>  <i>LightSensor</i> - photosensitivity sensor. <br>  <i>OrientationSensor</i> - returns the rotation matrix and quaternion <br>  <i>SimpleOrientationSensor</i> - the current position of the device, which as a result gives the position of the device as one of the enumeration values.  For example: Rotated90DegreesCounterclockwise, Faceup, Facedown, NotRotated <br>  <i>Proximity</i> - object proximity sensor - NFC <br>  Still have sensors: <i>Barometer, Magnetometer, Altimeter</i> <br>  The following link is an excellent video that demonstrates the capabilities of the sensors: <a href="http://blogs.windows.com/buildingapps/2013/11/26/choosing-the-right-sensor/">Choosing the right sensor</a> <br>  Almost all sensor APIs are identical (the SimpleOrientationSensor stands out a bit).  First, you get a reference to the sensor using the GetDefault () method of the corresponding sensor class, then you set the ReportInterval property (in milliseconds) to let the system know how often to check for changes in values ‚Äã‚Äãand how many resources need to be allocated for the sensor.  Almost all classes use a rather similar ReadingChanged event to handle changes in sensor values.  The accelerometer also supports the Shaken event, while, for the SimpleOrientationSensor, unlike others, the OrientationChanged event serves as a screen orientation change event. <br>  When installing ReportInterval, you should take into account that the value cannot be set lower than that supported by the device, otherwise an exception will be raised.  It is necessary using the MinimumReportInterval sensor property to find out the minimum supported interval and compare it with the interval to be set.  If the ReportInterval value is 0, the device will use the default interval. <br>  Consider an example of using an accelerometer: <br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.Devices.Sensors; <span class="hljs-comment"><span class="hljs-comment">//  MainPage  this.InitializeComponent() Accelerometer _accelerometer = Accelerometer.GetDefault(); if (_accelerometer != null) { uint minReportInterval = _accelerometer.MinimumReportInterval; uint reportInterval = minReportInterval &gt; 20 ? minReportInterval : 20; _accelerometer.ReportInterval = reportInterval; _accelerometer.ReadingChanged += new TypedEventHandler&lt;Accelerometer, AccelerometerReadingChangedEventArgs&gt;(ReadingChanged); } // ‚Ä¶‚Ä¶‚Ä¶   -  private async void ReadingChanged(object sender, AccelerometerReadingChangedEventArgs e) { await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt; { AccelerometerReading reading = e.Reading; txtXAxis.Text = String.Format("{0,5:0.00}", reading.AccelerationX); txtZAxis.Text = String.Format("{0,5:0.00}", reading.AccelerationZ); }); } // Dispatcher.RunAsync ,      UI</span></span></code> </pre> <br>  <b>Work with the camera</b> <br>  There are two standard options for working with the camera.  The first way (simpler) is to assign the ‚Äúmission‚Äù to the standard API and use the CameraCaptureUI class.  The second way is to use MediaCapture. <br>  <b>Using CameraCaptureUI</b> <br>  We need to add a MediaElement element to the XAML to display the captured video: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MediaElement</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mediaPreivew"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"320"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  Now you can use this code to get the video from the camera and display it in the application: <br><pre> <code class="cs hljs"> CameraCaptureUI cameraUI = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CameraCaptureUI(); Windows.Storage.StorageFile capturedMedia = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraUI.CaptureFileAsync(CameraCaptureUIMode.Video); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (capturedMedia != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stream = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> capturedMedia.OpenAsync(FileAccessMode.Read); mediaPreivew.SetSource(stream, capturedMedia.ContentType); mediaPreivew.Play(); }</code> </pre><br>  Or the second variant of the code with the record in the file (without preview): <br><pre> <code class="cs hljs">Windows.Media.Capture.CameraCaptureUI dialog = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Windows.Media.Capture.CameraCaptureUI(); Size aspectRatio = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Size(<span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>); dialog.PhotoSettings.CroppedAspectRatio = aspectRatio; dialog.PhotoSettings.AllowCropping = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; Windows.Storage.StorageFile file = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> dialog.CaptureFileAsync(Windows.Media.Capture.CameraCaptureUIMode.Photo);</code> </pre><br>  <b>Using MediaCapture</b> <br>  In the application manifest, it is necessary to add permissions to use the web camera and microphone. <br>  Code to capture: <br><pre> <code class="cs hljs"> _mediaCapture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Windows.Media.Capture.MediaCapture(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _mediaCapture.InitializeAsync(); <span class="hljs-comment"><span class="hljs-comment">//     Windows.Graphics.Display.DisplayInformation.AutoRotationPreferences = Windows.Graphics.Display.DisplayOrientations.Landscape; var videoFile = await Windows.Storage.ApplicationData.Current.LocalFolder.CreateFileAsync("recording.mp4", Windows.Storage.CreationCollisionOption.ReplaceExisting); var profile = Windows.Media.MediaProperties.MediaEncodingProfile.CreateMp4(Windows.Media.MediaProperties.VideoEncodingQuality.HD1080p); await _mediaCapture.StartRecordToStorageFileAsync(profile, videoFile);</span></span></code> </pre><br>  When working with MediaCapture, it is necessary to free all resources before closing the application: <br>  By default, the content of OnSuspending is this code: <br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnSuspending</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, SuspendingEventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> deferral = e.SuspendingOperation.GetDeferral(); <span class="hljs-comment"><span class="hljs-comment">//</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Save application state and stop any background activity deferral.Complete(); }</span></span></code> </pre><br>  Here, between the declaration of deferral (English - delay) and its completion should be inserted the code that runs when pausing.  Why do we need this deferral here?  The suspension of the application can be interrupted and then the method will be interrupted in the middle.  To prevent this from happening, and the system made it possible to complete the process, we get deferral and end it at the end of the operation using deferral.Complete (); <br>  Now we will write an asynchronous procedure in which we will stop capturing the video and free up resources.  Any asynchronous procedure should be exactly Task.  It is advisable to use Void only for event handling procedures (button presses, etc.), that is, for those places where the Task is not used at all. <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> System.Threading.Tasks.<span class="hljs-function"><span class="hljs-function">Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">disp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _mediaCapture.StopRecordAsync(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _mediaCapture.StopPreviewAsync(); capturePreview.Source = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; _mediaCapture.Dispose(); }</code> </pre><br>  Since we have _mediaCapture in MainPage, and OnSuspending in App.xaml.cs, we need to either declare _mediaCapture in App.xaml.cs or call the MainPage object when invoked.  The second option can be realized with the help of such a small trick (this is unlikely to be in the exam, but this is an interesting solution): <br>  In the MainPage ads, add: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MainPage _mainpage;</code> </pre><br>  And in the designer himself: <br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MainPage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.InitializeComponent(); _mainpage = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }</code> </pre><br>  Now we can call Task like this: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> MainPage._mainpage.disp();</code> </pre><br>  Alternatively, you can add a XAML element: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CaptureElement</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"capturePreview"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"400"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  And instead of capturing to a file, use the preview: <br><pre> <code class="cs hljs"> capturePreview.Source = _mediaCapture; <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _mediaCapture.StartPreviewAsync();</code> </pre><br>  Unlike Windows.Media.Capture.MediaCapture, - CameraCaptureUI does not throw exceptions when there are no rights, but shows a message.  But you need to put the code in a try / catch wrapper both there and there. <br>  <b><i>VideoDeviceController</i></b> - contains camera settings.  Such as, for example: Focus, Zoom, Hue, TorchControl, FlashControl, WhiteBalanceControl, Brightness, Contrast ... <br>  Check whether the opportunity is present by: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MediaCapture.VideoDeviceController.Brightness.Capabilities.Supported)</code> </pre><br>  or javascript style: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (videoDev.Brightness.Capabilities.Step != <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre><br>  A small example of use: <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> videoDev = _mediaCapture.VideoDeviceController; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (videoDev.Contrast.Capabilities.Supported) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> contrastCapabilities = videoDev.Contrast.Capabilities; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> max = contrastCapabilities.Max; videoDev.Contrast.TrySetAuto(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (videoDev.Contrast.TrySetValue(max)) { <span class="hljs-comment"><span class="hljs-comment">//      . } }</span></span></code> </pre><br>  Also, some settings can be set in MediaCaptureInitializationSettings <br><pre> <code class="cs hljs">Windows.Media.Capture.MediaCaptureInitializationSettings _captureInitSettings = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; _captureInitSettings = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Windows.Media.Capture.MediaCaptureInitializationSettings(); _captureInitSettings.VideoDeviceId = <span class="hljs-string"><span class="hljs-string">""</span></span>; _captureInitSettings.StreamingCaptureMode=Windows.Media.Capture.StreamingCaptureMode.AudioAndVideo;</code> </pre><br>  And pass them as a parameter when initializing <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _mediaCapture.InitializeAsync(_captureInitSettings);</code> </pre><br>  The parameters set by MediaCaptureInitializationSettings can then be obtained for reading from the MediaCaptureSettings class. <br><br>  <b>Once again about dependency property</b> <br>  Dependency property must be declared with public static readonly modifiers.  Example: <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// IsSpinningProperty   dependency property //         PropertyMetadata,   null public static readonly DependencyProperty IsSpinningProperty = DependencyProperty.Register( "IsSpinning", typeof(Boolean), typeof(MainPage), null ); //   property/,      ,      . //  : bool spin = MainPage.Current.IsSpinning; public bool IsSpinning { get { return (bool)GetValue(IsSpinningProperty); } set { SetValue(IsSpinningProperty, value); } }</span></span></code> </pre><br>  But all of this should be clear and clear to you.  But the following may be new. <br>  <b><i>Attached DependencyProperty</i></b> - used as such a global property that can be assigned to any object.  One of the purposes of Attached DependencyProperty is to allow different children to set values ‚Äã‚Äãfor a property that is set in the parent element.  For example, DockPanel.Dock can be set to child elements of the standard XAML Dock control.  Further example: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> DependencyProperty IsMovableProperty = DependencyProperty.RegisterAttached(<span class="hljs-string"><span class="hljs-string">"IsMovable"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Boolean), <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(MainPage), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PropertyMetadata(<span class="hljs-literal"><span class="hljs-literal">false</span></span>)); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetIsMovable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UIElement element, Boolean </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { element.SetValue(IsMovableProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetIsMovable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UIElement element</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (Boolean)element.GetValue(IsMovableProperty); }</code> </pre><br>  Here is declared a DependencyObject object which contains the value of IsMovable.  The object is bound to another MainPage object, so you can pass the value to MainPage from any child of the window. <br>  Thus, from the code, any control can transfer the value to the MainPage object. <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">local:MainPage.IsMovable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"True"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"txtOut"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  You can also change the value of Attached DependencyProperty from code using a line like this: <br><pre> <code class="cs hljs"> MainPage.SetIsMovable(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, !(<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetValue(IsMovableProperty));</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Files that are retained after the application is restarted</b> <br><pre> <code class="cs hljs"> Windows.Storage.Pickers.FileOpenPicker openPicker=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Windows.Storage.Pickers.FileOpenPicker(); Windows.Storage.StorageFile file = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> openPicker.PickSingleFileAsync(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (file != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-comment"><span class="hljs-comment">//     Windows.Storage.AccessCache.StorageApplicationPermissions.MostRecentlyUsedList.Add(file, "20150706"); //       MRU -  .      . //   -  . //      : Windows.Storage.AccessCache.AccessListEntry item = Windows.Storage.AccessCache.StorageApplicationPermissions.MostRecentlyUsedList.Entries[0]; string metadata = item.Metadata;</span></span></code> </pre><br>  <b>For a list of files</b> <br><pre> <code class="cs hljs">IReadOnlyList&lt;Windows.Storage.StorageFile&gt; fileList = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Windows.Storage.ApplicationData.Current.LocalFolder.GetFilesAsync();</code> </pre><br>  You can also use GetFoldersAsync () to get a list of folders, or GetItemsAsync () to get both files and folders at once. <br><br>  <b>Write to file</b> <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> folder = Windows.Storage.KnownFolders.PicturesLibrary; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> file = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> folder.CreateFileAsync(<span class="hljs-string"><span class="hljs-string">"hello.txt"</span></span>, Windows.Storage.CreationCollisionOption.ReplaceExisting); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stream = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> file.OpenAsync(Windows.Storage.FileAccessMode.ReadWrite); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> outputStream = stream.GetOutputStreamAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)) { Windows.Storage.Streams.DataWriter dataWriter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Windows.Storage.Streams.DataWriter(outputStream); dataWriter.WriteString(<span class="hljs-string"><span class="hljs-string">"Some text"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> dataWriter.StoreAsync(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> outputStream.FlushAsync(); }</code> </pre><br>  Or even easier: <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> folder = Windows.Storage.KnownFolders.PicturesLibrary; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> file = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> folder.CreateFileAsync(<span class="hljs-string"><span class="hljs-string">"hello2.txt"</span></span>, Windows.Storage.CreationCollisionOption.ReplaceExisting); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Windows.Storage.FileIO.WriteTextAsync(file, <span class="hljs-string"><span class="hljs-string">"Swift as a shadow"</span></span>);</code> </pre><br>  In both the first and second examples, in the application manifest, you need to add permission to the Pictures Library to Capabilities. <br><br>  <b>Testing</b> <br>  The Windows Store applications contain the Microsoft.VisualStudio.TestPlatform.UnitTestFramework namespace, which is an excellent test framework for .NET applications.  The ExpectedException attribute is no longer supported.  Instead, use Assert. ThrowsException Methods marked as TestInitialize / TestCleanup will be executed before and after each test.  Do you know if it is convenient when you need to destroy an object or change the parameters for the next test? <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">TestInitialize</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestSetup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } [TestCleanup] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestCleanIt</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { }</code> </pre><br>  Even more convenient is the opportunity to support lightweight date tests.  This is the ability to run a test with various parameters as input values.  The following example clearly demonstrates this feature to us: <br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">DataTestMethod</span></span>] [DataRow(<span class="hljs-string"><span class="hljs-string">"25892e17-80f6-715f-9c65-7395632f0223"</span></span>, <span class="hljs-string"><span class="hljs-string">"Customer #1"</span></span>)] [DataRow(<span class="hljs-string"><span class="hljs-string">"a53e98e4-0197-3513-be6d-49836e406aaa"</span></span>, <span class="hljs-string"><span class="hljs-string">"Customer #2"</span></span>)] [DataRow(<span class="hljs-string"><span class="hljs-string">"f2s34824-3153-2524-523d-29386e4s6as1"</span></span>, <span class="hljs-string"><span class="hljs-string">"Customer #3"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetCustomerName_RightID_ReturnExpected</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String id, String customerName</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeClass(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> actualCustomer = obj.CallSomeFunctionGetName(id); Assert.AreEqual(customerName, actualCustomer); }</code> </pre><br>  This method is executed several times, each time with a string of data provided.  The first value in the example means the customer ID, the second - the return result with the customer name. <br>  In addition to the [DataTestMethod] attribute, there is also the [Microsoft.VisualStudio.TestPlatform.UnitTestFramework.AppContainer.UITestMethod] attribute, which allows you to run code in an interface stream.  Previously, it was necessary to use the dispatcher. <br><br>  Even if you do not test (I do not test my code, and if I test, I do it in production), then you probably noticed a counter with different numbers in the corner.  Sort of: <br>  <b>045 025 040965 003 000 001</b> <br>  The numbers that are indicated on the counter indicate (from left to right): <br>  <i>Composition thread FPS</i> ‚Äî The frame rate per second for the composition thread.  By the way, this stream is used to build and animate interface elements. <br>  <i>UI thread FPS</i> - frame rate for interface thread (UI thread) <br>  <i>Memory Video</i> - texture memory usage <br>  <i>Batch</i> - the number of surfaces that are sent to the graphics card (GPU) for drawing <br>  <i>Composition thread CPU</i> - time in milliseconds spent by the CPU on the composition flow <br>  <i>UI CPU</i> - time in milliseconds spent by the processor on UI threads <br>  In order to show or hide the counter in the corner, use the following code: <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.InitializeComponent(); DebugSettings.EnableFrameRateCounter = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre><br>  Since the composition streams and the UI streams are affected, I would like to explain a little the difference between them.  There are animations, or other interface changes that do not affect the basic layout and other objects of the scene.  Such processes can be calculated in advance.  They occur in a specially designated composition stream and thus unload the UI stream.  By the way, if the animation does not affect other objects, then it is called independent. <br><br>  To determine where the graphics are more loaded, you can define an overload map with: <br><pre> <code class="cs hljs">DebugSettings.IsOverdrawHeatMapEnabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre><br>  Places where there is a load will be highlighted in a darker color. <br><br>  <b>Exceptions</b> <br>  You should use the <i>UnhandledException</i> event only to perform certain operations, such as error logging or storing temporary data in the local storage before terminating the application.  You should not catch errors in this event.  arg.Handled = true - this is very bad in this case.  Exceptions that are not related to the XAML framework will not be caught by this event. <br><br>  An example of intercepting errors in asynchronous code: <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶ -  try { await this.DoSomethingAsync(); //  ,    }catch{} // ‚Ä¶ -  private Task DoSomethingAsync(){ //   }</span></span></code> </pre><br>  If you forget await, and an error occurs, it is recorded in the anonymous Task and ignored. <br>  If you forget await for an asynchronous void method, then the calling code will not be able to catch it, and an unhandled error occurs.  The program is interrupted.  This is why void is only used for events such as button click.  In other cases, you need to use Task. <br><br>  When using Task.WhenAll there is an <i>AggregateException</i> which returns a collection of errors, in case there were several errors.  You can use Flatten to highlight a specific error.  For example: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (AggregateException aex) { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (Exception ex <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> aex.Flatten().InnerExceptions) { <span class="hljs-comment"><span class="hljs-comment">// -  }}</span></span></code> </pre><br>  Task Parallel Library (TPL) provides us with an event for catching exceptions - <i>UnobservedTaskException</i> . <br>  This event can be logged, for example, when App.xaml.cs is initialized. <br><pre> <code class="cs hljs">TaskScheduler.UnobservedTaskException += TaskScheduler_UnobservedTaskException;</code> </pre><br>  <i>e.SetObserved</i> inside event - prevents interruption of code execution.  UnobservedTaskException is an error, which despite its name is an error of type AggregateException, which means it can be Flatten. <br><br>  A class is created for logging error information: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Diagnostics.Tracing; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyEventSource</span></span> : <span class="hljs-title"><span class="hljs-title">EventSource</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MyEventSource Log = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyEventSource(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Startup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { WriteEvent(<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OpenFileStart</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fileName</span></span></span><span class="hljs-function">)</span></span> { WriteEvent(<span class="hljs-number"><span class="hljs-number">2</span></span>, fileName); } }</code> </pre><br>  And then in the code you can write to the log: <br><pre> <code class="cs hljs"> MyEventSource.Log.Startup(); MyEventSource.Log.OpenFileStart(<span class="hljs-string"><span class="hljs-string">"SomeFile"</span></span>);</code> </pre><br>  <b>Device search</b> <br>  In order to find which devices are present in the system, you can use the <i>Windows.Devices.Enumeration.DeviceInformation</i> class.  In the following example, we find all the devices that can capture video: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.Devices.Enumeration; <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶‚Ä¶.. -   var interfaces = await Windows.Devices.Enumeration.DeviceInformation.FindAllAsync(DeviceClass.VideoCapture); txtOut.Text = interfaces.Count + " "; foreach (Windows.Devices.Enumeration.DeviceInformation deviceInterface in interfaces) { var id = "Id:" + deviceInterface.Id; var name = deviceInterface.Name; var isEnabled = "IsEnabled:" + deviceInterface.IsEnabled; txtOut.Text = txtOut.Text + Environment.NewLine +id.ToString()+" "+name.ToString() + " " + isEnabled.ToString(); }</span></span></code> </pre><br>  It was a search by device type. <br>  <i>DeviceClass</i> can be: <i>All, AudioCapture, AudioRender, PortableStorageDevice, VideoCapture, ImageScanner, Location</i> <br>  You can also perform a search by specifying, instead of the class of the device, a string formed in accordance with Advanced Query Syntax (AQS).  Thus, you can find the device, for example, by its GUID. <br><br>  <b>Registering the application to run when the device is connected</b> <br>  You can enable Autoplay for all Windows Store apps. <br>  In the application manifest, you need to add the AutoPlay Device declaration, approximately as shown in the screenshot: <br><img src="https://habrastorage.org/files/7cc/5a3/ff6/7cc5a3ff6bf942c8bf2cb7900362b5d0.png"><br><br>  In the App class's OnActivated method, the value of the IActivatedEventArgs parameter can be checked. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (args.Kind == ActivationKind.Device)</code> </pre><br>  You need to override the <i>OnLaunched</i> method in order to perform any actions that occur during application initialization, when the user starts your application in the normal way.  For other startup options, use <i>OnActivated</i> . <br>  In some cases, instead of OnActivated you need to use specialized methods: <br>  <i>OnFileActivated, OnSearchActivated, OnShareTargetActivated, OnFileOpenPickerActivated, OnFileSavePickerActivated, OnCachedFileUpdaterActivated</i> <br><br>  <b>DataProtectionProvider</b> <br>  The following methods will help you save the information or stream asynchronously encrypting and decrypting it: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.Security.Cryptography.DataProtection; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.Storage.Streams; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.Security.Cryptography; <span class="hljs-comment"><span class="hljs-comment">// ..... -        Hi secret String descriptor = "LOCAL=user"; DataProtectionProvider dpp = new DataProtectionProvider(descriptor); IBuffer binaryMessage = Windows.Security.Cryptography.CryptographicBuffer.ConvertStringToBinary("Hi secret", BinaryStringEncoding.Utf8); var _protectedBuffer = await dpp.ProtectAsync(binaryMessage); txtEncryptedTextBlock.Text = CryptographicBuffer.EncodeToBase64String(_protectedBuffer); //  ,     _protectedBuffer: DataProtectionProvider datapp = new DataProtectionProvider(); IBuffer unprotectedBuffer = await datapp.UnprotectAsync(_protectedBuffer); txtUnprotectedTextBlock.Text = CryptographicBuffer.ConvertBinaryToString(BinaryStringEncoding.Utf8, unprotectedBuffer);</span></span></code> </pre><br>  <b>Use the following class to store user passwords.</b> <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vault = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Windows.Security.Credentials.PasswordVault(); vault.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Windows.Security.Credentials.PasswordCredential(<span class="hljs-string"><span class="hljs-string">"My App"</span></span>, <span class="hljs-string"><span class="hljs-string">"username"</span></span>, <span class="hljs-string"><span class="hljs-string">"password"</span></span>));</code> </pre><br>  <b>Licensing</b> <br>  If your application is hosted in the Store, then you can ask it for a trial period during which its free use is allowed.  To do this, use the class <i>CurrentApp.LicenseInformation</i> .  When developing and testing use the class <i>CurrentAppSimulator</i> .  Brief example: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.ApplicationModel.Store; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> licenseInfo = CurrentAppSimulator.LicenseInformation; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (licenseInfo.IsActive) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (licenseInfo.IsTrial) <span class="hljs-comment"><span class="hljs-comment">// ,  IsTrial  true       { await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt; { txtLicenseRemainingDays.Text = (licenseInfo.ExpirationDate - DateTime.Now).Days.ToString(); }); } else { txtLicenseRemainingDays.Text = " "; } } else { txtLicenseRemainingDays.Text = "  : license is expired!"; }</span></span></code> </pre><br>  Subscribe to a license change event (for ‚Äúcatching‚Äù the end of the trial period or purchasing an application): <br><pre> <code class="cs hljs">CurrentAppSimulator.LicenseInformation.LicenseChanged += LicenseInformation_LicenseChanged;</code> </pre><br>  You can purchase a full license as follows: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> CurrentApp.RequestAppPurchaseAsync(<span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre><br>  If you pass true as a parameter, then you will receive a Receipt - xml file with information about the purchase. <br>  You can not sell the entire application, but only its certain features.  Approximately, as in the Free-to-play model.  For example, in an application that provides access to culinary recipes, the user can purchase additional secret recipes (for example, an old stool recipe). <br><pre> <code class="cs hljs">ListingInformation listingInfo = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> CurrentAppSimulator.LoadListingInformationAsync(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> productListing = listingInfo.ProductListings[<span class="hljs-string"><span class="hljs-string">"feature1"</span></span>]; txtInAppPurchaseFeaturePrice.Text = String.Format(<span class="hljs-string"><span class="hljs-string">"    {0}"</span></span>, productListing.FormattedPrice);</code> </pre><br>  You can purchase additional features using the <i>CurrentApp.RequestProductPurchaseAsync</i> method <i>(false)</i> <br><br>  When the CurrentAppSimulator class is used, a <i>WindowsStoreProxy.xml</i> file is created to simulate working with licenses in the following path: <br>  C: \ Users \\ AppData \ Local \ Packages \\ LocalState \ Microsoft \ Windows Store \ ApiData \ WindowsStoreProxy.xml <br>  Any modifications that you will make during testing affect and do not modify the WindowsStoreProxy.xml file, and only occur in RAM. <br>  Instead of WindowsStoreProxy.xml, you can slip your file: <br><pre> <code class="cs hljs">StorageFolder proxyDataFolder = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Package.Current.InstalledLocation.GetFolderAsync(<span class="hljs-string"><span class="hljs-string">"trial-configs"</span></span>); StorageFile proxyFile = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> proxyDataFolder.GetFileAsync(<span class="hljs-string"><span class="hljs-string">"timed-trial.xml"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> CurrentAppSimulator.ReloadSimulatorAsync(proxyFile);</code> </pre><br>  <b>WinMD</b> <br>  WinMD is a component of the Windows Runtime that was created specifically and only for Windows Store applications (as opposed to PCL).  If its code requiring high-performance computing is written in C ++, then when accessing WinMD from C # / JavaScript applications, the performance will increase compared to the same C # code.  Component code cannot be written in JavaScript. <br>  In the WinMD library, methods can be overloaded.  If you need to declare multiple overloads with the same number of parameters, you need to use the Windows.Foundation.Metadata.DefaultOverloadAttribute () attribute for one of these overloads. <br>  If you need to use your library only from Windows Store applications, and it will contain Windows Store controls, then you need to use WinMD, in other cases PCL is better for you. <br><br>  Fields, parameters, return values ‚Äã‚Äãand members of your component must be of the Windows Runtime type.  Here are some examples that compare WinRT and .Net types. <br>  <i>Windows Runtime - .NET Framework</i> <br>  IIterable - IEnumerable <br>  IVector - IList <br>  IVectorView - IReadOnlyList <br>  IMap &lt;K, V&gt; - IDictionary &lt;TKey, TValue&gt; <br>  IBindableIterable - IEnumerable <br>  IBindableVector - IList <br><br>  <b>Application life cycle</b> <br>  <i>Running - Suspended - NotRunning</i> <br>  After an error and interruption of the application, the status will be NotRunning <br>  The application enters the Suspended state when the user switches to another application or the device enters power saving mode.  After the application is in the Suspending state after 5 seconds it stops its work <br><br>  <b>HASHING</b> <br>  You, of course, know that hashing is often used to store information that may be compromised (say, passwords) or to check for errors in data storage / transfer.  A small snippet in the subject: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.Security.Cryptography; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.Storage.Streams; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Windows.Security.Cryptography.Core; String hashAlgorithmName = HashAlgorithmNames.Sha512; IBuffer binaryMessage = CryptographicBuffer.ConvertStringToBinary(<span class="hljs-string"><span class="hljs-string">"     "</span></span>, BinaryStringEncoding.Utf8); HashAlgorithmProvider hashProvider = HashAlgorithmProvider.OpenAlgorithm(hashAlgorithmName); IBuffer hashedMessage = hashProvider.HashData(binaryMessage); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hashedMessage.Length != hashProvider.HashLength) txtHash.Text = <span class="hljs-string"><span class="hljs-string">"  hash  "</span></span>; txtHash.Text = CryptographicBuffer.EncodeToBase64String(hashedMessage);</code> </pre><br>  Using the <i>CryptographicBuffer</i> class, you can generate a 32-bit number: <br><pre> <code class="cs hljs">RandomNumberTextBlock.Text = CryptographicBuffer.GenerateRandomNumber().ToString();</code> </pre><br>  Or random data: <br><pre> <code class="cs hljs">UInt32 length = <span class="hljs-number"><span class="hljs-number">32</span></span>; IBuffer rndData = CryptographicBuffer.GenerateRandom(length); RandomDataTextBlock.Text = CryptographicBuffer.EncodeToHexString(rndData);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HMAC contains information not only about the accuracy of the data, but also information confirming that the message came from an authorized sender. Simply put, this is a signed hash. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Digital signatures are very similar to HMAC, with the only difference that the HMAC uses a symmetric key, and digital signatures use an asymmetric key, and the public key is embedded in the certificate. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That's all for now. The contract of PlayTo, Printing, Backgroundtasks and geolocation would not fit here - they deserve separate articles. You also need to deal very well with asynchrony and multithreading, user and custom controls, animations, and also profiling (in Windows Store applications there is only sampling with a few limitations) and all other exam topics.</font></font><br>  ,          .     ,    ,     .            .    ,       .      ,  ,      ,                 . <br><br> ,      ,      . ,         -.   : <a href="https://www.microsoft.com/learning/ru-ru/online-proctored-exams.aspx">-</a> </div><p>Source: <a href="https://habr.com/ru/post/261967/">https://habr.com/ru/post/261967/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../261955/index.html">Qt Framework: streams, hierarchical finite state machine, work with USB devices = QThread + QStateMachine + libUSB</a></li>
<li><a href="../261957/index.html">Remote control via Ethernet: M2M technology using a combination of KBX-3D and Laurent-2 modules</a></li>
<li><a href="../261959/index.html">TEST Labs 2015. Online conference for testers and test managers. July 25</a></li>
<li><a href="../261961/index.html">How are converged infrastructure and online trading connected: New Juniper project</a></li>
<li><a href="../261963/index.html">Biomasterskaya: A new look at the biological sciences as an engineering discipline</a></li>
<li><a href="../261969/index.html">Clients SED: web vs native vs hybrid</a></li>
<li><a href="../261971/index.html">WebP vs BPG</a></li>
<li><a href="../261973/index.html">Video of the report "We write #b_ correctly" with WebCamp 2015</a></li>
<li><a href="../261975/index.html">Mobile Business Intelligence means Microsoft</a></li>
<li><a href="../261977/index.html">What is the peculiarity of underground data centers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>