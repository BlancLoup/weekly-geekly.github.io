<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Angular2: RC4 to RC5 Unit Tests Migration Guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I‚Äôll say at once that I am not a fan of Angular1 , angular-way and others like them, because the guys from Angular have done such a thing that sometim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Angular2: RC4 to RC5 Unit Tests Migration Guide</h1><div class="post__text post__text-html js-mediator-article"><img src="http://blog.rangle.io/content/images/2016/03/testing-your-angular-2-application.gif" alt="image"><br><br>  I‚Äôll say at once that I am not a fan of <b>Angular1</b> , <b>angular-way</b> and others like them, because the guys from Angular have done such a thing that sometimes you wonder.  Nevertheless, their new creation looks promising.  Yes, America was not discovered, but they created something that could compete with popular modern frameworks (React + Redux, Aurelia, etc.). <br><br>  There are pros and cons, about which articles and even books have already been written, but the essence of the post is different. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://angularjs.blogspot.de/2016/08/angular-2-rc5-ngmodules-lazy-loading.html">RC5</a> came out just a week ago and ‚Äúpleased‚Äù the developers with many changes that, perhaps, help in the work and simplify life, but make them seriously sweat over rewriting the already written code. <br><a name="habracut"></a><br>  There was no limit to my surprise when I found out that, having released a new version in rc5, the guys forgot to update the section with Testing, in which there was some useful information, and so ‚Äúthe cat wept‚Äù. <br><br>  Since I could not find the information I was interested in, I had to figure it out.  I hope the information will help those who are suffering right now over what is moving from rc4 to rc5 and his tests are written with such love.  There will be neither configurations, nor huge pieces of code, and the information is designed for those who already know the basics of Angular2. <br><br>  Let us estimate the basic structure of the application: <br>  <b><i>- app</i></b> <b><i><br></i></b>  <b><i>- app.component.ts</i></b> <b><i><br></i></b>  <b><i>- app.module.ts</i></b> <b><i><br></i></b>  <b><i>- main.ts</i></b> <b><i><br></i></b>  <b><i>- components</i></b> <b><i><br></i></b>  <b><i>- table.component.ts</i></b> <b><i><br></i></b>  <b><i>- services</i></b> <b><i><br></i></b>  <b><i>- post.service.ts</i></b> <b><i><br></i></b>  <b><i>- models</i></b> <b><i><br></i></b>  <b><i>- post.model.ts</i></b> <b><i><br></i></b>  <b><i>- test</i></b> <b><i><br></i></b>  <b><i>- post.service.mock.ts</i></b> <b><i><br></i></b>  <b><i>- table.component.spec.ts</i></b> <b><i><br></i></b>  <b><i>- post.model.spec.ts</i></b> <b><i><br></i></b>  <b><i>- post.service.spec.ts</i></b> <b><i><br></i></b> <br><br>  Hereinafter I will use examples in TypeScript, because the code written on it, as for me, looks a bit livelier and more interesting.  The example will describe the application that creates the table and draws it.  Simple and understandable to clarify how to write tests now. <br><br>  <b>app.component</b> is the first component to be loaded after the application is initialized. <br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Angular import { Component } from '@angular/core'; // Services import {PostService} from './app/services/post.service'; import {Post} from './app/models/post.model'; @Component({ selector: 'app', template: ` &lt;div *ngIf="isDataLoaded"&gt; &lt;table-component [post]="post"&gt;&lt;/table-component&gt; &lt;/div&gt; ` }) export class AppComponent { public isDataLoaded: boolean = false; public post: Post; constructor(public postService: PostService) {} ngOnInit(): void { this.postService.getPost().subscribe((post: any) =&gt; { this.post = new Post(post); this.isDataLoaded = true; }); } }</span></span></code> </pre> <br>  <b>app.module</b> is an innovation in rc5 that stores all the dependencies of the module.  In our case, it will provide PostService and TableComponent. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { NgModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { BrowserModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/platform-browser'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { HttpModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/http'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Components import { AppComponent } from './app/app.component'; import {TableComponent} from './app/components/table/table.component'; // Services import {PostService} from './app/services/post.service'; @NgModule({ declarations: [ AppComponent TableComponent ], imports: [ BrowserModule, HttpModule ], providers: [ PostService ], bootstrap: [AppComponent] }) export class AppModule {}</span></span></code> </pre><br>  <b>main</b> is the entry point to the application that Webpack, SystemJS, etc. uses. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { platformBrowserDynamic } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/platform-browser-dynamic'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AppModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./app/app.module'</span></span>; platformBrowserDynamic().bootstrapModule(AppModule);</code> </pre><br>  <b>table.component</b> - the component that we want to draw. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Angular import {Component, Input} from '@angular/core'; @Component({ selector: 'table-component', template: `&lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;Post Title&lt;/th&gt; &lt;th&gt;Post Author&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;{{ post.title}}&lt;/td&gt; &lt;td&gt;{{ post.author}}&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;` }) export class TableComponent { @Input() public post: any; }</span></span></code> </pre><br>  <b>post.service</b> - Injectable service that makes API requests and pulls a post. <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Injectable} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Observable} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/Rx'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Post} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./app/models/post.model'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Http } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/http'</span></span>; @Injectable() <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(http: Http) {} public getPost(): any { <span class="hljs-comment"><span class="hljs-comment">//    -   Facebook  Google return this.http.get(AbstractAPI.url) .map((res: any) =&gt; res.json()) } }</span></span></code> </pre><br>  <b>post.model</b> is a post class in which we wrap naked JSON. <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Post</span></span></span><span class="hljs-class"> </span></span>{ public title: number; public author: string; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(post: any) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.title = post.title; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.author = post.author; } }</code> </pre><br>  Our application is ready and working, but how can we test all this? <br><br>  I, in general, a fan of <b>TDD</b> , in this, I first write tests, and then - the code, and for me it is very important to do it as simply and quickly as possible. <br><br>  I use <b>Karma + Jasmine</b> for tests and the examples will be based on these tools. <br><br>  Changes that touched all types of tests (models, services, components) - removed <b>{it, describe}</b> from <a href="https://habrahabr.ru/users/angular/" class="user_link">angular</a> / core / testing.  Now they are <b>deprecated</b> and reach out of the framework (in my case from Karma). <br><br>  The loading of standard modules for tests has also changed: <br>  It was: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {setBaseTestProviders} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { TEST_BROWSER_DYNAMIC_PLATFORM_PROVIDERS, TEST_BROWSER_DYNAMIC_APPLICATION_PROVIDERS } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/platform-browser-dynamic/testing'</span></span>; setBaseTestProviders( TEST_BROWSER_DYNAMIC_PLATFORM_PROVIDERS, TEST_BROWSER_DYNAMIC_APPLICATION_PROVIDERS );</code> </pre><br>  It became: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {TestBed} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {BrowserDynamicTestingModule, platformBrowserDynamicTesting} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/platform-browser-dynamic/testing'</span></span>; TestBed.initTestEnvironment( BrowserDynamicTestingModule, platformBrowserDynamicTesting() );</code> </pre><br><br>  Now, for any sneeze, you need to create test @NgModule: <br>  Example with forms: <br>  It was: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {disableDeprecatedForms, provideForms} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> @angular/forms; bootstrap(App, [ disableDeprecatedForms(), provideForms() ]);</code> </pre><br>  It became: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {DeprecatedFormsModule, FormsModule, ReactiveFormsModule} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> @angular/common; @NgModule({ <span class="hljs-attr"><span class="hljs-attr">declarations</span></span>: [MyComponent], <span class="hljs-attr"><span class="hljs-attr">imports</span></span>: [BrowserModule, DeprecatedFormsModule], <span class="hljs-attr"><span class="hljs-attr">boostrap</span></span>: [MyComponent], }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyAppModule</span></span></span></span>{}</code> </pre><br><br>  There were a few more changes, but you can read more in the future post from Angular. <br><br>  Let's start with simple tests: <br><br>  <b>post.model.spec</b> - everything is simple, we pull the real model and test the properties. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Post} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./../app/models/post.model'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> testPost = {<span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'TestPost'</span></span>, <span class="hljs-attr"><span class="hljs-attr">author</span></span>: <span class="hljs-string"><span class="hljs-string">'Admin'</span></span>} describe(<span class="hljs-string"><span class="hljs-string">'Post'</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">'checks Post properties'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> post = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Post(testPost); expect(post <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Post).toBe(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); expect(post.title).toBe(<span class="hljs-string"><span class="hljs-string">"testPost"</span></span>); expect(post.author).toBe(<span class="hljs-string"><span class="hljs-string">"Admin"</span></span>); }); });</code> </pre><br>  We continue with services where everything is a bit more complicated, but in general the concept has not changed. <br><br>  <b>post.service.spec</b> - we will write tests for the service that pulls the API: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { inject, fakeAsync, TestBed, tick } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {MockBackend} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/http/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Http, ConnectionBackend, BaseRequestOptions, Response, ResponseOptions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/http'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {PostService} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./../app/services/post.service'</span></span>; describe(<span class="hljs-string"><span class="hljs-string">'PostService'</span></span>, () =&gt; { beforeEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      TestBed.configureTestingModule({ providers: [ PostService, BaseRequestOptions, MockBackend, { provide: Http, useFactory: (backend: ConnectionBackend, defaultOptions: BaseRequestOptions) =&gt; { return new Http(backend, defaultOptions); }, deps: [MockBackend, BaseRequestOptions]} ], imports: [ HttpModule ] }); }); describe('getPost methods', () =&gt; { it('is existing and returning post', //     inject([PostService, MockBackend], fakeAsync((ps: postService, be: MockBackend) =&gt; { var res; //     backend.connections.subscribe(c =&gt; { expect(c.request.url).toBe(AbstractAPI.url); let response = new ResponseOptions({body: '{"title": "TestPost", "author": "Admin"}'}); c.mockRespond(new Response(response)); }); ps.getPost().subscribe((_post: any) =&gt; { res = _post; }); //  ,    tick(); expect(res.title).toBe('TestPost'); expect(res.author).toBe('Admin'); })) ); }); });</span></span></code> </pre><br><br>  It remains, in fact, the most difficult thing is to write tests for the component itself.  It is this type of test that has affected the greatest changes. <br><br>  Before explaining in detail what has changed - I would like to create a MockPostService to which I will refer. <br><br>  <b>post.service.mock</b> - here we will overwrite the actual service methods so that it does not make queries, but simply returns test data. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {PostService} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./../app/services/post.service'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Observable} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MockPostService</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-comment"><span class="hljs-comment">//     super(); } //      ,      getPost() { //  Http  Observable,     Observable . return Observable.of({title: 'TestPost', author: 'Admin'}); } }</span></span></code> </pre><br><br>  Previously, the test for the component looked like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { inject, addProviders } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core/testing'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {TableComponent} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./../app/components/table/table.component'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     .          import {TestComponentBuilder} from '@angular/core/testing'; @Component({ selector : 'test-cmp', template : '&lt;table-component [post]="postMock"&gt;&lt;/table-component&gt;' }) class TestCmpWrapper { public postMock = new Post({'title': 'TestPost', 'author': 'Admin'}); } describe("TableComponent", () =&gt; { it('render table', inject([TestComponentBuilder], (tcb) =&gt; { return tcb.overrideProviders(TableComponent) .createAsync(TableComponent) //  fixture      .      ,    fixture.debugElement.children. .then((fixture) =&gt; { let componentInstance = fixture.componentInstance; let nativeElement = jQuery(fixture.nativeElement); componentInstance.post = new Post({title: 'TestPost', author: 'Admin'}); fixture.detectChanges(); let firstTable = nativeElement.find('table'); expect(firstTable.find('tr td:nth-child(1)').text()).toBe('TestPost'); expect(firstTable.find('tr td:nth-child(2)').text()).toBe('Admin'); }); })); });</span></span></code> </pre><br>  It became: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Component} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// TestComponentBuilder   TestBed,    . import {TestBed, async} from '@angular/core/testing'; import {Post} from './../app/models/post.model'; import {TableComponent} from './../app/components/table/table.component'; // Services import {PostService} from './../app/services/post.service'; import {MockPostService} from './post.service.mock' //        . @Component({ selector : 'test-cmp', template : '&lt;table-component [post]="postMock"&gt;&lt;/table-component&gt;' }) class TestCmpWrapper { public postMock = new Post({'title': 'TestPost', 'author': 'Admin'}); } describe("TableComponent", () =&gt; { //  -    ,      . beforeEach(() =&gt; { TestBed.configureTestingModule({ declarations: [ TestCmpWrapper, TableComponent ], providers: [ {provide: PostService, useClass: MockPostService ] }); }); describe('check rendering', () =&gt; { it('if component is rendered', async(() =&gt; { //   createAsync()  compoleComponents() + createComponent().  -   ,   TestCmpWrapper,  -   .  -  . TestBed.compileComponents().then(() =&gt; { let fixture = TestBed.createComponent(TestCmpWrapper); let componentInstance = fixture.componentInstance; let nativeElement = jQuery(fixture.nativeElement); componentInstance.post = new Post({title: 'TestPost', author: 'Admin'}); fixture.detectChanges(); let firstTable = nativeElement.find('table'); expect(firstTable.find('tr td:nth-child(1)').text()).toBe('TestPost'); expect(firstTable.find('tr td:nth-child(2)').text()).toBe('Admin'); }); })); }); });</span></span></code> </pre><br><br>  Carefully read the comments in the code itself - there are some minor clarifications. <br><br>  Comments are welcome and even necessary! <br><br>  May the Force come with us, because I don‚Äôt know what to expect from these guys if they play around in RC so much. </div><p>Source: <a href="https://habr.com/ru/post/307936/">https://habr.com/ru/post/307936/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307924/index.html">Preliminary patent applications may appear in Russia</a></li>
<li><a href="../307926/index.html">Basics of game design: 20 board games. Part seven and last: Nikoli puzzles, crosswords</a></li>
<li><a href="../307928/index.html">SEO optimization. Start</a></li>
<li><a href="../307930/index.html">Cloud Technology Myths. Part 1: about "useless" technical support and "clever" services</a></li>
<li><a href="../307932/index.html">Cisco IP SLA based caching DNS balancing</a></li>
<li><a href="../307938/index.html">Java Stream API: what's good and what's not</a></li>
<li><a href="../307940/index.html">Making an "adult" application for Android using the "child" programming environment Scratch</a></li>
<li><a href="../307942/index.html">What are design patterns?</a></li>
<li><a href="../307944/index.html">How static analysis can complement unit testing with the example of NUnit</a></li>
<li><a href="../307946/index.html">Overview: SAP F & R today and tomorrow is the future of sales forecasting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>