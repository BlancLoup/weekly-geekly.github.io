<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Python guide. We write a great code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, Habrahabr. Today on the wing brought another translation by me ( pdf -googo Google style guide laid out). Although, who knows, if someone ap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Python guide. We write a great code</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage2/2ce/4c5/4f8/2ce4c54f88fb940289747ce2e8734b45.jpg"><br>  Good day, Habrahabr.  Today on the wing brought another translation by me ( <a href="">pdf</a> -googo Google <a href="http://habrahabr.ru/post/179271/">style guide</a> laid out).  Although, who knows, if someone appreciates this work, there may be a sequel.  One day alone, my colleague <a href="https://habrahabr.ru/users/scraplesh/" class="user_link">Scraplesh,</a> well-known in narrow circles, offered me to read the resource - <a href="http://docs.python-guide.org/">The Hitchhiker's Guide to Python!</a>  called.  I liked this resource.  Liked the tips given out there.  I liked the outline of the story and generally liked the direction of thought of the author.  And if something is good for your taste, then you need to pass it from mouth to mouth :) So, I decided to translate this resource.  But not all at once - at first there will be a trial article ‚Äúto the response‚Äù of the habrasocommunity.  If respected geeks like this subject and presentation - we will try to produce new parts.  On the first ‚Äúresponse‚Äù I chose the section - ‚Äú <a href="http://docs.python-guide.org/en/latest/writing/structure.html">Writing Great Code</a> ‚Äù and in it there are two subitems ‚ÄúStructure is Key‚Äù and ‚ÄúModules‚Äù.  Let's respond under the cut. <br><a name="habracut"></a><br>  But before plunging into other people's thoughts about your favorite Python, you need to submit the actual author of the resource.  His name is <a href="http://www.facebook.com/kennethreitz/about">Kenneth Reitz</a> .  As I understood from the information collected, he is a professional photographer (we can find out about this on his personal <a href="http://kennethreitz.org/">website</a> ), an evangelist of the Python language and just a guru of various kinds of development.  He works at the moment (according to unconfirmed reports) in Heroku.  I also call upon everyone to fork his project on a <a href="https://github.com/kennethreitz/python-guide">githab</a> . <br><div class="spoiler">  <b class="spoiler_title">Kenneth Photography</b> <div class="spoiler_text"><h6>  Kenneth Reitz at PyCon in Australia (2012) </h6><br><img src="https://habrastorage.org/storage2/2c1/478/81e/2c147881e70c3c0665e78f4237f327dc.jpg"><br></div></div><br>  Next is the article itself.  (If you find errors, as usual - immediately shout about them! Errors require correction.) <br><hr><br><h4>  Structure your project </h4><br>  By structure, we mean the decisions you made regarding how your project can achieve its goals.  We need to consider how best to use the functional features of the Python language to write clean and efficient code.  From a practical point of view, the concept of "structure" means the creation (writing) of a net when, in which, the logic and dependencies are as clear as the organization of files and folders in the file system. <br><br>  What functions should be moved to which modules?  How will the data flow through the project?  What features and functions can be grouped together and isolated?  By answering such questions, you can start planning how the finished product will look. <br><br>  In this section, we take a closer look at the system of modules and imports in Python, because  they are a central element in ensuring the structuring of your project.  Then, we will discuss different points of view on how to build code that can be extended and reliably tested. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Structure decides </h5><br>  Due to the fact that imports and modules are processed in Python, it is relatively easy to structure a project written in this language.  The word ‚Äúsimple‚Äù in this context means that you will not create unnecessary restrictions, and that the model of the imported module is easy to understand.  Thus, you need to concentrate on a purely architectural task, namely, to work on the creation of various parts of your project and their interaction. <br><br>  Just a structured project means that you can also create a poorly structured project.  Some signs of a poorly structured project: <br><ul><li> Multiple and dirty cyclic dependencies.  If your <code>Table</code> and <code>Chair</code> classes need to import the <code>Carpenter</code> class from the <code>workers.py</code> module, to answer the question <code>table.isdoneby()</code> , and vice versa, if the <code>Carpenter</code> class needs to import the <code>Table</code> class and <code>Chair</code> class to answer the <code>carpenter.whatdo()</code> question <code>carpenter.whatdo()</code> - you get a circular dependency.  In this case, you will have to resort to tricky tricks, such as using the import statement inside methods or functions. </li><li>  Hidden connections.  Each and every change in the class <code>Table</code> fails 20 tests in unrelated tests, because  it distorts the execution of the code of the <code>Carpenter</code> class, which requires a surgically fine adaptive change of the code.  This means that you have too many ‚Äúarrangements‚Äù for the Table class in the code of the <code>Carpenter</code> class or vice versa. </li><li>  Intensive use of the global namespace or context.  Instead of explicitly passing (height, width, type, tree) to each other variables in the <code>Table</code> and <code>Carpenter</code> classes, you rely on global variables that can be changed and modified on the fly by various ‚Äúcomrades‚Äù.  You should carefully examine all the places where you can access these global variables, to understand why the rectangular table became square and find that the remote code was also changed in this context by changing the table size. </li><li>  Spaghetti code.  Several pages of nested <code>if</code> constructions and <code>for</code> loops with a large number of duplicate code and no segmented code, known as spaghetti.  Due to meaningful indents in Python (one of the most discussed features), it is very difficult to write such code in a given language.  So there is good news - you will not watch such a code often. </li><li>  Ravioli code.  Such code is more typical for Python.  It consists of hundreds of identical (or similar to each other) pieces of logic, classes, or objects without proper structuring.  If you can‚Äôt remember not to use <code>FurnitureTable</code> , <code>AssetTable</code> or <code>Table</code> , or even <code>TableNew</code> to solve your problem, you will bathe in the ravioli code. </li></ul><br><h5>  Modules </h5><br>  Modules in Python are one of the main layers of abstraction that are available, and are probably the most native to the language.  Levels of abstraction allow you to divide the code into parts processing the relevant data and containing any functionality. <br><br>  For example, one project layer can handle user interaction, while the other will handle low-level data manipulation.  The most natural way to separate these two levels is to put all the functionality in one file, and all low-level operations in the other.  In this case, the interface file will need to import a file with low-level functionality.  This is done using the <code>import</code> and <code>from ... import</code> expressions. <br><br>  As soon as you start using the import statement, you start using modules.  These can be built-in modules, such as <code>os</code> and <code>sys</code> , third-party modules that you installed in your environment, or internal modules of your project. <br><br>  To adhere to the leadership style, try giving the modules short names that contain only lowercase letters and make sure that you do not use special characters, such as a dot (.) Or a question mark (?).  Since the file name is similar to my.spam.py, you should avoid it.  Naming in this way will prevent Python from looking for modules. <br><br>  In this example, Python expects to find " <code>spam.py</code> " in a folder called " <code>my</code> ", which does not exist.  There is an example of how dot notation should be used in Python documents. <br><br>  If you want, you can name the file <code>my_spam.py</code> , but even our friend ‚Äî Underline ‚Äî should not be used often in module names. <br><br>  In addition to some naming restrictions, the file does not need anything else to become a Python module, but the import mechanism needs to be understood in order to use this concept properly and avoid some problems. <br><br>  Frankly, the import statement will look for the corresponding module.py file in the same directory as the import file.  If it is not found, the Python interpreter will search <code>module.py</code> in the " <code>path</code> " variable recursively and throw an <code>ImportError</code> exception if the latter is not found. <br><br>  After <code>module.py</code> is found, the Python interpreter will execute the module in an isolated scope.  Any top-level declaration in the <code>module.py</code> file will be executed, including nested imports, if any.  Declarations of functions and classes will be saved in the module dictionary <br><br>  Then the module variables, functions, and classes will be available for calling through the module namespace ‚Äî a central programming concept that is particularly powerful and useful in Python. <br><br>  In many languages, the file is included directly using the preprocessor to find all the code in the file and ‚Äúcopy‚Äù it into the code of the calling module.  This is different from the behavior of the Python language, in which the plug-in code is isolated within the scope of its module, which means that you may not worry that including code can have undesirable consequences, for example, overriding existing functions with the same name. <br><br>  This allows you to model more standard behavior using the special syntax of the import: <code>from module import *</code> expression.  This is usually considered a bad practice.  Using " <code>import *</code> " makes the code difficult to read and makes dependencies less fragmented. <br><br>  Using <code>from module import func</code> is a way to specify the function that you want to import and place in global scope.  And it is also less harmful for the code than " <code>import *</code> ", since  it clearly shows what is being imported into the global scope, the advantage of a simpler import module entry is to save keystrokes. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Very bad [...] from modu import * [...] x = sqrt(4) # Is sqrt part of modu? A builtin? Defined above? # Better from modu import sqrt [...] x = sqrt(4) # sqrt may be part of modu, if not redefined in between # Best import modu [...] x = modu.sqrt(4) # sqrt is visibly part of modu's namespace</span></span></code> </pre><br>  As stated in the style section, readability is one of the main features of Python.  Readability means avoiding the use of useless text content and clutter in the code, so usually some effort is spent on trying to achieve a certain level of code brevity.  But brevity and simplicity have certain limits, where the reduction of the code should stop.  Being able to immediately tell where this or that class or function begins, as well as the ideology of <code>module.func</code> , which significantly improves the readability of the code and its transparency in all but the simplest, separate projects ‚Äúin one file‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/183912/">https://habr.com/ru/post/183912/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../183902/index.html">Torchlight is free to download to GOG.COM for two days.</a></li>
<li><a href="../183904/index.html">Report on the online conference RuHaxe # 1</a></li>
<li><a href="../183906/index.html">Real-time debug of Android and iOS applications on Unity</a></li>
<li><a href="../183908/index.html">Tricky quaternions</a></li>
<li><a href="../183910/index.html">Survival Instructions for a full-time system administrator</a></li>
<li><a href="../183920/index.html">Android again "ran away" from smartphones and tablets</a></li>
<li><a href="../183922/index.html">Big Brother, as 95% saw him in central television coverage</a></li>
<li><a href="../183924/index.html">Russian Code Cup 2013 - analysis of qualifying round tasks</a></li>
<li><a href="../183926/index.html">Free repair of equipment</a></li>
<li><a href="../183928/index.html">Microsoft will pay for the search for vulnerabilities in Windows 8.1 and IE 11</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>