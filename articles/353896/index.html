<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SvelteJS: Second Version Release</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Just yesterday , the 2nd version of the young but very promising SvelteJS framework was released . The version is major, which means it contains not o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SvelteJS: Second Version Release</h1><div class="post__text post__text-html js-mediator-article">  Just yesterday <a href="">,</a> the 2nd version of the young but very promising <a href="https://svelte.technology/"><b>SvelteJS</b></a> framework was <a href="https://svelte.technology/"><b>released</b></a> .  The version is major, which means it contains not only new features and fixed bugs, but also corresponding ‚Äúbreaking changes‚Äù.  What's new offers developers a new version and why <b>Svelte is</b> even better, read under the cut. <br><img src="https://habrastorage.org/getpro/habr/post_images/413/844/cea/413844ceab2db0a514a550de407c1b15.png" alt="image"><br><a name="habracut"></a><br>  If suddenly, for some unknown reason, you do not know what <b>Svelte is</b> and why it is not <b>‚Äúyet another javascript framework‚Äù</b> .  I suggest first <a href="https://habrahabr.ru/post/345028/">catching</a> <a href="https://habrahabr.ru/post/345208/">up</a> to better understand what they mean. <br><br><h2>  New template syntax </h2><br>  The most obvious and global change in the new version is a radical change in the syntax of the templates.  Rich finally decided to get rid of "uso" -like syntax in favor of a more concise version: <br><br>  <b>It was</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="html hljs xml">{{#if foo}} {{bar}} {{else}} {{baz}} {{/if}}</code> </pre> <br>  <b>It became</b> <br><br><pre> <code class="html hljs xml">{#if foo} {bar} {:else} {baz} {/if}</code> </pre><br>  Obviously, the syntax is visually simpler and cleaner.  The changes affected all designs in the templates, including the special elements of <b>Svelte</b> : <br><br>  <b>It was</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">:Component</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">foo</span></span></span><span class="hljs-tag"> ? </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Red</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Blue</span></span></span><span class="hljs-tag">} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"thing"</span></span></span><span class="hljs-tag"> /&gt;</span></span> {{#if foo}} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">:Self</span></span></span><span class="hljs-tag"> /&gt;</span></span> {{/if}} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">:Window</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:keydown</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"handleKey(event)"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">:Head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>{{post.title}} ‚Ä¢ My blog<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">:Head</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>It became</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svelte:component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">this</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{foo ? Red : Blue}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"thing"</span></span></span><span class="hljs-tag">/&gt;</span></span> {#if foo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svelte:self</span></span></span><span class="hljs-tag">/&gt;</span></span> {/if} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svelte:window</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:keydown</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"handleKey(event)"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svelte:head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>{post.title} ‚Ä¢ My blog<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svelte:head</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The previous syntax of special elements was too unusual and most code editors did not cope with its highlighting.  The new syntax resembles the syntax of <i>namespace</i> from <b>XML</b> and is much better perceived by editors. <br><br>  We must pay tribute to Rich and separately note that all changes were <a href="https://github.com/sveltejs/svelte/issues/1318">actively discussed</a> with the community, and some of <a href="https://github.com/sveltejs/svelte/issues/1318">my suggestions</a> were included in the final version of the syntax and, like, even contributed to simplifying the parser. <br><br>  In general, there are a lot of changes in the syntax and this could be a problem for migration to the new version, if not for the <a href="https://github.com/sveltejs/svelte-upgrade">svelte-upgrade</a> utility, specially created for the automatic upgrade of <b>Svelte</b> components.  A complete list of changes can be viewed <a href="https://github.com/sveltejs/svelte-upgrade">there</a> . <br><br>  Good, Rich!  Goodbye "mustache"! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/73a/0b5/0b5/73a0b50b5ca9598fc0fb13643c8c3e7e.gif" alt="image"><br><br><h2>  ES6 only </h2><br>  Since <b>Svelte</b> is primarily a compiler, it is worth first to note that the final code of the previous version was compiled in <b>ES5</b> .  Therefore, to support <b>IE11</b> and other "progressive" versions of browsers, there was no need to communicate with transpillers like <b>Babel</b> or <b>Bubl√©</b> . <br><br>  But in the courtyard of 2018, and so that the compiler could produce a more optimal and even more compact code, it was decided to abandon support for <b>ES5</b> .  In other words, <b>Svelte</b> now compiles the components in <b>ES6</b> and we will have to use a transpiler if we need support for older versions. <br><br>  I myself fully support this approach.  Moreover, it is not difficult for anyone <a href="https://www.valentinog.com/blog/webpack-4-tutorial/">to</a> connect <a href="https://www.valentinog.com/blog/webpack-4-tutorial/"><b>Babel</b> to a <b>Webpack</b></a> or <b>Rollup</b> .  Especially when you consider that using <b>Svelte</b> without it will still not work.  ;-) <br><br><h2>  Actions </h2><br>  I still do not understand why this feature is called <b>actions</b> , but for myself I decided that the native speakers know better.  Although for me personally - this is not an obvious name. <br><br>  Anyway, the feature is useful.  In fact, this is a kind of hook that works when an element is rendered in the <b>DOM</b> .  For this, a new <b>use</b> directive has been introduced <b>:</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"placeholder.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">use:lazyload</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ src: 'giant-photo.jpg' }"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  And the corresponding section in behavior: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">actions</span></span>: { lazyload(node, data) { <span class="hljs-comment"><span class="hljs-comment">// do something return { update(data) {}, destroy() {} } } } };</span></span></code> </pre><br>  An action is a function that takes as its first parameter the element to which the directive is applied, and the data that was passed to it.  The function must return an object with the required <b>destroy ()</b> method, which will be called at the moment when the element is removed from the <b>DOM</b> .  Also, an object can contain an optional method <b>update ()</b> , which will be called every time when the data associated with the action has been changed. <br><br>  In general, if there is a need to make manipulations with the <b>DOM</b> directly, past the reactivity of <b>Svelte</b> , actions allow you to do this conveniently and provide a mechanism for synchronizing these changes. <br><br><h2>  New Life Cycle Hooks </h2><br>  In the previous version there were only 2 hooks: <b>oncreate ()</b> and <b>ondestroy ()</b> .  Now we also have 2 additional hooks responsible for working with the state: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { onstate({ changed, current, previous }) { <span class="hljs-comment"><span class="hljs-comment">//   oncreate(),   ,    }, onupdate({ changed, current, previous }) { //   oncreate(),   ,  DOM      } };</span></span></code> </pre><br>  As you can see, each hook accepts an object with 3 properties: <br><br><ul><li>  <b>changed</b> - includes keys that have been changed in the stack.  Used to test </li><li>  <b>current</b> - modified state </li><li>  <b>previous</b> - previous state </li></ul><br><br>  You can use it like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { onstate({ <span class="hljs-attr"><span class="hljs-attr">changed</span></span>: { foo }, current, previous }) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (foo) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'foo has changed from %s to %s'</span></span>, previous.foo, current.foo); } } };</code> </pre><br>  Or even like this: <br><br><pre> <code class="javascript hljs">component.on(<span class="hljs-string"><span class="hljs-string">'state'</span></span>, ({ changed, current, previous }) =&gt; {...});</code> </pre><br>  In connection with this important change, <b>observe ()</b> was moved from the core to the <a href="https://github.com/sveltejs/svelte-extras">svelte-extras</a> add <a href="https://github.com/sveltejs/svelte-extras">-on package</a> .  Therefore, if you like the previous syntax, you can simply connect the appropriate method from this package: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observe } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'svelte-extras'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">methods</span></span>: { observe }, oncreate() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observe(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, (current, previous) =&gt; {...}); } };</code> </pre><br>  If we recall that Rich, as the creator of <a href="https://rollupjs.org/guide/en"><b>Rollup</b></a> , is a fan of <a href="https://rollupjs.org/guide/en"><i>tree-shaking</i></a> , this approach immediately becomes obvious. <br><br><img src="https://habrastorage.org/webt/aj/7h/zx/aj7hzxuk-09fx93afcf3xznaknk.jpeg"><br><br><h2>  Spread attributes </h2><br>  Yes, I know, it was spied on by <b>JSX</b> , but essentially it does not change.  Many voted FOR and now <b>Svelte</b> can also: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Child</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...childProps</span></span></span><span class="hljs-tag">} /&gt;</span></span></code> </pre><br><br><h2>  Other changes </h2><br>  Important changes have occurred in some of the existing <b>api</b> framework.  Here are the main ones: <br><br><h4>  The <b>get ()</b> method no longer accepts parameters and always returns the entire state of the component: </h4><br>  <b>It was</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> foo = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.get(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bar = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.get(<span class="hljs-string"><span class="hljs-string">'bar'</span></span>);</code> </pre><br>  <b>It became</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { foo, bar } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.get();</code> </pre><br>  This is cool and we can use <i>destructuring assignment</i> to determine the necessary properties.  Moreover, now this method has become more similar to its antagonist, the <b>set ()</b> method, which in the previous version accepted only the object: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.set({ <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { foo } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.get();</code> </pre><br>  In general, I have the impression that <b>Svelte</b> is increasingly inclined to use <a href="https://medium.freecodecamp.org/elegant-patterns-in-modern-javascript-roro-be01e7669cbd">RORO</a> in its interfaces.  A full transition to <b>ES6</b> only contributes to this. <br><br><h4>  The same observation confirms the new syntax of the calculated properties: </h4><br>  <b>It was</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { <span class="hljs-attr"><span class="hljs-attr">d</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b, c</span></span></span><span class="hljs-function">) =&gt;</span></span> a = b + c } };</code> </pre><br>  <b>It became</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { <span class="hljs-attr"><span class="hljs-attr">d</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ a, b, c }</span></span></span><span class="hljs-function">) =&gt;</span></span> a = b + c } };</code> </pre><br>  At first glance, a strange and not very useful change (perhaps RORO), but in fact the <a href="https://github.com/sveltejs/svelte/issues/1303">next step</a> will be the possibility of creating a calculated property dependent on the entire state of the component.  For example, to filter it or otherwise manipulate it, as well as transfer it to child components using a spread attribute, in the following way (as long as it does not work): <br><br><pre> <code class="javascript hljs">&lt;Child {...props}/&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript"> </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">import</span></span></span></span><span class="xml"><span class="javascript"> Child </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">from</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'./Child.html'</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">export</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">default</span></span></span></span><span class="xml"><span class="javascript"> { </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">components</span></span></span></span><span class="xml"><span class="javascript">: { Child }, </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">computed</span></span></span></span><span class="xml"><span class="javascript">: { </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">props</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-function"><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">state</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span></span><span class="xml"><span class="javascript"> { </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">const</span></span></span></span><span class="xml"><span class="javascript"> { unwanted, alsoUnwanted, ...props } = state; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">return</span></span></span></span><span class="xml"><span class="javascript"> props; } } }; </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  I think many understand how cool it is.  I hope Rich will fix this feature in the near future. <br><br><h4>  Custom event handlers should now return <b>destroy ()</b> instead of <b>teardown ()</b> for consistency: </h4><br>  <b>It was</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eventHandler</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node, callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//... return { teardown() {} } }</span></span></code> </pre><br>  <b>It became</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eventHandler</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node, callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//... return { destroy() {} } }</span></span></code> </pre><br><br><h4>  <b>Svelte</b> no longer renders component attribute values ‚Äã‚Äãto type. </h4><br>  Now you need to explicitly specify a type other than a string using an expression.  Most of all it concerns numbers: <br><br>  <b>It was</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Counter</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">start</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  <b>It became</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Counter</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">start</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Counter</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">start</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{1}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span></code> </pre><br>  I think the meaning is clear.  A wise decision. <br><br><h4>  In templates, the methods of the store can now be called using the <b>$</b> prefix. </h4><br>  <b>It was</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"store.set({ clicked: true })"</span></span></span><span class="hljs-tag">&gt;</span></span>click me<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>It became</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$set({ clicked: true })"</span></span></span><span class="hljs-tag">&gt;</span></span>click me<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  In the previous version, only data from the store was available through the <b>$</b> prefix. <br><br><h2>  Tudushechka </h2><br><img src="https://habrastorage.org/webt/lk/jx/6r/lkjx6rpnsugwfylk0f_2klpfvce.png"><br>  For clarity, dashed off his own "tudushechku."  In it, I tried to reflect the maximum of new <b>Svelte</b> features that can be applied to this task, again for clarity. <br><br>  Tudushechka can <b>CRUD</b> over tasks, emulate asynchronous interaction with persistent state (storage, backend, etc.) and querying by one parameter - type of todo-sheet (work, family, hobby), as well as light animations.  Works primitive, spelled quickly.  Everything I love)))) <br><br>  ‚Üí <a href="https://svelte.technology/repl%3Fversion%3D2.0.0%26gist%3D8439585e9574d93409cd292ed29d68ee">Feel</a> <br><br>  That's all, thank you all!  Good Friday and weekend! <br><br><h4>  UPDATE: </h4><br>  Who is interested in Svelte and would like to follow its development - <i>welcome</i> to the Russian-language telegram channel <a href="https://t.me/sveltejs">SvelteJS</a> .  We will be glad to you! </div><p>Source: <a href="https://habr.com/ru/post/353896/">https://habr.com/ru/post/353896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353884/index.html">Sophisticated javascript call center</a></li>
<li><a href="../353886/index.html">Asynchronous Loops and Stream APIs in Node.js 10</a></li>
<li><a href="../353888/index.html">Where and how to grow talents?</a></li>
<li><a href="../353890/index.html">A simple filter to automatically remove the background from images</a></li>
<li><a href="../353892/index.html">Splunk Scripted Input. Or how to use scripts to obtain data on the operation of systems and analyze them in Splunk</a></li>
<li><a href="../353898/index.html">From custom websites to enterprise products</a></li>
<li><a href="../353902/index.html">Newman and Continuous Integration on the example of Atlassian Bamboo. The invention of the bicycle</a></li>
<li><a href="../353904/index.html">Pedro Uria: "The problem for information security will not be malware, but hackers"</a></li>
<li><a href="../353906/index.html">CIO or how to build an IT department of the organization</a></li>
<li><a href="../353908/index.html">7 days left to influence the Highload ++ Siberia program</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>