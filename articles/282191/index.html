<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rendering UTF-8 text using an SDF font</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue a series of articles about mobile game development. In this article I will tell you how to render UTF-8 text using SDF Bitmap fonts, how t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rendering UTF-8 text using an SDF font</h1><div class="post__text post__text-html js-mediator-article"><p>  We continue a series of articles about mobile game development.  In this article I will tell you how to render UTF-8 text using SDF Bitmap fonts, how to create these fonts and how to use this technique for high-quality rendering of icons. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/cfa/dc5/b3f/cfadc5b3f901421389ab252880ba3c5e.jpg"></div><a name="habracut"></a><br><h3>  Content </h3><br><p>  Part 1. <a href="https://habrahabr.ru/post/282065/">Mobile cross-platform engine</a> <br>  Part 2. Rendering UTF-8 text using an SDF font <br>  Part 3. <a href="https://habrahabr.ru/post/282590/">Rendering drops with transparency and reflections.</a> </p><br><hr><br><p><img width="300" align="right" src="https://habrastorage.org/files/d7d/908/769/d7d908769a734b76a4f188dc867235c6.jpg">  SDF ( <em>Signed Distance Field</em> ) is a grayscale image generated from a contrasting black and white image, in which the gray level indicates the distance to the nearest contrast border.  It sounds confusing, but in fact everything is very simple. <br clear="all"></p><br><p>  The sdf font itself looks like this: </p><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/files/15e/898/ac6/15e898ac68d64f29a51a331601dc6db6.jpg"></div><br><p>  Let's take this image and change its levels (levels) in Photoshop or any other graphics editor. </p><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/files/7b2/f6f/9dd/7b2f6f9dd4dc400ea9afdf94162e7abb.jpg"></div><br><p>  Looks better already!  We have a clear font with anti-aliasing on the edges. <br>  We can also get a bold or thin outline.  <em>But get italic alas will not work</em> . </p><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/files/6d1/c3b/1a2/6d1c3b1a2e394f2786631c8a8f5abd1c.jpg"></div><br><p>  The main advantage of the SDF is the ability to increase the font without noticeable artifacts. </p><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/files/387/105/d43/387105d4357a41c5a0b2b25ef11f0f85.jpg"></div><br><p>  In more detail about the SDF technique I recommend to read <a href="https://habrahabr.ru/post/215905/">here</a> . </p><br><h1>  How to create an SDF font? </h1><br><p>  First of all, you need to create the most common black and white bitmap font.  This can be done in good old <a href="http://www.angelcode.com/products/bmfont/">BMFont</a> or in <a href="https://github.com/scriptum/UBFG">UBFG</a> . </p><br><p>  For a good result, generate a 400pt font with no anti-aliasing, with indents 45x45x45x45 and a picture size of 4096x4096.  Merging at these sizes I advise you to disable  most likely UBGF will hang. </p><br><p>  We export the image to PNG without transparency, and the description format is desirable to choose BMFont (for greater compatibility). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b99/a93/d08/b99a93d085924bfe9c8e3fe29659600e.jpg"></div><br><p>  Next we need <a href="http://www.imagemagick.org/">ImageMagick</a> and the following command: </p><br><blockquote>  convert font.png -filter Jinc (+ clone -negate -morphology Distance Euclidean -level 50%, - 50%) -morphology Distance Euclidean -compose Plus -composite -level 43%, 57% -resize 12.5% ‚Äã‚Äãfont.png </blockquote><br><p>  At the output we get a picture of 512x512, which will give us a very good result as a result. <br>  From the file with the description we will need to pull out the characters in unicode and their position / size (do not forget to divide the coordinates by 8 since we reduced the picture).  Which characters need to be exported, I will tell a little lower in the section about UTF-8. </p><br><p>  <em>Just a minute, UBFG has a built-in Distance Field!</em> <br>  Yes there is.  But the result is noticeably worse.  Perhaps in the update, the authors of UBFG will fix this. </p><br><h1>  Shaders for text rendering </h1><br><p>  <strong>Vertex shader</strong> to display each letter, character by character: </p><br><pre><code class="hljs mel">#ifdef DEFPRECISION precision mediump <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>; #endif attribute mediump vec2 Vertex; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> highp mat4 MVP; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> mediump vec2 cords[<span class="hljs-number"><span class="hljs-number">4</span></span>]; varying mediump vec2 outTexCord; void main(){ outTexCord=Vertex*cords[<span class="hljs-number"><span class="hljs-number">3</span></span>]+cords[<span class="hljs-number"><span class="hljs-number">2</span></span>]; gl_Position = MVP * vec4(Vertex*cords[<span class="hljs-number"><span class="hljs-number">1</span></span>]+cords[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>); }</code> </pre> <br><p>  <strong>DEFPRECISION is</strong> needed for OpenGL ES. <br>  In <strong>cords [1]</strong> and <strong>cords [0], we</strong> pass the position and scale of the character on the screen. <br>  And in <strong>cords [2]</strong> and <strong>cords [3]</strong> - the coordinates of the character on the font texture. </p><br><p>  <strong>Fragment Shader</strong> </p><br><pre> <code class="hljs mel">#ifdef DEFPRECISION precision mediump <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>; #endif varying mediump vec2 outTexCord; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> lowp sampler2D tex0; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> mediump vec4 <span class="hljs-keyword"><span class="hljs-keyword">color</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> mediump vec2 params; void main(void){ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tx=texture2D(tex0, outTexCord).r; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a=<span class="hljs-keyword"><span class="hljs-keyword">min</span></span>((tx-params.x)*params.y, <span class="hljs-number"><span class="hljs-number">1.0</span></span>); gl_FragColor=vec4(<span class="hljs-keyword"><span class="hljs-keyword">color</span></span>.rgb,a*<span class="hljs-keyword"><span class="hljs-keyword">color</span></span>.a); }</code> </pre> <br><p>  In <strong>color we</strong> transfer the color and transparency of the letter. <br>  And through the <strong>params</strong> adjust the thickness and smoothing of the edges of the font. </p><br><p>  If you can adjust the thickness of the font, it means that you can also display a frame! <br>  <strong>Fragment text shader with frame</strong> : </p><br><pre> <code class="hljs mel">#ifdef DEFPRECISION precision mediump <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>; #endif varying mediump vec2 outTexCord; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> lowp sampler2D tex0; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> mediump vec4 <span class="hljs-keyword"><span class="hljs-keyword">color</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> mediump vec4 params; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> mediump vec3 borderColor; void main(void){ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tx=texture2D(tex0, outTexCord).r; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> b=<span class="hljs-keyword"><span class="hljs-keyword">min</span></span>((tx-params.z)*params.w, <span class="hljs-number"><span class="hljs-number">1.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a=<span class="hljs-keyword"><span class="hljs-keyword">clamp</span></span>((tx-params.x)*params.y, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>); gl_FragColor=vec4(borderColor+(<span class="hljs-keyword"><span class="hljs-keyword">color</span></span>.rgb-borderColor)*a, b*<span class="hljs-keyword"><span class="hljs-keyword">color</span></span>.a); }</code> </pre> <br><p>  Additionally, we pass thickness, anti-aliasing in <strong>params.zw,</strong> and border color in <strong>borderColor</strong> . <br>  This should be the result: </p><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/files/6a2/e3f/276/6a2e3f276ed640b0b9030449906d4ac8.jpg"></div><br><p><img width="60" align="left" src="https://habrastorage.org/files/557/7fd/68a/5577fd68a6c54106a58226977e77c78b.png">  To get beautiful edges for both small and large text sizes, it is necessary to select different contrast / anti-aliasing parameters ( <strong>params</strong> ) for a small font and for a large one.  Then interpolate them to the current size. <br clear="all"></p><br><p>  In my opinion, well suited for <strong>small sizes</strong> : </p><br><ul><li>  more bold </li><li>  smoothed edges </li><li>  the border is minimal and blurred so as not to ripple </li></ul><br><p>  For <strong>large size</strong> : </p><br><ul><li>  thinner typeface </li><li>  the edges are very sharp </li><li>  the curb is bigger and sharper </li></ul><br><h1>  Icons </h1><br><img align="right" src="https://habrastorage.org/files/261/dd9/f64/261dd9f6470443a69b93d6a2005259c0.jpg"><br><p>  In modern design, flat icons have become quite popular.  Free vector icons are <a href="http://www.flaticon.com/">full</a> .  All we need to do is to collect a black and white textural texture atlas from the necessary icons and in the same way drive it through ImageMagick! </p><br><p>  As a result, we can store icons in a fairly low resolution, but get a good result when scaling and rotating icons! </p><br><p>  Bonus can be easily added to the gradient icons.  To do this, just hang the colors on the vertices, and we get the gradient by interpolating between points.  The radial gradient will have to be done pixel-by-pixel in a fragment shader. </p><br><h1>  UTF-8 </h1><br><p>  In modern projects, no one uses single-byte encoding.  All switched to UTF-8, wchar, unicode.  For example, it is convenient for me to work with strings in the UTF-8 char *. <br>  <a href="https://ru.wikipedia.org/wiki/UTF-8">UTF-8 is</a> easily decoded into unicode and fits perfectly with Java / String and NSString. </p><br><p>  <strong>The function for converting UTF-8 to Unicode:</strong> </p><br><pre> <code class="hljs delphi"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> unsigned int UTF2Unicode(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> unsigned char *txt, unsigned int &amp;i)<span class="hljs-comment"><span class="hljs-comment">{ unsigned int a=txt[i++]; if((a&amp;0x80)==0)return a; if((a&amp;0xE0)==0xC0){ a=(a&amp;0x1F)&lt;&lt;6; a|=txt[i++]&amp;0x3F; }</span></span><span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>((a&amp;<span class="hljs-number"><span class="hljs-number">0</span></span>xF0)==<span class="hljs-number"><span class="hljs-number">0</span></span>xE0)<span class="hljs-comment"><span class="hljs-comment">{ a=(a&amp;0xF)&lt;&lt;12; a|=(txt[i++]&amp;0x3F)&lt;&lt;6; a|=txt[i++]&amp;0x3F; }</span></span><span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>((a&amp;<span class="hljs-number"><span class="hljs-number">0</span></span>xF8)==<span class="hljs-number"><span class="hljs-number">0</span></span>xF0)<span class="hljs-comment"><span class="hljs-comment">{ a=(a&amp;0x7)&lt;&lt;18; a|=(a&amp;0x3F)&lt;&lt;12; a|=(txt[i++]&amp;0x3F)&lt;&lt;6; a|=txt[i++]&amp;0x3F; }</span></span> return a; }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Bonus!</b>  <b class="spoiler_title">Change the registry unicode character.</b> <div class="spoiler_text"><pre> <code class="hljs kotlin">static <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> unsigned int uppercase(unsigned int a){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">97</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">122</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">224</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">223</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">1072</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">1103</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">1104</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">1119</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>((a%<span class="hljs-number"><span class="hljs-number">2</span></span>)!=<span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">256</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">424</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">433</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">445</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">452</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">476</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">478</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">495</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">504</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">569</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">1120</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">1279</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a-<span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } static <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> unsigned int lowercase(unsigned int a){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">65</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">90</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">192</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">223</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">1040</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">1071</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">1024</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">1039</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>((a%<span class="hljs-number"><span class="hljs-number">2</span></span>)==<span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">256</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">424</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">433</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">445</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">452</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">476</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">478</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">495</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">504</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">569</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a&gt;=<span class="hljs-number"><span class="hljs-number">1120</span></span> &amp;&amp; a&lt;=<span class="hljs-number"><span class="hljs-number">1279</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+<span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; }</code> </pre> </div></div><br><h3>  UTF-8 blocks </h3><br><p>  In most fonts, especially creative ones, there is only ascii and latin.  What if we need, for example, currency symbols?  Especially true for in-app payments, where any currencies only come across.  I propose the following scheme, which has proven itself very well: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fc3/338/44e/fc333844e8c641308bfac1049b1f16a2.png"></div><br><p>  <strong>How to find out what characters are in the font?</strong> </p><br><p>  Here comes to help us a strange thing from Adobe - tada!  - <a href="https://github.com/adobe-fonts/adobe-blank">empty font</a> ! <br>  It can be used in CSS: <em>font-family: Roboto, Adobe Blank;</em> <br>  This is how the plates are obtained from the image above.  It remains only to copy the necessary pieces of characters and paste them into UBFG.  As a result, we get several pictures 512x512, where each will contain as many characters as it will fit. </p><br><p>  <strong>What kind of universal font?</strong> </p><br><p>  There are not so many fonts containing most Unicode characters.  I settled on <a href="http://www.quivira-font.com/">Quivira</a> .  At least with the currency symbols he is doing well. </p><br><p><img width="60" align="left" src="https://habrastorage.org/files/557/7fd/68a/5577fd68a6c54106a58226977e77c78b.png">  Let's say you added bitmaps for Arabic, Japanese, and Chinese.  There will be quite a lot of pictures.  Do not rush to download them all!  Wait until you really get a symbol from this block and load the desired texture. <br clear="all"></p><br><p>  There is also a catch in that all the fonts are of different sizes and different baselines.  When switching from font to font, the text will jump.  Therefore, for each font, select the parameters of its relative scaling and Y shift. Take these parameters into account when rendering each character. </p><br><p><img width="100" align="left" src="https://habrastorage.org/files/673/06a/988/67306a98865644e68e651d1ac1b49029.jpg">  I promised buns! <br>  Catch the ready <a href="https://drive.google.com/open%3Fid%3D0B0t4UF9U4eRzVXFOMGlheV8xTDA">SDF Quivira font</a> already cut into blocks! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/282191/">https://habr.com/ru/post/282191/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282179/index.html">How I hacked Facebook and found someone else's backdoor</a></li>
<li><a href="../282181/index.html">Features of national management</a></li>
<li><a href="../282183/index.html">3D printer calibration</a></li>
<li><a href="../282187/index.html">VoIP Part 1</a></li>
<li><a href="../282189/index.html">Graphic VGA-controller on SoC without HDL knowledge</a></li>
<li><a href="../282193/index.html">"Peeped" - the path from the idea for the VK Mobile Challenge to the real product</a></li>
<li><a href="../282195/index.html">On the way to creating your own online store engine</a></li>
<li><a href="../282197/index.html">The release of Ubuntu 16.04 LTS - Snap, OpenStack and other innovations. There may be problems with AMD video cards</a></li>
<li><a href="../282199/index.html">Robokassa stopped working with individual entrepreneurs and individuals</a></li>
<li><a href="../282203/index.html">Pavel Durov will distribute $ 1 000 000 to Telegram bots developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>