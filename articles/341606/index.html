<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Console assistants to work with Kubernetes via kubectl</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kubectl is the main console interface for interacting with Kubernetes and, of course, an important tool in the hands of any administrator / DevOps eng...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Console assistants to work with Kubernetes via kubectl</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/333/09c/284/33309c284f9f4bafb7fe8177fe3849f6.png" alt="image"><br>  Kubectl is the main console interface for interacting with Kubernetes and, of course, an important tool in the hands of any administrator / DevOps engineer involved in the operation of such clusters.  If you use it every day and do it really actively, then, as is typical of IT professionals, you probably thought about ways to simplify / automate your manipulations.  Fortunately, this is the world of system administrators, Open Source and the console, so that, of course, there were already those who not only thought about it, but also embodied their needs in life - in the form of utilities that are now available to all "colleagues in the workshop ".  About them and will be discussed in this short review. <a name="habracut"></a><br><br><h2>  kube-shell </h2><br><ul><li>  <a href="https://github.com/cloudnativelabs/kube-shell">Github</a> </li><li>  Language: Python * </li><li>  License: Apache 2.0 </li></ul><br>  An interactive shell for kubectl, based on the <a href="https://github.com/jonathanslenders/python-prompt-toolkit">prompt-toolkit</a> library for Python, which serves as a "replacement for the GNU readline and much more."  This library implements automatic addition of input commands with drop-down explanations, syntax highlighting, and a number of other features that, in essence, make all the ‚Äúinteractivity‚Äù in the kube-shell.  The case when it's easier to see once: <br><br><img src="https://habrastorage.org/webt/n3/kj/zq/n3kjzqji9fyyefnltkzfhldhtbo.gif">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Among other features of this shell: <br><br><ul><li>  automatic prompts that appear as you enter commands in the style of <a href="http://fishshell.com/">fish shell</a> ; </li><li>  history of entered commands with search for partial matches; </li><li>  extended autocomplete features: fuzzy-search, substitution of values ‚Äã‚Äãfrom data received from the server; </li><li>  convenient switching between clusters and namespaces <i>(there is a <a href="https://github.com/cloudnativelabs/kube-shell/issues/22">ticket</a> to add a similar switch between users)</i> ; </li><li>  edit mode vi. </li></ul><br>  In the obscure future <a href="https://github.com/cloudnativelabs/kube-shell/wiki/Proposal:-SQL-like-query-language">,</a> the emergence of support for an SQL-like language <a href="https://github.com/cloudnativelabs/kube-shell/wiki/Proposal:-SQL-like-query-language">is</a> also <a href="https://github.com/cloudnativelabs/kube-shell/wiki/Proposal:-SQL-like-query-language">expected</a> to be performed for the execution of commands of the following form via kubectl: <br><br><pre><code class="bash hljs">ls &lt;resource-name&gt; select (property1, property2, property3) <span class="hljs-built_in"><span class="hljs-built_in">where</span></span> (propery1=value1 and property2=value2) order by property3</code> </pre> <br>  The inspiration for the kube-shell was similar to the AWS API <a href="https://github.com/awslabs/aws-shell">shell</a> : <a href="https://github.com/awslabs/aws-shell">aws-shell</a> and <a href="https://github.com/donnemartin/saws">saws</a> . <br><br>  <i>* The project also uses an auxiliary program on Go (it is funny called <a href="">python_eats_cobra.go</a> ) to generate a JSON file with commands, arguments, etc. available in kubectl.</i>  <i>In the future, the main Python application works with this file.</i> <br><br><h2>  kube-prompt </h2><br><ul><li>  <a href="https://github.com/c-bata/kube-prompt">Github</a> </li><li>  Language: Go </li><li>  License: MIT License </li></ul><br>  Another interactive shell is very similar in its essence to the previously described kube-shell and appeared a month later (according to the first commit in GitHub, which happened in July against June 2017).  Its main difference is the use of the native for the Kubernetes community of the Go programming language instead of Python.  However, Go did not have its own prompt-toolkit, so ... the author (Masashi Shibata from Japan) took and wrote <a href="https://github.com/c-bata/go-prompt">go-prompt</a> , and on its basis implemented a new shell.  And the results were very similar: <br><br><img src="https://habrastorage.org/webt/qr/u0/el/qru0elehe4fgmalkediymyujlwu.png"><br>  <i>(The character set on the bottom right is a sequence of keystrokes on the keyboard to achieve such a result. More clearly - in <a href="">this GIF-animation of</a> 16 MB.)</i> <br><br>  If you compare the kube-prompt with its Python-colleague through the eyes of the end user, then he has fewer additional chips (for example, there is no constant output of the current cluster / namespace and fast switching between them).  But in it there is no need to enter "kubectl" at the beginning of all commands and this keeps the ability to add other shell commands via pipe ("|") - for example, grep when getting the list of pods. <br><br>  Nevertheless, despite the fact that the kube-prompt is being developed by a single person and a little less in time, it is already slightly ahead in the number of stars on GitHub, so the prospects for further development of these competitive solutions are not so obvious. <br><br><h2>  kubectl-repl </h2><br><ul><li>  <a href="https://github.com/Mikulas/kubectl-repl">Github</a> </li><li>  Language: Go </li><li>  License: Apache 2.0 </li></ul><br>  The ‚ÄúREPL‚Äù in the name of this application is the same <a href="https://en.wikipedia.org/wiki/Read%25E2%2580%2593eval%25E2%2580%2593print_loop">Read ‚Äì Eval ‚Äì Print Loop</a> cycle that implements a simple interactive environment inside the shell.  In essence, kubectl-repl is an original ‚Äúwrapper‚Äù that, after its launch, offers to enter further commands without mentioning kubectl and simplifies interaction with this utility due to two possibilities: <br><br><ol><li>  Switching namespaces (one command selects the current one, which is then shown as relevant in the invitation and added to all subsequent kubectl calls); </li><li>  ‚ÄúNumbered‚Äù selection of items from lists returned by <code>kubectl get</code> . </li></ol><br>  The second feature is implemented in such a way that all the elements of the lists - for example, for the list of pods returned by the command <code>kubectl get pods | grep foobar</code>  <code>kubectl get pods | grep foobar</code> , - a column is added with variables of the form <code>$1</code> , <code>$2</code> , <code>$3</code> ... These variables are available for use in further kubectl or shell commands.  Example from documentation: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># kube-system get pods + kubectl -n kube-system get pods NAME READY STATUS RESTARTS AGE $1 kube-dns-3945342221-mwdh6 3/3 Running 0 9d $2 kube-dns-3945342221-x3fhn 3/3 Running 0 9d # kube-system ; echo $(whoami) $2 + echo $(whoami) kube-dns-3945342221-x3fhn mikulas kube-dns-3945342221-x3fhn</span></span></code> </pre> <br>  The kubectl-repl utility is quite young, developed by one enthusiast for less than a month. <br><br><h2>  k8sh </h2><br><ul><li>  <a href="https://github.com/Comcast/k8sh">Github</a> </li><li>  Language: Bash </li><li>  License: Apache 2.0 </li></ul><br>  Another attempt to make a simple wrapper around kubectl - this time on a regular Bash.  After launch, it displays the current context ( <code>kubectl config current-context</code> ) and namespace in its invitation, offering short commands for changing them ( <code>ct</code> and <code>ns</code> respectively), as well as a set of other aliases.  For example: <br><br><ul><li>  <code>kubectl describe</code> ‚Üí <code>k describe</code> </li><li>  <code>kubectl get pods</code> ‚Üí <code>pods</code> </li><li>  <code>kubectl get persistentvolumeclaims</code> ‚Üí <code>pvc</code> </li></ul><br><img src="https://habrastorage.org/webt/bt/ux/iv/btuxiv5siaqb4jwea6k16zpl0ak.png"><br><br>  The aliases loaded with the launch of k8sh can be extended by creating a <code>~/.k8sh_extensions</code> with your Bash code (there is <a href="https://github.com/Comcast/k8sh/blob/master/examples/k8sh_extensions">an example</a> in the repository how to use this). <br><br><h2>  kubectl-aliases </h2><br><ul><li>  <a href="https://github.com/ahmetb/kubectl-aliases">Github</a> </li><li>  Language: Python, Bash </li><li>  License: Apache 2.0 </li></ul><br>  A more ‚Äúhardcore‚Äù version of Bash / zsh-alias for kubectl.  Its author wrote a Python script that automatically generates a <code>.kubectl_aliases</code> file containing hundreds (!) Lines of the following form: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> k=<span class="hljs-string"><span class="hljs-string">'kubectl'</span></span> ‚Ä¶ <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> ka=<span class="hljs-string"><span class="hljs-string">'kubectl apply -f'</span></span> ‚Ä¶ <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> ksyslo=<span class="hljs-string"><span class="hljs-string">'kubectl --namespace=kube-system logs -f'</span></span> ‚Ä¶ <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> ksysgdep=<span class="hljs-string"><span class="hljs-string">'kubectl --namespace=kube-system get deployment'</span></span> ‚Ä¶ <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> kgno=<span class="hljs-string"><span class="hljs-string">'kubectl get nodes'</span></span> ‚Ä¶ <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> ksysgdepojson=<span class="hljs-string"><span class="hljs-string">'kubectl --namespace=kube-system get deployment -o=json'</span></span> ‚Ä¶</code> </pre> <br>  As the author himself, who <a href="https://ahmet.im/blog/kubectl-aliases/">announced</a> his brainchild less than 2 weeks ago, notes, ‚Äúthis may look really stupid, but VERY USEFUL for me;  [thanks to these aliases] I really save significant time in my daily workflow. ‚Äù <br><br><h2>  Other </h2><br><ul><li>  We have already written about <a href="https://github.com/ahmetb/kubectx"><b>kubectx</b></a> for convenient switching between clusters in <a href="https://habrahabr.ru/company/flant/blog/330198/">this review</a> , and since then the utility has been supplemented by kubens (see <a href="https://github.com/ahmetb/kubectx">the same repository</a> ) for a similar switching between namespaces. </li><li>  <a href="https://github.com/errordeveloper/kubeplay"><b>kubeplay</b></a> is another implementation of REPL, but offering to use Ruby syntax. </li><li>  <a href="https://github.com/superbrothers/zsh-kubectl-prompt"><b>zsh-kubectl-prompt</b></a> is a simple script for displaying the current context and Kubernetes namespace at the zsh prompt. </li></ul><br><h2>  PS </h2><br>  Read also in our blog: <br><br><ul><li>  " <a href="https://habr.com/company/flant/blog/426985/">Kubebox and other console shells for Kubernetes</a> "; </li><li>  " <a href="https://habrahabr.ru/company/flant/blog/330198/">Useful utilities when working with Kubernetes</a> "; </li><li>  " <a href="https://habrahabr.ru/company/flant/blog/333956/">Useful commands and tips when working with Kubernetes through the kubectl console utility</a> "; </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/338132/">Introduction to kube-spawn - a utility for creating local Kubernetes clusters</a> ‚Äù; </li><li>  " <a href="https://habrahabr.ru/company/flant/blog/338332/">Overview of GUI Interfaces for Managing Docker Containers</a> ." </li></ul></div><p>Source: <a href="https://habr.com/ru/post/341606/">https://habr.com/ru/post/341606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341586/index.html">About the stack in simple words - for students and beginners.</a></li>
<li><a href="../341590/index.html">How can I hack your own Web project?</a></li>
<li><a href="../341598/index.html">Cyber ‚Äã‚Äãoracle: search for anomalies in monitoring data using a neural network</a></li>
<li><a href="../341600/index.html">Open broadcast of the main hall HighLoad ++</a></li>
<li><a href="../341602/index.html">Modern Android development on Kotlin. Part 1</a></li>
<li><a href="../341608/index.html">Long road in the dunes, or how the ESF engineering subculture changed</a></li>
<li><a href="../341612/index.html">Kaspersky Industrial CTF 2017: seven hours to cut down a plant</a></li>
<li><a href="../341614/index.html">Yii 2.0.13</a></li>
<li><a href="../341616/index.html">African experiment Bitrix24</a></li>
<li><a href="../341620/index.html">Event digest for HR specialists in the IT field for November 2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>