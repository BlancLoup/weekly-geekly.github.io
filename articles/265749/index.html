<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Urho3D Editor (Part 1)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue to deal with the engine Urho3D. This time I want to focus on the editor. It is quite simple to use, but some points definitely require exp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Urho3D Editor (Part 1)</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/post/265611/">We continue to</a> deal with the engine Urho3D.  This time I want to focus on the editor.  It is quite simple to use, but some points definitely require explanation, and official documentation does not disclose them.  Well, at the same time write a small toy.  Let's get started <br><br><img src="https://habrastorage.org/files/245/03d/3ce/24503d3cea274d48bdbb23d91e872b16.png"><br><a name="habracut"></a><br><h2>  Editor too game </h2><br>  The editor is an AngelScript script run by the laucher that we used <a href="http://habrahabr.ru/post/265611/">last time</a> .  This means that its code can be studied along with other examples and, if desired, easily modified.  You can start the editor using the batch file Build / bin / Editor.bat. <br><br>  Navigation is similar to control in a shooter.  W and S - move forward and backward, A and D - left and right, Q and E - down and up.  With squeezed shifto move faster.  You can use the arrows.  The clamped right mouse button allows you to rotate the camera in different directions.  When the middle button is held down, it rotates around the selected object.  If you turn the wheel, then the viewing angle (fov) changes.  Full list of keys can be found <a href="http://urho3d.github.io/documentation/HEAD/_editor_instructions.html">here</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Settings </h2><br>  View-&gt; Editor Settings - setting display and control.  For fans of Blender, there is an opportunity to choose an alternative keyboard layout.  An option to pay attention to - New node mode.  The default mode is Use distance.  In this mode, new nodes are created in the center of the screen at the distance specified in the New node distance column.  As for me, this is not very convenient.  I like the second mode much more - In center.  In this mode, new nodes are created in the center of coordinates and can be moved from there to the desired position.  The third mode (Raycast) is similar to the first, only the fixed distance is not used, but the intersection with the scene is sought. <br><br>  View-&gt; Editor Preferences - setting up the interface.  Of the interesting things here is the ability to select a language (including Russian) and set the transparency of the interface.  Minimum opacity - transparency when moving the view, Maximum opacity - the rest of the time.  I usually set both values ‚Äã‚Äãto 1 for distracting.  Note: for new values ‚Äã‚Äãto apply, press Enter after input. <br><br>  All settings are stored in the file c: \ Users \ USERNAME \ AppData \ Roaming \ urho3d \ Editor \ Config.xml (in Windows).  To reset the settings, this file can be deleted. <br><br><h2>  Console </h2><br>  Pressing F1 opens the console.  It can work in two modes, switching between which is done using the button to the left of the input field. <br><br>  In FileSystem mode, the console works as a normal Windows command line (if you have Windows of course).  For example, if you type ‚Äúnotepad.exe‚Äù, a notebook will open. <br><br>  In Script mode, all commands entered are executed by the AngelScript interpreter.  For example, the command ‚Äúlog.Write (1 + 2)‚Äù will output 3. Here we come to understand that the console output is a log.  The log in text form is written to the file c: \ Users \ USER_NAME \ AppData \ Roaming \ urho3d \ logs \ Editor.as.log.  It will help you a lot when debugging scripts. <br><br><h2>  The first steps </h2><br>  Take the Urho3DHabrahabr02Start.zip archive from the <a href="https://github.com/1vanK/Urho3DHabrahabr02">github.com/1vanK/Urho3DHabrahabr02</a> repository and unzip it into an empty folder (I have this path ‚Äúd: \ MyGames \ Urho3DHabrahabr02 \ Urho3DHabrahabr02 \‚Äù, so I will use it for clarity, I will use it for clarity, I will use it for clarity, I will use it for clarity, I will use it for an example of clarity for the sake of reference  This archive contains resources that we will need when creating the game: several models, materials for them, and one sound file. <br><br>  In the editor, click File-&gt; Set resource path ... and specify the path "d: \ MyGames \ Urho3DHabrahabr02 \ Urho3DHabrahabr02 \ GameData \".  Now the editor has access to three folders with resources: its own Data and CoreData folders, which are located next to it, and the GameData folder, which we specified. <br><br><h2>  Create a scene </h2><br>  In the Resource Browser, select the Models folder and drag Ground.mdl to the root Scene node in the Hierarchy window. <br><br><img src="https://habrastorage.org/files/3f6/6f4/c97/3f66f4c972df442bbf8731e5185eca26.png"><br><br>  A new node with the StaticModel component (a simple model without a skeleton) will be created automatically.  In the Attribute inspector window, specify the name Ground for the node, click the Pick button next to the Material column and select Materials / Ground.xml. <br><br><img src="https://habrastorage.org/files/2a6/68d/091/2a668d09174d460a907a309a2edb8123.png"><br><br>  Now we have the floor, but the scene is poorly lit, so let's add a light source. <br><br>  To begin, create a new node.  Select the root Scene node and select the menu item Create-&gt; Local node.  You can also create a Replicated node.  In our case, there is no difference, since the replicated nodes are synchronized during network interaction, and we do not plan to work with the network.  Nodes can also be created not through the menu, but with the help of a vertical panel on the left side of the editor. <br><br>  Make sure that the newly created node is selected, and select the menu item Create-&gt; Component-&gt; Scene-&gt; Light (many components are duplicated on the left vertical panel).  In the Attribute inspector window, set a name for the node, select the source type Directional (sunlight), specify the brightness, rotation, position (for this type of light the position does not matter, but raise the node higher so as not to interfere with the scene).  Also enable the Cast Shadows option so that the light source can create shadows. <br><br><img src="https://habrastorage.org/files/33b/5f6/d09/33b5f6d09b2c42a7a09a40e7a73b8089.png"><br><br>  Now change the background lighting.  Select the root node of the Scene and create the Zone component (Create-&gt; Component-&gt; Scene-&gt; Zone).  Set the background color (Fog Color) and background color (Ambient Color).  These values ‚Äã‚Äãwill be used only if the camera is within the zone, so expand the boundaries (Bounding Box Min / Max). <br><br><img src="https://habrastorage.org/files/d90/cc9/b5a/d90cc9b5a10144c5ac4d2bcddd4b685c.png"><br><br><h2>  Scripts </h2><br>  Create a new node, add the AnimatedModel component (a model with a skeleton) to it, and specify the Models / Cannon.mdl model and Materials / Cannon.xml material.  Move the gun up a bit, and also turn on the Cast Shadows option so that the gun casts a shadow. <br><br><img src="https://habrastorage.org/files/6da/60b/912/6da60b9124bf4c23a0167de3e2a7ea56.png"><br><br>  The child nodes that you see on the cannon are bones built into the model.  For now, ignore them. <br><br>  In the GameData \ Scripts folder, create a Cannon.as file with the following contents: <br><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Cannon : ScriptObject { //      . <span class="hljs-type"><span class="hljs-type">int</span></span> direction = <span class="hljs-number"><span class="hljs-number">1</span></span>; //    . <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Update</span></span>(<span class="hljs-type"><span class="hljs-type">float</span></span> timeStep) { //     x (node   ,    ). <span class="hljs-type"><span class="hljs-type">float</span></span> pitch = node.rotation.pitch; //   ,       . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pitch &gt;= <span class="hljs-number"><span class="hljs-number">70.0</span></span>f) direction = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pitch &lt;= <span class="hljs-number"><span class="hljs-number">-10.0</span></span>f) direction = <span class="hljs-number"><span class="hljs-number">1</span></span>; pitch += <span class="hljs-number"><span class="hljs-number">30.0</span></span>f * direction * timeStep; node.rotation = Quaternion(pitch, <span class="hljs-number"><span class="hljs-number">0.0</span></span>f, <span class="hljs-number"><span class="hljs-number">0.0</span></span>f); } }</code> </pre> <br>  It is better to save scripts in UTF-8 encoding, then there will be no problems with Cyrillic. <br><br>  Add a ScriptInstance component to the Cannon node (Create-&gt; Component-&gt; Logic-&gt; ScriptInstance).  Click on the Pick button and select the newly created file, and in the Class Name column, enter Cannon (the file may contain several classes).  After entering do not forget to press Enter.  If everything is done correctly, the direction variable that we declared in the script should appear below the class name. <br><br>  Make sure that the RevertOnPause switch (the third button on the top panel) is activated and click the RunUpdatePlay button (the first button on the top panel).  The gun will start to rotate back and forth.  To stop, click RunUpdatePause (middle button). <br><br><img src="https://habrastorage.org/files/f28/449/064/f28449064c7848a0ba9f493e11b88a7e.png"><br><br>  What does the RevertOnPause switch do?  If it is active, before starting the state of the scene is remembered, and when you click on a pause, the state is restored to its original state.  This button is still useful to us in the second part of the lesson. <br><br>  In the meantime, save the scene (File-&gt; Save scene as ...) to the GameData / Scenes / Level01.xml file. <br><br>  <a href="http://habrahabr.ru/post/265837/">To be continued...</a> </div><p>Source: <a href="https://habr.com/ru/post/265749/">https://habr.com/ru/post/265749/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../265739/index.html">Flash to Html5 or secret api Swiffy</a></li>
<li><a href="../265741/index.html">Habr shell: we build a cross-platform ssh server in java application</a></li>
<li><a href="../265743/index.html">Announcement of the fifth meeting of the Java User Group EKB</a></li>
<li><a href="../265745/index.html">RailsClub 2015: Interview with Claudio Bachchigalupo</a></li>
<li><a href="../265747/index.html">Why not everything is so simple with MongoDB</a></li>
<li><a href="../265751/index.html">Infobox VPS Review</a></li>
<li><a href="../265753/index.html">Truly responsive letters. Part two. Framework</a></li>
<li><a href="../265755/index.html">How to stop configuring and start living or setting up Puppet in a school classroom on 25 computers</a></li>
<li><a href="../265757/index.html">How I passed the OSCP</a></li>
<li><a href="../265761/index.html">How did we get the native module to React Native</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>