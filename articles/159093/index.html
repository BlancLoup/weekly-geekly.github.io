<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Integration of social networks in iOS 6</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At WWDC 2012, which was held in June of this year, the Social framework was introduced among the innovations. This framework allows you to integrate s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Integration of social networks in iOS 6</h1><div class="post__text post__text-html js-mediator-article">  At WWDC 2012, which was held in June of this year, the Social framework was introduced among the innovations.  This framework allows you to integrate sharing buttons on social networks quickly and easily.  Social framework supplanted Twitter framework, introduced in iOS 5. Now we have the opportunity to integrate not only Twitter, but also Facebook and Weibo (the Chinese equivalent of Twitter) into our applications without unnecessary problems. <br><a name="habracut"></a><br>  Let's start.  The first thing you need to create a new project in Xcode, you can choose any name.  Project Type - Single View Application. <br><br>  To begin with, we will create an application interface, in our case it will consist of a picture window, a text entry form and two buttons. <br><br>  In the window of the map, an image will be displayed that will be riveted to your post, in the input form you will be able to enter a link that you also want to share, and 2 buttons will be used to select the social network we need. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First of all, open ViewController.h and declare UIImageView and UITextField.  We will need to make sure that our ViewController is a UITextField delegate.  All this is done very simply, this is how the ViewController.h code should look like in your project. <br><br><pre><code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><span class="hljs-meta"> @interface ViewController : UIViewController </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;UITextFieldDelegate&gt;</span></span></span><span class="hljs-meta">{ UITextField *textField; UIImage *shareImage; } @end</span></span></code> </pre> <br><br>  Now we can proceed to the most interesting - the creation of the application interface. <br><br>  By the way, do not forget to add any image to the project - it will be attached to your posts in social networks. <br><br>  Open ViewController.m and find the viewDidLoad method.  It is called when the ViewController is loaded, so we will ‚Äúadd‚Äù interface elements to your application window there.  Here is the code that is used to create the entire interface. <br><br><pre> <code class="hljs objectivec">- (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)viewDidLoad { shareImage = [<span class="hljs-built_in"><span class="hljs-built_in">UIImage</span></span> imageNamed:[<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> stringWithFormat:<span class="hljs-string"><span class="hljs-string">@"48X48.jpg"</span></span>]]; <span class="hljs-built_in"><span class="hljs-built_in">UIImageView</span></span> *imageView = [[<span class="hljs-built_in"><span class="hljs-built_in">UIImageView</span></span> alloc]initWithImage:shareImage]; imageView.frame = <span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">138</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>); [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:imageView]; <span class="hljs-built_in"><span class="hljs-built_in">CGRect</span></span> textFieldFrame = <span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">20.0</span></span>f, <span class="hljs-number"><span class="hljs-number">100.0</span></span>f, <span class="hljs-number"><span class="hljs-number">280.0</span></span>f, <span class="hljs-number"><span class="hljs-number">31.0</span></span>f); textField = [[<span class="hljs-built_in"><span class="hljs-built_in">UITextField</span></span> alloc] initWithFrame:textFieldFrame]; textField.placeholder = <span class="hljs-string"><span class="hljs-string">@""</span></span>; textField.backgroundColor = [<span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span> whiteColor]; textField.textColor = [<span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span> blackColor]; textField.font = [<span class="hljs-built_in"><span class="hljs-built_in">UIFont</span></span> systemFontOfSize:<span class="hljs-number"><span class="hljs-number">14.0</span></span>f]; textField.borderStyle = <span class="hljs-built_in"><span class="hljs-built_in">UITextBorderStyleRoundedRect</span></span>; textField.clearButtonMode = <span class="hljs-built_in"><span class="hljs-built_in">UITextFieldViewModeWhileEditing</span></span>; textField.returnKeyType = <span class="hljs-built_in"><span class="hljs-built_in">UIReturnKeyDone</span></span>; textField.textAlignment = <span class="hljs-built_in"><span class="hljs-built_in">UITextAlignmentCenter</span></span>; textField.contentVerticalAlignment = <span class="hljs-built_in"><span class="hljs-built_in">UIControlContentVerticalAlignmentCenter</span></span>; textField.delegate = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:textField]; <span class="hljs-built_in"><span class="hljs-built_in">UIButton</span></span> *twitterButton = [<span class="hljs-built_in"><span class="hljs-built_in">UIButton</span></span> buttonWithType:<span class="hljs-built_in"><span class="hljs-built_in">UIButtonTypeRoundedRect</span></span>]; [twitterButton addTarget:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> action:<span class="hljs-keyword"><span class="hljs-keyword">@selector</span></span>(twiShare:) forControlEvents:<span class="hljs-built_in"><span class="hljs-built_in">UIControlEventTouchDown</span></span>]; [twitterButton setTitle:<span class="hljs-string"><span class="hljs-string">@"Share on Twitter"</span></span> forState:<span class="hljs-built_in"><span class="hljs-built_in">UIControlStateNormal</span></span>]; twitterButton.frame = <span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">80.0</span></span>, <span class="hljs-number"><span class="hljs-number">170.0</span></span>, <span class="hljs-number"><span class="hljs-number">160.0</span></span>, <span class="hljs-number"><span class="hljs-number">40.0</span></span>); [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:twitterButton]; <span class="hljs-built_in"><span class="hljs-built_in">UIButton</span></span> *facebookButton = [<span class="hljs-built_in"><span class="hljs-built_in">UIButton</span></span> buttonWithType:<span class="hljs-built_in"><span class="hljs-built_in">UIButtonTypeRoundedRect</span></span>]; [facebookButton addTarget:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> action:<span class="hljs-keyword"><span class="hljs-keyword">@selector</span></span>(fbShare:) forControlEvents:<span class="hljs-built_in"><span class="hljs-built_in">UIControlEventTouchDown</span></span>]; [facebookButton setTitle:<span class="hljs-string"><span class="hljs-string">@"Share on Facebook"</span></span> forState:<span class="hljs-built_in"><span class="hljs-built_in">UIControlStateNormal</span></span>]; facebookButton.frame = <span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">80.0</span></span>, <span class="hljs-number"><span class="hljs-number">240.0</span></span>, <span class="hljs-number"><span class="hljs-number">160.0</span></span>, <span class="hljs-number"><span class="hljs-number">40.0</span></span>); [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:facebookButton]; [<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> viewDidLoad]; <span class="hljs-comment"><span class="hljs-comment">// Do any additional setup after loading the view, typically from a nib. }</span></span></code> </pre> <br><br>  Now you can compile your project, the interface should look like this: <br><div class="spoiler">  <b class="spoiler_title">Large interface screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/930/bec/140/930bec140471101784f23f35f365043c.png"></div></div><br>  If you try to press any of the buttons, the application will crash.  This will happen because we have not yet added the twiShare and fbShare methods, which are called when the corresponding button is clicked.  To fix this, you need to create these methods.  This is done like this: <br><pre> <code class="hljs objectivec">-(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)twiShare:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)sender{ } -(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)fbShare:(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)sender{ }</code> </pre><br><br>  Compile the project again, now the program should not fall when you click on the "social" buttons. <br><br>  When you click on the text input window, the keyboard should appear, but when you click on the ‚ÄúDone‚Äù button, the keyboard will not close.  To fix this, we need to add a method responsible for closing the keyboard.  This is done like this: <br><pre> <code class="hljs objectivec">- (<span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span>)textFieldShouldReturn:(<span class="hljs-built_in"><span class="hljs-built_in">UITextField</span></span> *)textField{ [textField resignFirstResponder]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">YES</span></span>; }</code> </pre><br><br>  Try to copy the project again, now the keyboard closes when you click on the ‚ÄúDone‚Äù button. <br><br>  The interface is ready, now let's get down to the most interesting part - setting up sharing on pressing one of the buttons. <br><br>  The first step is to add Social.framework to your project.  Open the Frameworks folder in the project, right-click on one of the added frameworks and select ‚ÄúShow in Finder‚Äù.  Now the folder with all the frameworks should open, it remains for you to find and add Social.framework to the project. <br><br>  Do not forget to import Social.framework into the ViewController, otherwise the application will produce compilation errors after adding sharing functions to the buttons.  This is done like this: <br><pre> <code class="hljs objectivec"> <span class="hljs-meta"><span class="hljs-meta">#import </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Social/Social.h"</span></span></span></span></code> </pre> <br><br>  Now we have to configure the sharing buttons in the application.  Add this code to the twiShare and fbShare methods: <br><br><pre> <code class="hljs objectivec"> SLComposeViewController *composeController = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeTwitter]; [composeController setInitialText:<span class="hljs-string"><span class="hljs-string">@"   iOS 6"</span></span>]; [composeController addImage:shareImage]; [composeController addURL: [<span class="hljs-built_in"><span class="hljs-built_in">NSURL</span></span> URLWithString: [<span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> stringWithFormat:<span class="hljs-string"><span class="hljs-string">@"%@"</span></span>,textField.text]]]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> presentViewController:composeController animated:<span class="hljs-literal"><span class="hljs-literal">YES</span></span> completion:<span class="hljs-literal"><span class="hljs-literal">nil</span></span>];</code> </pre>  . <br><br>  Now when you click on the sharing button, a Twitter window will open.  To click on the Share on Facebook button to open the Facebook window, you only need to change SLServiceTypeTwitter to SLServiceTypeFacebook.  You can also change it to SLServiceTypeSinaWeibo, if you want to add the possibility of sharing in the Chinese equivalent of Twitter - Weibo. <br><br>  Try to compile the project again, now everything should work.  If you are not logged in to one of the social networks, then when you click on the corresponding button, you will enter the settings. <br><div class="spoiler">  <b class="spoiler_title">Large screenshot of the login offer</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/d75/5bb/398/d755bb398e3504e9c8978cd70f84b93d.png"></div></div><br>  Here‚Äôs what the standard sharing windows on Twitter and Facebook look like: <br><div class="spoiler">  <b class="spoiler_title">Large screening windows sharinga</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/966/4cc/670/9664cc6704ce81351dbfbc3d7f876cb3.png"><br><img src="https://habrastorage.org/storage2/911/a6c/73b/911a6c73b1db4f6869b0120ba74e4d3c.png"></div></div><br>  Download the working project <a href="http://cl.ly/3U1t2g0I1739">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/159093/">https://habr.com/ru/post/159093/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159083/index.html">MSP430 + LCD from ‚ÄúMinik 1101F‚Äù</a></li>
<li><a href="../159085/index.html">MySQL Tuning - thread_cache_size</a></li>
<li><a href="../159087/index.html">Gamma Gallery - a great responsive gallery</a></li>
<li><a href="../159089/index.html">Sony Xperia TX Review</a></li>
<li><a href="../159091/index.html">Questions "What? Where? When? ‚ÄùIn functional requirements</a></li>
<li><a href="../159099/index.html">Decorator cached_property</a></li>
<li><a href="../159101/index.html">Basic styles and useful CSS snippets</a></li>
<li><a href="../159103/index.html">ReactOS in the semi-final of Zvorykin Prize</a></li>
<li><a href="../159107/index.html">Simple release management with Git</a></li>
<li><a href="../159109/index.html">Phased array antenna</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>