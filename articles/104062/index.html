<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>svn + bash = write console svn browser</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For those who use svn on the command line, as well as for those who are interested in programming bash scripts, the topic describes an example of writ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>svn + bash = write console svn browser</h1><div class="post__text post__text-html js-mediator-article">  For those who use svn on the command line, as well as for those who are interested in programming bash scripts, the topic describes an example of writing an interactive bash script of the svn browser that runs in the terminal and allows you to perform several ‚Äúdaily‚Äù operations on the repository tree , namely: <ul><li>  Surf the repository </li><li>  View logs </li><li>  Copy directories to create tags / branchs </li><li>  Create / delete / rename directories </li><li>  Extract / export (checkout / export) </li></ul>  In this case, any operation is done by pressing one or two buttons, not counting the input of comments, and does not require to remember / enter long paths, such as: &lt;br&gt; &lt;br&gt; <pre><code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$svn</span></span> cp <span class="hljs-string"><span class="hljs-string">"http://workserver.com/_main_repository/embedded_system/product_xxx/_trunk/main_task/ http://workserver.com/_main_repository/embedded_system/product_xxx/_tags/"</span></span></code> </pre> <br>  Under the review of the review of the internals, the result can be downloaded at <a href="http://bit.ly/9XqYM0">svnb</a> link <br>  Make it executable, run in the svn working copy directory (you can run it anywhere, but then you have to enter the path to the repository with which you want to work). <br><br>  PS At the end of the article added another solution to improve the usability of the command line svn - <b>autocompletion of the path</b> . <a name="habracut"></a><br><br><h4>  What for? </h4><br>  Subversion (svn) is a popular version control system that is often used by software developers and not only.  To work with it, there are such GUI applications as TortoiseSVN, rapidSVN, etc.  which inter alia are integrated with the explorer / window manager / file browser. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Conveniently, what to say, but GUIs are not always appropriate: work on ssh on the server, the absence of X-server, or the banal desire not to use the GUI where you can not use them - love of the command line)).  In the command line, you can access such passes as: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$svn</span></span> up <span class="hljs-comment"><span class="hljs-comment"># update  </span></span></code> </pre> <pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$svn</span></span> ci -m<span class="hljs-string"><span class="hljs-string">"  "</span></span> <span class="hljs-comment"><span class="hljs-comment"># </span></span></code> </pre> <pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$svn</span></span> <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> <span class="hljs-comment"><span class="hljs-comment">#     </span></span></code> </pre> <br>  Very comfortably! <br>  But one ‚ÄúBut‚Äù, as soon as you need to work with another directory located in the repository, for example, to view comments or a list of files, you need to call the svn utility with the path to the repository + path in the repository file system to the required directory, for example: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$svn</span></span> list (<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>) <span class="hljs-string"><span class="hljs-string">"http://workserver.com/_main_repository/embedded_system/product_xxx/_tags/"</span></span></code> </pre> <pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$svn</span></span> cp <span class="hljs-string"><span class="hljs-string">"http://workserver.com/_main_repository/embedded_system/product_xxx/_trunk/main_task/ http://workserver.com/_main_repository/embedded_system/product_xxx/_tags/"</span></span></code> </pre> <br>  which in itself is not very convenient, because you do not have to remember the path to the repository and the path in the repository to your working copy, and doing a bunch of svn list from the root to the desired directory is inconvenient, if only because there is no auto-completion of file names in the svn path argument . <br><br><br><h4>  What to do? </h4><br>  In the working copy of svn there is always a directory .svn / in which, among other <s>useless garbage,</s> there is a file .svn / entries, which contains lines containing absolute paths to the repository and working copy.  It‚Äôs easy to verify this by running: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$cat</span></span> .svn/entries | grep ://</code> </pre> <br>  Now we have absolute paths, this is not enough, I often used this command to copy the desired path and perform the operation with the svn command, but we can automate the process!  Having written a utility or script that allows you to automatically retrieve these paths and display a list of files / directories in the repository, as well as use these paths for the necessary operations. <br><br><br><h4>  We write! </h4><br>  I would like to write something <i>very simple</i> , intuitive, with minimal gestures allowing you to perform such operations as viewing logs and export, creating / deleting directories, creating tags / branch using svn. <br><br>  I decided to write a bash script which, when launched, does not return control itself, but works as an interactive application, i.e.  catches the button presses on which the svn functions are ‚Äúhung‚Äù and renders the result on the screen. <br><br><h6>  Functional: </h6><br>  Define the necessary control commands: <br><ul><li>  <b>Cursor keys</b> to move around the repository.  The ‚ÄúLeft‚Äù button to move to the repository root, the ‚ÄúRight‚Äù button to move from the root to the selected directory, the ‚ÄúUp‚Äù and ‚ÄúDown‚Äù buttons to move through the file list. </li><li>  <b>PageUp / PageDown</b> to scroll through the pages if the file list does not fit into the screen </li><li>  <b>h</b> (elp) - display help <br></li><li>  <b>l</b> (og) - view log <br></li><li>  <b>y</b> (ank) - copy <br></li><li>  <b>x</b> (cut) - cut <br></li><li>  <b>p</b> (aste) - insert <br></li><li>  <b>e</b> (xport) - to export <br></li><li>  <b>with</b> (heckout) - extract <br></li><li>  <b>m</b> (kdir) - create directory <br></li><li>  <b>r</b> (ename) - rename <br></li><li>  <b>d</b> (elete) - remove <br></li><li>  <b>q</b> (uit) - quit <br></li></ul>  The buttons are defined at the beginning of the script, you can peredefaynit to your taste <br><br>  For the <b>export</b> and <b>checkout</b> commands, we will add the $ HOME variable to the beginning of the entered path so that you do not have to enter / home / username / each time. <br><br>  The ‚ÄúExit‚Äù command ends the script by displaying the path to the directory in the repository in which we were located.  If you need to perform an operation on the command line that the script cannot do, you can at least not drive in long paths and not do a dozen <b>svn list</b> .  Just go to the desired path, close the script with the "Exit" command ( <b>q</b> uit) and copy the output path. <br><br><h5>  Catching pressed buttons </h5><br>  To read the keyboard, we need an infinite loop to wait for the input of a button; for this we use the following construction: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">############     ############# 233 #   stdin, -s  , -n1    234 while read -s -n1 key 235 do ... 281 done</span></span></code> </pre><br>  The <b>read</b> command returns control only when it considers the entire line and waits for <b>Enter</b> , but we do not want to press ‚ÄúEnter‚Äù after each button pressed.  The <b>-nN switch</b> tells the <b>read</b> command to return control after reading <b>N</b> characters without waiting for <b>Enter</b> .  The echo is also not for us (key <b>-s</b> ), we will display everything we need on the screen.  : D <br><br><h5>  Cursor keys </h5><br>  Cursor keys (as well as other special keys, such as Delete, Insert) in the terminal are transmitted by special Escape-sequences consisting of 3 characters: <br>  ^ [A - Up Arrow <br>  ^ [B - Arrow Down <br>  ^ [C - Arrow Right <br>  ^ [D - Left Arrow <br><br>  There is an example <a href="http://www.opennet.ru/docs/RUS/bash_scripting_guide/c5358.html">on opennet.ru</a> , where reading 3 characters <b>each</b> ( <b>read</b> command <b>-n3</b> key) is used, this is convenient if the script does not need to respond to single (usual asci) characters, and in our case it is unacceptable. <br><br>  We will enter a variable-flag, which we will set when accepting the ESC-symbol, increment when accepting the remaining 2 characters of the sequence, and then drop to 0 and call the corresponding processing function, while ignoring all unnecessary keystrokes and sequences, expecting only listed above. <br><br>  Note that the ESC character in the script code is written as <b>^ [</b> , in order to type it in the terminal (or in the console editor vim, nano), press Ctrl + V, and then Esc. <br><br><pre> <code class="bash hljs">378 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$key</span></span></span><span class="hljs-string">"</span></span> == <span class="hljs-string"><span class="hljs-string">"^["</span></span> ] <span class="hljs-comment"><span class="hljs-comment">#   ESC- 379 then 380 cursor_ind="1" #    1 381 elif [[ "$key" == "[" &amp;&amp; $cursor_ind == "1" ]] #   2  ESC- 382 then 383 cursor_ind="2" #    2 384 elif [[ "$key" == "A" &amp;&amp; $cursor_ind == "2" ]] #   3 ()  ESC-,     "". 385 then 386 cursor_ind="0" #   387 menu_up #  .  </span></span></code> </pre><br>  and so on for all codes of buttons that interest us. <br><br><h5>  Functions </h5><br>  When writing a script, duplicate parts of the code or simply separate in meaning, it is convenient to draw up in a function, this is done simply: <br>  Example: a function that takes one argument (via the variable $ 1) <br><br><pre> <code class="bash hljs">40 <span class="hljs-comment"><span class="hljs-comment">###########    ############### 41 function svn_get_list { 42 SVN_LIST="`svn list $SVN_REPO_PATH/$1`" 43 }</span></span></code> </pre><br>  Function call (we transfer a variable in parameter): <br><br><pre> <code class="bash hljs">133 svn_get_list <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$SVN_PATH_PTR</span></span></span><span class="hljs-string">"</span></span></code> </pre><br>  A function can take one or more arguments, this is not monitored, so if the function expects arguments, and you call it without them, it may not work as you would expect or completely throw out an error or warning. <br><br><h5>  Screen </h5><br>  The output to the screen is carried out by the <b>echo</b> command, we consistently draw everything that is needed: <ul><li>  Headline </li><li>  The path to the current directory with the words "You are here", the list of contents that goes below </li><li>  List of files / directories </li><li>  Team </li></ul>  Before drawing the next screen, it must be cleared; there is a <b>clear</b> shell command for this <b>;</b>  . <br>  The screen needs to be redrawn every time, even when the cursor has moved, the output takes time and it is noticeable by eye, nothing can be done. <br><br><h6>  Styles: </h6><br>  For convenience, directories are displayed in bold, and the cursor (the current selected directory is inverse).  You can control font styles in the terminal again with ESC sequences, for example: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"^[[1m   ^[[0m  ."</span></span></code> </pre><br>  will output: <br>  <b>bold text</b> , normal text <br>  With the text in the terminal, you can do a lot of things, color, invert, blink, etc.‚Ä¶ More information about colors and styles in the terminal is <a href="http://linuxgazette.net/issue65/padala.html">well written here</a> . <br><br>  My running script looks like this: <br><br>  <b>Bash svn browser v1.1.</b>  Usage: <u><b>h</b></u> elp, <u><b>q</b></u> uit, <u><b>y</b></u> copy, <b><u>x</u></b> cut, <u><b>p</b></u> aste, <u><b>l</b></u> og, <u><b>r</b></u> emane, <u><b>d</b></u> elete, <u><b>m</b></u> akedir, <u><b>e</b></u> xport, <u><b>c</b></u> heckout. <br>  -------------------------- <br>  You are here [http: // xxxxxxx / xxxxx / _WorkServer]: / _ main_task / bootloader / _trunk / <br><br>  =========== <br>  Changelog.txt <br>  License.txt <br>  Readme.txt <br>  <b>commandline /</b> <br>  <b>firmware /</b> <br>  =========== <br><br>  This is a copy of the text from the terminal, I didn‚Äôt do the image, because all of the text-based console, the only difference with the original is that there is a cursor, an inversely displayed text. <br><br><h6>  Pages: </h6><br>  If you have a lot of files in the repository under the control of versions, it is likely that their list will not fit into the screen, and scrolling the terminal is not the most beautiful solution.  The <b>$ tput lines command that</b> returns the number of terminal lines by height comes to the rescue.  Before each output on the screen we will know this value, and we take away (we reserve) the space for the number of ‚Äúconstantly present‚Äù lines: <br><br><pre> <code class="bash hljs">187 LINE_PER_PAGE=$((`tput lines` - 8))</code> </pre><br>  If the number of lines is greater than the limit - simple manipulations with arithmetic in bash list is divided into pages that can be scrolled through with the PgUp / PgDown buttons. <br><br><h5>  Pipe </h5><br>  Many people know what a pipe or "channel" is, it is a convenient way to associate the output of something one with something else, I deliberately did not say the utility, because  You can also bind pipe connections.  Why did I talk about them?  Because I ran into one interesting feature: <br>  When something is called through a pipe, a child shell instance is created for it, the so-called sub-shell.  And the trick is that all the variables of the parent shell are visible in the child, but the child has <i>local copies of</i> all the variables of the parent shell, and cannot ‚Äúglobally‚Äù change their values.  Those.  can not return anything with the help of them! <br>  Example, consider the function of displaying a list of files on the screen: <br><br><pre> <code class="bash hljs">106 <span class="hljs-comment"><span class="hljs-comment">############     ############# 107 function menu_print_list { 108 109 echo "$SVN_LIST" | while read line 110 do 111 if [ "`expr "$line" : '.*/$'`" -ne "0" ] #    112 then 113 if [[ "$CNT" -eq "$V_CURSOR" ]] #       -   114 then 115 echo "^[[7m^[[1m$line^[[0m" 116 else 117 echo "^[[1m$line^[[0m" 118 fi 119 else 120 if [[ "$CNT" -eq "$V_CURSOR" ]] #       -   121 then 122 echo "^[[7m$line^[[0m" 123 else 124 echo "^[[0m$line^[[0m" 125 fi 126 fi 127 CNT=`expr $CNT + 1` 128 done 129 }</span></span></code> </pre><br>  Functions, in order to display the cursor on the desired line, you need to know the line number on which the cursor is located, and also have a line count when the equality condition is met (line 113) to invert the text of the line.  Great, the cursor is set. <br>  At the end of the function, we always know the number of lines (variable <b>CNT</b> ) which will be useful to us later (as a function of moving the cursor, to control the output outside the list). <br>  But we cannot return the value of the counter!  As soon as we exit the block that is on the right side of the <b>pipe</b> (line 109), the <b>CNT</b> variable also takes on the value that was before the <b>pipe was</b> created. <br>  I don‚Äôt know any other solutions, except for how to write another function only for counting lines, which as a result will make the <b>ehco</b> variable outside the <b>pipe</b> , and call the result of the block with <b>pipe</b> to the prisoners `` and assign the variable to the "parent" shell : <br><br><pre> <code class="bash hljs">65 <span class="hljs-comment"><span class="hljs-comment">#######  -    ########## 66 function menu_get_dir_cnt { 67 DIR_CNT=0 68 DIR_CNT="`echo "$SVN_LIST" | ( while read line 69 do 70 ((DIR_CNT++)) 71 done; echo $DIR_CNT)`" 72 }</span></span></code> </pre>  <i>It's funny, but the code parser didn‚Äôt cope with this construction and didn‚Äôt highlight it as it should be, in vim, by the way, the illumination with it was also steamed;)</i> <br><br><h5>  Algorithms </h5><br>  All script algorithms are quite simple, and those whom they are interested in will easily understand them.  In short. <br><br>  We start and check if there is a .svn directory, if yes - we are in a working copy, we get information about the repository (absolute paths to the repository and to the working copy in it).  If the .svn directory is not found, please enter the path to the repository. <br><br><h6>  Navigation: </h6><br>  <i>‚ÄúCursor Left‚Äù</i> - everything is simple, you need to move to the level of the root, to do this, in a variable containing the path to the working copy, cut everything from the end to the slash "/", then print the output of the <b>svn list</b> command again with the resulting path.  For convenience, the cursor would not be bad to leave on the directory from which you just left, this is easy to do if you ‚Äúremember‚Äù the ‚Äúcut off‚Äù tail, find it in the list and set the cursor on it. <br><br>  <i>‚ÄúCursor to the right‚Äù</i> - add to the current path what the cursor is on (check that it is a directory, not a file, because we cannot go to the file =), the directories at the end have ‚Äú/‚Äù) , display the output of the <b>svn list command</b> with the resulting path. <br><br><h6>  Commands: </h6><br>  Clicked <i>"Copy / Cut"</i> - remember the path <br><br>  Click <i>"Paste"</i> - call the <b>svn</b> utility with the command cp / mv and the path saved in the previous commands. <br><br>  Clicked <i>"View log / Delete / Rename / Export / Extract"</i> - call the <b>svn</b> utility with the log / rm / mv / export / co command for the current path in the repository, and if necessary, offer to enter additional parameters (new name (rename), comment ). <br><br>  For the <b>checkout</b> and <b>export</b> commands, you need to enter the path inside the <b>$ HOME</b> home directory as the destination path, and it is automatically substituted in the beginning of the path: <br>  <s>/ home / user_name / src / my_proj</s> <br>  src / my_proj - right)) <br><br><h5>  ToDo </h5><br>  All I wanted was done. <br>  Perhaps in the comments dear readers will suggest what else should be implemented?  ;) <br>  Plans to think about merg and diff, with the launch of an external editor.  But operations are not ‚Äúdaily‚Äù and require concentration and care. <br><br>  Send suggestions and bugs by email in the script. <br><br><h5>  Conclusion </h5><br>  The script turned out to be convenient, I use it daily at home and at work.  Perhaps he is far from the ideal and canons of bash-scripting.  In addition, perhaps this is a "bicycle construction" but to <u>invent</u> , it is so nice!  ). <br><br>  <a href="http://bit.ly/9XqYM0">Download svnb v1.2</a> <br>  Download, make executable, run in the working copy directory. <br>  For convenience, you can copy to / usr / local / bin / <br>  It is better to create a .bin directory in a hamster, add it to $ PATH and store the scripts there)) <br><br><h4>  Alternative option </h4><br><br>  After thinking and googling, I decided to autocomplete the path, because with such a feature many problems are solved and surfing the repository is as pleasant as in the home directory! <br>  I found <a href="http://worksintheory.org/files/misc/bash_completion_svn">such a script</a> , started it - it complements something, but not the ways ... read man bash and the Internet and screwed the paths addition, the result can be downloaded: <br><br>  <a href="http://bit.ly/bgkJgj">Download bash_completion_svn</a> <br>  put somewhere and execute source for it <pre> <code class="hljs perl">$source bash_completion_svn</code> </pre>  You can add this line to the end of .bashrc, then when you start bash this will happen automatically. <br><h5>  Using </h5>  We type <b>$ svn list</b> , press [TAB] the path is added to the current working copy, and then everything is as usual)), press [TAB] and enjoy)). <br><br><h5>  Material used </h5><br>  <a href="http://www.opennet.ru/">Opennet.ru The</a> Art of Programming in the Command Shell Scripting Language <br><br>  <b>Thanks for attention!</b> <br></div><p>Source: <a href="https://habr.com/ru/post/104062/">https://habr.com/ru/post/104062/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../104056/index.html">MTOG # 14</a></li>
<li><a href="../104057/index.html">Spreadsheets in words</a></li>
<li><a href="../104058/index.html">Yahoo! updates your mailer</a></li>
<li><a href="../104059/index.html">PS3 hack using a calculator TI-84 Plus (video + link to the firmware)</a></li>
<li><a href="../104061/index.html">Microsoft Office For Mac 2011 development completed</a></li>
<li><a href="../104063/index.html">Activate Wi-Fi n, 802.11n on cards with Atheros AR9xxx chips</a></li>
<li><a href="../104069/index.html">Unserialize performance</a></li>
<li><a href="../104070/index.html">Vibration column Ritmix</a></li>
<li><a href="../104071/index.html">Cameyo - a new tool to turn the application into portable</a></li>
<li><a href="../104072/index.html">Communicator on Windows Phone 7</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>