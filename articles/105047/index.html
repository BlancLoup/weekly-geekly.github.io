<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Template engine. Framing designs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One gets the impression that the template syntax standard is what we use as a frame for control structures (parentheses, percentiles, question marks)....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Template engine. Framing designs</h1><div class="post__text post__text-html js-mediator-article">  One gets the impression that <i>the template syntax standard</i> is what we use as a frame for control structures (parentheses, percentiles, question marks).  This is not true.  The characters in which we enclose a particular pattern entry are just a way to relate data to logic.  It is difficult to establish some kind of standard.  But the reproduction logic of a particular structure must be specified in advance, and it is then that we can make templates compatible with each other for different programming languages. <br><br>  But today we still talk about these same brackets.  Do not forget about the sigils for variables. <br><br>  There are a lot of examples of restriction of template constructs.  Angular, curly, square, parentheses in combinations with each other and with symbols such as <i>%</i> <i>,?</i>  , <i>$</i> , <i>#</i> ... In general, you know that there are a lot of special characters, and there are even more combinations of them. <br><a name="habracut"></a><br><h4>  &lt;...&gt; </h4><br>  To visually distinguish template designs from html tags, it is better to use <i>non-</i> angle brackets.  But in constructions like <i>HTML :: Template</i> there is a charm which is valued in certain circles.  Need to somehow limit such a group of people?  I do not think. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  [...] </h4><br>  Square brackets would be nice to use in control structures, for example, to specify the array slice.  In this case, in combination with <i>[% ...%],</i> some control structures (for example, an array slice) will lose visibility: <br><pre><code class="html hljs xml">[% myobj =&gt; data.source [3..5] %]</code> </pre> <br><h4>  (...) </h4><br>  We used to use parentheses for semantic merging and phrasing.  I think this will be one of the most unfortunate options.  In addition, for sure in <i>conditional operators</i> we will have to make complex expressions, and there will be a situation similar to the example above. <br><br><h4>  {...} </h4><br>  If you pay attention, in most programming languages ‚Äã‚Äãcode blocks are highlighted with just such <i>curly</i> braces.  So why not follow the tradition and not adopt this approach to patterns?  It would seem that everything is trivial, and why everyone has not come to this conclusion for a long time.  They came, but each in its own way.  Let's say the use of constructions as in the example below is not entirely universal. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{title}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> {if expr} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> {else} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> {endif}</code> </pre><br>  We can simply run into a situation where <i>{title}</i> will appear in the template text, at a time when we do not need to consider this as a template construct.  Today, template implementations offer various solutions to this problem, for example, Django: <br><pre> <code class="html hljs xml">{% if expr %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>true {{title}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> {% else %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>false {{theme}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> {% endif %}</code> </pre><br>  But this abundance of brackets and <i>percentages</i> does not cause delight, especially when it is unusual to fill the same character twice. <br><br><h4>  What about markers? </h4><br>  How not to argue and not convince, and if someone is used to seeing <i>[% ...%]</i> , then do not say that this is bad.  This is bad for you from two tablespoons of sugar in tea, and for someone it is good.  Assume that it is possible to use simultaneously various options for framing structures.  The main thing to follow the algorithm of the template, after processing it by the parser. <br><br>  In total, it turns out that it is necessary to have some kind of a pivot table for transformations, which can be easily supplemented with various structures. <br><br><h4>  Sigils of variables </h4><br>  The prefix-sigils are not used in all programming languages.  Someone used to them, for someone it's crazy.  Let's mark one moment.  Here is a sample <i>perl</i> code: <br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#     my %cfg = ( 'host' =&gt; "http://host"); #     my $tpl = new MyTpl(); #    ;       my %d1 = ( 'list' =&gt; [{},{}], 'cfg' =&gt; \%cfg ); #  html ... my $html1 = $tpl-&gt;get( 'tpl_name1', \%d1 ); #    ,      my %d2 = ( 'comments' =&gt; [{},{}], 'cfg' =&gt; \%cfg ); #    html my $html2 = $tpl-&gt;get( 'tpl_name2', \%d2 );</span></span></code> </pre><br>  Moral: often we have static data that we want to use in the template, but it is not rational to fill in the data sent to the template each time.  It is much more logical after (or during) getting an instance of the template class to assign static data to it once.  In a template, it would be nice to visually share such data, for example: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> {%comments} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> {#name}     {$cfg.domain}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> {/%comments} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Where <i>{#name} is the</i> variable that belongs to the <i>comments</i> object to be iterated, and the <i>{$ cfg.domain}</i> variable is taken from the config.  We selected the config variable sigil <i>$</i> , and the simple variable sigil <i>#</i> You can also pay attention to the fact that the sigil <i>%</i> was used as the sigil of the data object (an array of hashes). <br><br>  By analogy, it can be assumed that the inclusion call is associated with the subprogram call, and the sigil <i>&amp;</i> can be used for it. <br><br>  Many programming languages ‚Äã‚Äãsupport a shortened <i>if / else</i> entry, something like <i>expr?</i>  <i>true: false</i> .  Let's improve a little and see what happens in the template: <br><pre> <code class="html hljs xml">{? #i &gt; 0} {&amp;listarticles} {|} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> {/?}</code> </pre><br><br>  Such constructions have already shown their practicality, examples of implementation can be found in the earlier <a href="http://habrahabr.ru/blogs/webdev/104823/">Javascript template with the perl server part</a> . <br><br>  Of course, these examples are not a panacea.  With the stated material, I wanted to convey the idea, to provide a flexible possibility to choose framing symbols and, possibly, sigils of variables due to a pivot table that can be expanded.  For the portability of templates, it will also be necessary to create a converter that can translate framing symbols from one version to another, solely to facilitate the developers' perception of them.  The parser will <i>digest</i> any options. <br><br>  Next, we will consider the methods of processing template designs.  What algorithms should be turned into one or another structure.  It is these algorithms for reproducing structures in code that should be standardized.  And already on them it will be possible to write the actual template engine.  But before that, it would be nice to know what is missing here, what needs to be corrected? </div><p>Source: <a href="https://habr.com/ru/post/105047/">https://habr.com/ru/post/105047/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../105041/index.html">jQuickForm = PHP Form Generator (big update)</a></li>
<li><a href="../105042/index.html">List of acquired Google startups for 2010</a></li>
<li><a href="../105043/index.html">Skolkovo. Education. Intel</a></li>
<li><a href="../105044/index.html">Eleven True Fantastic Predictions</a></li>
<li><a href="../105046/index.html">Code Coverage for Maven Projects (code coverage)</a></li>
<li><a href="../105048/index.html">GUI for rfkill on python using Qt</a></li>
<li><a href="../105049/index.html">South Korea to use algae as fuel source</a></li>
<li><a href="../105052/index.html">Intel Atom launched on Asus motherboard with Socket 7 connector</a></li>
<li><a href="../105053/index.html">HTC Sense and weather widget - add your city</a></li>
<li><a href="../105056/index.html">Paid Android Market is coming in Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>