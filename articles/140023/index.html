<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Transfer history from CVS / PCVS / VSS / ClearCase / StarTeam / MKS to SVN</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 This article is devoted to one small task - the transfer of the repository, along with the whole story, from one version control system t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Transfer history from CVS / PCVS / VSS / ClearCase / StarTeam / MKS to SVN</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br><br>  This article is devoted to one small task - the transfer of the repository, along with the whole story, from one version control system to another, or rather, to SVN.  It will be a <a href="http://www.polarion.com/">question</a> of using the free <a href="http://www.polarion.com/">Palarion</a> <a href="http://www.polarion.com/products/svn/svn_importer.php">Importer for SVN</a> <a href="http://www.polarion.com/">utility</a> , with which you can migrate from CVS / PCVS / VSS / ClearCase / StarTeam / MKS to SVN without losing the code change log.  In my case, it was necessary to transfer projects from Borland StarTeam. <br><br>  Why was StarTeam ‚Äúno‚Äù and ‚Äúyes‚Äù SVN said?  At first I thought to skip this paragraph in order to avoid holivars.  But, perhaps, without this, the article would be deprived, let's say, of definition.  In my case, abandoning StarTeam was forced by the departure of the person who introduced and administered it.  A couple of days of unsuccessful attempts to get the service to work under a different account gave rise to the idea that the task of restoring repositories from backups would be another big challenge.  Of course, the radius of curvature of the hands could be significantly increased after some time.  But we need it, it is asked, when there is a free, outrageously easy to install and maintain SVN?  Especially since I had plenty of experience using it at previous places of work, and all two and a half developers are in the same room. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      One obstacle - it was a pity to lose the change history.  At first, they thought of uploading the current versions to SVN, and looking at the history in StarTeam, transferring it to read-only in advance.  But as they say, this is not our method.  And a short google search turned the Palarion Importer for SVN mentioned above higher in the head. <br><br><a name="habracut"></a><br><br>  Now directly to the point.  We have a repository in CVS / PCVS / VSS / ClearCase / StarTeam / MKS (with passwords and all access).  It is required to transfer it to a new repository in SVN. <br><br>  <b>Note 1:</b> Judging by the options in the config, it is possible to upload data to an already existing repository, but I did not check it. <br><br><h4>  General action plan: </h4><br>  0. Check system requirements. <br>  1. Download the utility. <br>  2. Set up general parameters. <br>  3. Configure the SVN section. <br>  4. Configure the VCS source section. <br>  5. Run the utility. <br><br><h4>  0. Check system requirements </h4><br>  Of all the system requirements, an installed and configured JRE (because the utility is written in Java) on the machine where the utility will run.  Both source and receiver must be accessible from this machine. <br>  <font color="gray"><i>In my case, the servers and StarTeam, and SVN are spinning on the same machine, t.ch.</i></font>  <font color="gray"><i>for me the choice was obvious.</i></font> <br><br><h4>  1. Download the utility </h4><br>  <a href="http://www.polarion.com/products/svn/svn_importer.php">Here</a> the link "Download" to the left of the main text.  Immediately after specifying the name / company / e-mail download will begin.  No request for confirmation on the soap does not come, but there is a check for the existence of the address.  Then just unpack the zip-archive on the target machine. <br><br><h4>  2. We adjust the general parameters </h4><br>  In the config.properties file: <br><br>  <font color="green">srcprovider = st</font> <br>  This is the most important - the source of the data.  Here is StarTeam. <br><br>  <font color="green">import_dump_into_svn = yes</font> <br>  You can only create a dump file (s) - for this we put no here.  For example, if any errors occur at the stage of import into SVN (see the ‚ÄúIdentified Problems‚Äù section). <br><br>  <font color="green">existing_svnrepos = yes</font> <br>  <font color="green">clear_svn_parent_dir = yes</font> <br>  In theory, using these parameters, you can upload to an already existing repository.  I have not tried.  I created a locally new repository, and then imported it to the server using a convenient interface. <br><br><h4>  3. Configure the SVN section </h4><br>  In the config.properties file: <br><br>  <font color="green">svnimporter_user_name = login</font> <br>  I activated my domain (AD) login.  But, it seems to me, you can specify any. <br><br>  <font color="green">svnadmin.executable = c: / Program Files / VisualSVN Server / bin / svnadmin.exe</font> <br>  Yes.  I am using VisualSVN.  Who does not like, prescribes the path to another server. <br><br>  <font color="green">svnadmin.repository_path = D: / SvnRepositories / Repository1</font> <br>  Paradoxically, this is the location of the SVN repository. <br><br>  <font color="green">svnadmin.parent_dir =.</font> <br>  Folder inside SVN repository.  In this case, the root. <br><br>  <font color="green">svnadmin.tempdir = c: / temp / svnlocal</font> <br>  Temporary trash. <br><br>  <font color="green">svnclient.executable = c: / Program Files / VisualSVN Server / bin / svn.exe</font> <br>  You will not believe‚Ä¶ <br><br>  <font color="green">svnadmin.verbose_exec = yes</font> <br>  The log will be written detailed information about the process. <br><br>  There is also a config.autoprops file.  There are MIME types and properties for individual file extensions.  I had the ‚Äúfactory‚Äù settings for my ears.  To whom a little - can spy, for example, <a href="http://rhubbarb.wordpress.com/2009/05/07/svn-props-mime-types/">here</a> . <br><br><h4>  4. Configure the VCS source section </h4><br>  For each of the supported <abbr title="version control system">VCS</abbr> all in the same config.properties there is a separate section.  Kammenty help to understand why. <br><br>  <i><font color="gray">In the case of StarTeam, specify the connection string (inside the view, you can also specify separate folders):</font></i> <i><br></i>  <i><font color="green">st.url = LOGIN: PWD @ SRV-NAME: 49201 / Project / View</font></i> <i><br></i>  <i><font color="green">st.tempdir = c: / temp / starteamtemp</font></i> <br><br>  <i><font color="gray"><b>Note 2:</b> I tried to use the parameters of st.includes.regex / st.excludes.regex, but I did not understand the secrets of their format (I know what RegEx is, but to which part of the URL it is used, a series of experiments did not clarify).</font></i>  <i><font color="gray">I tried to write on their <a href="http://forums.polarion.com/viewtopic.php%3Ff%3D4%26t%3D19314%26e%3D0">forum</a> , but received no answer.</font></i> <br><br><h4>  5. Running the utility </h4><br>  Well, here - you can press the red button with sweaty handles.  To do this, run svnimporter.jar (for the Windows user, the run.bat file is carefully prepared, where it is transferred to the JVM) and pass 2 parameters to it: <br>  % 1 - command.  In our case, it is full.  The options are: list, incr. <br>  % 2 is our amended config: config.properties. <br><br>  Those.  something like this: <br><pre><code class="bash hljs">SET JAVA_OPTS=-Xmx192m java %JAVA_OPTS% -jar svnimporter.jar full config.properties</code> </pre> <br><br>  <b>Note 3.</b> Of the commands I know, there is still a list to check the correctness of the export / import settings. <br>  <b>Note 4.</b> There is still an incremental dump, but in this article this topic is not disclosed, although it may be useful to those who want to synchronize two VCS on a regular basis (as scheduled). <br><br><h5>  Success Criterion </h5><br>  After the utility completes, we look at history.log and look for the sacramental line ‚Äúsuccessfully finished‚Äù.  If it is not there, then we look at the svnimporter.log for errors and eliminate it. <br><br><h4>  <i>Identified problems:</i> </h4> <i><br></i>  <i><font color="gray">1. My utility swore that it could not find any Borlando-Startimov classes.</font></i>  <i><font color="gray">I dropped the starteam80.jar library into the lib folder, which I took from the installation location of my StarTeam Server 2005. Perhaps you just needed to set up environment variables for Java.</font></i> <i><font color="gray"><br><br></font></i>  <i><font color="gray">2. At the 3rd entry, there were problems when importing into SVN.</font></i>  <i><font color="gray">The utility swore at an invalid UTF-8 character.</font></i>  <i><font color="gray">I don‚Äôt know if it‚Äôs a curvature or if I‚Äôve got a broken version in my storage.</font></i>  <i><font color="gray">In general, solutions:</font></i> <i><font color="gray"><br></font></i> <ul><li>  <i><font color="gray">use st.includes.regex / st.excludes.regex to skip the problem file, but as I wrote above, I was able to understand how they work (see step 4).</font></i> </li><li>  <i><font color="gray">kill the problem file in the source repository.</font></i> </li><li>  <i><font color="gray">Create only dump files without importing into SVN (see step 2), fix the broken code in the dump with the hex editor and fill the SVN dump files with pens using svnadmin.exe.</font></i> </li></ul> <i><br></i> </div><p>Source: <a href="https://habr.com/ru/post/140023/">https://habr.com/ru/post/140023/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140016/index.html">A series of meetings with Dmitry Grishin students</a></li>
<li><a href="../140019/index.html">Changes on Habr√© eyes of the developer from</a></li>
<li><a href="../140020/index.html">From Tomsk to Silicon Valley and Back</a></li>
<li><a href="../140021/index.html">Spring has come - it's time to be updated! New Workle Interface</a></li>
<li><a href="../140022/index.html">Roads of Russia</a></li>
<li><a href="../140024/index.html">We facilitate the weight of the application when deployed to the Apache Tomcat application server</a></li>
<li><a href="../140025/index.html">MS12-020: dilution of RDP worms</a></li>
<li><a href="../140026/index.html">Blueseed - ship startups</a></li>
<li><a href="../140029/index.html">Please respond to those who tested CloudServer</a></li>
<li><a href="../140030/index.html">Online simulator for testing and testing interfaces for people with disabilities</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>