<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Porting a web application under Adobe AIR</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will look at an example of porting a web application written in JavaScript to an Adobe AIR application. 
 First of all, since the advent ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Porting a web application under Adobe AIR</h1><div class="post__text post__text-html js-mediator-article">  This article will look at an example of porting a web application written in JavaScript to an Adobe AIR application. <br>  First of all, since the advent of Adobe AIR and the first examples of ExtJS porting to AIR, I was tormented by the thought - how hard or just convert a web application written in JavaScript to an AIR application.  A couple of days ago there was time to experiment. <br><a name="habracut"></a><br>  The first step was to download the SDK for developing AIR applications.  Poryskav on the Internet, found a couple of examples of how to make your first application on AIR. <br><br>  For the porting, I chose one of my last works - this is the web application <a href="http://www.datamash.us/">www.datamash.us</a> .  Datemash is YouTube for widgets.  Widgets have now become a new form of media, but so far they can only be created by programmers.  Datamash helps ordinary people manage such a new form of content, such as widgets, assembling and connecting internal data streams for them, making them easier to publish.  Datamash client interface is implemented on a mixture of Fullajax and ExtJS.  PHP server side. <br><br>  I set myself the following task - to make an application that runs the entire interface from the local file system, but takes business data from the Internet.  Starting experiments, going from simple to complex, after an hour I compiled my first AIR application.  It turned out that the AIR sandbox has restrictions on the execution of JavaScript ‚Äî one of them is the execution of eval, which is necessary to assemble objects from JSON responses, the second is the creation and execution of dynamically connected scripts.  Looking for information about the security of the sandbox, I found very comprehensive information <a href="http://labs.adobe.com/wiki/index.php/AIR">labs.adobe.com/wiki/index.php/AIR</a> : HTML_Security_FAQ.  A little thought, it was decided to make an application that will not be limited to the security of the AIR sandbox.  It turns out that such a possibility exists, which was pleasantly surprised.  And to do this is simple: you need to load the application‚Äôs strata page in the iframe with additional attributes. <br><blockquote><code>&lt;iframe id="UI" style="width:100%;height:100%;border:0" frameborder="0" <br> src="/chips/index.html" <br> sandboxRoot="http://www.datamash.us/" <br> allowCrossDomainXHR="true" <br> documentRoot="app:/"&gt; <br></code> <br></blockquote>  Where <br>  sandboxRoot = http: //www.datamash.us/ - defines the area of ‚Äã‚Äãthe sandbox <br>  allowCrossDomainXHR = "true" - indicates the resolution of cross-domain requests <br>  documentRoot = "app: /"&gt; - indicates the base location for relative paths 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So we got an application that loads the interface from the local file system. <br>  The important point was that at the first stage of development I rendered all the path settings for AJAX requests from the web application into a separate file, and this saved time.  It was enough to redefine all the paths in the configuration file to an external site and everything worked as it should. <br><blockquote> <code>... <br> var URL_LOGIN = 'http://datamash.us/system/login.php'; <br> var URL_FOLDERS_LIST = 'http://datamash.us/system/folders.php'; <br> var URL_OBJECT_LIST = 'http://datamash.us/system/objects.php'; <br> var URL_OBJECT_JUMP = 'http://datamash.us/system/jump.php'; <br> ... <br></code> </blockquote>  So I advise you to take all the paths for AJAX requests into a separate configuration file. <br>  There was one problem that I had been busy for about two hours.  The problem was that initially with AJAX requests I received empty responses from the server.  I have long puzzled why, because everything was done correctly.  The problem turned out to be as follows: if I indicated for the iframe <blockquote>  sandboxRoot = http: //www.datamash.us/ and wrote <a href="http://www.datamash.us/">www.datamash.us</a> in the paths </blockquote>  or <blockquote>  sandboxRoot = http: //datamash.us/ and in the paths prescribed <a href="http://datamash.us/">datamash.us</a> </blockquote>  In the answer came empty answers.  Everything worked only when instructed <blockquote>  sandboxRoot = http: //www.datamash.us/ and in the <a href="http://datamash.us/">datamash.us</a> paths </blockquote>  Strange bug. <br><br>  So, we have a web application that is launched from the local file system and the business takes data from the Internet.  Porting a web application to an AIR application was relatively simple and fast.  Personally, I liked the AIR technology. <br>  You can look at the resulting application in action by downloading and installing <a href="">datamash.air</a> <br><br>  <b>PS:</b> My colleague made a significant observation in the direction of AIR - this technology does not have mechanisms for auto-updating applications.  Those.  for example, starting once again from the local file system and finding a more recent version of the interface in the outside world it would be great if AIR could automatically download a new version of content to the local file system and run subsequent times with the new interface.  Hopefully Adobe will add this feature. </div><p>Source: <a href="https://habr.com/ru/post/28985/">https://habr.com/ru/post/28985/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../289840/index.html">Services on the conveyor. How do we deal with the crisis?</a></li>
<li><a href="../289842/index.html">The customer is calling, we are losing him! Part 1 - The Gatekeeper</a></li>
<li><a href="../289844/index.html">Yandex again scared of canceling the reference or a new ranking algorithm - Minusinsk</a></li>
<li><a href="../289846/index.html">Xiaomi invests in 100 more startups</a></li>
<li><a href="../289848/index.html">Skolkovo together with the Chinese investment group Cybernaut created a $ 200 million venture fund</a></li>
<li><a href="../289850/index.html">Service for recording notes when viewing on-line video</a></li>
<li><a href="../289852/index.html">TNS Russia: Runet audience growth slows down</a></li>
<li><a href="../289854/index.html">There are areas in which contextual advertising is unprofitable</a></li>
<li><a href="../289856/index.html">Roman Abramovich invested $ 15 million in music application Music Messenger</a></li>
<li><a href="../289858/index.html">50 podcasts on technology and project management</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>