<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tracking station OpenDNS data centers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Question: 
 What will happen if we connect and put 12 LED blocks, 12 analog sensors in the case of birch plywood, connecting it all to the Arduino pla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tracking station OpenDNS data centers</h1><div class="post__text post__text-html js-mediator-article">  Question: <br>  What will happen if we connect and put 12 LED blocks, 12 analog sensors in the case of birch plywood, connecting it all to the Arduino platform with two TI TLC5940 microprocessors? <br><br>  Answer: <br>  Monitoring system server load relative to the maximum value of the previous day, with every second update of the relevance of the data. <br><br>  Being a fan of science fiction, all sorts of bunkers, nuclear power plants with hundreds of various sensors, he decided to create his own piece in the style of an old Soviet power station, which was once seen in the picture, with the possibility of finishing it more and more. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/ea5/995/84b/ea599584bc404d90a30685531efef4e8.jpg"><br><a name="habracut"></a><br><h4>  Ready gadget </h4><br>  I am a very boring person in life, my only hobby is all kinds of crafts.  It so happened that I was working as an OpenDNS manager, and my employer is an amazing company that operated data centers scattered around the world, serving 30 billion DNS requests each day.  This huge number of requests was even greater, because according to statistics out of 100 ordinary Internet users 1 uses this service. <br><br>  The anniversary of the founding of OpenDNS was approaching, and in order to celebrate this event, it occurred to me to build in our office something really unusual.  I wanted to do a good thing that would not only look good but also become a part of what we actually do here.  And also I really wanted to apply my old work with the Arduino platform. <br><br><img src="https://habrastorage.org/files/c40/182/9c0/c401829c0c974d7db5e65e614493cc63.jpg"><br><br><h4>  The tasks that I needed to solve </h4><br>  ‚Ä¢ Design.  It should contain both modern and retro elements. <br>  ‚Ä¢ Managed by Arduino.  It has been just a year since the last time I dealt with this platform, and obviously the time has come to return to the crafts with my favorite little microcontroller. <br>  ‚Ä¢ The possibility of gradual refinement.  To do everything at once in the plans was not. <br>  ‚Ä¢ Attach your colleagues.  At work, I am surrounded by brilliant engineers, if they are given instructions on how to display data on the information panel via USB, it will be much better for them than for me. <br><br><h4>  Spare parts </h4><br>  The canvas of birch plywood - cut so that it could go under the laser cutter. <br>  Arduino - the one that I had in stock - Arduino Mega, it was a problem for the task.  I needed a lot of PWM ports, while mine only had 13. <br><br>  ‚Ä¢ TI TLC5940 - If you connect two such chips in series, this could solve my problem with the lack of PWM ports, increasing their number to 32. <br>  ‚Ä¢ 5mm LEDs - the visual effect of the system was much better with them. <br>  ‚Ä¢ 0-5 voltmeters - Arduino + TLC5940 are able to just maintain the output voltage up to 5 volts, which makes these sensors ideal. <br>  ‚Ä¢ Miscellaneous - a little glue, a bundle of wires with a cross section of 0.5 mm, wire clips and the actual layout. <br><br><h4>  Stand - Card </h4><br>  Having found the map in the network, I had to remove some parts from it, before laser engraving, the small islands were placed too close to each other, which could affect the correctness of their laser display on the stand.  The raster image of the map had to be made vectorial in CorelDraw, this significantly accelerated the process of creating an image by a laser, by the way, the original quality of the map was 1200dpi. <br><br><img src="https://habrastorage.org/files/6d8/7dc/839/6d87dc839b65410ead3b00adfefede9d.png"><br><br>  Having found on the map the location of all our data centers, in their places, especially for LEDs, mounting holes were made on the stand.  Since I had excellent 5 mm LEDs of diffuse illumination, I decided to put diodes of different colors on the stand.  Instead of drilling one big hole, laser-burned the hole personally for each of the colors (Red, Green, Blue).  Each hole had a diameter of 0.5 mm, and the distance between them was 0.75 mm.  This placement allowed me to seamlessly lead the wires to the diodes. <br><br><h4>  Voltmeters </h4><br>  At first I was confused by the scale on the voltmeter, but the stock sensors looked so beautiful that I still did not dare change anything in them and left it as it was.  Their scale of 0-5 Volt seemed to add an entourage to the whole idea. <br><br><h4>  Panel assembly </h4><br>  I had the experience of connecting wooden panels by means of laser-cut teeth, this is a convenient and reliable connection, and what is the only contrast between the laser-charred edges and the light wood linen!  Having scored the necessary parameters into the laser cutter program, after which the whole structure was connected together, everything sat as it was, it was extremely difficult to disassemble it backwards. <br><br>  Since my future plans are to finish building my ‚Äúgadget‚Äù, the chosen method of fastening panels, this is just the right thing to do. <br>  Laser cutter (TechShop) which I had had a working bed of 18x24 inches.  That was enough to display a map of the world, but bad luck, New York and Washington were too close to place two rows of sensors in their place.  I had to scale up. <br><br>  Since one of the faces of the machine bed was 24 inches, I decided to make the whole layout 23x23x6 inches.  My faceplate consisted of three parts, which for greater safety were glued to each other.  This was done on the assumption that in the future, instead of the central panel, it will be possible to insert some kind of ‚Äúcontrol panel‚Äù, where additional sensors, toggle switches, buttons and so on will have to be placed.  The side elements of the product served for its additional rigidity, in the future, to build up the structure, they can always be removed. <br><br><h4>  Assembly and connection </h4><br>  The photo speaks for itself.  Maybe metal claws were superfluous here, connecting teeth firmly held the whole structure, but an excess of caution never hurts.  The only thing that did not get into the frame is the Arduino, the module is located at the very bottom of the layout, along with two connected TLC5940 chips.  Note the hole in the bottom left corner for the USB cable. <br><br><img src="https://habrastorage.org/files/099/74e/81c/09974e81c3f44800b9fedd1fda4acef7.jpg"><br><br><h4>  Final build </h4><br>  Hot glue miraculously secured all the wires in their places, and then as it turned out I had tangled the colors of the connections, the minus / cathode usually has a black connection color.  The LEDs were inserted into the small but very tight connector, thus the electrical network was assembled.  You may also notice that the plus / anode is usually indicated in red.  The Ardunio board was attached to the bottom of the layout with tape. <br><br><img src="https://habrastorage.org/files/b27/a81/9ea/b27a819ea49a432ab1be9012bd436347.jpg"><br><br>  I did not expect that I can experience so much happiness!  Sitting at his desk at the headquarters of OpenDNS, after an unforgettable week of repeated tests and tests, to finally debug the system and come to a happy medium. <br><br><h4>  Serial connection </h4><br>  Making a serial connection on an Arduino is pretty simple.  Two little tricks make a serial connection open and workable.  My choice fell on the format of the three variables that characterized the object (LED, sensor), which should now be updated.  For example, to upgrade Amsterdam to 100%, the current was increased to 100mA, for 50% it already corresponded to 50mA.  The computer handled all the work related to the delivery of statistics and scaling it. <br><br><img src="https://habrastorage.org/files/f5a/cc9/b38/f5acc9b38d674c85943deff34e15eb64.jpg"><br><br>  In matters of software, the lead engineer and a friend, Douz Tobacco, who created the entire control system, helped me.  His script, written in Python, clears statistics on a specific position, translating them into percentages and sending them, performing such an operation every 0.085 seconds.  Everything seemed to be going fine, but something unexpected happened: after a few minutes of work, the USB port on my friend's MacBook stopped responding and lasted until the computer was restarted.  I started to worry about this, because before the presentation of my product at the party there were only 5 days left, but it could be more than just a glitch.  Obviously the problem was in the control system.  The day after a good dream, it dawned on me that the problem was in the wrong commentary on the sequential outputs in the Ardunio code.  His buffer was overflowing and after a short time these oddities occurred.  After fixing the code, the friend script worked fine! <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/lf-T4aCyWHE%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700253&amp;usg=ALkJrhiHTTKv5Dc_pO1Vo7aT3mXjj3VFEw" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/239201/">https://habr.com/ru/post/239201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239175/index.html">Unity3D tips and tricks</a></li>
<li><a href="../239179/index.html">Why I bought another bitcoin</a></li>
<li><a href="../239189/index.html">Authomatic: python library for authentication and authorization</a></li>
<li><a href="../239193/index.html">Print It Yourself: What is interesting in the world of 3D printing from the point of view of the owner of Lumia</a></li>
<li><a href="../239199/index.html">Useful tools in Android Studio</a></li>
<li><a href="../239203/index.html">Freemium Pros and cons</a></li>
<li><a href="../239205/index.html">Cryptocurrencies go to the underground. The bill from the Ministry of Finance</a></li>
<li><a href="../239207/index.html">Using generics in Swift</a></li>
<li><a href="../239209/index.html">Cosmic catastrophes almost happened, part 2</a></li>
<li><a href="../239211/index.html">An easy way to restore the health of Li-Ion batteries from portable devices</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>