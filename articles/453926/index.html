<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How the car-sharing service works</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Currently, car sharing services are rapidly gaining momentum and even seize regions. Someone refused a personal car in favor of the car-sharing one, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How the car-sharing service works</h1><div class="post__text post__text-html js-mediator-article">  Currently, car sharing services are rapidly gaining momentum and even seize regions.  Someone refused a personal car in favor of the car-sharing one, and someone still avoids these cars.  Let's try to figure out what this foreign word is, which everyone already knows how a car-sharing service works and how it functions? <br><br><img src="https://habrastorage.org/webt/3v/gp/mu/3vgpmuutmyegecxjdzor3p6bzxk.jpeg"><br><a name="habracut"></a><br>  As an example, take a carsharing service "N" and consider the interaction of all components of this complex mechanism. <br><br><img src="https://habrastorage.org/webt/d2/oe/3o/d2oe3omvnovvmred80tnbuvebpw.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <font color="#9cc2ce">Remote fleet management, as it happens through the CRM operator</font> </h4><br>  All cars are displayed on the map in real time, both at the client and at the call-center operator.  In order for the information to be constantly updated and updated, the server ‚Äúpolls‚Äù the machines with a certain timeout.  The operator sees the entire fleet in CRM and can drive absolutely any car, regardless of whether this car is in the current lease or in the ‚Äúfree‚Äù status.  In the screenshot below - an example of CRM: <br><br><img src="https://habrastorage.org/webt/rk/2u/ue/rk2uue0i4u_qoa0efjtfg_vfzmq.png"><br><br>  Just click on the machine and instantly opens a dialog box with management capabilities: <br><br><img src="https://habrastorage.org/webt/n9/is/jf/n9isjfdy_clqgtxkqkdrkgbbcwc.png"><br><br>  The following options are available for CRM users (the set of options depends on the configuration and modification of the telematic equipment installed in it): <br>  - remote door lock / unlock; <br>  - remote lock / unlock the engine; <br>  - opening the vents of the car; <br>  - remote autostart of the car; <br>  - control the sound signal of the car. <br><br><h4>  <font color="#9cc2ce">Geozones service</font> </h4><br>  A service geofence is an area marked on a map, within which a specific carshoring provider operates.  That is, within the limits of this zone, the operator guarantees that the client application and telematic equipment will work correctly.  How does the tracking of the fact that the machine left the geofence? <br><br>  Everything is very simple!  Geofence - a polygon of points.  A certain specified area (in the screenshot below is the city of Perm).  Left the car geofence or vice versa returned - determined by the occurrence of the coordinates of Latitude &amp; Longitude in a specific area  It looks something like this: <br><br><img src="https://habrastorage.org/webt/ko/rr/bf/korrbfppfplk1dlvci8spacuf4q.png"><br><br>  Many car sharing operators have established a rule - travel outside the geofence must be coordinated with the operator of the call center.  To complete a lease outside the zone is prohibited, or even limited at the program level. <br><br><h4>  <font color="#9cc2ce">Secret equipment</font> </h4><br>  In order for the car to be controlled remotely, special telematic equipment is connected via CAN bus, as shown below: <br><br><img src="https://habrastorage.org/webt/c2/pl/r1/c2plr1wzngs9uq3b4hwqhjuevvc.png"><br><br>  The device looks like a conventional satellite alarm system, which is set by car owners on their personal cars.  The built-in CAN transceiver is used to interact with the vehicle network, allowing you to request data on the remaining fuel, the state of the nodes, to obtain data about the doors, hood, trunk, engine and other information.  Data, in turn, is transmitted through the usual 3G / 4G networks.  Each device has an average of two SIM cards that make the signal for transmitting telematic data more stable.  Normal this equipment is installed behind the dashboard and hidden from the user.  In fact, this is the ‚Äúbrain‚Äù of a car-sharing car. <br><br><h4>  <font color="#9cc2ce">Machine to server interaction</font> </h4><br>  The machine interacts with the server at the software level.  Data packets are transmitted from telematics equipment to the server and vice versa. <br>  During each of the ‚Äúpolls‚Äù of the machine, the following information comes from the telematic equipment: <br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"success"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"total"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"car"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-03-01 12:00:19.306955"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"124"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id_category"</span></span>: <span class="hljs-string"><span class="hljs-string">"2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id_emi"</span></span>: <span class="hljs-string"><span class="hljs-string">"295"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"9"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"vendor"</span></span>: <span class="hljs-string"><span class="hljs-string">"Kia Rio"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"marka"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"year"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id_modification"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"vin"</span></span>: <span class="hljs-string"><span class="hljs-string">"WF0DXXGTB60052135"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"numberplate"</span></span>: <span class="hljs-string"><span class="hljs-string">"111799"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"color"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"descr"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"emi"</span></span>: <span class="hljs-string"><span class="hljs-string">"580855023425759"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"data_fuel"</span></span>: <span class="hljs-string"><span class="hljs-string">"50"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"data_voltage"</span></span>: <span class="hljs-string"><span class="hljs-string">"12.6400000000000000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fuel_by_can"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"onoffdirect"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"insurance_card"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id_typefuel"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name_typefuel"</span></span>: <span class="hljs-string"><span class="hljs-string">"-95"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id_typetransmission"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name_typetransmission"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"is_agg_car"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"odometer"</span></span>: <span class="hljs-string"><span class="hljs-string">"22471"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"clat"</span></span>: <span class="hljs-string"><span class="hljs-string">"55.61313000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"clng"</span></span>: <span class="hljs-string"><span class="hljs-string">"37.61698000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plat"</span></span>: <span class="hljs-string"><span class="hljs-string">"55.61321100"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plng"</span></span>: <span class="hljs-string"><span class="hljs-string">"37.61700000"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"doors"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"0"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"sensor"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"0"</span></span> ] } ] }</code> </pre> <br>  From this example of the answer from the car, we see that absolutely all information on the current state of the car is transmitted: sensors, location, door status, etc.  Where does this information come from and what kind of device does it transmit? <br><br><h4>  <font color="#9cc2ce">Client-server interaction</font> </h4><br>  A regular user for using a car-sharing service uses a special mobile application released by a specific operator to access the fleet.  However, often in the news, in various Telegram channels we hear about fake accounts.  In the screenshot below - an example of one of the Telegram channels, where anyone can buy an account: <br><br><img src="https://habrastorage.org/webt/bo/ro/ou/boroou-hupeiyyzeyi820ey9loq.png"><br><br>  The principle of registration of fake accounts is simple!  The data required for registration (passport, driver's license), attackers take from various sources.  Sometimes the "victims" themselves transmit their data.  After receiving the data, the attackers register the account, the security service of the car sharing operator approves this account and then it is put up for sale.  Riding under such an account is a criminal offense.  Security services are actively monitoring virtually every current trip. <br><br>  The second way that attackers use to register an account is to exploit software vulnerabilities.  Thus, a database of users of the car sharing operator ‚ÄúTimCar‚Äù was stolen relatively recently.  And just the other day - to get access to the account of one of the metropolitan operators did not even need to enter the confirmation code, which comes by SMS.  The operator‚Äôs server itself sent it to the client in response to the request: <br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"success"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"return"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"veryfy_code"</span></span>: <span class="hljs-number"><span class="hljs-number">3634</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sms_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"201907-1000009"</span></span> } }</code> </pre><br>  Having entered the code from the ‚Äúveryfy_code‚Äù field, we could easily log in to the victim's account, knowing only the phone number. <br><br>  I think that this article will help ordinary users to understand the basic principles of short-term car rental services.  And also to answer many questions that were incomprehensible before. </div><p>Source: <a href="https://habr.com/ru/post/453926/">https://habr.com/ru/post/453926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../453906/index.html">What is the "domain model"?</a></li>
<li><a href="../453908/index.html">RTOS Neutrino in Industrial Computers</a></li>
<li><a href="../45391/index.html">Macroeconomics, our delusions, new risks and opportunities</a></li>
<li><a href="../453914/index.html">TON Test Client Installation Instructions</a></li>
<li><a href="../453920/index.html">How to take control of network infrastructure. Chapter Four Automation. Templates</a></li>
<li><a href="../453930/index.html">Comparison and selection of data migration systems</a></li>
<li><a href="../453932/index.html">A couple of words in defense of the monolith</a></li>
<li><a href="../453934/index.html">11 questions that need to be discussed before starting work</a></li>
<li><a href="../453938/index.html">Tracking a stolen bike using the NB-IoT protocol</a></li>
<li><a href="../45394/index.html">IBM supercomputer will think like a cat?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>