<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The Internet with immunity, or why God does not play Lego</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most programmers are constantly learning. We read the books of the gurus and look at the code of professionals. And I argue which method is better and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The Internet with immunity, or why God does not play Lego</h1><div class="post__text post__text-html js-mediator-article"> Most programmers are constantly learning.  We read the books of the gurus and look at the code of professionals.  And I argue which method is better and which solution is more beautiful. <br>  But let's imagine that there is a super professional, whose code we managed to see.  What can we learn from him?  And what conclusions can we draw? <br><img src="https://habrastorage.org/getpro/habr/post_images/515/518/1e2/5155181e23c5d14b6057c93232c651ba.jpg" width="250" alt="image"><br>  So - artificial immune systems. <br><a name="habracut"></a><br><br>  The real immune system is an extremely complex and completely incomprehensible thing, consisting of cells with long-term memory, whose weight is comparable to the weight of the human brain. <br>  Describing the entire immune system is expensive, and a detailed article would be more suitable for a portal suffering from insomnia than for Habr.  Therefore, I‚Äôll go over the key points very superficially, skipping many of the less critical in terms of in silico reproduction (although very important in vivo). <br><br>  The immune system itself (hereinafter the IP) is usually divided into two parts - innate and adaptive.  However, nature is a poor system architect, and does not like levels of abstraction.  But he likes to use inherited solutions.  Human IP is a conglomeration of ancient algorithms and newer developments and is not always easy to separate. <br>  Therefore, we try to first list the objects and processes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. Lymphocytes.  Cells form the basis of the immune system, an abstract base class for special cell versions (B-cells and T-cells).  Some types of lymphocytes carry on their surface a molecular detector (Major histocompatibility complex, MHC), which is responsible for binding to a protein molecule (the closest analogy is a pair of keys and a lock).  This detector may be unique within the system.  Many types of lymphocytes can change their type during maturation, have states that switch under the influence of various activators. <br>  1.1.  T lymphocytes.  Cells numbering many subspecies and specializations.  Various types are inherited from this base class, which can change their specialization. <br>  1.1.1 T-killers (Tk), killer cells.  Established executioners in the service of total control, cleaning the territory of their own.  They destroy cancer cells, damaged cells, or cells infected with a virus. <br>  1.1.2 T-helpers (Th).  Cells that activate other cells and carry information. <br>  1.2.  B-cells.  Cells responsible for the adaptive response of the organism.  During their lifetime, B-cells can change their genome and grow different detectors at different stages of development. <br>  1.2.1 Plasmatic B-cells.  The main supplier of antibodies. <br>  1.2.2 Cells of long-term memory carry information about the mechanism of production of antibodies. <br>  2. Antigen-presenting cells (APC).  A group of cells, which include macrophages and dendritic cells (DC).  Their purpose is to ‚Äúshow‚Äù to other cells of the immune system protein fragments, digests formed from cellular proteins by splitting them into fragments.  The fragment binds to the MHC and is exposed on the cell membrane.  In fact, this is an imitation of the "lock" for the selection of the key. <br>  2.1.  DC, dendritic cells.  It is with them that the concept of a ‚Äútheory of danger‚Äù is primarily associated.  Most of their lives, they are inactive, but in case of problems they become more active and start working. <br>  3. Antigen (Ag).  That part of the external threat that is detected by the immune system.  These are usually proteins or toxins. <br>  4. Antibody.  Proteins of a special Y-shape with the ability to bind to the antigen, they are also immunoglobulins.  They include molecular ‚Äúhinges‚Äù to hold various digests.  Toxins are blocked by binding to the antigen directly.  If a cell is affected, the antibody binds to the complexes on the cell surface and marks it for subsequent destruction. <br><br>  When we talk about the key-lock metaphor, we need to understand that this is only a metaphor. <br>  The key either fits the lock or does not fit - this is a binary attribute.  In the case of a molecular detector, the value ‚Äúsuitable-not suitable‚Äù is real and is called affinity.  This is a very important point and it is used to adjust the affinity on the fly. <br><br>  A certain part of the IC (primarily the innate subsystem) basically corresponds to the traditional detector-reaction scheme, which is also used in modern antiviruses.  But not all.  In a real IP, there is something that does not exist in our defense systems, processes that make a zero-day attack very unlikely. <br><br>  But we will come back to this, but for now let's proceed to the description of the processes (very abbreviated). <br><br>  1. Apoptosis is controlled cell death, a common genocide in a single organism with the consent of the central government and the general public.  Sometimes for some reason, the cell of your own body must be destroyed.  Planned withdrawal of used material from use.  Garbage collector, he is a bioreactor.  The integrity of the membrane is maintained until the end. <br>  2. Necrosis is unplanned destruction, such as an external attack.  At the same time, the permeability of the membrane falls, the cell is released and the body is able to fix the mass death.  This death, caused by external causes, is a signal to start.  After this signal, the body's forces are mobilized, the temperature rises (with an increase in the speed of the necessary chemical reactions), the blood flow accelerates, cellular training mechanisms are activated so that the attack is met fully armed. <br><br>  The difference between these two processes is the essence of what is called the Danger Theory. <br>  This is a relatively new theory, its birth is attributed to 1994 and associated with the name of the legendary <a href="http://en.wikipedia.org/wiki/Polly_Matzinger">Polly Metzinger</a> .  The fundamental boundary between concepts lies in the fact that the organism (unlike the traditional antivirus) does not respond to external signals, but to a combination of the internal state and external reactions.  Or, in other words, the system is essentially reflexive.  She may not know that someone is attacking her.  But she knows when she feels bad. <br><br>  This is a very critical boundary. <br>  In fact, we are moving from a simple ‚Äúfriend-foe‚Äù classifier to a complex anomaly detector, which determines the moment when the system begins to lose integrity and something needs to be done.  And this anomaly detector has excellent support for concept drift (concept drift). <br><br>  However, the reaction to external patterns in the real immune system also exists. <br>  The bone marrow continuously creates B and T cells, many with a randomized part of the genome responsible for detection.  Then the sensory part is tested for reaction with the antigens of its body, and any cell that detects at least something loved from itself is immediately destroyed.  This provides a hard zero false positive criterion.  And at the same time, a huge array of sensors is created with a random mate that provides maximum coverage of possible attacks, but without covering the organism itself.  This stage is called negative selection. <br>  In fact, this is the first step of what is called an anomaly detector in the computer world (novelty detector). <br>  The last point is what is called affine maturation.  This is the speed change of the genome, somatic hypermutation.  When activated, in case of danger, the cell begins to randomly modify the genome, thereby arranging the detector, changing the generalization, expanding or narrowing the capture space, and being able to more accurately catch a particular attack variant. <br><br>  Now imagine the entire array of sensors scattered around the body of a loved one.  All these millions of cells whose weight is comparable to the weight of the brain. <br>  And each of which has a unique detector. <br>  Personally, I am impressed by the scale and possibilities of such a system. <br>  No modern supercomputer is incomparable with the computational power of the immune system of an average gopnik, chewing seeds, not to mention a mobile cluster of such gopnik. <br>  However, let's not forget that the PM of this project (may it not be lost backups) had unlimited funding and indefinite terms, i.e.  what we can only dream of.  It is possible that with such a budget, we would have done better. <br><br>  According to the logic of the story, I would have to further describe the equivalent of the immune system in silico.  However, this occupation is more ungrateful than listing all variants of genetic algorithms. <br>  I will give only the names of the main methods created on the basis of the analysis of immune networks and seemed interesting to me personally.  Those interested can find the description in the relevant journals or simply google a lot of text in pdf format. <br><br>  DCA - dendritic cell algorithm. <br>  AIRS - artificial immune recognition system <br>  FIN - formal immune networks <br>  CLONALG - clonal selection algorithm <br>  aiNet - an artificial immune network for clustering and filtering <br>  libtissue - library for experiments in the field of immune systems <br><br>  For professionals, I can also specify the site <a href="http://www.dangertheory.com/">www.dangertheory.com</a> . <br>  Practitioners may be interested in the site <a href="http://www.artificial-immune-systems.org/algorithms.shtml">www.artificial-immune-systems.org/algorithms.shtml</a> <br>  A number of algorithms are ported to Weka and you can play with them in your personal sandbox. <br><br>  We now turn to a closer topic to the author - a discussion of the practical implementation in the code.  I mean, not the implementation of algorithms that were pulled from pieces of a prepared live system.  We are interested in a holistic understanding. <br><br>  The review of the code of the Main Programmer who accidentally fell into our hands may be more useful than reading the books of C ++ practitioners.  Nature's design patterns are very different from our politically correct restrictions and the rules of ‚Äúgood‚Äù code.  Therefore, in this article I focus specifically on general ideas, and not on specific algorithms ‚Äî there are too many of them and, therefore, none of them is fully working. <br><br>  The study of immune systems by interdisciplinary teams with the participation of biologists, mathematicians, and programmers was a very useful step, distributing a considerable number of grants among stakeholders.  Open-source libraries, DCA algorithms, the beautiful term Immunocomputing and a new look at the problems of information security are also considerable achievements and achievements. <br>  But what do we want to end up with? <br>  What can we learn from the Chief System Architect? <br>  Directly reproduce the decisions of nature in the gland is silly - otherwise on our cars instead of wheels there would be metal legs.  Neural networks have not so much in common with biological neurons, genetic algorithms are not an absolute copy of real processes of reproduction of a double helix. <br><br>  Below, I will give a modest opinion of an engineer who is not so versed in immunology. <br><br>  1. We are accustomed to classify processes according to our own primitives, subjective and strictly human.  Therefore, all of the above algorithms implement only a part of what we were able to understand in nature.  Should a future AIS have an anomaly detector, clusterizer, training with or without a teacher? <br>  The real immune system does not have such components in a pronounced form.  Unlike us, God does not play Lego.  The present purpose of the immune system is not even the distinction of "I-NAY", as previously thought.  Maintaining your own integrity is something that does not have a catchy title in the booklets of IT marketers.  So when we say that AIS includes a component, this is not entirely correct.  AIS is not similar to a classifier, anomaly detector, or data fusion, although it has the corresponding functionality.  This is a separate term, with the decomposition of which into components something is lost. <br>  2. The security system is not a superstructure over the protected object.  It is part of this facility.  It does not protect against attacks - we all live in constant defense from the outside world.  It maintains the viability and integrity of the object in an unfriendly environment.  Therefore, the deep reflexivity of the protected system is incorporated into it initially; it cannot be attached to the outside by a separate level. <br>  3. As a consequence of deep reflexivity, internal sensors should be randomly selected from the maximum possible list of component states and their combinations.  Then the defense can monitor its own state quite fully.  In the limit, the system should have access to all its own data, including its code at an arbitrary level of detail.  In modern commercial systems, this looks unrealistic if we recall all the politically correct rules of ‚Äúgood‚Äù coding and the closeness of the code of the components.  G√∂del car is difficult to create, adhering to the style and generally accepted programming practices or expert recommendations. <br>  4. The security system is individual in relation to the object of protection.  Computer secretaries in the bank can be protected from playing solitaire.  Sandbox in the antivirus laboratory should be open to infection with a trojan.  In each case, the concept of "norm" and "danger" - are different.  The accounting server and render farm are too different things and it‚Äôs pointless to build their defenses with a one-time list of filters, patterns and access lists. <br>  For someone to read a political post for an unloved president - an attempt to invade.  And, therefore, his Kindle should be protected from such texts.  The concept of ‚Äúdanger‚Äù expands to ‚Äúundesirable behavior‚Äù.  Spam filters, porn filters, opinion filters are other markets, but AIS can be used in each one, creating in the limit the Lem's Ethicosphere in the information space. <br>  5. Multi-level protection system - and this is not what marketers of antivirus companies write about.  This is a conglomerate of subsystems, in which not only each component has its own immune system, but the conglomerate itself is protected by its own rules, independent of the protection of components.  Theoretically, you can create a corporate network protection along with the individual protection of each computer - the threats to the computer and the parent network are different.  And in theory, you can create protection for the entire Internet - the system scales very easily. <br>  6. Protection must be adaptive.  This does not mean the need to train it every time a new installation is made.  But it must evolve with the advent of new threats without waiting for updates of a fashionable antivirus. <br>  7. The real immune system is a thing with a large number of objects, but with a small number of types of relationships, such a low level of connectivity is not easily accessible to modern architects.  There is no single coordination center, although the dendritic cells and the medium itself do some of the interaction work.  It is a pure distributed system, making maximum use of distribution and parallelism. <br>  8. The most important and last point.  There are no business models for mass application of such systems, as there were no business models of peer-to-peer networks up to Napster and the CDS industry.  This was confirmed by people from several anti-virus companies with whom I spoke.  However, it was clear from the very beginning, the anti-virus market is too large and capitalized for sudden movements and revolutionary changes. <br><br>  And finally, a few thoughts on the possible implementation of the prototype. <br><br>  Anomaly detectors are a key point.  There are many of them, from one-class classifiers to probabilistic models.  However, this is a very rough level, giving a lot of FP in real situations.  For research prototypes, one could try incremental decision trees, for example, asymmetric random forests from one-class very fast decision tree. <br>  Ideally, it should be genetics, if we forget its greed for resources and weak generalization. <br><br>  Sensors are a random combination of system states with good selectivity.  It is possible to obtain them with the help of genetics (which is somewhat expensive), or simple Monte-Carlo.  In any case, the design of the sensor should be done fully automatically, without human intervention - there should be too many of them. <br>  One of the examples of implementation is <a href="http://citeseerx.ist.psu.edu/viewdoc/download%3Fdoi%3D10.1.1.97.5032%26rep%3Drep1%26type%3Dpdf">DASTON</a> - a set of software sensors with minimal intelligence in the heap of an executable program. <br><br>  Drift concept (concept drift).  The computer can transfer from bukh to virgins or gamers.  And the ‚Äúnormal‚Äù state immediately becomes ‚Äúabnormal.‚Äù  The system should be able to forget the unimportant for the new environment.  But remember the common to both behaviors.  Those.  there should be a characteristic period of re-initialization or retraining.  The affine maturation technique itself allows this, but the limitations of this technique are not yet clear. <br><br>  The system should be able to separate the general from the particular, the exchange of rules and components of the detectors between computers is possible, but as an option of co-evolution, without the possibility of compromise from the neighboring machine.  That even in the case of co-evolution is quite difficult to guarantee. <br><br>  The real immune system is often considered an anomaly detector.  As I mentioned earlier, this is fundamentally wrong.  The body knows that it is sick.  How can a computer or network get a signal that something is wrong? <br>  This is a very difficult question.  There are no formal signs of a ‚Äúsick‚Äù system.  The trojan differs from the browser only by its authorship - both allow remote control and downloading updates without the user's consent, both collect passwords and can save them remotely.  What is a healthy computer and what is sick?  A living organism can distinguish an infection from an accidental change in its state by observing the level of necrosis.  What can watch a computer?  User reaction?  The count of broken files?  Change Kolmogorov complexity of the system? <br>  As soon as we weaken the requirements and move from ‚Äúnecrosis‚Äù to abstraction, we lose a certain part of the logic of the AIS operation. <br><br>  To understand that an anomaly has occurred is simple.  ,   ,     ‚Äî   ? <br>       .     AIS      .   ,          .      ‚Äî   -       ,      ,   . <br>       .        ?        , ,    ,     ? <br>        .     .             ‚Äî  , DoS   . <br>    ‚Äî    ,      . <br>   . <br>   , ,  ,      ‚Äì     . <br><br>  ,           .     146%     .            .        SVM   . <br><br>         . <br>         ‚Äî  ,   . <br>       ( )    ,  ,    (..    ),    (   ). <br>        ‚Äî           . <br>    ,   ,          . <br>     ‚Äî   ,   .      .   ,    helper T-cells,     ,    .  ,            ‚Äì  . <br>   .       ,        ,   .      ,    AIS     . </div><p>Source: <a href="https://habr.com/ru/post/189826/">https://habr.com/ru/post/189826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189814/index.html">The Story of The Pirate Bay</a></li>
<li><a href="../189816/index.html">Communication devices without power supplies</a></li>
<li><a href="../189818/index.html">How does the process of photographing from the inside (according to Nokia)</a></li>
<li><a href="../189820/index.html">Yii 1.1.14</a></li>
<li><a href="../189824/index.html">The sixth "Festival 404" will be held October 12-13, 2013 in Samara</a></li>
<li><a href="../189828/index.html">Chaos Construction 2013: hackquest review-writeup</a></li>
<li><a href="../189830/index.html">Build 2013 for HTML / JS-developers for Windows 8.1 and review useful reports</a></li>
<li><a href="../189834/index.html">Expert session was held in Kazan IT Park Russian Startup Rating</a></li>
<li><a href="../189838/index.html">Crossfilter.js, dc.js and D3.js for data visualization</a></li>
<li><a href="../189840/index.html">Search on Drupal 7 using Apache Solr Part 6 - configure apache solr + tomcat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>