<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We work with jQuery Templates. Part Three, jQuery Templates Plus</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Two weeks ago, I talked about the basic features of the jQuery Templates plugin and promised not to stop there. Promises must be fulfilled, so today I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We work with jQuery Templates. Part Three, jQuery Templates Plus</h1><div class="post__text post__text-html js-mediator-article">  Two weeks ago, I <a href="http://habrahabr.ru/blogs/jquery/112843/">talked about the basic features of the jQuery Templates plugin</a> and promised not to stop there.  Promises must be fulfilled, so today I will talk about additional functions that are not included in the main code of the plugin. <br><br>  Additional features of the plugin include: <br><ol><li>  A set of commands that significantly simplify changing rendered templates when changing their associated data; </li><li>  The <em>rendered</em> event, which is triggered after the rendered template is added to the document structure. </li></ol><br>  The code for additional functions is in the <em>jquery.tmplPlus.js</em> file, so in order to use them you must add a link to this file: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/jquery-1.5.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/jquery.tmpl.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/jquery.tmplPlus.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h1>  Commands for modifying rendered templates </h1><br><h2>  Command call </h2><br>  To call all commands, use the <em>jQuery.tmplCmd ()</em> method. <br><br>  This method has three forms of calling: <br><ol><li>  <em>jQuery.tmplCmd (command, tmplItem)</em> </li><li>  <em>jQuery.tmplCmd (command, tmplItems)</em> </li><li>  <em>jQuery.tmplCmd (command, data, tmplItems)</em> </li></ol><br>  The <em>command</em> parameter is used to specify the command name ( <em>update</em> , <em>remove</em> , <em>replace,</em> or <em>find</em> ). <br><br>  The <em>tmlItem</em> parameter <em>is</em> used to send a link to the template instance that the command will work with.  Accordingly, the <em>tmplItems</em> parameter <em>is</em> used to transfer an array of references to template instances. <br><br>  The <em>data</em> parameter can be a reference to a data element or an array of such references and is used to filter the <em>tmplItems</em> array.  If this parameter is specified, not all template instances will be involved in the operation, but only those that are associated with the <em>data</em> elements specified in the <em>data</em> parameter: <br><br><div style="text-align:center;"><img src="http://sergeypopov.info/Content/Shared/jQueryTmplPlus/Schema-1.png"></div><br><br>  Which of these three forms of call are applicable for each command, I will indicate in the description of these commands. <br><br><h2>  Replace command </h2><br>  The <em>replace</em> command is perhaps the most interesting of all, it changes the order of the rendered templates in the document structure in accordance with the order given by its arguments, and without re-rendering the templates. <br><br>  This command allows three forms of challenge, but only one of them has practical application: <br><ol><li>  <em>jQuery.tmplCmd ('replace', data, tmplItems)</em> </li></ol><br>  After the call to <em>replace, the</em> rendered templates will be rearranged in the order in which data element references follow in the data array.  The perfect sorting solution! <br><br>  Let's now see how this works.  The data I will work with in this and other examples from this section are in the dataItems array (the full code of the example is in the Samples.htm file): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataItems = [ { <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }, ... ];</code> </pre> <br>  To display this data, I use the following template: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item_tmpl"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/x-jquery-tmpl"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"item"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">${firstName}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">${lastName}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">img</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Images/item-edit.png"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"item-edit"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Edit"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">img</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Images/item-delete.png"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"item-delete"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Delete"</span></span></span></span><span class="xml"><span class="hljs-tag"> &gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  After rendering, I save references to all instances of the template in the <em>tmplItems</em> array: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#item_tmpl'</span></span>).tmpl(dataItems, options).appendTo(<span class="hljs-string"><span class="hljs-string">'#items_bag'</span></span>); tmplItems = $(<span class="hljs-string"><span class="hljs-string">'#items_bag .item'</span></span>).map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $.tmplItem(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }).get();</code> </pre> <br>  I attach event handlers to pictures marked with the <em>sort-asc</em> and <em>sort-desc</em> classes in the table header.  The optional attribute <em>x-field-name</em> contains the name of the field that will be sorted: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"items_bag"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span>First Name <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Images/sort-asc.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sort-asc"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x-field-name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"firstName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Images/sort-desc.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sort-desc"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x-field-name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"firstName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span>Last Name <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Images/sort-asc.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sort-asc"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x-field-name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lastName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Images/sort-desc.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sort-desc"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x-field-name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lastName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">th</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The code for sorting ascending is shown below: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#items_bag'</span></span>).delegate(<span class="hljs-string"><span class="hljs-string">'.sort-asc'</span></span>, <span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fieldName = $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'x-field-name'</span></span>); dataItems.sort(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> compareStrings(a[fieldName], b[fieldName]); }); tmplItems = $.tmplCmd(<span class="hljs-string"><span class="hljs-string">'replace'</span></span>, dataItems, tmplItems); });</code> </pre> <br>  Here I first get the name of the field by which sorting is performed: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fieldName = $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'x-field-name'</span></span>);</code> </pre> <br>  Then I sort the array with the data elements: <br><br><pre> <code class="javascript hljs">dataItems.sort(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> compareStrings(a[fieldName], b[fieldName]); });</code> </pre> <br>  Finally, I invoke the <em>replace</em> command to display the changed data in the document: <br><br><pre> <code class="javascript hljs">tmplItems = $.tmplCmd(<span class="hljs-string"><span class="hljs-string">'replace'</span></span>, dataItems, tmplItems);</code> </pre> <br>  The <em>replace</em> command returns an array of references to template instances located in the same order as the rendered templates in the document, so I save the result of the execution of <em>replace</em> in <em>tmplItems</em> . <br><br>  The code for sorting in descending order is similar: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#items_bag'</span></span>).delegate(<span class="hljs-string"><span class="hljs-string">'.sort-desc'</span></span>, <span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fieldName = $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'x-field-name'</span></span>); dataItems.sort(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> compareStrings(a[fieldName], b[fieldName]); }).reverse(); tmplItems = $.tmplCmd(<span class="hljs-string"><span class="hljs-string">'replace'</span></span>, dataItems, tmplItems); });</code> </pre> <br>  How it works is shown in the video below: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/h5vw_KeKOSE%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgleQ0o_9yLJVOgt21WWMbQAg5HLw" frameborder="0" allowfullscreen=""></iframe><br><br><h2>  Update command </h2><br>  The <em>update</em> command initiates a re-rendering of templates.  In fact, this is equivalent to the <em>update ()</em> method of the template instance with additional options.  Its most logical use is to update the document after changing the data. <br><br>  This command allows three forms of invocation, and, unlike the <em>replace</em> command, all of these forms have practical applications: <br><ol><li>  jQuery.tmplCmd ('update', tmplItem) </li><li>  jQuery.tmplCmd ('update', tmplItems) </li><li>  jQuery.tmplCmd ('update', data, tmplItems) </li></ol><br>  Let's see how it works on the example of a table editor (the full code of the example is in the <em>Samples.htm</em> file).  The code for editing the item is shown below: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#items_bag'</span></span>).delegate(<span class="hljs-string"><span class="hljs-string">'.item-edit'</span></span>, <span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmplItem = $.tmplItem(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataItem = tmplItem.data; editDialog.show(dataItem, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $.tmplCmd(<span class="hljs-string"><span class="hljs-string">'update'</span></span>, tmplItem); }); });</code> </pre> <br>  Here, I first get a link to the template instance and a link to the data item: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmplItem = $.tmplItem(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataItem = tmplItem.data;</code> </pre> <br>  Then I call a dialog box to which I give the link to the data item and the callback function, which will be called if the user clicks OK, and the data has been changed: <br><br><pre> <code class="javascript hljs">editDialog.show(dataItem, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $.tmplCmd(<span class="hljs-string"><span class="hljs-string">'update'</span></span>, tmplItem); });</code> </pre> <br>  And in the callback function, I call the <em>update</em> command, giving it a link to the template instance, which causes it to be rendered again: <br><br><pre> <code class="javascript hljs">$.tmplCmd(<span class="hljs-string"><span class="hljs-string">'update'</span></span>, tmplItem);</code> </pre> <br>  How it works is shown in the video below: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Hw8511hfqzg%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgjktZvK6RDtq8sbaxYeVl28sfC_A" frameborder="0" allowfullscreen=""></iframe><br><br><h2>  Remove command </h2><br>  The remove command, as it is easy to guess, removes the rendered templates from the document structure.  Like the update command, it has three forms of calling: <br><ol><li>  <em>jQuery.tmplCmd ('remove', tmplItem)</em> </li><li>  <em>jQuery.tmplCmd ('remove', tmplItems)</em> </li><li>  <em>jQuery.tmplCmd ('remove', data, tmplItems)</em> </li></ol><br>  A feature of this command is that it not only removes the rendered templates from the document structure, but also removes references to the corresponding template instances from the <em>tmplItems</em> array! <br><br>  This, in my opinion, is a rather unusual approach - on the one hand, it somewhat reduces the effort required to maintain the <em>tmplItems</em> array in a consistent state, and on the other, it can create an unpleasant situation.  Perhaps I would prefer this team to have no side effects. <br><br>  The code for deleting a table element is shown below: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#items_bag'</span></span>).delegate(<span class="hljs-string"><span class="hljs-string">'.item-delete'</span></span>, <span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmplItem = $.tmplItem(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataItem = tmplItem.data; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (confirm(<span class="hljs-string"><span class="hljs-string">'Do you really want to delete "'</span></span> + dataItem.firstName + <span class="hljs-string"><span class="hljs-string">' '</span></span> + dataItem.lastName + <span class="hljs-string"><span class="hljs-string">'"?'</span></span>)) { dataItems.splice(jQuery.inArray(dataItem, dataItems), <span class="hljs-number"><span class="hljs-number">1</span></span>); $.tmplCmd(<span class="hljs-string"><span class="hljs-string">'remove'</span></span>, dataItem, tmplItems); updateDebugInfo(); } });</code> </pre> <br>  Here, I first get a link to the template instance and a link to the data item: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmplItem = $.tmplItem(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataItem = tmplItem.data;</code> </pre> <br>  And after receiving confirmation from the user, first delete the corresponding element from the <em>dataItems</em> array: <br><br><pre> <code class="javascript hljs">dataItems.splice(jQuery.inArray(dataItem, dataItems), <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  And then I delete the corresponding rendered template from the document structure and at the same time delete the link to the template instance from the <em>tmplItems</em> array: <br><br><pre> <code class="javascript hljs">$.tmplCmd(<span class="hljs-string"><span class="hljs-string">'remove'</span></span>, dataItem, tmplItems);</code> </pre> <br>  The function code <em>updateDebugInfo () is</em> shown below: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateDebugInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $(<span class="hljs-string"><span class="hljs-string">'#data_items_length'</span></span>).text(dataItems.length); $(<span class="hljs-string"><span class="hljs-string">'#tmpl_items_length'</span></span>).text(tmplItems.length); }</code> </pre> <br>  This function is intended to demonstrate the side effect of the <em>remove</em> command. <br><br>  How it works is shown in the video below: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/gP3UwvZt_pE%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgSUH9xHxzgJuHrfPLHdgn0bQq6Kw" frameborder="0" allowfullscreen=""></iframe><br><br><h2>  Find command </h2><br>  The <em>find command is</em> used to search for instances of the template associated with specific data.  Together with the <em>update</em> and <em>remove</em> commands, it can be used for a ‚Äúpoint‚Äù update of a document when re-rendering all templates takes too much time. <br><br>  This command allows only one form of call: <br><ol><li>  <em>jQuery.tmplCmd ('find', data, tmplItems)</em> </li></ol><br>  The result of this command is an array of references to the template instances associated with the data passed through the <em>data</em> argument. <br><br>  An example of using the <em>find command is</em> given below (the full code of the example is in the <em>Samples.htm</em> file): <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#item_rnd'</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataItem = dataItems[<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.round(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * (dataItems.length - <span class="hljs-number"><span class="hljs-number">1</span></span>))]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmplItem = $.tmplCmd(<span class="hljs-string"><span class="hljs-string">'find'</span></span>, dataItem, tmplItems)[<span class="hljs-number"><span class="hljs-number">0</span></span>]; $(tmplItem.nodes).css(<span class="hljs-string"><span class="hljs-string">'background-color'</span></span>, <span class="hljs-string"><span class="hljs-string">'#ff0000'</span></span>); $(tmplItem.nodes).animate({ <span class="hljs-string"><span class="hljs-string">'background-color'</span></span>: <span class="hljs-string"><span class="hljs-string">'#ffffff'</span></span> }, <span class="hljs-number"><span class="hljs-number">1500</span></span>); });</code> </pre> <br>  In this example, I randomly select a data item: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataItem = dataItems[<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.round(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * (dataItems.length - <span class="hljs-number"><span class="hljs-number">1</span></span>))];</code> </pre> <br>  Then, using the <em>find command,</em> I find an instance of the template with which this data item is associated: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmplItem = $.tmplCmd(<span class="hljs-string"><span class="hljs-string">'find'</span></span>, dataItem, tmplItems)[<span class="hljs-number"><span class="hljs-number">0</span></span>];</code> </pre> <br>  And finally, I highlight the corresponding row in the table: <br><br><pre> <code class="javascript hljs">$(tmplItem.nodes).css(<span class="hljs-string"><span class="hljs-string">'background-color'</span></span>, <span class="hljs-string"><span class="hljs-string">'#ff0000'</span></span>); $(tmplItem.nodes).animate({ <span class="hljs-string"><span class="hljs-string">'background-color'</span></span>: <span class="hljs-string"><span class="hljs-string">'#ffffff'</span></span> }, <span class="hljs-number"><span class="hljs-number">1500</span></span>);</code> </pre> <br>  In a real application, updated data can be obtained, for example, using an AJAX request. <br><br>  How it works is shown in the video below: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/NrWBzmXq7Gc%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhh0NPQ3QvlDW18y92g-pE1I0E3APA" frameborder="0" allowfullscreen=""></iframe><br><br><h1>  Event rendered </h1><br>  The <em>rendered</em> event <em>is</em> defined for the template instance and is called after the rendered template is placed in the document structure. <br><br>  To set an event handler, use the options parameter of calling <em>.tmpl ()</em> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = { <span class="hljs-attr"><span class="hljs-attr">rendered</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tmplItem</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.console) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"rendered: %s %s"</span></span>, tmplItem.data.firstName, tmplItem.data.lastName); } } }; $(<span class="hljs-string"><span class="hljs-string">'#item_tmpl'</span></span>).tmpl(dataItems, options).appendTo(<span class="hljs-string"><span class="hljs-string">'#items_bag'</span></span>);</code> </pre> <br>  The most obvious scenario where this event may be required is debugging.  In the example above, each time the template is rendered, a message is displayed in the debugging console, making it easy to verify that the <em>replace</em> command does not actually render again, and the <em>update</em> command from the above example updates only one row of the table. <br><br>  How it works is shown in the video below: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/SZ26cHAUHzs%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhjDZTiFBmG8ElcMt8vv8zcmqrpeYw" frameborder="0" allowfullscreen=""></iframe><br><br><h1>  Conclusion </h1><br>  The full code of the examples used in the article can be downloaded from <a href="">this link</a> . <br><br>  I also remind you that you can download jQuery Templates from the <a href="http://www.asp.net/ajaxlibrary/cdn.ashx">ASP.NET CDN</a> website or directly from the GitHub repository: <br><ul><li>  <a href="http://www.asp.net/ajaxlibrary/cdn.ashx">jQuery Templates on ASP.NET CDN</a> </li><li>  <a href="https://github.com/jquery/jquery-tmpl">jQuery Templates on GitHub</a> </li></ul><br>  Documentation for jQuery Templates is available on <a href="http://api.jquery.com/category/plugins/templates/">the jQuery documentation site</a> . </div><p>Source: <a href="https://habr.com/ru/post/113672/">https://habr.com/ru/post/113672/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../113658/index.html">"Hello World" BPMN2.0 or Activiti Introduction</a></li>
<li><a href="../113660/index.html">The Japanese announced the simplest emergency phone</a></li>
<li><a href="../113663/index.html">Extend log4net. Competitive Logging</a></li>
<li><a href="../113670/index.html">BUNKER DataCenter - Radiation Threat Canceled</a></li>
<li><a href="../113671/index.html">Presented tablet Galaxy Tab 2</a></li>
<li><a href="../113673/index.html">Personal account of the Beeline Internet (Corbin) and intrusive surveys</a></li>
<li><a href="../113675/index.html">How to please your favorite February 14</a></li>
<li><a href="../113678/index.html">Telephone boxes in China will be equipped with Wi-Fi</a></li>
<li><a href="../113679/index.html">Easter Egg Selection</a></li>
<li><a href="../113680/index.html">Building a multicopter, part one</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>