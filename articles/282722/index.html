<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Game "Life" in FPGA</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The game of life - the cellular automaton already seems written in all possible programming languages. 

 I am interested in the FPGA technology - and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Game "Life" in FPGA</h1><div class="post__text post__text-html js-mediator-article"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/1fjvGrfTt_w%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700190,15700248,15700253&amp;usg=ALkJrhiNLaTEL0tz_Iu-dC3Zo3QQewdZUw" frameborder="0" allowfullscreen=""></iframe><br><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%2596%25D0%25B8%25D0%25B7%25D0%25BD%25D1%258C_(%25D0%25B8%25D0%25B3%25D1%2580%25D0%25B0)">The game of life</a> - the cellular automaton already seems written in all possible programming languages. <br><br>  I am interested in the FPGA technology - and therefore once I made the implementation of life for the Alter FPGA Cyclone III.  The truth is then very small: only 32x16 cells.  On such a small field it is quite difficult to experience complex shapes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now I have another board in my hands: Altera MAX10 is already there with 50 thousand logical elements.  It was interesting, can I expand the field at least 4 times?  In general, I decided to make at least 64x32. <br><br>  The result is presented in this video, I call this picture: "the Gosper's gun kills itself." <br><br>  Below are the implementation details. <a name="habracut"></a><br>  Actually, the implementation of the game I already had in my previous project for the third cyclone.  The whole project consists of several parts. <br><br>  The field of life is made up of interconnected modules-cells written in Verilog HDL so that it is possible to calculate the next generation of cells in 1 clock cycle. <br><img src="https://habrastorage.org/files/e74/3e0/781/e743e07819f148669478c66330921dcc.png" alt="image"><br>  I would like to have just such an implementation, because it is a FPGA, which means there can and should be done.  This is a model of multiple calculators that operate simultaneously in parallel and pass parameters to each other.  This parallelism is just amazing. The game field is 64x32 = 2048 parallel computers working in FPGA synchronously!  The module and all the logic of a single cell is written in Verilog HDL: <br><br><pre><code class="hljs pgsql">module xcell( <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire clk, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire seed_ena, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire life_step, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire in_up_left, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire in_up, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire in_up_right, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire in_left, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire in_right, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire in_down_left, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire in_down, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire in_down_right, output reg cell_life ); wire [<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]neighbor_number; assign neighbor_number = in_up_left + in_up + in_up_right + in_left + in_right + in_down_left + in_down + in_down_right; <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @(posedge clk) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(seed_ena) cell_life &lt;= in_left; //<span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">load</span></span> initial life <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> cell <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(life_step) //recalculate <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> generation <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> life <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( neighbor_number == <span class="hljs-number"><span class="hljs-number">3</span></span> ) cell_life &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-string"><span class="hljs-string">'b1; //born else if( neighbor_number &lt; 2 || neighbor_number &gt; 3 ) cell_life &lt;= 1'</span></span>b0; //die <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> endmodule</code> </pre> <br><br>  Then, instances of this module are repeatedly created and interconnected by wires into a single flat field using the generate-endgenerate construction of the Verilog HDL language. <br><br>  The second most important module in the project is the module loading the initial state of the game through the serial port.  The state is transmitted as a text file of approximately the following form: <br><br>  one------**------------------------ <br>  2 ----- * - * ----------------------- <br>  3 ---- * ---- * ---------------------- <br>  four---*------*--------------------- <br>  five---*------*--------------------- <br>  6 ---- * ---- * ---------------------- <br>  7 ----- * - * ----------------------- <br>  eight------**------------------------ <br>  9-------------------------------- <br>  A -------------------------------- <br>  B -------------------------------- <br>  C -------------------------------- <br>  D -------------------------------- <br>  E -------------------------------- <br>  F -------------------------------- <br><br>  Meaningful characters are only '*' (living cell) and '-' (no life).  The transfer rate is 115200, 8 bits, 1 stop, no parity.  During the loading of the project, you need to hold the button on the board - then the field of life will be sown with the new state described in the text file. <br><br>  And finally, the module displays the current state of the game.  This is a text video adapter, in which the state of cells-cells is periodically copied.  All cells are connected in a cyclic shift register, so you can read the entire game field and make an entry in the video adapter for WIDTH * HEIGHT cycles. <br><br>  Well, of course, this all together turns out to be quite surprising - after all, the very logic of the game ‚Äúlife‚Äù is simple, but the serving modules, loading and display modules turn out to be almost more complicated than the ‚Äúlife‚Äù itself. <br><br>  And now about the display on the screen.  To port the old project to MAX10 and for a completely different motherboard Mars Rover3 will have to tinker a bit.  The fact is that the board no longer has a VGA connector, which was so easy and pleasant to work with.  Now the board has an HDMI connector and the HDMI lines go straight to the FPGA chip. <br><br>  To manage the HDMI lines, I went through a lot of material.  The project on <a href="http://www.fpga4fun.com/HDMI.html">www.fpga4fun.com/HDMI.html</a> was taken as a <a href="http://www.fpga4fun.com/HDMI.html">basis. Everything</a> is described in some detail here. <br><br>  HDMI uses serial transmission over a differential pair.  Just four pairs.  Three pairs transmit 8-bit R, G, B colors plus HSYNC and VSYNC control signals.  Because of the serial transmission, TMDS coding requires a working frequency 10 times higher than the pixel frequency on the screen.  If the pixel frequency is 74 MHz with a resolution of 1280x720, then 740 MHz is already required for signal encoding, which is a lot.  The situation is saved by the fact that the FPGA outputs have built-in DDIO interface, that is, a two-to-one serializer.  This means that the maximum frequency in the project can be reduced to 370 MHz. <br><br>  The source code for the HDMI module is shown below. <br><br><pre> <code class="hljs pgsql">module hdmi( <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire pixclk, // <span class="hljs-number"><span class="hljs-number">74</span></span>MHz <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire clk_TMDS2, // <span class="hljs-number"><span class="hljs-number">370</span></span>MHz <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire hsync, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire vsync, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire active, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]red, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]green, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> wire [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]blue, output wire TMDS_bh, output wire TMDS_bl, output wire TMDS_gh, output wire TMDS_gl, output wire TMDS_rh, output wire TMDS_rl ); wire [<span class="hljs-number"><span class="hljs-number">9</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_red, TMDS_green, TMDS_blue; TMDS_encoder encode_R(.clk(pixclk), .VD(red ), .CD(<span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-string"><span class="hljs-string">'b00) , .VDE(active), .TMDS(TMDS_red)); TMDS_encoder encode_G(.clk(pixclk), .VD(green), .CD(2'</span></span>b00) , .VDE(active), .TMDS(TMDS_green)); TMDS_encoder encode_B(.clk(pixclk), .VD(blue ), .CD({vsync,hsync}), .VDE(active), .TMDS(TMDS_blue)); reg [<span class="hljs-number"><span class="hljs-number">2</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_mod5=<span class="hljs-number"><span class="hljs-number">0</span></span>; // modulus <span class="hljs-number"><span class="hljs-number">5</span></span> counter reg [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_shift_bh=<span class="hljs-number"><span class="hljs-number">0</span></span>, TMDS_shift_bl=<span class="hljs-number"><span class="hljs-number">0</span></span>; reg [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_shift_gh=<span class="hljs-number"><span class="hljs-number">0</span></span>, TMDS_shift_gl=<span class="hljs-number"><span class="hljs-number">0</span></span>; reg [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_shift_rh=<span class="hljs-number"><span class="hljs-number">0</span></span>, TMDS_shift_rl=<span class="hljs-number"><span class="hljs-number">0</span></span>; wire [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_blue_l = {TMDS_blue[<span class="hljs-number"><span class="hljs-number">9</span></span>],TMDS_blue[<span class="hljs-number"><span class="hljs-number">7</span></span>],TMDS_blue[<span class="hljs-number"><span class="hljs-number">5</span></span>],TMDS_blue[<span class="hljs-number"><span class="hljs-number">3</span></span>],TMDS_blue[<span class="hljs-number"><span class="hljs-number">1</span></span>]}; wire [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_blue_h = {TMDS_blue[<span class="hljs-number"><span class="hljs-number">8</span></span>],TMDS_blue[<span class="hljs-number"><span class="hljs-number">6</span></span>],TMDS_blue[<span class="hljs-number"><span class="hljs-number">4</span></span>],TMDS_blue[<span class="hljs-number"><span class="hljs-number">2</span></span>],TMDS_blue[<span class="hljs-number"><span class="hljs-number">0</span></span>]}; wire [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_green_l = {TMDS_green[<span class="hljs-number"><span class="hljs-number">9</span></span>],TMDS_green[<span class="hljs-number"><span class="hljs-number">7</span></span>],TMDS_green[<span class="hljs-number"><span class="hljs-number">5</span></span>],TMDS_green[<span class="hljs-number"><span class="hljs-number">3</span></span>],TMDS_green[<span class="hljs-number"><span class="hljs-number">1</span></span>]}; wire [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_green_h = {TMDS_green[<span class="hljs-number"><span class="hljs-number">8</span></span>],TMDS_green[<span class="hljs-number"><span class="hljs-number">6</span></span>],TMDS_green[<span class="hljs-number"><span class="hljs-number">4</span></span>],TMDS_green[<span class="hljs-number"><span class="hljs-number">2</span></span>],TMDS_green[<span class="hljs-number"><span class="hljs-number">0</span></span>]}; wire [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_red_l = {TMDS_red[<span class="hljs-number"><span class="hljs-number">9</span></span>],TMDS_red[<span class="hljs-number"><span class="hljs-number">7</span></span>],TMDS_red[<span class="hljs-number"><span class="hljs-number">5</span></span>],TMDS_red[<span class="hljs-number"><span class="hljs-number">3</span></span>],TMDS_red[<span class="hljs-number"><span class="hljs-number">1</span></span>]}; wire [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_red_h = {TMDS_red[<span class="hljs-number"><span class="hljs-number">8</span></span>],TMDS_red[<span class="hljs-number"><span class="hljs-number">6</span></span>],TMDS_red[<span class="hljs-number"><span class="hljs-number">4</span></span>],TMDS_red[<span class="hljs-number"><span class="hljs-number">2</span></span>],TMDS_red[<span class="hljs-number"><span class="hljs-number">0</span></span>]}; <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @(posedge clk_TMDS2) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> TMDS_shift_bh &lt;= TMDS_mod5[<span class="hljs-number"><span class="hljs-number">2</span></span>] ? TMDS_blue_h : TMDS_shift_bh [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>]; TMDS_shift_bl &lt;= TMDS_mod5[<span class="hljs-number"><span class="hljs-number">2</span></span>] ? TMDS_blue_l : TMDS_shift_bl [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>]; TMDS_shift_gh &lt;= TMDS_mod5[<span class="hljs-number"><span class="hljs-number">2</span></span>] ? TMDS_green_h : TMDS_shift_gh [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>]; TMDS_shift_gl &lt;= TMDS_mod5[<span class="hljs-number"><span class="hljs-number">2</span></span>] ? TMDS_green_l : TMDS_shift_gl [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>]; TMDS_shift_rh &lt;= TMDS_mod5[<span class="hljs-number"><span class="hljs-number">2</span></span>] ? TMDS_red_h : TMDS_shift_rh [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>]; TMDS_shift_rl &lt;= TMDS_mod5[<span class="hljs-number"><span class="hljs-number">2</span></span>] ? TMDS_red_l : TMDS_shift_rl [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>]; TMDS_mod5 &lt;= (TMDS_mod5[<span class="hljs-number"><span class="hljs-number">2</span></span>]) ? <span class="hljs-number"><span class="hljs-number">3</span></span><span class="hljs-string"><span class="hljs-string">'d0 : TMDS_mod5+3'</span></span>d1; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> assign TMDS_bh = TMDS_shift_bh[<span class="hljs-number"><span class="hljs-number">0</span></span>]; assign TMDS_bl = TMDS_shift_bl[<span class="hljs-number"><span class="hljs-number">0</span></span>]; assign TMDS_gh = TMDS_shift_gh[<span class="hljs-number"><span class="hljs-number">0</span></span>]; assign TMDS_gl = TMDS_shift_gl[<span class="hljs-number"><span class="hljs-number">0</span></span>]; assign TMDS_rh = TMDS_shift_rh[<span class="hljs-number"><span class="hljs-number">0</span></span>]; assign TMDS_rl = TMDS_shift_rl[<span class="hljs-number"><span class="hljs-number">0</span></span>]; endmodule module TMDS_encoder( <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> clk, <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] VD, // video data (red, green <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> blue) <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] CD, // control data <span class="hljs-keyword"><span class="hljs-keyword">input</span></span> VDE, // video data <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> choose <span class="hljs-keyword"><span class="hljs-keyword">between</span></span> CD (<span class="hljs-keyword"><span class="hljs-keyword">when</span></span> VDE=<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> VD (<span class="hljs-keyword"><span class="hljs-keyword">when</span></span> VDE=<span class="hljs-number"><span class="hljs-number">1</span></span>) output reg [<span class="hljs-number"><span class="hljs-number">9</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS = <span class="hljs-number"><span class="hljs-number">0</span></span> ); wire [<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] Nb1s = VD[<span class="hljs-number"><span class="hljs-number">0</span></span>] + VD[<span class="hljs-number"><span class="hljs-number">1</span></span>] + VD[<span class="hljs-number"><span class="hljs-number">2</span></span>] + VD[<span class="hljs-number"><span class="hljs-number">3</span></span>] + VD[<span class="hljs-number"><span class="hljs-number">4</span></span>] + VD[<span class="hljs-number"><span class="hljs-number">5</span></span>] + VD[<span class="hljs-number"><span class="hljs-number">6</span></span>] + VD[<span class="hljs-number"><span class="hljs-number">7</span></span>]; wire XNOR = (Nb1s&gt;<span class="hljs-number"><span class="hljs-number">4</span></span><span class="hljs-string"><span class="hljs-string">'d4) || (Nb1s==4'</span></span>d4 &amp;&amp; VD[<span class="hljs-number"><span class="hljs-number">0</span></span>]==<span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-string"><span class="hljs-string">'b0); wire [8:0] q_m = {~XNOR, q_m[6:0] ^ VD[7:1] ^ {7{XNOR}}, VD[0]}; reg [3:0] balance_acc = 0; wire [3:0] balance = q_m[0] + q_m[1] + q_m[2] + q_m[3] + q_m[4] + q_m[5] + q_m[6] + q_m[7] - 4'</span></span>d4; wire balance_sign_eq = (balance[<span class="hljs-number"><span class="hljs-number">3</span></span>] == balance_acc[<span class="hljs-number"><span class="hljs-number">3</span></span>]); wire invert_q_m = (balance==<span class="hljs-number"><span class="hljs-number">0</span></span> || balance_acc==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? ~q_m[<span class="hljs-number"><span class="hljs-number">8</span></span>] : balance_sign_eq; wire [<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] balance_acc_inc = balance - ({q_m[<span class="hljs-number"><span class="hljs-number">8</span></span>] ^ ~balance_sign_eq} &amp; ~(balance==<span class="hljs-number"><span class="hljs-number">0</span></span> || balance_acc==<span class="hljs-number"><span class="hljs-number">0</span></span>)); wire [<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] balance_acc_new = invert_q_m ? balance_acc-balance_acc_inc : balance_acc+balance_acc_inc; wire [<span class="hljs-number"><span class="hljs-number">9</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_data = {invert_q_m, q_m[<span class="hljs-number"><span class="hljs-number">8</span></span>], q_m[<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] ^ {<span class="hljs-number"><span class="hljs-number">8</span></span>{invert_q_m}}}; wire [<span class="hljs-number"><span class="hljs-number">9</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] TMDS_code = CD[<span class="hljs-number"><span class="hljs-number">1</span></span>] ? (CD[<span class="hljs-number"><span class="hljs-number">0</span></span>] ? <span class="hljs-number"><span class="hljs-number">10</span></span><span class="hljs-string"><span class="hljs-string">'b1010101011 : 10'</span></span>b0101010100) : (CD[<span class="hljs-number"><span class="hljs-number">0</span></span>] ? <span class="hljs-number"><span class="hljs-number">10</span></span><span class="hljs-string"><span class="hljs-string">'b0010101011 : 10'</span></span>b1101010100); <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @(posedge clk) TMDS &lt;= VDE ? TMDS_data : TMDS_code; <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @(posedge clk) balance_acc &lt;= VDE ? balance_acc_new : <span class="hljs-number"><span class="hljs-number">4</span></span><span class="hljs-string"><span class="hljs-string">'h0; endmodule module ddio( input wire d0, input wire d1, input wire clk, output wire out ); reg r_d0; reg r_d1; always @(posedge clk) begin r_d0 &lt;= d0; r_d1 &lt;= d1; end assign out = clk ? r_d0 : r_d1; endmodule</span></span></code> </pre><br><br>  The whole project for the <a href="http://marsohod.org/plata-marsokhod3">Mars Rover3</a> can be taken on github: <a href="https://github.com/marsohod4you/FPGA_game_life">github.com/marsohod4you/FPGA_game_life</a> <br><br>  Altera Quartus Prime compiler report: <br>  <i>Flow Status Successful - Thu Apr 28 16:08:48 2016</i> <i><br></i>  <i>Quartus Prime Version 15.1.0 Build 185 10/21/2015 SJ Lite Edition</i> <i><br></i>  <i>Revision Name max10_50</i> <i><br></i>  <i>Top-level Entity Name top</i> <i><br></i>  <i>Family MAX 10</i> <i><br></i>  <i>Device 10M50SAE144C8GES</i> <i><br></i>  <i>Timing Models Preliminary</i> <i><br></i>  <i>Total logic elements 29,432 / 49,760 (59%)</i> <i><br></i>  <i>Total combinational functions 28,948 / 49,760 (58%)</i> <i><br></i>  <i>Dedicated logic registers 2,238 / 49,760 (4%)</i> <i><br></i>  <i>Total registers 2254</i> <i><br></i>  <i>Total pins 23/101 (23%)</i> <i><br></i>  <i>Total virtual pins 0</i> <i><br></i>  <i>Total memory bits 147,456 / 1,677,312 (9%)</i> <i><br></i>  <i>Embedded Multiplier 9-bit elements 0/288 (0%)</i> <i><br></i>  <i>Total PLLs 1/1 (100%)</i> <i><br></i>  <i>UFM blocks 0/1 (0%)</i> <i><br></i>  <i>ADC blocks 0/1 (0%)</i> <br><br>  Probably the game "life" is already tired of many.  However, in my opinion there is something to think about.  Despite its simplicity, it contains interesting principles of interconnected calculators.  Probably, similar ideas can be used in special classes of tasks.  For example, placing components on a printed circuit board is a complex combinatorial problem that must take into account many factors, including the length of the connections between components.  One can imagine that the components on the printed circuit board are cells fighting for a better location on the field of life under the influence of the forces of the connections between the components.  I think that over time such tasks will be calculated using FPGA. </div><p>Source: <a href="https://habr.com/ru/post/282722/">https://habr.com/ru/post/282722/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282700/index.html">List of books on offensive information security</a></li>
<li><a href="../282702/index.html">Chat bots: interlocutors for all occasions</a></li>
<li><a href="../282706/index.html">A touching story: from the first touchscreens to the future with Surfancy</a></li>
<li><a href="../282708/index.html">Rust: From & str to Cow</a></li>
<li><a href="../282716/index.html">Key speakers of the DevCon 2016 conference</a></li>
<li><a href="../282724/index.html">Yii 2.0.8</a></li>
<li><a href="../282728/index.html">Disconnection of analog satellite TV: 4 years later (part 1)</a></li>
<li><a href="../282732/index.html">My Location Companion - Photo messages and magnetic field control</a></li>
<li><a href="../282734/index.html">OpenStack: How not to ‚Äútread on the rake‚Äù of OpenSource business</a></li>
<li><a href="../282736/index.html">Development in own juice or as we understood that we are not doing what users need</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>