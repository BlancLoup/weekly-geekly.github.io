<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Candy Challenge</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The other day I ran into an interesting puzzle, which seemed to me a decent audience for this resource. The condition is as follows: 

 ‚ÄúFind the maxi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Candy Challenge</h1><div class="post__text post__text-html js-mediator-article">  The other day I ran into an interesting puzzle, which seemed to me a decent audience for this resource.  The condition is as follows: <br><br>  <b>‚ÄúFind the maximum permissible deviation of the mass of candy during its production, so that the net of a box consisting of 12 pieces of them does not exceed 310 ¬± 7 grams in 90% of cases.</b>  <b>The distribution law is considered normal. "</b> <br><br>  It should be said that the condition was not pulled out of the Internet or overlooked on any resource of entertaining tasks, but came from a very good friend who is an engineer in production organization and production management at a well-known confectionery factory.  That is, the task has a very real origin, and its solution has practical benefits. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I suggested that readers solve the problem on their own and should say that they did it better than me.  In my own decision, I made the wrong assumption. <br><a name="habracut"></a><br><h1>  1. Conventions </h1><br>  Let's agree to designate in big letters the parameters for the box and small ones for the candies. <br>  Let him <img src="https://habrastorage.org/files/60f/baf/273/60fbaf273e744f1389ae94e3746122c0.gif">  and <img src="https://habrastorage.org/files/487/63c/4d2/48763c4d25e84a21a36a948c9def0a90.gif">  - respectively, the net weight of the box and its tolerance, such that <img src="https://habrastorage.org/files/8a0/0e1/97c/8a00e197c6554b4a9b876e3a124bdd6a.gif">  percent of cases it does not go beyond <img src="https://habrastorage.org/files/f3d/adf/92b/f3dadf92b4804421ba14794b26ead0e0.gif">  . <br>  Let him <img src="https://habrastorage.org/files/9a9/424/b12/9a9424b126df4a81bd6be2a6befa273c.gif">  and <img src="https://habrastorage.org/files/1f1/a40/62d/1f1a4062d19a4338981ce6706d672948.gif">  - respectively, the mass of candy and its tolerance, such that <img src="https://habrastorage.org/files/c92/976/e28/c92976e28b3849fbbf725da66796b97e">  percent of cases it does not go beyond <img src="https://habrastorage.org/files/ba1/f8e/d02/ba1f8ed0287844429c952f3433429ec9.gif">  . <br>  The number of candies in the box <img src="https://habrastorage.org/files/805/dd5/53f/805dd553f8a541069d6eb5c511a49c25.gif">  . <br><br><h1>  2. Normal distribution </h1><br>  The normal distribution is described by the Gauss function: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/59f/317/873/59f3178730a9463aabcd0784ab39771b.gif"></div><br>  where <img src="https://habrastorage.org/files/a19/b56/449/a19b56449f58484991d448a1b9677ce6.gif">  - expected value, <img src="https://habrastorage.org/files/687/bb5/ceb/687bb5cebdc64b969f1b1938b270d411">  - standard deviation whose square <img src="https://habrastorage.org/files/76a/d53/536/76ad535360344a45a548cb8e294b8d87.gif">  - called dispersion. <br><br>  In the case of candy <img src="https://habrastorage.org/files/131/2e6/fa8/1312e6fa854b470c9358fe27a59d8e32.gif">  a <img src="https://habrastorage.org/files/fe3/fed/e87/fe3fede87f0d4fc29295d41b84c3c87b.gif">  , so: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/653/804/f44/653804f44f06444ca7fe1722a9e00d0e.gif"></div><br>  In the case of a box of chocolates <img src="https://habrastorage.org/files/5a4/03b/298/5a403b298a6f487c9e1ce0eee2267470.gif">  a <img src="https://habrastorage.org/files/1df/c79/244/1dfc79244e0c45d4b6f382bea985c152.gif">  : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/243/3a6/747/2433a674721c46c9b5eb412f5985863d.gif"></div><br>  Probability <img src="https://habrastorage.org/files/c92/976/e28/c92976e28b3849fbbf725da66796b97e">  the fact that the mass of candy will not go beyond <img src="https://habrastorage.org/files/ba1/f8e/d02/ba1f8ed0287844429c952f3433429ec9.gif">  equals: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1b7/357/513/1b73575136174a4f98129fb54fef2339.gif"></div><br>  Probability <img src="https://habrastorage.org/files/8a0/0e1/97c/8a00e197c6554b4a9b876e3a124bdd6a.gif">  the fact that the net box will not go beyond <img src="https://habrastorage.org/files/f3d/adf/92b/f3dadf92b4804421ba14794b26ead0e0.gif">  equals: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/63c/c1a/abe/63cc1aabe64f4ddc9c2f64262d8e4a53.gif"></div><br>  The figure below illustrates all of the above: <br><br><img src="https://habrastorage.org/files/139/cce/65b/139cce65bac54d9d8841d990405c42dd.png"><br>  Find the probability for the candy: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/29b/e3c/56e/29be3c56e4194a7ba86977c439580dee.gif"></div><br>  where <img src="https://habrastorage.org/files/169/7c0/576/1697c0576d2a45d79d25cd08acb667f6.gif">  - distribution function, and <img src="https://habrastorage.org/files/5ea/923/8f0/5ea9238f0e2745c3a65143d1b8849043.gif">  - error function. <br><br>  Thus for candy: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/4d8/749/a54/4d8749a541c741039eecc0df5b365f2b.gif"></div><br>  Similarly for the box: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ced/977/d26/ced977d26d7d40809733c6f44b32bcf7.gif"></div><br><br>
<h1>  3. Central limit theorem </h1><br>  From the central limit theorem, it follows that if there are independent random variables: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bdb/c4d/6fe/bdbc4d6fe737458badf54783b9c5484b.gif"></div><br>  , their sum is: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/355/ca9/7da/355ca97da239403d96328e3f03ebb12b.gif"></div><br>  will have the parameters: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/3cb/4db/73a/3cb4db73acc84d98a053c1b318c01fde.gif"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1d2/73b/2b3/1d273b2b352545839be405d1e46a9ce5.gif"></div><br>  In relation to our situation, we have: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/ea2/f1d/6f9/ea2f1d6f9394483eaf11c3d19ca700df.gif"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/076/0a0/1fd/0760a01fd82e458ab67d7c670731b1cd.gif"></div><br><br><h1>  4. Probabilities and my mistake </h1><br>  I mistakenly thought that the cumulative probability for a box is equal to the product of probabilities for individual candies.  In other words: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b90/e0a/b7e/b90e0ab7eb5345bbadd57ecc430c1527.gif"></div><br>  from where <br><div style="text-align:center;"><img src="https://habrastorage.org/files/3a7/f47/95d/3a7f4795d79a469ba382c5a3a4cd19d2.gif"></div><br>  The result was a system of equations: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ede/12a/898/ede12a89838046488219b66460413b11.gif"></div><br>  Deciding her relatively <img src="https://habrastorage.org/files/68a/82e/2a8/68a82e2a87684afca16d904e2ee811b3.gif">  : <br><div style="text-align:center;"><img src="https://habrastorage.org/files/6b1/656/197/6b1656197e4e4149b72dee0bf9234502.gif"></div><br>  brought: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/c8f/bdf/49c/c8fbdf49c49c42d085af5bde442275e8.gif"></div><br>  where <img src="https://habrastorage.org/files/8f1/c6b/b04/8f1c6bb04d204113a54bacb72b518bc1.gif">  - the inverse function of errors and found quite specific numbers: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e26/9e2/4d7/e269e24d7532421e8dea07d992ac4c10.gif"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a51/bdf/9f1/a51bdf9f1788464ca9d26783772fb616.gif"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/df6/18f/779/df618f7796cf4ae5b66f2424cce7604c.gif"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8c7/dcd/c52/8c7dcdc52a2d49cfaf0320a52ea82757.gif"></div><br>  I justified such a decision as follows: it is necessary that the mass of candy does not go beyond 25.8333 ¬± 3.2212 in 99.13% of cases (1 to 115).  And although this answer is not contradictory, the truth is that only <img src="https://habrastorage.org/files/68a/82e/2a8/68a82e2a87684afca16d904e2ee811b3.gif">  is the right answer.  Since with such a smaller standard deviation, we do not need to discard anything, which many readers hinted to me for a long time and were right. <br><br><h1>  5. Verification </h1><br>  As without her.  Checkout cooked up in the lab.  In short, we create 1000000 sweets with the found parameters according to the normal law.  In a random (equiprobable) way, we form 1,000,000 groups of them (count boxes) of 12 pieces of them.  We check the number of such groups that did not go beyond 310 ¬± 7 and divide by the total, thus obtaining the same probability for the box.  And so 1000 times. <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre><code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">% Number of candys nC = 1000000 ; % Mass deviation of a single candy mC = normrnd ( m , s , 1 , nC ) ; % Number of candys in the box n = 12 ; % Number of boxes nB = 1000000 ; % Number of experiments nE = 1000; pB = zeros ( 1, nE ); for k = 1 : nE % Random index of n candys i = random ( 'unid' , nC , nB, n ) ; % The mass of each boxes j = 1 : nB ; mB = sum ( mC ( i ( j , : ) ) , 2 )' ; % Mask boxes that out of range mask = ( mB &lt; M + dM ) .* ( mB &gt; M - dM ); % Probability of out of the range pB ( k ) = sum ( mask ) / nB; end</span></span></code> </pre> </div></div><br>  The result was such a beautiful schedule: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b30/d80/444/b30d80444742432ba744e17fb9a2f4ae.png"></div><br>  I dare to suggest that 1 million boxes are few and if we rush them to infinity, our probabilities will be exactly 90%. <br><br>  Much more interesting is the case when the candy dispenser has a constant standard deviation, which is more than 1.2285 and you need to find the same boundaries. <img src="https://habrastorage.org/files/ba1/f8e/d02/ba1f8ed0287844429c952f3433429ec9.gif">  , above which, given <img src="https://habrastorage.org/files/68a/82e/2a8/68a82e2a87684afca16d904e2ee811b3.gif">  Candy must be discarded to meet the same conditions.  This is a much more difficult task, to which I may devote another article. </div><p>Source: <a href="https://habr.com/ru/post/267777/">https://habr.com/ru/post/267777/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267767/index.html">DropBox distributes place to students / teachers 2</a></li>
<li><a href="../267769/index.html">Attach files to comments</a></li>
<li><a href="../267771/index.html">Nothing is easier than calling a function; I myself have done this repeatedly.</a></li>
<li><a href="../267773/index.html">Modification of the system call. Part 2</a></li>
<li><a href="../267775/index.html">"Front-end Bookshelf" - like google, only better</a></li>
<li><a href="../267779/index.html">Create a REST service on Rust. Part 3: update the database from the console</a></li>
<li><a href="../267781/index.html">C ++ module support in Visual Studio 2015 Update 1</a></li>
<li><a href="../267785/index.html">Go, practice asynchronous interaction</a></li>
<li><a href="../267789/index.html">Flying panels flew away from us ... About navigation and the "Back" button in C # / XAML applications in Windows 10</a></li>
<li><a href="../267791/index.html">Virtual quadrocopter on Unity + OpenCV (Part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>