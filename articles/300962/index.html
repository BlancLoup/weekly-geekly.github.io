<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reagent implementation in iOS application architecture</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most articles on functional-reactive programming are limited to demonstrating the capabilities of a particular tool in a particular task and do not pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reagent implementation in iOS application architecture</h1><div class="post__text post__text-html js-mediator-article">  Most articles on functional-reactive programming are limited to demonstrating the capabilities of a particular tool in a particular task and do not provide an understanding of how to use all the power within the whole project. <br><br>  I would like to share design experience using functionally reactive programming for iOS.  It does not depend on the selected tool, be it <a href="https://github.com/ReactiveCocoa/ReactiveCocoa">RAC</a> , <a href="https://github.com/ReactiveX/RxSwift">RxSwift</a> , <a href="https://github.com/JensRavens/Interstellar">Interstellar</a> or something else.  This also applies when developing for MacOS. <br><br>  At certain points I will write using Swift + RAC4, since these are my main tools at the moment.  However, I will not use the terminology and features of RAC4 in the article. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Maybe you abandoned reactive programming in vain and it's time to start using it? <a name="habracut"></a><br><br>  For a start, briefly about the myths among people who have only heard and heard about the reagent are not very good: <br><br><h3>  Myth 1 - The threshold for entering reactive programming is too high. </h3><br>  Nobody says that you need to use all available opportunities from the first minutes.  You just need to understand the concept and basic basic operators (below I will write about 4 minimally necessary operators, and you will come to the rest as you solve various kinds of tasks). <br>  You do not need to spend months and years on this, several days / weeks are enough (depending on the background), and if you have an experienced team, entry will be much faster. <br><br><h3>  Myth 2 - reagent is used only in the UI layer. </h3><br>  The reagent is convenient to use in business logic, and below I will show what we will get from this. <br><br><h3>  Myth 3 - the reactive code is very difficult to read and disassemble. </h3><br>  It all depends on the level of written code.  With proper separation of the system, this increases the understanding of the code. <br>  Moreover, it is not much more difficult than using a lot of kalbek. <br>  And you can almost always write unreadable code. <br><br><h1>  Reagent concept </h1><br>  The process of writing a reactive code is similar to a children's trickle game.  We create a path for water and only then we launch water.  Water in our case is the calculation.  Network request, getting data from the database, getting coordinates and many other things.  The path for water in this case is signals. <br><br>  So, the signal is the main building block containing some calculations.  Above the signals, in turn, certain operations can be performed.  By applying the operation to the signal, we get a new signal, which includes previous configurations. <br><br>  By applying signal operations and combining with other signals, we create a data stream for calculations (dataflow).  All this thread starts its execution at the moment of subscribing to a signal, which is <b>similar</b> to lazy calculations.  This makes it possible to more finely control the start time of the execution and subsequent actions.  Our code is divided into logical parts (which increases readability), and we get the opportunity to create new ‚Äúmethods‚Äù literally ‚Äúon the fly‚Äù, which increases the reusability of the code in the system.  Looks like a higher order function, isn't it? <br><br>  For the first time, the minimum required operations for configuring dataflow should be <a href="http://reactivex.io/documentation/operators/flatmap.html">mapping</a> , <a href="http://reactivex.io/documentation/operators/filter.html">filter</a> , <a href="http://reactivex.io/documentation/operators/flatmap.html">flatMap</a> and <a href="http://reactivex.io/documentation/operators/combinelatest.html">combineLatest</a> . <br>  And finally, a small feature, dataflow, is <u>data + errors</u> , which makes it possible to describe a sequence of actions in 2 directions. <br><br>  This is the minimum necessary theory. <br><br><h1>  Reagent and modular architecture </h1><br>  Take <a href="https://habrahabr.ru/company/redmadrobot/blog/246551/">SOA as an</a> example, but of course this does not limit you in any way. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8f3/23d/828/8f323d828a0c42c8a29e7c83bf94163e.png"></div><br><br>  The scheme used may differ from others or be the same; I do not pretend to be a standard, just as I do not pretend to be universal.  In most of our tasks, we adhere to this solution, hiding behind the service the data processing (and this does not necessarily have to be network requests). <br><br><h2>  Transport </h2><br>  So this is our first challenger for reactivity.  Therefore, I will focus on this place in more detail. <br>  First, let's take a look at typical solutions to this problem: <br><br><div class="spoiler">  <b class="spoiler_title">Use of 2 kalbek</b> <div class="spoiler_text"><pre><code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">EmptyClosure</span></span> = () -&gt; () <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getReguestJSON</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(urlPath: String, parameters: [String : AnyObject]?, success: EmptyClosure, failed: EmptyClosure)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">NSURLSessionTask</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Using 1st kalbek</b> <div class="spoiler_text"><pre> <code class="hljs swift"> <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">Response</span></span> = (data: <span class="hljs-type"><span class="hljs-type">NSData?</span></span>, code: <span class="hljs-type"><span class="hljs-type">Int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">Result</span></span> = (response: <span class="hljs-type"><span class="hljs-type">Response</span></span>, failed: <span class="hljs-type"><span class="hljs-type">NSError?</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getReguestJSON</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(urlPath: String, parameters: [String : AnyObject]?, result: Result)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">NSURLSessionTask</span></span></code> </pre><br></div></div><br>  Both solutions have their advantages and disadvantages.  Consider both solutions within the scope of the task: show the loader for the duration of the network request. <br>  In the first case, we clearly separate the actions to the success and failure of the action, however, we will duplicate the code indicating the completion of the action. <br>  In the second case, we don‚Äôt need to duplicate the code, but we mix everything into one pile. <br><br>  And you also need the ability to cancel the network request, and + you would need to encapsulate the work of the Transport. <br>  Most likely, in this case, our code will look like <br><br><div class="spoiler">  <b class="spoiler_title">like this:</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Disposable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dispose</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> } <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">Response</span></span> = (data: <span class="hljs-type"><span class="hljs-type">NSData?</span></span>, code: <span class="hljs-type"><span class="hljs-type">Int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">Result</span></span> = (response: <span class="hljs-type"><span class="hljs-type">Response</span></span>, failed: <span class="hljs-type"><span class="hljs-type">NSError?</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getReguestJSON</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(urlPath: String, parameters: [String : AnyObject]?, result: Result)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Disposable?</span></span> ... ... ... <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">EmptyClosure</span></span> = () -&gt; () <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getReguestJSON</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(urlPath: String, parameters: [String : AnyObject]?, success: EmptyClosure, failed: EmptyClosure)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Disposable?</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Now look at the solution using signals</b> <div class="spoiler_text"><pre> <code class="hljs swift"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRequestJSON</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(urlPath: String, parameters: [String : String])</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">SignalProducer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Response</span></span>, <span class="hljs-type"><span class="hljs-type">NSError</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">SignalProducer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Response</span></span>, <span class="hljs-type"><span class="hljs-type">NSError</span></span>&gt; { observer, disposable <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> task = ... { observer.sendNext(data: data, code: code) observer.sendCompleted() <span class="hljs-comment"><span class="hljs-comment">//or observer.sendFailed(error) } disposable.addDisposable { task.cancel() } } }</span></span></code> </pre> <br></div></div><br>  Earlier, I deliberately missed one important point - when creating a signal, we not only write what to do when subscribing to a signal, but also what to do when the signal is canceled. <br>  Signing to a signal returns an instance of the class Disposable (not written above, more), which allows you to cancel the signal. <br><br><div class="spoiler">  <b class="spoiler_title">Example code</b> <div class="spoiler_text"><pre> <code class="hljs haskell"> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> disposable = getRequestJSON(url, parameters: parameters) //  .startWithNext { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">, code in ... ... ... } //   startWithNext    disposable.dispose() //  </span></span></code> </pre><br></div></div><br>  Now the callee can easily postpone the execution of the request, combine the result with other requests, write some actions on the signal events (from the example above to complete the request), as well as what to do when receiving data and what to do when an error occurs. <br><br>  But before demonstrating such a code, I would like to talk about such a concept as <br><br><h2>  Side effect </h2><br>  Even if you did not come across this concept, then 100% of it was observed (or you came here by chance). <br>  In simple terms, this is when our computational flow depends on its environment and changes it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/daa/fc5/e02/daafc5e023b0435ba8910bd695d4ac21.jpg"></div><br><br>  We try to write signals as a separate part of the code, thereby increasing its possible re-usability. <br>  However, side effects are sometimes necessary and there is nothing terrible about it.  Consider in the figure how we can use Side Effect in reactive programming: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/5b9/1ed/aff/5b91edaffb5b4e04bbaeed7fa66a3234.png"></div><br><br>  Very simple, isn't it?  We wedge between the execution of signals and perform certain actions.  In essence, we perform actions on certain signal events.  But at the same time, we keep the signals still clean and ready for reuse. <br><br>  For example, from a previously created task: ‚ÄúShow loader at start of signal and remove at completion‚Äù. <br><br><h2>  Parsing </h2><br><br>  Recall a typical situation - the data from the server either came in the correct or in the wrong format.  Solutions: <br>  1) Kalbeki "data + error" <br>  2) Apple's approach using NSError + &amp; <br>  3) try-catch <br><br>  And what can the reagent give us? <br>  Let's create a signal in which we will parse the response from the server and issue the result in certain events (next / failed). <br>  Using the signal will make it possible to more clearly see the operation of the code + combine work with the network request signal.  But is it worth it? <br><br><div class="spoiler">  <b class="spoiler_title">Example</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArticleSerializer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deserializeArticles</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: NSData?, code: Int)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">SignalProducer</span></span>&lt;[<span class="hljs-type"><span class="hljs-type">Article</span></span>], <span class="hljs-type"><span class="hljs-type">NSError</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">SignalProducer</span></span>&lt;[<span class="hljs-type"><span class="hljs-type">Article</span></span>], <span class="hljs-type"><span class="hljs-type">NSError</span></span>&gt; { observer, <span class="hljs-number"><span class="hljs-number">_</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ... ... ... } }</code> </pre><br></div></div><br><br><h1>  Services </h1><br><br>  Combine the network request, parsing and add the ability to save the result of parsing in the <a href="https://en.wikipedia.org/wiki/Data_access_object">DAO</a> . <br><br><div class="spoiler">  <b class="spoiler_title">code example</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArticleService</span></span></span><span class="hljs-class"> </span></span>{ ... ... ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">downloadArticles</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">SignalProducer</span></span>&lt;[<span class="hljs-type"><span class="hljs-type">Article</span></span>], <span class="hljs-type"><span class="hljs-type">NSError</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> url = resources.articlesPath <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> request = transport.getRequestJSON(url, parameters: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) .flatMap(.<span class="hljs-type"><span class="hljs-type">Latest</span></span>, transform: serializer.deserializeArticles) .on(next: dao.save) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> request }</code> </pre><br></div></div><br><br>  No nesting, everything is very simple and easy to read.  Generally a very consistent code, is not it?  And it will remain as simple, even if the signals will be executed on different threads.  By the way, consider using combineLatest: <br><div class="spoiler">  <b class="spoiler_title">Synchronizing parallel queries</b> <div class="spoiler_text"><pre> <code class="hljs ruby">userService.downloadRelationshipd() /<span class="hljs-regexp"><span class="hljs-regexp">/    .combineLatestWith(inviteService.downloadInvitation()) /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    +   .observeOn(UIScheduler()) /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      (    ) .startWithNext { users, invitations in /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    }</span></span></code> </pre><br></div></div><br>  It is worth noting that the code written above will not be executed until it is started by subscribing to the signal.  In fact, we only indicate actions. <br><br>  And now services have become even more transparent.  They only interconnect parts of the business logic (including other services) and return the dataflow of these connections.  A person using the received signal can very quickly add reaction to events or combine them with other signals. <br><br><h2>  And also ... </h2><br><br>  But all this would not be so interesting if it were not for a lot of operations on signals. <br>  Establish a delay, repeat the result, various combining systems, setting the result to be received on a certain flow, convolutions, generators ... Just look at this <a href="http://reactivex.io/documentation/operators.html">list</a> . <br><br>  Why did I not talk about working with UI and binding, which for many is the most "juice"? <br>  This is a topic for a separate article, and there are already quite a lot of them, so I‚Äôll just give a couple of links and finish <br><br>  <a href="https://habrahabr.ru/post/215033/">Better world with ReactiveCocoa</a> <br>  <a href="https://habrahabr.ru/post/278817/">ReactiveCocoa.</a>  <a href="https://habrahabr.ru/post/278817/">Concurrency.</a>  <a href="https://habrahabr.ru/post/278817/">Multithreading</a> <br><br>  I have it all.  Instead of a useless conclusion, I will leave a few practical conclusions from the last project: <br>  1) Getting the Permission has proven itself as a good signal. <br>  2) CLLocationManager behaved perfectly with signals.  Especially the accumulation and editing of points. <br>  3) It was also convenient to work with signals for such actions as: choosing a photo, sending an SMS and sending an email. </div><p>Source: <a href="https://habr.com/ru/post/300962/">https://habr.com/ru/post/300962/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../300952/index.html">Multithreading in PHP: pthreads</a></li>
<li><a href="../300954/index.html">Writing a forum from scratch on Ruby on Rails and AngularJS</a></li>
<li><a href="../300956/index.html">Lazy event sourcing or how to live for today</a></li>
<li><a href="../30096/index.html">PHP: Reduce outgoing traffic (or reinvent the next bike)</a></li>
<li><a href="../300960/index.html">Snake fruit or fruit python?</a></li>
<li><a href="../300966/index.html">Deep into the core: familiarity with LTTng</a></li>
<li><a href="../300968/index.html">RS232 3-in-1 device for a home Linux server: Part 2 (Server)</a></li>
<li><a href="../30097/index.html">Photo! 3D Screensaver - visit your own photo gallery</a></li>
<li><a href="../300972/index.html">Record of the webinar "Light cloud protection of corporate networks with low total cost of ownership"</a></li>
<li><a href="../300974/index.html">"Astronauts" in Chile: how we did the entire IT infrastructure for four telescopes in the Andes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>