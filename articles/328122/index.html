<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We do GraphQL API on PHP and MySQL. Part 1: Installation, layout and queries</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently I‚Äôve been hearing more and more about GraphQL. And on the Internet you can already find a lot of articles on how to make your GraphQL server....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We do GraphQL API on PHP and MySQL. Part 1: Installation, layout and queries</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/0bc/8d1/715/0bc8d171582548d690cb776d7fb2ae8c.png" alt="image"><br><br>  Recently I‚Äôve been hearing more and more about GraphQL.  And on the Internet you can already find a lot of articles on how to make your GraphQL server.  But almost all of these articles use Node.js as a backend. <br><br>  I have nothing against Node.js and use it myself with pleasure, but nevertheless I do most of the projects in PHP.  In addition, hosting with PHP and MySQL is much cheaper and more affordable than hosting with Node.js.  Therefore, it seems to me not fair that there is almost no word about using GraphQL in PHP on the Internet. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article I want to talk about how to make your GraphQL server in PHP using the <a href="https://github.com/webonyx/graphql-php">graphql-php</a> library and using it to implement a simple API to get data from MySQL. <br><a name="habracut"></a><br>  I decided to abandon the use of any specific PHP framework in this article, but after reading it, it will not be difficult for you to apply this knowledge in your application.  Moreover, some frameworks already have their own graphql-php-based <a href="https://github.com/chentsulin/awesome-graphql">libraries</a> that will facilitate your work. <br><br><h2>  Training </h2><br>  In this article, I will not do the frontend, so for convenient testing of queries to the GraphQL server, I recommend installing the GraphiQL browser extension. <br><br>  For Chrome, these can be: <br><br><ul><li>  <a href="https://chrome.google.com/webstore/detail/chromeiql/fkkiamalmpiidkljmicmjfbieiclmeij">Chromeiql</a> </li><li>  <a href="https://chrome.google.com/webstore/detail/graphiql-feen/mcbfdonlkfpbfdpimkjilhdneikhfklp">GraphiQL Feen</a> </li></ul><br>  You will also need to create tables in the database and fill them with a test dataset. <br><br>  In the table ‚Äúusers‚Äù we will keep a list of users: <br><br> <a href=""><img src="https://habrastorage.org/web/532/d35/ff3/532d35ff3a0d4275956d450bac813d64.png" alt="Table users"></a> <br><br>  And in the ‚Äúfriendships‚Äù table, there are many-to-many connections that will mean friendship between users: <br><br> <a href=""><img src="https://habrastorage.org/web/c64/227/a03/c64227a036ef47bebc6e4eaab5ff4706.png" alt="Friendships table"></a> <br><br>  The database dump, like the rest of the code, can be taken from the <a href="https://github.com/XAHTEP26/graphql-php-tutorial/tree/master/get-data-from-mysql">repository of this article on Github</a> . <br><br><h2>  Hello, GraphQL! </h2><br>  First you need to install <a href="https://github.com/webonyx/graphql-php">graphql-php</a> in our project.  You can do this with composer: <br><br><pre><code class="hljs perl">composer <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> webonyx/graphql-php</code> </pre> <br>  Now, according to tradition, we write ‚ÄúHello, World‚Äù. <br><br>  To do this, create a graphql.php file in the root, which will serve as the endpoint of our GraphQL server. <br><br>  In it we will connect the autoloader composer: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/vendor/autoload.php'</span></span>;</code> </pre> <br>  Connect GraphQL: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">GraphQL</span></span>;</code> </pre> <br>  To force GraphQL to execute a query, it is necessary to transfer the query and the data schema to it. <br><br>  To receive a request, we write the following code: <br><br><pre> <code class="php hljs">$rawInput = file_get_contents(<span class="hljs-string"><span class="hljs-string">'php://input'</span></span>); $input = json_decode($rawInput, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); $query = $input[<span class="hljs-string"><span class="hljs-string">'query'</span></span>];</code> </pre> <br>  To create a scheme, first connect GraphQL \ Schema: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Schema</span></span>;</code> </pre> <br>  The schema constructor accepts an array in which the Query root data type must be specified, which serves to read the data of your API, so we first create this type. <br><br><div class="spoiler">  <b class="spoiler_title">Note</b> <div class="spoiler_text">  <i>Also, the schema may contain the optional Mutation root data type, which provides an API for writing data, but will not be considered in this article.</i> <br></div></div><br>  In the simplest case, the Query data type must be an instance of the ObjectType class, and its fields must be of simple types (for example, int or string), so we include classes that provide these data types in GraphQL: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">ObjectType</span></span>;</code> </pre> <br>  And create the Query data type: <br><br><pre> <code class="php hljs">$queryType = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ObjectType([ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Query'</span></span>, <span class="hljs-string"><span class="hljs-string">'fields'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'hello'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Type::string(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'resolve'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">', GraphQL!'</span></span>; } ] ] ]);</code> </pre> <br>  As you can see, the data type must contain a name (name) and an array of fields (fields), and you can also specify an optional description. <br><br><div class="spoiler">  <b class="spoiler_title">Note</b> <div class="spoiler_text">  <i>Also, the data type may contain the ‚Äúinterfaces‚Äù, ‚ÄúisTypeOf‚Äù and ‚ÄúresolveField‚Äù properties, but we will not consider them in this article.</i> <br></div></div><br>  Data type fields must also have the required properties "name" and "type".  If the ‚Äúname‚Äù property is not specified, then the field key (in this case, ‚Äúhello‚Äù) is used as the name.  Also in our example, the ‚Äúhello‚Äù field has the optional properties ‚Äúdescription‚Äù - the description and ‚Äúresolve‚Äù - the function that returns the result.  In this case, the ‚Äúresolve‚Äù function simply returns the string " <i>Hello, GraphQL!</i> ", But in a more complicated situation, it can retrieve any information on the API or from the database and process it. <br><br><div class="spoiler">  <b class="spoiler_title">Note</b> <div class="spoiler_text">  <i>Also, the fields can contain the args property, which will be discussed in the article later, and the deprecationReason property, which is not covered in this article.</i> <br></div></div><br>  Thus, we have created the root data type ‚ÄúQuery‚Äù, which contains only one ‚Äúhello‚Äù field, which returns a simple string of text.  Let's add it to the data schema: <br><br><pre> <code class="php hljs">$schema = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Schema([ <span class="hljs-string"><span class="hljs-string">'query'</span></span> =&gt; $queryType ]);</code> </pre> <br>  And then execute the GraphQL query to get the result: <br><br><pre> <code class="php hljs">$result = GraphQL::execute($schema, $query);</code> </pre> <br>  It remains only to output the result in the form of JSON and our application is ready: <br><br><pre> <code class="php hljs">header(<span class="hljs-string"><span class="hljs-string">'Content-Type: application/json; charset=UTF-8'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> json_encode($result);</code> </pre> <br>  We wrap the code in a try-catch block, for error handling, and as a result, the code of the graphql.php file will look like <br><br><div class="spoiler">  <b class="spoiler_title">graphql.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/vendor/autoload.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">GraphQL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Schema</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">ObjectType</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   $rawInput = file_get_contents('php://input'); $input = json_decode($rawInput, true); $query = $input['query']; //    "" $queryType = new ObjectType([ 'name' =&gt; 'Query', 'fields' =&gt; [ 'hello' =&gt; [ 'type' =&gt; Type::string(), 'description' =&gt; ' ', 'resolve' =&gt; function () { return ', GraphQL!'; } ] ] ]); //   $schema = new Schema([ 'query' =&gt; $queryType ]); //   $result = GraphQL::execute($schema, $query); } catch (\Exception $e) { $result = [ 'error' =&gt; [ 'message' =&gt; $e-&gt;getMessage() ] ]; } //   header('Content-Type: application/json; charset=UTF-8'); echo json_encode($result);</span></span></code> </pre> <br></div></div><br>  Check the work GraphQL.  To do this, run the extension for GraphiQL, set the endpoint (in my case this is ‚Äú <a href="http://localhost/graphql.php">localhost / graphql.php</a> ‚Äù) and execute the query: <br><br> <a href=""><img src="https://habrastorage.org/web/77e/f44/80b/77ef4480bf534f05bf88d482b5310ab6.png" alt="Check GraphQL operation"></a> <br><br><h2>  User output from the database </h2><br>  Now let's complicate the task.  Let's display a list of users from the MySQL database. <br><br>  To do this, we need to create another data type for the ObjectType class.  In order not to pile up the code in graphql.php, we will move all data types into separate files.  And so that we have the opportunity to use data types within ourselves, we arrange them in the form of classes.  For example, in the ‚Äúuser‚Äù data type you can add the field ‚Äúfriends‚Äù, which will be an array of users of the same type ‚Äúuser‚Äù. <br><br>  When we design the data type as a class, it is not necessary to specify the name property from it, because it is taken from the class name by default (for example, the QueryType class will have the name Query). <br><br>  Now the root data type is Query, which was in graphql.php: <br><br><pre> <code class="php hljs">$queryType = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ObjectType([ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Query'</span></span>, <span class="hljs-string"><span class="hljs-string">'fields'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'hello'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Type::string(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'resolve'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">', GraphQL!'</span></span>; } ] ] ]);</code> </pre> <br>  It will be in a separate QueryType.php file and look like this: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QueryType</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $config = [ <span class="hljs-string"><span class="hljs-string">'fields'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'hello'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Type::string(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'resolve'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">', GraphQL!'</span></span>; } ] ] ]; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct($config); } }</code> </pre> <br>  And in order to avoid infinite recursion in the future when defining types, in the ‚Äúfields‚Äù property it is better to always specify not an array of fields, but an anonymous function that returns an array of fields: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QueryType</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $config = [ <span class="hljs-string"><span class="hljs-string">'fields'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'hello'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Type::string(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'resolve'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">', GraphQL!'</span></span>; } ] ]; } ]; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct($config); } }</code> </pre> <br>  When developing a project, a lot of data types may appear, so it‚Äôs better for them to create a separate registry that will serve as a factory for all data types, including basic ones, used in the project.  Let's create the App folder, and in it the file, Types.php, which will be the registry for all types of project data. <br><br>  Also in the App folder we will create a Type subfolder in which we will store all our data types and transfer QueryType.php into it. <br><br>  Now add the namespace and fill the Types.php registry with the necessary types: <br><br><div class="spoiler">  <b class="spoiler_title">App / Types.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">QueryType</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Types</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $query; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">query</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$query ?: (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$query = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QueryType()); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Type::string(); } }</code> </pre> <br></div></div><br>  So far in our registry there will be only 2 data types: 1 simple (string) and 1 composite (query). <br><br>  Now in all other files instead of: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>;</code> </pre> <br>  Connect our registry types: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Types</span></span>;</code> </pre> <br>  And replace all the previously specified types of types from the registry. <br><br>  In QueryType.php instead of: <br><br><pre> <code class="php hljs">Type::string()</code> </pre> <br>  Will be: <br><br><pre> <code class="php hljs">Types::string()</code> </pre> <br>  And the graph in graphql.php will now look like this: <br><br><pre> <code class="php hljs">$schema = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Schema([ <span class="hljs-string"><span class="hljs-string">'query'</span></span> =&gt; Types::query() ]);</code> </pre> <br>  To get users from the database, you must provide an interface to access it.  You can receive data from the database in any way.  Each framework has its own tools for this.  For this article, I wrote a simple interface that can connect to the MySQL database and execute queries in it.  Since this does not apply to GraphQL, I will not explain how the methods in this class are implemented, but simply give its code: <br><br><div class="spoiler">  <b class="spoiler_title">App / DB.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DB</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $pdo; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($config)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$pdo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PDO(<span class="hljs-string"><span class="hljs-string">"mysql:host={$config['host']};dbname={$config['database']}"</span></span>, $config[<span class="hljs-string"><span class="hljs-string">'username'</span></span>], $config[<span class="hljs-string"><span class="hljs-string">'password'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$pdo-&gt;setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_OBJ); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">selectOne</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($query)</span></span></span><span class="hljs-function"> </span></span>{ $records = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::select($query); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> array_shift($records); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">select</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($query)</span></span></span><span class="hljs-function"> </span></span>{ $statement = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$pdo-&gt;query($query); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $statement-&gt;fetchAll(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">affectingStatement</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($query)</span></span></span><span class="hljs-function"> </span></span>{ $statement = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$pdo-&gt;query($query); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $statement-&gt;rowCount(); } }</code> </pre> <br></div></div><br>  In the graphql.php file, add the code to initialize the connection to the database: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//     $config = [ 'host' =&gt; 'localhost', 'database' =&gt; 'gql', 'username' =&gt; 'root', 'password' =&gt; 'root' ]; //     DB::init($config);</span></span></code> </pre> <br>  Now in the Type folder, create a User data type that will display user data.  The code for the UserType.php file will be: <br><br><div class="spoiler">  <b class="spoiler_title">App / Type / UserType.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">DB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Types</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">ObjectType</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserType</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $config = [ <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'fields'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Types::string(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> ], <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Types::string(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> ], <span class="hljs-string"><span class="hljs-string">'email'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Types::string(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'E-mail '</span></span> ], <span class="hljs-string"><span class="hljs-string">'friends'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Types::listOf(Types::user()), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'resolve'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($root)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DB::select(<span class="hljs-string"><span class="hljs-string">"SELECT u.* from friendships f JOIN users u ON u.id = f.friend_id WHERE f.user_id = {$root-&gt;id}"</span></span>); } ], <span class="hljs-string"><span class="hljs-string">'countFriends'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Types::int(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'  '</span></span>, <span class="hljs-string"><span class="hljs-string">'resolve'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($root)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DB::affectingStatement(<span class="hljs-string"><span class="hljs-string">"SELECT u.* from friendships f JOIN users u ON u.id = f.friend_id WHERE f.user_id = {$root-&gt;id}"</span></span>); } ] ]; } ]; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct($config); } }</code> </pre> <br></div></div><br>  The meaning of the fields can be understood from their description property.  The ‚Äúid‚Äù, ‚Äúname‚Äù, ‚Äúemail‚Äù and ‚ÄúcountFriends‚Äù properties have simple types, and the ‚Äúfriends‚Äù property is a list of friends of the same users, therefore, it has the type: <br><br><pre> <code class="php hljs">Types::listOf(Types::user())</code> </pre> <br>  You must also add to our registry a couple of basic types that we have not used before: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Type::int(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">listOf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($type)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Type::listOf($type); }</code> </pre> <br>  And just that the User type we created: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $user; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">user</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$user ?: (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$user = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UserType()); }</code> </pre> <br>  Return values ‚Äã‚Äã(resolve) for the properties "friends" and "countFriends" are taken from the database.  The anonymous function in the ‚Äúresolve‚Äù first argument receives the value of the current field ($ root), from which you can find the user id to insert it into the friend list request. <br><br><div class="spoiler">  <b class="spoiler_title">Note</b> <div class="spoiler_text">  <i>I did not pay attention to the screening of requests, because this code was written for educational purposes, but on a real project, of course, this is not possible.</i> <br></div></div><br>  At the end, we will change the QueryType.php code so that the API contains fields for obtaining information about a specific user by his identifier (the ‚Äúuser‚Äù field), as well as for getting a list of all users (the ‚ÄúallUsers‚Äù field): <br><br><div class="spoiler">  <b class="spoiler_title">App / Type / QueryType.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">DB</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Types</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">GraphQL</span></span>\<span class="hljs-title"><span class="hljs-title">Type</span></span>\<span class="hljs-title"><span class="hljs-title">Definition</span></span>\<span class="hljs-title"><span class="hljs-title">ObjectType</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QueryType</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectType</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $config = [ <span class="hljs-string"><span class="hljs-string">'fields'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'user'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Types::user(), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'   id'</span></span>, <span class="hljs-string"><span class="hljs-string">'args'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; Types::int() ], <span class="hljs-string"><span class="hljs-string">'resolve'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($root, $args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DB::selectOne(<span class="hljs-string"><span class="hljs-string">"SELECT * from users WHERE id = {$args['id']}"</span></span>); } ], <span class="hljs-string"><span class="hljs-string">'allUsers'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Types::listOf(Types::user()), <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'resolve'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DB::select(<span class="hljs-string"><span class="hljs-string">'SELECT * from users'</span></span>); } ] ]; } ]; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct($config); } }</code> </pre> <br></div></div><br>  Here, to find out the user ID, the data of which must be obtained, we use the ‚Äúargs‚Äù property in the ‚Äúuser‚Äù field, which contains an array of arguments.  The array ‚Äúargs‚Äù is passed to the anonymous function ‚Äúresolve‚Äù by the second argument, using which we recognize the target user id. <br><br><div class="spoiler">  <b class="spoiler_title">Note</b> <div class="spoiler_text">  <i>Arguments can have their own properties, but in this case I use a simplified form of writing an array of arguments, in which the keys of the array are names, and the values ‚Äã‚Äãare the types of arguments:</i> <br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'args'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; Types::int() ]</code> </pre> <br>  <i>Instead:</i> <br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'args'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; Types::int() ] ]</code> </pre> <br></div></div><br>  Now you can start the GraphQL server and test its operation with the following query: <br><br> <a href=""><img src="https://habrastorage.org/web/421/d7e/8f0/421d7e8f01c246cf8ae69fa15dd02df5.png" alt="Verify GraphQL operation: Get user data"></a> <br><br>  Or so: <br><br> <a href=""><img src="https://habrastorage.org/web/5e0/0e5/144/5e00e51444334aa5bd5a869abc93fe89.png" alt="Verify GraphQL operation: Get user data"></a> <br><br>  Or any other. <br><br><h2>  Conclusion </h2><br>  That's all.  Read the <a href="http://webonyx.github.io/graphql-php/">documentation</a> .  Ask questions in the comments.  Criticize. <br><br>  I also recommend reading the <a href="https://github.com/XAHTEP26/graphql-php-tutorial/tree/master/get-data-from-mysql">source code with comments on Github</a> . <br><br>  Other parts of this article: <br><ol><li>  Installation, layout and queries </li><li>  <a href="https://habrahabr.ru/post/329238/">Mutations, variables, validation and security</a> </li><li>  <a href="https://habrahabr.ru/post/329408/">Problem solving N + 1 queries</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/328122/">https://habr.com/ru/post/328122/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../328112/index.html">How to learn 100 English words per day</a></li>
<li><a href="../328114/index.html">PHDays HackQuest 2017: RanSomWare - a small cryptor on GO</a></li>
<li><a href="../328116/index.html">The story of creating a classic RTS at home from scratch (Part 2: "Resurrection"). Continuation of the article: GUI</a></li>
<li><a href="../328118/index.html">The story of creating a classic RTS at home from scratch (Part 2: "Resurrection") End of article: Network</a></li>
<li><a href="../328120/index.html">Hachim IntegerCache in Java 9</a></li>
<li><a href="../328126/index.html">Parallels Mac Management: Transition Difficulties</a></li>
<li><a href="../328128/index.html">Quake 2 source code overview</a></li>
<li><a href="../328130/index.html">Pygest # 8. Releases, articles, interesting projects from the world of Python [April 11, 2017 - May 7, 2017]</a></li>
<li><a href="../328134/index.html">Recovering data from damaged RAID 5 to Linux NAS</a></li>
<li><a href="../328138/index.html">Neuroculture Part 0. Or neuro-free chicken coop</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>