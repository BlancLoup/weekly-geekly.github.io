<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What is new is waiting for us in Laravel 5.2.23</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Laravel currently has 911 members on GitHub, many of whom are actively adding new features. Let's see what awaits us new in Laravel version 5.2.23, wh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What is new is waiting for us in Laravel 5.2.23</h1><div class="post__text post__text-html js-mediator-article">  Laravel currently has 911 members on GitHub, many of whom are actively adding new features.  Let's see what awaits us new in Laravel version 5.2.23, which is already on the threshold. <br><img src="https://habrastorage.org/files/f6a/778/abd/f6a778abdb6743728cd6cf28e7bccdee.jpg" alt="image"><br><a name="habracut"></a><br><h2>  New in_array validation rule </h2><br>  The validation rules in laravel are amazing things; I personally replaced a bunch of code in some projects with a couple of validation lines. <br>  In 5.2.23 a new rule is added.  It helps to verify that the value of an array element is contained in another array: <br><br><pre><code class="hljs php">Validator::make( [ <span class="hljs-string"><span class="hljs-string">'devices'</span></span> =&gt; [[<span class="hljs-string"><span class="hljs-string">'user_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-string"><span class="hljs-string">'user_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>]], <span class="hljs-string"><span class="hljs-string">'users'</span></span> =&gt; [[<span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, [<span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>]]] ], [<span class="hljs-string"><span class="hljs-string">'devices.*.user_id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'in_array:users.*.id'</span></span>] );</code> </pre> <br>  Here there is a check that all the values ‚Äã‚Äãof user_id for devices correspond to the id keys from the users array. <br><br><h2>  Arr :: first () &amp; Arr :: last () callback is now optional </h2><br>  Previously, callback was required as the second parameter, now it does not: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$array = [<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">300</span></span>]; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      <span class="hljs-number"><span class="hljs-number">100</span></span> Arr::first($array); <span class="hljs-regexp"><span class="hljs-regexp">/**     **/</span></span> array_first($array); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      <span class="hljs-number"><span class="hljs-number">300</span></span> Arr::last($array); <span class="hljs-regexp"><span class="hljs-regexp">/**    **/</span></span> array_last($array); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   ( )     <span class="hljs-number"><span class="hljs-number">200</span></span> Arr::first($array, function ($key, $value) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $value &gt;= <span class="hljs-number"><span class="hljs-number">150</span></span>; });</code> </pre> <br><h2>  Specifying more than one middleware at a time </h2><br>  In the controller, now when specifying a broker, you can set several at once in one line. <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;middleware([<span class="hljs-string"><span class="hljs-string">'auth'</span></span>, <span class="hljs-string"><span class="hljs-string">'subscribed'</span></span>], [<span class="hljs-string"><span class="hljs-string">'only'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'getCandy'</span></span>]]);</code> </pre> <br><h2>  New Blade <a href="https://habrahabr.ru/users/php/" class="user_link">php</a> , @endphp, and <a href="https://habrahabr.ru/users/unset/" class="user_link">unset</a> directives </h2><br>  The <a href="https://habrahabr.ru/users/php/" class="user_link">php</a> directive allows you to write PHP expressions like this: <br><br><pre> <code class="hljs perl">@php($count = <span class="hljs-number"><span class="hljs-number">1</span></span>) @php(++ $count) @php $now = new DateTime(); $environment = isset($env) ? $env : <span class="hljs-string"><span class="hljs-string">"testing"</span></span>; @enphp</code> </pre> <br>  <a href="https://habrahabr.ru/users/unset/" class="user_link">unset</a> is just a wrapper for unset (). <br><br><pre> <code class="hljs perl">@unset($count)</code> </pre> <br><h2>  Ability to override basic Blade directives </h2><br>  Prior to version 5.2.23, it was impossible to expand Blade and override the main directives, now any of your extensions can override any directive. <br><br><h2>  New mail driver for SparkPost </h2><br><img src="https://habrastorage.org/files/331/1bc/ef2/3311bcef2c6b42fc924b88b1dbf9377d.jpg"><br><br><h2>  New monthlyOn () method for describing scheduled tasks </h2><br><pre> <code class="hljs php">$schedule-&gt;call(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ DB::table(<span class="hljs-string"><span class="hljs-string">'shopping_list'</span></span>)-&gt;delete(); })-&gt;monthlyOn(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'12:00'</span></span>);</code> </pre> <br><h2>  New method app () -&gt; isLocale () </h2><br><pre> <code class="hljs pgsql">//   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (app()-&gt;getLocale() == <span class="hljs-string"><span class="hljs-string">'en'</span></span>) //   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (app()-&gt;isLocale(<span class="hljs-string"><span class="hljs-string">'en'</span></span>))</code> </pre> <br><h2>  Samples for JSON fields in MySQL 5.7 using query builder </h2><br>  In MySQL 5.7, a new column type appeared - JSON. In Laravel 5.2.23, you can make selections for these fields as freely as usual. <br><br>  Imagine that we have a users table with a column name of type JSON, the field contains type values: <br><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"en"</span></span>:<span class="hljs-string"><span class="hljs-string">"name"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"ar"</span></span>:<span class="hljs-string"><span class="hljs-string">"nom"</span></span>}</code> </pre> <br>  Now you can make a similar condition <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">User</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">where</span></span>(<span class="hljs-string"><span class="hljs-string">'name-&gt;en'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>)-&gt;<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(); //    <span class="hljs-type"><span class="hljs-type">JSON</span></span>     `-&gt;`. <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">where</span></span>(<span class="hljs-string"><span class="hljs-string">'contacts-&gt;phone-&gt;home'</span></span>, <span class="hljs-number"><span class="hljs-number">1234</span></span>);</code> </pre> <br><h2>  New methods for testing seeElement () and dontSeeElement () </h2><br>  If the page has such an element <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  You can check its availability with the following test: <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;seeElement(<span class="hljs-string"><span class="hljs-string">'image'</span></span>, [<span class="hljs-string"><span class="hljs-string">'width'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-string"><span class="hljs-string">'height'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">50</span></span>]);</code> </pre> <br>  Or check the absence of the element with the video class <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;dontSeeElement(<span class="hljs-string"><span class="hljs-string">'image'</span></span>, [<span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'video'</span></span>]);</code> </pre> <br><h2>  Little known buns </h2><br>  Did you know that you can already do that? <br><br><pre> <code class="hljs php">User::whereNameAndEmail(<span class="hljs-string"><span class="hljs-string">'jon'</span></span>, <span class="hljs-string"><span class="hljs-string">'jon@theWall.com'</span></span>)-&gt;first(); User::whereNameAndEmailOrPhone(<span class="hljs-string"><span class="hljs-string">'jon'</span></span>, <span class="hljs-string"><span class="hljs-string">'jon@theWall.com'</span></span>, <span class="hljs-string"><span class="hljs-string">'123321'</span></span>)-&gt;first(); DB::table(<span class="hljs-string"><span class="hljs-string">'users'</span></span>)-&gt;whereEmailOrUsername(<span class="hljs-string"><span class="hljs-string">'mail@mail.com'</span></span>, <span class="hljs-string"><span class="hljs-string">'themsaid'</span></span>)-&gt;first();</code> </pre> </div><p>Source: <a href="https://habr.com/ru/post/278935/">https://habr.com/ru/post/278935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278921/index.html">SQL engine for generating reports. Solution Draft</a></li>
<li><a href="../278925/index.html">Minor update of SBM version 11.01</a></li>
<li><a href="../278929/index.html">Software-defined data center: why is it necessary in the practice of the sysadmin</a></li>
<li><a href="../278931/index.html">What a programmer should be able to get a job in finance</a></li>
<li><a href="../278933/index.html">Bulletin MS16-023: When a critical Windows security update affects more than just security</a></li>
<li><a href="../278937/index.html">Testing Bash Applications</a></li>
<li><a href="../278939/index.html">Our experience with Docker</a></li>
<li><a href="../278941/index.html">How our testing is arranged and why QA participates in the formulation of problems to our developers</a></li>
<li><a href="../278943/index.html">OpenConfig - a standardized approach to configuring network equipment</a></li>
<li><a href="../278945/index.html">Android runtime permissions. Why, why, and how</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>