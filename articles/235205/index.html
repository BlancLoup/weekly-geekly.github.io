<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Small utility for CoffeeScript developer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CoffeeScript is truly an amazing language that allows you to look at JavaScript from a completely different and much more attractive side. A long time...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Small utility for CoffeeScript developer</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/de5/e4a/985/de5e4a98504441f497809e035f923d93.jpg" align="left">  CoffeeScript is truly an amazing language that allows you to look at JavaScript from a completely different and much more attractive side.  A long time ago, when I was just starting to engage in the front-end - I was literally forced into writing snares on it (corporate standard), but now I cannot write in the original language. <br><br>  For the time (more than two years), spent at the helm of this preprocessor, has accumulated quite a lot of "hoteles" that I would like to see in JS (the benefit is the experience of communicating with other languages), some of which I managed to put into practice, sometimes clumsily, but as it is - CoffeeScript allows you to almost invent your designs.  I also want to tell about these "hotelkeepers" in article, I ask under kat. <br><a name="habracut"></a><br><h3>  Namespaces </h3><br>  The first thing I would like to see is the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE_%25D0%25B8%25D0%25BC%25D1%2591%25D0%25BD_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">namespace</a> .  What developer does not want to see neatly located code not only in the file system, but also in the class hierarchy?  Googling prompted several solutions, and the most elegant was the use of object literals as space names: <br><br><pre><code class="coffeescript hljs">namespace MyApplication:Some: <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Any</span></span></span><span class="hljs-class"> #      </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">window</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyApplication</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Any</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">namespace</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">global</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class"> #      </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">window</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span></span></code> </pre> <br>  The following happens: We call the <code>namespace</code> function and send <code>{MyApplication:{Some: _}}</code> object there <code>{MyApplication:{Some: _}}</code> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The only "but" - <a href="https://github.com/MaksJS/Namespace-in-CoffeeScript/blob/master/src/namespace.coffee">this solution</a> had some problems, namely - it required a strict sequence of connecting files (first with the MyApplication space, then with MyApplication.Some, etc.), as well as hardcore regulars with the receipt of the class name.  I tried to get rid of their <a href="http://lurkmore.to/%25D0%25A4%25D0%25B0%25D1%2582%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BD%25D0%25B5%25D0%25B4%25D0%25BE%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D0%25BE%25D0%25BA">fatal flaws</a> , and the result was the following code: <br><br><pre> <code class="coffeescript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.namespace = <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> args = arguments[<span class="hljs-number"><span class="hljs-number">0</span></span>] target = <span class="hljs-built_in"><span class="hljs-built_in">global</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> subpackage, obj <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> args target = target[subpackage] <span class="hljs-keyword"><span class="hljs-keyword">or</span></span>= {} args = obj <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unless</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> args <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">'object'</span></span> Class = args target = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> arguments[<span class="hljs-number"><span class="hljs-number">0</span></span>].hasOwnProperty <span class="hljs-string"><span class="hljs-string">'global'</span></span> name = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !Class.name? <span class="hljs-comment"><span class="hljs-comment"># IE Fix args.toString().match(/^function\s(\w+)\(/)[1] else Class.name proto = target[name] or undefined target[name] = Class if proto? for i of proto target[name][i] = proto[i]</span></span></code> </pre><br>  The code that has already been tested on combat projects does not slow down too much and has brought nothing but a huge heap of pleasure. <br><br><h3>  Import classes \ functions </h3><br>  Of course, I would like the presence of operators, such as <code>using</code> , <code>use</code> , <code>import</code> , but alas - you can only implement these at the level of the preprocessor itself, but not at all at the language level.  But in the case of CoffeeScript, it turns out that there are some properties of the language itself that make it possible to realize import almost beautifully: <br><br><pre> <code class="coffeescript hljs">{Any} = MyApplication.Some <span class="hljs-comment"><span class="hljs-comment">#  MyApplication.Some.Any   Any {Any: Test} = MyApplication.Some #  MyApplication.Some.Any   Test</span></span></code> </pre><br>  these operations are similar, let's say <code>use</code> in php: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">MyApplication</span></span>\<span class="hljs-title"><span class="hljs-title">Some</span></span>\<span class="hljs-title"><span class="hljs-title">Any</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">MyApplication</span></span>\<span class="hljs-title"><span class="hljs-title">Some</span></span>\<span class="hljs-title"><span class="hljs-title">Any</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">Test</span></span>;</code> </pre><br><br>  This behavior is of course documented (point: "Destructuring Assignment" example number 3 in <a href="http://coffeescript.org/">off-</a> site <a href="http://coffeescript.org/">documentation</a> ), but, honestly, I was very surprised when I noticed a similar construction in someone's code.  When I read the documentation, I simply did not notice it. <br><br><h3>  Constants </h3><br>  There are several popular options for implementing constants in CoffeeScript. <br><br><h4>  Option 1 </h4><br><pre> <code class="coffeescript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MY_DEFINE</span></span></span><span class="hljs-class"> = 42 @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getVar</span></span></span><span class="hljs-class">: -&gt; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MY_DEFINE</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getVar</span></span></span><span class="hljs-class">: -&gt; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">contructor</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MY_DEFINE</span></span></span><span class="hljs-class"> #  </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MY_DEFINE</span></span></span></span></code> </pre><br>  In this embodiment, there are both pros and cons: <br>  A constant (theoretical, because it is just a variable) can be obtained from anywhere by contacting <code>Some.MY_DEFINE</code> <br>  - It is not always convenient to use <br>  ‚ÄúThis is a variable (i.e., it can be overwritten), and using <code>__defineGetter__</code> and similar constructs for creating getters will only complicate reading. <br><br><h4>  Option number two </h4><br><pre> <code class="coffeescript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MY_DEFINE</span></span></span><span class="hljs-class"> = 42 @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getVar</span></span></span><span class="hljs-class">: -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MY_DEFINE</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getVar</span></span></span><span class="hljs-class">: -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MY_DEFINE</span></span></span></span></code> </pre><br>  advantages and disadvantages: <br>  + Inside the class looks great, readable and very comfortable to use. <br>  - Disposable, because  it is limited only to the current (and nested) scope, it is impossible to get its value outside the class <br>  - It is impossible to implement getters / setters to protect the value from changes <br><br>  There are other options, such as using javascript scripts <code>const MY_DEFINE = 42</code> in reverse single quotes (where the letter is ‚ÄúE‚Äù), or adding functions to the <code>Function</code> prototype that will register constants with getters / setters, but these are not very popular techniques, so I‚Äôm I'll keep them silent and better offer my version (a bit more close to reality): <br><br><h4>  Third option </h4><br><pre> <code class="coffeescript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Ajax</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">define</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AJAX_UNSENT</span></span></span><span class="hljs-class">: 0 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">define</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AJAX_OPENED</span></span></span><span class="hljs-class">: 1 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">define</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AJAX_HEADERS_RECEIVED</span></span></span><span class="hljs-class">: 2 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">define</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AJAX_LOADING</span></span></span><span class="hljs-class">: 3 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">define</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AJAX_READY</span></span></span><span class="hljs-class">: 4 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">request</span></span></span><span class="hljs-class">: -&gt; #   </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xhr</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">status</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AJAX_READY</span></span></span><span class="hljs-class"> #  -</span></span></code> </pre><br>  The implementation of the function itself: <br><br><pre> <code class="coffeescript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.define = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args)</span></span></span><span class="hljs-function"> -&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, val <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> args <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>[name]? <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> (name, val) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">unless</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.__defineGetter__? <span class="hljs-comment"><span class="hljs-comment"># IE Fix return window[name] = val window.__defineGetter__ name, -&gt; val window.__defineSetter__ name, -&gt; throw new Error "Can not redeclare define #{name}. Define already exists." #         window.defined = (name) -&gt; return window.__lookupGetter__(name)? &amp;&amp; window[name]?</span></span></code> </pre><br>  The following happens: Call the function where we are passing the object.  Next, we register a getter in the <code>window</code> , which will return the desired value and the setter, which blocks the possibility of rewriting the constant. <br>  Pros: <br>  + Inside the class also looks very nice and readable <br>  + Can get anywhere code <br>  - Hanging in the <code>window</code> - globals were never a good solution, but I do not think that this is so significant in the light of possible gains in readability and convenience of the code, and the problems of collisions are solved with the usual prefixes. <br><br><h3>  Private variables </h3><br>  This example is only as a bonus and just as an idea.  I don‚Äôt really like this implementation myself, but so far I couldn‚Äôt think of a better one: <br><br><pre> <code class="coffeescript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">test</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">$private</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">test</span></span></span><span class="hljs-class">' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">constructor</span></span></span><span class="hljs-class">: -&gt; @[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">test</span></span></span><span class="hljs-class">] = 23 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">console</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">log</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class">)</span></span></code> </pre><br>  What happens here: Inside the class, we declare <code>var</code> <code>test</code> variable, the value of which will be the string <code>[private test]</code> (returned by the function $ private).  Next, we simply use this variable as the name for our real variable.  And since our name begins with an invisible character, access to a variable is rather difficult to obtain, especially if the prefix is ‚Äã‚Äãgenerated from random invisible characters. <br><br>  Implementation: <br><br><pre> <code class="coffeescript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.$private = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span><span class="hljs-function"> -&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unless</span></span> defined <span class="hljs-string"><span class="hljs-string">'ZERO_WIDTH_SPACE'</span></span> define ZERO_WIDTH_SPACE: <span class="hljs-string"><span class="hljs-string">'‚Äã'</span></span> <span class="hljs-comment"><span class="hljs-comment">#     ,    return "#{ZERO_WIDTH_SPACE}[private #{name}]"</span></span></code> </pre><br>  As a result: <br>  + Real Private Variables <br>  + In classes of quite large size can help a lot, because  clears the interface of this class from unnecessary methods \ properties that should not be made public <br>  - Very cumbersome and ugly <br>  - It is inconvenient to use <br>  - You have to add the prefix "$", because  this is a keyword and it is reserved <br><br><h3>  Class names </h3><br>  Sometimes you want to get the class name or to distinguish between an array and an object.  Such situations are quite common, and for such cases I hid for myself a small function: <br><br><pre> <code class="coffeescript hljs">nameof [] <span class="hljs-comment"><span class="hljs-comment"># 'Array' nameof {} # 'Object' nameof SomeClass # 'SomeClass'</span></span></code> </pre><br>  The implementation itself looks like this: <br><br><pre> <code class="coffeescript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.nameof = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cls)</span></span></span><span class="hljs-function"> -&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> cls <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">'object'</span></span> cls = cls.constructor <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> cls <span class="hljs-keyword"><span class="hljs-keyword">isnt</span></span> <span class="hljs-string"><span class="hljs-string">'function'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> cls name = <span class="hljs-keyword"><span class="hljs-keyword">unless</span></span> cls.name? cls.toString().match(<span class="hljs-regexp"><span class="hljs-regexp">/function\s(\w+)\(/</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cls.name <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name</code> </pre><br><br><h3>  Abstract methods </h3><br>  Probably the most elegant and simple solution: <br><br><pre> <code class="coffeescript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">abstractMethod</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">abstract</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Any</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Any</span></span></span><span class="hljs-class">).</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">abstractMethod</span></span></span><span class="hljs-class">() # </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Can</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">not</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">call</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">abstract</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">method</span></span></span><span class="hljs-class">' #   </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Any2</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Some</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">abstractMethod</span></span></span><span class="hljs-class">: -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">console</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">log</span></span></span><span class="hljs-class"> 42 (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Any</span></span></span><span class="hljs-class">).</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">abstractMethod</span></span></span><span class="hljs-class">() # 42</span></span></code> </pre><br>  The implementation is the simplest and most obvious: <br><br><pre> <code class="coffeescript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.abstract = <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Error <span class="hljs-string"><span class="hljs-string">'Can not call abstract method'</span></span></code> </pre><br><br><h3>  Epilogue </h3><br>  I cited several interesting examples of how to improve readability (in my opinion) and how to use the code with a couple of small functions.  Some of them may well fit for the organization of a serious code, some, like small helpers, but in general they fulfill one role - they add some language constructs to the language itself.  That is why I want to warn you, the reader.  Maybe all this is good and beautiful, and even convenient in practice, but sugar is good in moderation, you should not overuse such crazy functions. <br><br>  PS I apologize for the ‚ÄúJavaScript‚Äù hub, alas, for CoffeeScript is missing. <br><br>  UPD: Added constant rollback for IE, out of harm's way =) </div><p>Source: <a href="https://habr.com/ru/post/235205/">https://habr.com/ru/post/235205/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../235193/index.html">We tame the budgetary DCS-930-L IP camera</a></li>
<li><a href="../235195/index.html">Printed on a 3D printer rocket injector passed tests of 3000 degrees Celsius</a></li>
<li><a href="../235197/index.html">How dangerous is an open recursive DNS server?</a></li>
<li><a href="../235199/index.html">Cubietruck. Road mini server. Part 2</a></li>
<li><a href="../235203/index.html">SAP SDM. 6 letters - many problems</a></li>
<li><a href="../235207/index.html">We manage servos from OpenWRT without Arduino</a></li>
<li><a href="../235209/index.html">Unicode tutorial</a></li>
<li><a href="../235213/index.html">Openstreetmap-based navigation apps for Windows Phone</a></li>
<li><a href="../235215/index.html">Receiving HF to RTL-SDR, free of charge without converter</a></li>
<li><a href="../235217/index.html">Windows RT as a development assistant - use experience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>