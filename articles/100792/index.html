<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automate automated testing or the power of batch files</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Why are not you working? 
 - It is tested 

 Hi, Habroliudi. 

 I decided to share with you my experience on a tautological topic - automated test a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automate automated testing or the power of batch files</h1><div class="post__text post__text-html js-mediator-article">  <i>- Why are not you working?</i> <i><br></i>  <i>- It is tested</i> <br><br>  Hi, Habroliudi. <br><br>  I decided to share with you my experience on a tautological topic - automated test automation.  As we all know, in order not to waste time on regression tests, smart testers came up with sometime to use something other than hands to run tests. <br>  But I wanted to automate the full cycle, that is, from the beginning of the tests to the results.  So‚Ä¶ <br><img src="http://burnlife.ru/wp-content/42902.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Task. </h4><br>  Automate the cyclic testing of applications on different operating systems without human intervention. <a name="habracut"></a><br><br><h4>  Condition. </h4><br>  There is a software product, new versions of which are being actively developed.  Therefore, the need for regression testing is obvious.  Multiplatform product - you need to test on different operating systems. <br><br>  In the "iron" plan - there are 5 test computers, 1 server, 1 FTP server - all this is affectionately called a "test farm".  The difficulty in my case was that it was all 2,000 kilometers away from me, and access was only via RDP and KVM. <br><br>  In software, the application under test is written with Qt and Squish is selected for testing.  Acronis Snap Deploy is used to install different operating systems on test computers. <br><br><h4>  Decision. </h4><br>  There are scripts that directly test the application.  You need to run them, get results, change OS, run, get results, and so on in the loop.  In the end, it would be nice to format these results somehow. <br><br>  How do I automatically install the system image on the target computer using Acronis Snap Deploy?  To install the image in more automatic mode, we need to restart the target computer when it hits the PXE server (computers must be configured to boot from the network card first), select PE Media.  A PE environment is loaded in which you can locally run a system image warmly.  The PE environment must be prepared in advance, that is, the Aronis Snap Deploy Command Line command line utility (asdcmd.exe) and the psexesvc.exe service are built and nested into it, inserted into Acronis PXE Server and set to the default boot. <br>  How are we going to run spripts?  On the server of the test farm (further it will be only about it) according to the schedule there will be launched a .bat file, which will run the scripts. <br><br>  So the chain in which all the force of .bat files and psexec in particular is revealed is: <br>  At a certain time, a .bat file is launched that calls the required system on the target computer: <br><ul><li>  we start the Akronis service, since then we will turn it off; </li><li>  send the target computer with IP = comIP to reboot; </li><li>  pull the time, wait for the computer to reboot, pick up the PXE environment and go to PE Media; </li><li>  turn off Acronis service so that after deploying the system image, the OS is loaded, not PE Media, which is the default on the PXE server; </li><li>  actually the deployment script itself, I will not describe the details, everything is in the manual. </li></ul><br> <code>net start AcronisPXE.exe <br> psexec \\ <i>compIP</i> reboot <br> ping <i>compIP</i> <br> ping <i>compIP</i> <br> net stop AcronisPXE.exe <br> psexec \\ <i>compIP</i> asdcmd /deploy [param]</code> <br> <br>  Next, we wait while the image is deployed.  To do this, we need to advance in each image (they need to be created all the same) in a file, for example, ready.txt.  We check when the file becomes available, which indicates the end of the deployment: <br><br> <code>psexec \\compIP cmd <br> if exist ready.txt ( <br> goto do <br> ) else ( ping compIP) <br> do <i>scripts.bat</i> <br></code> <br><br>  Thus, after installing the image, we begin testing.  The scripts.bat file starts the Squish installation, tests, generates the results, sends them, and so on. In the end, he calls our batch file, which repeats it all again.  So that the process is not cyclical, you can control it in different ways, for example, a simple counter. <br><br><h4>  Conclusion. </h4><br>  This solution allows us to double-click on Banik to launch the whole process of multiplatform automated testing. <br><br>  Also, I don‚Äôt think that this is a very non-trivial task, and I think there should be some simpler solutions to this problem.  Now I dig towards Altiris. <br><br>  Thank you all for taking the time to read this opus. </div><p>Source: <a href="https://habr.com/ru/post/100792/">https://habr.com/ru/post/100792/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../100783/index.html">Even the illusion of progress increases motivation.</a></li>
<li><a href="../100785/index.html">Usability Contest Winners</a></li>
<li><a href="../100786/index.html">Cheap and angry means to view and analyze ISA 2006 logs</a></li>
<li><a href="../100789/index.html">Conditional comments in ... Firefox</a></li>
<li><a href="../100791/index.html">LikBez on patents (continued)</a></li>
<li><a href="../100794/index.html">Intel Photonics Link - transfer data at 50 Gbps</a></li>
<li><a href="../100795/index.html">Paratrooper day</a></li>
<li><a href="../100799/index.html">Pricing for Office for Mac 2011 and other information announced</a></li>
<li><a href="../100803/index.html">WhiteBox - compact custom-plexiglas case</a></li>
<li><a href="../100804/index.html">.about [Organizing the process of cataloging and processing photos]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>