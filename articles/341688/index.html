<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Angular 5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 


 On November 1, 2017, Google announced the major version of Angular 5.0.0, codenamed ‚Äúpentagonal donut‚Äù. The new version includes new ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Angular 5</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/eb/ly/pp/eblypp6fge8ppfcellukk_kimf0.png" width="300"></div><br><h2>  <b>Introduction</b> </h2><br><p>  On November 1, 2017, Google announced the major version of Angular 5.0.0, codenamed ‚Äúpentagonal donut‚Äù.  The new version includes new features and bug fixes, and at the same time, the main emphasis was again placed on reducing the size of Angular, making it quick and easy to use.  A complete description of all changes, including critical ones, can be found in the <a href="">changelog file of the</a> official Angular repository. </p><br><h2>  <b>From translators</b> </h2><br><p>  Hello everyone, <a href="https://github.com/splincode">Maxim Ivanov</a> and <a href="https://habrahabr.ru/users/blackbaron/">Dmitry Sergienkov are</a> with you, and today we will talk about the released new version, briefly consider some of the most important changes and recall the history of Angular.  Also for those who are just starting to learn this framework, we will look at examples of how to quickly deploy an application on Angular.  I would like to note that you can join the Angular community in <a href="https://t.me/angular_ru">Telegram</a> , as well as attend <a href="https://github.com/AngularMoscow/Talks">Angular Meetup</a> in Moscow. </p><a name="habracut"></a><br><br><ol><li><p>  <strong><a href="https://habr.com/ru/post/341688/">Angular history</a></strong> <br>  1.1.  <a href="https://habr.com/ru/post/341688/">AngularJS and the rest</a> <br>  1.2.  <a href="https://habr.com/ru/post/341688/">Why do we still like Angular 1.x?</a> <br>  1.3.  <a href="https://habr.com/ru/post/341688/">And yet Angular is not jQuery</a> <br>  1.4.  <a href="https://habr.com/ru/post/341688/">All you need is ... the core of Angular</a> <br>  1.5.  <a href="https://habr.com/ru/post/341688/">So why did we leave AngularJS?</a> <br>  1.6.  <a href="https://habr.com/ru/post/341688/">What did AngularJS do for the Web?</a> </p><br></li><li><p>  <strong><a href="https://habr.com/ru/post/341688/">Angular quickstart</a></strong> <br>  2.1.  <a href="https://habr.com/ru/post/341688/">Why do we need TypeScript?</a> <br>  2.2.  <a href="https://habr.com/ru/post/341688/">Step 1. Setting up the environment</a> <br>  2.3.  <a href="https://habr.com/ru/post/341688/">Step 2. Creating a new project</a> <br>  2.4.  <a href="https://habr.com/ru/post/341688/">Step 3: Run the web application in development mode</a> <br>  2.5.  <a href="https://habr.com/ru/post/341688/">Step 4: Editing Your First Angular Component</a> <br>  2.6.  <a href="https://habr.com/ru/post/341688/">What's next?</a> <br>  2.7.  <a href="https://habr.com/ru/post/341688/">Project Directory</a> <br>  2.8.  <a href="https://habr.com/ru/post/341688/">Angular CLI vs.</a>  <a href="https://habr.com/ru/post/341688/">Manual setup</a> </p><br></li><li><p>  <a href="https://habr.com/ru/post/341688/"><strong>Innovation Angular 5</strong></a> <br>  3.1.  <a href="https://habr.com/ru/post/341688/">Improved compiler</a> <br>  3.2.  <a href="https://habr.com/ru/post/341688/">Optimized build</a> <br>  3.3.  <a href="https://habr.com/ru/post/341688/">Improved server-side rendering in Angular Universal</a> <br>  3.4.  <a href="https://habr.com/ru/post/341688/">Improved forms performance</a> <br>  3.5.  <a href="https://habr.com/ru/post/341688/">Rewritten to localize Pipes</a> <br>  3.6.  <a href="https://habr.com/ru/post/341688/">ReflectiveInjector replacing with StaticInjector</a> <br>  3.7.  <a href="https://habr.com/ru/post/341688/">Superior NgZone</a> <br>  3.8.  <a href="https://habr.com/ru/post/341688/">Multi exportAs</a> <br>  3.9.  <a href="https://habr.com/ru/post/341688/">Improved RxJS</a> <br>  3.10.  <a href="https://habr.com/ru/post/341688/">Updated Router Life Cycle</a> <br>  3.11.  <a href="https://habr.com/ru/post/341688/">Improved Mobile Experience</a> <br>  3.12.  <a href="https://habr.com/ru/post/341688/">Breaking Changes and more</a> </p><br></li></ol><br><a name="s1"></a><br><h2 id="1-istoriya-angular">  <strong>1. Angular history</strong> </h2><br><p>  Choosing the right framework for our JavaScript environment, application or simple website is a top priority for any business.  The current landscape of JavaScript frameworks has led many developers to wonder which camp they should be in. </p><br><p>  Angular is an open source JavaScript framework that provides everything you need to create the client logic of your application: </p><br><ul><li>  The fact that Angular is supported by Google inspires confidence in itself; </li><li>  This framework is designed in such a way that you can easily switch to it from other programming languages ‚Äã‚Äãwithout breaking your psyche; </li><li>  Many developers note that if your Angular code looks complicated, it means that you are doing something wrong; </li><li>  A large number of websites and applications written in AngularJS and Angular: YouTube (for PS3), GoodFilms, Freelancer, Upwork, and <a href="https://www.madewithangular.com/">others</a> . </li></ul><br><a name="s1_1"></a><br><h3 id="11-angularjs-i-ostalnye">  1.1.  <strong>AngularJS and the rest</strong> </h3><br><p>  Almost every developer knows that AngularJS was one of the first JavaScript frameworks needed to create single-page applications (SPA).  Currently, we are not surprised by the appearance of the SPA, they are everywhere.  But in 2012 ( <a href="">AngularJS 1.0.0</a> ) it was something new.  AngularJS was the brainchild of Google, it was first released in 2009 as an open source framework under the MIT license. </p><br><p><img src="https://habrastorage.org/webt/s2/i1/kb/s2i1kbc6jz-sxuknlicj0dxfi-8.png"><br></p><br><p>  According to SimilarTech.com, which measures the use of web technologies, ReactJS is currently used on 112k websites (with a 3.20% increase in October 2017), and AngularJS (including Angular) is used by 542k sites (with a growth of 1.93% ). </p><br><p><img src="https://habrastorage.org/webt/m4/on/em/m4onemdkzdvh83y2tvbep2iiu04.png"><br></p><br><p>  However, it is worth noting the growth of VueJS lately, which is currently used on 19k sites (with growth of 28.3%). </p><br><p>  Many will say that it is wrong to compare the library and the framework (and partly you will be right, Angular vs React), but people have the right to do so.  If we pay attention to jQuery, which is used on 70 million sites (with growth of 0.16%), and begin to compare it with everything, then of course, it will always be in the lead, however, for the same Enterprise it‚Äôs obvious that we will choose something more serious.  It's funny that Mootools also began to gain popularity in the period under review (an increase of 18.5%). </p><br><p><img src="https://habrastorage.org/webt/gu/po/ie/gupoie-jalaj7-ef3m5f_6vgjdu.png"><br></p><br><a name="s1_2"></a><br><h3 id="12-pochemu-nam-vse-esche-nravitsya-angular-1x-">  1.2.  <strong>Why do we still like Angular 1.x?</strong> </h3><br><ul><li>  On AngularJS it was easy to start writing applications. </li></ul><br><p>  Yes, it was very easy to create a new project.  Just insert the link to the CDN, add the ng-app to the html tag, quickly learn some tutorial and the new application is ready.  Official modules, such as ngAnimate and ngRouter, quickly solved all our problems. </p><br><ul><li>  AngularJS Docs and Tutorial </li></ul><br><p> AngularJS had very good documentation and a lot of amazing tutorials.  After the same <a href="https://docs.angularjs.org/tutorial">‚ÄúPhonecat App‚Äù</a> you perfectly understood what AngularJS is and how to use it.  In fact, it was much clearer than <a href="https://angular.io/tutorial">Tour of Heroes</a> (the current tutorial is written under Angular2, whose quick start uses SystemJS, and Angular CLI uses Webpack).  Although for the new Angular this problem <a href="https://github.com/angular/angular/issues/20192">will</a> be <a href="https://github.com/angular/angular/issues/20192">solved</a> soon. </p><br><ul><li>  AngularJS was modular from the start (1.x versions) </li></ul><br><p>  Do you remember the time when everyone used Browserify and Bower?  At that time there were no such assembly systems as Webpack.  Yes, at that time, of course, Grunt and Gulp existed, but they were intended for use, for example, gulp-browserify.  So we formally used Browserify.  And yet, the ng.module from AngularJS was a very important feature.  You could simply insert links to your scripts, and they were interpreted as modules of a single application.  It was a great modular system.  Unlike jQuery ($ .fn.myNewAwesomePluginForJQueryThatNobodyDownloads), AngularJS gave you the opportunity to write your own modules and use them as plugins or parts of your application.  In addition, it was very convenient in the form of lazy-loading. </p><br><a name="s1_3"></a><br><h3 id="13-i-vse-zhe-angular-ne-jquery-">  1.3.  <strong>And yet Angular is not jQuery</strong> </h3><br><p>  Many still remember the time when almost every article compared AngularJS with jQuery.  Many developers started switching to AngularJS with jQuery.  True, now I don‚Äôt want to think about jQuery at all, associating it with bad code. </p><br><p><img src="https://habrastorage.org/webt/kb/it/y3/kbity32dgdw0tahe3_ginvx_wj8.png"><br></p><br><ul><li>  Bilateral binding of objects and models was a ‚Äúkiller feature‚Äù or just a ‚Äúkiller‚Äù? </li></ul><br><p>  ng-model - connected your object with the $ scope-object and the DOM-element - it was the ‚Äúkiller feature‚Äù and ‚Äúkiller‚Äù at the same time: </p><br><p>  1) You could easily implement two-way data binding - the ‚Äúkiller feature‚Äù; <br>  2) Inexperienced developers tied each variable to the $ scope object in the controller and then complained: ‚ÄúWhy does my application run so slowly?‚Äù - ‚Äúkiller‚Äù. </p><br><p>  One-way data binding was introduced in version 1.2, but not all developers were aware of this. </p><br><ul><li>  jqLite is a miniature alternative to jQuery inside your framework </li></ul><br><p>  jqLite is a tiny, API-compatible jQuery subset that allowed AngularJS to cross-manipulate with the DOM.  jqLite implemented only the most frequently used functions in order to cover small requirements.  The main paradigm was directives and components. </p><br><p>  So you were taken care of and you didn‚Äôt need to include the full version of jQuery.  jqLite provides everything you need.  But wait ... Do you really need this? </p><br><p>  DOM manipulations were moved to a small library, access to which was possible only through angular.element.  Was it a step towards a new level of abstraction?  May be. </p><br><ul><li>  Component model </li></ul><br><p>  The first attempt to implement the component model was in AngularJS.  But unlike ReactJS, AngularJS was ‚ÄúJS in HTML‚Äù, and not ‚ÄúHTML in JS‚Äù.  Even the motto of AngularJS spoke for itself: ‚ÄúAngularJS - improved HTML for web applications!‚Äù. </p><br><p>  Why "js in html"?  Quite simply, you used directives such as ng-click, ng-for and ng-class in your application's .html files. </p><br><p>  The directives were the first attempt to separate frequently used components in small modules.  However, this idea failed due to React-like components implemented in Angular 1.5.  Perhaps React won in this fight, because once your file-name.html could have become so (bad code that shows the biggest problem when working with Angular): </p><br><p><img src="https://cdn-images-1.medium.com/max/1200/1*TYRa6nX-gzm4hIpRJLe3jg.png" alt="image"></p><br><a name="s1_4"></a><br><h3 id="14-vse-chto-vam-nuzhno-eto--yadro-angular">  1.4.  <strong>All you need is ... the core of Angular</strong> </h3><br><ul><li>  Built-in directives </li></ul><br><p>  No need to reinvent the wheel when you already have all the necessary directives.  From my own experience, some developers did not create directives at all.  They simply used the built-in AngularJS directives, as mentioned above ng-click and ng-for. </p><br><ul><li>  JavaScript dependency injection </li></ul><br><p>  One very interesting feature of AngularJS is dependency injection.  By the way, have you ever seen it in other projects, with the exception of AngularJS? </p><br><ul><li>  AngularJS is huge </li></ul><br><p>  And in fact there is no point here to consider the following questions: <br>  1) "Services, factories, providers in AngularJS"; <br>  2) "How to reduce the Angular application?"; <br>  3) ‚ÄúHow does $ scope. $ Watch work?‚Äù; <br>  4) ‚ÄúHow does AngularJS work?‚Äù; <br>  5) "Built-in $ http, filtering and ng-for performance"; <br>  6) ‚ÄúWhat was the biggest problem with AngularJS?‚Äù; <br>  ‚Ä¶ long list </p><br><p>  Some questions are so large that it is possible to conduct an academic study on them. </p><br><a name="s1_5"></a><br><h3 id="15-tak-pochemu-my-ushli-ot-angularjs">  1.5.  <strong>So why did we leave AngularJS?</strong> </h3><br><p>  1) Not very good performance out of the box; <br>  2) Most of the functionality of AngularJS was not used in practice; <br>  3) AngularJS worked directly with the DOM, and not with VirtualDOM, for example; <br>  4) Low level of abstraction, in AngularJS almost all the logic was tied to HTML; <br>  5) It‚Äôs hard to be an expert in AngularJS if the framework itself is huge; <br>  6) The modern Web required a new approach. </p><br><a name="s1_6"></a><br><h3 id="16-chto-sdelal-angularjs-dlya-web">  1.6.  <strong>What did AngularJS do for the Web?</strong> </h3><br><p>  This is a simple and complex question at the same time. </p><br><ul><li>  JS === Power </li></ul><br><p>  Perhaps AngularJS was the first tool to prove that JavaScript is a powerful language.  You can usually hear that ‚ÄúJavaScript is a language for children‚Äù or ‚ÄúJS is a language for creating silly animations‚Äù; all these myths were destroyed by AngularJS. </p><br><ul><li>  Community, experts, ecosystems </li></ul><br><p>  1) Good framework =&gt; many developers; <br>  2) Many developers =&gt; Large community; <br>  3) Large community =&gt; Additional components, tools, tutorials; <br>  4) A large number of tools and practices =&gt; Many experts; <br>  5) Many experts =&gt; New ideas, modules, libraries; <br>  6) Pure progress ... </p><br><ul><li>  Vue, Aurelia, Angular 2/4/5 </li></ul><br><p>  All of these frameworks were inspired by AngularJS.  Aurelia is a fork of AngularJS.  Angular (Angular 2+) is a continuation of AngularJS.  Some developers call VueJS a new AngularJS due to v-if, v-bind, v-on and other directives. </p><br><ul><li>  Do you still remember AngularJS? </li></ul><br><a name="s2"></a><br><h2 id="2-angular-quickstart">  <strong>2. Angular QuickStart</strong> </h2><br><p>  Good development tools make your work more comfortable, even if you like to do everything manually.  <a href="https://github.com/angular/angular-cli">Angular CLI</a> is a command line interface that allows you to quickly create projects, add files and perform many specific tasks, such as testing, building and deploying. </p><br><p>  The main purpose of this section is to create and run a simple Angular TypeScript application using the Angular CLI and continue to follow the official <a href="https://angular.io/guide/styleguide">Style Guide</a> manuals that specifies and standardizes Angular projects.  In the end, you will have a basic understanding of how to develop applications using the CLI.  However, first we decide why we need TypeScript? </p><br><a name="s2_1"></a><br><h3 id="21-zachem-nam-typescript-">  2.1.  <strong>Why do we need TypeScript?</strong> </h3><br><p><img src="https://i1.wp.com/www.mithunvp.com/wp-content/uploads/2016/02/transpiling.png"><br></p><br><p>  TypeScript is JavaScript (ES6 / ES7 / ES8 / ...) + type information.  That is, if you know ES6 +, then you automatically know TypeScript (only information about types and some nuances will be added, but in general they strictly follow the standard).  TypeScript is not Dart, which is another language.  This is an add-on JavaScript that allows for very large projects (such as Angular itself, which is a very large project itself) to improve complexity management, get static analysis, we can use annotations, typing, inheritance, interfaces, and most importantly - modules.  In large projects, this information really allows you to get rid of a huge set of errors.  On the Internet, there are quite a large number of examples and guidelines for writing applications on TypeScript, but in our case we have prepared for you a <a href="https://github.com/Angular-RU/webpack-typescript-starter">basic starter kit</a> , which runs under the control of the Webpack assembly system. </p><br><a name="s2_2"></a><br><h3 id="22-shag-1-nastroyka-okruzheniya">  2.2.  <strong>Step 1. Setting up the environment</strong> </h3><br><p>  Before you start developing, you need to set up an environment for yourself.  Install <a href="https://nodejs.org/en/download/">Node.js and npm</a> (if you haven't installed them) on your computer.  Make sure that you use Node.js version not lower than 6.9.x and npm not lower than 3.xx (to do this, run node -v and npm -v in the terminal). </p><br><p>  Then install the Angular CLI globally. </p><br><pre><code class="bash hljs">npm install -g @angular/cli</code> </pre> <br><p>  As a rule, this step is done once, and in the future its implementation is no longer required. </p><br><a name="s2_3"></a><br><h3 id="23-shag-2-sozdanie-novogo-proekta">  2.3.  <strong>Step 2. Creating a new project</strong> </h3><br><p>  Create a new application (unwrap the framework) by executing the following commands: </p><br><pre> <code class="bash hljs">ng new my-app</code> </pre> <br><p>  Be patient in this step.  Angular will pull up all the necessary dependencies for your application, and most of the time will be spent on installing npm packages. </p><br><a name="s2_4"></a><br><h3 id="24-shag-3-zapusk-veb-prilozheniya-v-rezhime-razrabotki">  2.4.  <strong>Step 3: Run the web application in development mode</strong> </h3><br><p>  Navigate to the project directory and start the web server. </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> my-app ng serve --open</code> </pre> <br><p>  The ng serve command starts the web server, and also listens to the directory with the source code of your application, and when changes are made in these source files, the project reassembles the project on the fly.  It is worth noting that in this mode the project is not stored on the disk, it is written directly to the RAM. </p><br><p>  Using the --open key (or just -o) means that after building the project, your browser will automatically open (the default is selected in the operating system). </p><br><p>  In the open tab <a href="http://localhost:4200/">http: // localhost: 4200 /</a> by default you will see the standard layout of the Angular application. </p><br><p><img src="https://angular.io/generated/images/guide/cli-quickstart/app-works.png"></p><br><a name="s2_5"></a><br><h3 id="25-shag-4-redaktirovanie-svoego-pervogo-angular-komponenta">  2.5.  <strong>Step 4: Editing Your First Angular Component</strong> </h3><br><p>  By default, Angular CLI creates a base component for you.  This basic component is root, it is associated with the app-root selector.  You can find it in the following path in the ./src/app/app.component.ts directory. </p><br><p>  In this file you will see the following: </p><br><pre> <code class="hljs kotlin">... <span class="hljs-meta"><span class="hljs-meta">@Component({ selector: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'app-root'</span></span></span><span class="hljs-meta">, templateUrl: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'./app.component.html'</span></span></span><span class="hljs-meta">, styleUrls: [</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'./app.component.css'</span></span></span><span class="hljs-meta">] })</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span></span>{ title = <span class="hljs-string"><span class="hljs-string">'app'</span></span>; }</code> </pre> <br><p>  <a href="https://angular.io/api/core/Component">@Component</a> is one of the basic decorators in Angular.  Decorators are an alternative for annotations (an example from Java) proposed by Yehuda Katz in the ECMAScript 2016 standard. Decorators allow not only to annotate objects with metadata, but also to modify classes, methods and properties.  Also decorating is a programming technique that allows <br>  take an existing function and change / expand its behavior.  In many cases, code using decorators will be cleaner, more beautiful and more efficient. </p><br><p><img src="https://media.giphy.com/media/neagi3AslKow/giphy.gif" alt="image"></p><br><p>  The decorator receives the function (in our case, the AppComponent class) and returns a wrapper that does something of its own ‚Äúaround‚Äù (magic) of the call to the main function.  What exactly does the <a href="https://angular.io/api/core/Component">@Component</a> decorator <a href="https://angular.io/api/core/Component">do</a> you can <a href="https://stackoverflow.com/questions/40983890/what-does-component-decorator-exactly-do">see here</a> . </p><br><p>  So, the most obvious thing you can do now for your component is to change its title, for example: </p><br><pre> <code class="hljs cs">... export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">AppComponent</span></span> { title = <span class="hljs-string"><span class="hljs-string">'My First Angular App'</span></span>; }</code> </pre> <br><p>  As soon as you make changes to the file and save them, the browser will automatically reload the changes (hot reloading).  Of course, you can easily make changes to the styles of your component. </p><br><p>  Open the .src / app / app.component.css file and set some styles to the component: </p><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">h1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#369</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Arial, Helvetica, sans-serif; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">250%</span></span>; }</code> </pre> <br><p><img src="https://angular.io/generated/images/guide/cli-quickstart/my-first-app.png"></p><br><p>  True, here it is worth noting the following moment: if you try to do this: </p><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: red; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">app-root</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: blue; }</code> </pre> <br><p>  then nothing will change, the page background will not be red, and the background of the component itself will not be blue.  And if we look at the page code, we will see the following: </p><br><p><img src="https://habrastorage.org/webt/ak/f0/si/akf0sizbmq19q9cgfsys2tkkrum.png"></p><br><p>  The fact is that Angular by default encapsulates CSS (cross-browser emulates a Shadow DOM) so that the styles of one component will not break or redefine the styles of another.  Therefore, under no circumstances use the component selector name or external selector names to define its styles.  Attributes for encapsulating CSS code are generated only for the children of this component. </p><br><p>  Some argue that if the page uses a huge number of components, Angular does extra work and loads our processor, which affects the speed, and if you use some css-methodology (BEM, SMACSS), then most likely you will write good layout and css code that does not require Angular encapsulation.  To do this, you can simply specify an additional parameter in the decorator: </p><br><pre> <code class="hljs css">@<span class="hljs-keyword"><span class="hljs-keyword">Component</span></span>({ ... <span class="hljs-selector-tag"><span class="hljs-selector-tag">encapsulation</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">ViewEncapsulation</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.None</span></span> ... })</code> </pre> <br><p>  In more detail you can <a href="https://angular.io/guide/component-styles">read here</a> . </p><br><a name="s2_6"></a><br><h3 id="26-chto-dalshe">  2.6.  <strong>What's next?</strong> </h3><br><p>  The steps described above are all that is needed for a simple ‚ÄúHello, World‚Äù.  Then you can try to explore <a href="https://angular.io/tutorial">the Tour of Heroes</a> tutorial and create a small application that will help you develop more advanced applications using Angular in the future, but I would recommend watching the <a href="https://www.udemy.com/learn-angular-from-scratch/">video course on Udemy</a> (it doesn't matter that it is in English, you can understand that everything there is available is shown).  To familiarize yourself with the commands of angular-cli, you can go to <a href="https://dev.nvx.me/angular-cli-ref/">this Russian-language resource</a> .  Now you can see the project catalog. </p><br><a name="s2_7"></a><br><h3 id="27-katalog-proekta">  2.7.  <strong>Project Directory</strong> </h3><br><p>  Angular CLI is a convenient tool for developing and deploying enterprise solutions.  First of all, the very first file you need to study is README.md. <br>  It contains information about the basic commands you need to know when using the Angular CLI.  Whenever you need to learn more than what is in the README and see some examples of using Angular CLI, you just need to go to the official repository and open the <a href="https://github.com/angular/angular-cli/wiki">Wiki</a> section. </p><br><p>  Some of the generated files may be unfamiliar to you, so let's talk about them in more detail. </p><br><h4 id="direktoriya-src">  Src directory </h4><br><p>  The source code of your application being developed is usually located in the src directory.  Here you will store Angular components, patterns, styles, images and everything else that your application will need.  Any files outside this folder are designed to support the creation, assembly, and deployment of your application. </p><br><pre> <code class="bash hljs">. |-- app | |-- app.component.css | |-- app.component.html | |-- app.component.spec.ts | |-- app.component.ts | `-- app.module.ts |-- assets |-- environments | |-- environment.prod.ts | `-- environment.ts |-- favicon.ico |-- index.html |-- main.ts |-- polyfills.ts |-- styles.css |-- test.ts |-- tsconfig.app.json |-- tsconfig.spec.json `-- typings.d.ts</code> </pre> <br><p>  <strong>app / app.component. {ts, html, css, spec.ts}</strong> - AppComponent specifies the component of the html-template, styles and unit tests.  This is the root component for which the <a href="https://alligator.io/angular/architecture-angular-app/">tree of nested components</a> will appear as the application <a href="https://alligator.io/angular/architecture-angular-app/">evolves</a> . </p><br><p>  <strong>app / app.module.ts</strong> - specifies AppModule.  The root module that tells Angular how the application will be built.  Now only AppComponent is declared in it.  Subsequently, you will declare in it other components. </p><br><p>  <b>assets / *</b> is the directory where you place the images and everything else that needs to be copied to the final assembly directory when you create the application itself. </p><br><p>  <b>environments / *</b> - this directory contains build target files (dev or prod modes), each of which exports simple env-configuration variables needed for use in your application.  When you develop an application, files are collected on the fly.  You can use a different set of APIs during development (dev), other than production (prod), in which you can connect all kinds of metrics or auth tokens.  You can even use different services or stubs for different build purposes. </p><br><p>  <strong>favicon.ico</strong> - you can add your own icon that will be displayed on the tab in the browser. </p><br><p>  <strong>index.html</strong> is the main HTML page that is displayed when someone visits your site.  In most cases, you will never need to edit it.  Angular CLI automatically adds all generated js and css files when creating your application, so you do not need to add any tags (script, link) manually. </p><br><p>  <strong>main.ts</strong> is the entry point of your application.  Now, by default, your application is compiled in the delivery with the JIT compiler.  This file loads the application root module (AppModule) and launches it in the browser.  You can also use the AOT compiler by compiling your application beforehand, removing the JIT compiler from the assembly, for this you must use the ‚Äîaot flag for the Angular CLI ng build and ng serve commands. </p><br><p>  <strong>polyfills.ts</strong> - different browsers have different levels of support for various web standards.  Polyfills help to normalize these differences.  However, do not forget to check the current <a href="https://angular.io/guide/browser-support">browser support</a> . </p><br><p>  <strong>styles.css</strong> - global styles are stored here.  Most of the time, you‚Äôll work with the local styles of your components, but styles that affect your entire application should be in this place. </p><br><p>  <strong>test.ts</strong> is the entry point for all your unit tests.  This file has a custom configuration, but as a rule, you will rarely edit it. </p><br><p>  <strong>tsconfig. {app | spec} .json</strong> - the TypeScript compiler configuration is described in the tsconfig.app.json file, for the unit tests, the tsconfig.spec.json configuration is used. </p><br><h4 id="kornevaya-direktoriya-proekta">  Project Root Directory </h4><br><p>  src / is only one element of the project root directory.  Other files help build, test, maintain, document, and deploy an application. </p><br><pre> <code class="bash hljs">. |-- README.md |-- e2e |-- karma.conf.js |-- node_modules |-- package-lock.json |-- package.json |-- protractor.conf.js |-- src |-- tsconfig.json `-- tslint.json</code> </pre> <br><p>  <strong>e2e /</strong> - e2e (end-to-end) tests are located inside the e2e / directory.  They should not be inside the src / directory, since these tests are a separate application that tests your main application.  Inside are the configuration files, for example, tsconfig.e2e.json. </p><br><p>  <strong>node_modules /</strong> - Node.js creates this directory, in which it stores all third-party modules listed in package.json. </p><br><p>  <strong>.angular-cli.json</strong> - Angular CLI configuration file.  In this file you can set several default values, as well as configure which files will be included when building the project. </p><br><p>  <strong>.editorconfig</strong> - A simple setting for your editor that specifies the same basic configuration for formatting text code.  Most editors support the .editorconfig file.  For more information, see <a href="http://editorconfig.org/">http://editorconfig.org</a> . </p><br><p>  <strong>.gitignore</strong> - this file is required for the version control system, it is needed to exclude auto-generated files that do not need to be stored in a Git repository. </p><br><p>  <strong>karma.conf.js</strong> is a configuration file for running unit tests using Karma, tests can be run using the ng test command. </p><br><p>  <strong>package.json</strong> is the npm configuration file, which lists the third-party modules (packages) of developers that your project uses.  Here you can also register your own scripts. </p><br><p>  <strong>README.md</strong> - the main documentation for your project, pre-filled with information Angular CLI. </p><br><p>  <strong>tsconfig.json</strong> - TypeScript compiler configuration for your IDE. </p><br><p>  <strong>tslint.json</strong> - configuration for the TSLint static analyzer, used when running ng lint.  What is the analyzer for, you can <a href="http://codelyzer.com/">look at an example</a> . </p><br><h4 id="developer-experience">  Developer Experience </h4><br><p><img src="https://habrastorage.org/webt/r_/_g/su/r__gsubxs8cz3mhxdpcwdm6la0o.png"></p><br><a name="s2_8"></a><br><h3 id="28-angular-cli-vs-manual-setup">  2.8.  <strong>Angular CLI vs.</strong>  <strong>Manual setup</strong> </h3><br><p>  There are many ways you can try to create a new project on Angular.  But in fact, there are two main approaches, the first one is to use Angular CLI, and the second is to manually configure the Webpack. </p><br><h4 id="angular-cli">  Angular cli </h4><br><p>  The easiest and fastest way to create a new project on Angular.  Without resorting to manual configuration, you can deploy the project in a few minutes and start developing even large applications without problems. </p><br><p>  Pros: </p><br><ul><li>  Fast and easy to install, perfect for beginners </li><li>  Is an add-on Webpack </li><li>  Includes Protractor e2e, Karma, Jasmine testing tools. </li><li>  No need to follow dependencies </li><li>  Centralized configuration file </li><li>  Quick and simple CLI commands to run an application, create new components, and more. </li></ul><br><p>  Minuses: </p><br><ul><li>  Less advanced configuration (it is not possible to change the built-in Webpack configuration) </li><li>  The rigid structure of configuration files (several tsconfig files that are more difficult to move from directory to directory) </li><li>  Weak support or the complete absence of plug-ins (it is impossible, for example, to add a Pug-template engine) </li></ul><br><p>  All the pros and cons really come down to the following: with the Angular CLI, it is much easier to manage a project, but it also makes the project less flexible.  This is great for beginners or simple projects, but most likely in the future you will need a manual approach to customizing your project. </p><br><h4 id="webpack">  Webpack </h4><br><p>  In this case, manual configuration using the Webpack is actually the opposite of the pros and cons of the Angular CLI.  However, one of the best alternatives to the Angular CLI, in terms of configuration flexibility, is the AngularClass <a href="https://github.com/AngularClass/angular-starter">Angular Webpack Starter</a> project.  However, by easily configuring the webpack, you can set up a simple environment for your project, leaving <a href="https://github.com/Angular-RU/webpack-angular-starter">only what is needed</a> . </p><br><p>  Pros: </p><br><ul><li>  Webpack Advanced Setup </li><li>  The ability to use any HTML-template engines </li><li>  Net configuration file and directory structure </li><li>  Greater flexibility (configuration files are javascript files for which you can write your logic) </li></ul><br><p>  Minuses: </p><br><ul><li>  The difficulty of setting up effective e2e testing </li><li>  Extended configuration capability increases the likelihood of configuration errors </li><li>  Problems with dependencies and their upgrade-updates </li></ul><br><h4 id="systemjs">  Systemjs </h4><br><p>  SystemJS positions itself as a universal dynamic loader of modules - modules of ES6, AMD, CommonJS and global browser or Node.js packages.  Since you use modules in TypeScript, just like in ES6, you need a module loader (in Webpack, loaders are responsible for this).  In the case of SystemJS, you write the systemjs.config.js configuration, which allows you to customize how the module names are mapped to their corresponding files in the node_modules directory or elsewhere. </p><br><p>  This configuration file is necessary for the case when you use SystemJS on the client, with the help of it you import the main module of your application: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> System.import(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'app'</span></span></span><span class="javascript">).catch(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">err</span></span></span></span><span class="javascript"><span class="hljs-function">)</span></span></span><span class="javascript">{ </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.error(err); }); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  And running ahead, for the TypeScript configuration you specified a specific parameter <a href="https://auth0.com/blog/javascript-module-systems-showdown/">of the module type</a> : </p><br><pre> <code class="hljs haskell">{ <span class="hljs-string"><span class="hljs-string">"compilerOptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"target"</span></span>: <span class="hljs-string"><span class="hljs-string">"es5"</span></span>, <span class="hljs-string"><span class="hljs-string">"module"</span></span>: <span class="hljs-string"><span class="hljs-string">"commonjs"</span></span>, // &lt;-<span class="hljs-comment"><span class="hljs-comment">----- ...</span></span></code> </pre> <br><p>  Thus, after compiling from TypeScript in your javascript files, you would see inside special functions require ().  If you specified "module": "es6", you would see import, export keywords in the compiled files.  However, you still cannot use this syntax, because browsers do not yet have full support.  If you specified the type "module": "amd", you would see a different syntax that the define () functions used.  It is worth noting that SystemJS is still involved in the training tutorial on the official website of the Tour of Heroes; however, after the release of Angular 5, the developers will soon correct the documentation and replace it with examples from the Angular CLI. </p><br><p>  SystemJS as one of the modular assembly systems was designed to emulate support for ES6 modules, and as soon as browsers start supporting them, it would be easy to get rid of it, however, in general, this idea failed due to the SystemJS minuses. </p><br><p>  Webpack is a fairly flexible build system.  It not only handles any types of modules (ES6, AMD, CommonJS), but also allows you to perform adjacent tasks, ensuring the implementation of compression, minification of any files, work with pictures, css-preprocessors and much more.  It also provides a web server for development in incremental build mode.  When you use Webpack, SystemJS becomes redundant.  Webpack prepares for you at least one file with the possible name of bundle.js.  This file can contains all the necessary HTML, CSS, JS components of your web components.  Since all files are combined into one file, there is no need for a lazy loader, such as SystemJS.  The main potential of SystemJS was in lazy loading your files.  The application had to load faster, because you don‚Äôt download one big bundle, but in practice it was not a very profitable solution. </p><br><p>  But even now, Webpack allows you to use code removal from the general bundle (code splitting) and load them with lazy load on demand, and also presents improved Tree Shaking for your modules.  Therefore, starting from version 1.2, Angular CLI uses the Webpack implementation inside itself. </p><br><p>  In fact, it is almost impossible to find any working Starter Kit using SystemJS, many have either rewritten to Webpack or abandoned.  But even if you find it, it will most likely be with the Angular 2 version. Therefore, I highly recommend learning the first two ways to build your Angular applications. </p><br><h4 id="rollup">  Rollup </h4><br><p>  Here we will not talk much about this topic.  Although there are <a href="https://gist.github.com/Rich-Harris/79a02519fb00837e8d5a4b24355881c0">examples</a> (albeit in comparison with Webpack second version), which code generates a Webpack, and which generates a Rollup at the output, and then the latter is much better.  It should be noted again that Webpack is not just a module builder, but much more.  Therefore, Webpack is usually better suited for application development, and Rollup is generally better suited for library development. </p><br><a name="s3"></a><br><h2 id="3-novshestva-angular-5">  <strong>3. Innovations Angular 5</strong> </h2><br><p>  Those who have already managed to upgrade from the second version to the fourth, could not help but notice how easy it was to do it.  In the fifth version, they want to continue this pleasant tradition and do everything to make the transition from Angular 4 to Angular 5 happen as seamlessly as possible.  In the future, the automatic update system built into the Angular CLI will be implemented.  Now, either you need to use Angular CLI 1.5+, or independently update your packages in the project. </p><br><pre> <code class="bash hljs">$ npm install @angular/{animations,common,compiler,compiler-cli,core,forms,http,platform-browser,platform-browser-dynamic,platform-server,router}@5.0.0 <span class="hljs-comment"><span class="hljs-comment">#  Yarn: $ yarn add @angular/{animations,common,compiler,compiler-cli,core,forms,http,platform-browser,platform-browser-dynamic,platform-server,router}@5.0.0 #   @5.0.0,    @latest</span></span></code> </pre> <br><a name="s3_1"></a><br><h3 id="31-uluchshennyy-kompilyator">  3.1.  <strong>Improved compiler</strong> </h3><br><h4 id="typescript-transforms">  TypeScript Transforms </h4><br><p>  Angular 4: </p><br><p>  In the incremental build, the Angular compiler (ngc) recompiled all files with each change, which slowed down the development process. </p><br><p><img src="https://habrastorage.org/webt/q-/d4/qx/q-d4qxtokmh0bzzlljrgb8ku2di.gif"></p><br><p>  Angular 5: </p><br><p>  Now presents an improved watch option that recompiles just what you need. </p><br><p><img src="https://habrastorage.org/webt/dc/sm/ie/dcsmies3ylt-ospgivaqxuihov4.gif"></p><br><p>  This means that for medium projects the compilation time was reduced from 12-14 seconds to 2-3 seconds. </p><br><p>  Now you have the opportunity to use the incremental build mode in conjunction with the AOT compilation, thanks to which you can find problem areas of your application code even at the development stage.  The most common mistakes that anyone had are working with Lazy Modules in different assembly modes.  In AngularJS and Angular 2 (initially), only JIT compilation was available, a new type of compilation was added in the future, in older versions of Angular, the AOT mode will be enabled by default, now you need to either specify a special flag (Angular CLI), or use a special webpack loader. </p><br><pre> <code class="bash hljs">ng serve --aot</code> </pre> <br><p>  However, there is a possibility something might go wrong if you previously built your application <a href="https://github.com/angular/angular-cli/issues/8345">only in JIT mode</a> : </p><br><pre> <code class="bash hljs">ng build --prod --aot=<span class="hljs-literal"><span class="hljs-literal">false</span></span> --build-optimizer=<span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-comment"><span class="hljs-comment"># : ng build --prod --aot=false</span></span></code> </pre> <br><p> ,   ,  Angular     ,     : </p><br><ul><li>       (Just in time, JIT) </li></ul><br><p><img src="https://habrastorage.org/webt/my/e1/pt/mye1pt3rikpeed48uw-nbja3rjq.png"></p><br><ul><li>       (Ahead of time, AOT) </li></ul><br><p><img src="https://habrastorage.org/webt/ry/4o/wu/ry4owupis51cuiq4997aaqrdohs.png"></p><br><p>    JIT  AOT   <a href="https://stackoverflow.com/questions/41450226/angular-2-just-in-time-jit-vs-ahead-of-time-aot-compilation/41744331"> </a> . </p><br><p>   Angular CLI 1.5        ,       ,       ,    - ,    -    .      AOT. </p><br><h4 id="preserve-whitespace"> Preserve Whitespace </h4><br><p>       <a href="https://angular.io/api/core/Component">@Component</a> ,          . </p><br><p> ,           app.component.html: </p><br><p><img src="https://habrastorage.org/webt/e4/i_/tc/e4i_tc7wgqw7eaiejmpirvjyaas.png"></p><br><p>  ,       ,              .    ,       . </p><br><p><img src="https://habrastorage.org/webt/jy/fo/ss/jyfossqed_vt953io6xyxtpg1zw.png"></p><br><p>       preserveWhitespaces,   true.          ,           . </p><br><p> tsconfig.json </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"extends"</span></span>: <span class="hljs-string"><span class="hljs-string">"../tsconfig.json"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"compilerOptions"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"outDir"</span></span>: <span class="hljs-string"><span class="hljs-string">"../out-tsc/app"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"baseUrl"</span></span>: <span class="hljs-string"><span class="hljs-string">"./"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"module"</span></span>: <span class="hljs-string"><span class="hljs-string">"es2015"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"types"</span></span>: [] }, <span class="hljs-attr"><span class="hljs-attr">"angularCompilerOptions"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"preserveWhitespaces"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> // &lt;------ }, <span class="hljs-attr"><span class="hljs-attr">"exclude"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"test.ts"</span></span>, <span class="hljs-string"><span class="hljs-string">"**/*.spec.ts"</span></span> ] }</code> </pre> <br><p>   main.ts </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">platformBrowserDynamic</span></span>()<span class="hljs-selector-class"><span class="hljs-selector-class">.bootstrapModule</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">AppModule</span></span>, { <span class="hljs-attribute"><span class="hljs-attribute">preserveWhitespaces</span></span>: false });</code> </pre> <br><p>       pre,    ,         .    Angular preserveWhitespaces       true.    ‚Äî       ,   -   ,       . </p><br><p>       ngPreserveWhitespaces,    -      ,      : </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ngPreserveWhitespaces</span></span></span><span class="hljs-tag">&gt;</span></span>hi !+! panda<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4 id="uluchshennaya-podderzhka-dekoratorov">    </h4><br><p>    Angular    ,   ,   d.ts   API.    ,          runtime. </p><br><p>     : </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">webSocketFactory</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> WebSocket; } @NgModule({ <span class="hljs-attr"><span class="hljs-attr">providers</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">provide</span></span>: WEBSOCKET, <span class="hljs-attr"><span class="hljs-attr">useFactory</span></span>: webSocketFactory }, ] }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppModule</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br><p> : </p><br><pre> <code class="hljs coffeescript">@NgModule({ providers: [ { provide: WEBSOCKET, useFactory: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> WebSocket }, ] }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppModule</span></span></span><span class="hljs-class"> {}</span></span></code> </pre> <br><h4 id="proverka-tipov-v-shablonah">     </h4><br><p>       ,       .       . </p><br><p>       fullTemplateTypeCheck,    false,       .        , ,     : </p><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- lowercase expects a string --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>{{ 12.3 | lowercase }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>    : </p><br><pre> <code class="hljs pgsql">Argument <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-string"><span class="hljs-string">'12.3'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> assignable <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> parameter <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-string"><span class="hljs-string">'string'</span></span></code> </pre> <br><p>      ,      . ,      ngModel          hasError(),   : </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> [(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ngModel</span></span></span><span class="hljs-tag">)]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"user.password"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">required</span></span></span><span class="hljs-tag"> #</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">loginCtrl</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ngModel"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- typo in `hasError()` method --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> *</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ngIf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"loginCtrl.hasEror('required')"</span></span></span><span class="hljs-tag">&gt;</span></span>Password required<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>    : </p><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">Property</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'hasEror</span></span>' does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> exist <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'NgModel</span></span>'. Did you mean <span class="hljs-symbol"><span class="hljs-symbol">'hasError</span></span>'?</code> </pre> <br><a name="s3_2"></a><br><h3 id="32-optimizirovannaya-sborka">  3.2. <strong> </strong> </h3><br><p>   Angular 5.0.0, production builds,    Angular CLI,        . </p><br><p> Build optimizer ‚Äî  ,    Angular CLI,     ,     . </p><br><p>   AngularMoscow   2017     Google  <a href="https://github.com/splincode/meetup/tree/master/2017/july">  Angular 4</a> ,    ,             Angular 2  Angular 4.  ,     ,      ,     Angular 5.    ,  ,  ,      Angular 5 . </p><br><p><img src="https://habrastorage.org/webt/-j/yn/ox/-jynoxnpg3b8miftf2krh6weffk.png"></p><br><a name="s3_3"></a><br><h3 id="33-uluchshennyy-server-side-rendering-v-angular-universal">  3.3. <strong> server-side rendering  Angular Universal</strong> </h3><br><p> <a href="https://github.com/angular/universal">Angular Universal</a> ‚Äî ,        (SSR)  Angular-.           HTML       ,     . </p><br><p>    SSR  Enterprise-: </p><br><p><img src="https://habrastorage.org/webt/ei/8u/su/ei8ususodx5kwodlxtah0gngr7e.png"></p><br><p>        Nodemon (    Express  Node.js),            server-side-rendering (    headless ,       ),      ,        .  -  Node.js           - (Java, ASP.NET, ...)   (Nginx, HAProxy).    -    ,      - Node.js.  -        ,      ,  ,      -   ,     ,          . </p><br><p>     ,   ,         ,  ,   ,     . </p><br><p>    starter kit,  <a href="https://github.com/Angular-RU/angular-universal-starter">  </a> .            .       <a href="https://www.youtube.com/watch%3Fv%3DgeckI2J6naM">Angular Universal Page Load Performance</a> . </p><br><h4 id="angular-universal-state-transfer-api-and-dom-support"> Angular Universal State Transfer API and DOM Support </h4><br><p>           .   ServerTransferStateModule   BrowserTransferStateModule.        HTTP-    .     ‚Äî   Domino  platform-server.        DOM   ,     -- JS-   . </p><br><a name="s3_4"></a><br><h3 id="34-uluchshennaya-proizvoditelnost-pri-rabote-s-formami">  3.4. <strong>     </strong> </h3><br><p>  , Enterpise User Interface       ,         ,    UI   .             blur  submit,     .       ,        .  asyncValidator       options. </p><br><p> Angular 4: </p><br><p>         : </p><br><p><img src="https://habrastorage.org/webt/at/ca/hx/atcahx2dchjg1wjhslyp4ryrtow.gif"></p><br><p> Anguar 5: </p><br><p>    updateOn: </p><br><p><img src="https://habrastorage.org/webt/rh/dt/6x/rhdt6xrw8-ldcti2b_oaqztmue8.gif"></p><br><p><img src="https://habrastorage.org/webt/_c/hr/89/_chr89d0gzm0filizwtdbtgq5xw.gif"></p><br><p>         : </p><br><p><img src="https://habrastorage.org/webt/n2/em/_r/n2em_rq8-nd__hlk7bxrztfpzti.gif"></p><br><p>    ngModel: </p><br><p><img src="https://habrastorage.org/webt/xq/kw/y4/xqkwy4ib4pwjb7pjrelxjncrfjc.gif"></p><br><p>    ngFormOptions: </p><br><p><img src="https://habrastorage.org/webt/bk/l2/v-/bkl2v-kbhrukiuljuaboo41rdaa.gif"></p><br><a name="s3_5"></a><br><h3 id="35-perepisannye-pod-lokalizaciyu-pipes">  3.5. <strong>   Pipes</strong> </h3><br><p>    Pipes ()  Date, Number, Percent  Currency,      i18n. </p><br><p>    Pipes      .          .       ,     . </p><br><p><img src="https://habrastorage.org/webt/i8/h1/rk/i8h1rkqamlpcyeklvghne0h8spq.gif"></p><br><p><img src="https://habrastorage.org/webt/h4/2x/q7/h42xq7_p3wdm7okjmlllf1abohm.gif"></p><br><p>       : </p><br><p><img src="https://habrastorage.org/webt/mr/fv/mq/mrfvmqimzanhlimpoxmzyd_yocg.gif"></p><br><a name="s3_6"></a><br><h3 id="36-zamena-reflectiveinjector-na-staticinjector">  3.6. <strong> ReflectiveInjector  StaticInjector</strong> </h3><br><p>         ReflectiveInjector  StaticInjector.  injector'     Reflect.   ,  Reflect - ,        JIT. </p><br><p>      Dependency Injection  Angular,     . Dependency Injection (DI) ‚Äî  ,     .  DI ‚Äî     ,        ,    (),        (),   .   ()     . </p><br><p><img src="https://habrastorage.org/webt/og/we/en/ogweenytfbvcsldb9kzcgatyvgi.png"></p><br><h4 id="reflectiveinjector"> ReflectiveInjector </h4><br><p> ReflectiveInjector    ,   Reflect,      ,    Reflective. </p><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(<span class="hljs-meta"><span class="hljs-meta">@Inject(B)</span></span> b) { } &lt;----- `B`   } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> i = ReflectiveInjector.resolveAndCreate([A, B]);</code> </pre> <br><p>  <a href="https://angular.io/api/core/Inject">@Inject</a>  ,   ,   ReflectiveInjector   . </p><br><h4 id="staticinjector"> StaticInjector </h4><br><p>        ,       : </p><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(b) {} } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> i = Injector.create([{provide: A, useClass: A, deps: [B]]}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = i.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(A);</code> </pre> <br><p>  ,       : </p><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B1</span></span></span><span class="hljs-class"> {} </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A1</span></span></span><span class="hljs-class"> { constructor(@</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Inject(B1)</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">) {} } </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B2</span></span></span><span class="hljs-class"> {} </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A2</span></span></span><span class="hljs-class"> { constructor(@</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Inject(B2)</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">) {} } bootstrapModule(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppModule</span></span></span><span class="hljs-class">, {</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">providers</span></span></span><span class="hljs-class">: [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A1</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B1</span></span></span><span class="hljs-class">]}).platformBrowserDynamic([</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A2</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B2</span></span></span><span class="hljs-class">])</span></span></code> </pre> <br><p>      : </p><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B1</span></span></span><span class="hljs-class"> {} </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A1</span></span></span><span class="hljs-class"> { constructor(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">) {} } </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B2</span></span></span><span class="hljs-class"> {} </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A2</span></span></span><span class="hljs-class"> { constructor(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">) {} } platformBrowserDynamic([{ </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">provide</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">useClass</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">deps</span></span></span><span class="hljs-class">: [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B1</span></span></span><span class="hljs-class">] }, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B1</span></span></span><span class="hljs-class">]) .bootstrapModule(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppModule</span></span></span><span class="hljs-class">, { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">providers</span></span></span><span class="hljs-class">: [ {</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">provide</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">useClass</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">A2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">deps</span></span></span><span class="hljs-class">: [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B2</span></span></span><span class="hljs-class">]}, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">B2</span></span></span><span class="hljs-class"> ] })</span></span></code> </pre> <br><p> ReflectiveInjector -   ,  , ,    .    ,      . </p><br><a name="s3_7"></a><br><h3 id="37-uluchshennyy-ngzone">  3.7. <strong> NgZone</strong> </h3><br><p>    Angular  NgZone   . ,   ,     ,   ,  , Mobx    . </p><br><pre> <code class="hljs pgsql">platformBrowserDynamic().bootstrapModule(AppModule, {ngZone: <span class="hljs-string"><span class="hljs-string">'noop'</span></span>}).<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">ref</span></span> =&gt; {});</code> </pre> <br><a name="s3_8"></a><br><h3 id="38-multi-exportas">  3.8. <strong>Multi exportAs</strong> </h3><br><p>       .          -   . </p><br><p><img src="https://habrastorage.org/webt/2q/ib/pl/2qibplfmxicacpdzvdssaoteymq.png"></p><br><p><img src="https://habrastorage.org/webt/cj/dk/le/cjdklenc-6mb33ngaktwpnk5nzo.png"></p><br><p>  : </p><br><pre> <code class="hljs java"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span>({ moduleId: <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.id, selector: <span class="hljs-string"><span class="hljs-string">'a[mat-button], a[mat-raised-button], a[mat-icon-button]'</span></span>, exportAs: <span class="hljs-string"><span class="hljs-string">'matButton, matAnchor'</span></span>, . . . }</code> </pre> <br><a name="s3_9"></a><br><h3 id="39-uluchshennyy-rxjs">  3.9. <strong> RxJS</strong> </h3><br><p>  RxJS    5.5.2+.   ¬´lettable operators¬ª     ,     .      patch,   splitting / tree shaking. </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Component, OnInit } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/Observable'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/add/observable/of'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/add/operator/map'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/add/operator/filter'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/add/operator/do'</span></span>; @Component({ ... }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ myObs = Observable.of(<span class="hljs-string"><span class="hljs-string">'Hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'Alligator'</span></span>, <span class="hljs-string"><span class="hljs-string">'World!'</span></span>); ngOnInit() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myObs .do(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'The do operator is the do operator!'</span></span>)) .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.length &gt; <span class="hljs-number"><span class="hljs-number">8</span></span>) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.toUpperCase()) .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } }</code> </pre> <br><p> : </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Component, OnInit } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/observable/of'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { map, filter, tap } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/operators'</span></span>; @Component({ ... }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ myObs = <span class="hljs-keyword"><span class="hljs-keyword">of</span></span>(<span class="hljs-string"><span class="hljs-string">'Hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'Alligator'</span></span>, <span class="hljs-string"><span class="hljs-string">'World!'</span></span>); ngOnInit() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.myObs .pipe( tap(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'The do operator is now tap!'</span></span>)), filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.length &gt; <span class="hljs-number"><span class="hljs-number">8</span></span>), map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.toUpperCase()) ) .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } }</code> </pre> <br><p>  ,         .   lettable-      pipe,     . </p><br><p>  : <br> do -&gt; tap <br> catch -&gt; catchError <br> switch -&gt; switchAll <br> finally -&gt; finalize </p><br><p>  You can read more <a href="">here</a> . </p><br><a name="s3_10"></a><br><h3 id="310-obnovlennyy-cikl-zhizni-u-router">  3.10. <strong>    Router</strong> </h3><br><p>       .      guards / resolvers         . </p><br><p>   (): <br> GuardsCheckStart, <br> ChildActivationStart, <br> ActivationStart, <br> GuardsCheckEnd, <br> ResolveStart, <br> ResolveEnd, <br> ActivationEnd, <br> ChildActivationEnd. </p><br><pre> <code class="hljs javascript"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(public router: Router, spinner: Spinner) { router.events.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> ChildActivationStart) { spinner.start(e.route); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> ChildActivationEnd) { spinner.end(e.route); } }); } }</code> </pre> <br><a name="s3_11"></a><br><h3 id="311-uluchshennyy-mobile-experience">  3.11. <strong> Mobile Experience</strong> </h3><br><p>     <a href="https://pascalprecht.github.io/slides/angular-and-service-workers/">@angular/service-worker,</a>    Progressive Web Application (PWA).     -   Material Design       2017 .    ,        <a href="https://medium.com/%40webmaxru/a-new-angular-service-worker-creating-automatic-progressive-web-apps-part-2-practice-3221471269a1"></a> . </p><br><a name="s3_12"></a><br><h3 id="312-breaking-changes-i-ne-tolko">  3.12. <strong>Breaking Changes   </strong> </h3><br><p> ,   .      ,  Angular    <a href="https://angular-update-guide.firebaseapp.com/">Angular Update Guide</a> ,        ,    -  . </p><br><p><img src="https://habrastorage.org/webt/xk/t9/io/xkt9iotw0i5mhgwh4j6-olipp4y.png"></p><br><h4 id="uluchshennye-pipes">  Pipes </h4><br><p>     Pipes: Date, Number, Percent  Currency,      : </p><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@NgModule({ imports: [CommonModule, DeprecatedI18NPipesModule], // ... })</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppModule</span></span></span><span class="hljs-class"> </span></span>{</code> </pre> <br><h4 id="yavnoe-ukazanie-zavisimostey">    </h4><br><p> : </p><br><pre> <code class="hljs pgsql">platformBrowserDynamic([ MyCustomProviderA, MyCustomProviderB // <span class="hljs-keyword"><span class="hljs-keyword">depends</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> MyCustomProviderA ]).bootstrapModule(AppModule);</code> </pre> <br><p>    : </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">platformBrowserDynamic</span></span>(<span class="hljs-selector-attr"><span class="hljs-selector-attr">[ { provide: MyCustomProviderA, deps: []</span></span> }, { <span class="hljs-attribute"><span class="hljs-attribute">provide</span></span>: MyCustomProviderB, deps: [MyCustomProviderA] } ])<span class="hljs-selector-class"><span class="hljs-selector-class">.bootstrapModule</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">AppModule</span></span>);</code> </pre> <br><h4 id="httpclient"> HttpClient </h4><br><p>    Angular 4.3,   HttpClient.    Angular 6,    ,  Angular    deprecated. </p><br><p> HttpClientModule: </p><br><p><img src="https://habrastorage.org/webt/zt/ei/i4/zteii4-ox-1gdlltl6chn58stjm.gif"></p><br><p> Inject HttpClient: </p><br><p><img src="https://habrastorage.org/webt/4f/fz/b6/4ffzb6gbbd1cou9asu-t_-i_1yw.gif"></p><br><p>     JSON: </p><br><p><img src="https://habrastorage.org/webt/ev/zr/eq/evzreqes3ed6lvoay2idfukcala.gif"></p><br><p>    (Interceptors): </p><br><p><img src="https://habrastorage.org/webt/rw/yd/73/rwyd73i0fgtq0745qd0flc8pu4y.gif"></p><br><p>     : </p><br><p><img src="https://habrastorage.org/webt/6g/hn/uw/6ghnuwmy3w89u27padw6uycbhfu.gif"></p><br><h4 id="resource-integrity"> Resource integrity </h4><br><p>    Angular CLI 1.5    script  link   integrity  crossorigin.  ,        ,  ,         ¬´man in the middle¬ª.  ,     . </p><br><h4 id="proverka-na-nesootvetstvie-versii-typescript">     TypeScript </h4><br><p>    Angular CLI 1.5   ,     TypeScript (     TypeScript  ),      Angular.    ,     ,    - ,     TypeScript -   ,  ,        .   Angular CLI   TypeScript 2.4.      ,        ng set warnings.typescriptMismatch=false (,   ,     ). </p><br><h4 id="approot-configurable"> appRoot configurable </h4><br><p>   ‚Äî       src. </p><br><h3 id="v-zaklyuchenii">  <strong>In custody</strong> </h3><br><p>    Angular        ,     .      ,        Angular.   ,    Issues Tracker  ,          ,   ,       Angular Team,    Community.     ,  ,  !  Until! </p><br><p><img src="https://vogue.ua/uploads/article-inline/1b1/fb3/b5f/585eb5ffb31b1.gif"></p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/341688/">https://habr.com/ru/post/341688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341672/index.html">Do you have a student syndrome?</a></li>
<li><a href="../341676/index.html">No, I do not have third-party projects to show you</a></li>
<li><a href="../341678/index.html">Telegram-bot for home video surveillance from scrap materials</a></li>
<li><a href="../341680/index.html">And you still do not pay a premium for on time made projects?</a></li>
<li><a href="../341686/index.html">How to talk about modern web development to the time traveler from 2007</a></li>
<li><a href="../341690/index.html">Why visual programming and D3NE may be useful to you</a></li>
<li><a href="../341692/index.html">Hello from the Mesozoic</a></li>
<li><a href="../341694/index.html">UB-2017. Part 1</a></li>
<li><a href="../341696/index.html">ICO in search of jurisdiction</a></li>
<li><a href="../341704/index.html">How to quickly set up email authentication in Django</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>