<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using UpdatePanel and others like it</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Everyone who is engaged in web programming, sooner or later is faced with the task of implementing asynchronous requests to the server and processing ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using UpdatePanel and others like it</h1><div class="post__text post__text-html js-mediator-article">  Everyone who is engaged in web programming, sooner or later is faced with the task of implementing asynchronous requests to the server and processing the returned result. <br>  If you look from Asp.net, the guys from Microsoft have done a great job in order to make life easier for all of us.  However, there is some kind of manic idea in my head, forbidding to use that, the principles of which I do not understand.  Thus, the curve track led me into the study of the operation of the UpdatePanel object and its ilk.  Having reviewed many forums, I found dozens of statements that ‚ÄúUpdatePanel - SUCKS‚Äù, supported by various disparate explanations.  But none of them has ever made me completely dissuade from the negative effect of its use.  In this regard, taking on faith that everything said by various Anonymus on the forums is true, I began to dig. <br>  And so it came to that. <br><a name="habracut"></a><br><br><h5>  1. Build a page without AJAX.  Definition for what we need AJAX. </h5><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font>&lt;%@ Page Language="C#" AutoEventWireup="true" CodeFile="Test.aspx.cs" Inherits="Test" %&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.w3.org/1999/xhtml"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font>    <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">id</font> <font color="#0000ff">="form1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:Label</font> <font color="#ff0000">ID</font> <font color="#0000ff">="Label1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">asp:Label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:Button</font> <font color="#ff0000">ID</font> <font color="#0000ff">="Button1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#ff0000">Text</font> <font color="#0000ff">="Button"</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="Button1_Click"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">protected</font> <font color="#0000ff">void</font> Button1_Click( <font color="#0000ff">object</font> sender, <font color="#2B91AF">EventArgs</font> e) <br> { <br> Label1.Text = <font color="#2B91AF">DateTime</font> .Now.ToString(); <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">protected</font> <font color="#0000ff">void</font> Button1_Click( <font color="#0000ff">object</font> sender, <font color="#2B91AF">EventArgs</font> e) <br> { <br> Label1.Text = <font color="#2B91AF">DateTime</font> .Now.ToString(); <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> </blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">protected</font> <font color="#0000ff">void</font> Button1_Click( <font color="#0000ff">object</font> sender, <font color="#2B91AF">EventArgs</font> e) <br> { <br> Label1.Text = <font color="#2B91AF">DateTime</font> .Now.ToString(); <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <br></code> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When the page loads in the browser, only the button is present on it.  When you press the button, the Label is filled with time. <br>  Before the button was pressed, the page code looks like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.w3.org/1999/xhtml"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <br>    <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">method</font> <font color="#0000ff">="post"</font> <font color="#ff0000">action</font> <font color="#0000ff">="Test.aspx"</font> <font color="#ff0000">id</font> <font color="#0000ff">="form1"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="aspNetHidden"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="hidden"</font> <font color="#ff0000">name</font> <font color="#0000ff">="__VIEWSTATE"</font> <font color="#ff0000">id</font> <font color="#0000ff">="__VIEWSTATE"</font> <font color="#ff0000">value</font> <font color="#0000ff">="/wEPDwUKLTE2MjY5MTY1NWRko6bmPqIZK4XzwlJ+QT95KATKkAm7XgkyNT8uG1kyAYY="</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="aspNetHidden"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="hidden"</font> <font color="#ff0000">name</font> <font color="#0000ff">="__EVENTVALIDATION"</font> <font color="#ff0000">id</font> <font color="#0000ff">="__EVENTVALIDATION"</font> <font color="#ff0000">value</font> <font color="#0000ff">="/wEWAgKd+pPDBwKM54rGBoC4gybAW7W7f/8WUBQh0YQDD1jlQXYgaQH1TnNEFqnS"</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">span</font> <font color="#ff0000">id</font> <font color="#0000ff">="Label1"</font> <font color="#0000ff">&gt;</font> Label <font color="#0000ff">&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="submit"</font> <font color="#ff0000">name</font> <font color="#0000ff">="Button1"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Button"</font> <font color="#ff0000">id</font> <font color="#0000ff">="Button1"</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  When you click on the button, the page code will change as follows: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.w3.org/1999/xhtml"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <br>    <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">method</font> <font color="#0000ff">="post"</font> <font color="#ff0000">action</font> <font color="#0000ff">="Test.aspx"</font> <font color="#ff0000">id</font> <font color="#0000ff">="form1"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="aspNetHidden"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="hidden"</font> <font color="#ff0000">name</font> <font color="#0000ff">="__VIEWSTATE"</font> <font color="#ff0000">id</font> <font color="#0000ff">="__VIEWSTATE"</font> <font color="#ff0000">value</font> <font color="#0000ff">="/wEPDwUKLTE2MjY5MTY1NQ9kFgICAw9kFgICAQ8PFgIeBFRleHQFEzA2LjA0LjIwMTEgMjI6MzM6MzBkZGSqilrbUiK+hZQi417owBVMMBY0PhVIsFIco8gKMAgDzg=="</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="aspNetHidden"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="hidden"</font> <font color="#ff0000">name</font> <font color="#0000ff">="__EVENTVALIDATION"</font> <font color="#ff0000">id</font> <font color="#0000ff">="__EVENTVALIDATION"</font> <font color="#ff0000">value</font> <font color="#0000ff">="/wEWAgLasIQ/AoznisYG8Y0mtUQQkyTrw6eGx7daZxUnrJZkgkJYAwlkImZYyNg="</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">i</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">b</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#ff0000">id</font> <font color="#0000ff">="Label1"</font> <font color="#0000ff">&gt;</font> 06.04.2011 22:33:30 <font color="#0000ff">&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">b</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">i</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="submit"</font> <font color="#ff0000">name</font> <font color="#0000ff">="Button1"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Button"</font> <font color="#ff0000">id</font> <font color="#0000ff">="Button1"</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  As we can see, the whole page remains the same.  The viewstate and content have changed slightly. <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">span</font> <font color="#ff0000">id</font> <font color="#0000ff">="Label1"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  .  At the same time, for such a small change it took to reload the entire page. <br>  Conclusion - not comme il faut. <br><br><h5>  Building a page with AJAX </h5><br><br>  Add to the page the elements that Visual Studio offers us, and which are necessary for the implementation of the task: ScriptManager and UpdatePanel. <br><br>  The page code will change as follows: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font>&lt;%@ Page Language="C#" AutoEventWireup="true" CodeFile="Test.aspx.cs" Inherits="Test" %&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.w3.org/1999/xhtml"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font>     <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">id</font> <font color="#0000ff">="form1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:ScriptManager</font> <font color="#ff0000">ID</font> <font color="#0000ff">="ScriptManager1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">asp:ScriptManager</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:UpdatePanel</font> <font color="#ff0000">ID</font> <font color="#0000ff">="UpdatePanel1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ContentTemplate</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:Label</font> <font color="#ff0000">ID</font> <font color="#0000ff">="Label1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#ff0000">Text</font> <font color="#0000ff">="Label"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">asp:Label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:Button</font> <font color="#ff0000">ID</font> <font color="#0000ff">="Button1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#ff0000">Text</font> <font color="#0000ff">="Button"</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="Button1_Click"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ContentTemplate</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">asp:UpdatePanel</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Naturally, when you press a button, a query occurs. <br>  We use a sniffer to examine more closely what is sent to the server, with such a request.  And what is taken from it. <br><h6>  Request </h6><br>  ScriptManager1 = UpdatePanel1% 7CButton1 &amp; __ EVENTTARGET = &amp; __ EVENTARGUMENT = &amp; <br>  __VIEWSTATE =% 2FwEPDwULLTEyNTU5OTE4NDBkZBeGYz2ykWCdLe% 2FOqUGKO6XyNu <br>  fetXoAHtWu% 2B6HogbQM &amp; __ EVENTVALIDATION =% 2FwEWAgLfxMyuBgKM54rGBm5yI89 <br>  MSG1Ab3% 2FionirqDlYwJw90SrasAVtECg7kMKg &amp; __ ASYNCPOST = true &amp; Button1 = Button <br><br><h6>  Response </h6><br>  1 | # || 4 | 172 | updatePanel | UpdatePanel1 | <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">span</font> <font color="#ff0000">id</font> <font color="#0000ff">="Label1"</font> <font color="#0000ff">&gt;</font> 06.04.2011 22:45:32 <font color="#0000ff">&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="submit"</font> <font color="#ff0000">name</font> <font color="#0000ff">="Button1"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Button"</font> <font color="#ff0000">id</font> <font color="#0000ff">="Button1"</font> <font color="#0000ff">/&gt;</font></font> <br> |144|hiddenField|__VIEWSTATE|/wEPDwULLTEyNTU5OTE4NDAPZBYCAgMPZBYCAgMPZBY <br> CZg9kFgICAQ8PFgIeBFRleHQFEzA2LjA0LjIwMTEgMjI6NDU6MzJkZGSsSgFqm7m2vsFaoPo+4cjv <br> hIKZqpewoFXAcOyEREOqHw==|64|hiddenField|__EVENTVALIDATION|/wEWAgKhlZm1BwKM5 <br> 4rGBneyIIjYM0XM0O/oSExJWXVpXaQHZzYDddopSIBcDVj+|0|asyncPostBackControlIDs|||0| <br> postBackControlIDs|||26|updatePanelIDs||tUpdatePanel1,UpdatePanel1|0| <br> childUpdatePanelIDs|||25|panelsToRefreshIDs||UpdatePanel1,UpdatePanel1|2| <br> asyncPostBackTimeout||90|9|formAction||Test.aspx|18|pageTitle||  | <br></code> </blockquote><br>  If we look at the answer closer, we will see in it something resembling the contents of our UpdatePanel and the new ViewState.  And all this in size is much smaller than the whole page.  In principle, we achieved this.  Plus nothing blinks.  And if you think a bit and pull out the button that calls the request from the guts of UpdatePanel, it turns out to be even less, but what kind of ViewState it is.  After all, it is formed on the basis of all controls on the page, not only those that are updated asynchronously.  It turns out that when using UpdatePanel, a page goes through its entire cycle, regardless of how the request goes: synchronously or asynchronously. <br><br>  This fact of course could be the last nail in the coffin of UpdatePanel.  But the guys from Microsoft, would not be guys from Microsoft, if they had left it all just like that. <br><br>  All this is corrected quite simply by adding the following condition in the program code: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">if</font> (!ScriptManager1.IsInAsyncPostBack) <br> { <br> Label1.Text = "  "; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  This condition must be added to the page creation handlers. <br>  Everything that is inside this condition will not be executed at each asynchronous loading, and everything else will be. <br><br><h5>  Refuse to use UpdatePanel </h5><br><br>  Everything seems to be fine now.  Everyone is happy, but, in my opinion, some sediment remains, and how it works is not understood. <br><br>  Someone seemed to be talking about Web Services somewhere ... <br><br>  Here let us go about them and continue. <br><br>  Add a new WebService to our site and uncomment the attribute [System.Web.Script.Services.ScriptService] <br><br>  In Visual Studio 2010, the function is automatically generated in it: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">[WebMethod] <br> <font color="#0000ff">public</font> <font color="#0000ff">string</font> HelloWorld() { <br> <font color="#0000ff">return</font> <font color="#A31515">"Hello World"</font> ; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  We will not change anything in it. <br><br>  Next we have to do the following: <br><br>  1) explain the page where web services are located <br>  2) create a javascript function that accesses the web service <br>  3) create a trigger for this function <br><br>  And our page will change to this form: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font>&lt;%@ Page Language="C#" AutoEventWireup="true" CodeFile="Test.aspx.cs" Inherits="Test" %&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.w3.org/1999/xhtml"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font>    ,   UpdatePanel <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">id</font> <font color="#0000ff">="form1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">function</font> GetResult() { <br> WebService.HelloWorld( <font color="#0000ff">function</font> (result) { <br> $get( <font color="#A31515">'Label1'</font> ).innerHTML = result; <br> }); <br> } <br> <font color="#0000ff">&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:ScriptManager</font> <font color="#ff0000">ID</font> <font color="#0000ff">="ScriptManager1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Services</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:ServiceReference</font> <font color="#ff0000">Path</font> <font color="#0000ff">="~/WebService.asmx"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Services</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">asp:ScriptManager</font> <font color="#0000ff">&gt;</font> <br> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">asp:Label</font> <font color="#ff0000">ID</font> <font color="#0000ff">="Label1"</font> <font color="#ff0000">runat</font> <font color="#0000ff">="server"</font> <font color="#ff0000">Text</font> <font color="#0000ff">="Label"</font> <font color="#ff0000">ClientIDMode</font> <font color="#0000ff">="Static"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">asp:Label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="GetResult()"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Button"</font> <font color="#0000ff">/&gt;</font> <br> <br> <br> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  If you look at the answer that the server gave us, it will be like this: <br>  {"D": "Hello World"} <br><br>  Conclusion: Everything turned out cool. <br><br><h5>  xmlHttpRequest object </h5><br><br>  If you plunge deeper into this topic, then all of the above works through a simple xmlHttpRequest object.  But that's another story. <br><br>  So, as I always had problems with the formulation of the resulting conclusions, I, with the official permission of the habrauzer <a href="https://habrahabr.ru/users/shedal/" class="user_link">Shedal,</a> write his words: <br><br>  <i>I would say that UpdatePanel really makes it easier to develop, and, of course, when you exchange data with the server, you get less traffic than with a full page reload.</i>  <i>However, the amount of data transferred is often still greater than the minimum required.</i>  <i>In most cases, this is absolutely not critical, but sometimes, with active data exchange with the server, it is better to use web services as a replacement for asynchronous postbacks.</i> <i><br><br></i>  <i>In general, web services have a much wider range of applications and there can be many reasons to choose them.</i>  <i>For example, the versatility of a software interface for exchanging data with a server in order to create several user interfaces (eg, mobile, desktop and web).</i>  <i>And even in this case, it is quite normal when web services are used only as a layer between business logic and the interface, and the interface still operates with standard ASP.NET tools, including</i>  <i>UpdatePanel using web services for data exchange only.</i> <i><br><br></i>  <i>At the same time, UpdatePanel has many advantages, because, unlike web services, they were developed specifically for asynchronous changes to the HTML code of a page.</i>  <i>Hence, convenient triggers, nesting of panels, automatic rendering (which you would otherwise have to implement manually on JS), and much more.</i> <i><br></i> <br>  and further: <br><br>  Image <b>can not be</b> loaded asynchronously!  Only <b>emulate</b> asynchronous loading. <br><br>  All success!) </div><p>Source: <a href="https://habr.com/ru/post/116994/">https://habr.com/ru/post/116994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116985/index.html">Chinese tablet Gpad Gforce</a></li>
<li><a href="../116988/index.html">Automation of localization in Silverlight using Visual Studio macros</a></li>
<li><a href="../116989/index.html">The Chinese will launch a licensed music service</a></li>
<li><a href="../116990/index.html">Effective and ineffective websites</a></li>
<li><a href="../116992/index.html">Director of the Linux Foundation: no need to offend Microsoft</a></li>
<li><a href="../116997/index.html">A brilliant example of Chinese engineering is a 500 GB portable hard drive.</a></li>
<li><a href="../116998/index.html">Steve Pavlina - 30 days without Facebook</a></li>
<li><a href="../116999/index.html">GNOME 3.0 release</a></li>
<li><a href="../117003/index.html">Notes geek. zsh shell</a></li>
<li><a href="../117004/index.html">Biglion mastered the black promotion?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>