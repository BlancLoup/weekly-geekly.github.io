<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Custom'a Eye-tracker calibration</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Soon there will be a year since we released a product with a custom eye-tracker calibration on board. Unfortunately, for various reasons, everything c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Custom'a Eye-tracker calibration</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/vu/ph/2k/vuph2k-secvjgodpwhujnfl0tpq.jpeg"><br><br>  Soon there will be a year since we released a product with a <i>custom</i> <i>eye-tracker</i> calibration on board.  Unfortunately, for various reasons, everything could not get this article.  However, recently there was a funny incident that prompted to finish the job.  But first things first.  I hope someone will still benefit from our experience, despite the fact that the post turned out to be damp. <br><a name="habracut"></a><br>  In short, the <i>Eye-tracker</i> is a device that allows you to track the direction of the gaze, as well as the position of the eyes and head. <br><br>  The <i>Eye-tracker</i> 's quite a lot of applications, one of these - is the industry of computer games (a <a href="https://www.igromania.ru/article/29445/Kak_upravlyat_igrami_vzglyadom_Eye_Tracking_istoriya_i_Tobii_Eye_Tracker_4C.html">little more</a> ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Often, gaze detection is responsible for secondary (auxiliary), but important actions in games: <br><br><ul><li>  camera movement; </li><li>  aiming; </li><li>  selection of objects for interaction; </li><li>  the choice of weapons; </li><li>  automatic call pause when you lose sight; </li><li>  other </li></ul><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ZHUsgggJVYw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><div style="text-align:center;"><img src="https://habrastorage.org/webt/sg/p-/dc/sgp-dctnwmlt3w-iddzszgijitq.png"></div><br>  In most cases, the standard calibration (it will be about the <i>Tobii Eye Tracker 4C</i> ) is enough for comfortable use of the <i>Eye Track</i> 'Era. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iq/if/bk/iqifbkpuui38hrpl3h9veurk4pa.gif"></div><div style="text-align:center;"><img src="https://habrastorage.org/webt/5j/gw/l0/5jgwl0edy-oimimdf9vnpf5hv14.png"></div><br>  But, unfortunately, for our purposes, the accuracy of the device, achieved by standard calibration is not enough, because, in our project, the look is the main control mechanics. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dx/ar/jz/dxarjzabd4uz9vy3mru3vfc3km8.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u-/cb/lm/u-cblmjtpqyqq-1-jxprlwyjwsu.png"></div><div style="text-align:center;"><img src="https://habrastorage.org/webt/ey/3e/gw/ey3egwsmopf7ymrc5kpvnuqpjdo.png"></div><br>  From the above, a <b>task has been</b> formed: to improve the standard calibration; <br>  <b>conditions</b> : <i>Tobii Eye Tracker 4C</i> device, development language - <i>C # (WPF)</i> . <br><br>  It seems to be a solution on the surface: if you want more accuracy - add more calibration points, but everything is not so simple. <br><br>  <i>Tobii AB</i> has quite a lot of <a href="https://developer.tobii.com/">tools</a> to work with their devices.  Joy <a href="http://developer.tobiipro.com/index.html"><i>knew</i></a> no bounds when the <a href="http://developer.tobiipro.com/index.html"><i>Tobii Pro SDK</i></a> was discovered, in which there are all the buns for working with <a href="http://developer.tobiipro.com/commonconcepts/calibration.html">calibration</a> , but as it turned out later, this <i>SDK is</i> not suitable for working specifically with the <i>eye tracker</i> 'a model that we have (although it is strange that The device‚Äôs gaze detection was still present when using this <i>SDK</i> ).  I had to take the tools easier - <a href=""><i>Tobii.EyeX.Client</i></a> . <br><br>  Empirically, the optimal number of calibration points and their location were identified: a <b>4x3</b> matrix with <b>12</b> calibration points located (each in the center of the cell). <br><br>  The following parameters were also found empirically: <br><br><ul><li>  <b>time for calibration</b> by one calibration point - 3 seconds; </li><li>  <b>The index of the point considered</b> is 5 (if the index of the point received from the device is a multiple of this point, then we take it into account when calculating the calibration); </li><li>  <b>the maximum allowable deviation</b> from the calibration point ( <i>px</i> ) is calculated by the formula: <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.718ex" height="2.66ex" viewBox="0 -832 20545.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-61" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-74" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-68" x="1942" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-2E" x="2519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-4D" x="2964" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="4015" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6E" x="4361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-28" x="4961" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-72" x="5351" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-65" x="5802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-67" x="6269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="6749" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6F" x="7095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6E" x="7580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-57" x="8181" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="9229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-64" x="9575" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-74" x="10098" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-68" x="10460" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-2C" x="11036" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-72" x="11481" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-65" x="11933" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-67" x="12399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="12880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6F" x="13225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6E" x="13711" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-48" x="14311" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-65" x="15200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="15666" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-67" x="16012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-68" x="16492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-74" x="17069" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-29" x="17430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-2217" x="18042" y="0"></use><g transform="translate(18765,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-34" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMAIN-35" x="1279" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> Math.Min (regionWidth, regionHeight) * 0.45 </script></p>  Where <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.205ex" height="2.419ex" viewBox="0 -780.1 5685.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-65" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-67" x="918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="1398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6F" x="1744" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6E" x="2229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-57" x="2830" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="3878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-64" x="4224" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-74" x="4747" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-68" x="5109" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> regionWidth </script>  and <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.817ex" height="2.419ex" viewBox="0 -780.1 5949 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-65" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-67" x="918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="1398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6F" x="1744" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-6E" x="2229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-48" x="2830" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-65" x="3718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-69" x="4185" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-67" x="4530" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-68" x="5011" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457784/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhjUs66XatTjG13sQjT_2MLQxpZzDw#MJMATHI-74" x="5587" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> regionHeight </script>  - width and height of the cell of the calibration matrix, respectively </li></ul><br><br><h4>  Calibration Algorithm (Simple to Madness) </h4><br>  Calibration is performed sequentially, for each cell of the calibration matrix: <br><br><ol><li>  if the distance between the current calibration point and the point obtained from the device is less than the <b>maximum permissible deviation</b> , then this point (obtained from the device) is included in the collection for further processing, otherwise the calibration by the current cell is reset to its original state (and everything is new) ; </li><li>  after the <b>calibration time</b> for one calibration point has been exhausted, we obtain the average value of the displacement over previously collected data. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z_/lp/td/z_lptdz-ygjosn4wqneara1m7cs.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4z/fj/j1/4zfjj1dpywqdnrzejj2aketqeqc.png"></div><br>  Upon completion of the calibration, we have a collection of 12 <b>averaged values ‚Äã‚Äãof the displacements</b> by region (matrix cells). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mi/u3/93/miu393yf7i9pohzflsofbfhata0.gif"></div><div style="text-align:center;"><img src="https://habrastorage.org/webt/b1/df/bh/b1dfbhfb12wf-gqvrnz3_z9ewpg.png"></div><br><br><h4>  Use (even easier) </h4><br><ol><li>  determine which region the point gets from the device; </li><li>  we shift a point received from the device, on <b>average value of shift</b> in this region. </li></ol><br>  Thus, it was possible to improve the accuracy of the <i>Tobii Eye Tracker 4C</i> device in a software way (by making an add-on over a standard calibration). <br><br>  Unfortunately, because of the nondisclosure agreement, I can not specify the name of the software, nor put the source code or screenshots.  Fortunately, the algorithm was allowed to share.  I hope that someone post will still be useful. <br><br>  The article provides the simplest description of the main calibration process.  In addition, a lot of things happen: <br><br><ul><li>  averaging the value of a point with the previous one (for smoothness); </li><li>  check out the screen; </li><li>  eye sight tracking; </li><li>  tracking changes in the position of the eyes in space; </li><li>  <i>Eye tracker</i> status tracking; </li><li>  monitor screen resolution changes; </li><li>  track calibration cancellation; </li><li>  Random selection of the type of calibration labels; </li><li>  and much more. </li></ul><br>  And here is the very event that contributed to the ‚Äúcompletion‚Äù of the article: by some unthinkable coincidence, my friend ( <a href="https://habr.com/ru/post/444360/">from the previous post</a> ) had a chance to talk live with the developer from <i>Tobii AB</i> .  During the conversation, the developer mentioned the imperfect standard calibration and that our efforts were not in vain. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/16/0k/_t/160k_tr2znk1sjcdww46hiuw_ci.jpeg"></div></div><p>Source: <a href="https://habr.com/ru/post/457784/">https://habr.com/ru/post/457784/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457766/index.html">Generate tile levels and hide squares from the player.</a></li>
<li><a href="../457768/index.html">How I became vulnerable: we scan IT infrastructure with Qualys</a></li>
<li><a href="../457770/index.html">Writing custom transformer AST on TypeScript</a></li>
<li><a href="../457774/index.html">Studying a private pilot in Middle-earth: moving and living in a New Zealand village</a></li>
<li><a href="../45778/index.html">The new version of Ruby is faster up to 5 times</a></li>
<li><a href="../457786/index.html">Updated Anet A8 Plus. Large and made of metal</a></li>
<li><a href="../457790/index.html">BuratinoPhone mobile phone</a></li>
<li><a href="../457794/index.html">The symmetry property of the cointegration relation</a></li>
<li><a href="../457796/index.html">Features RTC M41T56</a></li>
<li><a href="../457798/index.html">What do open-end funds do - talk about fresh OpenStack and Linux Foundation projects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>