<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Taste BEM!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article describes how to create a project using BEM technologies. 
 Step by step, we will create a product catalog page using the BEM principles ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Taste BEM!</h1><div class="post__text post__text-html js-mediator-article"> This article describes how to create a project using BEM technologies. <br>  Step by step, we will create a <a href="http://toivonen.github.com/online-shop-dummy/desktop.bundles/index/index.html">product catalog page</a> using the BEM principles in CSS, the ability to write declarative JavaScript on the <code>i-bem.js</code> and using the <code>BEMHTML</code> template <code>BEMHTML</code> .  Helping to do all this will be <code>bem tools</code> , in particular - a tool for developing <code>bem server</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5dc/2f1/cf2/5dc2f1cf2ec7c83d44221a0ce448c319.png" width="500" height="351" title="Shop online" alt=" "><br><br>  Important: the article does not contain specific details, its goal is to get the project as quickly as possible.  A text that reveals more information will pass the next post. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  What is BEM? </h2><br>  For a start, a small lyrical digression for those who do not know what this abbreviation means. <br>  BEM stands for "Block, Element, Modifier."  This is a methodology for developing web projects, a way to conveniently divide the interface into separate things, applicable to any technology.  In addition, BEM is a set of tools for automating work.  Finally, BEM is the ability to create interface libraries for fast and efficient development. <br><br>  If you have not previously encountered BEM, you should first look at the materials on the site <a href="http://bem.info/">bem.info</a> , and then return to this article. <br>  For those who like video more, I can offer a <a href="https://vimeo.com/53219242">recording of the report from WebConf Riga 2012</a> (in English) or a <a href="http://my.comdi.com/event_export/_rec/rit/01/%3Froom%3D2%26amp%3Brec%3D25">speech by Sergey Berezhnoy (@veged) at RIT 2011</a> . <br><br><h2>  Required Tools </h2><br>  To go through all the steps of this manual, you need to install <a href="https://github.com/bem/bem-tools">bem tools</a> .  This is a set of tools with a command line interface for operating BEM entities and building a project.  Installation instructions are in the description of the repository. <br>  At the time of this writing, version <code>0.5.21</code> was relevant. <br><br><h2>  Creating your own project repository </h2><br>  The easiest way is to create your project by simply copying an existing repository with a suitable structure.  For a project using the full BEM stack, the <a href="https://github.com/bem/project-stub">project-stub</a> repository will do.  At the time of writing this article, revision <code>5ac5d2d2567ca6d52d82f95b219bca6f49ef5cc4</code> . <br><br><pre> <code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git://github.com/bem/project-stub.git my-pretty-project $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> my-pretty-project/ $ git reset --hard 5ac5d2d2567ca6d52d82f95b219bca6f49ef5cc4 $ rm -rf .git $ git init</code> </pre><br>  Then the project needs to be collected.  To do this, run the command <br><br><pre> <code class="bash hljs">make</code> </pre><br>  It takes some time, because at this very moment all the necessary npm-packages are installed in the project directory. <br>  At the end you will see the following message: <br><br><pre> <code class="bash hljs">info: Server is listening on port 8080. Point your browser to http://localhost:8080/</code> </pre><br>  A <code>bem server</code> is launched on your computer - a development tool that will automatically rebuild your project if you make changes to it. <br><br><h2>  Making a change to the page </h2><br>  Now there is one <a href="http://localhost:8080/desktop.bundles/index/index.html">index.html</a> page on your project that you can open in a browser. <br>  The first request to the page will be processed for a noticeable time, because at this moment the bem server loads the libraries necessary for its assembly. <br><br>  The project structure assumes that the blocks will be placed in the <code>desktop.blocks</code> directory, and the pages in the <code>desktop.bundles</code> directory. <br>  Generally, strictly speaking, <code>desktop.bundles</code> stores a ‚Äúset‚Äù of blocks.  These can be frequently used blocks of several pages (what is commonly called <code>common</code> ), sets that combine several pages ( <code>all</code> , if all pages are combined) or - the simplest case - sets of blocks, each of which corresponds to one page.  Here will be considered the last, simple option. <br><br>  You can edit the page by changing the file <code>desktop.bundles/index/index.bemjson.js</code> . <br><br><h3>  Description of the block in bemjson </h3><br>  First we will place on the header page.  In BEM terms, this is the <code>head</code> block: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'head'</span></span> }</code> </pre><br>  Hereinafter, the full code of the page at different stages can be found on the Gist: <a href="https://gist.github.com/4175550">https://gist.github.com/4175550</a> . <br><br>  After reloading the page, you will see that the corresponding <code>&lt;div&gt;</code> appeared in it. <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"i-ua_js_yes i-ua_css_standard"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page b-page__body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"head"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  We fill the cap with the content: the search form, the logo and layout, positioning the content as needed. <br><br>  First, in the BEMJSON description of the page, inside the <code>head</code> block we place a <code>layout</code> block with two elements: <code>left</code> and <code>right</code> . <br><br><pre> <code class="javascript hljs">content: [ { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'head'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'layout'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'left'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">'left here'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'right'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-string"><span class="hljs-string">'right here'</span></span> } ] } } ]</code> </pre><br>  <a href="https://gist.github.com/4175573">https://gist.github.com/4175573</a> <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"i-ua_js_yes i-ua_css_standard"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page b-page__body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"head"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"layout"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"layout__left"</span></span></span><span class="hljs-tag">&gt;</span></span>left here<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"layout__right"</span></span></span><span class="hljs-tag">&gt;</span></span>right here<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  This will create the necessary markup (you can see it by refreshing the page) to which you want to write styles.  That is, implement the <code>layout</code> block in CSS technology. <br><br><h2>  Block creation </h2><br>  To create a technology file, use the <code>bem create</code> command. <br><br><pre> <code class="javascript hljs">$ bem create -l desktop.blocks/ -T css -b layout</code> </pre><br>  The command will create a file <code>desktop.blocks/layout/layout.css</code> , in which there is already a selector corresponding to the block file.  The rule must be supplemented according to the purpose of the block. <br>  Now you can just copy: <a href="https://gist.github.com/4175598">https://gist.github.com/4175598</a> <br><br><h2>  Using blocks from libraries </h2><br>  Nested in the <code>layout</code> search form and logo blocks do not need to be implemented independently.  They are already implemented in the <a href="http://bem.github.com/bem-bl/index.ru.html">library bem-bl</a> , simply declare them on the page.  That is, insert the BEMJSON description of the block into the <code>desktop.bundles/index/index.bemjson.js</code> <br><br>  For our page we will use the <a href="http://bem.github.com/bem-bl/sets/common-desktop/b-search/b-search.ru.html">b-search</a> and <a href="http://bem.github.com/bem-bl/sets/common-desktop/b-logo/b-logo.ru.html">b-logo</a> blocks. <br>  <a href="https://gist.github.com/4175640">https://gist.github.com/4175640</a> <br><br>  You can take a picture for a logo <a href="">from here</a> or specify your own. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/949/c8a/d41/949c8ad41b864ad0db7e822e3ee425bb.png" width="800" height="187" title="Using blocks from the library" alt="   "><br><br><h3>  Adding Library Blocks </h3><br><h4>  CSS extension </h4>  The <code>b-logo</code> block we use provides only the necessary markup.  CSS for it, each developer can write himself, because everyone needs a different markup. <br><br>  We will put this markup in the <code>b-logo</code> block at our override level. <br><br><pre> <code class="bash hljs">$ bem create -l desktop.blocks/ -T css -b b-logo</code> </pre><br>  The markup for the block can be taken from here: <a href="https://gist.github.com/4175675">https://gist.github.com/4175675</a> <br><br>  The same for the <code>b-search</code> block: <br><br><pre> <code class="bash hljs">$ bem create -l desktop.blocks/ -T css -b b-search</code> </pre><br>  <a href="https://gist.github.com/4195433">https://gist.github.com/4195433</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2d4/3d7/45c/2d43d745c5492324da47ef75ff72b291.png" width="800" height="141" title="Cap with styles" alt="  "><br><br><h4>  Extension of BEMHTML </h4><br><br>  To make the page centered, you need an additional container.  To do this, we will finish defining the <code>b-page</code> block templates, creating the same block at our level.  BEMHTML is used as a template engine. <br><br><pre> <code class="bash hljs">$ bem create -l desktop.blocks/ -b b-page -T bemhtml</code> </pre><br>  In the resulting <code>desktop.blocks/b-page/b-page.bemhtml</code> you need to write code that wraps the content of the block into an additional container. <br><br><pre> <code class="javascript hljs">block b-page, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: { <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'body-i'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ctx.content }</code> </pre><br>  <a href="https://gist.github.com/4175742">https://gist.github.com/4175742</a> <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"i-ua_js_yes i-ua_css_standard"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page b-page__body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page__body-i"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"head"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"layout"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  For the resulting markup, you create your own CSS rules: <br><br><pre> <code class="bash hljs">$ bem create -l desktop.blocks/ -T css -b b-page</code> </pre><br>  The content for the resulting <code>desktop.blocks/b-page/b-page.css</code> can be copied from here: <a href="https://gist.github.com/4175763">https://gist.github.com/4175763</a> <br><br>  And in order to make the block of caps visible on the page, I will give it a border: <br><br><pre> <code class="bash hljs">$ bem create -l desktop.blocks/ -T css -b head</code> </pre><br>  Content for <code>desktop.blocks/head/head.css</code> : <a href="https://gist.github.com/4175776">https://gist.github.com/4175776</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ce/99b/245/3ce99b245d1964a684f1aa51791d97f7.png" width="500" height="129" title="Cap with frame" alt="  "><br><br><h2>  BEMHTML templates </h2><br>  BEMHTML templates can not only define tags that represent a block, and their attributes, but also generate design content. <br><br>  For example, let's place on the page a list of products.  It is presented in the BEMJSON page declaration by the <code>goods</code> block, and the declaration contains the necessary data. <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'goods'</span></span>, <span class="hljs-attr"><span class="hljs-attr">goods</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Apple iPhone 4S 32Gb'</span></span>, <span class="hljs-attr"><span class="hljs-attr">image</span></span>: <span class="hljs-string"><span class="hljs-string">'1450827127820366493466'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-string"><span class="hljs-string">'259'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Samsung Galaxy Ace S5830'</span></span>, <span class="hljs-attr"><span class="hljs-attr">image</span></span>: <span class="hljs-string"><span class="hljs-string">'http://mdata.yandex.net/i?path=b0206005907_img_id5777488190397681906.jpg'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-string"><span class="hljs-string">'73'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/'</span></span> }, ... }</code> </pre><br>  <a href="https://gist.github.com/4176078">https://gist.github.com/4176078</a> <br><br>  In order for this data to become the necessary markup, the block must be implemented in the BEMHTML technology.  For appearance - technology CSS.  Therefore, you can create a block in all technologies provided by default. <br><br><pre> <code class="bash hljs">$ bem create -l desktop.blocks -b goods</code> </pre><br>  In the BEMHTML template for the <code>desktop.blocks/goods/goods.bemhtml</code> you need to write code that turns JSON with data into block elements.  And also, using the <code>tag</code> mode, specify which DOM elements to represent the block and its elements. <br><br><pre> <code class="javascript hljs">block goods { <span class="hljs-attr"><span class="hljs-attr">tag</span></span>: <span class="hljs-string"><span class="hljs-string">'ul'</span></span> ... elem item, <span class="hljs-attr"><span class="hljs-attr">tag</span></span>: <span class="hljs-string"><span class="hljs-string">'li'</span></span> elem title, <span class="hljs-attr"><span class="hljs-attr">tag</span></span>: <span class="hljs-string"><span class="hljs-string">'h3'</span></span> }</code> </pre><br>  <a href="https://gist.github.com/4176118">https://gist.github.com/4176118</a> <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"i-ua_js_yes i-ua_css_standard"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page b-page__body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page__body-i"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"head"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__title"</span></span></span><span class="hljs-tag">&gt;</span></span>Apple iPhone 4S 32Gb<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__image"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1450827127820366493466"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__price"</span></span></span><span class="hljs-tag">&gt;</span></span>259<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  A template can create not only block elements, but also other blocks.  For example, the price of a product can be wrapped in a link using the <code>b-link</code> block from the <code>bem-bl</code> library. <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'b-link'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: item.url, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: item.price } }</code> </pre><br>  <a href="https://gist.github.com/4176996">https://gist.github.com/4176996</a> <br><br>  In addition, in order to avoid a cascade when styling this link with styles, it can be marked as an element of the <code>goods</code> block. <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'b-link'</span></span>, <span class="hljs-attr"><span class="hljs-attr">mix</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'goods'</span></span>, <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'link'</span></span> }], <span class="hljs-attr"><span class="hljs-attr">url</span></span>: item.url, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: item.price }</code> </pre><br>  <a href="https://gist.github.com/4177113">https://gist.github.com/4177113</a> <br><br><pre> <code class="html hljs xml">... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__title"</span></span></span><span class="hljs-tag">&gt;</span></span>Apple iPhone 4S 32Gb<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__image"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1450827127820366493466"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__price"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-link goods__link"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/"</span></span></span><span class="hljs-tag">&gt;</span></span>259<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  You also need to mark items about new products with a modifier and add alignment elements. <br>  <a href="https://gist.github.com/4177157">https://gist.github.com/4177157</a> <br><br>  The CSS for the block can be copied from here <a href="https://gist.github.com/4177163">https://gist.github.com/4177163</a> . <br>  Creating a block separately in CSS technology is not necessary, because it was originally created with all the necessary files. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fb0/35e/730/fb035e730d259563ad69ad0e7c1e8421.png" width="500" height="368" title="Product List" alt=" "><br><br>  You need CSS for IE.  It is not included in the list of technologies by default. <br><br><pre> <code class="bash hljs">$ bem create block -l desktop.blocks/ -T ie.css goods</code> </pre><br>  The content for the resulting <code>desktop.blocks/goods/goods.ie.css</code> can be taken at Gist <a href="https://gist.github.com/4177174">https://gist.github.com/4177174</a> <br><br><h2>  Block dependencies </h2><br>  In addition to the declaration, you need to guarantee the connection to the page of templates, CSS and JavaScript block.  For this, the block can describe dependencies, this is done by representing the block in the <code>deps.js</code> technology. <br><br><pre> <code class="bash hljs">$ bem create -l desktop.blocks/ -T deps.js -b goods</code> </pre><br>  You can use the non-strict dependency of <code>shouldDeps</code> by specifying that a <code>b-link</code> block is needed. <br><br><pre> <code class="javascript hljs">({ <span class="hljs-attr"><span class="hljs-attr">shouldDeps</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'b-link'</span></span> } ] })</code> </pre><br>  <a href="https://gist.github.com/4177031">https://gist.github.com/4177031</a> <br><br><h2>  Connecting libraries </h2><br>  I would like to present a hat and every product with fashionable rectangles with a shadow.  I will borrow the block for this from <a href="https://github.com/john-johnson/j">my friend</a> 's <a href="https://github.com/john-johnson/j">libraries</a> . <br>  There is only one block called <code>box</code> that does what I need. <br><br>  To get the library code, I need to specify its address in <code>./bem/make.js</code> , by analogy with neighboring libraries. <br><br><pre> <code class="javascript hljs">getLibraries: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'bem-bl'</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'git'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'git://github.com/bem/bem-bl.git'</span></span>, <span class="hljs-attr"><span class="hljs-attr">treeish</span></span>: <span class="hljs-string"><span class="hljs-string">'0.3'</span></span> }, <span class="hljs-string"><span class="hljs-string">'bemhtml'</span></span> : { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'git'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'git://github.com/bem/bemhtml.git'</span></span> }, <span class="hljs-string"><span class="hljs-string">'john-lib'</span></span> : { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'git'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'git://github.com/john-johnson/j.git'</span></span> } }; }</code> </pre><br>  <a href="https://gist.github.com/4177229">https://gist.github.com/4177229</a> <br><br>  And also indicate in the settings of bundles (pages) that this level should be used during assembly.  This is done in the file <code>desktop.bundles/.bem/level.js</code> . <br><br><pre> <code class="javascript hljs">exports.getConfig = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> BEM.util.extend(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.__base() || {}, { <span class="hljs-attr"><span class="hljs-attr">bundleBuildLevels</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.resolvePaths([ <span class="hljs-string"><span class="hljs-string">'../../bem-bl/blocks-common'</span></span>, <span class="hljs-string"><span class="hljs-string">'../../bem-bl/blocks-desktop'</span></span>, <span class="hljs-string"><span class="hljs-string">'../../bemhtml/common.blocks'</span></span>, <span class="hljs-string"><span class="hljs-string">'../../john-lib/blocks/'</span></span>, <span class="hljs-string"><span class="hljs-string">'../../desktop.blocks'</span></span> ]) }); };</code> </pre><br>  <a href="https://gist.github.com/4177250">https://gist.github.com/4177250</a> <br><br>  Unfortunately, while changing the configuration of the project, you have to restart the <code>bem server</code> .  The current process will have to be interrupted and typed <code>make</code> again. <br>  In future versions of the need to restart promise to remove. <br><br><h2>  Mixes of blocks and elements </h2><br>  Now you can use the <code>box</code> .  I can just wrap my blocks with them.  But in order to save markup, you can mix 2 blocks on one DOM node.  This is called a <code>mix</code> . <br><br>  One way of mixing is to describe it in the input (BEMJSON). <br>  In this case, you need to mix the <code>head</code> block with the <code>box</code> block by changing the page code. <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'head'</span></span>, <span class="hljs-attr"><span class="hljs-attr">mix</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'box'</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">content</span></span>: ... }</code> </pre><br>  <a href="https://gist.github.com/4177292">https://gist.github.com/4177292</a> <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"i-ua_js_yes i-ua_css_standard"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page b-page__body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page__body-i"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"head box"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"layout"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Do not forget to write down the <code>box</code> block depending on the <code>head</code> block. <br><br><pre> <code class="javascript hljs">$ bem create -l desktop.blocks/ -T deps.js -b head ({ <span class="hljs-attr"><span class="hljs-attr">shouldDeps</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'box'</span></span> } ] })</code> </pre><br>  <a href="https://gist.github.com/4235143">https://gist.github.com/4235143</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/79a/057/a9a/79a057a9a023a79bf95d35514187e0f0.png" width="800" height="238" title="Cap with box" alt="   box"><br><br>  You can mix not only blocks, but also elements with blocks. <br>  In the <code>goods</code> block template, we mix each item element with the <code>box</code> block. <br><br><pre> <code class="javascript hljs">content.push({ <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'item'</span></span>, <span class="hljs-attr"><span class="hljs-attr">mods</span></span>: mods, <span class="hljs-attr"><span class="hljs-attr">mix</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'box'</span></span> }], <span class="hljs-attr"><span class="hljs-attr">content</span></span>: ...</code> </pre><br>  <a href="https://gist.github.com/4177350">https://gist.github.com/4177350</a> <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"i-ua_js_yes i-ua_css_standard"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page b-page__body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"b-page__body-i"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"head box"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"layout"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item box"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item box"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item box"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item goods__item_new_yes box"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__item box"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"goods__sizer"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/843/7d1/2ec/8437d12ec003675f6d40947e07164f16.png" width="500" height="286" title="Products in the box" alt="   box"><br><br><h2>  Declarative javascript </h2><br><h3>  Blocks with javascript functionality </h3><br>  The <code>box</code> , which appeared on my project due to the connected third-party library, also provides dynamic JavaScript functionality ‚Äî it can collapse. <br><br>  For the message that I want to use this JavaScript functionality in the header, I need to change the description of the <code>head</code> block, indicating that the admixed <code>box</code> has a JavaScript implementation: <br><br><pre> <code class="javascript hljs">mix: [{ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'box'</span></span>, <span class="hljs-attr"><span class="hljs-attr">js</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }]</code> </pre><br>  <a href="https://gist.github.com/4202622">https://gist.github.com/4202622</a> <br><br>  It is also required to place a <code>switcher</code> element inside the block. <br><br><pre> <code class="javascript hljs">content: [ { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'layout'</span></span>, ... }, { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'box'</span></span>, <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'switcher'</span></span> } ]</code> </pre><br>  <a href="https://gist.github.com/4202651">https://gist.github.com/4202651</a> <br><br>  It turns out a block with an arrow that can collapse and expand it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e24/a54/2a5/e24a542a5d9eb53aa154c41c5e9fc157.png" width="318" height="264" title="Arrow" alt=""><br><br><h3>  Redefining JavaScript </h3><br>  The JavaScript functionality of the <code>box</code> not enough for me.  I want it to fold not only vertically, but horizontally.  At the same time, I cannot make changes to another library.  But due to the fact that the JavaScript block is written using a <a href="http://bem.github.com/bem-bl/sets/common-desktop/i-bem/i-bem.ru.html">declarative framework from the i-bem block</a> , I have the opportunity to change (redefine or define) the behavior of the block at my level. <br><br><pre> <code class="bash hljs">bem create -l desktop.blocks -T js -b box</code> </pre><br>  In the resulting file <code>desktop.blocks/box/box.js</code> you need to leave only the <code>onSetMod</code> section, which describes the response to the installation of modifiers. <br><br><pre> <code class="javascript hljs">onSetMod : { }</code> </pre><br>  <a href="https://gist.github.com/4195865">https://gist.github.com/4195865</a> <br><br>  In this case, you need to respond to the installation and removal of the modifier <code>closed</code> : <br><br><pre> <code class="javascript hljs">onSetMod : { <span class="hljs-string"><span class="hljs-string">'closed'</span></span>: { <span class="hljs-string"><span class="hljs-string">'yes'</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// some functionality here }, '': function() { // some functionality here } } }</span></span></code> </pre><br>  <a href="https://gist.github.com/4195879">https://gist.github.com/4195879</a> <br><br><h2>  Creating new pages </h2><br>  Pages are also blocks, at their override level.  Therefore, to create them, you can also use the <code>bem create</code> command: <br><br><pre> <code class="bash hljs">bem create -l desktop.bundles -b contact</code> </pre><br>  The <code>-T</code> flag can be omitted, because <code>bem create</code> knows that the blocks created at this level must be represented in the BEMJSON technology due to the settings of the <code>desktop.bundles</code> level.  So, the file <code>desktop.bundles/contact/contact.bemjson.js</code> appears with minimal content for the page. <br><br>  A new page can be viewed at <a href="http://localhost:8080/desktop.bundles/contact/contact.html">http: // localhost: 8080 / desktop.bundles / contact / contact.html</a> <br>  <code>bem server</code> will collect its HTML, JS and CSS files at the time of the first appeal. <br><br><h2>  Rolling out </h2><br>  All the time while we were developing the project, the <code>bem server</code> working and reassembled those parts of the project that need to be changed when the pages are updated. <br><br>  For rolling out in production, you also need to build a project, but the entire project is already complete, regardless of whether something has changed or not.  To do this, you can use the <code>bem make</code> . <br>  It is recommended to run the local version of the package for this project: <br><br><pre> <code class="bash hljs">./node_modules/bem/bin/bem make</code> </pre><br><hr>  <sup>thanks</sup> For preparing the site markup, thank you very much <a href="https://github.com/tyv">tyv</a> and <a href="https://github.com/gela-d">gela-d</a> . </div><p>Source: <a href="https://habr.com/ru/post/162385/">https://habr.com/ru/post/162385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../162373/index.html">Social media aggregator Meople.net united in one place 10 basic social programs</a></li>
<li><a href="../162375/index.html">Copyright history. Part 7: Raid seizure by Pfizer</a></li>
<li><a href="../162377/index.html">Promotion for startups</a></li>
<li><a href="../162379/index.html">IE allows you to track mouse coordinates (even in another window)</a></li>
<li><a href="../162381/index.html">Build yourself: how we did the Amazon-style storage for small hosters</a></li>
<li><a href="../162387/index.html">Infographics: HTML5 history</a></li>
<li><a href="../162389/index.html">Fragment animation in Android</a></li>
<li><a href="../162393/index.html">Yota smartphone with eInk second screen</a></li>
<li><a href="../162395/index.html">Search engine from the past</a></li>
<li><a href="../162397/index.html">Launch of the Managed Firewall service</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>