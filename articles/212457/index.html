<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analogue cmd from Python for Groovy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the course of writing a small project for myself on Groovy & Grails, there was an urgent need to use all the different shell scripts. Restart the s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analogue cmd from Python for Groovy</h1><div class="post__text post__text-html js-mediator-article">  In the course of writing a small project for myself on Groovy &amp; Grails, there was an urgent need to use all the different shell scripts.  Restart the server, first redoing the newly created project, then collect logs from everywhere, then fill in new versions of configs and so on.  At first, I wrote everything on bash scripts, but due to the fact that I use it, in addition to my pet-project, it is extremely rare, every time I encountered long searches on the Internet for necessary functions, syntax rules, etc., which undoubtedly , greatly inhibited the development of the project itself. <br><br>  And since Groovy was already well acquainted with the programming language, I decided to write on it.  But I didn‚Äôt really like to plant a huge amount of * .groovy files, but I wanted the opposite - to have one back-end management script that would already include all the necessary commands that could be in an ‚Äúadult‚Äù console program the ability and history of commands to look at and a chain of sequentially executed commands to set and easily add, if necessary, new ones.  This Wishlist still appeared because I remembered about cmd, which I once used in mastering Python.  But it turned out that for Groovy no one wrote such a cmd (later I even understood why), which prompted me to another bicycle building, namely, to create a small <a href="http://en.wikipedia.org/wiki/Command-line_interface">Cli</a> Application Framework on Groovy. <br><a name="habracut"></a><br>  The purpose of this post is to get objective criticism and suggestions for adding to my Framework, maybe someone wants to use it, since all the code and all the documentation I put on my <a href="https://bitbucket.org/xxlabaza/groovy-cmd">bitbacket account</a> . <br><br><h4>  The basics </h4><br>  It all started with one <a href="http://habrahabr.ru/post/175321/">article</a> , where the author described how to use the Python cmd, in fact, I did not go far in my endeavor and implemented about the same functionality where the abstract class <b>Cmd.groovy is present</b> , inheriting from which we get the execution environment for our application.  A simple example: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>cli.groovy</b> file: <br><br><pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyCli</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cmd</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (args.length == <span class="hljs-number"><span class="hljs-number">0</span></span>) { println(<span class="hljs-string"><span class="hljs-string">'Hello world!'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { args.each { println(<span class="hljs-string"><span class="hljs-string">"Hello ${it}!"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } def cli = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyCli(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.args.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { cli.execute(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.args); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { cli.start(); }</code> </pre> <br><br>  Every method we want to use as a console command must have a strict signature: <br><br><ul><li>  The return type is <b>boolean</b> .  This is done to chain the commands together so that if at least one command completes incorrectly (returns false), the chain is interrupted; </li><li>  The method name must begin with the prefix " <b>do_</b> ", as in the cmd for Python; </li><li>  The method argument must be only one and of type " <b>String []</b> ". </li></ul><br><br>  If the method starts with the " <b>do_</b> " prefix, but does not fulfill one of the above described conditions, the program will issue a warning, where it will be described why the method is not included in the list of commands and how to fix it. <br><br>  Having created an instance of our class, we can launch it in two ways: <br><br>  1) Calling the " <b>execute (String [])</b> " method, passing in the user's arguments.  In this case, the object will execute all the commands received during the call and complete the execution; <br><br><pre> <code class="bash hljs">$ groovy -cp . cli.groovy <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> List of all available commands: (<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> reference on <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span> <span class="hljs-string"><span class="hljs-string">"help &lt;command_name&gt;"</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> - prints <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of commands hello - No description <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> - prints commands info <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> - <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> from CMD</code> </pre><br><br>  2) By running an interactive input loop, calling the " <b>start ()</b> " method.  At the same time, a greeting and ‚Äúinvitation‚Äù to enter the command will be displayed in the terminal.  The execution of the input cycle will continue until the user enters " <b>exit</b> ". <br><br><pre> <code class="bash hljs">$ groovy -cp . cli.groovy Welcome Print <span class="hljs-string"><span class="hljs-string">"help"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> reference cmd:&gt; <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> List of all available commands: (<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> reference on <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span> <span class="hljs-string"><span class="hljs-string">"help &lt;command_name&gt;"</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> - prints <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of commands hello - No description <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> - prints commands info <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> - <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> from CMD cmd:&gt; <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> Goodbye! $ _</code> </pre><br><br>  Also, you can add the <b>@Description</b> annotation to our method, which will contain a brief (brief) and full (full) description of the method: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyCli</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cmd</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Description</span></span>( brief=<span class="hljs-string"><span class="hljs-string">'prints greetings'</span></span>, full=<span class="hljs-string"><span class="hljs-string">'prints greetins for all setted arguments, if arguments list is empty prints default message "Hello world!"'</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (args.length == <span class="hljs-number"><span class="hljs-number">0</span></span>) { println(<span class="hljs-string"><span class="hljs-string">'Hello world!'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { args.each { println(<span class="hljs-string"><span class="hljs-string">"Hello ${it}!"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } }</code> </pre><br><br>  By running such a program, you will be able to request a hint for the command: <br><br><pre> <code class="bash hljs">cmd:&gt; <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> hello Command info (<span class="hljs-string"><span class="hljs-string">'hello'</span></span>): prints greetins <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> all setted arguments, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> arguments list is empty prints default message <span class="hljs-string"><span class="hljs-string">"Hello world!"</span></span></code> </pre><br><br><h4>  Command chains </h4><br>  If desired, teams can be chained by simply adding a " <b>+</b> " sign between them: <br><br><pre> <code class="bash hljs">cmd:&gt; hello Liza + hello Artem Hello Liza! Hello Artem! cmd:&gt; _</code> </pre><br><br>  The " <b>+</b> " sign was used instead of the canonical double ampersand due to the fact that when the program started instantly, the <b>shell</b> thought that I was trying to call another command, and not just set the argument: <br><br><pre> <code class="bash hljs">//   , shell    hello   $ groovy -cp . cli.groovy hello Liza &amp;&amp; hello Artem //      $ groovy -cp . cli.groovy hello Liza + hello Artem</code> </pre><br><br>  It is expected that when the command returns <b>false</b> , the chain will break. <br><br><pre> <code class="bash hljs">$ groovy -cp . cli.groovy hello Liza + popa + hello Artem Hello Liza! ERROR: No such <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-string"><span class="hljs-string">'popa'</span></span> List of all available commands: (<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> reference on <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span> <span class="hljs-string"><span class="hljs-string">"help &lt;command_name&gt;"</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> - prints <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of commands hello - No description <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> - prints commands info <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> - <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> from CMD</code> </pre><br><br>  ‚ÄúHello Artem!‚Äù Will not display such a launch. <br><br><h4>  Localization </h4><br>  The entire text of the output is distributed in variables and, if desired, their values ‚Äã‚Äãcan be changed, such as here: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyCli</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cmd</span></span></span><span class="hljs-class"> </span></span>{ MyCli() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); PROMPT = <span class="hljs-string"><span class="hljs-string">'$&gt; '</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (args.length == <span class="hljs-number"><span class="hljs-number">0</span></span>) { println(<span class="hljs-string"><span class="hljs-string">'Hello world!'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { args.each { println(<span class="hljs-string"><span class="hljs-string">"Hello ${it}!"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } def cli = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyCli(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.args.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { cli.execute(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.args); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { cli.start(); }</code> </pre><br><br>  By running such a program, we will get the modified inviting prefix, not the standard " <b>cmd:&gt;</b> ", but " <b>$&gt;</b> ": <br><br><pre> <code class="bash hljs">$ groovy -cp . cli.groovy Welcome Print <span class="hljs-string"><span class="hljs-string">"help"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> reference $&gt; _</code> </pre><br><br>  In more detail about what variables for localization exist and what default values ‚Äã‚Äãthey have can be viewed in a <a href="https://bitbucket.org/xxlabaza/groovy-cmd/wiki/Localization">special page on the wiki</a> . <br><br><h4>  Execution of shell commands </h4><br>  It is also possible to use the <b>Shell</b> helper class, which has only one static method <b>Response execute (String)</b> .  By passing a string to this class method, in response we get an instance of the <b>Response</b> class, which has two fields: <br><br><ol><li>  <b>hasError</b> - a flag that indicates the success of the command in the shell </li><li>  <b>out</b> - the result of the command </li></ol><br><br>  For example, the command to display the path to the current directory might look like this: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_pwd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (args.length != <span class="hljs-number"><span class="hljs-number">0</span></span>) { println(<span class="hljs-string"><span class="hljs-string">'ERROR: this method doesn\'t have any arguments'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } Response response = Shell.execute(<span class="hljs-string"><span class="hljs-string">'pwd'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!response.hasError) { println(response.out); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { println(<span class="hljs-string"><span class="hljs-string">"ERROR: ${response.out}"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } }</code> </pre><br><br><h4>  Command entry history </h4><br>  It was the most difficult.  As far as I understand, Java (and Groovy, respectively) have, so to speak, a very strained relationship with I / O in the terminal, at least on Linux JVM versions (I have not tried others).  For example, using standard tools it is impossible to move the input cursor with arrows on the keyboard, garbage will be typed "^ [[C ^ [[D ^ [[A ^ [[B", approximately the same thing awaits you when you press, for example, Tab and others. <br><br>  There is a workaround, in the form of all the various Java libraries, which, as I understand it, contain simply C / C ++ code for working with input from the terminal and Java wrapper classes.  For small scripts, dragging a jar file with you, depending on the OS, is too much, but at the same time I wanted to have functionality, such as viewing the command history and changing the list of arguments in the command selected from the history.  For this, I wrote a bicycle in a bicycle. <br><br><pre> <code class="bash hljs">Welcome Print <span class="hljs-string"><span class="hljs-string">"help"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> reference cmd:&gt; <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> List of all available commands: (<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> reference on <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span> <span class="hljs-string"><span class="hljs-string">"help &lt;command_name&gt;"</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> - prints commands info <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> - <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> from CMD cmd:&gt; !! &lt;-    nix<span class="hljs-string"><span class="hljs-string">',    cmd:&gt; help | _</span></span></code> </pre><br><br>  The " <b>|</b> " sign tells us that we can edit the argument list of the command.  We can simply press Enter and then the interpreter will execute the command.  We can enter " <b>q</b> ", then editing will be canceled.  And we can do this: <br><br><pre> <code class="bash hljs">cmd:&gt; <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> | <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> &lt;-      cmd:&gt; <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> | +1=hello &lt;-       cmd:&gt; <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> hello | -1 &lt;-   </code> </pre><br><br>  Having played enough with the changes in the arguments, you can finally press Enter and the interpreter will execute the command, also writing it in the command history. <br><br>  At this point I‚Äôll finish this infinitely long post, I‚Äôll just say that the samples are freely available in my repository <a href="https://bitbucket.org/xxlabaza/groovy-cmd">here</a> . <br><br>  I would very much like to hear from you objective criticism and, perhaps, suggestions for the addition of the Framework. <br><br>  PS: I wrote, by the way, with the help of this ‚ÄúFramework‚Äù not only the script for managing my server, but also at work came in handy for similar tasks. <br><br>  PSS: If anyone knows how to solve the problem of input from the console to Java under Linux, please - share. </div><p>Source: <a href="https://habr.com/ru/post/212457/">https://habr.com/ru/post/212457/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../212447/index.html">Social Cloud - All-In-One Collaboration Solution</a></li>
<li><a href="../212449/index.html">Connecting a Wacom Pro pen tablet to Linux or how bash helps artists</a></li>
<li><a href="../212451/index.html">Fake Debian developers require free access to Valve games</a></li>
<li><a href="../212453/index.html">Netapp - Reality vs. Marketing</a></li>
<li><a href="../212455/index.html">MtGox problems and spambo-smith</a></li>
<li><a href="../212459/index.html">Home current measurement</a></li>
<li><a href="../212461/index.html">UPS for router</a></li>
<li><a href="../212465/index.html">Difficulties when starting SMS service</a></li>
<li><a href="../212469/index.html">What happens to the Chinese ‚ÄúYuytu?</a></li>
<li><a href="../212473/index.html">Increasing Conversion - A Headache for Online Stores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>