<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Brocade Ethernet Switches</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Brocade, known to most as a manufacturer of storage network switches, also produces Ethernet switches. Some set of such switches (ICX and VDX) was in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Brocade Ethernet Switches</h1><div class="post__text post__text-html js-mediator-article">  Brocade, known to most as a manufacturer of storage network switches, also produces Ethernet switches.  Some set of such switches (ICX and VDX) was in our hands, and I want to make a short review and point out things that seemed interesting.  I will try to avoid marketing formulations and numbers, but for those interested, I‚Äôll point out links to the manufacturer‚Äôs website.  Let's start :) <br><a name="habracut"></a><br>  <b>ICX Switches</b> <br><br>  These switches are designed for use in the enterprise network (Enterprise Campus).  The ICX family consists of access lines (7150/7250/7450), aggregation (7450), and aggregation / kernel (7750). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/808/ea9/010/808ea901068c4f4ebe618fe603e4c205.png"></div><br>  <a href="http://www.brocade.com/en/backend-content/pdf-page.html%3F/content/dam/common/documents/content-types/datasheet/brocade-ruckus-icx-7150-ds.pdf">The ICX 7150</a> is the youngest and latest addition to the ICX family.  In addition to the standard models for 24 and 48 ports, this line has a compact 12-port switch (7150-C12P) and a switch with 802.3bz Multigigabit Ethernet ports (7150-48ZP).  Models on 12/24/48 ports are passively cooled, while models on 24/48 ports with PoE can operate without the use of active cooling. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/web/5fe/dab/b04/5fedabb042b249c3b309fdb622ac3a55.png"></div><br>  <a href="http://www.brocade.com/en/backend-content/pdf-page.html%3F/content/dam/common/documents/content-types/datasheet/brocade-ruckus-icx-7250-ds.pdf">The ICX 7250</a> is a standard model for 24 and 48 ports.  The main difference is 8 uplink / stacking ports. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/82c/e41/8e2/82ce418e2d2d4d0b8567a9859b4ca1a5.png"></div><br>  <a href="http://www.brocade.com/en/backend-content/pdf-page.html%3F/content/dam/common/documents/content-types/datasheet/brocade-ruckus-icx-7450-ds.pdf">The ICX 7450</a> is a standard model for 24 and 48 ports.  The switches do not have uplink / stacking ports built in but have 3 slots for modules of additional interfaces (1GE, 10GE, 40GE).  Also in this line is a switch with 802.3bz Multigigabit Ethernet ports (7450-32ZP) and 7450-48F aggregation switch (48x1GE SFP). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/8fa/b62/a5f/8fab62a5fd4f464f84245f87040390c8.png"></div><br>  <a href="http://www.brocade.com/en/backend-content/pdf-page.html%3F/content/dam/common/documents/content-types/datasheet/brocade-ruckus-icx-7750-ds.pdf">ICX 7750</a> - aggregation / core.  Available in 3 models (48x10BASE-T, 48x1 / 10GE SFP / SFP +, 26x40GE QSFP), all support the installation of an additional module on 6x40GE QSFP ports.  All 40GE ports support breakout mode (dividing a 40GE port into 4 10GE ports). <br><br>  The switches of the ICX line support a standard set of technologies for such positioning, there are no obvious gaps in the functionality.  In the 7150/7250/7450 series, some models support Power over HDBaseT in addition to PoE + (up to 90 watts per port). <br><br>  Software for managing and monitoring switches - Brocade Network Advisor (runs under Windows or Linux, on a separate server or as a virtual machine). <br><br>  What I want to note of the features: <br><br><ul><li>  A stack of switches.  All ICX switches support the organization of the stack via uplink / stacking ports, you can collect a stack within a ruler (ie, 7250 with 7450, for example, not to collect).  The maximum number of switches in a stack is 12. For stacking, the usual 10GE or 40GE ports are used, the maximum throughput is 480 Gbit / s.  The maximum connection length for the stack is 10 km (long distance stacking).  Both ring and line topologies are supported. <br><br></li><li>  For those who do not consider stacking as a fault tolerance option, the 7750 offers an alternative option - Multi-Chassis Trunking (aka MC-LAG).  Those.  A pair of switches is assembled into a cluster, which the devices connected to the cluster see as one logical device. <br><br></li><li>  Licensing.  For 7150/7250/7450, the main licenses are Port on Demand (license for 10GE ports) and license for L3 functionality (dynamic routing protocols, PIM, PBR, VRRP, etc.).  7750 has only one license - L3 - which does not require activation. <br><br></li><li>  From the point of view of OS images of switches, there are two types: switch image and router image.  Each switch has two flash (primary and secondary) and by default contains both types of image. <br><br></li><li>  The combination of OC image and L3 licenses give us the following options feature set: Layer 2 (switch image without a license), basic Layer 3 (router image without a license), full Layer 3 (router image with a license).  If you need static routing, for example, then basic Layer 3 is enough. <br><br></li><li>  Supported features are conveniently listed in the document <a href="http://www.brocade.com/content/html/en/fastiron-os/08-0-60/fastiron-08060-featuresupportmatrix/index.html">Features and Standards Support Matrix</a> .  I would even say that this is an exemplary document. <br><br></li><li>  Functional Time Domain Reflectometer, which Brocade called Virtual Cable Test. <br><br></li><li>  The 7150 is a new lineup, and some things in the datasheet are designated as  In July, it is planned to release software in which, among other things, there will be stacking and L3-functionality. <br></li></ul><br>  And now let's see what can be collected on the basis of ICX.  In addition to the usual two / three-tier architecture (on standalone + Multi-Chassis Trunking switches), two solutions are available for Enterprise Campus. <br><br>  The first, with the use of stacking and, optionally, taking into account the long distance stacking, can look like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/c36/8dc/52a/c368dc52af124b438003141474a11e13.png"></div><br>  The scheme, I think, does not require comments. <br><br>  The second solution is called Campus Fabric.  In fact, this is the implementation of the 802.1BR standard (Bridge Port Extension) on ICX switches, where the 7750 acts as a single point of control (Control Bridge - CB), and the other switches as a remote line card (Port Extenders - PE). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/4a7/1fd/4c0/4a71fd4c0dc64fc6b66927ee98212fad.png"></div><br>  What advantages does such an architecture give? <br><br><ul><li>  This is a distributed chassis in which you can easily increase the port capacity. <br></li><li>  All links are active. <br></li><li>  Centralized management plane and control plane. </li><li>  L3 licenses, if required, are needed only on the Control Bridge, which allows you to save on L3 licenses. </li></ul><br>  But there are controversial points: <br><br><ul><li>  The centralized control plane can be considered as a disadvantage, since  the entire factory is one failure domain. <br><br></li><li>  All traffic goes through the factory core (Control Bridge).  The exception is multicast and broadcast replication, which are made locally on the Port Extender. <br><br></li><li>  Port Extender access ports are not supported by LAG. <br></li></ul><br>  On scaling / backup I will note the following things: <br><br><ul><li>  The 7750-based Control Bridge is a stack of 4 (maximum) switches, the recommended stack topology is a ring.  We use at least 2 switches, since  we definitely need a control bridge reservation. <br><br></li><li>  7450 and 7250 can be used as Port Extenders. 7150 support will come later. <br><br></li><li>  PoD licenses are still needed. <br><br></li><li>  The maximum number of Port Extenders is 36. A switch stack is counted as separate switches. <br><br></li><li>  The ability to connect Port Extenders through the chain - up to 6 devices. <br></li></ul><br>  Whether or not to build the entire network on such a decision is a moot point, but as an access solution, the option has the right to life. <br><br>  <b>VDX Switches</b> <br><br>  Let me remind you what the folded Clos network looks like: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/370/692/b99/370692b99b384284a42d9ecab198503a.png"></div><br>  Leaf switches provide server connectivity, Spine switches provide reserved high-speed connectivity for leaf switches.  The picture shows the 3-stage (leaf-spine-leaf) version of such a network, but the Brocade documentation also considers the 5-stage (leaf-spine-superspine-spine-leaf) option. <br><br>  In the VDX family, I would like to highlight two lines: 6740 and 6940. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/f6a/ee8/a4d/f6aee8a4deb94fc4a627165e76fece74.png"></div><br>  <a href="http://www.brocade.com/en/backend-content/pdf-page.html%3F/content/dam/common/documents/content-types/datasheet/brocade-vdx-6740-switches-ds.pdf">VDX 6740</a> - leaf switches with 48x10GE ports (10GBASE-T or SFP +) + 4x40GE QSFP. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/b7d/4d0/f22/b7d4d0f22f3a46b9a98af2bde8b738f3.png"></div><br>  <a href="http://www.brocade.com/en/backend-content/pdf-page.html%3F/content/dam/common/documents/content-types/datasheet/brocade-vdx-6940-switches-ds.pdf">VDX 6940</a> - leaf / spine switches.  6940-36Q - 36x40GE QSFP ports.  6940-144S - 96x10GE SFP + and 12x40GE QSFP ports (3 40GE ports can be combined into one 100GE port and use QSFP28 transceivers). <br><br>  These switches are positioned for use in the data center, and have the appropriate characteristics: <br><br><ul><li>  All 40GE ports support breakout mode (dividing a 40GE port into 4 10GE ports). <br></li><li>  Both front-to-back and back-to-front cooling are supported. <br></li><li>  Two power supplies. <br></li><li>  Supports FCoE and DCB. <br></li><li>  Automation support, integration with OpenStack and VMware products. <br></li><li>  VXLAN support. <br></li></ul><br>  I will not deny that the data center network at speeds of 10GE / 40GE is a bit outdated, but Brocade‚Äôs 25GE switches in another family (SLX), and they didn‚Äôt come to us. <br><br>  From the features of VDX switches, I note the following: <br><br><ul><li>  Licensing.  There are two types of licenses - Port on Demand (for 10GE and 40GE ports) and a license for FCoE.  PoD licenses are automatically "attached" to active ports.  Those.  you took the switch out of the box, turned it on, and you do not need to look in the documentation for which group of ports is activated by a license ‚Äî you can simply install transceivers.  To return a license to the free license pool, you will need to execute several commands in the CLI. <br><br></li><li>  Switches support VCS Fabric - TRILL-based Ethernet factory (up to 48 switches).  TRILL-based, because  from TRILL, only the data-plane is used, and the control-plane is used its own.  Things unpretentious to the topology, easy to configure and maintain. <br><br>  It is unusual that the VDX switches are always in Logical Chassis mode, i.e.  in fact, every switch is a VCS factory of one switch.  And, because  within the VCS factory, the configuration is saved automatically; on the VDX switches you will not find an analogue of copy run startup. <br><br>  VCS is basic functionality, but using a VCS factory is optional and can be disabled. <br><br></li><li>  Two flash, but, unlike the ICX, here they are for fault tolerance and ease of software updates.  There is no separation of OS images by options. <br><br></li><li>  Supported features are still listed in the <a href="http://www.brocade.com/content/html/en/network-os/7-1-0/nos-710-featuresupportmatrix/index.html">Features and Standards Support Matrix</a> document.  The approach to writing documentation in this regard is no different from ICX. <br><br></li><li>  Since  this is Brocade, then it is expected that some SAN switch technologies can be found on Ethernet switches.  For example, this is MAPS (advanced monitoring) and part of the technology of the VCS factory. <br><br></li><li>  All branded DAC (copper direct attach) at 10GE and 40GE are active. <br></li></ul><br>  Architecture <br><br>  In addition to designs based on VCS factory, Brocade, of course, offers designs based on IP factory.  This is a Clos network (3-stage or 5-stage), where the L2 / L3 border is located on leaf switches, and leaf-spine and ECMP connectivity provide dynamic routing protocol (usually BGP). <br><br>  IP-factory with pervasive eBGP (use eBGP for all types of connectivity). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/a83/77a/467/a8377a4670684366837860f7bbd66fa4.png"></div><br>  IP factory with iBGP (eBGP is used only for super-spine &lt;-&gt; spine and super-spine &lt;-&gt; edge leaf connectivity, iBGP is used within DC POD for spine &lt;-&gt; leaf). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/876/147/5cd/8761475cd145454987ba2fe117c2bd32.png"></div><br>  In both cases, the VCS factory of two switches (vLAG pair) is used to connect servers to two leaf switches (multihoming). <br><br>  And do not forget about VXLAN.  Brocade supports virtualization with VXLAN as a data-plane, while EVPN can be used as a control plane.  So, we take the designs of the IP-factory, add EVPN VXLAN and get the options: <br><br>  with eBGP <br><div style="text-align:center;"><img src="https://habrastorage.org/web/555/c90/875/555c9087528e40cea47ade5722173738.png"></div><br>  and with iBGP <br><div style="text-align:center;"><img src="https://habrastorage.org/web/883/e42/20f/883e4220f7854cc1b271736b79ecf87b.png"></div><br>  For multihoming, the same mechanism is used as in the IP factory. <br><br>  Brocade does not insist on using iBGP or eBGP, both are equivalent.  Brocade supports both Integrated Routing and Bridging for EVPN VXLAN: asymmetric and symmetric.  Of the EVPN VXLAN implementations that I saw on the VDX is one of the most comprehensive. <br><br>  Of course, besides VDX there are many other Brocade products for data centers, but they are not covered in this article. <br><br>  In conclusion, I would like to add that there were no significant complaints about the quality of the equipment and software.  The CLI, like many other manufacturers, is very similar to Cisco, in some places it is even more convenient (and we know that part of Cisco's CLI is far from ideal).  The documentation for each product is collected in one place (Document Library), and this documentation is written very correctly.  Validated Design is generally a pleasure to read.  Well, let me remind you once again about the documents ‚ÄúFeatures and Standards Support Matrix‚Äù - it would be nice for someone to adopt this approach.  Developed and active community, which is not every manufacturer.  Complexity. <br><br>  And a little about the current status of Brocade. <br><br>  Broadcom buys the entire Brocade business, while Fiber Channel solutions (i.e. everything for the SAN) remain in the Broadcom solution portfolio, and the remaining Brocade products will be sold to other companies.  The Broadcom-Brocade transaction will end in fiscal 3 quarter (ending July 30, 2017). <br><br>  What will happen to the rest of the products: <br><br><ul><li>  ARRIS buys Ruckus Wireless and a line of ICX switches (which are likely to be sold as Ruckus ICX).  It is stated that Ruckus Wireless will retain its structure and sales channel, i.e.  there will be something like a Meraki-Cisco deal.  The Broadcom-ARRIS transaction should be completed by the end of August 2017. <br><br></li><li>  Extreme Networks buys data center solutions, namely VDX / MLX / SLX, Brocade Workflow Composer and Network Visibility &amp; Analytics products.  The Broadcom-Extreme deal is due for completion by the end of September 2017. <br><br></li><li>  Pulse Secure buys the vADC (virtual Traffic Manager and related products) product family. <br><br></li><li>  AT &amp; T buys the Vyatta platform (Vyatta Network OS and related products). <br></li></ul></div><p>Source: <a href="https://habr.com/ru/post/330500/">https://habr.com/ru/post/330500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330484/index.html">The Future of MDN - Focus on Web Docs</a></li>
<li><a href="../330486/index.html">As the "Pilot" upgraded the fiscal registrar in Fujitsu CCT</a></li>
<li><a href="../330488/index.html">Firebase at I / O 2017: New Features</a></li>
<li><a href="../330492/index.html">Why you should not compress your data files</a></li>
<li><a href="../330498/index.html">Yii 1.1.19</a></li>
<li><a href="../330502/index.html">awless.io, mighty CLI for AWS</a></li>
<li><a href="../330504/index.html">How I participated in the Angular Attack hackathon, and what came of it</a></li>
<li><a href="../330506/index.html">TSic digital temperature sensor: addresses, passwords, turnout</a></li>
<li><a href="../330508/index.html">Cordova integration into native iOS project</a></li>
<li><a href="../330510/index.html">Interview with Yakov Shuvaev about a team of engineers, motivation and interviews</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>