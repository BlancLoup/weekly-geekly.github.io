<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fear of high rates, or how to optimize the budget</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When I first started working with Yandex.Market, I had one problem: I was afraid to use high stakes. I am sure that many of you know this. 

 There we...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Fear of high rates, or how to optimize the budget</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/7d0/e20/f6a/7d0e20f6a34740efbd738dc99eabd35f.jpg" alt="image"><br><br>  When I first started working with Yandex.Market, I had one problem: I was afraid to use high stakes.  I am sure that many of you know this. <br><br>  <b>There were several reasons:</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ‚Ä¢ The desire of customers to be within the agreed budget. <br>  ‚Ä¢ Fear that the entire budget will ‚Äútwist‚Äù in one day. <br><br>  As a result, an understanding emerged that this work needs to be systematized so that it is as clear as possible.  About how I decided for myself this problem, and will be discussed today.  Let's talk not only about the Market, but also about other sites.  Let's get started <br><br>  <b>The essence of the problem:</b> <br><br>  When you and a client agree on a budget of 100,000 rubles, consider it as follows: <br>  Budget: 100,000 rubles <br>  Period: 30 days <br>  Daily budget: 3 333 rubles <br><br>  However, after the launch of the client‚Äôs RC, we begin to observe the following picture from the daily budget <a name="habracut"></a><br><br>  1 day - 1 200 rubles. <br>  2 day - 2 400 rub. <br>  3 day - 1 900 rub. <br>  4 day - 2 300 rub. <br>  5 day - 2 900 rubles. <br><br>  <b>What is it fraught with?</b> <br><br>  ‚Ä¢ Budget is used inefficiently. <br>  ‚Ä¢ Monthly targets will be stretched for a longer period (as well as the budget), while there is a possibility that they will not be achieved even after it ends. <br><br>  <b>In what cases can such a situation arise?</b> <br><br>  ‚Ä¢ New Product; <br>  ‚Ä¢ limited demand; <br>  ‚Ä¢ the presence of overlapping requests from other topics that need to be avoided. <br><br>  <b>If the client is hosted on Yandex.Market:</b> <br><br>  ‚Ä¢ customer goods have no cards; <br>  ‚Ä¢ Minimum rates for all product cards are used. <br><br>  <b>What tools did I use?</b> <br><br>  ‚Ä¢ OWOX - to integrate data from other sites (a free account is enough); <br>  ‚Ä¢ Google Analytics - for data aggregation; <br>  ‚Ä¢ Google SpreadSheets (Tables) - for visualization; <br>  ‚Ä¢ Google Analytics add-on for Google Spreadsheets. <br><br>  <b>The process itself:</b> <br><br>  I propose to consider all the settings on one of the last clients that we set up. <br>  First of all, it is necessary to integrate the data with which we will work. <br>  To do this, go to Google Analytics, select the ‚ÄúAdministrator‚Äù section and in the ‚ÄúResource‚Äù section - ‚ÄúImport Data‚Äù: <br><br><img src="https://habrastorage.org/files/2c3/0b7/21c/2c30b721c6124345bf2c4422c4edbeac.png" alt="image"><br><br>  In the window that opens, click the "Create a data set" button: <br><img src="https://habrastorage.org/files/e92/21b/729/e9221b729ffc4beabbdeffa8d417b38e.png" alt="image"><br><br>  At the bottom, select the item ‚ÄúCost data‚Äù. <br><img src="https://habrastorage.org/files/4da/632/8b2/4da6328b2bf246c1883315358deea97e.png" alt="image"><br><br>  In the next paragraph, enter the desired name: <br><img src="https://habrastorage.org/files/5d2/fbe/d96/5d2fbed9644249b2b7e339dd4aa01dca.png" alt="image"><br><br>  You also need to select the views in which this data will be displayed: <br><img src="https://habrastorage.org/files/e4d/1c7/6cd/e4d1c76cddc249cbbb15f6557193264f.png" alt="image"><br><br>  In the last (third) step, select the following data set scheme: <br><img src="https://habrastorage.org/files/dbc/80e/804/dbc80e80450e4f5fb473f99ee4946acc.png" alt="image"><br><br>  Click ‚ÄúSave‚Äù so that our entry appears in the list of sets: <br><img src="https://habrastorage.org/files/676/087/bc0/676087bc0001443aa6d839b60cd75297.png" alt="image"><br><br>  With Google Analytics, that's it. <br><br>  Now that we have where to import the data, we go into OWOX and in the interface, click the "Create a stream" button: <br><img src="https://habrastorage.org/files/342/2e9/517/3422e95170144340be4a8c923bb26edc.png" alt="image"><br><br>  In the next step, you need to select a data source (in our case, this is Yandex.Market) and click the ‚ÄúNext‚Äù button. <br><img src="https://habrastorage.org/files/142/4b3/4db/1424b34db6ed4fabbca46e921c651e78.png" alt="image"><br><br>  On the next page, you need to add a Yandex.Market account.  If you have not started it yet, click the ‚ÄúAdd‚Äù button. <br><br>  In a popup window, OWOX will ask you for permission to access the data. <br>  In this case, you must be logged in under the account of the owner of the online store. <br><img src="https://habrastorage.org/files/f6e/546/138/f6e546138abf4bd9a24ee2142cdbeca6.png" alt="image"><br><br>  After adding, feel free to click "Next." <br><br>  The next step is Google Analytics.  If the account is running, choose it, if not - add, the principle is the same. <br><img src="https://habrastorage.org/files/97b/fc5/b4a/97bfc5b4a87940df8aefe05d26ff13ee.png" alt="image"><br><br>  Step 4 - adding a resource to Google Analytics, where data from the Market will be imported. <br>  The easiest way to find it by name.  In the data, select the set that we created at the very beginning in Google Analytics. <br><img src="https://habrastorage.org/files/81d/233/6e4/81d2336e443449e297886ebe9f039576.png" alt="image"><br><br>  At the last step, you need to configure the VAT, select the view where the data will be sent, and click "Create." <br><img src="https://habrastorage.org/files/9ce/8d0/272/9ce8d02724ac4857bf457b5b9ebd0a94.png" alt="image"><br><br>  From this point on, data will begin to pull in Google Analytics.  You should not wait for an instant download, the data is usually loaded for four hours, but sometimes the process takes up to 2-3 days. <br><br>  For our purposes, we will use Google Spreadsheets.  Go to their settings. <br><br>  First you need to create a file in Google Spreadsheets. <br>  <a href="https://docs.google.com/spreadsheets/">docs.google.com/spreadsheets</a> <br><br>  <b>IMPORTANT!</b> <br>  The account under which you create the file must be linked to Google Analytics of the resource of interest. <br><br>  <b>Next, go in steps to not miss anything.</b> <br><br>  <b>1.</b> Install the Google Analytics add-on if you do not already have it.  To do this, go to the menu - ‚ÄúAdd-ons‚Äù -&gt; ‚ÄúInstall Add-ons‚Äù.  Find GA on the first page or through search and install. <br>  <b>2.</b> Create a configuration file for our report.  Moving on: Add-ons -&gt; GA -&gt; Create new report. <br>  The following sequence of actions is as follows: <br>  2.1 Select a name.  That is how the new report sheet will be called. <br>  2.2 We select one by one an account, a resource and a presentation in Google Analytics, from which reports will be built.  The presentation must be the same in which you set up the integration of expenses, otherwise they will not be reflected. <br>  2.3 Choose indicators: <br>  + Users - users <br>  + Clicks - clicks <br>  + Transactions - transactions <br>  + Cost - cost <br>  + Cost per Transaction - Transaction Cost <br>  + Total Value - Order amount <br>  + Quantity - the number of goods purchased <br>  If you need additional indicators, add.  Listed is enough for the task. <br>  2.4 Selecting parameters: Date (Date) and Source / Medium (Source / Channel) <br><br><img src="https://habrastorage.org/files/ebb/82d/5fe/ebb82d5fe1b6498f8a3b1df44caf26fd.png" alt="image"><br><br>  Click Create Report. <br><br>  A new sheet will appear in the document called Report Configuration, in which all necessary characteristics for the reports are set: <br><br><img src="https://habrastorage.org/files/2c8/524/fd3/2c8524fd37da452ba60eb9b6e4afc9d1.png" alt="image"><br><br>  <b>3.</b> Edit the resulting report. <br>  3.1 In the Start Date field we write the date from which the budget allocation report begins.  As an option, this could be the start of an advertising campaign. <br>  Writing format: 06/13/2016. <br>  3.2 In the ‚ÄúEnd Date‚Äù field we write ‚Äútoday‚Äù. <br>  3.3 The ‚ÄúLast N Days‚Äù field is cleared. <br>  3.4 In the "Dimensions" field, you must put ga: date in the first place. <br>  3.5 In the field ‚ÄúFilters‚Äù we add filter by source / channel: ga: sourceMedium == yandex_market / cpc <br><br>  <i>In the end, it should turn out like this:</i> <br><br><img src="https://habrastorage.org/files/487/698/57c/48769857cf7a40d69b418f0c2d51f891.png" alt="image"><br><br>  <b>4.</b> Now we go: <br>  Add-ons -&gt; GA -&gt; Schedule Reports. <br>  In the window that opens, check the ‚ÄúEnable reports to run automatically‚Äù checkbox so that the reports are generated automatically, and select the time - every hour (every hour). <br><br><img src="https://habrastorage.org/files/1d3/7ad/d0e/1d37add0e2154801ab7d1bed9bbd42e4.png" alt="image"><br>  Click "Save" to save. <br><br>  <b>5.</b> Settings are ready, it's time to generate a report: <br>  Add-ons -&gt; GA -&gt; Run Reports <br><img src="https://habrastorage.org/files/9c5/8e2/728/9c58e2728ec84c9cbe8f3a7748849624.png" alt="image"><br><br>  Report is ready: <br><img src="https://habrastorage.org/files/869/682/1c1/8696821c1df14cd5a9e71535566f57b5.png" alt="image"><br><br>  He looked unsightly: <br><br><img src="https://habrastorage.org/files/656/1ae/8f7/6561ae8f74054bbbb42cc1331be49310.png" alt="image"><br><br>  <b>6.</b> Why is it necessary to create an additional sheet to work with this data? <br>  ‚Ä¢ Changes made on this sheet will be lost after the next data update. <br>  ‚Ä¢ Costs in their original form will not work, because  the data is transmitted in text format, therefore, they need to be converted <br><br>  For these reasons, create a new sheet, where we organize the data obtained. <br><br>  Create columns: <br>  ‚Ä¢ Date <br>  ‚Ä¢ Transactions <br>  ‚Ä¢ Number of goods <br>  ‚Ä¢ CPO <br>  ‚Ä¢ Revenue <br>  ‚Ä¢ Costs / Forecast <br>  ‚Ä¢ Projected Balance <br>  ‚Ä¢ Monthly budget <br>  ‚Ä¢ Number of days <br><br>  <b>7.</b> For each column we use individual formulas: <br>  Date, Transaction, Number of goods.  Select the appropriate column / cell in the generated report for each data type: <br>  = IF ('Customer 1'! A22 = ""; "No Data"; 'Customer 1'! A22) <br><br>  As can be seen from the formula, we take the data from the page of the finished report and stretch the formula for the settlement period (usually a month - 30 days). <br>  If there is no data yet, we will see the value, ‚ÄúNo Data‚Äù. <br><br>  Monthly budget: <br>  This field sets the amount that is credited to the client's account ie  net of VAT and commissions.  Take care of this so that the money on your account does not run out before 30 days. <br><br>  Costs / Forecast: <br>  = IF (VALUE (SUBSTITUTE ('Client 1'! D16; "."; ",")) = 0; $ D $ 2 / $ E $ 2; VALUE (SUBSTITUTE ('Client 1'! D16; "."; " , "))) <br><br>  In the formula, the following logic: <br>  1. Points in the cost of the Republic of Kazakhstan are replaced by commas. <br>  2. The cost of the RK per day is converted to a number. <br>  3. If the cost per day is 0, then the costs are projected based on dividing the budget by the number of days. <br>  4. If the value is greater than zero, the value is displayed. <br><br>  Costs / Forecast amount: <br>  The amount of the previous column. <br><br>  CPO, Revenue: <br>  = if (VALUE (SUBSTITUTE ('Client1'! G16; "."; ",")) = 0; 0; VALUE (SUBSTITUTE ('Client1'! G16; "."; ","))) <br>  The formula is similar to the previous one, except that if, according to the given condition, there is no value, then 0 is substituted into the cell. <br><br>  Days: <br>  = COUNTA (A2: A31) <br>  We count the number of filled rows in the first column. <br><br>  The residue is: <br>  = D2-SUM (B2: B31) <br><br>  Subtract from the budget the sum of current costs and projected. <br><br>  If you added transactions / CPO and other columns you need, you can also add and tighten them here in one of the ways. <br><br>  As a result, you should have a table similar to this: <br><br><img src="https://habrastorage.org/files/86e/17f/ca8/86e17fca857f4cddbce7a59dd22d1b55.png" alt="image"><br><br>  We recommend adding conditional formatting so that the extra data will not distract you or, on the contrary, be highlighted. <br>  This can be done through the menu Format -&gt; Conditional Formatting. <br><br>  For example, in this way: <br><img src="https://habrastorage.org/files/f73/696/0f3/f736960f301949fbb8e1e69195958136.png" alt="image"><br><br>  <b>Finally, we turn to what it was all about.</b> <br><br>  The column <b>‚ÄúPredicted Balance‚Äù</b> tells us that even if we continue to lead the Republic of Kazakhstan within the framework of a pre-calculated daily limit (budget for a month / number of days), then at the end of the period there will be 1,514.87 rubles. <br><br>  When this amount is in front of our eyes, we see that it is possible to get additional traffic and additional conversions for the client, if this money is used effectively. <br><br>  For greater clarity, it is best to use a graph. <br>  Select the cells with the heading and the value ‚ÄúCosts / Forecast amount‚Äù (similarly for ‚ÄúMonthly budget‚Äù) using ctrl on Windows or cmd on mac OS and click on the ‚ÄúInsert diagram‚Äù button: <br><img src="https://habrastorage.org/files/736/393/fa8/736393fa8e7041f5940c1ad161b5153e.png" alt="image"><br><br>  In the opened window on the left, select ‚ÄúColumnar‚Äù, then click ‚ÄúInsert‚Äù: <br><img src="https://habrastorage.org/files/a0c/19e/358/a0c19e35881e49f7be539087924d9dc7.png" alt="image"><br><br>  Then edit the chart for yourself, I did the following: <br>  1. Added values ‚Äã‚Äãto the graphs to immediately see the amount. <br><br><img src="https://habrastorage.org/files/4e7/40e/a06/4e740ea0622f40a0a0dd8646cb76f35c.png" alt="image"><br><br>  2. Expanded the minimum and maximum values ‚Äã‚Äãto make the gap clearer. <br><br><img src="https://habrastorage.org/files/ae5/45f/300/ae545f300110419f9c8e6d7157bd4de6.png" alt="image"><br><br>  3. Swapped the columns in the settings. <br><br><img src="https://habrastorage.org/files/502/290/279/502290279df34598abeed7315ecce323.png" alt="image"><br><br>  4. The location of the legend is chosen from below. <br><br><img src="https://habrastorage.org/files/60a/101/df0/60a101df0d2f4516a608d2fe32f541c7.png" alt="image"><br><br>  5. Hide the lateral axes and adjust the size of the window itself. <br><br><img src="https://habrastorage.org/files/456/0c0/fe8/4560c0fe846b4299b44cfb0d305ad23d.png" alt="image"><br><br>  The finished version is as follows: <br><br><img src="https://habrastorage.org/files/d16/82d/35d/d1682d35dd5f4c58ac84dda0afe92e55.png" alt="image"><br><br>  By the way, you can put together such reports on clients in a separate file, deleting all sheets with settings and leaving only the most important thing. <br><br>  Formula: <br>  = IMPORTRANGE ("166BYHk3-2Snvp4ix6shbhH_JKIHXwqWnmGrt0FAqd4k"; "Client 1! A1: M33") <br>  166BYHk3-2Snvp4ix6shbhH_JKIHXwqWnmGrt0FAqd4k - key from the file link <br>  Client 1! A1: M33 - sheet and range to import <br><br>  This will only copy data without formatting and without charts. <br><br>  Now you can effectively manage the budget if you see that there is an opportunity for an experiment.  In this case, the statistics on transactions, income and CPO will clearly show you about the correctness of your actions or incorrectness: P <br><br>  <b>Author: Pavel Mrykin, specialist in contextual advertising agency automation</b> </div><p>Source: <a href="https://habr.com/ru/post/304392/">https://habr.com/ru/post/304392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304378/index.html">We work with a budget institution. Part 3</a></li>
<li><a href="../304380/index.html">Still want a well-fed and bright future for their children?</a></li>
<li><a href="../304382/index.html">Cyber ‚Äã‚ÄãPandemic: Computer Attacks in Healthcare</a></li>
<li><a href="../304384/index.html">Hobby projects: chip-in.me - who, to whom and how much</a></li>
<li><a href="../304386/index.html">SObjectizer: what is it, what is it for and why does it look that way?</a></li>
<li><a href="../304394/index.html">Free Master in one of the top universities in the world: Italy</a></li>
<li><a href="../304396/index.html">How to quickly connect google proto3 to your spring (boot) web project</a></li>
<li><a href="../304398/index.html">UX button design: creation tips, types and states</a></li>
<li><a href="../304400/index.html">How is the largest automotive community Drive2.ru - traffic, monetization and user content</a></li>
<li><a href="../304402/index.html">On the motivational and recommendation letters for admission to the "free" magistracy in the US</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>