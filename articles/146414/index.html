<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Features processing HTML-letters</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, habrayuzer! 

 Recently it was possible to dig with the distribution of letters in HTML-format. There are many articles written on the topic of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Features processing HTML-letters</h1><div class="post__text post__text-html js-mediator-article">  Hello, habrayuzer! <br><br>  Recently it was possible to dig with the distribution of letters in HTML-format.  There are many articles written on the topic of valid layout of mailings, however, this is not the point here.  It is known that each mailer has its own peculiarities of displaying HTML-letters.  I am interested in these features and differences in the display of letters on different mailers. <br><a name="habracut"></a><br>  Three of my mailboxes in the mail.ru, yandex.ru and gmail.com services came under investigation.  A script was written that sent the same email to them in html format.  With it, I drove a few options and compared the results.  Here's what happened: <br><br><h3>  Body tag </h3><br>  The body of the letter displayed by the postal service begins with the body tag.  It is understandable - all the letter is contained in it.  However, the body tag itself may contain a style attribute.  In each mailer, the body of the letter is represented by a div, but not everyone transfers the contents of the style to this div. <br><ul><li>  <b>Mail.ru</b> - The body tag is replaced with &lt;div id = 'style_ <b><i>id</i></b> _BODY'&gt;, where id is the user ID transmitted in the GET line of the request.  The style attribute is lost.  In addition, any other attributes set for the body tag are lost. </li><li>  <b>Yandex.ru</b> - The body tag changes to &lt;div class = 'b-message-body__content'&gt;.  Styles are not transferable, like any other attributes of the body tag. </li><li>  <b>Gmail.com</b> - The body tag is changed to a regular div, styles are transferred.  In addition, the attributes set for the body fall into this div (meaning background attributes are meant). </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Features of attribute transfer style </h3><br>  The style attribute is often analyzed by the mail machine and can be changed before being sent to the user.  As it happens on the studied mailers: <br><ul><li>  <b>Mail.ru</b> - The processing of the style attribute is based on the principle ‚Äúeverything is allowed, which is clearly not prohibited.‚Äù  So far we have managed to find out that position: absolute will be banned </li><li>  <b>Yandex.ru</b> - Style attributes are pre-processed.  Unfamiliar styles (and, respectively, errors) are not skipped.  Clipping of styles occurs in such a way that all styles up to the first unknown fall into the letter displayed to the client.  Thus, the construction <i>width: 100px; some-new-style: new; background-color: #CCC;</i>  will be replaced by <i>width: 100px;</i> </li><li>  <b>Gmail.com</b> - The style attributes are also pre-processed, but in this case the requirements are stricter than Yandex.ru.  If at least one invalid style is found in the attribute value, the entire attribute is ignored. </li></ul><br><br><h3>  Negative values </h3><br>  In all articles on HTML layout, it is repeatedly mentioned that you can forget about negative values ‚Äã‚Äã(for example, in the margin).  The test result is quite expected: <br><ul><li>  <b>Mail.ru</b> - <i>margin-left: -100px;</i>  - works. </li><li>  <b>Yandex.ru</b> - <i>margin-left: -100px;</i>  - does not work. </li><li>  <b>Gmail.com</b> - <i>margin-left: -100px;</i>  -does not work. </li></ul><br>  The margin attribute in Mail.ru is only skipped because there are no preprocessing styles. <br><br><h3>  CSS3 support </h3><br>  CSS 3 is currently in development, and some mailers consider certain attributes to be invalid.  So, let's test some CSS3 rules on our three clients: <br><br><h4>  Mail.ru </h4><br>  Full support for CSS3 and any other browser-dependent attributes due to very loyal filtering of the style tag. <br><br><h4>  Yandex.ru </h4><br><ul><li>  <b>linear-gradient</b> - yes </li><li>  <b>box-shadow</b> - no </li><li>  <b>border-radius</b> - yes </li><li>  <b>text-shadow</b> - no </li><li>  <b>word-wrap</b> - no </li><li>  <b>resize</b> - no </li><li>  <b>several backgrounds</b> - yes </li><li>  <b>border-image</b> yes </li></ul><br><h4>  Gmail.com </h4><br><ul><li>  <b>linear-gradient</b> - no </li><li>  <b>box-shadow</b> - no </li><li>  <b>border-radius</b> - yes </li><li>  <b>text-shadow</b> - yes </li><li>  <b>word-wrap</b> - yes </li><li>  <b>resize</b> - no </li><li>  <b>several backgrounds</b> - yes </li><li>  <b>border-image-</b> no </li></ul><br><br><h3>  CSS height </h3><br>  The height attribute is not supported by all mailers. <br><ul><li>  <b>Mail.ru</b> - supported. </li><li>  <b>Yandex.ru</b> - supported. </li><li>  <b>Gmail.com</b> - not supported, replaced by min-height. </li></ul><br><br>  UPD: In the comments, it turned out that javascript: *** and expression: *** tricks are blocked by the mail.ru security system. </div><p>Source: <a href="https://habr.com/ru/post/146414/">https://habr.com/ru/post/146414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146407/index.html">Nokia fires some Qt developers</a></li>
<li><a href="../146408/index.html">History of a single file manager</a></li>
<li><a href="../146409/index.html">Google Maps API reduces prices by 8 times</a></li>
<li><a href="../146410/index.html">Court decision: Motorola Mobility (aka Google) does not infringe Apple patents</a></li>
<li><a href="../146413/index.html">Boxopus - download torrents in a dropbox account</a></li>
<li><a href="../146415/index.html">Ivy Bridge Documentation and Programming Guide</a></li>
<li><a href="../146416/index.html">Remote installation of applications</a></li>
<li><a href="../146417/index.html">USB keyboard from an old typewriter</a></li>
<li><a href="../146418/index.html">Photograph after each commit (Linux, OSX)</a></li>
<li><a href="../146419/index.html">RHEV 3.0: Alternative Virtualization? No, alternative IT ecosystem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>