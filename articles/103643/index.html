<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We study foreign expressions (and not only)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this post I will explain how to use GrowlNotify, Launchd and AppleScript to periodically display pop-up messages (using the example of classical La...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We study foreign expressions (and not only)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/6ed43f42/f74944b2/42db3efd/aea27ea8.png">  In this post I will explain how to use GrowlNotify, Launchd and AppleScript to periodically display pop-up messages (using the example of classical Latin expressions).  The note is designed for beginners, professionals are unlikely to find for themselves something new. <br><br>  For all of the above tools, a brief overview is given so that you can do exactly what you need with minimal effort ‚Äî reminders of events, new messages from social networks, monitoring and diagnostics of network services, etc.  Or you can just do everything as I described, and after a while brag to your friends with your knowledge of Latin phrases.  <i>Scientia potentia est.</i> <br><a name="habracut"></a><br><h5>  GrowlNotify </h5><br>  Growl is a program for displaying notifications; it is well known to all Adium users.  Its counterpart in Ubuntu is the notify-osd package.  Naturally, it is possible to work with it not only through the API, but also through the command line (using the above-mentioned utility). <br><br>  Install the GrowlNotify utility from <a href="http://growl.info/extras.php">Growl Extra</a> (it is included in the standard Growl distribution).  It is very easy to use: <br><blockquote><code><font color="#008000">echo</font> <font color="#BA2121">"Hello, world"</font> | growlnotify <br></code> </blockquote><br>  All useful options can be accessed with <b>growlnotify --help</b> .  In this note, we will use the option --icon (using the application icon based on the file extension of its documents), and --message.  You can also use your own icon (see --iconpath), and also make sure that the message does not automatically disappear (see --wait). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  We write a script </h5><br>  In AppleScript Editor, we write and debug a script (in my case, I saved it in ~ / Documents / edu / latin / under the name latin.scpt, the source code is taken <a href="">here</a> ): <br><blockquote> <code><font color="#008000"><strong>set</strong></font> <font color="#19177C">filePath</font> <font color="#008000"><strong>to</strong></font> <font color="#BA2121">"/Users/nuald/Documents/edu/latin/latin.txt"</font> <br> <font color="#008000"><strong>set</strong></font> <font color="#19177C">growlNotify</font> <font color="#008000"><strong>to</strong></font> <font color="#BA2121">"/usr/local/bin/growlnotify"</font> <br> <font color="#008000"><strong>set</strong></font> <font color="#19177C">fp</font> <font color="#008000"><strong>to</strong></font> <font color="#008000">open for access</font> <font color="#19177C">POSIX</font> <font color="#19177C">file</font> <font color="#19177C">filePath</font> <br> <font color="#008000"><strong>set</strong></font> <font color="#880000">result</font> <font color="#008000"><strong>to</strong></font> <font color="#008000">paragraphs</font> <font color="#008000"><strong>of</strong></font> ( <font color="#008000">read</font> <font color="#19177C">fp</font> <font color="#008000"><strong>as</strong></font> ¬´ <font color="#008000">class utf8</font> ¬ª) <br> <font color="#008000"><strong>set</strong></font> <font color="#19177C">output</font> <font color="#008000"><strong>to</strong></font> <font color="#008000">item</font> ( <font color="#008000">random number</font> <font color="#008000"><strong>from</strong></font> <font color="#666666">1</font> <font color="#008000"><strong>to</strong></font> <font color="#19177C">length</font> <font color="#008000"><strong>of</strong></font> <font color="#880000">result</font> ) <font color="#008000"><strong>of</strong></font> <font color="#880000">result</font> <br> <font color="#008000">close access</font> <font color="#19177C">fp</font> <br> <font color="#008000">do shell script</font> <font color="#19177C">growlNotify</font> <font color="#666666">&amp;</font> <font color="#BA2121">" --icon scpt --message '"</font> <font color="#666666">&amp;</font> <font color="#19177C">output</font> <font color="#666666">&amp;</font> <font color="#BA2121">"'"</font> <br></code> </blockquote><br>  Note that you need to specify the full path to all files, otherwise Launchd will not find them.  To debug the script, do not forget to use the <b>log</b> command. <br><br>  This example uses the <a href="http://dl.dropbox.com/u/7192955/articles/growl/latin.txt">latin.txt</a> file in UTF-8 encoding.  If you want to use a different encoding, see the <b>read</b> command in the AppleScript Language Guide.  The file itself is just a set of lines of the form: <br><br><blockquote>  ... <br>  Rausa verba - fewer words <br>  Paupertas n√≥n est vitium - poverty is not a vice <br>  Pax vobiscum!  - peace to you! <br>  Per aspera ad astra - through thorns to the stars! <br>  ... <br></blockquote><br>  The script reads the file into an array, selects a random item and feeds growlnotify. <br><br>  Naturally, the use of AppleScript is strictly optional, and you can run a program written in any programming language.  But AppleScript has an advantage - easy integration with the system (see the ‚Äúdictionary‚Äù of File-&gt; Open Dictionary applications).  For familiarization, I also advise reading sample scripts in / Library / Scripts /. <br><br><h5>  Customize Launchd </h5><br>  Launchd is a daemon for running processes, and is positioned by Apple as a replacement for cron, xinetd, mach_init, and init.  Naturally, you can use cron, but in launchd there are interesting options and features that will be very curious to all those interested.  See the manual for details: <b>man launchd.plist</b> . <br><br>  To run the script on a schedule, we write a configuration file (plist) and save it in ~ / Library / LaunchAgents (in my case, the file is called <a href="http://dl.dropbox.com/u/7192955/articles/growl/edu.latin.plist">edu.latin.plist</a> ). <br><br>  Open the Property List Editor and compose the following (although it is better to use this editor for editing rather than writing from scratch, since plist is a plain XML file): <br><blockquote> <code><font color="#BC7A00">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</font> <br> <font color="#BC7A00">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</font> <br> <font color="#008000"><strong>&lt;plist</strong></font> <font color="#7D9029">version=</font> <font color="#BA2121">"1.0"</font> <font color="#008000"><strong>&gt;</strong></font> <br> <font color="#008000"><strong>&lt;dict&gt;</strong></font> <br> <font color="#008000"><strong>&lt;key&gt;</strong></font> Label <font color="#008000"><strong>&lt;/key&gt;</strong></font> <br> <font color="#008000"><strong>&lt;string&gt;</strong></font> edu.latin <font color="#008000"><strong>&lt;/string&gt;</strong></font> <br> <font color="#008000"><strong>&lt;key&gt;</strong></font> ProgramArguments <font color="#008000"><strong>&lt;/key&gt;</strong></font> <br> <font color="#008000"><strong>&lt;array&gt;</strong></font> <br> <font color="#008000"><strong>&lt;string&gt;</strong></font> osascript <font color="#008000"><strong>&lt;/string&gt;</strong></font> <br> <font color="#008000"><strong>&lt;string&gt;</strong></font> /Users/nuald/Documents/edu/latin/latin.scpt <font color="#008000"><strong>&lt;/string&gt;</strong></font> <br> <font color="#008000"><strong>&lt;/array&gt;</strong></font> <br> <font color="#008000"><strong>&lt;key&gt;</strong></font> StartInterval <font color="#008000"><strong>&lt;/key&gt;</strong></font> <br> <font color="#008000"><strong>&lt;integer&gt;</strong></font> 900 <font color="#008000"><strong>&lt;/integer&gt;</strong></font> <br> <font color="#008000"><strong>&lt;/dict&gt;</strong></font> <br> <font color="#008000"><strong>&lt;/plist&gt;</strong></font> <br></code> </blockquote><br>  The <b>Label</b> parameter is required and must be unique to the system.  We run the script through <b>osascript</b> .  <b>Set the</b> interval <b>using the StartInterval</b> parameter and specify in seconds. <br><br>  This configuration will work with the following login, but you can start immediately: <br><blockquote> <code><font color="#19177C">$</font> launchctl load edu.latin.plist <br></code> </blockquote><br>  The launchctl has a number of other interesting commands for convenient work with tasks, in particular the list command: <br><blockquote> <code><font color="#19177C">$</font> launchctl list | grep edu.latin <br> -    0    edu.latin <br></code> </blockquote><br>  If the second column is 0, then everything is fine (this shows the exit code).  If not, see the /var/log/system.log log. <br><br><h5>  Postscriptum </h5><br>  This functionality is not unique to MacOSX - in Linux, for example, you can duplicate the same with cron and notify-send (from the libnotify-bin package).  Windows has <a href="http://growlforwindows.com/">Growl for Windows</a> and Task Scheduler.  However, in general, in MacOSX, some things are convenient and simple to do (I advise you to familiarize yourself with the different parameters for launchd.plist, in particular, WatchPaths and StartOnMount), and I hope this note will allow you to increase the efficiency of your work and understand how to optimize you tasks. </div><p>Source: <a href="https://habr.com/ru/post/103643/">https://habr.com/ru/post/103643/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../103636/index.html">Google SketchUp 8</a></li>
<li><a href="../103638/index.html">Quick search for matching objects by their checksums using the example of searching for duplicate images</a></li>
<li><a href="../103640/index.html">Expanding horizons. SharpDevelop AddIns</a></li>
<li><a href="../103641/index.html">Errors in the laws</a></li>
<li><a href="../103642/index.html">Cosmonaut-blogger denied the title of Hero of Russia</a></li>
<li><a href="../103645/index.html">Overview of programs for team voice communication</a></li>
<li><a href="../103646/index.html">HP ProLiant DL980 Servers</a></li>
<li><a href="../103647/index.html">100,000 clicks for the top 100 freelancers</a></li>
<li><a href="../103648/index.html">Ten things you didn‚Äôt expect from HTML / Javascript</a></li>
<li><a href="../103649/index.html">400x300.com - for those who want to get an invite to Dribbble</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>