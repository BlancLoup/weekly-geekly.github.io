<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Recovery of iPhoto when the import hangs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have a hobby - photography. 
 For cataloging by chance I use a full-time Epplovo program called iPhoto. 

 This thing is not bug-free, one way or an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Recovery of iPhoto when the import hangs</h1><div class="post__text post__text-html js-mediator-article">  I have a hobby - photography. <br>  For cataloging by chance I use a full-time Epplovo program called iPhoto. <br><br>  This thing is not bug-free, one way or another all the time it is trying to completely lose or damage the photo-library, but in the absence of good alternatives, it is necessary to use it. <br><br>  Recently I ran into a problem: the camera was incorrectly removed during the import and, as a result, the ‚Äúimport‚Äù slider appeared in iPhoto and the program heroically refused to finish correctly: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/4b8/0c3/3c3/4b80c33c34134b7e2aabebf4b1d95d7b.png"><br><br>  Fast googling showed that the problem is very common, but everyone is advised to do a ‚Äúforce quit‚Äù with the subsequent restoration of the library.  Once I lost almost a hundred photos, so I decided to look for other alternatives to the solution. <br><br>  I admit that this text will help someone. <br><br><a name="habracut"></a><br><br>  I will describe successively my steps, if suddenly someone notices an error in my reflections - please correct. <br><br><ol><li>  <b>Repeated, deeper googling</b> <br>  Repeated search showed that this problem may occur due to 2 reasons: damage to access rights on the disk and incorrectly mounted disk from which the import was performed, as a result of which it remains on the list, however, access to it cannot be made. </li><li>  <b>Create backup</b> <br>  Just in case, I decided to make a copy of the library.  The Time Machine copy was made about a week ago and since then there have been some changes in it.  Simple file duplication failed.  The system swore dirtyly that the file is being used and refused to duplicate the library.  Then it was decided to make a ZIP, but not through the Finder, but through the console.  The process was launched - it's time to move on to other steps. </li><li>  <b>Access Recovery</b> <br>  Once they write that this may be a problem - you need to try.  Analysis of the disk utility of access rights and disk check showed that everything is in perfect order.  Ok, move on. </li><li>  <b>Manual import cancel</b> <br>  At this stage, all iPhoto was studied for the presence of the cherished button ‚Äúcancel import‚Äù, but pressing the ‚Äúcancel‚Äù button in the interface yielded nothing. </li><li>  <b>Search for false mounted drives</b> <br>  Since I don‚Äôt trust the disk utility GUI in this question, the ‚Äúdiskutil list‚Äù spell was entered in the console.  The output of the team showed that the anomalies are not noticed and at first glance everything is fine <br><img src="https://habrastorage.org/storage2/6d3/0a9/22d/6d30a922d6e48c5b8f1c3277e52bf697.png"><br></li><li>  <b>Search import process</b> <br>  The course of my thinking was simple - if you complete the import process, then iPhoto most likely will not close, but simply finish the import.  The probability of crash is, of course, preserved, but it is rather small compared to the loss of images through the ‚Äúforce quit‚Äù. <br>  Through a regular system monitoring utility, I tried to find the import process.  Failed.  At the same time, while studying detailed information about the process, iPhoto found that the import was performed using one of the QuickTime components, but restarting QuickTime did not give anything, besides the import was a separate thread in the process, not a separate process, so pid could not be obtained. <br>  At the same time, interesting details surfaced - iPhoto kept several video files open, the source codes of which were already lost, which means that if the work was forced to end, these files would most likely be lost.  Motivation increased <br><img src="https://habrastorage.org/storage2/e12/219/b6d/e12219b6d473fb9a5c8644560e725663.png"></li><li>  <b>Attempt to replace imports</b> <br>  There remained one more interface solution - to import a large file into iPhoto in order to start importing again.  iPhoto turned out to be smarter and just launched parallel imports. </li><li>  <b>Pause / Restore</b> <br>  Since my hopes for saving the library (it‚Äôs not just about files, but also about structure) were rapidly melting, and ZIP was successfully created by that time - I decided to try using a third-party file manager to pause the process and then start it again.  The rainbow wheel was spinning for a long time, but it did not lead to anything concrete. </li><li>  <b>Soft attempt to complete the application</b> <br>  At one of the forums, it was read that if you send iPhoto a signal different from SIGKILL and the like, it still correctly finishes the work without damaging the media library.  Read - done, the following signals were sent to the application in direct order: <br><ul><li>  SIGCHLD (child status has changed) </li><li>  SIGSTP (stop signal generated from keyboard) </li><li>  SIGALRM (real-time timer expired) </li></ul><br>  On the last iPhoto, seconds 7 turned the rainbow wheel and collapsed. <br></li></ol><br><br>  After the reboot, the entire media library remained in a healthy state, did not have to recover and try to revive it.  All photos and videos found in ‚Äúopen streams and files‚Äù were in place, including previews of all sizes and originals. <br><br>  I hope these studies will help someone next time to keep their photo library in order. </div><p>Source: <a href="https://habr.com/ru/post/181910/">https://habr.com/ru/post/181910/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../181898/index.html">Simple solution for on-the-fly image processing with result caching</a></li>
<li><a href="../181900/index.html">State sites of Russia do not use the Open Document format. A small study + survey</a></li>
<li><a href="../181904/index.html">EVE Online and Dust 514 servers under DDoS attack and turned off</a></li>
<li><a href="../181906/index.html">LiveDC - Quick access to p2p files</a></li>
<li><a href="../181908/index.html">Texet TM-607TV: phone disguised as an Android smartphone</a></li>
<li><a href="../181912/index.html">ChibiOS: Lightweight RTOS</a></li>
<li><a href="../181914/index.html">Working with class variables of the heir class in the base class</a></li>
<li><a href="../181922/index.html">Public discussion of the GOST project on digitized audio data compression</a></li>
<li><a href="../181924/index.html">FeatureBranch</a></li>
<li><a href="../181928/index.html">How does Yandex.Mail for domains work?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>