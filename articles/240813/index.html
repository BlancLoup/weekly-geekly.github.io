<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Expressive JavaScript: Data Structures: Objects and Arrays</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content 


- Introduction 
- Values, Types and Operators 
- Program structure 
- Functions 
- Data Structures: Objects and Arrays 
- Higher order func...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Expressive JavaScript: Data Structures: Objects and Arrays</h1><div class="post__text post__text-html js-mediator-article"><h4>  Content </h4><br><ul><li>  <a href="http://habrahabr.ru/post/240219/">Introduction</a> </li><li>  <a href="http://habrahabr.ru/post/240223/">Values, Types and Operators</a> </li><li>  <a href="http://habrahabr.ru/post/240225/">Program structure</a> </li><li>  <a href="http://habrahabr.ru/post/240349/">Functions</a> </li><li>  <a href="http://habrahabr.ru/post/240813/">Data Structures: Objects and Arrays</a> </li><li>  <a href="http://habrahabr.ru/post/241155/">Higher order functions</a> </li><li>  <a href="http://habrahabr.ru/post/241587/">The secret life of objects</a> </li><li>  <a href="http://habrahabr.ru/post/241776/">Project: e-life</a> </li><li>  <a href="http://habrahabr.ru/post/242609/">Search and error handling</a> </li><li>  <a href="http://habrahabr.ru/post/242695/">Regular expressions</a> </li><li>  <a href="http://habrahabr.ru/post/243273/">Modules</a> </li><li>  <a href="http://habrahabr.ru/post/243277/">Project: programming language</a> </li><li>  <a href="http://habrahabr.ru/post/243311/">Javascript and browser</a> </li><li>  <a href="http://habrahabr.ru/post/243815/">Document Object Model</a> </li><li>  <a href="http://habrahabr.ru/post/244041/">Event handling</a> </li><li>  <a href="http://habrahabr.ru/post/244405/">Project: Platform Game</a> </li><li>  <a href="http://habrahabr.ru/post/244545/">Drawing on canvas</a> </li><li>  <a href="http://habrahabr.ru/post/245145/">HTTP</a> </li><li>  <a href="http://habrahabr.ru/post/245731/">Forms and form fields</a> </li><li>  <a href="http://habrahabr.ru/post/245767/">Project: Paint</a> </li><li>  <a href="http://habrahabr.ru/post/245775/">Node.js</a> </li><li>  <a href="http://habrahabr.ru/post/246331/">Project: website sharing experience</a> </li><li>  <a href="http://eloquentjavascript.net/code">Sandbox for code</a> </li></ul><br><br>  <i>I was asked twice: ‚ÄúTell me, Mr. Babbage, and if you enter the wrong data into the machine, will you get the right answer?‚Äù</i>  <i>Incomprehensible is the confusion in the heads that leads to such questions.</i> <i><br><br></i>  <i>Charles Babbage, "Excerpts from the life of the philosopher" (1864)</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Numbers, boolean values ‚Äã‚Äãand strings are the building blocks from which data structures are built.  But you can not make a house of one brick.  Objects allow us to group values ‚Äã‚Äã(including other objects) together ‚Äî and build more complex structures. <br><br>  Writing programs that we have been working on so far has made it difficult for them to work only with simple data.  This chapter will add an understanding of data structures to your toolkit.  By the end of it you will know enough to start writing useful programs. <br><br>  The chapter will go through a more or less realistic example of programming, introducing concepts as needed.  The example code will be built from the functions and variables that we defined earlier. <br><a name="habracut"></a><br><h4>  Werewolf </h4><br>  Sometimes, usually between eight and ten in the evening, Jacques, against his will, turns into a small rodent with a fluffy tail. <br><br>  On the one hand, Jacques is glad that he does not turn into a classic wolf.  Becoming a squirrel leads to fewer problems.  Instead of worrying about whether you would not eat your neighbor (it would be embarrassing), he is worried that the neighbor‚Äôs cat eats it.  After waking up twice on a very thin branch in the crown of an oak tree, naked and disoriented, he learned to lock windows and doors in his room for the night, and put a few nuts on the floor to occupy himself with something. <br><img src="https://habrastorage.org/files/6f4/3a3/ae3/6f43a3ae3b0c428a8bd7d4b781467d90.png"><br><br>  So problems with a cat and an oak are solved.  But Jacques is still suffering from his illness.  Irregular treatment suggests that they should be caused by something.  At first he thought that this happened only in those days when he touched the trees.  He stopped doing it, and even began to avoid approaching them.  But the problem did not disappear. <br><br>  Turning to a more scientific approach, Jacques decided to keep a daily diary of everything he did, writing down whether he turned into a squirrel.  So he hopes to narrow the circle of things leading to transformation. <br><br>  At first, he decided to develop a data structure for storing this information. <br><br><h5>  Datasets </h5><br>  To work with a piece of data, we first need to find a way to represent them in the memory of the machine.  For example, we need to remember a collection of numbers: <br><br><pre><code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span></code> </pre> <br><br>  You can play with strings - strings can be of any length, you can put a lot of data in them, and use "2 3 5 7 11" to represent this set.  But it is inconvenient.  We will need to somehow remove the numbers from there or insert new ones into the string. <br><br>  Fortunately, JavaScript offers a data type specifically for storing sequences of numbers.  It is called an array, and is written as a list of values ‚Äã‚Äãin square brackets, separated by commas: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> listOfNumbers = [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(listOfNumbers[<span class="hljs-number"><span class="hljs-number">1</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 3 console.log(listOfNumbers[1 - 1]); // ‚Üí 2</span></span></code> </pre><br><br>  The entry to get an item from an array also uses square brackets.  A pair of brackets after the expression, containing inside another expression, will find in the array, which is specified by the first expression, an element, the sequence number of which is given by the second expression. <br><br>  The number of the first element is zero, not one.  Therefore, the first element can be obtained as follows: listOfNumbers [0].  If you have not programmed before, you will have to get used to this numbering.  But it has a long tradition, and all the time while it is consistently observed, it works great. <br><br><h5>  Properties </h5><br>  We saw a lot of suspicious expressions like myString.length (getting the length of a string) and Math.max (getting the maximum) in early examples.  These expressions use the properties of quantities.  In the first case, we get access to the length property of the myString variable.  In the second, access to the max property of the Math object (which is a set of functions and variables related to mathematics). <br><br>  Almost all variables in JavaScript have properties.  Exceptions are null and undefined.  If you try to access the non-existent properties of these non-values, you will get an error: <br><br><pre> <code class="javascript hljs"><span class="hljs-literal"><span class="hljs-literal">null</span></span>.length; <span class="hljs-comment"><span class="hljs-comment">// ‚Üí TypeError: Cannot read property 'length' of null</span></span></code> </pre><br><br>  The two main ways to access properties are dot and square brackets.  value.x and value [x] access the value property ‚Äî but not necessarily the same.  The difference is in how x is interpreted.  When using a dot, the record after the dot must be the name of an existing variable, and it thus directly calls the property by name.  When using square brackets, the expression in brackets is calculated to get the name of the property.  value.x calls a property named ‚Äúx‚Äù, and value [x] evaluates the expression x and uses the result as the name of the property. <br><br>  If you know that the property you are interested in is called ‚Äúlength‚Äù, you write value.length.  If you want to extract the property name from the variable i, you write value [i].  And since a property can have any name, to access a property called ‚Äú2‚Äù or ‚ÄúJon Doe‚Äù you will have to use square brackets: value [2] or value [‚ÄúJohn Doe‚Äù].  This is necessary even when you know the exact name of the property, because ‚Äú2‚Äù or ‚ÄúJohn Doe‚Äù are not valid variable names, so they cannot be accessed with a dot. <br><br>  Array elements are stored in properties.  Since the names of these properties are numbers, and we often have to get their names from the values ‚Äã‚Äãof variables, we need to use square brackets to access them.  The length property of the array indicates how many elements there are.  The name of this property is a valid variable name, and we know it in advance, so we usually write array.length, because it is simpler than writing array [‚Äúlength‚Äù]. <br><br><h5>  Methods </h5><br>  The string and array objects contain, in addition to the length property, several properties that reference functions. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> doh = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> doh.toUpperCase); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí function console.log(doh.toUpperCase()); // ‚Üí </span></span></code> </pre><br><br>  Each line has a toUpperCase property.  When called, it returns a copy of the string in which all the letters are replaced with uppercase.  There is also toLowerCase - you can guess what it does. <br><br>  What is interesting, although the call toUpperCase does not pass any arguments, the function somehow gets access to the line ‚ÄúDuc‚Äù, the property of which we called.  How it works is described in chapter 6. <br><br>  Properties containing functions are usually called methods of the variable to which they belong.  That is, toUpperCase is a string method. <br><br>  The following example demonstrates some of the methods available for arrays: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mack = []; mack.push(<span class="hljs-string"><span class="hljs-string">","</span></span>); mack.push(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(mack); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí [",", "", ""] console.log(mack.join(" ")); // ‚Üí ,   console.log(mack.pop()); // ‚Üí  console.log(mack); // ‚Üí [",", ""]</span></span></code> </pre><br><br>  The push method is used to add values ‚Äã‚Äãto the end of the array.  pop does the opposite: deletes the value from the end of the array and returns it.  An array of strings can be flattened into one string using the join method.  The join argument is the string that will be inserted between the elements of the array. <br><br><h5>  Objects </h5><br>  Let's go back to our squirrel.  A set of journal entries can be represented as an array.  But the records do not consist only of numbers or lines - each must keep a list of what our hero did, and a boolean value indicating whether Jacques has become a squirrel.  Ideally, we would like to group each of the records into a single variable, and then add them to the array. <br><br>  Variables of type object are collections of arbitrary properties, and we can add and remove object properties at will.  One way to create an object is to use curly braces: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> day1 = { <span class="hljs-attr"><span class="hljs-attr">squirrel</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">events</span></span>: [<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>] }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(day1.squirrel); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí false console.log(day1.wolf); // ‚Üí undefined day1.wolf = false; console.log(day1.wolf); // ‚Üí false</span></span></code> </pre><br><br>  In brackets, we can specify a list of properties, separated by commas.  Each property is recorded as a name, followed by a colon, then an expression, which is the value of the property.  Spaces and line breaks are not taken into account.  By breaking the object properties record into several lines, you improve the readability of the code.  If the property name is not a valid variable name, it must be enclosed in quotes: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> descriptions = { <span class="hljs-attr"><span class="hljs-attr">work</span></span>: <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>: <span class="hljs-string"><span class="hljs-string">"  "</span></span> };</code> </pre><br><br>  It turns out that braces in JavaScript have two values.  Used at the beginning of the instructions, they begin a new block of instructions.  In any other place they describe the object.  It usually makes no sense to start an instruction with a description of the object, and therefore in programs there is usually no ambiguity about these two uses of curly braces. <br><br>  If you try to read the value of a non-existent property, you will get undefined - as in the example, when we first tried to read the wolf property. <br><br>  A property can be assigned a value through the operator =.  If it previously had a value, it will be replaced.  If the property was missing, it will be created. <br><br>  Returning to our model with tentacles and variables, we see that the properties are also similar to them.  They grab values, but other variables and properties can refer to the same values.  Objects are octopuses with an arbitrary number of tentacles, each of which contains a property name. <br><img src="https://habrastorage.org/files/f00/114/0b4/f001140b4a9b4ba38a84d1b2b017fe16.jpg"><br><br>  The delete operator cuts off a tentacle.  This is a unary operator applied to a property access expression.  This is rarely done, but quite possible. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> anObject = {<span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>}; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(anObject.left); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 1 delete anObject.left; console.log(anObject.left); // ‚Üí undefined console.log("left" in anObject); // ‚Üí false console.log("right" in anObject); // ‚Üí true</span></span></code> </pre><br><br>  The binary in operator takes a string and the name of an object, and returns a boolean value indicating whether the object has a property with that name.  There is a difference between setting the property value to undefined and removing the property.  In the first case, the property is retained by the object, it is just empty.  In the second, there is no more property, and then in returns false. <br><br>  It turns out that arrays are a kind of objects that specialize in storing sequences.  The typeof expression [1, 2] returns an ‚Äúobject‚Äù.  They can be considered as long flat octopuses, in which all the tentacles are located in an even row and marked by numbers. <br><br><img src="https://habrastorage.org/files/2b5/562/3ed/2b55623ed8384c43b3304791a6f62219.jpg"><br><br>  Therefore, the Jacques journal can be represented as an array of objects: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> journal = [ {<span class="hljs-attr"><span class="hljs-attr">events</span></span>: [<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>], <span class="hljs-attr"><span class="hljs-attr">squirrel</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">events</span></span>: [<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"   "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>], <span class="hljs-attr"><span class="hljs-attr">squirrel</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">events</span></span>: [<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>], <span class="hljs-attr"><span class="hljs-attr">squirrel</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}, <span class="hljs-comment"><span class="hljs-comment">/*   ... */</span></span> ];</code> </pre><br><br><h5>  Mutability </h5><br><br>  Soon we will get to the programming.  In the meantime, we need to understand the last part of the theory. <br><br>  We saw that the values ‚Äã‚Äãof the object can be changed.  The types of values ‚Äã‚Äãthat we considered earlier ‚Äî numbers, strings, booleans ‚Äî are immutable.  You cannot change the existing value of the specified type.  You can combine and derive new values ‚Äã‚Äãfrom them, but when you work with a certain string value, this value remains constant.  The text inside the line can not be changed.  If you have a link to the string "cat" in the code you can not change the character in it to make a "midge". <br><br>  But for objects, the content can be changed by changing the values ‚Äã‚Äãof their properties. <br><br>  If we have two numbers, 120 and 120, we can treat them as one and the same, regardless of whether they are stored in the memory in the same place.  But when we deal with objects, there is a difference whether we have two references to one object or whether we have two different objects containing the same properties.  Consider an example: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> object1 = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> object2 = object1; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> object3 = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>}; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(object1 == object2); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí true console.log(object1 == object3); // ‚Üí false object1.value = 15; console.log(object2.value); // ‚Üí 15 console.log(object3.value); // ‚Üí 10</span></span></code> </pre><br><br>  The variables object1 and object2 hold on to the same object, so changes on object1 lead to changes in object2.  The object3 variable points to another object, which initially contains the same properties as object1, but lives its own life. <br><br>  The == operator when comparing objects returns true only if the objects being compared are the same variable.  Comparing different objects will return false, even if they have identical content.  There is no ‚Äúdeep‚Äù comparison operator that would compare the contents of objects in JavaScript, but it can be done independently (this will be one of the exercises at the end of the chapter). <br><br><h4>  Werewolf log </h4><br>  So, Jacques runs his favorite JavaScript interpreter and creates the environment needed to store the log. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> journal = []; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addEntry</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">events, didITurnIntoASquirrel</span></span></span><span class="hljs-function">) </span></span>{ journal.push({ <span class="hljs-attr"><span class="hljs-attr">events</span></span>: events, <span class="hljs-attr"><span class="hljs-attr">squirrel</span></span>: didITurnIntoASquirrel }); }</code> </pre><br><br>  Every evening, at ten o'clock - and sometimes tomorrow morning, going down from the top shelf of the cabinet - he writes down his day. <br><br><pre> <code class="javascript hljs">addEntry([<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>], <span class="hljs-literal"><span class="hljs-literal">false</span></span>); addEntry([<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"   "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>], <span class="hljs-literal"><span class="hljs-literal">false</span></span>); addEntry([<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>], <span class="hljs-literal"><span class="hljs-literal">true</span></span>);</code> </pre><br><br>  As soon as he has enough data, he is going to calculate the correlation between his wraps and the events of each day, and ideally find out something useful from their correlations. <br><br>  Correlation is a measure of the relationship between variables (variables in the statistical sense, not in the sense of JavaScript).  It is usually expressed as a coefficient taking values ‚Äã‚Äãfrom -1 to 1. Zero correlation means that the variables are not related at all, and correlation 1 means that they are completely connected - if you know one, you automatically know the other.  Minus one also means a solid connection of variables, but also their opposite - when one is true, the second is always false. <br><br>  To measure the correlation of Boolean variables, the phi coefficient (œï) is well suited, and it is also relatively easy to calculate.  To do this, we need a table containing the number of times that various combinations of two variables were observed.  For example, we can take the events of ‚Äúeating pizza‚Äù and ‚Äúappeal‚Äù and present them in the following table: <br><img src="https://habrastorage.org/files/b3e/d6a/b82/b3ed6ab828b14de6bfde5e6753d67fd5.png"><br><br>  œï can be calculated using the following formula, where n refers to table cells: <br><img src="https://habrastorage.org/files/cbe/a10/860/cbea108605c34875bd8e5ee7e6372779.png"><br><br>  n01 denotes the number of measurements when the first event (pizza) is false (0), and the second event (appeal) is true (1).  In our example, n01 = 4. <br><br>  The n1 ‚Ä¢ entry denotes the sum of all dimensions, where the first event was true, which for our example is 10. Accordingly, n ‚Ä¢ 0 is the sum of all dimensions, where the ‚Äúreversal‚Äù event was false. <br><br>  So, for the pizza table, the numerator of the formula is 1 √ó 76 - 9 √ó 4 = 40, and the denominator is the root of 10 √ó 80 √ó 5 √ó 85, or ‚àö340000.  It turns out that œï ‚âà 0.069, which is rather small.  It is unlikely that pizza influenced protein circulation. <br><br><h5>  Calculate the correlation </h5><br>  A 2x2 table can be represented by an array of four elements ([76, 9, 4, 1]), an array of two elements, each of which is also a two-element array ([76, 9], [4, 1]]), or an object with properties named ‚Äú11‚Äù or ‚Äú01‚Äù.  But for us the one-dimensional array is simpler and the expression for accessing it will be shorter.  We will treat array indices as two-digit binary numbers, where the left character denotes the turnover variable, and the right one denotes the events.  For example, 10 refers to the case when Jacques turned into a squirrel, but an event (for example, ‚Äúpizza‚Äù) did not take place.  It happened 4 times.  And since binary 10 is decimal 2, we will store this in an array at index 2. <br><br>  The function that calculates the coefficient œï from this array: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">phi</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">table</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (table[<span class="hljs-number"><span class="hljs-number">3</span></span>] * table[<span class="hljs-number"><span class="hljs-number">0</span></span>] - table[<span class="hljs-number"><span class="hljs-number">2</span></span>] * table[<span class="hljs-number"><span class="hljs-number">1</span></span>]) / <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.sqrt((table[<span class="hljs-number"><span class="hljs-number">2</span></span>] + table[<span class="hljs-number"><span class="hljs-number">3</span></span>]) * (table[<span class="hljs-number"><span class="hljs-number">0</span></span>] + table[<span class="hljs-number"><span class="hljs-number">1</span></span>]) * (table[<span class="hljs-number"><span class="hljs-number">1</span></span>] + table[<span class="hljs-number"><span class="hljs-number">3</span></span>]) * (table[<span class="hljs-number"><span class="hljs-number">0</span></span>] + table[<span class="hljs-number"><span class="hljs-number">2</span></span>])); } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(phi([<span class="hljs-number"><span class="hljs-number">76</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>])); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 0.068599434</span></span></code> </pre><br><br>  This is just a direct implementation of the œï formula in JavaScript.  Math.sqrt is a function for extracting the square root of a Math object from a standard JavaScript environment.  We need to add two fields of the table to get fields of type n1 ‚Ä¢, because we do not store explicitly the sum of columns or rows. <br><br>  Jacques kept a journal for three months.  The result is available on the book's website. <br>  <a href="">eloquentjavascript.net/code/jacques_journal.js</a> <br><br>  To extract the 2x2 variable for a specific event, we need to cycle through all the records and count how many times it happens in relation to conversion to a protein. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasEvent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, entry</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> entry.events.indexOf(event) != <span class="hljs-number"><span class="hljs-number">-1</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tableFor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, journal</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> table = [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; journal.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> entry = journal[i], index = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hasEvent(event, entry)) index += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (entry.squirrel) index += <span class="hljs-number"><span class="hljs-number">2</span></span>; table[index] += <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> table; } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(tableFor(<span class="hljs-string"><span class="hljs-string">"pizza"</span></span>, JOURNAL)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí [76, 9, 4, 1]</span></span></code> </pre><br><br>  The hasEvent function checks whether the entry contains the desired item.  Arrays have an indexOf method that searches for a given value (in our case, the name of the event) in the array.  and returns the index of its position in the array (-1 if it is not in the array).  So, if the call to indexOf did not return -1, then there is an event in the record. <br><br>  The loop body in tableFor calculates which cell of the table each of the log entries falls into.  She looks to see if the record contains the desired event, and whether it is associated with conversion to a squirrel.  Then the cycle increases by one the elements of the array corresponding to the desired cell. <br><br>  Now we have all the tools for calculating correlations.  It remains only to calculate the correlations for each of the events, and see if something is displayed from the list.  But how to store these correlations? <br><br><h5>  Objects as maps </h5><br>  One way is to store correlations in an array using objects with name and value properties.  However, the search for correlations in the array will be rather cumbersome: you will need to go through the entire array to find an object with the desired name.  It would have been possible to wrap this process in a function, but the code would have to be written anyway, and the computer would do more work than necessary. <br><br>  The best way is to use the properties of objects with event names.  We can use square brackets to create and read properties and an in operator to check for the existence of a property. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> map = {}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">storePhi</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, phi</span></span></span><span class="hljs-function">) </span></span>{ map[event] = phi; } storePhi(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">0.069</span></span>); storePhi(<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-number"><span class="hljs-number">-0.081</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> map); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí true console.log(map[" "]); // ‚Üí -0.081</span></span></code> </pre><br><br>  A map is a way to associate values ‚Äã‚Äãfrom one area (in this case, the names of events) with values ‚Äã‚Äãin another (in our case, coefficients œï). <br><br>  With such use of objects, there are a couple of problems - we will discuss them in Chapter 6, but for now we will not worry. <br><br>  What if we need to collect all the events for which the coefficients are stored?  They do not create a predictable sequence, as it would be in an array, so the for loop will not work.  JavaScript offers a loop construct specifically for traversing all the properties of an object.  It is similar to a for loop, but uses the in command. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> map) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"  '"</span></span> + event + <span class="hljs-string"><span class="hljs-string">"'  "</span></span> + map[event]); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí   ''  0.069 // ‚Üí   ' '  -0.081</span></span></code> </pre><br><br><h4>  Final analysis </h4><br>  To find all types of events represented in a dataset, we process each occurrence in turn, and then create a loop over all occurrences of the occurrence.  We store the phis object, which contains the correlation coefficients for all types of events that we have already found.  If we meet a new type that has not yet been in phis, we calculate its correlation and add it to the object. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gatherCorrelations</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">journal</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> phis = {}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> entry = <span class="hljs-number"><span class="hljs-number">0</span></span>; entry &lt; journal.length; entry++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> events = journal[entry].events; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; events.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> event = events[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(event <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> phis)) phis[event] = phi(tableFor(event, journal)); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> phis; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> correlations = gatherCorrelations(JOURNAL); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(correlations.pizza); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 0.068599434</span></span></code> </pre><br><br>  We look.  what happened: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> correlations) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(event + <span class="hljs-string"><span class="hljs-string">": "</span></span> + correlations[event]); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí : 0.0140970969 // ‚Üí : 0.0685994341 // ‚Üí : 0.1371988681 // ‚Üí : -0.0757554019 // ‚Üí : -0.0648203724 //   ...</span></span></code> </pre><br><br>  Most correlations are close to zero.  Carrots, bread and pudding are obviously not related to squirrel circulation.  But it seems to happen more often on weekends.  Let's filter the results to show only correlations greater than 0.1 or less than -0.1 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> correlations) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> correlation = correlations[event]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (correlation &gt; <span class="hljs-number"><span class="hljs-number">0.1</span></span> || correlation &lt; <span class="hljs-number"><span class="hljs-number">-0.1</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(event + <span class="hljs-string"><span class="hljs-string">": "</span></span> + correlation); } <span class="hljs-comment"><span class="hljs-comment">// ‚Üí : 0.1371988681 // ‚Üí  : -0.3805211953 // ‚Üí : 0.1296407447 // ‚Üí : -0.1371988681 // ‚Üí : 0.2425356250 // ‚Üí : 0.1106828054 // ‚Üí : 0.5902679812</span></span></code> </pre><br><br>  Aha  The two correlation factors are noticeably larger than the rest.  Peanuts greatly affect the likelihood of becoming a protein, while brushing your teeth, on the contrary, prevents this. <br><br>  Interesting.  Let's try this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; JOURNAL.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> entry = JOURNAL[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hasEvent(<span class="hljs-string"><span class="hljs-string">""</span></span>, entry) &amp;&amp; !hasEvent(<span class="hljs-string"><span class="hljs-string">" "</span></span>, entry)) entry.events.push(<span class="hljs-string"><span class="hljs-string">" "</span></span>); } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(phi(tableFor(<span class="hljs-string"><span class="hljs-string">"  "</span></span>, JOURNAL))); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 1</span></span></code> </pre><br><br>  There can be no mistakes!  The phenomenon happens exactly when Jacques is a peanut and does not brush his teeth.  If he had not been such a slob about oral hygiene, he would not have noticed his misfortune at all. <br><br>  Knowing this, Jacques simply stops eating peanuts and discovers that the transformation has stopped. <br><br>  Jacques is doing well for a while.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But after a few years, he loses his job, and eventually he has to go to a circus, where he acts as an Amazing Human Protein, picking up a mouthful of peanut butter before the show. </font><font style="vertical-align: inherit;">Once, tired of such a miserable existence, Jacques does not turn back into a man, sneaks through a hole in a circus tent and disappears into the forest.</font></font> No one else saw him. <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Further massology </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the end of the chapter I want to introduce you to a few more concepts related to objects. </font><font style="vertical-align: inherit;">Let's start with the useful methods available in arrays. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have seen the push and pop methods, which add and take away elements at the end of an array. </font><font style="vertical-align: inherit;">The corresponding methods for starting the array are called unshift and shift.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> todoList = []; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rememberTo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">task</span></span></span><span class="hljs-function">) </span></span>{ todoList.push(task); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">whatIsNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> todoList.shift(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">urgentlyRememberTo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">task</span></span></span><span class="hljs-function">) </span></span>{ todoList.unshift(task); }</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This program manages the to-do list. </font><font style="vertical-align: inherit;">You add things to the end of the list by calling rememberTo, and when you're ready to do something, call whatIsNext () to get (and remove) the first item in the list. </font><font style="vertical-align: inherit;">The urgentlyRememberTo function also adds a task, but only to the top of the list. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The indexOf method has a relative named lastIndexof, which starts searching for an element in the array from the end:</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>].indexOf(<span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 1 console.log([1, 2, 3, 2, 1].lastIndexOf(2)); // ‚Üí 3</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Both methods, indexOf and lastIndexOf, take an optional second argument that specifies the starting position of the search. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Another important method is slice, which takes the numbers of the start (start) and end (end) elements, and returns an array consisting only of elements falling into this gap. </font><font style="vertical-align: inherit;">Including the one that is on the start index, but excluding the one that is on the end index.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>].slice(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí [2, 3] console.log([0, 1, 2, 3, 4].slice(2)); // ‚Üí [2, 3, 4]</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When end is not set, slice selects all items after the start index. </font><font style="vertical-align: inherit;">Strings have a similar method that works the same way. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The concat method is used for splicing arrays, something like the + operator sticks together strings. </font><font style="vertical-align: inherit;">The example shows the methods concat and slice in the case. </font><font style="vertical-align: inherit;">The function takes an array and an index index, and returns a new array, which is a copy of the previous one, with the exception of the deleted item at index index.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">remove</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">array, index</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> array.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, index).concat(array.slice(index + <span class="hljs-number"><span class="hljs-number">1</span></span>)); } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(remove([<span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"b"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>, <span class="hljs-string"><span class="hljs-string">"d"</span></span>, <span class="hljs-string"><span class="hljs-string">"e"</span></span>], <span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí ["a", "b", "d", "e"]</span></span></code> </pre><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Strings and their properties </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We can get the values ‚Äã‚Äãof the properties of strings, for example, length and toUpperCase. </font><font style="vertical-align: inherit;">But an attempt to add a new property will not lead to anything:</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myString = <span class="hljs-string"><span class="hljs-string">""</span></span>; myString.myProperty = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myString.myProperty); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí undefined</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String, number, and Boolean values ‚Äã‚Äãare not objects, and although the language does not complain about attempts to assign new properties to them, it does not actually save them. </font><font style="vertical-align: inherit;">Values ‚Äã‚Äãare immutable. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But they have their own built-in properties. </font><font style="vertical-align: inherit;">Each line has a set of methods. </font><font style="vertical-align: inherit;">The most useful, perhaps - slice and indexOf, resembling the same methods in arrays.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">""</span></span>.slice(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí  console.log("".indexOf("")); // ‚Üí 4</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The difference is that for a string, the indexOf method can accept a string containing more than one character, and for arrays, this method only works with one element. </font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"  "</span></span>.indexOf(<span class="hljs-string"><span class="hljs-string">""</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 5</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The trim method removes spaces (as well as line breaks, tabs, and other similar characters) at both ends of the line. </font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"  \n "</span></span>.trim()); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí </span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have already encountered the string property length. </font><font style="vertical-align: inherit;">Access to individual characters of the line can be obtained through the method charAt, as well as simply through the numbering of positions, as in an array:</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> string = <span class="hljs-string"><span class="hljs-string">"abc"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(string.length); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 3 console.log(string.charAt(0)); // ‚Üí a console.log(string[1]); // ‚Üí b</span></span></code> </pre><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Arguments object </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When a function is called, a special variable called arguments is added to the environment of the executable function body. </font><font style="vertical-align: inherit;">It points to an object containing all the arguments passed to the function. </font><font style="vertical-align: inherit;">Remember that in JavaScript you can pass more or less arguments to functions than declared with parameters.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">noArguments</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} noArguments(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  function threeArguments(a, b, c) {} threeArguments(); //   </span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The arguments object has a length property that contains the actual number of arguments passed to the function. </font><font style="vertical-align: inherit;">It also has properties for each argument under the names 0, 1, 2, etc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If it seems to you that this is very similar to an array, you are right. </font><font style="vertical-align: inherit;">This is very similar to an array. </font><font style="vertical-align: inherit;">Unfortunately, this object has no methods of type slice or indexOf, which makes accessing it harder.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">argumentCounter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>.length, <span class="hljs-string"><span class="hljs-string">"."</span></span>); } argumentCounter(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí    3 .</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Some functions are designed for any number of arguments, like console.log. </font><font style="vertical-align: inherit;">They usually loop through the properties of the arguments object. </font><font style="vertical-align: inherit;">This can be used to create user-friendly interfaces. </font><font style="vertical-align: inherit;">For example, remember how we created entries for Jacques magazine:</font></font><br><br><pre> <code class="javascript hljs">addEntry([<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>], <span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Since we often call this function, we can make an alternative that is easier to call: </font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addEntry</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">squirrel</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> entry = {<span class="hljs-attr"><span class="hljs-attr">events</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">squirrel</span></span>: squirrel}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>.length; i++) entry.events.push(<span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>[i]); journal.push(entry); } addEntry(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>);</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This version reads the first argument as usual, and for the rest passes in a loop (starting at index 1, skipping the first argument) and assembles them into an array. </font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Math object </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have already seen that Math is a set of tools for working with numbers, such as Math.max (maximum), Math.min (minimum), and Math.sqrt (square root). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Math object is simply used as a container to group related functions. There is only one Math object, and it is almost never used as a value. It simply provides a namespace for all these functions and values, so that they do not need to be made global.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Too many global variables pollute the namespace. The more names are taken, the more likely it is to accidentally use one of them as a variable. For example, it is very likely that you will want to use the name max for something in your program. Since the max‚Äôs built-in JavaScript function is safely packaged in a Math object, we don‚Äôt need to worry about overwriting it. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Many languages ‚Äã‚Äãwill stop you, or at least warn you, when you define a variable with a name that is already taken. JavaScript will not do this, so be careful.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Returning to the Math object. </font><font style="vertical-align: inherit;">If you need trigonometry, he will help you. </font><font style="vertical-align: inherit;">It has cos (cosine), sin (sine), and tan (tangent), their inverse functions are acos, asin, and atan. </font><font style="vertical-align: inherit;">The number œÄ (pi) - or at least its close approximation, which fits in the JavaScript number - is also available as Math.PI. </font><font style="vertical-align: inherit;">(There is such an old tradition in programming - to write the names of constants in upper case).</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randomPointOnCircle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">radius</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> angle = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: radius * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(angle), <span class="hljs-attr"><span class="hljs-attr">y</span></span>: radius * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.sin(angle)}; } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(randomPointOnCircle(<span class="hljs-number"><span class="hljs-number">2</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí {x: 0.3667, y: 1.966}</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you are unfamiliar with sines and cosines - do not despair. </font><font style="vertical-align: inherit;">We will use them in chapter 13, and then I will explain them. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The previous example uses Math.random. </font><font style="vertical-align: inherit;">This is a function that returns with each call a new pseudo-random number between zero and one (including zero).</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random()); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 0.36993729369714856 console.log(Math.random()); // ‚Üí 0.727367032552138 console.log(Math.random()); // ‚Üí 0.40180766698904335</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Although computers are deterministic machines (they always react the same way to the same input data), it is possible to make them give out seemingly random numbers. For this, the machine keeps several numbers in its internal state. Each time a random number is requested, it performs various complex deterministic calculations and returns part of the result of the calculations. She uses this result in order to change her internal state, so the next "random" number is obtained by another. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you need a whole random number, not a fraction, you can use Math.floor (rounds the number down to the nearest integer) on the result of Math.random.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * <span class="hljs-number"><span class="hljs-number">10</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 2</span></span></code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Multiplying a random number by 10, we get a number from zero to 10 (including zero). </font><font style="vertical-align: inherit;">Since Math.floor rounds down, we get a number from 0 to 9 inclusive. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is also a Math.ceil ("ceiling") function that rounds up to the nearest integer and Math.round (rounds to the nearest integer).</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Global object </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The global scope where global variables live can be accessed in the same way as an object. </font><font style="vertical-align: inherit;">Each global variable is a property of this object. </font><font style="vertical-align: inherit;">In browsers, the global scope is stored in the variable window.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myVar = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"myVar"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí true console.log(window.myVar); // ‚Üí 10</span></span></code> </pre><br><br><h4>  Total </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objects and arrays (which are subspecies of objects) allow us to group several values ‚Äã‚Äãinto one. In principle, this allows us to shove a few interconnected things into a bag and run around with it in circles, instead of trying to grab all these things with our hands and try to hold them each separately. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Most values ‚Äã‚Äãin JavaScript have properties, with the exception of null and undefined. We access them via value.propName or value [‚ÄúpropName‚Äù]. Objects use names to store properties and store a more or less fixed number of them. Arrays usually contain a variable number of values ‚Äã‚Äãof the same type, and use numbers (starting from zero) as names for these values.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also in arrays there are named properties, such as length, and several methods. </font><font style="vertical-align: inherit;">Methods are functions that live among properties and (usually) work on the value whose property they are. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objects can also work as maps, associating values ‚Äã‚Äãwith names. </font><font style="vertical-align: inherit;">The in operator is used to find out if an object contains a property with the given name. </font><font style="vertical-align: inherit;">The same keyword is used in the for loop (for (var name in object)) to iterate through all the properties of the object.</font></font><br><br><h4>  Exercises </h4><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Amount range </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The introduction mentioned a convenient way to calculate the sum of the ranges of numbers: </font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(sum(range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>)));</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write a range function that takes two arguments, the beginning and end of a range, and returns an array that contains all the numbers from it, including the start and end. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Then write a sum function that takes an array of numbers and returns their sum. </font><font style="vertical-align: inherit;">Run the above instruction and make sure that it returns 55. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a bonus, add the range function so that it can take the optional third argument - the step for constructing an array. </font><font style="vertical-align: inherit;">If it is not specified, the step is one. </font><font style="vertical-align: inherit;">The function call range (1, 10, 2) should return [1, 3, 5, 7, 9]. </font><font style="vertical-align: inherit;">Make sure that it works in negative steps so that the call range (5, 2, -1) returns [5, 4, 3, 2].</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(sum(range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>))); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí 55 console.log(range(5, 2, -1)); // ‚Üí [5, 4, 3, 2]</span></span></code> </pre><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Reversing the array </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arrays have a reverse method that reverses the order of the elements in the array. </font><font style="vertical-align: inherit;">As an exercise, write two functions, reverseArray and reverseArrayInPlace. </font><font style="vertical-align: inherit;">The first one takes an array as an argument and returns a new array, with the reverse order of the elements. </font><font style="vertical-align: inherit;">The second works as the original reverse method ‚Äî it reverses the order of the elements in the array that was passed to it as an argument. </font><font style="vertical-align: inherit;">Do not use the standard reverse method. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you keep in mind the side effects and the pure functions from the previous chapter, which of the options seems more useful to you? </font><font style="vertical-align: inherit;">Which one is more effective?</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(reverseArray([<span class="hljs-string"><span class="hljs-string">"A"</span></span>, <span class="hljs-string"><span class="hljs-string">"B"</span></span>, <span class="hljs-string"><span class="hljs-string">"C"</span></span>])); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí ["C", "B", "A"]; var arrayValue = [1, 2, 3, 4, 5]; reverseArrayInPlace(arrayValue); console.log(arrayValue); // ‚Üí [5, 4, 3, 2, 1]</span></span></code> </pre><br><br><h5>  List </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objects can be used to build various data structures. </font><font style="vertical-align: inherit;">Often found structure - the list (do not confuse with an array). </font><font style="vertical-align: inherit;">A list is a related set of objects, where the first object contains a link to the second, the second to the third, and so on.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> list = { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">rest</span></span>: { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">rest</span></span>: { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">rest</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } } };</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a result, objects form a chain: </font></font><br><img src="//habrastorage.org/files/dfa/808/2d2/dfa8082d24df4c59b594d5cf164119c2.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lists are convenient in that they can share part of their structure. For example, you can make two lists, {value: 0, rest: list} and {value: -1, rest: list}, where list is a reference to a previously declared variable. These are two independent lists, and they have a common list structure, which includes the last three elements of each of them. In addition, the original list also saves its properties as a separate list of three items.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write the function arrayToList, which builds such a structure, taking as argument [1, 2, 3], as well as the function listToArray, which creates an array from the list. </font><font style="vertical-align: inherit;">Also, write the auxiliary function prepend, which gets the element and creates a new list, where this element is added to the original list, and the nth function, which takes a list and a number as arguments, and returns the element at a specified position in the list, or undefined in case the absence of such an element. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If your version of nth is not recursive, then write its recursive version.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(arrayToList([<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>])); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí {value: 10, rest: {value: 20, rest: null}} console.log(listToArray(arrayToList([10, 20, 30]))); // ‚Üí [10, 20, 30] console.log(prepend(10, prepend(20, null))); // ‚Üí {value: 10, rest: {value: 20, rest: null}} console.log(nth(arrayToList([10, 20, 30]), 1)); // ‚Üí 20</span></span></code> </pre><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Deep comparison </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The == operator compares object variables, checking if they refer to a single object. </font><font style="vertical-align: inherit;">But sometimes it would be useful to compare objects by content. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write a deepEqual function that takes two values ‚Äã‚Äãand returns true only if these are two identical values ‚Äã‚Äãor are objects whose properties have the same values ‚Äã‚Äãif you compare them with a recursive call to deepEqual. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To find out when to compare values ‚Äã‚Äãusing ===, and when to compare objects by content, use the typeof operator. </font><font style="vertical-align: inherit;">If it yields ‚Äúobject‚Äù for both quantities, then you need to make a deep comparison. </font><font style="vertical-align: inherit;">Do not forget about one stupid exception, which happened because of historical reasons: ‚Äútypeof null‚Äù also returns ‚Äúobject‚Äù.</font></font><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = {<span class="hljs-attr"><span class="hljs-attr">here</span></span>: {<span class="hljs-attr"><span class="hljs-attr">is</span></span>: <span class="hljs-string"><span class="hljs-string">"an"</span></span>}, <span class="hljs-attr"><span class="hljs-attr">object</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>}; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(deepEqual(obj, obj)); <span class="hljs-comment"><span class="hljs-comment">// ‚Üí true console.log(deepEqual(obj, {here: 1, object: 2})); // ‚Üí false console.log(deepEqual(obj, {here: {is: "an"}, object: 2})); // ‚Üí true</span></span></code> </pre></div><p>Source: <a href="https://habr.com/ru/post/240813/">https://habr.com/ru/post/240813/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240803/index.html">Free Cryptic Disk 4 with TrueCrypt support</a></li>
<li><a href="../240805/index.html">Strutext C ++ word processing library</a></li>
<li><a href="../240807/index.html">NodeMap, but not what you thought</a></li>
<li><a href="../240809/index.html">Package to create admin in projects on Laravel</a></li>
<li><a href="../240811/index.html">An old dog learns new tricks: Code Kata using QuickCheck</a></li>
<li><a href="../240815/index.html">"Purple" I2P - a window into the world of C ++ applications</a></li>
<li><a href="../240817/index.html">Using Accept Header for API Versioning</a></li>
<li><a href="../240819/index.html">Javascript equalizer</a></li>
<li><a href="../240823/index.html">Odroid W, or giblets raspberry pie</a></li>
<li><a href="../240825/index.html">Information for customers or for the protection of programmers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>