<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debugging javascript build in IntelliJ IDEA / PHPStorm / WebStorm</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="According to the rules of the modern frontend, you need to give the user a minimum of files with a minimum weight. But during development, it is very ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debugging javascript build in IntelliJ IDEA / PHPStorm / WebStorm</h1><div class="post__text post__text-html js-mediator-article">  According to the rules of the modern frontend, you need to give the user a minimum of files with a minimum weight.  But during development, it is very inconvenient to write everything in one file, also in a compressed form, therefore, to solve this problem, different assemblies are used in the form of ready-made yeoman.io, generator-yeogurt, etc.  Or assemble themselves with the use of Grunt, Gulp, etc.  But it's not about that, it's about debugging javascript in these builds. <br><br>  Perhaps in small projects this is not necessary, but in large projects there is nowhere, especially if you use the MVC framework and / or a bunch of self-written code. <br><br>  On Habr√© there is already a good article on the topic of debugging js using the map file in chrome - <a href="http://habrahabr.ru/post/148098/">"Introduction to Javascript Source Maps"</a> .  But if you work in the development environment, especially if this environment is from JetBrains, then it‚Äôs somehow wrong to get into chrome (although, of course, this is a very holivar topic).  Therefore, I decided to write this article. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So let's get started. <br><a name="habracut"></a><br>  First, to debug in IntelliJ IDEA / PHPStorm / WebStorm you will need GoogleChrome with plug-ins from JetBrains. <br><br><img src="https://habrastorage.org/files/5e1/9f4/226/5e19f4226b7a427f9f5301048b7613bc.jpg" alt="image"><br><br>  Further there are several options: <br><br><h3>  The first option is via <a href="https://www.jetbrains.com/phpstorm/help/minifying-javascript.html">ide and UglifyJS / YUI Compressor / ClosureCompiler</a> </h3><br>  I did it through <a href="https://github.com/mishoo/UglifyJS2">UglifyJS</a> and therefore it will be in the example. <br>  To do this, install the npm package uglify-js with a global key. <br><br><pre><code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> uglify-js -g</code> </pre> <br>  Next, go to File-&gt; Settings-&gt; Tools-&gt; FileWatchers (if FileWatchers is not installed, then install it via plugins).  Right click '+' and select UglifyJS in the drop-down menu: <br><br><img src="https://habrastorage.org/files/cd0/3af/18a/cd03af18ae2b405883846a68d7d16e71.jpg" alt="image"><br><br>  If everything is okay, then the program will find .cmdUglifyJS itself, if not, then you have to manually register it <br><br>  On Windows it will be: C: \ Users \ UsersName \ AppData \ Roaming \ npm \ uglifyjs.cmd. <br><br>  Then in 'Arguments:' we set the necessary arguments, including the arguments for creating the <a href="http://habrahabr.ru/post/148098/">map file</a> , according to the <a href="https://github.com/mishoo/UglifyJS2">documentation</a> . <br><br>  Now ide will follow the specified js-files and create the map files itself. <br><br><h3>  The second option is via gulp, grunt, browserify, etc. </h3><br>  Since I use gulp, I will give an example on it. <br>  I will not describe the settings in detail, because  on this topic and so many articles, just give an example of the grip file code that I use: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sourcemaps = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-sourcemaps'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uglify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-uglify'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rename = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-rename'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> concat = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-concat'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'react'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'www/js/*.js'</span></span>) .pipe(sourcemaps.init()) .pipe(concat(<span class="hljs-string"><span class="hljs-string">'main.js'</span></span>)) .pipe(uglify()) .pipe(rename({ <span class="hljs-attr"><span class="hljs-attr">suffix</span></span>: <span class="hljs-string"><span class="hljs-string">".min"</span></span> })) .pipe(sourcemaps.write(<span class="hljs-string"><span class="hljs-string">'../maps'</span></span>)) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'www/js/main/'</span></span>)); });</code> </pre><br><br>  In this example, we use gulp-sourcemaps to create a map file, gulp-concat to concatenate files, gulp-uglify to minify, and gulp-rename to add the min suffix. <br><br><h3>  Once you have decided on the option of creating a map file for the project, proceed to the debager settings in the IDE </h3><br>  Click on the drop-down menu of the debugger and select 'EditConfigurations ...' <br><br><img src="https://habrastorage.org/files/e85/b15/1ef/e85b151ef45148c89c6768a2cd757957.jpg" alt="image"><br><br>  In the appeared window, in the upper left corner we press '+' and in the appeared drop-down list we select JavaScriptDebug. <br><br><img src="https://habrastorage.org/files/87e/5d3/15d/87e5d315dcba4150b22222c12d748933.jpg" alt="image"><br><br>  In the debugger setup window, in the Name line we write the name of the task, in the URL we write, or the address of the site that will debug javascript, or the local directory / html file, which will open in the browser when debugging starts (I prefer to work with the site address).  In the Browser: drop-down menu, select the browser that will open when you start debug. <br><br>  If you set the url in the URL field, then the 'RemoteURLsoflocalfiles (optional):' field will appear, where you can specify the root folder of this url and the virtual address of the debugs files.  (since your files will be written opposite your files / map / file.js) <br><br><img src="https://habrastorage.org/files/e80/26b/aae/e8026baae639407a84cc02703179b491.jpg" alt="image"><br><br>  This is my example.  You will have instead of .jsx just .js. <br><br>  Now that everything is ready, click on the bug: <br><br><img src="https://habrastorage.org/files/a07/d56/7c6/a07d567c63894b64a819c35fa6a56563.jpg" alt="image"><br><br>  If everything is ok, then the browser will open at the specified address with the pop-up window ‚ÄúJetBrains IDE Support Debugs this Tab‚Äù (do not close this window during debugging, as the connection with ide will be broken immediately).  In the debug window that opens, in the Scripts tab, you will be able to see your js files, in which you need to set breakpoints (most likely, they will have an address: your_sayt.ru / map / file.js, but it can be different, because the address where the source js files will be created virtually depends on the settings specified for the program that creates the map file for debag).  If ide does not see breakpoints (red circle without a check mark), then in debug mode, in the Scripts tab, right-click on this file and select SpecifyLocalPath from the menu. <br><br><img src="https://habrastorage.org/files/328/924/82a/32892482a9a442029510d8e96f5aa59a.jpg" alt="image"><br><br>  If everything is okay, then breakpoint will be ticked. <br><br>  Thus, we get the full power of debugging javascripta in ide ‚Äúwithout leaving the cashier‚Äù. <br><br>  For further reading I recommend: <br>  - As already mentioned, a <a href="http://habrahabr.ru/post/148098/">good article</a> on Habr√© about debugging js in chrome; <br>  - Official JetBrains documentation to <a href="https://www.jetbrains.com/phpstorm/help/minifying-javascript.html">javascript supported by minifiers</a> ; <br>  - If someone does not know what Gulp is, you can read about it <a href="http://habrahabr.ru/post/208890/">here</a> ; <br>  - For those who do not know what npm is, there is a <a href="http://habrahabr.ru/post/133363/">link</a> . </div><p>Source: <a href="https://habr.com/ru/post/255837/">https://habr.com/ru/post/255837/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255827/index.html">3D MC3 Wizard v1.1 or how I assembled my first 3D printer</a></li>
<li><a href="../255829/index.html">Spring + Hibernate for beginners</a></li>
<li><a href="../255831/index.html">Free VID PID pairs for open source projects</a></li>
<li><a href="../255833/index.html">Multiuser chat using WebRTC</a></li>
<li><a href="../255835/index.html">Zhelezyachniki vs. Programmers</a></li>
<li><a href="../255839/index.html">Fast detection of MIB modules supported by an SNMP device</a></li>
<li><a href="../255843/index.html">HP BURA (HP BackUp, Recovery and Archiving) - HP's offer for organizing data backup and archiving systems</a></li>
<li><a href="../255845/index.html">Systemd in five minutes</a></li>
<li><a href="../255847/index.html">The new algorithm of Yandex Minusinsk</a></li>
<li><a href="../255851/index.html">SAP Forum: New Opportunities for Developers and Startups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>