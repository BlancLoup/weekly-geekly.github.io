<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Night. The outside. Z-Wave. Security</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, Yandex is sending 26 million links to the ‚Äúsecurity systems‚Äù request. So the subject of security is clearly interesting to a wide range of user...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Night. The outside. Z-Wave. Security</h1><div class="post__text post__text-html js-mediator-article">  Today, Yandex is sending 26 million links to the ‚Äúsecurity systems‚Äù request.  So the subject of security is clearly interesting to a wide range of users.  Activity in this segment is confirmed by the statistics of specialized exhibitions.  For example, last year there were more than 200 participants and almost 17,000 visitors at MIPS / Securika. <br><br><img src="https://habrastorage.org/files/b24/913/bae/b24913baee0e46fba22f83ab5f68e672.jpg"><br><br>  Given that smart home solutions often have elements similar to security systems, such as motion sensors, light control, cameras and notifications, the idea of ‚Äã‚Äãendowing them with appropriate functionality looks quite logical.  This will simplify the hardware and use the programming flexibility of the automation controller to implement various scenarios. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this material, we will explore what existing solutions based on the Z-Wave protocol can offer in this area and what they might have interesting compared to traditional products. <br><br><a name="habracut"></a><br><h3>  Fast and easy </h3><br>  Of course, in terms of convenience, it is best to use ready-made motion sensors and open the door / window for Z-Wave.  The benefit of the range is very wide, and in most cases there are no problems with compatibility.  This option is suitable for those who need to implement the required functionality with the least amount of time. <br><br>  Adding a device to a home automation system is not easy, but very simple - we install a battery, connect it to the controller, fix it in the right place, change the name, distribute it in the right room and use it.  Optionally, you can change the device settings, but usually everything works with factory settings.  It is also worthwhile to note the advantages of the majority of models that, in addition to the main task, can act as sensors, for example, temperature, light, humidity. <br><br>  The most interesting models on the market today are the Fibaro Motion Sensor (motion, temperature, illumination, disassembly (accelerometer)), Fibaro Door / Window Sensor (open, temperature, binary input), Philio MultiSensor (motion, open, temperature , illumination), Aeotec multi-sensor 4 in 1 (movement, illumination, temperature, humidity) and the novelty of this year - Aeotec multi-sensor 6 in 1 (movement, illumination, temperature, humidity, ultraviolet, vibration). <br><br>  The battery CR123A, which lasts for a year or two, is usually responsible for the power supply of autonomous sensors.  The need to replace it will tell you the controller.  By the way, most devices are also equipped with additional special sensors for detecting dismantling and hacking. <br><br>  I used the Fibaro Motion Sensor in the living room, which made it possible to realize the script to automatically turn on the light (halogen lamps at half brightness through a dimmer) when motion was detected in the dark.  This device has a compact size - the diameter of the "ball" is less than 5 centimeters.  A convenient compact mount makes it easy to choose the position of the device. <br><br><img src="https://habrastorage.org/files/1fa/d15/052/1fad15052cc84b12a5bf52d6c8fab686.JPG"><br><br>  It was not possible to fix the ‚Äúeyes‚Äù flashing when the sensor is triggered with different colors, but official photos quite accurately convey its appearance. <br><br><img src="https://habrastorage.org/files/cfb/9cc/4ac/cfb9cc4ac0214564bf7a5f40bcb7e452.JPG"><br><br>  Well, in addition, this sensor provided the system with information about the temperature in the room.  Also interesting is the scenario of switching on the main lighting for a more effective camera shooting when motion is detected in armed mode. <br><br>  The second ready device in the system is the door opening sensor.  There was no special need in this case, since a standard reed switch was installed on the front door.  So we use this device to obtain data on the temperature in the bedroom, as well as turning on the light in the corridor at night, since the motion sensor in this case triggers with a significant delay, because it is located on the back of the same door) and is not so convenient. <br><br><img src="https://habrastorage.org/files/fed/09b/a10/fed09ba10305482d9256364cd2b6bd36.JPG"><br><br>  In addition to sensors, in this scenario, relay modules and specialized sirens will be useful for switching on the light and sound alarms.  The latter are not only powered from the network, but also from batteries or batteries.  There are even external models with recharge from sunlight. <br><br>  Note that this solution is also multifunctional - the motion sensor can work not only in security, but also to turn on the light or transfer the heating system in a particular room to an economical mode, the window sensor blocks the air conditioner when the window is opened, the wall code panel is useful for enable special lighting or temperature control modes. <br><br><h3>  Use a soldering iron </h3><br>  For those who are interested in working with their hands and who are not averse to saving money, you can offer a second option - use the Fibaro Universal Sensor module and connect traditional wired cables with motion sensors and / or reed switches to it.  At the same time, one module supports two digital inputs at once.  So if you do not need information about the movement in each room individually, and in the apartment or house there are already wiring and standard sensors, then the issue price is significantly reduced compared to the first option.  True, there is no longer so interesting with additional features.  Only the option of connecting to a universal sensor up to four Dallas DS18B20 1-Wire temperature sensors remains, which, however, is not bad either. <br><br><img src="https://habrastorage.org/files/3ad/232/dd1/3ad232dd10d44f93b5e33259aa9471a6.JPG"><br><br>  The module itself pleasantly surprises with its size - dimensions do not exceed 30x15x12 mm.  Power supply - unipolar 9-30 V (the battery in the photo is only for estimating the size of the sensor).  The operating temperature range is 0 .. + 40 degrees.  The model has two digital inputs, two digital outputs, as well as a 1-Wire bus loop.  For real use, it is advisable to install the sensor in the case.  I got a fairly large box, but it was easy to solder. <br><br><img src="https://habrastorage.org/files/58e/4a1/d98/58e4a1d986024b30a005bead4b62cdea.JPG"><br><br>  Even one of the standard motion sensors can be used as a housing; there is usually more than enough space in them.  In this case, it will only be necessary to give power to the common bus. <br><br><img src="https://habrastorage.org/files/06f/043/7ce/06f0437ce5994c63bb72a083eea3b3a0.JPG"><br><br>  The line of such sensors, which were previously installed in the apartment, I connected to the first channel of the universal sensor.  And the second entrance connected to the reed switch on the front door.  This combination allows you to track the main events in demand - the movement in the apartment and the entrance. <br><br>  Interesting scenarios for the use of this module are also the connection of wired street motion sensors and the implementation of a ‚Äúpanic button‚Äù.  As you understand, in the latter case, practically any actions on the controller can be ‚Äúhung up‚Äù on an event. <br><br><h3>  Connection to the existing security system </h3><br>  In the event that an alarm system is already implemented in a house or apartment, using the same Fibaro Universal Sensor or relay modules in most cases it will be possible to connect to it.  This allows you to significantly expand the capabilities of the system, as well as implement scenarios that go beyond the standard framework.  In this case, data exchange can take place in two directions.  Connection options are usually described in the documentation. <br><br><img src="https://habrastorage.org/files/7c2/d8e/78f/7c2d8e78fb04453eb35fd56b9f4ab022.png"><br><br>  The alarm system can report arming, which will automatically switch your "Smart Home" to the "Nobody's Home" mode.  This, in particular, will be useful in terms of saving electricity.  Similarly, you can program for this time active airing, turning off wireless networks, switching the video surveillance system to active mode, starting the cleaning with your vacuum cleaner robots, or cleaning the air with a quartz lamp.  Here you can think up a lot of things, and considering the capabilities of the Fibaro Home Center 2 controller, and implement it. <br><br>  The second possible type of message from the standard security system to the automation system is information about hacking.  Here, your smart home can also do a lot of interesting things - send you an SMS or e-mail, turn on sound and light alarms and even send a picture of the attacker.  Note that these functions usually do not require reconfiguration of the alarm itself, which can be significant in some installations. <br><br>  Messages in the other direction may be equally useful.  Through the relay, you can add new cables from the Z-Wave sensors to the alarm.  So if necessary, your existing system can be expanded with wireless sensors, leakage, smoke sensors and other non-standard devices.  True, in most cases, for effective use of this scheme, it will be necessary to reconfigure the signaling unit. <br><br>  Can be implemented using the Z-Wave controller and the function of arming and disarming.  True, here we must not forget about the security of the solution obtained.  For example, if your system supports the popular ‚Äútablets‚Äù (Touch memory / Contact memory / iButton), you can do this ‚Äî install the Z-Wave relay and switch this sensor (with the key connected) to the corresponding alarm input. <br><br><h3>  More features </h3><br>  If the options described above are few and you want not only to solder, but also to program in the Arduino IDE, then Z-Uno, which has 22 GPIOs, comes to the rescue.  On one such board, it will be possible to implement several inputs and outputs at once, and you can think of a lot of applications for this scenario.  For example, you can entrust Z-Uno with the task of controlling the door - an opening sensor, an electromechanical lock control, a bolt position control (will help answer the question ‚Äúdid I forget to close the door?‚Äù), Visitor count, motion sensor, ambient light control .  And all this - on a single board and with simple integration into the automation system based on Z-Wave.  Read more about this device in our recent <a href="https://geektimes.ru/company/zwave/blog/268980/">publication</a> . <br><br><img src="https://habrastorage.org/files/2d3/c42/797/2d3c42797d6242fa86c1873f2e4fc052.png"><br><br>  Another option that can clearly be claimed in the task described is the management of an access control panel, including indicators and matrix screens, a code panel, a reader of tablets or access cards.  Unfortunately, the regular features of Z-Wave in this direction are not very interesting and convenient.  Yes, and with devices that perform such tasks, things are not very good today. <br><br><h3>  For sweetness - programming </h3><br>  The traditional programming of security systems and access control systems, to put it mildly, is very sad.  For example, a ‚Äúproprietary‚Äù program is used with a local computer connection to the system.  Some of them even have an outdated serial port as a programming interface, which most potential consumers have seen, if only in pictures or in old hacker films.  There is also the option of downloading a configuration file from the device, then editing it on a computer (also in a special utility, an example in the following illustration) and then downloading it back to the system. <br><br><img src="https://habrastorage.org/files/105/3ec/f91/1053ecf915bd455dbf459f212b58c40e.jpg"><br><br>  Work with a Z-Wave controller looks like a laptop versus a programmable calculator (if anyone remembers such devices) compared to this.  Firstly, all operations for changing configurations and work patterns can be performed remotely and without interrupting the operation of the system.  Secondly, even in the basic ‚Äúcube-like‚Äù programming you can create quite complex algorithms for the operation of the automation system.  And thirdly, the use of LUA practically removes restrictions from you and allows you to implement the most flexible and versatile options for the interaction of system elements. <br><br>  In the basic version, we got the following configuration: a common bus for motion sensors in the apartment, a reed switch on the front door, a motion sensor in the corridor (there was no regular wired there), a sensor on the bedroom door and a camera in the corridor. <br><br><img src="https://habrastorage.org/files/de6/f6c/4ed/de6f6c4ed9e7403a820e1c229bb3c7f0.png"><br><br>  In the general case, having a programmable controller and sensors available, you yourself create the required algorithms for the system to work.  When using Fibaro Home Center 2, you can start with the pre-installed features in the device.  The main part of the settings is ‚Äúembedded‚Äù in the system, and some are highlighted in the ‚ÄúAlarm Panel‚Äù. <br><br><img src="https://habrastorage.org/files/3c7/367/5bc/3c73675bc5a642da84c3210f94df02d3.png"><br><br>  In it, you can check the event log, as well as select the required actions when an alarm is triggered.  There are several ready-made options in the list (for example, send notifications, turn on certain lamps or send pictures from cameras), or you can add your own scenes. <br><br>  Each sensor that is able to work in the protection mode can, independently of other devices, be in two states - ‚Äúnormal‚Äù and ‚Äúarmed‚Äù.  Depending on it, the triggering of the sensor leads to the generation of different events, which allows the device to be used in different scenarios. <br><br><img src="https://habrastorage.org/files/a85/83b/7d8/a8583b7d8e874cd0896cda5184fdc193.png"><br><br>  In addition, you can exclude the sensor from the security system, as well as set additional timeouts for arming and disarming. <br><br>  The arming and disarming operations are available both online through the Web interface and the mobile application, and can be performed from user scripts.  Note that PIN code entry is required for disarming.  There are no standard versions of the code panel or iButton in the system, but it can be implemented using external devices and scripts. <br><br>  As we said above, the flexibility of the system allows for the same sensors and additional functions in the normal mode.  For example, the script for switching on the night illumination may look like this. <br><br><img src="https://habrastorage.org/files/167/d77/bbf/167d77bbfe9942c193e9b4678798e03c.png"><br><br>  Three conditions are checked here at once - movement, low lighting level and the off state of the lamp.  To turn off the backlight you will need to add another simple script. <br><br><img src="https://habrastorage.org/files/0e1/f6d/cf7/0e1f6dcf76734eaba1a2848da4097078.png"><br><br>  In reality, it is worthwhile to consider more flexible algorithms that take into account, for example, the time of day, or the state of other sensors. <br><br><h3>  Conclusion </h3><br>  As we see, the implementation of the security system based on the automation controller with the Z-Wave protocol is quite feasible.  The solution has certain advantages over traditional products, including configuration flexibility, the possibility of multi-purpose use of sensors, remote control and programming, wireless connection of sensors without laying new cables, and gradual expansion of system capabilities. <br><br>  At the same time, it is possible to create hybrid configurations - combinations of a Z-Wave controller with conventional sensors or with alarm units.  Of the minuses, we note the complexity or even the impossibility of using third-party security systems with traditional remote monitoring services. <br></div><p>Source: <a href="https://habr.com/ru/post/391545/">https://habr.com/ru/post/391545/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../391533/index.html">English for work: tips from your own experience</a></li>
<li><a href="../391535/index.html">Twelve hours of fear for ExoMars</a></li>
<li><a href="../391537/index.html">To Mars in three days?</a></li>
<li><a href="../391539/index.html">Top 10 useful car gadgets in 2016</a></li>
<li><a href="../391541/index.html">Quiet Thermonuclear Coup</a></li>
<li><a href="../391549/index.html">The Chinese are upholding the right to break HDCP protection for 4K video</a></li>
<li><a href="../391551/index.html">Ontario conducts an experiment with an unconditional basic income</a></li>
<li><a href="../391553/index.html">The evolution of smartphones. Part 2: 2011 - 2015</a></li>
<li><a href="../391555/index.html">How to make sim900a work in our networks</a></li>
<li><a href="../391557/index.html">Xiaomi Mi Box 3 Enhanced Edition - a new 4K media player with a 6-core processor for $ 60</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>