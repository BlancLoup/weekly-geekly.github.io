<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Infinitely profitable program</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A recent article on Slashdot about how to program games in assembler for Atari ( Donkey Kong and I ) reminded of assembler applications that I wrote f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Infinitely profitable program</h1><div class="post__text post__text-html js-mediator-article">  A recent article on Slashdot about how to <a href="http://games.slashdot.org/article.pl%3Fsid%3D08/03/08/194249">program games</a> in assembler for Atari ( <a href="http://www.dadhacker.com/blog/%3Fp%3D987">Donkey Kong and I</a> ) reminded of assembler applications that I wrote from my youth, and about the computers that we had then. <br><br>  At first, I gained experience on the <a href="http://en.wikipedia.org/wiki/PDP-8">DEC PDP-8</a> , but the buzz began when <a href="http://en.wikipedia.org/wiki/CP/M">CP / M appeared</a> .  CP / M was originally a ‚Äúbusiness operating system‚Äù, but it was also a system that one could afford to have at home ‚Äî a serious thing for a young budding geek. <br><a name="habracut"></a><br>  Then I worked at <a href="http://en.wikipedia.org/wiki/Tatung_Company">Tatung</a> .  They assembled computers, and so I had a chance to have some fun with a very expensive thing: two five-inch drives and so on!  I mainly worked on debugging the ERSO BIOS.  It happened to sit at the computer of <a href="http://en.wikipedia.org/wiki/Tatung_Einstein">Tatung Einstein</a> , who used a compatible, but more sophisticated version of CP / M called Xtal DOS. <br><img src="https://habrastorage.org/storage2/792/e96/f62/792e96f6204437982d62d8a16c69592e.png" align="right"><br>  For a while, Einstein really was a great machine (until computers with MS-DOS took over).  It launched all sorts of CP / M programs like VisiCalc, WordStar, etc. <br><br>  Also, sound and graphics (colors and sprites!) Were built in there, so you could play around with toys.  And all for 499 pounds (remember, it was the year 1984).  By then the standards a lot! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Pete's Utilities </h5><br>  I wrote articles in Einstein magazines for Tatung (they are still lying somewhere).  And he wrote commercial programs.  The most successful was the software package, which I quite creatively called "Pete's Utilities" (1986). <br><br>  The utilities were written in the Z80 assembler (I didn‚Äôt know about C yet) and included an undelete, hex editor, a program for hanging commands on function keys (resident!), An autoloader of programs, a printer controller, a typewriter emulator (yes, I actually used the word <br>  'typewriter') and a bunch of other things.  Sometimes I think about the fact that if I ported it all under MS-DOS, I could become <a href="http://en.wikipedia.org/wiki/Peter_Norton">Peter Norton</a> (I suppose he earned a lot of money from <a href="http://en.wikipedia.org/wiki/Norton_Utilities">Norton's Utilities</a> , but I didn't)!  I recently found a contract for Pete's Utilities: I received a whole pound for one copy. <br><br>  For the sake of completeness, it is worth telling how the Pete Utilities were written.  This is quite interesting and also conveys the spirit of the time. <br><br>  I wrote them on a commercial machine with CP / M - another brainchild of Tatung (TPC-2000 is the rightmost computer in the picture). <br><br><img src="https://habrastorage.org/storage2/e17/7b8/651/e177b8651368c923a0ec02cc5c2f0be2.jpg" title="Young Pete!" alt=" !"><br><br>  On the left in the picture Tatung Einstein'y. <br><br>  The TPC-2000 was faster than Einstein and had more memory, so my macro assembler worked on it much more efficiently.  In addition, there was a ‚Äúclean‚Äù CP / M, so I could be sure that I wouldn‚Äôt use any Einstein-specific features when developing.  Having assembled the program on the TPC-2000, I ported it to Einstein using the special program Kermit.  There I could test and debug it properly!  A complete cycle of code / build / test of those times! <br><br><h5>  GO.COM </h5><br>  Users (both TPC-2000 and Einstein) often complained that they had to close the current application (VisiCalc, WordStar, etc.) in order to perform a simple disk operation, for example, to find a file on one of the n diskettes.  This is really annoying.  Imagine that you are running a popular word processor <a href="http://en.wikipedia.org/wiki/WordStar">WordStar</a> and you want to edit an existing file.  Suppose you do not know which of a dozen diskettes it is on, that is, to find it you need to execute the CP / M - DIR builtin command.  But for this, you first need to exit WordStar.  Of course, when you find the file, you will have to run WordStar again from a floppy disk, which is terrible in itself, given the speed of the disk drive turtle (‚Äúchunk-chunk-chunk‚Äù, who remembers, he will understand)! <br><br>  To solve this problem, I came up with GO.COM - perhaps the most successful and infinitely profitable program ever written. <br><br>  When a program for CP / M is loaded into memory, it is always located starting from the same address, 0100h is the beginning of the so-called 'Transient Program Area' (TPA).  Own CP / M programs, such as DIR, are loaded elsewhere. <br><br>  I realized that since WordStar is still in memory (although the user left it, the TPA area remained unchanged), it would be quite useful to somehow restart it directly from the TPA instead of rebooting from a floppy disk.  In fact, why load what is already in memory?  To restart WordStar after doing DIR or something else, you just need to execute the code located at address 0100h.  But how to do this?  It is impossible to write a regular program containing, say, the instruction ‚Äúgo to address 0100h‚Äù, because this program will be loaded into TPA from address 0100h and will wipe what was there. <br><br>  This is where GO.COM appeared. <br><br>  GO.COM did not contain a single instruction, it was absolutely empty.  However, although empty, from the point of view of CP / M, it was still a full-fledged program, so the CP / M bootloader (the part of the system that reads the program from the disk and places it into the TPA) quietly loaded it. <br><br>  How could this help us?  Consider the following scenario: <br><br><ul><li>  User logs out of WordStar. </li><li>  The user starts the DIR and finds his document. </li><li>  User launches GO.COM. </li><li>  The loader downloads 0 bytes from disk, placing them in TPA at address 0100h, and <br>  then goes to 0100h to run the newly loaded <br>  program (GO.COM). </li><li>  As a result, it instantly restarts what was in TPA at the moment when the user <br>  Last time I went to ‚ÄúDOS‚Äù (in our case - WordStar)! </li></ul><br>  So GO.COM, which consisted of 0 bytes of code and sold for 5 pounds per copy, turned out to be the most profitable in the world - any other program brought in much less pounds per byte! <br><br>  Was it infinitely profitable?  Well, if we talk about how much I earned on it, then of course not - I am not infinitely rich.  However, GO.COM can actually serve as an example of getting ‚Äúmoney out of nothing‚Äù.  For example, the price per byte can be calculated as follows: <br><br><img src="https://habrastorage.org/storage2/f87/195/cd0/f87195cd0dd6d6fea83ac8c3b9cab0ea.png"><br><br>  I remember funny phone calls and letters about GO.COM (there were no emails then).  Some buyers who, obviously, ‚Äúunderstood computers‚Äù, called Tatung and asked me to find out how and why I hide the size of the program (the DIR showed that it contained 0 bytes).  When I told them that the program really took 0 bytes, some began to resent: ‚ÄúHow dare you take 5 pounds for nothing ?!‚Äù I replied that they were wrong: they got a useful thing in return. <br><br>  It is a pity that the command interpreter CP / M did not contain more built-in commands.  There were quite a few useful disk commands: <br><br><ul><li>  ERA deletes the specified file. </li><li>  DIR lists the files in the directory. </li><li>  REN renames the specified file. </li><li>  SAVE saves the contents of the memory to a file. </li><li>  TYPE displays the contents of the file. </li></ul><br>  Later, I ported GO.COM to early versions of MS-DOS ‚Äî until the .EXE format appeared.  And she worked great there too! <br><br>  <b>From the translator:</b> thanks to <a href="https://habrahabr.ru/users/kvie/" class="user_link">KVie</a> for editing the translation. </div><p>Source: <a href="https://habr.com/ru/post/147075/">https://habr.com/ru/post/147075/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../147063/index.html">Using UML for experiment on the evolutionary systematics of prokaryotes, and indirectly about the psychology of scientists</a></li>
<li><a href="../147064/index.html">From engineer to manager. Part 3: Reports</a></li>
<li><a href="../147068/index.html">Another closure of unnecessary Google services</a></li>
<li><a href="../147071/index.html">Amazon let down diesel generators</a></li>
<li><a href="../147072/index.html">Walmart and the Soviet Union: who is who in the cloud market</a></li>
<li><a href="../147077/index.html">1C: Enterprise 8.3 evaluation version</a></li>
<li><a href="../147078/index.html">Use DropBox to store settings, themes and plugins Sublime text 2</a></li>
<li><a href="../147079/index.html">Trade secret. Software Certification</a></li>
<li><a href="../147080/index.html">Project Fab Lab - Internet for atoms</a></li>
<li><a href="../147081/index.html">NVIDIA Nsight Tegra - VS plugin for native Android application development</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>