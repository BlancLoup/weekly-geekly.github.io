<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Spoiler: Insert SVG icons in one single way.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article will discuss the problem of inserting SVG icons into a web page. 

 What we have, and how we use it. Globally there are three ways: 



- ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Spoiler: Insert SVG icons in one single way.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/e72/62e/ed9/e7262eed91484918ab6a6b0aab41a0f9.png" align="right" alt="image">  The article will discuss the problem of inserting SVG icons into a web page. <br><br>  What we have, and how we use it.  Globally there are three ways: <br><br><ul><li>  Insert SVG source code icons directly into the DOM page. </li><li>  Using HTML IMG Tag </li><li>  Using CSS background-image </li></ul><br>  We will not talk about the option of inserting icons in the form of fonts, because there are a lot of flaws in this approach (some of them are purely subjective), which you can learn about using Google search, and also omit the variant with IFRAME and OBJECT tags for the same reason . <br><a name="habracut"></a><br>  All these methods have their advantages and disadvantages.  With the advent of SVG, we have new requirements for icons.  For example, at the time of PNG, it would never occur to us to use the same icon in different sizes in different parts of the site and with different color fills.  To do this, we would have to ask the designer for a few icons with different colors and sizes.  But with the advent of SVG, we became brutalized and started inserting the same icon everywhere, as it became possible to change the appearance of the icon using CSS according to desires. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will give an example: <br>  We have an icon - an asterisk for ratings.  Somewhere it is white, somewhere yellow, big and small.  Plus, there may be a cut off half of the asterisk, for example, to indicate a rating of 2.5 or 4+. <br><br>  To implement this example, we need at least four PNG icons for each color and shape, but if we have SVG, then instead of four, we can safely do with just one specially designed for this task and not only. <br><br>  Our asterisk can be directly inserted into the DOM and with the help of styles we can decorate it the way we need it.  This is the first option, a familiar practice. <br><br>  In the first version of the advantages, you can enumerate convenient control of graphic elements, animation of individual parts of the icon, etc., full management of SVG tags.  Among the shortcomings, the first is that in this case we get a large DOM size, which for some reason is not a completely good phenomenon.  The second disadvantage, compared with the third option, is that size, positioning (centering vertically and horizontally) is in some cases not a trivial task. <br><br>  And what about the second option, it is the most redundant, since it does not have any of the advantages of the other two options. <br><br>  What do we get?  We have two options for inserting icons that have their merits and between which it is sometimes difficult to make a choice. <br><br>  Now imagine that you can use almost all the advantages (except for animation of individual parts of the icon) of the first option along with the third option. <br><br>  That is, to insert icons using CSS background-image, or HTML IMG tag, and at your discretion, to change the color of each tag in the SVG, be it path, polygon or circle, does not matter. <br><br>  Here is what it will look like: <br><br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">url</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">star</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.svg</span></span>?<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">red</span></span>,$00<span class="hljs-selector-tag"><span class="hljs-selector-tag">ff00</span></span>,,<span class="hljs-selector-tag"><span class="hljs-selector-tag">green</span></span>);</code> </pre> <br>  or <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùstar.svg?p</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">red,$00ff00,,green‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  I think that the idea is clear, the syntax already depends on the server settings, and we still need to think about the implementation. <br><br>  Here is a <a href="https://github.com/psrafo/icon">link</a> to how I solved this problem for myself.  Any decisions are welcome if they are cool. <br><br><h2>  How it works </h2><br><div class="spoiler">  <b class="spoiler_title">Directory structure</b> <div class="spoiler_text"><ul><li>  <b>caches</b> - cache folder </li><li>  <b>colors</b> - folder for storing original colors of icons </li><li>  <b>icons</b> - folder for formatted icons </li><li>  <b>originals</b> - the folder where all icons are downloaded (you can also set it manually) </li></ul><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Work cycle</b> <div class="spoiler_text">  All icons from the <b>originals</b> folder are taken, all the icon tags that have a color (fill) are found with the DOMDocument, the color in the icon is replaced with a pointer to it in the form of this - "% 1", and the original color is stored in the <b>colors</b> folder for the case , if we want it to remain unchanged. <br></div></div><br><br>  An example of using this implementation. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">icon</span></span>/?<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span> <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span></code> </pre><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">icon</span></span>/?<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">empty</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   ,     parse */</span></span></code> </pre><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">url</span></span>("<span class="hljs-selector-tag"><span class="hljs-selector-tag">icon</span></span>/?<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">leaderboard</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">red</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">blue</span></span>,$000,<span class="hljs-selector-tag"><span class="hljs-selector-tag">green</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">orange</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">yellow</span></span>,$0<span class="hljs-selector-tag"><span class="hljs-selector-tag">f0</span></span>");</code> </pre><br><img src="https://habrastorage.org/files/491/ed0/abf/491ed0abfe75449cac81ea5e50e38413.png" alt="image"><br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">url</span></span>("<span class="hljs-selector-tag"><span class="hljs-selector-tag">icon</span></span>/?<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">leaderboard</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">red</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">blue</span></span>,$000");</code> </pre><br><img src="https://habrastorage.org/files/f9d/b71/0b2/f9db710b2f204241ad5a02eb23e9c057.png" alt="image"><br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">url</span></span>("<span class="hljs-selector-tag"><span class="hljs-selector-tag">icon</span></span>/?<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">leaderboard</span></span>,,<span class="hljs-selector-tag"><span class="hljs-selector-tag">blue</span></span>,$000,<span class="hljs-selector-tag"><span class="hljs-selector-tag">orange</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">red</span></span>");</code> </pre><br><img src="https://habrastorage.org/files/758/87c/88b/75887c88b25a4844bc57efa2acd95e9e.png" alt="image"><br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">url</span></span>("<span class="hljs-selector-tag"><span class="hljs-selector-tag">icon</span></span>/?<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">history</span></span>");</code> </pre><br><img src="https://habrastorage.org/files/9c8/7c3/87c/9c87c387c47b4082ad38b28ac21619f0.png" alt="image"><br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">url</span></span>("<span class="hljs-selector-tag"><span class="hljs-selector-tag">icon</span></span>/?<span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">history</span></span>,$<span class="hljs-selector-tag"><span class="hljs-selector-tag">ff0000</span></span>");</code> </pre><br><img src="https://habrastorage.org/files/f33/f98/7c3/f33f987c34a84b9291f94908f5b368b9.png" alt="image"><br><br>  From the point of view of performance, this is not the best idea, even if there is a cache, anyway it will no longer be producing statics, the script will work there anyway, although you can use this insert only when you need a different color for the icon, but for large projects, where icons become a headache and even a sibling cannot be found in this stash, then, as I observed for such projects, so far this option can be considered - best practice. <br><br>  PS: So far I have not had time to use it in production, I am wondering what else can be corrected, or what problems you may encounter with it, so any criticism is welcome, thanks in advance. <br><br>  PSS: The efficient way to configure the server is offered by the user <a href="https://habrahabr.ru/users/alexleonov/" class="user_link">AlexLeonov</a> <a href="https://habrahabr.ru/post/278825/">habrahabr.ru/post/278825/#comment_8799315</a> </div><p>Source: <a href="https://habr.com/ru/post/278825/">https://habr.com/ru/post/278825/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278815/index.html">Android application architecture</a></li>
<li><a href="../278817/index.html">ReactiveCocoa. Concurrency. Multithreading</a></li>
<li><a href="../278819/index.html">Security in the hands of a smartphone: the first car without keys is on its way</a></li>
<li><a href="../278821/index.html">The book "Algorithms: development and application. Classic Computer Science ¬ª</a></li>
<li><a href="../278823/index.html">Capture and visualize! Or a histogram from a microphone using Web Audio API</a></li>
<li><a href="../278827/index.html">Developer's life (in pictures)</a></li>
<li><a href="../278829/index.html">Notes localizer. The case of the problem of saving in games</a></li>
<li><a href="../278831/index.html">Notes localizer. Voice acting in games</a></li>
<li><a href="../278833/index.html">Aspects of localization. Major developer errors</a></li>
<li><a href="../278835/index.html">As web design rolls straight to hell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>