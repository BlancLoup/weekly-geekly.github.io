<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debian Linux and Tor for a secure deb</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the first day of August, the official blog of the popular Debian Linux distribution got the news that anonymous Tor services are available for some...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debian Linux and Tor for a secure deb</h1><div class="post__text post__text-html js-mediator-article">  On the first day of August, the official blog of the popular Debian Linux distribution got the <a href="https://bits.debian.org/2016/08/debian-and-tor-services-available-as-onion-services.html">news</a> that <a href="https://www.torproject.org/docs/hidden-services">anonymous Tor services</a> are available for some Debian resources.  The package, update and security repositories can be downloaded without leaving the Tor network. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7eb/50a/352/7eb50a35206f444194dc4b04226cb8bd.png"></div><br>  The main goal of these innovations is to <i>protect against data leakage, at least - metadata when loading deb packages</i> . <br><a name="habracut"></a><br>  The main distribution servers, Debian and Ubuntu, use plain HTTP and unencrypted network connections.  This provides ample opportunities for intercepting traffic on the network, even to amateurs and just curious, but professionals are able to extract from this a lot of useful information.  It would seem that if someone traced that the red-eyed type sitting in the metro car opposite, just downloaded and installed new desktop themes?  However, if we look more broadly, not only administrators of local authorities will be in sight, but also IT services of financial institutions and <s>home mail server of the former US Secretary of State of</s> every kind.  structures.  There are many who want to know what security updates are installed or not yet installed on these systems.  Managing the repository through onion services Tor confuses the intruders with all the cards. <br><br>  This begs the question: <i>what is wrong with HTTPS</i> ?  Do not like HTTP, use a much more secure HTTPS protocol, encrypting a web session using SSL / TLS certificates.  In addition to the high-risk <a href="https://www.openssl.org/news/vulnerabilities.html">SSL vulnerabilities</a> coming to light more often than we would like, there are also significant privacy concerns related to the HTTPS solution architecture itself. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Using the Hidden Markov Model, a researcher from the University of Cambridge showed that by observing the size of the transmitted data, manipulating it, it is possible to determine to some extent <a href="http://www0.cs.ucl.ac.uk/staff/G.Danezis/papers/TLSanon.pdf">which files are being downloaded or downloaded</a> .  On Habr√© already wrote about the various MiTM attacks associated with HTTPS, in particular, about the Kazakh state.  A certificate specially designed <a href="https://habrahabr.ru/post/303736/">for intercepting TLS encrypted traffic</a> .  Fortunately, not all web browser development teams appreciated this step positively, in FireFox 48 <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1232689">they refused to add state.</a>  <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1232689">Kazakhstan's certificate to the trusted root CA</a> , however, a bad example can be contagious and the danger to ordinary non-sophisticated users is obvious.  In addition, it is easy to raise the HTTP (S) mirror of the popular Linux OS repository and use it as you please.  <a href="http://www.cs.arizona.edu/stork/packagemanagersecurity/ccs2008.pdf">For this, a front company and rented hosting for 200 USD will do</a> . <br><br>  All these troubles are now easy to avoid, because the onion <s>rings of</s> Tor services do not depend on root CA provided by third parties. <br><br>  Debian repositories hosted on Tor's anonymous proxy network solve another important problem ‚Äî <i>bypassing restrictions and accessing open source software</i> .  At first, she seemed somewhat speculative to me, but just the other day I felt that this was not only a problem of exotic sultanates.  This is a <b>403 error when installing, updating software from Google Play in the Crimea</b> - the result of following the American sanctions "Good Corporation".  A quick search on the Internet will tell you how to bypass this byaku using a vpn and proxy server.  I wonder how things are for iOS and Windows Phone users in Crimea? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/232/e60/6df/232e606df4dc4275ad81d30acffe05ef.jpg"></div><br>  However, the rest of Google‚Äôs services in Crimea work well, this suggests that it‚Äôs not Sanctions but rather a profanation of them.  Of course, you can call installed on an ordinary tablet, Android OS smartphone, free software and Google Play - its repository, you can only with a very big stretch of logic and facts, <i>but in a sense, the indicated problem is present</i> .  If your mobile device or PC uses a Debian / Tor bundle, then such sanctions will not affect you. <br><br>  I would like to hope that the integration of Tor services will become a precedent in other Linux OS, no doubt this is a step in the right direction. <br><br><h2>  Apt setup </h2><br>  In the simplest case, it suffices to write the paths to the Debian Linux repository configuration files <code>/etc/apt/sources.list</code> with the <a href="https://packages.debian.org/apt-transport-tor">apt-transport-tor package</a> installed. <br><br><pre> <code class="bash hljs">deb tor+http://vwakviie2ienjx6t.onion/debian jessie main deb tor+http://vwakviie2ienjx6t.onion/debian jessie-updates main deb tor+http://sgvtcaew4bxjd7ln.onion/debian-security jessie/updates main</code> </pre><br>  A more pedantic approach involves writing links. <br><br><pre> <code class="bash hljs">deb tor+http://vwakviie2ienjx6t.onion/debian/ jessie main deb-src tor+http://vwakviie2ienjx6t.onion/debian/ jessie main deb tor+http://vwakviie2ienjx6t.onion/debian/ jessie-updates main deb-src tor+http://vwakviie2ienjx6t.onion/debian/ jessie-updates main deb tor+http://vwakviie2ienjx6t.onion/debian jessie-backports main deb-src tor+http://vwakviie2ienjx6t.onion/debian/ jessie-backports main</code> </pre><br>  in a separate <code>/etc/apt/sources.list.d/00.vwakviie2ienjx6t.onion.list</code> file and the security updates repository. <br><br><pre> <code class="bash hljs">deb tor+http://sgvtcaew4bxjd7ln.onion/ jessie/updates main</code> </pre> <br>  in <code>/etc/apt/sources.list.d/00.sgvtcaew4bxjd7ln.onion.list</code> <br><br>  Do not forget to add the usual security update configuration if the Tor network is unavailable or unstable. <br><br><pre> <code class="bash hljs">deb http://security.debian.org/ jessie/updates main</code> </pre> <br>  Write this in the <code>/etc/apt/sources.list.d/99.security.debian.org.list</code> file. </div><p>Source: <a href="https://habr.com/ru/post/307208/">https://habr.com/ru/post/307208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307198/index.html">10 tricks to feel like a specialist, working with Google Drive</a></li>
<li><a href="../307200/index.html">Work with OrnaJS library</a></li>
<li><a href="../307202/index.html">Security Week 31: News from Blackhat</a></li>
<li><a href="../307204/index.html">8 lectures to help understand machine learning and neural networks</a></li>
<li><a href="../307206/index.html">HEIST allows you to receive encrypted information in the HTTPS channel in clear text</a></li>
<li><a href="../307210/index.html">Common mistakes of the novice HTML maker-up</a></li>
<li><a href="../307212/index.html">Do not Perseids uniform or Model flash satellite with their own hands</a></li>
<li><a href="../307214/index.html">Mikrotik QOS in distributed systems or smart shapers</a></li>
<li><a href="../307218/index.html">How many neurons do you need to find out if the Alexander Nevsky Bridge is divorced?</a></li>
<li><a href="../307220/index.html">This little miracle is the Knut-Morris-Pratt (KMP) algorithm.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>