<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About jQuery and bicycles - my addition</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Immediately I hasten to inform you that I am in no way connected with the author of the previous article . However, after reading it and seeing such a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About jQuery and bicycles - my addition</h1><div class="post__text post__text-html js-mediator-article">  Immediately I hasten to inform you that I am in no way connected with the author of the <a href="http://habrahabr.ru/post/149237/">previous article</a> .  However, after reading it and seeing such a positive response from the community to the article, I was also inspired and decided to add some of my observations and knowledge, and it can also serve as my entry point into the community. <br><br>  For the seed, let's start with a simple one. <br><a name="habracut"></a><br><h2>  1. Write as you say it out loud. </h2><br>  Your task before other programmers is to show <i>what</i> you are doing, and not <i>how</i> you are doing it. <br><br>  Before you write another piece of code, think and say out loud or to yourself what you are going to do.  For example: "We need to clear this element."  Many immediately, without thinking, mold: <br><pre><code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">".info"</span></span>).html(<span class="hljs-string"><span class="hljs-string">""</span></span>)</code> </pre> <br>  because earlier they used the convenient phrase <code>.innerHTML = ""</code> .  More preferred option: <br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">".info"</span></span>).empty()</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These same programmers often clear an item before putting new information into it: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">".info"</span></span>).html(<span class="hljs-string"><span class="hljs-string">""</span></span>).html(<span class="hljs-string"><span class="hljs-string">"&lt;b&gt;Ok&lt;/b&gt;"</span></span>)</code> </pre><br><br>  But don't forget - you write on jQuery!  And he cares about you, and <code>.html()</code> will clear the element itself before inserting a new value. <br><br>  And he will do it more competently than to do it through <code>.innerHTML</code> .  The fact is that inside the cleared element there can be such elements on which you previously hung up event handlers or anchored data using <code>.data()</code> .  jQuery will clean this and there will be no memory leak. <br>  By the way, sometimes in order to remove information, it is better not just to clear the element, but to delete it altogether: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">".info"</span></span>).remove()</code> </pre><br><br>  Further‚Ä¶ <br><br>  It is unlikely when writing this: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"#history"</span></span>).css(<span class="hljs-string"><span class="hljs-string">"display"</span></span>, <span class="hljs-string"><span class="hljs-string">"none"</span></span>) $(<span class="hljs-string"><span class="hljs-string">"#description"</span></span>).css(<span class="hljs-string"><span class="hljs-string">"display"</span></span>, <span class="hljs-string"><span class="hljs-string">"none"</span></span>) $(<span class="hljs-string"><span class="hljs-string">"#category"</span></span>).css(<span class="hljs-string"><span class="hljs-string">"display"</span></span>, <span class="hljs-string"><span class="hljs-string">"none"</span></span>) $(<span class="hljs-string"><span class="hljs-string">"#contact"</span></span>).css(<span class="hljs-string"><span class="hljs-string">"display"</span></span>, <span class="hljs-string"><span class="hljs-string">"none"</span></span>)</code> </pre><br><br>  You said: "Delete history, delete description, delete categories, delete contacts."  Most likely, you said: "Delete history, description, categories and contacts."  So write this: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"#history, #description, #category, #contact"</span></span>).hide()</code> </pre><br><br>  and don't forget that jQuery loves you, and that there is <code>.hide()</code> to hide the element, and <code>.hide()</code> for showing. <br><br><h2>  2. <code>mouseenter/mouseleave</code> vs <code>mouseover/mouseout</code> </h2><br>  You‚Äôve probably noticed a nuisance: sometimes, when you hang up a couple of <code>mouseover/mouseout</code> events on an element to display a pop-up hint, this hint is <code>mouseover/mouseout</code> .  And this happens due to the fact that inside the element on which you hung handlers, is another element.  When you hover the mouse cursor over it, the browser generates a <code>mouseout</code> event for your external element, and a <code>mouseover</code> event for the internal element, and then again a <code>mouseover</code> for the external element, which leads to a jitter. <br><br>  But jQuery loves us and offers us another pair of events - <code>mouseenter/mouseleave</code> , which solve this problem as follows.  For the transferred handlers a certain wrapper becomes.  At the moment when the cursor moves to the inner element, a <code>mouseout</code> event is <code>mouseout</code> for the outer element.  At the same time, jQuery is not so naive and is not conducted on the machinations of the browser.  The skeptical wrapper function checks the <code>event.relatedTarget</code> property ‚Äî what the cursor is <code>mouseleave</code> at ‚Äî and if it is inside an external element, it does not call the <code>mouseleave</code> handler that you <code>mouseleave</code> .  And no flicker. <br><br>  In addition to this, don't forget about the <code>.hover(handlerIn, handlerOut)</code> function <code>.hover(handlerIn, handlerOut)</code> , which accepts two handlers and hangs them like <code>mouseenter</code> and <code>mouseleave</code> : <br><br><pre> <code class="javascript hljs">$(selector).hover(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ tooltip.show() }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ tolltip.hide() })</code> </pre><br>  <b>UPD</b> : Comrade.  <a href="https://habrahabr.ru/users/waxer/" class="user_link">Waxer</a> reminds us that since version 1.8 <code>.hover()</code> is considered an obsolete function. <br><br><h2>  3. <code>.parent()</code> VS <code>.closest()</code> </h2><br>  Often I stumble upon such a construction: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> person = $(<span class="hljs-string"><span class="hljs-string">".name"</span></span>).parent().parent().parent()</code> </pre><br><br>  It is clear that here is an attempt to get to an important parent who has important information, or which contains another necessary element.  And what if, while you were on vacation, your <code>$(".name")</code> nestles in another place, but within the framework of the same <code>person</code> ?  Many craftsmen call <code>.parent()</code> cyclically to the desired element. <br><br>  More advanced ones know that there are <code>.parentsUntil(selector)</code> , which will return all parents to the specified one (excluding it).  But still the decision is cumbersome: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> person = $(<span class="hljs-string"><span class="hljs-string">".name"</span></span>).parentsUntil(<span class="hljs-string"><span class="hljs-string">".person"</span></span>).last().parent()</code> </pre><br><br>  But there is a more visual way: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> person = $(<span class="hljs-string"><span class="hljs-string">".name"</span></span>).closest(<span class="hljs-string"><span class="hljs-string">".person "</span></span>)</code> </pre><br><br>  If we recall that we write code in the way we would express it with words, then this option is more suitable for its transparency and brevity. <br><br><h2>  4. <code>$.ajax()</code> - less is better but better! </h2><br>  We all love AJAX, especially <code>$.ajax()</code> .  How much do you love him?  In a previous article by another author cited the usefulness of working with this component.  I'll bring a couple of my own ... <br><br>  I can hardly lie if I say that you often - if not always - access the same file using AJAX, passing different commands to it for different actions.  You do not produce a bunch of files for short actions, I hope?  It is even possible that you always pass some parameter that does not change;  and maybe you always return only json.  Let's simplify our life a bit, because jQuery loves us: <br><br><pre> <code class="javascript hljs">$.ajaxSetup({ <span class="hljs-attr"><span class="hljs-attr">dataType</span></span>: <span class="hljs-string"><span class="hljs-string">"json"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">"ajax.php"</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { <span class="hljs-attr"><span class="hljs-attr">user_id</span></span>: userId } });</code> </pre><br><br>  Now we don‚Äôt have to specify these parameters each time when querying, it‚Äôs enough only distinctive for this operation: <br><br><pre> <code class="javascript hljs">$.ajax({ <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { <span class="hljs-attr"><span class="hljs-attr">product_id</span></span>: productId }, <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">json</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(json) }, <span class="hljs-attr"><span class="hljs-attr">alert</span></span>: <span class="hljs-string"><span class="hljs-string">" ..."</span></span> <span class="hljs-comment"><span class="hljs-comment">//  ? .  })</span></span></code> </pre><br>  and requests will not be replete with repetitions of code that we do not like so much.  Note that the <code>data</code> parameters from <code>$.ajaxSetup</code> and <code>$.ajax</code> are glued together, and their sum is sent to the server (parameters from <code>$.ajax</code> overwrite the same from <code>$.ajaxSetup</code> ). <br><br><h2>  5. <code>$.ajax()</code> - notify the user </h2><br>  So ... Or maybe now we will notify the user about our underground affairs and we will give him messages with AJAX requests?  I'm sure you thought about it, but avoided because you often have to write the same thing. <br><br>  For simplicity of the example, we will issue messages in this way: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"popup"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"---"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  And we associate it with our requests: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"#popup"</span></span>).ajaxSend(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, xhr, options</span></span></span><span class="hljs-function">) </span></span>{ $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).text(options.alert || <span class="hljs-string"><span class="hljs-string">"..."</span></span>).show() }).ajaxStop(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).fadeOut(<span class="hljs-string"><span class="hljs-string">"fast"</span></span>) })</code> </pre><br>  <code>.ajaxSend()</code> calls the handler every time an AJAX request occurs.  Here we display the transmitted (see above) message or the default message. <br><br>  <code>.ajaxStop()</code> is called at the end, after all AJAX requests have been processed;  those.  if you have several AJAX requests processed in parallel, the handler will be called only once - after the execution of the last request. <br><br>  And if you want to issue a new message each time in a separate pop-up, you need to change the code quite a bit: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"body"</span></span>).ajaxSend(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, xhr, options</span></span></span><span class="hljs-function">) </span></span>{ $(<span class="hljs-string"><span class="hljs-string">'&lt;div class="popup" /&gt;'</span></span>) .appendTo(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .css({<span class="hljs-comment"><span class="hljs-comment">/*  */</span></span>}) .text(options.alert || <span class="hljs-string"><span class="hljs-string">"..."</span></span>) .delay(<span class="hljs-number"><span class="hljs-number">2000</span></span>) <span class="hljs-comment"><span class="hljs-comment">//   2  .fadeOut("fast", function() { $(this).remove() }) })</span></span></code> </pre><br><br>  You can also attend to the positioning of the popup, adding the calculation of its future coordinates. <br><br><h2>  6. $ .ajax () - notify the code </h2><br>  Let's now look at our popup from the example above on the other hand.  Suppose one person is the developer of some complex widget, which displays information about current events on the page.  And another person develops the business logic itself and implements AJAX requests.  Obviously, the need for a widget could have arisen after many AJAX requests had been written.  Those.  while only one person works on the project.  If we loved our code and our future colleagues as much as jQuery likes us, we would have foreseen the need for other code to notify him of the completion of some of our AJAX actions.  And would do so: <br><br><pre> <code class="javascript hljs">$.ajax({ <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { <span class="hljs-attr"><span class="hljs-attr">action</span></span>: <span class="hljs-string"><span class="hljs-string">"search-name"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: $(<span class="hljs-string"><span class="hljs-string">"#name"</span></span>).val() }, <span class="hljs-attr"><span class="hljs-attr">beforeSend</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $(searchForm).trigger(<span class="hljs-string"><span class="hljs-string">"start.search"</span></span>) }, <span class="hljs-attr"><span class="hljs-attr">complete</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $(searchForm).trigger(<span class="hljs-string"><span class="hljs-string">"finish.search"</span></span>) } })</code> </pre><br><br>  Now we can not worry that someone in the future will rush into our possession and spoil the raspberries.  It is enough for us to inform (in the comments?) That everyone can subscribe, if they like so, to the <code>start.search</code> and <code>finish.search</code> : <br><br><pre> <code class="javascript hljs">$(searchForm) .on(<span class="hljs-string"><span class="hljs-string">"start.search"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    }) .on("finish.search", function() { //    })</span></span></code> </pre><br><br>  After all, we are given the opportunity to create our own types of events, generate them and subscribe to them.  It's simple!  :) jQuery loves us. </div><p>Source: <a href="https://habr.com/ru/post/149349/">https://habr.com/ru/post/149349/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../149340/index.html">Key moments of the Martian journey</a></li>
<li><a href="../149342/index.html">Firefox 15 features remote debugging for mobile devices.</a></li>
<li><a href="../149343/index.html">OpenStack strengths and weaknesses</a></li>
<li><a href="../149344/index.html">Textmate 2 became opensource</a></li>
<li><a href="../149345/index.html">Two-storey residential building "print" in 20 hours</a></li>
<li><a href="../149350/index.html">Interactive 3D tour of Versailles from Google</a></li>
<li><a href="../149351/index.html">Steam or Windows Store. Or why I choose Steam for now.</a></li>
<li><a href="../149352/index.html">Learn English</a></li>
<li><a href="../149354/index.html">The program "taught" to determine the city by architecture</a></li>
<li><a href="../149356/index.html">SQLite is a great embedded database (part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>