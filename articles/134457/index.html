<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Work with PySide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This post participates in the contest "Smart phones for smart posts" 


 The web has a certain amount of information on the PySide project, but not a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Work with PySide</h1><div class="post__text post__text-html js-mediator-article">  This post participates in the contest <a href="http://habrahabr.ru/company/Nokia/blog/132522/">"Smart phones for smart posts"</a> <br><img src="https://habrastorage.org/storage1/03624d87/50eb2542/9fec8af8/ca53b4bc.png" align="right"><br><br>  The web has a certain amount of information on the <i>PySide</i> project, but not a lot of Russian. <br><br>  This article is an attempt to fill this gap.  Next will be described the assembly of the project, running applications on the emulator, an example of creating your own binding.  Some key features of <i>PySide</i> will be shown through examples. <br><a name="habracut"></a><br><h4>  Introduction  What is PySide? </h4><br>  <i>PySide</i> is a project to create a <i>Qt</i> binding to the <i>Python</i> programming <i>language</i> .  It aims to implement support for all <i>Qt</i> features, including <i>QtQuick</i> and <i>QtMobility</i> .  The following component versions and platforms are currently supported. <br><table border="1"><tbody><tr><td>  Qt </td><td>  4.6, 4.7, 4.8 betta </td></tr><tr><td>  QtMobility </td><td>  1.2.0 </td></tr><tr><td>  Python </td><td>  2.5, 2.6, 2.7, 3.2 (experemental) </td></tr><tr><td>  OS </td><td>  Linux / X11, Maemo 5, MeeGo, Windows, Mac OS X </td></tr></tbody></table><br>  There is no opportunity to use <i>PySide</i> on Symbian yet (or I don‚Äôt know this possibility), but according to the developers, work is being done in this direction.  Alternatively, you can use PyS60, although it has nothing to do with <i>Qt</i> , so we will not talk further about it later. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The <i>PySide</i> project also contains a set of tools that allow you to bind any libraries written in C / C ++.  In more detail we will talk about these tools further. <br><br>  <i>PySide</i> is licensed under the LGPL, i.e.  It can be used in both open and closed commercial projects.  <i>PySide</i> source code is open and available at the following address <a href="https://github.com/PySide">github.com/PySide</a> .  Also, if you find any problems related to <i>PySide</i> , you can report them to the <a href="http://bugs.pyside.org/">project's</a> official <a href="http://bugs.pyside.org/">bug tracker</a> . <br><br><h4>  PySide build, health check </h4><br>  The <a href="http://developer.qt.nokia.com/wiki/PySideDownloads">download page</a> provides instructions for installing <i>PySide</i> on various operating systems.  But it may happen that for your Linux distribution, such a package is not available.  We will assemble it ourselves, which is not at all difficult, since  even here, the Qt developers took care of their users, and prepared a set of scripts that maximally automate the build operations of <i>PySide</i> . <br><br>  So, to begin to clone a Git repository with build scripts.  We don't need anything else yet, because  dependencies will be cloned all the necessary projects. <br><br><pre><code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git://github.com/PySide/BuildScripts.git buildscripts $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> buildscripts $ git submodule init $ git submodule update</code> </pre> <br>  You may have several versions of <i>Qt</i> installed on your system.  To specify which version to use, edit the enviroment.sh file in which you list the path to the <i>Qt</i> home directory and the path where <i>PySide</i> will be installed.  The enviroment.sh file is provided with detailed comments, so you should have no difficulties.  Immediately I warn you that <i>PySide</i> may not build up with the default <i>Qt</i> version installed on the system.  I recommend using the latest QtSdk build. <br><br>  Once everything is set up, build <i>PySide with the</i> command <br><br><pre> <code class="bash hljs">$ ./build_and_install</code> </pre><br>  To facilitate the work, the enviroment.sh file is easily converted into a script, with the help of which applications that run <i>PySide</i> are launched.  All you need to do is make it executable and add <b>python $ @</b> to the end. <br><br>  To test the performance of the received package, we clone the repository with <i>Qt</i> examples in <i>Python</i> , adapted for <i>PySide</i> <br><br><pre> <code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git://github.com/PySide/Examples.git pyside-examples</code> </pre><br>  and run any of your favorite examples, for example Hyper UI <br><br><img src="https://habrastorage.org/storage1/e717f6e4/450ea0bd/6553f6e4/b469d9ef.png"><img src="https://habrastorage.org/storage1/d9869f4d/78ea3b9c/c15162c7/5047896d.png"><img src="https://habrastorage.org/storage1/4c45b00e/d3a44f06/02f1bf97/174cb491.png"><br><br>  Now we are ready to build <i>PySide</i> for the host system.  But during development, it may be convenient to run applications in the simulator, which is included in the QtSdk distribution.  Let's collect <i>PySide</i> and for it.  To do this, edit the QT_SDK_HOME variable in the enviroment.sh file, specifying the path to the QtSimulator ($ {YOUPATH} / QtSDK / Simulator / Qt / gcc) as the <i>Qt</i> home directory.  You also need to edit the build_and_install file: you need to add the -DQ_WS_SIMULATOR = yes option to the cmake startup command.  This option helps cmake determine the platform under which the compilation will take place. <br><br>  If you start the build now, then at the moment it unfortunately will end in failure, because  QtWebKit module cannot build.  I created a <a href="http://bugs.pyside.org/show_bug.cgi%3Fid%3D1088">report</a> on this error to which I attached a small patch that fixes this problem.  But as of this writing, this bug has not yet been fixed.  Therefore, use this patch for a complete <i>PySide</i> build under QtSimulator (see the attachment to the bug report at the link above). <br><br><img src="https://habrastorage.org/storage1/d70c9a97/0d2e2171/57e24ebf/9f1a79bf.png"><img src="https://habrastorage.org/storage1/b0a12902/e11124cf/96ea3cbc/2cb5e0e1.png"><br><br>  Nothing prevents us from collecting the <a href="https://github.com/PySide/Mobility">QtMobility</a> binding for the QtSimulator.  Its assembly is no different from the assembly of <i>PySide</i> itself.  <i>QtMobility</i> will be assembled and will even run in the simulator, but unfortunately, not one of the modules at the same time can be called a worker.  None of the examples supplied with <i>QtMobility</i> itself, nor from the <a href="https://github.com/PySide/Examples">pyside-examples</a> package, has <a href="https://github.com/PySide/Examples">earned in full</a> .  I will still understand the reasons for this and, perhaps, someday I'll write about it. <br><br><img src="https://habrastorage.org/storage1/8561a831/501385ff/1a464ab7/5f55eb9f.png"><br><br><h4>  Introduction to programming on PySide.  Signals and slots, property system </h4><br>  This section is not an introduction to the <i>Python</i> programming <i>language</i> .  Here, it will only show how to use some of the key features of Qt in <i>Python</i> . <br><br><h5>  Signal-slot interaction </h5><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PySide <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtCore <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">say_hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Hello,"</span></span>, name <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(QtCore.QObject)</span></span></span><span class="hljs-class">:</span></span> @QtCore.Slot(str) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">say_bye</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, name)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Bye,"</span></span>, name <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bar</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(QtCore.QObject)</span></span></span><span class="hljs-class">:</span></span> signal = QtCore.Signal(tuple) f = Foo() b = Bar() b.signal.connect(say_hello) b.signal.connect(f.say_bye) b.signal.emit(<span class="hljs-string"><span class="hljs-string">"User."</span></span>) b.signal.emit(<span class="hljs-number"><span class="hljs-number">1.25</span></span>)</code> </pre><br>  Signal is the class through which the connection of the signal and the slot is controlled, as well as the sending of the signal itself.  The types of parameters transmitted with the signal are specified when it is created.  It can be any type of C and <i>Python</i> .  If we want to send parameters of a different type (as in the example above), the type must be tuple or list.  As before, the signal must be declared within the class inherited from QObject. <br><br>  If you need to create multiple signals, you can use the following form <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Test</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(QtCore.QObject)</span></span></span><span class="hljs-class">:</span></span> signals = QtCore.Signal((int,), (str,), (float, QtCore.QObject))</code> </pre><br>  This code will add three signals with the signatures signals (int), signals (QString) and signals (double, QObject *).  All of them are contained in the variable signals, which can be considered as a dictionary (not iterable).  The signal parameters are used as the key. <br><pre> <code class="python hljs">someone.signals.emit(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-comment"><span class="hljs-comment">#     , .. int someone.signals[str].emit("Hello everybody!") someone.signals[float, QtCore.QObject].emit(1.23, obj)</span></span></code> </pre><br>  A slot can be any class method that is not necessarily inherited from QObject, a global function, or even a lambda function.  But such objects are not true slots, in QMetaObject there is no information about them, so use this approach with caution.  For example, if you use a global function as a slot, then you cannot get information about the calling object in it. <br><br>  In order to create a true slot, you need to use the Slot decorator from the QtCore module.  In code, it looks like this: <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@QtCore.Slot(int) @QtCore.Slot(str) def mySlot(value): print value</span></span></code> </pre><br>  For slots, overload signal rules do not apply and we cannot create a slot accepting any type of parameters.  For each type of parameter, a separate decorator should be added.  The above is an example of a slot that can accept parameters of type int and QString. <br><br>  Both the QtCore.Signal class and the QtCore.Slot decorator can take as additional parameters the name under which the generated signals and slots will be stored in object-specific information.  By default, if the name is not specified, the signal is assigned the name of the class member to which it is assigned, and the name of the method to be decorated is assigned to the slot.  A slot can also specify the type of return value.  You can use similar functionality for <i>Python</i> and <i>QML</i> communication. <br><br>  You can read more about the interaction between <i>Python</i> and <i>QML</i> at <a href="http://developer.qt.nokia.com/wiki/Category:Developing_with_Qt::Qt_Quick">developer.qt.nokia.com</a> in the Python section.  You can also see examples of <a href="https://gitorious.org/pyside-qml-examples">pyside-qml-examples</a> . <br><br><h5>  Property system </h5><br>  Working with <i>Qt</i> properties is not much different from working with classic <i>Python</i> properties.  Just give a small example. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PySide <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtCore <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyObject</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(QtCore.QObject)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> QtCore.QObject.__init__(self) self._x = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getx</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"get"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self._x <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setx</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, val)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"set"</span></span> self._x = val prop = QtCore.Property(int, getx, setx) obj = MyObject() obj.prop = <span class="hljs-number"><span class="hljs-number">12345</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> obj.prop</code> </pre><br>  More details about working with <i>Qt</i> properties in <i>Python</i> can be read <a href="http://www.pyside.org/docs/pseps/psep-0103.html">here</a> . <br><br><h4>  Creating a GUI using PySide </h4><br>  The <i>PySide</i> Tools package includes standard Qt tools for working with application resources, developing a ‚Äúclassic‚Äù graphical interface, and localizing applications.  These are pyside-ui, pyside-rcc and pyside-lupdate.  Working with them is no different from the same packages for Qt / C ++.  Therefore, you still have the opportunity to create a graphic application framework in QtDesigner.  The resulting form is compiled using pyside-ui, which as input parameters you need to specify the form file and the output file, through the option -o.  Pyside-ui also has an additional interesting option, -x, which adds application launch code to the resulting <i>Python</i> file.  Below is a small example of launching an application using a form created in a designer, resources and localization <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PySide <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtCore, QtGui <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> form_ui <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-comment"><span class="hljs-comment">#   import resources_rc #   if __name__ == "__main__": import sys translator = QtCore.QTranslator() translator.load(':/i18n/translations/ru_RU') #     app = QtGui.QApplication(sys.argv) app.installTranslator(translator) Form = QtGui.QWidget() ui = Ui_Form() ui.setupUi(Form) Form.show() sys.exit(app.exec_())</span></span></code> </pre><br>  Also in <i>PySide</i> , many <i>Qt</i> goodies from recent years are available, including QtQuick.  Those.  we have the ability to create hybrid applications using <i>Python</i> and <i>QML</i> (QtQuick.Particles, Qt Desktop Components, etc.). <br><br><h4>  An example of creating your own binding </h4><br>  Knowing all the above, we can create our own <i>Python</i> applications using <i>Qt</i> , including those using QtQuick.  But what if we need to use the library written in C / C ++ with our project or use our previous work done on the same C / C ++?  Do not rewrite everything again in <i>Python</i> ? <br><br>  For example, we have a certain project using <a href="http://qt.gitorious.org/qt-components/desktop">Qt Components</a> .  All main functionality is written in <i>QML</i> .  But to launch it, you need the <a href="http://qt.gitorious.org/qt-components/desktop/trees/master/qmldesktopviewer">QmlDesktopViewer</a> class already written in C ++.  It will not be difficult for us to rewrite it in <i>Python</i> , but it would not be interesting right now.  Let's make our own binding of this class to <i>Python</i> . <br><br>  To do this, use the tools from the <i>PySide</i> project to create bindings.  These are API Extractor, Shiboken and Generator Runner.  We already have all these tools. <br><br>  To create a binding, you first need to create an xml file that describes what data we are going to export, hide, rename, etc.  In general, what we will get access to in the resulting <i>Python</i> module. <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  ,       --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  package  ""         ()  --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--          PySide/QmlDesktopViewer --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- c  qmldesktopviewer_module_wrapper.cpp  pyside_qmldesktopviewer_python.h --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">typesystem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">package</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PySide.QmlDesktopViewer"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">load-typesystem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"typesystem_declarative.xml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">generate</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"no"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--      x11Event. --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ..  x11Event      Python --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rejection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">function-name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"x11Event"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  , ,   ..      --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--          --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--      PySide/QmlDesktopViewer      --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- logwidget_wraper.cpp logwidget_wraper.h) --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object-type</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LoggerWidget"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- qmldesktopviewer_wraper.cpp qmldesktopviewer_wraper.h) --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object-type</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"QmlDesktopViewer"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">typesystem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  I specifically described in detail what files we get at the output of the generator, since  they are the ones to be compiled to get the <i>Python</i> module.  Understanding this will make it easier to write the project file for the build system you are using.  For more information on the rules for compiling this file, see the <a href="http://www.pyside.org/docs/apiextractor-0.10.8/">API Extractor</a> documentation. <br><br>  The next step is to create a header file for the C ++ language, which will extract information about the data for which the binding is made. <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">undef</span></span></span><span class="hljs-meta"> QT_NO_STL #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">undef</span></span></span><span class="hljs-meta"> QT_NO_STL_WCHAR #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> NULL #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> NULL 0 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"pyside_global.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;loggerwidget.h&gt; #include &lt;qmldesktopviewer.h&gt;</span></span></span></span></code> </pre><br>  We received the pyside_global.h file during <i>PySide</i> assembly.  You can copy it to the project or add a path to its location. <br><br>  I use CMake as a build system.  I will not describe the assembly here.  The full sample code can be found <a href="https://github.com/igor-bogomolov/pyside-desktop-component">here</a> .  You can use it as an example to create your own binding. <br><br>  We compile the project, and we get a library with a wrapper over our class, which we can use in our <i>Python</i> application.  We use this module to launch one of the examples of Qt Desktop Components. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python from PySide.QtCore import * from PySide.QtGui import * from PySide.QmlDesktopViewer import * if __name__ == "__main__": import sys if len(sys.argv) &lt; 2: print "Usage: qmldesktopviewer &lt;qml file&gt;" sys.exit() app = QApplication(sys.argv) viewer = QmlDesktopViewer() viewer.open(sys.argv[1]) sys.exit(app.exec_())</span></span></code> </pre><br><img src="https://habrastorage.org/storage1/c4ace511/aa420763/3b6c6b4e/86f53913.png"><br><br>  I also want to note that several bindings of third-party libraries already exist for <i>PySide</i> .  One of them is the <a href="https://gitorious.org/pysideqwt">Qwt</a> binding. <br><br><h4>  Materials used </h4><br>  <a href="http://www.pyside.org/docs/pyside/contents.html">PySide v1.0.8 documentation</a> <br>  <a href="http://www.pyside.org/docs/pyside-mobility">PySide Mobility v0.2.2 documentation</a> <br>  <a href="http://www.pyside.org/docs/pyside-git/newsigslot.html">New-style signal / slot</a> <br>  <a href="http://developer.qt.nokia.com/wiki/Category:LanguageBindings::PySide"><i>PySide on the Developer Network</i></a> <a href="http://developer.qt.nokia.com/wiki/Category:LanguageBindings::PySide"><br></a>  <a href="http://lizardo.wordpress.com/2010/08/26/running-pyside-applications-on-qt-simulator">Running PySide applications on Qt Simulator</a> <br>  <a href="http://developer.qt.nokia.com/wiki/PySide_Binding_Generator">PySide Binding Generator</a> <br>  <a href="http://developer.qt.nokia.com/wiki/PySide_Binding_Generation_Tutorial">PySide Binding Generation Tutorial</a> </div><p>Source: <a href="https://habr.com/ru/post/134457/">https://habr.com/ru/post/134457/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134450/index.html">Russian startups in the Spanish village</a></li>
<li><a href="../134452/index.html">Path to Intel Programming Wizard</a></li>
<li><a href="../134453/index.html">Configure SSL for TomCat</a></li>
<li><a href="../134454/index.html">Expert system in 1832</a></li>
<li><a href="../134456/index.html">Create an RDS terminal farm using NLB technology and publish RD Web Access to ISA Server 2006</a></li>
<li><a href="../134461/index.html">Google Celebrates Robert Noyes 84th Birthday</a></li>
<li><a href="../134462/index.html">Selenium: working with page elements using @FindBy and PageFactory</a></li>
<li><a href="../134464/index.html">How to create a secure system. A brief introduction to SDL</a></li>
<li><a href="../134465/index.html">Kitchen computer table</a></li>
<li><a href="../134466/index.html">DropBox is not a single person alive - 10 alternatives to the popular service</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>