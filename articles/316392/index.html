<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why not Assets Pipeline?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction  The asset pipeline is technically no longer a core feature of Rails 4, it has been chosen to go into the sprockets-rails gem.  Rails Gui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why not Assets Pipeline?</h1><div class="post__text post__text-html js-mediator-article"><h5>  Introduction </h5><blockquote>  The asset pipeline is technically no longer a core feature of Rails 4, it has been chosen to go into the sprockets-rails gem. </blockquote>  <i>Rails Guides.</i>  <i>The asset pipeline</i> <br><br>  This means that, starting with rails 4.2, the asset pipeline mechanism is no longer part of the rails core and may not be used in the application development process.  This gem connects by default.  Indeed, in simple applications (business card site, blog), this approach is fully justified and allows you not to worry about writing complex, frontend-dependent components.  In the professional development of large sites, the role of the frontend increases markedly, as does the complexity of working with it.  So let's put forward our own assumptions about why Rails developers no longer impose a sprockets usage scenario. <a name="habracut"></a><br><br><h3>  Modularity </h3><br>  A bit of theory.  A modular approach to developing web applications using Javascript. <a href="http://requirejs.org/docs/whyamd.html">AMD</a> intends to design large JavaScript applications based on individual modules.  The module has the following characteristics: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Perform the task before him and no more </li><li>  Not to know that there are other modules, and even more about their functionality </li><li>  If the module generates an unexpected error, other modules must continue to do their job without errors. </li><li>  Modules may have dependencies on other modules to use their functionality.  Dependency management is a simple and clear developer tool. </li><li>  Modules that are not used should not be loaded on the page. </li></ol><br>  Rails allows you to build complex nested dependency trees, but in practice this can be a nightmare.  Usually, developers do not care about the separation and dependencies of modules and go in an easy way - simply add a link to the file at the end of the shared manifest (app / assets / javascripts / application.js, app / assets / javascripts / application.css), which loads all , regardless of whether resources are needed or not. <br><br><h3>  Multiple entry points </h3><br>  Once again, a separate subsystem should have its own entry point in the form of a plug-in.  Rails allows you to do this, but it is so difficult and not elegant that few people use it.  A typical dependency description in Rails looks like this: <br><br><pre><code class="ruby hljs">/<span class="hljs-regexp"><span class="hljs-regexp">/= require jquery /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/= require jquery_ujs /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/= require_tree ./subsystem</span></span>1/* ‚Ä¶    ,    </code> </pre> <br>  The last line describes the inclusion of all modules from the subsystem1 subsystem folder in the manifest and this notation is usually used in real life.  Agree that it is difficult to keep such code up to date: <br><br><pre> <code class="ruby hljs">/<span class="hljs-regexp"><span class="hljs-regexp">/= require jquery /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/= require jquery_ujs /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/= require_tree ./subsystem</span></span>1/module1 /<span class="hljs-regexp"><span class="hljs-regexp">/= require_tree ./subsystem</span></span>1/module2 /<span class="hljs-regexp"><span class="hljs-regexp">/= require_tree ./subsystem</span></span>1/module3_old /<span class="hljs-regexp"><span class="hljs-regexp">/= require_tree ./subsystem</span></span>1/module4 /<span class="hljs-regexp"><span class="hljs-regexp">/= require_tree ./subsystem</span></span>1/module5 ‚Ä¶ /<span class="hljs-regexp"><span class="hljs-regexp">/= require_tree ./subsystem</span></span>1/module_n</code> </pre><br>  The subsystem1 module files may not be interconnected or exist only for backward compatibility, but they will still be loaded onto the page.  Typical situation.  The contractor developed a portal and left the project, leaving a giant manifesto.  It is already difficult to make out which module depends on which one.  The project dictates its own wrong paradigm.  Although, of course, there is a contractor in the world who once held in his head a scheme of interaction between modules ... <br><br>  Very often, the manifest grows to such dimensions that it becomes impossible to track dependencies.  Especially in the context of team development.  Merging this file in a version control system is also very inconvenient for large files. <br><br><h3>  JS and CSS are also dependent on each other. </h3><br>  This means only that the java script module can be dependent on the css module.  For example, the date picker contains styles that are loaded on the page only if the item is on the form.  Unfortunately, rails does not support this functionality.  It does not support bundling html templates. <br><br><h3>  Total </h3><br>  Because of all these features of using the assets pipeline, the simplest solution to managing dependencies is to include them in a single manifest file.  Over time, it grows to a huge size, it becomes uncontrollable.  As a result, all resources are loaded on the page.  This is probably why the assets pipeline has moved from mandatory to recommended Rails development features. <br><br><h3>  Instead of conclusion </h3><br>  Dear community, this post was written for two reasons: <br><br><ol><li>  Desire to join Habr </li><li>  A heated argument between a developer using the assets pipeline and a developer using requirejs in everyday life.  I would like to hear your opinion on this issue in the comments </li></ol><br>  Thanks in advance! <br><br><h3>  Used Books </h3><br>  ¬ª <a href="http://guides.rubyonrails.org/v4.2/asset_pipeline.html">Rails Guides.</a>  <a href="http://guides.rubyonrails.org/v4.2/asset_pipeline.html">The asset pipeline</a> </div><p>Source: <a href="https://habr.com/ru/post/316392/">https://habr.com/ru/post/316392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316378/index.html">Welcome to the DevFest Vladivostok</a></li>
<li><a href="../316380/index.html">FIAS addresses in the PostgreSQL environment. Part 2</a></li>
<li><a href="../316382/index.html">FreeNAS 10 - the new face of the old storage</a></li>
<li><a href="../316386/index.html">Increase attack costs with Immutable Infrastructure</a></li>
<li><a href="../316388/index.html">Never take a counter offer</a></li>
<li><a href="../316394/index.html">5 reasons not to use your personal account in freelance</a></li>
<li><a href="../316396/index.html">Ukrainian company has developed a private cloud for Silicon Valley startups</a></li>
<li><a href="../316400/index.html">Deploy OpenSource Puppet 4 with multiple puppet masters. Part I. Preparatory</a></li>
<li><a href="../316402/index.html">The best way to leave the market is not to try to enter other markets.</a></li>
<li><a href="../316404/index.html">How to write notes if you are a programmer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>