<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Minimal Arduino DIY</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Arduino is good when you want to quickly implement an idea without bothering about trifles. But when an idea is tested, the extra functionality starts...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Minimal Arduino DIY</h1><div class="post__text post__text-html js-mediator-article"> Arduino is good when you want to quickly implement an idea without bothering about trifles.  But when an idea is tested, the extra functionality starts to get in the way. <br>  Collecting a robot on a tracked chassis, I was faced with the fact that the Arduino + MotorShield + Sensor Shield sandwich plus the whole battery and other components were overgrown with wires and began to hardly fit into a not very tiny chassis.  There was no wish to fence another bunch of Shilds in order to get rid of extra wires. <br>  There was an idea to get rid of everything that is not required in the Arduino in the finished device.  Along the way, I wanted to reduce the cost of the robot. <br>  Many interested in electronics are also frightened off by the cost of the Arduino in stores.  With ebay and Chinese stores, the parcel goes a long time, the inventive fervor has time to cool down, so the acquisition is postponed "for later", "when the son grows up."  Therefore, I decided to assemble an Arduino-compatible board from parts that can always be bought in the city. <br>  As a result, I received an Arduino-compatible fee, worth 210 rubles on a breadboard and ~ 270 rubles in a form ready for extension. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/347326/"><img src="https://habrastorage.org/getpro/geektimes/post_images/0c8/c47/7b8/0c8c477b85a96b7bbba96ce6c50b2a6c.jpg" width="500" height="297" title="Minimalist arduino" alt="Minimalist Arduino"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/347326/">Minimalist Arduino</a> " <br>  From zero to full readiness it is assembled with a cheap 40W soldering iron for 1 day off without any special skills. <br><a name="habracut"></a><br>  I don‚Äôt have a laser printer, I never split the printed circuit boards myself, so it was decided not to use LUT, but a prototype board with one-sided metallization (as cheap as possible, always on sale). <br>  At first, I wanted to buy an Atmega328P in a DIP package to use the <a href="http://arduino.cc/en/Main/Standalone">Arduino on a Breadboard article</a> and assemble the Arduino on a solderless one. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/543/615/51d/54361551d98e794f8ee533a837e11c94.jpg" alt="image"><br>  But it turned out that in DIP28 it is extremely difficult to find it in Moscow, and besides, it is significantly more expensive in this building.  But in stock Atmega168 in bulk in any case.  But the price of DIP28 and TQFP-32 is also quite significant.  For a robot on a tracked chassis and home automation, the Atmega168‚Äôs capabilities are more than enough, so I‚Äôve gotten the fear to save and use the 168 in the TQFP-32 package (leg pitch is 0.8mm) <br><img src="https://habrastorage.org/getpro/geektimes/post_images/095/b4d/0b7/095b4d0b714f7721d3e4797d827b9a4e.jpg" alt="image"><br>  I bought all the components except the epoxy model in Moscow, in one store (the models are sold in any radio store or on the market, I just had 5 pieces bought earlier on ebay). <br>  So, first you need to solder a 9x9 mm microcontroller on a DIP adapter in order to work more comfortably with it. <br>  mkpochtoi did not work, so I did not manage to buy a ready-made breadboard, I bought an MP-QFP breadboard, from which I sawed a piece under TQFP-32 with a hacksaw. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/c66/656/22f/c6665622ff745ada4062fa22dda60ee0.jpg" alt="image"><br>  After reviewing the <a href="http://habrahabr.ru/blogs/easyelectronics/70500/">soldering video tutorial</a> from <a href="https://geektimes.ru/users/dihalt/" class="user_link">DIHALT,</a> I hoisted the mikruha on the breadboard with the help of an ordinary 40W soldering iron, spending a little more than 5 minutes on this (I didn‚Äôt have experience in soldering such small components and generally SMD components).  As a flux used a few drops of glycerin (asked the girl, she is engaged in soap-making).  Washed with hot water and dried with a hairdryer. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/345693/"><img src="https://habrastorage.org/getpro/geektimes/post_images/3a6/de6/581/3a6de6581b8122cef36b3a45949311b4.jpg" width="300" height="296" title="Atmega 168PA-AU" alt="Atmega 168PA-AU"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/345693/">Atmega 168PA-AU</a> " <br>  40-foot line of PBS-40 with nippers nastrogal to pieces of 4 legs and soldered on the reverse side.  I took the sockets, not the pins, so that the microcontroller board could be connected to the breadboard with wires without soldering. <br>  Then everything is like in the article - I assembled a scheme on the breadboard, using a <a href="http://www.atmel.com/dyn/resources/prod_documents/doc2545.pdf">datasheet</a> from the Atmega 48/88/168 family (the numbers of the legs on the <a href="">DIP28</a> and TQFP-32 are different). <br>  Since I took the processor clean, I had to flash it with a Arduino bootloader.  Then an ambush was waiting for me: <br>  The Arduino IDE knows only Atmega168 and knows nothing about the Atmega168P (more precisely Atmega168PA-AU) - a more recent version of the chip.  She refused to flash it.  And even earlier, I found out that Freeduino Nano v5.0 for some reason does not want to work as an ISP programmer.  I had to disassemble the robot and get Freeduino 2009. using the ArduinoISP sketch and the example on Freeduino.ru, I managed to force avrdude to ignore the signature difference (the -F key) and flash the bootloader, fuses and lok. <br>  I worked this option: <br> <code>:: bootloader ( COM9    ) <br> avrdude -F -C avrdude.conf -p m168p -c avrisp -P COM9 -b 19200 -e -U flash:w:optiboot_diecimila.hex <br> :: fuse  lock  <br> avrdude -F -C avrdude.conf -p m168p -c avrisp -P COM9 -b 19200 -Uefuse:w:0x00:m -Uhfuse:w:0xdd:m -Ulfuse:w:0xff:m -Ulock:w:0x0F:m</code> <br> <br>  The official site has a <a href="http://arduino.cc/en/Tutorial/ArduinoISP">description of the connection</a> for the firmware: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/613/aa0/499/613aa0499eb467408693b3a2c558620c.png" alt="image"><br>  Alternatively, you can update the avrdude.conf file by writing the correct signature, but there is no need for this special one. <br>  That's it, Arduino on the layout is ready.  You can connect any USB - serial TTL (or RS-232-TTL) adapter and stitch a sketch from the Arduino IDE by selecting Board-&gt; Arduino Diecimila, Duemilanove or Nano w / Atmega168. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/345750/"><img src="https://habrastorage.org/getpro/geektimes/post_images/810/f08/dbb/810f08dbbbbcce60bcf1dd86568fd481.jpg" width="500" height="320" title="Breadboard arduino" alt="Breadboard Arduino"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/345750/">Breadboard Arduino</a> " <br>  Convinced of the performance, I began to transfer to the breadboard. <br>  The hardest of all was to optimally place the elements.  For this, the most simple free tool turned out to be Fritzing.  True, the clutter of pictures and wires looks scary, but allows us not to get entangled in the wires during assembly: <br> <a href="http://fotki.yandex.ru/users/masterraven/view/347324/"><img src="https://habrastorage.org/getpro/geektimes/post_images/956/49b/815/95649b815e50485e084121d3f0e14a6e.jpg" width="500" height="295" title="Minimalist arduino" alt="Minimalist Arduino"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/347324/">Minimalist Arduino</a> " <br>  I tried to reduce the number of individual wires, soldering where possible the conclusions of the stuck component to the desired contact simply by bending its legs and cutting off the excess. <br>  Adding about 65 r for parts, I got this result: <br> <a href="http://fotki.yandex.ru/users/masterraven/view/347325/"><img src="https://habrastorage.org/getpro/geektimes/post_images/bc7/ea1/153/bc7ea115301cc99d561b188b8bf86ff4.jpg" width="500" height="264" title="Minimalist arduino" alt="Minimalist Arduino"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/347325/">Minimalist Arduino</a> " <br>  For convenience, I added a power bus and a ground (2 combs on the bottom right), a power button, an RX, TX, DTR socket for loading sketches and an ICSP connector for flashing a microcontroller with a programmer right on the board. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/347331/"><img src="http://img-fotki.yandex.ru/&#10;get/5821/3477915.17/0_54cc3_e225688d_L.jpg" width="500" height="329" title="Minimalist Arduino assembly" alt="Minimalist Arduino  "></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/347331/">Minimalist Arduino Assembly</a> " <br>  By sticking a microcontroller board with an Atmega328P-AU, you can upgrade the device for tasks where there is not enough 16 kb under the sketch.  I am going to use the place left on the breadboard under sensors, motor driver and other necessary things. <br>  Here is a list of components and prices: <br><table><tbody><tr><th>  Name </th><th>  Price </th><th>  Qty </th><th>  Cost of </th></tr><tr><td>  MP-QFP flipchart </td><td>  64 </td><td>  one </td><td>  64 </td></tr><tr><td>  Glass-Epoxy Board Prototyping PCB 9x15 FR4 </td><td>  43 </td><td>  one </td><td>  43 </td></tr><tr><td>  PBS-4 </td><td>  four </td><td>  eight </td><td>  32 </td></tr><tr><td>  PBS-6 </td><td>  four </td><td>  2 </td><td>  eight </td></tr><tr><td>  Pls-40 </td><td>  four </td><td>  one </td><td>  four </td></tr><tr><td>  ATMega168PA-AU </td><td>  62 </td><td>  one </td><td>  62 </td></tr><tr><td>  LM7805 1A 5V Positive Voltage Regulator </td><td>  15 </td><td>  one </td><td>  15 </td></tr><tr><td>  16.000MHz Crystal Clock </td><td>  ten </td><td>  one </td><td>  ten </td></tr><tr><td>  22pF Capacitor </td><td>  one </td><td>  2 </td><td>  2 </td></tr><tr><td>  10uF Capacitor </td><td>  five </td><td>  2 </td><td>  ten </td></tr><tr><td>  100nF Capacitor </td><td>  one </td><td>  one </td><td>  one </td></tr><tr><td>  10kOhm Resistor </td><td>  one </td><td>  one </td><td>  one </td></tr><tr><td>  150 Ohm Resistor </td><td>  one </td><td>  2 </td><td>  2 </td></tr><tr><td>  DTS-61 button </td><td>  2 </td><td>  one </td><td>  2 </td></tr><tr><td>  PS-22E85L </td><td>  7 </td><td>  one </td><td>  7 </td></tr><tr><td>  WF-02 plug on board </td><td>  one </td><td>  one </td><td>  one </td></tr><tr><td>  Red 3mm LED </td><td>  2 </td><td>  one </td><td>  2 </td></tr><tr><td>  Green 3mm LED </td><td>  2 </td><td>  one </td><td>  2 </td></tr><tr><td></td><td></td><td>  <b>Total</b> </td><td>  268r. </td></tr></tbody></table><br>  20 centimeters of mounting wire, solder and flux, I did not count :) <br>  It turned out even a little cheaper than the Arduino Pro Mini ($ 9.5), while it is more convenient to use and you do not need to wait 3 weeks until you arrive from China). <br>  But the best part - it can assemble each and all components are commercially available and easily accessible.  Wait and look for nothing.  Have you seen an interesting project on arduino on a habr?  Collect it! <br><br>  If you are not familiar with Arduino or the programmer, then the seller can flash the bootloader for 50 rubles, and the USB-Serial TTL adapter may not be purchased if the computer has a COM port. <br><br>  I assembled such an adapter from MAX232CPE, a DB9F connector and 4 capacitors for a ruble thing: <br> <a href="http://fotki.yandex.ru/users/masterraven/view/347332/"><img src="https://habrastorage.org/getpro/geektimes/post_images/9f2/d95/2e9/9f2d952e989231fdf3b59689ebd1bea8.jpg" width="500" height="267" title="Loading Sketch" alt="Loading Sketch"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/347332/">Loading Sketch</a> " </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/131589/">https://habr.com/ru/post/131589/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131584/index.html">Deface images or you may be substituted.</a></li>
<li><a href="../131585/index.html">Client-server chat using Qt / C ++ sockets</a></li>
<li><a href="../131586/index.html">Writing a web server in Common Lisp part one</a></li>
<li><a href="../131587/index.html">MobiUs: browser HTML5 applications for iOS</a></li>
<li><a href="../131588/index.html">What state sites show hatred towards citizens?</a></li>
<li><a href="../131590/index.html">Business Forum in Skolkovo</a></li>
<li><a href="../131595/index.html">How to protect against SWF decompilers</a></li>
<li><a href="../131597/index.html">Mailing Malvari by mail</a></li>
<li><a href="../131598/index.html">A little bit about why using STL can be suboptimal</a></li>
<li><a href="../131600/index.html">Google Analytics on Bada</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>