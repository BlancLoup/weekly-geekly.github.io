<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of high-speed printed circuit boards through the eyes of a circuit design engineer. Maintaining the integrity of electrical signals</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings to you, hams, engineers, scientists, and simply interested readers! 

 In this article I want to share my experience in the development of h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of high-speed printed circuit boards through the eyes of a circuit design engineer. Maintaining the integrity of electrical signals</h1><div class="post__text post__text-html js-mediator-article"><h3>  Greetings to you, hams, engineers, scientists, and simply interested readers! </h3><br><br><blockquote>  In this article I want to share my experience in the development of high-speed circuits.  More precisely, the discussion will deal with the development of printed circuit boards, but since I did not dilute them, but only issued a layout task, and carefully checked the resulting result to meet my expectations, I can tell you about my vision of the correct layout of high-speed printed circuit boards based on simple physical and circuit design phenomena. . </blockquote><br><br>  Having successful practical experience (more than 15 years) of developing schemes for devices, printed circuit boards, with data transfer rates of up to several gigahertz (for copper), experience of interaction with designers, printed circuit board distributors, having studied a large amount of literature on the topic of integrity of signals, I managed to work out a number of easy-to-understand and repeat practical solutions that I want to offer to your attention. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I realized that without knowledge of the basics of circuit design, radio engineering, electronics, PCB engineers are often not aware of the importance of certain wiring rules, cannot prioritize properly and make annoying mistakes leading to the need to re-wiring boards. <br><br>  Agree, without understanding the terms stack, characteristic impedance, support layer, earth bounce, signal integrity, etc.  - it is difficult to understand what is involved in this or that chapter when you are trying to independently master P-CAD, Altium or another design package for very good books of remarkable authors.  After all, the authors initially assume that you have a sufficient stock of knowledge for a proper understanding of what is written. <br><br>  It is important to know the necessary concepts, starting from capacitances, inductances, resonances, and ending with the rules of grouping signals into classes and recommendations on the correct routing of the circuits of each of them, as well as criteria for prioritization. <br><a name="habracut"></a><br>  The main task that the developer of the data line decides is the task of keeping the signal at the receiver input intact.  This means that the form of the voltage should not change in the transmission line, no matter how long and complex it may be, compared to the form of the signal that came out of the transmitter. <br><br><h3>  Transmission line.  Difference from single pcb conductor </h3><br>  The transmission line is the line where the signal propagates.  In our case - the conductor of the printed circuit board or cable wire.  But the transmission line is not a single conductor.  This is conditionally two conductors, direct and reverse.  For a direct signal propagates from the legs of the chip (transmitter) to the other leg (receiver).  On the return conductor, the signal should go back. <br><br>  The current flows only through a closed electrical circuit, along the way <br>  - signal source-forward branch of the transmission line-load-reverse branch of the transmission line-source. <br><br>  At low frequencies, the return current spreads over the entire reference layer. <br>  At high frequencies, the energy of the return signal is concentrated under the direct conductor, and the higher the frequency, the more locally or densely the return currents are concentrated. <br><br><img src="http://habrastorage.org/webt/24/ch/yd/24chydfypg30f-dffcwhr_wqfkk.jpeg" alt="image"><br><br>  The field created by the direct conductor is similar to the cable sheath around the center conductor if the current is constant.  If the current is alternating, or pulsed, the shell becomes similar to a caterpillar or harmonica.  Afterwards, created by the return conductor, ideally has the same shape (for a high-frequency signal), but is twisted in a different direction.  Therefore, if the dimensions of the conductors, the distance between them are constant along the entire length of the transmission line, the fields are mutually compensated.  Such a transmission line has a constant impedance over the entire length and is called homogeneous.  It can not reflect the signal, which occur only in places where the characteristic impedance varies dramatically.  For example, at the junction of the transmitter output with a resistance of less than 10 ohms, and the place where the signal enters the transmission line, with a resistance of 50 ohms. <br><br><blockquote>  About all possible types of reflections and the reflection coefficient is written on special sites, and in my book.  Just to understand what will happen when the impedance of the wave resistance, you can from the formula for the reflection coefficient: <br><br>  G = (Ri-Rn) / (Ri + Rn) <br><br>  When R = R - the numerator is zero, the reflection coefficient is zero, the traveling wave mode is formed, perfect matching occurs, the signal is completely absorbed by the load.  There is a similarity with the full power transfer theorem, on which the method of sequential matching is based, when installing an additional resistor in the transmission line successively to achieve equality: <br><br>  R + R) = Z transmission lines <br><br>  When R = 0 - short circuit mode - a standing wave is formed, the current at the location of the circuit doubles, the voltage tends to zero, the reflection coefficient is 1. <br><br>  When R = infinity - idle mode - the reflection coefficient is -1 - the signal from the load propagates in the opposite direction - towards the source.  As a result of total reflection, the voltage in the line doubles, the current tends to zero, and a standing wave is formed. <br><br>  Telegraph equations allow building on the basis of two-port devices resistance matching, using transforming properties.  I did not use such devices in practice, but they are actively used in the microwave range, both in cables - using cable lengths of different lengths (with a certain ratio of the length of the segment to the wavelength) and in waveguides. <br><br>  For accurate determination of the impedance in the transmission line, use is made of the impedance diagram known as the Smith diagram. <br></blockquote><br><br>  If the path of flow of the return current is not disturbed anywhere, throughout the transmission line the reference layer (exactly in it the return current flows) will be continuous, the signal will surely return back along the optimal and shortest distance. <br><br>  What happens if there is a cut-out in the path of the return current flow in the support layer?  The signal will look for the path of least resistance.  And it will definitely come back - but the road will be ornate and long. A part of the signal energy will inevitably be radiated to the nearest points of the structure with the lowest potential to the body if it is made of metal.  This will lead to loss of energy and distortion of the transmitted pulse. <br><br><img src="http://habrastorage.org/webt/4k/l3/zx/4kl3zxelckw5ub-xgvb_irkcfcy.jpeg" alt="image"><br><br><h3>  The first is a simple but important rule. </h3><br>  When wiring a printed circuit board, always track the return current path.  And it is better if you place a ground reference layer next to the signal layer - the size of the entire printed circuit board.  Then the rule will be executed by itself, and you will be calm that the signal will not radiate. <br><br>  Why are conductor bends dangerous, why should a conductor be straight and short?  Bending leads to inductance in the transmission line.  The resistance or impedance of the inductance increases with increasing frequency, so any line inductance is the enemy of rapid changes in the signal, the front and the fall of the pulse. <br><br><h3>  Transmission impedance </h3><br><br>  One of the most important characteristics of the transmission line is the characteristic impedance.  The characteristic impedance of the transmission line depends on its geometry ‚Äî the size of the conductor, the thickness and properties of the dielectric, the distance between the conductor and the supporting layer.  A homogeneous transmission line is a certain ideal case when the wave impedance does not change along its entire length.  Then there are no irregularities in the line that cause reflections. <br><br>  Any heterogeneity in the line leads to the appearance of a reflected copy of the original signal, which affects the original signal, distorts its shape, violates its original form - integrity.  Sometimes it is critical, sometimes - not very.  Sometimes the reflection is strong, sometimes it is weak.  There is the concept of the electrical length of the transmission line, there is the concept of reflection coefficient.  They make it possible to assess how critical that or other inhomogeneity in a line is. <br><br>  Heterogeneity can be caused by transition holes, and a gap in the support layer, a change in the geometric dimensions of the line, and many other reasons.  If there is heterogeneity, there is a way to harmonize it.  The circuitry uses a number of line matching methods with both the transmitter and the load. <br><br><h3>  Frequency response of the transmission line </h3><br><br>  The next important characteristic of the transmission line is the amplitude-frequency characteristic (AFC).  The line has resistance to direct current, impedance, due to the presence of its own inductance, capacitance.  The line inevitably contains the output capacitance of the transmitter and the input capacitance of the receiver.  All of these reactive or frequency-dependent elements are capable of forming both filters and resonant circuits, which lead to a distortion of the ideal horizontal straight frequency response. <br><br>  picture <br><br>  Line I in the figure shows the frequency response of the transmission line.  Line II - shows the spectrum of the signal.  If not the whole spectrum is included in the frequency response, the spectrum is limited.  For a periodic sequence of rectangular pulses, it is enough that the first five harmonics enter the line bandwidth.  For a single pulse, the transmission bandwidth is determined by the relation: <br><br>  f = 0.35 / tn, where tn is the rise time of the pulse front. <br><br>  What is dangerous frequency distortion?  A signal of any shape can be represented by a spectrum of harmonics.  A square wave can be ‚Äúassembled‚Äù from sinusoidal signals with multiple frequencies, each of which can have its own phase and amplitude coefficients.  If there is a local change in the frequency response ‚Äî a rise in a narrow frequency band caused by a resonance, or a blockage caused by the influence of a low-pass filter in the line due to an increase in the line length, some components of the signal spectrum may be increased or decreased, and will differ from the values ‚Äã‚Äãof the original signal.  Accordingly, their contribution to the waveform will be changed, which will lead to a change in the shape of the original pulse, loss of signal integrity.  From here: <br><br><h3>  Second important rule </h3><br><br>  Watch for the amplitude-frequency response of the line.  Calculate the cut-off frequency of the frequency response, based on the line parameters, and ensure that the bandwidth of the transmission line exceeds the fifth harmonic of the main signal (if it is periodic).  If the signal is represented by individual rectangular pulses, the bandwidth of the transmission line should not be more than 0.35 / tr, where tr is the front rising rate. <br><br>  Sometimes it is specifically required to limit the rate of rise of the front at the output of the transmitter to reduce the emissivity of the transmission line.  To limit the driver current and the rate of rise of the front, you can install a serial terminating resistor in the transmission line, which with a parasitic capacitance of the line forms a low-pass filter and smoothes the pulse front.  This solution improves EMC and reduces cross-distortion.  Additionally, a resistor installed in a parasitic oscillating circuit formed by inductance and line capacitance will reduce its Q-factor and reduce its effect on the frequency response of the transmission line. <br><br>  If the line is long, its capacity is also increased, compared to the capacity of the short line, and the low-pass filter has a lower cutoff frequency, which limits the spectrum of the signal. <br><br>  When a serial terminating resistor is installed on the line, a low-pass filter is formed, which will have an even lower cut-off frequency and further limit the transmission bandwidth.  If the line is long and curved, inductance is present in it, which together with the capacitor can form both filters and resonant circuits.  When a condenser line is inserted into the discontinuity, for the purpose of galvanic decoupling, you will limit the frequency band from the bottom, forming a high-pass filter, and the low-frequency impulse area will be filled up. <br><br><h3>  The third important rule </h3><br>  Signals in different lines can influence adjacent lines.  Cross-talk, noise, both external and internal, are studied in the section of electromagnetic compatibility.  For practical application, there are a number of simple rules on the organization of gaps between adjacent lines (3d rule), and the installation of earth polygons. <br><br>  These three sections (or rules) are sufficient for understanding the physics of the passage of electrical signals in transmission lines. <br><br>  Separately, there are a number of issues related to the integrity of power and the earth, the need to align the lines in the tires, and differential lines.  There are standards for electrical signals, which must be studied and applied when solving specific problems.  Consider all elements of the transmission line - from the transmitter point to the receiver point (and the printed circuit conductors, and the wires of the cables, and the contacts of the connectors). <br><br><h3>  What is important to do before starting any project? </h3><br><br>  Why is it important to begin work on a project, understanding the physical principles presented?  The fact is that otherwise you will not be able to prioritize.  Even if you study a lot of literature, you will learn hundreds of rules for proper wiring of high-speed boards, without knowing the basics you cannot make an intelligent decision in a given situation. <br><br>  Sometimes you have to sacrifice something.  It is important to make the right choice!  In the books of foreign authors, much attention is paid to this and an example is given where students of the same university share the same fee, having the same set of rules.  And everyone does it in their own way.  It‚Äôs better for someone who knows and applies the knowledge of physics, and not just randomly chooses the rules from the series proposed. <br><br><blockquote>  <i>Dear Colleagues!</i> <i><br></i>  <i>More details on the rules for developing high-speed printed circuit boards.</i> <i><br></i>  <i>You will find in the new edition</i> <i><br><br></i>  <i><b>High-speed printed circuit boards.</b></i>  <i><b>Maintaining the integrity of electrical signals</b> .</i> <i><br><br></i>  <i>only on the website of the publisher Ridero.</i> <i><br><br></i>  <i><a href="https://ridero.ru/books/sokhranenie_celostnosti_elektricheskikh_signalov/">ridero.ru/books/sokhranenie_celostnosti_elektricheskikh_signalov</a></i> <i><br><br></i>  <i>In other bookstores of the network, the book will appear no earlier than July.</i> <i><br><br></i>  <i>It is planned to publish a new book with illustrations.</i> <i><br></i>  <i>Waiting for your comments, recommendations,</i> <i><br></i>  <i>proposals for the content of the new book.</i> <i><br><br></i>  <i>I would be very grateful for the feedback on the website of the book indicated above.</i> <i><br></i>  . </blockquote><br><br>  Briefly, it is for practical use already in your development, I will repeat here a number of rules, the implementation of which will help save time and prevent offensive mistakes. <br><br><h3>  PCB layout algorithm and analysis of possible signal distortion </h3><br><br><ol><li>  When ordering printed circuit boards, be sure to perform a wave resistance test.  Keep in mind that it will meet the specified only on direct conductors without vias, branches - on reference samples.  In real boards it may differ slightly from the set.  It does not matter if you install a serial terminating resistor in the line that ‚Äúsmoothes‚Äù the heterogeneity at the junction between the transmitter and the line, absorbs the energy of the reflected waves, limits the frequency response (up to that value of the cutoff frequency, which you do not forget to take into account), reduces the quality factor of parasitic circuits, reduce the signal current in the line and reduce its radiation in case of insufficient coordination.  This rule is also relevant for relatively low frequency signals with steep edges. </li><li>  Wave resistance is determined by the line geometry.  Properly organize the stack of the circuit board.  Use free programs to calculate wave resistance, for example: <br><br>  <a href="https://www.awr.com/software/options/tx-line">www.awr.com/software/options/tx-line</a> <br><br>  Next to the signal layer, be sure to place a ground reference layer, in which, like in a mirror, all return currents are reflected.  Remember that the mirror should not have flaws and cracks.  The presence of gaps in the reference layer will ruin your mood in the future, leading to random errors in the transmitted data packets.  Do not use power layers as reference, since they can contain polygons of several power circuits, separated by undesirable breaks for the reference layer. </li><li>  Apply the 3d rule and in particularly critical cases, separate the conductors of the aggressor and the victim with earth conductors and polygons to reduce cross-distortion. </li><li>  For the same purpose, use differential joints and shielded cables. </li><li>  Do not try to fanatically align all the conductors of the data bus, the addresses.  Do the necessary calculations, and decide on the degree of alignment based on them. </li><li>  Do not focus on the dielectric constant of the material if the upper limit of the signal spectrum does not exceed 1 GHz.  For calculations and simulations, use the value e = 4 for the dielectric FR4. </li></ol><br><br><img src="http://http://habrastorage.org/webt/yb/8y/k0/yb8yk0lem5v-onfkjardr1euwza.jpeg" alt="image"><br><br><h3>  HERE IT IS NECESSARY TO MAKE A PAUSE TO GO TO THE NEXT STEP. <br><br>  RELAXED? .. <br><br>  CONTINUE! </h3><br><br><h3>  Example.  Applying rules to wiring differential joints. </h3><br><br>  Below, using the example of differential joints, I will show how to apply the rules shown above. <br><br>  In addition to the transmission line with a single conductor and a base layer, there is another type - the differential line.  Differential lines are used in well-known RS-422, RS-485, USB, LVDS, Ethernet and other interfaces. <br><br>  In a differential pair, a signal of the same shape and different polarity is transmitted simultaneously via two conductors.  The receiver responds to the voltage difference between them.  Due to the fact that the fields around the conductors are compensated, a low level of radiation dif.  lines.  Due to the fact that the receiver measures only the differential voltage and does not take into account the common mode, a high noise immunity is obtained.  Receivers are no longer so important full form of the pulse.  Possible distortions on the pads, due to interference, power ripples, ground bounce, do not affect the reception quality.  It is important to preserve only the monotony of the front and the fall and sufficient amplitude at the receiver input so that it is able to correctly recognize the moment of signal transition through the threshold levels specified by the standard.  Distortion of the front "step" or "ringing at the front" can lead to false positives. <br><br>  From here you can make one important practical conclusion.  The waveform should not be strictly rectangular.  The requirements for the steepness of the front are determined only by the ability to correctly receive a signal of a given frequency with a given amplitude.  Can the receiver correctly receive a triangular signal if, due to a decrease in the rate of rise, the amplitude at the input will be sufficient for its correct response?  Yes maybe.  Therefore, in some cases, for example, to further reduce radiation in the conditions of stringent EMC requirements, it is possible to further limit the signal spectrum by using filters (installing a matching resistor along with additional capacity).  We are talking only about digital signals consisting of a sequence of pulses. <br><br><h3>  Printed wiring for example LVDS </h3><br><br>  Wave resistance dif.  line should be equal to 100 ohms.  A line organized by a current loop with a current of 3.5 mA requires the installation of a terminating resistor with a resistance of 100 ohms on the load side.  The voltage drop across the resistor is 350 mV.  The signal swing at the receiver input should not be lower than 100 mV.  Differential voltage varies relatively constant common mode voltage, the range of which can vary from 300 mV to 2.3 V. You can find out the voltage values ‚Äã‚Äãin the TIA / EIA-644 (LVDS) standard. <br><br>  The termination resistor also acts as a terminating resistor on the load side.  With characteristic impedance diff.  100 ohm lines equal to 100 ohm load resistance, an almost perfect match and traveling wave mode are obtained.  All signal energy is absorbed by the load and is practically not radiated.  An additional advantage compared to single or common-mode transmission lines is a low voltage swing of 400 mV, which is almost 10 times lower than the CMOS level of 3.3V.  This also leads to a serious reduction in radiation levels.  The information presented above does not bring anything new to those who worked with LVDS signals. <br><br>  What issues regarding the preservation of the integrity of the signal here can be? <br><br>  <b>1.</b> You know what you can to get diff.  impedance use different geometrical dimensions of the conductors, the distance between them.  For example, you can choose conductors with a width of 500 microns and spread them over a distance of 500 microns, or you can choose conductors with a width of 200 microns and bring them closer to a distance of 100 microns.  Countless options. <br><br>  For example, I had to run a differential line of two coaxial cables.  The line turned out exotic.  On the one hand, it was differential, since the LVDS driver was used, and on the other hand, the two coaxial cables were practically not connected in fields, which is no longer differential.  line.  The line worked fine at 2.5 GHz and was 5 meters long.  This example also shows that solutions to the problem are not in the area of ‚Äã‚Äãstandard solutions. <br><br>  On the PCB, as Howard J. and his co-author Martin suggest.  Gr in his famous book ‚ÄúDesigning high-speed digital devices.  The initial course of black magic ‚Äù, while avoiding obstacles when‚Äú dividing lines ‚Äù, it is recommended to increase their width to reduce the wave impedance of each of them (common wave impedance).  When two lines approach each other, it is recommended to reduce the width of the conductors, since the connection is stronger, total, or diff.  the resistance decreases and it is necessary to increase the common-mode waves to increase it.  resistance of each of the conductors. <br><br>  <b>2.</b> If diff.  the line is homogeneous, and for LVDS it is initially proposed as a point-to-point and should not contain any branches, as in M-LVDS, its length is actually determined only by the capacitive component of the printed conductors or cable.  That is why for a cable length of 1-2 meters on a normal twisted pair is unlikely to be able to transmit signals with a frequency above 800 MHz.  By coaxial cable, as I wrote above - you can get gigahertz. <br><br><h3>  Protection against transmission line irregularities </h3><br><br>  The main reason for the appearance of inhomogeneity in the transmission line is the local misalignment of wave resistance.  Therefore, the first and direct way to eliminate heterogeneity is the coordination of resistances. <br><br>  If the transmission line in the printed circuit board is made as a conductor, the geometric dimensions of which do not change along its entire length, and the supporting layer under it is not torn anywhere, it can already be considered homogeneous and coordination may be required only on the load side (rarely used) or on the source side signal (used more often)).  Not all lines need to be matched.  It is necessary to choose critical lines based on the wavelength and the rate of rise of the front.  Negotiation is mandatory in "electrically long lines". <br><br>  Possible inhomogeneities can be compensated in other ways.  If they are caused by vias due to the absence (more precisely rupture) of the support layer, the earthen holes should be located at a minimum distance.  In the microwave range there are subtleties associated with the unloaded branch (stub) <br><br>  picture <br><br>  This is if the conductor from the top layer of the board passes through the transition hole in the inner layer of the board, and the remaining ‚Äúpiece‚Äù of the transition sleeve is an unloaded branch from which signal reflections and pulse distortion occurs. <br><br>  There may be other irregularities caused by bends of diff.  lines, etc. If there is a desire to protect against any possible inhomogeneities, the 100 Ohm termination resistor is located not only on the load side, but also on the source side of the signal (two-way matching).  If two resistors are connected in parallel, the resistance will be 50 Ohms, the signal amplitude will decrease due to this, but matching will not allow serious signal distortions even with unpredictable inhomogeneities in the line. <br><br>  By the way, serious inhomogeneities can be caused by incorrect or deliberately incorrect use of a cable with a different characteristic impedance, different from the one recommended by the standard, as well as the use of a connector, also with a different characteristic impedance. <br><br>  <b>3.</b> Following the methodology proposed at the beginning of the topic, it remains to deal with possible interference.  The simplest, but very effective means - shielding differential.  transmission lines.  On the PCB between adjacent differential.  in pairs, for example, in the Ethernet interface, it is possible to arrange earthen polygons, at least 5d from the edge of each differential.  couples.  d is the width of the conductor.  Apply no longer coaxial.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A special twinaxial or quadraxial cable, where one or two diff. pairs, each with an impedance of 100 ohms, are located inside a single screen. In order to understand how a twinax cable differs from a regular CAT-5E, you need to understand the design. The difference between them is that in CAT-5e a normal twisted pair is located inside, according to which, as I wrote above, signals with a frequency higher than 800 MHz cannot be transmitted. But inside the twinax cable there are two coaxial cables inside the common screen. If you look very closely, the difference in material and thickness of the dielectric. Therefore, the price difference is probably so high.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twinax cable allows you to transmit signals with frequencies in units or even tens of GHz and is an alternative to optical transmission lines, where the cost of cables is also high compared to twisted pair. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you do not reinvent the wheel, in general, that's all. A bicycle, for example in LVDS, can be an attempt to install additional serial terminating resistors in a line to reduce radiation, or to install isolation capacitors for galvanic isolation.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When installing capacitors in the LVDS line, it is required to restore the 1.2V constant component at the receiver input. This is usually done by a simple resistive divider of three resistors. Here can be "unpleasant moments." Differential signals are very sensitive to jitter, and not only they. The cause of jitter can be external influences (noise), internal (instability of a clock source and power instability). Here is the instability of the power when installing a resistive divider and can play a cruel joke, leading to a significant increase in jitter.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What else features differential joints. </font><font style="vertical-align: inherit;">In USB, due to the high requirements again for the stability of the position of the fronts when operating in Hi-Speed ‚Äã‚Äãmode, it is recommended to install RC LPF with low-resistance resistors, which also play the role of matching - smooth the fronts and absorb possible reflections. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I recommend to install the same series resistors in the RS422, RS485 junctions. </font><font style="vertical-align: inherit;">This is another plus - the protection of the transmitter from a possible short circuit of the conductors of the transmission line. </font><font style="vertical-align: inherit;">When the circuit is closed, the transmitter will be loaded for the sum of two resistances and will not fail.</font></font><br><br><hr><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alignment of conductors in a differential transmission line </font></font></h3><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .. If, as I already wrote earlier, in a parallel bus it is sometimes possible to afford not to align conductors with millimeter accuracy, then the situation is different in the differential line. Draw a square pulse on one line and draw an inverted copy in the same place below. Geometrically subtracting the form of another from the form of one signal, you will get almost the same ideal rectangular pulse, the difference signal, which the receiver processes. Now do the same, but slide the lower inverted copy a little along the time axis. And do the same geometric subtraction. You will see that the shape of the resulting signal will not look like a rectangle. Because for diff. Signal alignment is required. It is important.</font></font><br><br> <a href="http://www.ti.com/lit/an/slla414/slla414.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you are interested in recommendations on the Max Intra-Pair Skew parameter, see the document.</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> It clearly states how many grams to hang for all high-speed digital signal standards.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The expediency of the support layer in the diff. </font><font style="vertical-align: inherit;">the lines</font></font></h3><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do I need a support layer in the differential transmission line? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Many will respond immediately - no, not needed. </font><font style="vertical-align: inherit;">There is an RS422 that works on diff. </font><font style="vertical-align: inherit;">a pair. </font><font style="vertical-align: inherit;">and the earth there is no use, except to improve noise immunity. </font><font style="vertical-align: inherit;">This is almost the right answer.</font></font><br><br><blockquote>      ,       .  RS422   +-7,  LVDS  0,3  2,3 .    ,         . ,       . ,    ,      ,         ‚Äî  ,  , .         RCLAMP . Semtech.    ,      2,5        30        .        . </blockquote><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But, there are recommendations for the use of the support layer in the USB standard. </font><font style="vertical-align: inherit;">LVDS can also work without a support layer, only earth conductors are sometimes found in loops, again to improve noise immunity. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Physics of work diff. </font><font style="vertical-align: inherit;">the joint is such that the support layer is not needed there. </font><font style="vertical-align: inherit;">But here you must also look at the circuitry, and the standard signals in the driver line. </font><font style="vertical-align: inherit;">Sometimes, the support layer is needed precisely for the driver to work properly. </font><font style="vertical-align: inherit;">Perhaps because of this, in the USB standard there is a reference to the support layer, and in the 802.3 standard (Ethernet) you will not see a direct recommendation for the installation of the support layer. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">My recommendation is to make the support layer always. </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It definitely does not worsen the work of differential. </font><font style="vertical-align: inherit;">joint, but will increase its noise immunity.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Data Link Immunity </font></font></h3><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cross distortions, interference from external devices, power interference, earth bounce - all these factors can lead to a distortion of the waveform. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protection against external interference is usually performed by applying the shielding of the developed devices and cables. Proper grounding is on the source side, on both sides, through a capacitor, etc. - is a whole science and is well described in books.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">From my practical experience, I can say that the grounding of cables between two devices on both sides works well. Such continuous shielding has never failed. The only dangerous moment can be the simultaneous earthing of the inner shields on both sides and the outer shielding, also on both sides. With a large cable length and difficult interference environment, a situation is possible when a potential difference is created between two devices connected in this way (static charge on one case and its absence on the second, for example). In this case, according to Ohm's law, the current flowing through the internal or external screen can lead to its physical destruction (internal screens in the CAT5E cable and others are often made of thin foil, which can melt at high currents).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the laboratory, the gap screens can be called exotic. But damage to one of the two terminals due to the potential difference of the two lands was observed by many. To protect the screen from destruction, a resistor of 100 Ohm-1 kŒ© is used between the internal (signal) screen and the external screen (cable braid). The outer shielding is connected directly to the device housings. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In a printed circuit board, the shielding of conductors can be performed either by arranging an earth conductor between them, or by installing conductors inside a pie bounded by ground layers (a stripline symmetric and asymmetrical lines, a differential stripline).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The experience of modeling in HyperLynx Mentor Graphics allowed us to obtain a simple rule of thumb for estimating the distance between two adjacent conductors, at which the line the aggressor would point to the victim‚Äôs minimum signal energy. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For example, between two lines parallel to each other at a distance of 1d, where d is the conductor width, the level of the induced signal was approximately 350 mV (span) when a signal with an amplitude of 3.3V (CMOS levels) spread in the line of the aggressor.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the location of the same conductors at a distance of 3d from each other, the level of pickup was reduced to 100-150 mV. With a distance of 5 d, the pickup level was less than 30 mV. This confirms the well-known 3d rule - recommended by developers of modeling packages Mentor Graphics, Cadence OrCad and other sources. Even a distance of 1 d provides a level of aiming acceptable from the point of view of a logic zero level (less than 0.7-0.8 V). But this experiment does not take into account that there can be several lines of aggressors, and the energy of the signals can be summed up. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a capacitive coupling between parallel lines - indeed, each of them is a ‚Äúcapacitor plate‚Äù. The dielectric can be either air (for a microstrip line) or a dielectric layer of a printed circuit board (for a strip transmission line.)</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The result of the simulation of cross-distortion between two differential lines is also interesting: where already at a distance of 1d for the diff. lines, the pickup level is comparable to the level for single common mode conductors located at a distance of 5d. This example clearly demonstrates the advantage of using differential lines compared to single transmission lines in a complex noise environment. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It should be noted that the 3d rule works in the near zone. Much is also determined by the rate of rise of the front (the steeper the front, the wider the spectrum, the greater the level of capacitive pickup, since capacitance impedance decreases with increasing frequency) and the length of the transmission line (especially in the far zone where the conductors are both transmitting and receiving antennas) .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the low-frequency region, the electric fields cannot be induced so significantly (capacitive pick-up is ineffective due to the large impedance value of the same capacitor in the low-frequency region). And the presence of magnetic fields (when installing chokes, transformers, relays, etc.) has a greater importance on the jamming environment.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is particularly difficult to assess resonant pickups, when two circuits are made geometrically similar. For example, one circuit is a strongly curved line (the more bends, the higher the inductance), and the second circuit is topologically similar to the first. If they are performed in the same layer, between two driver-receivers of the same chip, the total capacities of each of the lines also have the same values. As a result, a parallel resonant circuit is formed, and already the coupling between the circuits is formed not by a capacitive, but by a resonant one.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The resonance frequency can be located much higher than the spectrum of the transmitted signal and the upper boundary frequency of the transmission line, but due to the high quality of the circuits associated with minimal active resistance, the transmission efficiency of the upper harmonics of the signal in the aggressor line is quite high. Very dangerous phenomenon. Does this not resemble lines in parallel to the data bus ?! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Another important note. If the victim's line is not loaded (and usually the CMOS receiver input assumes that there is only a capacitive load for the driver), due to the doubling of the voltage due to the influence of the reflected signal from the load at idle, the pickup level increases in a square, because the energy level is proportional to the square of the voltage.</font></font><br><br> <b> ,  ,        .</b> <br><br> <b>   , !</b> </div><p>Source: <a href="https://habr.com/ru/post/453896/">https://habr.com/ru/post/453896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../453886/index.html">The program works</a></li>
<li><a href="../453888/index.html">Maximum speed machine learning: Predictive Maintenance for four months</a></li>
<li><a href="../45389/index.html">TRAC installation for FreeBSD for beginners</a></li>
<li><a href="../453890/index.html">Soviet dreams of the future</a></li>
<li><a href="../453892/index.html">ISTQB certification. Part 2: How to prepare for ISTQB certification? Practice Stories</a></li>
<li><a href="../4539/index.html">Personal search engine using Live Search Macros</a></li>
<li><a href="../45390/index.html">"Investment Fund with the Tretyakov Gallery"</a></li>
<li><a href="../453906/index.html">What is the "domain model"?</a></li>
<li><a href="../453908/index.html">RTOS Neutrino in Industrial Computers</a></li>
<li><a href="../45391/index.html">Macroeconomics, our delusions, new risks and opportunities</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>