<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Swarp SDK or how to quickly create an AR-application. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear readers. 

 Today I will continue the story of how to create applications using the Swarp SDK. This post is a continuation of the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Swarp SDK or how to quickly create an AR-application. Part 2</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/f07/7df/e08/f077dfe08a36eb3ea454cb1ad83a4cab.jpg"><br><br>  Good afternoon, dear readers. <br><br>  Today I will continue the story of how to create applications using the Swarp SDK.  This post is a continuation <a href="http://habrahabr.ru/post/146041/">of the Swarp SDK review</a> .  In the first part, we looked at an example from the standard delivery of Swarp and the general principles of working with it.  And now we will write our AR-application, which will change the animation of the 3D-model depending on the presence of markers in front of the camera.  Who cares - I ask under the cat. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  About the application </h4><br><br>  So, here are the basic requirements for our project. <br>  The application will use the standard Mogre'32 3D model of ninjas (all models and source codes are attached to the post).  If there is a certain marker in the camera‚Äôs field of view, it is necessary to display the model in the appropriate orientation.  And now the most interesting is animation.  In the ninja model there are 16 (if my memory serves me) animations.  I chose 3 of them: <i>Crouch</i> , <i>Attack1</i> , <i>Backflip</i> .  A marker will be attached to each of these animations.  If the animation marker is not on the scene, then the corresponding animation must be performed.  If all the markers are present, then <i>Idle1</i> is animated. <i>That</i> 's all.  We start implementation. <br><br><h4>  Implementation </h4><br>  To create a project, I will use Visual Studio 2010. First, I create a Win32 console application and call it HabrDemo2.  By the way, in order for the studio not to die in the process of debugging applications, you need to enable debugging of unmanaged code and enable unsafe code in the ‚ÄúDebug‚Äù and ‚ÄúBuild‚Äù tabs, respectively: <br><img src="https://habrastorage.org/storage2/4fe/7d1/54b/4fe7d154b3b2d38a283789e03e0e0d72.png"><br><br><img src="https://habrastorage.org/storage2/484/6d5/17c/4846d517cbd35377eb09862875bb5362.png"><br><br>  The project will have a <i>Program.cs</i> file containing the entry point to the application: <br><img src="https://habrastorage.org/storage2/360/c44/6fe/360c446fe90ed4486462f42c26b0d431.jpg"><br>  Actually, we will work with him. <br><br>  Now you need to include links to the used assembly.  I will need the following: <br><img src="https://habrastorage.org/storage2/5fc/ec4/9d6/5fcec49d6381801a865d06bafd746680.jpg"><br>  <b>Small feature:</b> Swarp SDK adds its assemblies to the .NET tab of adding assemblies to save developer time: <br><img src="https://habrastorage.org/storage2/d71/429/958/d714299587d7c83f511b1684f7602b17.jpg"><br>  Really convenient - no need to climb folders looking for the installed SDK. <br><br>  This training is over - we begin to write the program. <br><br><h4>  Write the code </h4><br><br><h5>  Fields </h5><br>  We will need several private fields: <br><pre><code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">   . </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> private static AugmentedRealityManager _arManager; </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">  . </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> private static ITrackable _ninjaTrackable; </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">   . </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> private static List</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;ITrackable&gt;</span></span></span><span class="hljs-comment"> _animationTrackables=new List</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;ITrackable&gt;</span></span></span><span class="hljs-comment">(); </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> C . </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> private static AnimationState _animationState; </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> C . </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> private static float _animTime = 0.1f;</span></span></code> </pre> <br>  The <b>_arManager</b> field is an instance of the main Swarp class that implements the augmented reality process.  By calling its <i>Start ()</i> and <i>Stop ()</i> methods, we start or stop the process.  The <b>ITrackable</b> interface describes the markers used in Swarp.  I use the <b>_ninjaTrackable</b> instance to describe the marker that is responsible for displaying the 3D model and the <b>_animationTrackables</b> list, which contains information about the animation markers.  I also use the <b>_animationState</b> field.  It is necessary in order to describe the animation model.  The AnimationState class is described in the Mogre assembly.  Well, the last field is <b>_animTime</b> .  This is a time slice that determines how much the animation ‚Äúmoves‚Äù in each frame. <br><br>  With the fields finished.  The next step is initialization. <br><br><h5>  Application Initialization </h5><br><br>  About the initialization of augmented reality described in more detail in the first part, here I briefly run through the algorithm of initialization and the distinctive places of the code. <br><br>  The initialization algorithm itself is fairly simple and consists of the following steps: <br><ol><li>  camera; </li><li>  tracker; </li><li>  renderer. </li></ol><br>  Initialization of the camera in our application will be extremely simple and taken from the standard Swarp SDK example "OgreSimpleSceneExample": <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//    var camera = CameraManager.Instance.GetFirstWorkedCamera(); if (camera == null) { MessageBox.Show(Resources.CameraNotFoundString, Resources.WarningString, MessageBoxButtons.OK, MessageBoxIcon.Warning); return; } // 64048030FPS  ,      var displayParameters = new DisplayParameters(30, new Size(640, 480)); camera.DisplayParameters = camera.IsSupportedDisplayParameters(displayParameters) ? displayParameters : camera.GetSupportedDisplayParameters()[0];</span></span></code> </pre><br>  The tracker deserves special attention. <br>  Here I initialize the tracker and load the markers used: <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//    , //     - 4 var tracker = new SquareMarkerTracker(4); //   _ninjaTrackable = new SquareMarker("Ninja Marker", "Trackable\\1.trackable"); var animationAttackTrackable = new SquareMarker("Attack3", "Trackable\\5.trackable"); var animationCrouchTrackable = new SquareMarker("Crouch", "Trackable\\6.trackable"); var animationBackflipTrackable = new SquareMarker("Backflip", "Trackable\\7.trackable"); _animationTrackables.Add(animationCrouchTrackable); _animationTrackables.Add(animationBackflipTrackable); _animationTrackables.Add(animationAttackTrackable); //     tracker.TrackableObjects.Add(_ninjaTrackable); tracker.TrackableObjects.AddRange(_animationTrackables);</span></span></code> </pre><br>  Note that the <i>SquareMarker</i> constructor accepts two parameters as input: the name of the marker and the path to the file.  In fact, there are 2 more overloads there, but we will not need them now.  I call each animation marker by the name of its associated animation.  Looking ahead, I will say that I do this in order to load the animation by the name of the missing marker. <br><br>  And now the renderer initialization: <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// ,       var ogreSimpleSceneForm = new Form { Size = new Size(640, 480), Text = Resources.SwarpSDKExampleString, }; //  var renderer = new Ogre3DRenderSystem(ogreSimpleSceneForm.Handle, "OgreConfig\\plugins.cfg", "OgreConfig\\ogre.cfg", "OgreConfig\\ogre.log") { SizeMode = SizeMode.Autosize }; //     renderer.LoadResources("OgreConfig\\resources.cfg"); // .  . var ninjaScene = new Ogre3DScene(renderer.Root, "Ninja Scene"); renderer.Scenes.Add(ninjaScene); LoadScene(ninjaScene.SceneManager);</span></span></code> </pre><br>  Everything seems to be clear, but at the very end, the <i>LoadScene ()</i> method <i>hid</i> .  Its task is to load the model, add it to the scene, stretch the texture and start the <i>Idle</i> animation: <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadScene</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SceneManager sceneManager</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  ,     . var ninjaNode = sceneManager.RootSceneNode.CreateChildSceneNode("NinjaNode"); //    (   ). var ninjaEntity = sceneManager.CreateEntity("Ninja", "ninja.mesh"); _animationState = ninjaEntity.GetAnimationState("Idle1"); _animationState.Loop = true; _animationState.Enabled = true; //    MaterialPtr material = MaterialManager.Singleton.Create("NinjaMaterial", ResourceGroupManager.DEFAULT_RESOURCE_GROUP_NAME); material.GetTechnique(0).GetPass(0).CreateTextureUnitState("nskingr.jpg"); material.GetTechnique(0).GetPass(0).SetSceneBlending(SceneBlendType.SBT_TRANSPARENT_ALPHA); material.GetTechnique(0).GetPass(0).DepthCheckEnabled = true; material.GetTechnique(0).GetPass(0).DepthWriteEnabled = true; material.GetTechnique(0).GetPass(0).LightingEnabled = false; ninjaEntity.SetMaterial(material); //    3 ,     ninjaNode.Scale(3f,3f,3f); ninjaNode.AttachObject(ninjaEntity); ninjaNode.SetVisible(true); }</span></span></code> </pre><br>  Now everything is initialized. <br><br><h5>  The main cycle of the program </h5><br><br>  Now is the time to launch the camera, launch the Augmented Reality Manager and enjoy the process.  The question arises - ‚Äúhow?‚Äù.  Those who carefully read the first article probably already know the answer: it‚Äôs not for nothing that we have the <b>_arManager</b> field and the variable <b>camera</b> . <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//    . _arManager = new AugmentedRealityManager(camera, tracker, renderer); //  . camera.Start(); //    . _arManager.Start(); ogreSimpleSceneForm.Show(); while (ogreSimpleSceneForm.Created) { //         , UpdateScenes(ninjaScene.SceneManager); //   . // ,       , //      . _arManager.Renderer.RenderFrame(); //      . Application.DoEvents(); } //       . _arManager.Dispose(); renderer.Dispose(); camera.Dispose();</span></span></code> </pre><br>  In this part of the code, markers are detected, the appropriate animation is activated, and the frame is drawn while the rendering form exists.  It seems also no problem.  Moving on to the ‚Äúheart‚Äù of the program: the <i>UpdateScenes</i> method. <br><br>  Here, too, nothing complicated.  The main idea is to receive a list of the found markers from the tracker on each call, and then, based on this list, start the corresponding animation.  What, in fact, is implemented in the code below: <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateScenes</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SceneManager ninjaSceneManager</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tracker <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _arManager.Trackers) { <span class="hljs-comment"><span class="hljs-comment">//     , //     ,       . var foundTrackableObjects = new List&lt;ITrackable&gt;(tracker.LastDetectedObjects); //      . foreach (var scene in _arManager.Renderer.Scenes) { //       ,   . if (foundTrackableObjects.Contains(_ninjaTrackable)) { //    ,    . scene.Visible = true; //    . var trackablePose = tracker.GetPose(_ninjaTrackable); //       . scene.OrientScene(trackablePose); //   (  =)) var ninjaEntity = ninjaSceneManager.GetEntity("Ninja"); //   var newAnimationState = ninjaEntity.GetAnimationState(SelectAnimation(foundTrackableObjects, _animationTrackables)); //   ,    if (newAnimationState.AnimationName != _animationState.AnimationName) { _animationState.Enabled = false; _animationState = newAnimationState; _animationState.Loop = true; _animationState.Enabled = true; } //  ,        _animationState.AddTime(_animTime); } else { scene.Visible = false; } } } } private static string SelectAnimation(ICollection&lt;ITrackable&gt; found, IEnumerable&lt;ITrackable&gt; target) { foreach (var trackable in target.Where(trackable =&gt; !found.Contains(trackable))) { return trackable.Name; } return "Idle1"; }</span></span></code> </pre><br>  Pay attention to the <i>SelectAnimation</i> method.  It has 2 parameters: the list of found markers and the list of registered animation markers.  This method returns the name of the first animation marker not found.  In the case when all animation markers are present, it returns ‚ÄúIdle1‚Äù string.  That is why I called the markers the name of the associated animation. <br><br>  <b>Reef:</b> pay attention to this piece of code: <br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//   var newAnimationState = ninjaEntity.GetAnimationState(SelectAnimation(foundTrackableObjects, _animationTrackables)); //   ,    if (newAnimationState.AnimationName != _animationState.AnimationName) { _animationState.Enabled = false; _animationState = newAnimationState; _animationState.Loop = true; _animationState.Enabled = true; }</span></span></code> </pre><br>  If you change the animation, you must disable the previous animation, otherwise it will not work correctly.  I spent a lot of time trying to understand what the joint was. <br><br>  Well, it's time to see what we got? <br><br><h4>  results </h4><br>  Below is a video that I recorded.  It seems to me that it is more eloquent than any text will show what we did. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/HkVsacuVmR8%3Ffeature%3Doembed&amp;xid=25657,15700019,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhiA7-uIfu_wQ-K3MPvzueoijF9VYQ" frameborder="0" allowfullscreen=""></iframe><br>  Pretty funny.  By the way, Swarp detects a marker, even if it is partially blocked. <br><br><h4>  Links </h4><br>  Sources: <a href="">HabrDemo2.rar</a> <br>  Developer site: <a href="http://sectar.com/">www.sectar.com</a> <br>  Download link SDK: <a href="http://www.sectar.com/ru/component/ars/repository/swarp-sdk/swarp-sdk/install-pack">Swarp SDK</a> <br>  Managed Ogre: <a href="http://www.ogre3d.org/tikiwiki/MOGRE">Mogre wiki</a> <br><br>  <b>UPD</b> : By the way, just yesterday, Sectar announced a contest.  For participation, you can get a free key until August 31, and the winners are given a free development license for six months and a year.  Read more: <a href="http://sectar.com/ru/challenge">competition</a> . </div><p>Source: <a href="https://habr.com/ru/post/146604/">https://habr.com/ru/post/146604/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146596/index.html">C11 corrects errors C99</a></li>
<li><a href="../146597/index.html">Sypex Geo - quick city identification by IP</a></li>
<li><a href="../146598/index.html">VK :: App - a module for creating client applications in vk.com</a></li>
<li><a href="../146601/index.html">How we develop programs for Android in Parcsis</a></li>
<li><a href="../146603/index.html">Multimedia center at Arduino UNO</a></li>
<li><a href="../146605/index.html">OPEN DAYS INGRIA: ‚ÄúThe secrets of successful entrepreneurship‚Äù</a></li>
<li><a href="../146606/index.html">Runetology (153): Head of Groupon Russia Dmitry Druzhinin</a></li>
<li><a href="../146607/index.html">Skype is available in Windows Update.</a></li>
<li><a href="../146608/index.html">Empirical analysis of hardware failures on a million PCs</a></li>
<li><a href="../146609/index.html">Innovation KYOCERA (Part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>