<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A little about Bash and related sciences. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you actively use Linux for administrator tasks, then you probably look in from time to time to the console (or live in it). Despite the active oust...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A little about Bash and related sciences. Part 1</h1><div class="post__text post__text-html js-mediator-article">  If you actively use Linux for administrator tasks, then you probably look in from time to time to the console (or live in it).  Despite the active ousting of the text interface by the graphical one, it‚Äôs still intuitive to poke checkmarks and press buttons, which gave rise to a whole generation of enikeyschikov, the console was, is and will be an effective means of communicating with the computer.  This article is intended for those who are already familiar with <strong>Bash (Bourne-again Shell)</strong> , the most popular implementation of the command shell.  This terminal has been used by default in almost every Linux distribution for many years, so novices do not even realize that there are other shells.  Bash is permeated with the wisdom of our UNIX ancestors and is strongly recommended for mastering.  Now you will see that the console is useful not only for commands like ‚Äúsudo /etc/rc.d/network restart‚Äù :) <a name="habracut"></a><br><br><h4>  Aliases </h4><br>  Three-story teams look very cool, but typing them every time is tiring.  So Bash allows you to create short arbitrary aliases for any set of commands.  For example, you can create a command-alias "la", which will run "ls -a". <br><br> <code>alias la='ls -a'</code> <br> <br>  And so that when you restart your new settings are not lost, write down the aliases in the file <strong>~ / .bash_aliases</strong> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Conditional statements </h4><br>  Everyone who knows at least the basics of programming is familiar with the concept of conditional operators such as <strong>if then else</strong> .  Although bash is not a programming language, it allows the use of such operators, which is incredibly convenient and allows you to avoid using languages ‚Äã‚Äãlike Perl or Python in simple tasks.  For example: <br><br> <code>if uname -a | grep "GNU/Linux" &gt; /dev/null; then echo "   Linux"; fi</code> <br> <br>  It works as follows: first, the ‚Äúuname -a‚Äù command is executed, which receives information about your system.  The information obtained is sifted through the grep filter, which looks for the GNU / Linux string in it.  The output is sent to ‚Äúdev / null‚Äù (Linux black hole), because we are interested in the fact of the presence of a string, and not its output to the screen.  <em>If</em> , <em>then</em> and <em>fi</em> , as you may have guessed, is the conditional operator Bash.  ‚ÄúIf‚Äù checks the condition, ‚Äúthen‚Äù describes an action that matches the condition, and ‚Äúfi‚Äù simply means the end of the logical structure.  The condition can be of any complexity. <br><br>  Let's look at a more useful example and check whether Firefox is running somewhere in the system.  To do this, use the ‚Äúps aux‚Äù command, and redirect the output to the grep filter.  Grep itself is a program, so it is in the process list.  Since ‚Äúfirefox‚Äù is contained in ‚Äúgrep firefox‚Äù, it turns out that Firefox is supposedly in the processes, although we just started searching for this line.  To get around the problem, use grep twice to filter yourself :) Run it with the <strong>-v option</strong> to invert the condition: <br><br> <code>if ps aux | grep firefox | grep -v grep &gt; /dev/null; then echo "Firefox "; fi</code> <br> <br>  Constantly recruiting such a large team is inconvenient, so we‚Äôll make a short alias out of it: <br><br> <code>alias isff='if ps aux | grep firefox | grep -v grep &gt; /dev/null; then echo "Firefox "; fi'</code> <br> <br>  Now for verification you just need to execute the <strong>isff</strong> command. <br><br><h4>  Cycles </h4><br>  The true power of Bash is not even in conditional statements, but in cycles.  Cycles are used to repeat an operation several times.  Consider an example: <br><br> <code>while (true); do sleep 1; date; done</code> <br> <br>  The command every second displays the date and time on the screen until you press Ctrl + C.  But this is somehow stupid, let's do something more useful. <br><br>  How, for example, unpack several tar.bz2 archives with one command?  And so: with the command "ls" we get a list of bz2-files in the directory and with the help of a cycle we process each file separately.  Of course, in automatic mode. <br><br> <code>for i in `ls *.tar.bz2`; do tar xjf "$i"; done</code> <br> <br>  Pay attention to the reverse apostrophe symbol (it is located on the keyboard to the left of the number 1).  This is an operator that substitutes the result of the ‚Äúls * .tar.bz2‚Äù command at the appropriate place in the loop. <br><br><h4>  Underestimated grep </h4><br>  Grep is usually used for solving moronic tasks, such as: <br><br> <code>somecommand | grep "fuuu"</code> <br> <br>  That is, for coarse filtering of a string of information (sounds like light amplification by stimulated emission of radiation).  In general, the grep command has a huge number of parameters, but here are the most basic ones and they should be remembered: <br><br><blockquote>  <strong>-c</strong> Count the number of occurrences of the search string. <br>  <strong>-i</strong> Search is not case sensitive. <br>  <strong>-l</strong> Displays the names of the matched files (this is a lowercase L). <br>  <strong>-n</strong> Displays the number of the corresponding query string. <br>  <strong>-r</strong> Performs a recursive directory search. <br>  <strong>-v</strong> Inverts the search condition (strings that do not contain the search target). </blockquote><br><br>  Parameters can be combined, and grep can be sent to itself.  For example, if you need to count the number of files that contain the word "paul" (or "PAUL", "PaUl", etc.), except for those that have the extension .txt, you should do something like this: <br><br> <code>grep -ilr paul * | grep -cv "\.txt$"</code> <br> <br>  Here we use the most important grep properties.  The combination of the <strong>-ilr</strong> parameters means that the search is performed for files of the words ‚ÄúPAUL‚Äù, ‚ÄúPaUl‚Äù, etc., the search is recursive in your file system, starting from the current directory and returns the names of the matching files.  All this arrives at another instance of grep, which will be executed with the <strong>-cv</strong> parameters, which, in turn, include a counting and searching mode for files that do not correspond to the regular expression "\ .txt $".  The backslash here escapes the point, without it we would get a special character.  A dollar sign means that .txt must be at the end of the file name.  That is, "fuuu.txt.boo" will not match the expression. <br><br><h4>  Not obvious find </h4><br>  The find command does not obey the laws of common sense.  That is, do not think that you can use it in the form of "find &lt;needle&gt; &lt;stack_sen&gt;."  In contrast, find works like a filter. <br><br> <code>find .</code> <br> <br>  A dot at the end means that a list of all files in the current directory will be returned.  But the "ls -a" command does, in principle, the same thing.  Therefore, we complicate the task.  Find the files in the directory with the name ‚Äúarr‚Äù. <br><br> <code>find . -name "*arr*"</code> <br> <br>  And you can add the parameter "-size" and find only those files that are larger than 1 megabyte. <br><br> <code>find . -name "*bar*" -size +1M</code> <br> <br>  The "-user" parameter returns files belonging to the specified user.  For example: <br><br> <code>find . -name "*bar*" -user veles</code> <br> <br>  This is also useful with the "-not" parameter, which, you guessed it, inverts the search: <br><br> <code>#  ,  myfile.txt  ,   veles <br> find . -not -name "myfile.txt" -not -user veles</code> <br> <br>  Another cool filter is "-newer".  It returns all files that are newer than the specified file.  This is very convenient for backup scripts: when you make a copy, just specify an arbitrary file, and it will serve as a timestamp that can be used in the ‚Äúfind -newer‚Äù command.  This will give you a list of all the files that have changed since the creation of this file. <br><br> <code>find . -newer /path/to/myfile</code> <br> <br>  For now enough.  Of course, tons of parts are missed and remain for you to study on your own.  ‚ÄúMana‚Äù has not been canceled yet, and the purpose of this article is to draw your attention to the great and mighty UNIX way. <br><br>  Next time we will get acquainted with multitasking management (have you forgotten that the Linux console is multitasking?), And also make friends with the <strong>cron</strong> scheduler, which can be your favorite means of automating routine work. <br><br>  <i>PS Unicsoids with the experience, most likely, for a long time all know it.</i>  <i>But this article is written more for good appetite.</i> </div><p>Source: <a href="https://habr.com/ru/post/89468/">https://habr.com/ru/post/89468/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../89458/index.html">Is VirtualBox suitable for organizing VDS hosting on an industrial scale?</a></li>
<li><a href="../89461/index.html">Technical "support" from MTS continues to delight</a></li>
<li><a href="../89463/index.html">iTunes, iPad, eBooks & ePub</a></li>
<li><a href="../89465/index.html">How to quickly install and start experimenting with Cassandra. Part 2</a></li>
<li><a href="../89467/index.html">Competition for beginners programmers on small basic</a></li>
<li><a href="../89470/index.html">3.5 GHz Wimax already in Minsk from Beltelecom</a></li>
<li><a href="../89472/index.html">Creative Future 2010 Program Announced</a></li>
<li><a href="../89473/index.html">SSH FTP (SFTP) instead / instead of FTP</a></li>
<li><a href="../89475/index.html">Information security measures. Offline or online?</a></li>
<li><a href="../89476/index.html">Indian code: web design</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>