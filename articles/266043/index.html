<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The ability to restore physical machines from backups using Veeam Endpoint Backup FREE</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚ÄúHow many times have they told the world‚Äù that backing up as an end in itself does not make practical sense - but it does, of course, if it is possibl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The ability to restore physical machines from backups using Veeam Endpoint Backup FREE</h1><div class="post__text post__text-html js-mediator-article">  ‚ÄúHow many times have they told the world‚Äù that backing up as an end in itself does not make practical sense - but it does, of course, if it is possible to recover from a backup quickly, correctly and easily.  Therefore, the theme of my post today, in continuation of the <a href="http://habrahabr.ru/company/veeam/blog/261481/">previous one</a> , will be the recovery of a physical machine from a backup copy created using Veeam Endpoint Backup FREE. <br>  As you have probably already suggested, the restore options are closely related to the backup settings: it goes without saying that restoring the machine as a whole will not work if, say, only user folders have been backed up. <br>  Consider these options in more detail, for which welcome under cat. <br><br><img src="https://habrastorage.org/files/3a4/d85/676/3a4d8567656c4b3194cdf5fd46be6400.png"><br><br><a name="habracut"></a><br><h1>  Restore individual files </h1><br>  This feature can be used regardless of which backup mode has been applied.  It is gratifying that in order to restore a couple of files, you don‚Äôt have to lift the entire machine from the backup.  (Something reminds me of it ... as I think, all Veeam Backup &amp; Replication users who have used it to restore individual files.) <br>  So, how can you start file recovery: <br><ul><li>  Go to the <b>Start</b> menu, select <b>Veeam&gt; Tools&gt; File Level Restore</b> and launch it. </li><li>  In the system tray, we find the icon of our application, click on it with the right button and select the <b>Restore - Individual files</b> command. <br>  Both of these methods will take us to the master's step, dedicated to the choice of a restore point. </li></ul><br><img src="https://habrastorage.org/files/6e7/bcf/ab0/6e7bcfab012045b89e9d12893fc07928.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Note:</i> If necessary, you can go to the previous step of <b>Backup Location</b> and indicate there where the backup is located.  This is convenient, for example, if the required file is located in the backup of another machine. <br>  You can go another way: open the control panel of the <b>Veeam Endpoint Backup Control Panel</b> and select the desired backup in the diagram, where all of them are presented graphically in the form of rectangles.  Having studied the information about the selected backup and making sure that it is from it we want to recover, click on the <b>Restore files</b> button. <br><br><img src="https://habrastorage.org/files/e05/269/b68/e05269b686d548c29c64735f6dfb89a4.png"><br><h3>  What happens next? </h3><br>  After you clicked <b>Restore files</b> (or went through the wizard steps and clicked <b>Open</b> ), the backup file will be mounted on the file system of your currently running machine, in the <i>C: \ VeeamFLR folder</i> , and you can view the contents of the backup using a browser Veeam Backup Browser (or Windows browser). <br><br><img src="https://habrastorage.org/files/ec2/661/2f1/ec26612f135e4ffc95b0dd5ce2707db7.png"><br><br>  The Veeam Backup Browser supports the following options when restoring: <br><ul><li>  <b>Overwrite</b> - the file will be restored to its original location;  if that file is already there, it will be overwritten by the file from the backup. </li><li>  <b>Keep</b> - the file will be restored to its original location with the prefix <i>Restored - the</i> existing file in the original location will not be overwritten. </li><li>  <b>Copy To</b> - the file can be copied to another location, in addition, you can specify whether it is necessary to save the rights settings (checkbox <b>Preserve permissions and ownership</b> ). </li></ul><br>  <i>Useful:</i> You can choose to restore several files / folders at once by pressing CTRL + SHIFT. <br><br><h1>  Volume Recovery </h1><br>  Immediately I draw your attention to the fact that such a recovery will be possible only if during the backup you selected the option <b>Entire PC</b> (backup of the whole machine) or <b>Volume Level Backup</b> (backup of the volume). <br>  Obviously, the recovery will be the entire volume. <br>  To start the process, there are similar methods: select <b>Veeam&gt; Volume Restore</b> from the <b>Start</b> menu, or right-click on the tray icon and select <b>Restore - Entire Volumes</b> , or open the application interface, select the desired backup and click <b>Restore volumes</b> . <br><br><img src="https://habrastorage.org/files/b45/d6e/53a/b45d6e53aca64b40b7e5283162b5ed01.png"><br><br>  Like a file, a volume can be restored to its original or new location.  In the first case, the original volume will be overwritten.  In the second case, you can place the volume either in the free space of the disk, or in the place of existing volumes, replacing them (ie, the data will be overwritten taken from the backup). <br>  I draw your attention to a number of limitations to restore the volume that will occur during recovery without using Veeam Recovery Media: <br><ul><li>  The system volume cannot be restored to its original location. </li><li>  You cannot restore a volume to another one that contains the paging file. </li><li>  You cannot restore a volume to another one that contains the backup file from which the recovery occurs. </li></ul><br>  These limitations can be circumvented by using recovery from the previously created bootable media Veeam Recovery Media (which was discussed <a href="http://habrahabr.ru/company/veeam/blog/261481/">here</a> ) and running the bare metal recovery wizard Veeam Bare Metal Recovery to restore the volume (more on this later).  The steps of the wizard are quite simple;  Depending on the location of the backup, you choose a remote storage system or Veeam Backup &amp; Replication server and get the opportunity to map the disk there.  Select the volumes you want to restore - by default, they will be restored to their original location (to specify another, click on <b>Customize disk mapping</b> , then specify where the volumes should be restored). <br><br><img src="https://habrastorage.org/files/022/72a/31f/02272a31fc844ca5ae42c58001276f52.png"><br><br>  <i>Important!</i>  If you specify a location manually, be careful not to erase existing volumes.  (Actually, the data is overwritten during the recovery, so if you change your mind about mapping at this stage, just click <b>Cancel</b> or close the wizard window so that nothing happens by chance.) <br>  The following options are available for manual disk mapping: <br><ul><li>  <b>Apply Backup Layout</b> - mark up as in backup;  The disk will be partitioned in the same way as it was when the backup was created. </li><li>  <b>Apply Disk Layout</b> - mark up as a disk;  the current layout of the other disk (which you specify) will be used. </li><li>  <b>Erase</b> - erase;  the current disk layout settings will be deleted. </li></ul><br>  Then you can proceed to recovery. <br><br><h1>  Working with Veeam Recovery Media </h1><br>  As mentioned above, with the help of the previously created bootable media, you can bypass some limitations when recovering the volume.  But, of course, its purpose is not only in this, but in ensuring the restoration of your machine from the backup copy stored on it. <br>  Let me remind you that a specially designed Create Recovery Media is used to create such a media.  Depending on what type of media you choose, you may need to change the boot priority of the OS, specifying in the appropriate BIOS settings that the boot should be performed from this media.  If everything is done correctly, then after rebooting the machine (before the OS starts), you will be prompted to press any key to boot from Veeam Recovery Media. <br>  Now let's see what options Veeam Endpoint Recovery offers us in the window that appears. <br><br><img src="https://habrastorage.org/files/2aa/9f9/4d0/2aa9f94d07014085990af3ad5781a292.png"><br><br><h3>  Tools </h3><br>  Let's start in the reverse order, I mean, with the <b>Tools</b> option - what if you can still fix it without resorting to the radical method of ‚ÄúRestoration on bare iron‚Äù? <br>  Here is what we have here: <br><ul><li>  <b>Command Prompt</b> - well, that's obvious. </li><li>  <b>Reset Password</b> - a useful thing, allows you to set an empty local administrator instead of a forgotten password.  If the admin account has been deactivated, no problem - the utility can turn it back on to give you the opportunity to log in.  Of course, the password will need to be changed, and after you perform the necessary manipulations, return the account to its previous form (that is, deactivate it). <br>  <i>Important!</i>  This utility does not work on a domain controller. </li><li>  <b>Load driver</b> - to access a network storage system or a dedicated storage system that stores backup copies, you need the appropriate driver for the OS - exactly the same is required for working with Recovery Media.  If the option ‚Äú <b>Include hardware drivers from this computer‚Äù</b> was selected when creating the media, the drivers will be loaded automatically.  You can also use this utility to download additional drivers if necessary. </li><li>  <b>Memory diagnostics (Microsoft utility)</b> - checking the memory of your machine and diagnosing potential problems.  For more information, see <a href="http://technet.microsoft.com/en-us/magazine/2008.09.utilityspotlight.aspx">http://technet.microsoft.com/en-us/magazine/2008.09.utilityspotlight.aspx</a> </li><li>  <b>Startup repair (Microsoft utility)</b> - can help with fixing problems when starting Microsoft Windows (for example, missing or damaged system files or the boot sector).  For more information, see <a href="http://windows.microsoft.com/en-us/windows7/products/features/startup-repair">http://windows.microsoft.com/en-us/windows7/products/features/startup-repair</a> </li><li>  <b>Export Logs</b> - export of application logs to an external storage system;  It is highly recommended to have log files in case you contact Veeam Technical Support. </li></ul><br><br><h3>  Windows Recovery Environment </h3><br>  This environment is part of the Windows installation package.  If you have a Microsoft system image, you can use it to restore, using Veeam Recovery Media to launch it.  (Or you can run it in the usual way; see <a href="http://windows.microsoft.com/en-us/windows/restore-computer-from-system-image-backup">windows.microsoft.com/en-us/windows/restore-computer-from-system-image-backup#1TC=windows-7</a> for details.) <br><br><h3>  Bare metal recovery </h3><br>  After launching from our media, click on the Bare Metal Recovery icon and go through the steps of the wizard: <br><ul><li>  <b>Backup location</b> - specify the location of the backup - it can be local storage (including removable devices) or network storage.  It is likely that the wizard will recognize the backup files on the local device automatically.  If you selected a network storage, then you need to specify which network adapter to use for the connection (yes, it also connects via WiFi), and if necessary, specify the network settings.  Then enter the path to the shared folder or the IP address of the Veeam Backup &amp; Replication server. <br></li><li>  <b>Restore Point</b> - select the desired restore point.  This is usually the most recently created one, but you can choose any other. <br></li><li>  <b>Restore Mode</b> - we are determined with the recovery mode.  The <b>‚ÄúEntire computer‚Äù</b> and <b>‚ÄúSystem volume‚Äù</b> modes <b>(System volume)</b> do not require manual intervention and perform automatic recovery to the original location or to an empty disk.  Manual mode, as usual, is designed for advanced users - it allows you to manually perform mapping and transfer volumes from backup to an existing disk, which, on the one hand, requires certain skills and understanding of what is happening, and on the other - gives full control over volumes and their recovery. </li><li>  <b>Summary</b> - finally, once again we carefully check the settings and run the recovery process.  If necessary, Veeam Endpoint Backup FREE will re-allocate partitions and restore data from a backup. <br><br>  <i>Important!</i>  All data on these volumes and sections will be overwritten! <br></li></ul><br><h1>  A small lyrical digression about backup </h1><br>  Let's go back a bit (at the time of the backup) and talk about what backup is on demand and backup on a schedule, and also find out who the stand-alone full backup is. <br><br><h3>  Scheduled backup </h3><br>  It is performed automatically according to the schedule of the backup task, whose settings you specify in the Configure backup wizard: they can include a periodic start schedule and / or start triggers. <br><br><img src="https://habrastorage.org/files/936/fc5/5a8/936fc55a8daf4f7b912be47da9041335.png"><br><br>  During the first pass of the task, a full backup will be created, and at subsequent ones - increments;  created restore points will be stored and deleted in accordance with the specified retention period. <br>  Creation of backup copies will function as long as the selected storage location is operational.  As for the restarting (in case of a possible error during the execution of the task), the logic is as follows: after any failure, the task will try to restart every 10 minutes for the next 23 hours, and then stop doing this by giving an error message. <br>  The following files will be stored in the backup storage: <br><ul><li>  .VBM - metadata file that stores all the information about the backup chain </li><li> .Vbk - full backup file </li><li>  .VIB - increment file </li></ul><br><br><h3>  Backup on demand </h3><br>  Backup on demand is convenient, for example, when you need to install a new software or upgrade the system.  It is launched from the Veeam Endpoint Backup interface by clicking the <b>Backup Now</b> button. <br><br><img src="https://habrastorage.org/files/0d1/43e/edb/0d143eedb5a14cfd950573a25f5f2f4e.png"><br><br>  As a result, a new incremental backup is created in the backup chain (an exception is the first run, when a full backup is created as the beginning of the chain). <br>  Note that, unlike scheduled backup, such a backup will not restart in case of an error. <br><br><h3>  Separate full backup </h3><br>  It creates a full backup, but it will not be part of the chain and, accordingly, will not fall under the storage policy. <br>  To start creating such a backup, you need to right-click on the tray icon and select the command <b>Backup&gt; Standalone full backup</b> .  Such a process will also not restart in case of an error.  After completion, the backup file is saved to the same location as the chain, but into a separate subfolder.  In it, you will find .VBM and .VBK files - if necessary, you can recover from them (do not forget to transfer this folder with a separate backup if you shift folders with backup copies). <br><br><h1>  Integration with Veeam Backup &amp; Replication </h1><br>  Now let's see what the integration of Veeam Endpoint Backup FREE with Veeam Backup &amp; Replication gives us in terms of additional recovery options. <br><br><h3>  File recovery </h3><br>  From the Veeam Backup &amp; Replication console, it is very convenient to restore files and folders from our backup using the FLR mechanism (file-level restore, that is, file-level recovery), described in detail in the <a href="http://helpcenter.veeam.com/evaluation/backup/vsphere/ru/guest_os_files_windows.html">documentation</a> .  There is only one limitation - you cannot restore to the original location, but you can use the <b>Copy To</b> command in the Backup Browser and copy the necessary files to a new location. <br><br><h3>  Restore application objects using Veeam Explorers </h3><br>  If you back up an Active Directory, SharePoint, Exchange or SQL server using Veeam Endpoint Backup FREE, then you can restore the corresponding application objects from such a backup: just start file-level recovery from the Veeam Backup &amp; Replication console, and then from the Backup Browser browser - the corresponding Veeam Explorer tool. <br><br><img src="https://habrastorage.org/files/90b/268/872/90b2688728434c8e89f3fd6b6550f739.png"><br><br>  Learn more about how this is done, for example, <a href="http://helpcenter.veeam.com/backup/80/explorers/index.html%3Fvesql_manual_recovery_bu.html">here</a> . <br><br><h3>  Export Discs </h3><br>  Any disk from the backup created by Veeam Endpoint Backup can be exported to a VMDK, VHD or VHDX file using the Veeam Backup &amp; Replication console by choosing <b>Restore&gt; Endpoint&gt; Export disk contents as virtual disks</b> from the <b>Home</b> menu. <br><br><img src="https://habrastorage.org/files/1fc/011/8e7/1fc0118e715749ecb66c511c4dc49a0f.jpg"><br><br>  It should be understood that this will not be P2V recovery, so when you try to boot from such a disk in a virtual environment, errors may occur due to the presence of physical drivers.  However, there are more practical scenarios - for example, the disk attachment to the VM.  But here you need to remember a few points: <br><ul><li>  The VMDK disk can be restored to the storage (datastore) in a ‚Äúthin‚Äù format (thin provisioned), while recovery to the server will save the disk as a ‚Äúthick‚Äù (thick provisioned). </li><li>  VHD / VHDX drives are always restored as dynamic. </li></ul><br><h1>  Instead of conclusion </h1><br>  I recall that version 1.1 of the Veeam Endpoint Backup FREE solution was recently released, which supports Windows 10. The solution is available at <a href="http://www.veeam.com/ru/endpoint-backup-free-download.html">http://www.veeam.com/ru/endpoint-backup-free-download.html</a> . <br>  Product description can be found on the page <a href="http://www.veeam.com/ru/endpoint-backup-free.html">http://www.veeam.com/en/endpoint-backup-free.html</a> . <br>  Article on Habr√© with review of Veeam Endpoint Backup FREE solution: <a href="http://habrahabr.ru/company/veeam/blog/255729/">http://habrahabr.ru/company/veeam/blog/255729/</a> <br>  An article on Habr√© about backing up physical machines using Veeam Endpoint Backup FREE: <a href="http://habrahabr.ru/company/veeam/blog/261481/">http://habrahabr.ru/company/veeam/blog/261481/</a> </div><p>Source: <a href="https://habr.com/ru/post/266043/">https://habr.com/ru/post/266043/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266033/index.html">Reliable maintenance of MS SQL Server databases for employees</a></li>
<li><a href="../266035/index.html">The course "Basics of effective work with Wolfram technologies". Session 1: Wolfram Mathematica and Wolfram Cloud Review</a></li>
<li><a href="../266037/index.html">Ruby Go shared library connections</a></li>
<li><a href="../266039/index.html">Underground carders market. Translation of the book "KingPIN". Chapter 12. ‚ÄúFree Amex!‚Äù</a></li>
<li><a href="../266041/index.html">How to estimate the depth of the game mechanics. Part one</a></li>
<li><a href="../266045/index.html">Mobile application design patterns. Command processor</a></li>
<li><a href="../266047/index.html">Private mode and list of entered addresses in the new build Vivaldi 1.0.264.3</a></li>
<li><a href="../266051/index.html">RailsClub 2015: Interview with Timofey Tsvetkov</a></li>
<li><a href="../266053/index.html">How to become a partner Host-Tracker</a></li>
<li><a href="../266055/index.html">Techniques for using mask registers in the AVX512 code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>