<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GUI installer for Django 1.6.2 for Windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="0. Introduction 

 Good day, Habr! 
 It all started with the fact that I needed to make a GUI installer for Django under Windows . Without seeing any ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GUI installer for Django 1.6.2 for Windows</h1><div class="post__text post__text-html js-mediator-article"><h5>  0. Introduction </h5><br><br>  Good day, Habr! <br>  It all started with the fact that I needed to make a <a href="http://yadi.sk/d/2c2QD5ZaMXHQR">GUI installer for Django under Windows</a> .  Without seeing any article describing the creation of installers, I thought, "Why not?"  From the Django community on this issue, I was answered approximately as the habrauzer <a href="https://habrahabr.ru/users/ffriend/" class="user_link">ffriend did</a> .  Thanks to him for being constructive and open.  Details under the cut. <br><a name="habracut"></a><br>  Here is a letter I received from the Django community in response to <a href="http://habrahabr.ru/company/SECL_GROUP/blog/218921/">my fi</a> .  As a matter of fact, it was precisely because of this fi that I turned out to be in the minus in terms of reputation with a rating. <div class="spoiler">  <b class="spoiler_title">Text</b> <div class="spoiler_text">  Hi Ivan, <br><br>  Thanks for the suggestion. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The contact form you've used is for the DSF - we're the fund raising <br>  arm Django project. <br><br>  If you‚Äôd like it, you should direct <br>  a ticket on the django-developers mailing list <br>  Django's ticket tracker. <br><br>  Better still <br>  see, and provide those changes to the Django codebase. <br>  Windows or Cyrillic <br>  users, we can integrate those changes into the core product. <br><br>  Yours, <br>  Russ Magee% -) </div></div>  I must say how not to do it.  Do not try to use the limited edition of InstallShield, attached bonus to MSVS Pro 2013. <br>  Perhaps, in some simple cases, it fits more than, but in my case as much control as possible over the process was desirable, and when I opened InstallShield and began to disassemble it by bone, the latter disappointed me with its limitations. <br>  Fortunately, in this world there is <a href="http://nsis.sourceforge.net/Main_Page">NSIS</a> - NullSoft Install System, namely - a script generator of installers with eye-pleasing features: <div class="spoiler">  <b class="spoiler_title">View the list</b> <div class="spoiler_text"><ul><li>  ZLIB, BZIP2 and LZMA support (files can be compressed together or separately). </li><li>  Generation of uninstall programs. </li><li>  Customizable user interface: dialogs, fonts, backgrounds, icons, text, checkmarks, images, etc. </li><li>  Classic and modern wizard interfaces. </li><li>  Multi-language support in one installation.  Over 60 translations are available, but you can also create your own.  Unicode support allows even more languages ‚Äã‚Äãto be used. </li><li>  Per-page organization logic: you can add standard wizard pages or create your own. </li><li>  Tree to select installation components. </li><li>  Ability to define configurations: usually minimal, typical and complete installations, and it is also possible to create a custom configuration. </li><li>  CRC32 self check </li><li>  Low cost of compression, namely - 34 Kb with default parameters. </li><li>  The ability to display the license agreement RTF or TXT. </li><li>  Ability to identify the destination directory from the registry. </li><li>  Many plug-ins for creating custom dialogs, Internet connections, HTTP downloads, file modification, WinAPI calls, etc. </li><li>  Installers can be as much as 2 GB. </li><li>  Additional silent mode for automated installations. </li><li>  Preprocessor with support for certain characters, macros, conditional compilation, standard predefined. </li><li>  Coding with PHP and include elements (include user variables, stack, real flow control. </li></ul><br><br><h6>  Installers have their own virtual machines that allow the following </h6><br><ul><li>  Extract files with custom rewrite options. </li><li>  Copy files and directories, rename, delete, search. </li><li>  Plugin to call DLL. </li><li>  Registration DLL, ActiveX, deregistration. </li><li>  Execution shell with the possibility of waiting for the execution of operations. </li><li>  Creating a shortcut. </li><li>  Work with the registry. </li><li>  Reading and writing ini. </li><li>  Reading and writing a common text file. </li><li>  Flexible manipulations with integer and string values. </li><li>  Opening a window based on the name of the class or its name. </li><li>  User interface manipulation: font, text installation. </li><li>  Posting window. </li><li>  User interaction with message windows or pages. </li><li>  Branching, comparison and stuff in this spirit. </li><li>  The ability to control the situation in the event of errors. </li><li>  Reboot, including delete or rename on reboot. </li><li>  Commands behavior installer.  For example, "show", "hide", "expect". </li><li>  User functions in the script. </li><li>  Callback functions for user actions. </li></ul></div></div>  This list is taken from <a href="http://nsis.sourceforge.net/Docs/Chapter1.html">relatively complete documentation for sourceforge</a> , whereas the standard package contains only general information about the generator and its language, which is stated in the corresponding help file. <br>  To my surprise, sf did not have a link to the archive with this most comprehensive documentation.  I <a href="http://yadi.sk/d/GAt5QzXWMXKXc">corrected</a> this mistake by <a href="http://yadi.sk/d/GAt5QzXWMXKXc">myself</a> . <br>  At the same time, there is an <a href="http://nsis.sourceforge.net/Category:Tutorials">archive with a set of ‚Äúsimple guides‚Äù</a> for the implementation of specific features, which previously had to be downloaded via third-party file hosting by a third-party program.  <a href="http://yadi.sk/d/Qdqb3VEpMXK9Y">Fixed this bug</a> . <br>  There are a great many - sorry for the pun - the GUI generator generator generators ( <a href="http://hmne.sourceforge.net/">HM NIS Edit</a> turned out to be the best), but at the same time there is <a href="http://programming-motherfucker.com/">only one method of productive</a> language <a href="http://programming-motherfucker.com/">teaching</a> ... <br><br><h5>  1. So ... </h5><br><br>  The simplest code that does not require special explanation, for the first acquaintance with the general principles: <br><div class="spoiler">  <b class="spoiler_title">Become acquainted</b> <div class="spoiler_text"><blockquote><ol><li>  <font color="#666666"># define installer name</font> </li><li>  <font color="#000066">OutFile</font> <font color="#660066">"installer.exe"</font> </li><li></li><li>  <font color="#666666"># set desktop as install directory</font> </li><li>  <font color="#000066">InstallDir</font> <font color="#660000">$ DESKTOP</font> </li><li></li><li>  <font color="#666666"># default section start</font> </li><li>  <font color="#000066">Section</font> </li><li></li><li>  <font color="#666666"># define output path</font> </li><li>  <font color="#000099">SetOutPath</font> <font color="#660000">$ INSTDIR</font> </li><li></li><li>  <font color="#666666"># specify file to go in output path</font> </li><li>  <font color="#000099">File</font> test.txt </li><li></li><li>  <font color="#666666"># define uninstaller name</font> </li><li>  <font color="#000099">WriteUninstaller</font> <font color="#660000">$ INSTDIR</font> \ uninstaller.exe </li><li></li><li></li><li>  <font color="#666666"># -------</font> </li><li>  <font color="#666666"># default section end</font> </li><li>  <font color="#000066">SectionEnd</font> </li><li></li><li>  <font color="#666666"># create a section to define what the uninstaller does.</font> </li><li>  <font color="#666666"># the section will always be named "Uninstall"</font> </li><li>  <font color="#000066">Section</font> <font color="#660066">"Uninstall"</font> </li><li></li><li>  <font color="#666666"># Always delete uninstaller first</font> </li><li>  <font color="#000099">Delete</font> <font color="#660000">$ INSTDIR</font> \ uninstaller.exe </li><li></li><li>  <font color="#666666"># now delete installed file</font> </li><li>  <font color="#000099">Delete</font> <font color="#660000">$ INSTDIR</font> \ test.txt </li><li></li><li>  <font color="#000066">SectionEnd</font> </li></ol></blockquote></div></div>  Yes, I'm lazy, I used copy-paste <a href="">from here</a> , adapting it to fit my needs. <br>  By the way, the UFO had no nsi highlighting, so <a href="http://highlight.hohli.com/">highlight.hohli.com</a> was used, perhaps this information would be useful. <br>  I do not understand the intricacies of python, but judging by the setup.py file in Django-1.6.2 when installing, the work goes only and only with the paths in this or that system. <div class="spoiler">  <b class="spoiler_title">Django setup.py code</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> distutils.core <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> setup <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> distutils.sysconfig <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> get_python_lib <span class="hljs-comment"><span class="hljs-comment"># Warn if we are installing over top of an existing installation. This can # cause issues where files that were deleted from a more recent Django are # still present in site-packages. See #18115. overlay_warning = False if "install" in sys.argv: lib_paths = [get_python_lib()] if lib_paths[0].startswith("/usr/lib/"): # We have to try also with an explicit prefix of /usr/local in order to # catch Debian's custom user site-packages directory. lib_paths.append(get_python_lib(prefix="/usr/local")) for lib_path in lib_paths: existing_path = os.path.abspath(os.path.join(lib_path, "django")) if os.path.exists(existing_path): # We note the need for the warning here, but present it after the # command is run, so it's more likely to be seen. overlay_warning = True break def fullsplit(path, result=None): """ Split a pathname into components (the opposite of os.path.join) in a platform-neutral way. """ if result is None: result = [] head, tail = os.path.split(path) if head == '': return [tail] + result if head == path: return result return fullsplit(head, [tail] + result) EXCLUDE_FROM_PACKAGES = ['django.conf.project_template', 'django.conf.app_template', 'django.bin'] def is_package(package_name): for pkg in EXCLUDE_FROM_PACKAGES: if package_name.startswith(pkg): return False return True # Compile the list of packages available, because distutils doesn't have # an easy way to do this. packages, package_data = [], {} root_dir = os.path.dirname(__file__) if root_dir != '': os.chdir(root_dir) django_dir = 'django' for dirpath, dirnames, filenames in os.walk(django_dir): # Ignore PEP 3147 cache dirs and those whose names start with '.' dirnames[:] = [d for d in dirnames if not d.startswith('.') and d != '__pycache__'] parts = fullsplit(dirpath) package_name = '.'.join(parts) if '__init__.py' in filenames and is_package(package_name): packages.append(package_name) elif filenames: relative_path = [] while '.'.join(parts) not in packages: relative_path.append(parts.pop()) relative_path.reverse() path = os.path.join(*relative_path) package_files = package_data.setdefault('.'.join(parts), []) package_files.extend([os.path.join(path, f) for f in filenames]) # Dynamically calculate the version based on django.VERSION. version = __import__('django').get_version() setup( name='Django', version=version, url='http://www.djangoproject.com/', author='Django Software Foundation', author_email='foundation@djangoproject.com', description=('A high-level Python Web framework that encourages ' 'rapid development and clean, pragmatic design.'), license='BSD', packages=packages, package_data=package_data, scripts=['django/bin/django-admin.py'], classifiers=[ 'Development Status :: 5 - Production/Stable', 'Environment :: Web Environment', 'Framework :: Django', 'Intended Audience :: Developers', 'License :: OSI Approved :: BSD License', 'Operating System :: OS Independent', 'Programming Language :: Python', 'Programming Language :: Python :: 2', 'Programming Language :: Python :: 2.6', 'Programming Language :: Python :: 2.7', 'Programming Language :: Python :: 3', 'Programming Language :: Python :: 3.2', 'Programming Language :: Python :: 3.3', 'Topic :: Internet :: WWW/HTTP', 'Topic :: Internet :: WWW/HTTP :: Dynamic Content', 'Topic :: Internet :: WWW/HTTP :: WSGI', 'Topic :: Software Development :: Libraries :: Application Frameworks', 'Topic :: Software Development :: Libraries :: Python Modules', ], ) if overlay_warning: sys.stderr.write(""" ======== WARNING! ======== You have just installed Django over top of an existing installation, without removing it first. Because of this, your install may now include extraneous files from a previous version that have since been removed from Django. This is known to cause a variety of problems. You should manually remove the %(existing_path)s directory and re-install Django. """ % {"existing_path": existing_path})</span></span></code> </pre> </div></div>  I don‚Äôt understand python, but in general it‚Äôs clear that work with paths depending on the axis is going on, checking whether the installation is on top of the existing Django and setup () seems to contain information for the python package as a whole . <br>  In addition, the INSTALL file states: <br><blockquote>  AS AN ALTERNATIVE, django directory to Python's <br>  site-packages directory, which is located wherever your python installation <br>  lives.  Some places you might check are: <br><br>  /usr/lib/python2.7/site-packages (Unix, Python 2.7) <br>  /usr/lib/python2.6/site-packages (Unix, Python 2.6) <br>  C: \\ PYTHON \ site-packages (Windows) </blockquote><br>  However, it was precisely because I did not know the python that I chose a more kosher setup.py, because I do not know for sure what the absence of setup () would say.  That's what I got after adapting bigtest.nsi.  The comments highlighted places that are not intuitive, which had to tinker until everything went as it should. <div class="spoiler">  <b class="spoiler_title">Full installer script code</b> <div class="spoiler_text"><blockquote><ol><li>  <font color="#000066">! include</font> <font color="#660066">"Include \ LogicLib.nsh"</font> </li><li></li><li>  <font color="#000066">OutFile</font> <font color="#660066">"installer.exe"</font> </li><li>  <font color="#000066">Name</font> <font color="#660066">"Django 1.6.2"</font> </li><li>  <font color="#000066">Caption</font> <font color="#660066">"Django 1.6.2"</font> </li><li>  <font color="#000066">Icon</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Graphics \ Icons \ nsis1-install.ico"</font> </li><li>  <font color="#000066">CRCCheck</font> <font color="#ff6600">on</font> </li><li>  <font color="#000066">SilentInstall</font> <font color="#ff6600">normal</font> </li><li>  <font color="#000066">BGGradient</font> 000000 0000FF FFFFFF </li><li>  <font color="#000066">InstallColors</font> FF8080 000030 </li><li>  <font color="#000066">XPStyle</font> <font color="#ff6600">on</font> </li><li>  <font color="#000066">InstallDir</font> <font color="#660000">$ EXEDIR</font> <font color="#666666">/ * Provides a default installation to where the installer was saved * /</font> </li><li>  <font color="#000066">SetFont</font> <font color="#660066">"Tahoma"</font> <font>10</font> <font color="#666666">/ * I like this font and that's it * /</font> </li><li>  <font color="#003366">SetOverWrite</font> <font color="#ff6600">on</font> </li><li>  <font color="#666666"># -NonSectionInstructionsEnd-</font> </li><li>  <font color="#000066">Section</font> <font color="#660066">"BaseInstructions"</font> </li><li>  <font color="#003366">SetDatablockOptimize</font> <font color="#ff6600">on</font> </li><li>  <font color="#666666">/ * Without setting the output path for the files, the installer swore</font> </li><li>  <font color="#666666">the impossibility of recording already at run time,</font> </li><li>  <font color="#666666">although it seems that InstallDir is enough</font> </li><li>  <font color="#000099">SetOutPath</font> <font color="#660066">"$ INSTDIR \ *"</font> </li><li>  <font color="#003366">SetOverWrite</font> <font color="#ff6600">on</font> </li><li>  <font color="#000099">File</font> <font color="#ff6600">/ r</font> <font color="#660066">"C: \ ins \ Django-1.6.2 \ *"</font> <font color="#666666">/ * That folder in which I had Django.</font> </li><li>  <font color="#666666">This is how you can include the necessary files in the installer * /</font> </li><li>  <font color="#000066">SectionEnd</font> </li><li></li><li>  RequestExecutionLevel highest <font color="#666666">/ *</font> Out of <font color="#666666">harm's way ... * /</font> </li><li>  <font color="#000066">CheckBitmap</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Graphics \ Checks \ classic-cross.bmp"</font> </li><li>  <font color="#000066">LicenseText</font> <font color="#660066">"Django license"</font> </li><li>  <font color="#000066">LicenseData</font> <font color="#660066">"license.rtf"</font> <font color="#666666">/ * Got off ... laziness =) * /</font> </li><li></li><li>  <font color="#666666">/ * "How many languages ‚Äã‚Äãdo you know, so many times you are a man" =)</font> </li><li>  <font color="#666666">NSIDIR, as you can see, is the generator installation folder.</font> </li><li>  <font color="#666666">The whole language itself is remarkable intuitive * /</font> </li><li></li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ English.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ Dutch.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ French.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ German.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ Korean.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"Russian.nlf"</font> <font color="#666666">/ * Slightly corrected translation file into native * /</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ Spanish.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ Swedish.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ TradChinese.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ SimpChinese.nlf"</font> </li><li>  <font color="#000066">LoadLanguageFile</font> <font color="#660066">"$ {NSISDIR} \ Contrib \ Language files \ Slovak.nlf"</font> </li><li></li><li>  <font color="#666666">;</font>  <font color="#666666">Set name using the normal interface (Name command)</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_ENGLISH <font>}</font></font> <font color="#660066">"English"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_DUTCH <font>}</font></font> <font color="#660066">"Dutch"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_FRENCH <font>}</font></font> <font color="#660066">"French"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_GERMAN <font>}</font></font> <font color="#660066">"German"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_KOREAN <font>}</font></font> <font color="#660066">"Korean"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_RUSSIAN <font>}</font></font> <font color="#660066">"Russian"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_SPANISH <font>}</font></font> <font color="#660066">"Spanish"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_SWEDISH <font>}</font></font> <font color="#660066">"Swedish"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_TRADCHINESE <font>}</font></font> <font color="#660066">"Traditional Chinese"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_SIMPCHINESE <font>}</font></font> <font color="#660066">"Simplified Chinese"</font> </li><li>  <font color="#000066">LangString</font> <font color="#000066">Name</font> <font color="#660000">$ <font>{</font> LANG_SLOVAK <font>}</font></font> <font color="#660066">"Slovak"</font> </li><li></li><li>  <font color="#666666">;</font>  <font color="#666666">Directly change the inner lang strings (Same as ComponentText)</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_ENGLISH <font>}</font></font> <font color="#660066">"English component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_DUTCH <font>}</font></font> <font color="#660066">"Dutch component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_FRENCH <font>}</font></font> <font color="#660066">"French component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_GERMAN <font>}</font></font> <font color="#660066">"German component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_KOREAN <font>}</font></font> <font color="#660066">"Korean component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_RUSSIAN <font>}</font></font> <font color="#660066">"Russian component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_SPANISH <font>}</font></font> <font color="#660066">"Spanish component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_SWEDISH <font>}</font></font> <font color="#660066">"Swedish component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_TRADCHINESE <font>}</font></font> <font color="#660066">"Traditional Chinese component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_SIMPCHINESE <font>}</font></font> <font color="#660066">"Simplified Chinese component page"</font> </li><li>  <font color="#000066">LangString</font> ^ ComponentsText <font color="#660000">$ <font>{</font> LANG_SLOVAK <font>}</font></font> <font color="#660066">"Slovak component page"</font> </li><li></li><li>  <font color="#666666">;</font>  <font color="#666666">A LangString for the section name</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_ENGLISH <font>}</font></font> <font color="#660066">"English section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_DUTCH <font>}</font></font> <font color="#660066">"Dutch section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_FRENCH <font>}</font></font> <font color="#660066">"French section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_GERMAN <font>}</font></font> <font color="#660066">"German section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_KOREAN <font>}</font></font> <font color="#660066">"Korean section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_RUSSIAN <font>}</font></font> <font color="#660066">"Russian section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_SPANISH <font>}</font></font> <font color="#660066">"Spanish section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_SWEDISH <font>}</font></font> <font color="#660066">"Swedish section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_TRADCHINESE <font>}</font></font> <font color="#660066">"Trandional Chinese section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_SIMPCHINESE <font>}</font></font> <font color="#660066">"Simplified Chinese section # 1"</font> </li><li>  <font color="#000066">LangString</font> Sec1Name <font color="#660000">$ <font>{</font> LANG_SLOVAK <font>}</font></font> <font color="#660066">"Slovak section # 1"</font> </li><li></li><li></li><li></li><li>  <font color="#666666">; --------------------------------</font> </li><li></li><li>  <font color="#000066">Function</font> <font color="#006600">.onInit</font> </li><li></li><li>  <font color="#666666">; Language selection dialog</font> </li><li></li><li>  <font color="#000099">Push</font> <font color="#660066">""</font> </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_ENGLISH <font>}</font></font> </li><li>  <font color="#000099">Push</font> English </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_DUTCH <font>}</font></font> </li><li>  <font color="#000099">Push</font> dutch </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_FRENCH <font>}</font></font> </li><li>  <font color="#000099">Push</font> french </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_GERMAN <font>}</font></font> </li><li>  <font color="#000099">Push</font> german </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_KOREAN <font>}</font></font> </li><li>  <font color="#000099">Push</font> korean </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_RUSSIAN <font>}</font></font> </li><li>  <font color="#000099">Push</font> russian </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_SPANISH <font>}</font></font> </li><li>  <font color="#000099">Push</font> spanish </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_SWEDISH <font>}</font></font> </li><li>  <font color="#000099">Push</font> swedish </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_TRADCHINESE <font>}</font></font> </li><li>  <font color="#000099">Push</font> <font color="#660066">"Traditional Chinese"</font> </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_SIMPCHINESE <font>}</font></font> </li><li>  <font color="#000099">Push</font> <font color="#660066">"Simplified Chinese"</font> </li><li>  <font color="#000099">Push</font> <font color="#660000">$ <font>{</font> LANG_SLOVAK <font>}</font></font> </li><li>  <font color="#000099">Push</font> Slovak </li><li>  <font color="#000099">Push</font> A <font color="#666666">;</font>  <font color="#666666">A means auto count languages</font> </li><li>  <font color="#666666">;</font>  <font color="#666666">push button (push "") must remain</font> </li><li>  <font color="#000099">LangDLL</font> :: <font color="#003399">LangDialog</font> <font color="#660066">"Installer Language"</font> <font color="#660066">"Please select the language of the installer"</font> </li><li></li><li>  <font color="#000099">Pop</font> <font color="#660000">$ LANGUAGE</font> </li><li>  <font color="#000099">StrCmp</font> <font color="#660000">$ LANGUAGE</font> <font color="#660066">"cancel"</font> <font>0</font> + <font>2</font> </li><li>  <font color="#000099">Abort</font> </li><li>  <font color="#000066">FunctionEnd</font> </li><li></li><li>  <font color="#666666">; --------------------------------</font> </li><li></li><li>  <font color="#666666">; --------------------------------</font> </li><li></li><li>  <font color="#000066">Page</font> <font color="#ff6600">license</font> </li><li>  <font color="#000066">Page</font> <font color="#ff6600">directory</font> </li><li>  <font color="#000066">Page</font> <font color="#ff6600">instfiles</font> </li><li></li><li>  <font color="#000066">AutoCloseWindow</font> <font color="#ff6600">false</font> </li><li>  <font color="#000066">ShowInstDetails</font> <font color="#ff6600">show</font> </li><li></li><li>  <font color="#000066">Function</font> <font color="#660066">"FinalStage"</font> </li><li>  <font color="#000099">MessageBox</font> <font color="#ff6600">MB_OK</font> <font color="#660066">"Close window and see on your screen ... Thanks!"</font> </li><li>  <font color="#000066">FunctionEnd</font> </li><li></li><li>  <font color="#666666">/ * Pay attention to the wrapper.</font>  <font color="#666666">It would seem that should</font> </li><li>  <font color="#666666">to work without a section, just a call and we finished it, but no ... :( * /</font> </li><li>  <font color="#000066">Section</font> <font color="#660066">"Final"</font> </li><li>  <font color="#000099">Call</font> <font color="#660066">"FinalStage"</font> </li><li>  <font color="#000066">SectionEnd</font> </li><li></li><li>  <font color="#000066">Function</font> <font color="#006600">.onGUIEnd</font> <font color="#666666">/ * There are other callbacks * /</font> </li><li>  <font color="#000099">ClearErrors</font> </li><li>  <font color="#666666">/ * With a clean install, you could do without</font> </li><li>  <font color="#666666">by copying django to site-packages, however using setup.py</font> </li><li>  <font color="#666666">It seemed to me more kosher, considering the meta-information.</font>  <font color="#666666">I don't know python</font> </li><li>  <font color="#666666">so I don‚Äôt know where and how the absence of the setup () call comes around.</font>  <font color="#666666">* /</font> </li><li>  <font color="#000099">FileOpen</font> <font color="#660000">$ 0</font> <font color="#660000">$ INSTDIR</font> \ installer.bat w </li><li>  <font color="#000099">IfErrors</font> done </li><li>  <font color="#000099">FileWrite</font> <font color="#660000">$ 0</font> <font color="#660066">"cd $ INSTDIR $ \ npython setup.py install"</font> <font color="#666666">/ * I don‚Äôt always like Abracadabra with registers * /</font> </li><li>  <font color="#666666">/ * It should be noted here that adding something like del / Q $ INSTDIR \ installer.bat to a batch file does not lead to good.</font> </li><li>  <font color="#666666">I would be grateful if they tell me why this is happening, because it is not nuggly and it seems intuitively</font> </li><li>  <font color="#666666">that if the command is launched, the presence or absence of the file with the command does not play a role, but not the same ...</font> </li><li>  <font color="#000099">FileClose</font> <font color="#660000">$ 0</font> </li><li>  done: </li><li>  <font color="#000099">Exec</font> <font color="#660066">"$ INSTDIR \ installer.bat"</font> </li><li>  <font color="#000066">FunctionEnd</font> </li><li></li><li>  <font color="#666666">/ * It would be possible to make a page with the choice of the python folder, in case the python is not registered in the PATH -</font> </li><li>  <font color="#666666">that would be perfect, but I'm not a perfectionist maniac and I‚Äôll do it only if the installer</font> </li><li>  <font color="#666666">Someone will like it and I will be indicated on the defect.</font>  <font color="#666666">* /</font> </li></ol></blockquote></div></div>  And below - the screen of one of the results when running around the generator. <img src="https://habrastorage.org/getpro/habr/post_images/1d2/f0d/761/1d2f0d7611ab22a9235bf56825b94bf0.jpg"><br><br>  It remains only to reach out to the Django community again and make trivialities such as specifying the version, file name, etc ... <br>  I hope that this post has appeared to someone useful and rather informative. </div><p>Source: <a href="https://habr.com/ru/post/219285/">https://habr.com/ru/post/219285/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219271/index.html">Idea Camp: the evolution of communications</a></li>
<li><a href="../219273/index.html">Do you love them so much to see what's inside them?</a></li>
<li><a href="../219279/index.html">Visual control of the JavaScript execution flow using COLT</a></li>
<li><a href="../219281/index.html">Quickly create a project from a template in Sublime</a></li>
<li><a href="../219283/index.html">Save time when arranging livecoding windows (macos)</a></li>
<li><a href="../219287/index.html">Meet the LenovoEMC PX4-300r NAS</a></li>
<li><a href="../219289/index.html">Configuring Angular Directive on the fly with COLT and Emmet</a></li>
<li><a href="../219291/index.html">A different look at ordering online store</a></li>
<li><a href="../219293/index.html">Plugin COLT for WebStorm is available for download.</a></li>
<li><a href="../219295/index.html">Write Cache and DRBD: Why it is useful to know the inside story</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>