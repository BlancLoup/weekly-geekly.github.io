<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Let the scrolling be with you: theory and practice on the camera in platformers [1/2]</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The second part of 

 From the translator. The article was written by Itai Keren, the founder of the indie studio Untame , the author of the game Mush...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Let the scrolling be with you: theory and practice on the camera in platformers [1/2]</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/post/273397/">The second part of</a> <br><br>  <i>From the translator.</i>  <i>The article was written by Itai Keren, the founder of the indie studio <i>Untame</i> , the author of the game <i>Mushroom 11</i> .</i>  <i>The result was a real tutorial on camera control in side scrolling games.</i>  <i>Although there is not a single line of code in any language (I lie, there is one), I think it will be easy to translate all this into instructions for a computer.</i>  <i>Be sure to read to all programmers and designers who are engaged in dynamic 2D-games.</i>  <i>I translated the terminology more in the sense: for example, position-locking - ‚Äútied camera‚Äù.</i>  <i>Yes, and for many games until 1983, the version for Dendy is shown - a bit unhistorical, but we will forgive.</i> <br><br><h3>  Introduction </h3><br><img src="https://habrastorage.org/files/353/2fa/c39/3532fac398fe48368dd7052b7187dc5a.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      While working on the game <i>Mushroom 11</i> , I came across a lot of design and technical issues.  I didn‚Äôt expect someone to write about the vertex animation or smoothly changing the shape, but I was surprised that they practically didn‚Äôt write about the work with the camera, the task with a 30-year history. <br><br>  I decided to make a small journey through the history of two-dimensional games, to document their difficulties, approaches and the evolution of their decisions.  Many solutions do not even have a name, so I, rather for myself, came up with a classification of approaches to the camera and wrote a small glossary. <br><a name="habracut"></a><br><h3>  Scroll </h3><br>  Scrolling or panning we call any attempt to show a scene that does not fit on the screen.  There are many issues related to scrolling: show the player what he needs to see, show what we, as developers, want to show him, and how to make it all scrolled smoothly and comfortably. <br><br>  Although I will focus on 2D cameras, many of these common concepts also work for 3D. <br><br><h3>  Something from neurology </h3><br><img src="https://habrastorage.org/files/ea9/3b9/06a/ea93b906a90843c2853b4c2d39d21cae.png" align="left"><br>  Before we consider the games, let's examine our senses in order to better know our vision and perception.  So we can understand what is wrong with scrolling. <br><br>  The central fossa is the receptor inside our eye, responsible for clear and detailed central vision.  The second and third receptor belts, paraffhea and periphery, perfectly compress the image and movement in order to speed up identification - first of all, identification of familiar alarming forms and changes in the direction and speed of movement. <br><br>  The image from the eyes goes straight into the amygdala, which provides a quick response, and at the same time into the visual cortex, which decodes the image.  The brain can be trained - for example, to ‚Äútie‚Äù changes in the periphery of view to control.  This is useful in games. <br><br><img src="https://habrastorage.org/files/0c4/a89/585/0c4a89585dd5449e8b13dac275ca9a90.png" align="right"><br>  The vestibular apparatus is located in our inner ear, and is responsible for balance and spatial orientation.  The signals he sends allow the body to keep its balance, while the eyes peer into the details. <br><br>  When some people, like me, are reading in the car, acceleration, not supported by sight, leads to motion sickness and dizziness.  But the opposite is also true: if peripheral vision catches changes in the background, and the vestibular apparatus says that everything is still - you are sitting at the computer - the result will be similar. <br><br>  So contradictory signals from the senses (vision and vestibular apparatus) can lead to discomfort and motion sickness.  Although these effects are brighter in 3D (especially in virtual reality), this is also noticeable in 2D games. <br><br><h3>  Attention, interaction and comfort </h3><br><img src="https://habrastorage.org/files/ecf/cb1/e84/ecfcb1e84a0141b7a209c36c2eca6e84.png" align="left"><br>  To help understand the scrolling questions, I highlighted three big questions in them. <br><br>  <b>Warning:</b> teach the camera to show enough game information to navigate the game (what the player needs to see). <br><br>  <b>Interaction:</b> make sure that the player can control what the camera sees, so that changes in the background are predictable and clearly tied to the player‚Äôs controls (what the player wants to see). <br><br>  <b>Comfort: to</b> facilitate and explain changes in the background (how to make these tasks elegantly combined, without creating inconvenience to the player). <br><br><h3>  Scroll nostalgia </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/5b4/7be/49b/5b47be49b814f30a6da74565b927ba47.jpg" alt="image"><br><br>  We begin our journey from the 1980s, when developers invented new game schemes, bypassing such technical limitations, that 30 years later it is difficult to imagine what they were. <br><br>  I will refer to the leading indie games, mostly from the last decade, because they have always demonstrated innovation, attention to detail and care that can be expected from independent artists - and working with the camera is no exception. <br><br><h3>  After action </h3><br>  <b>All attention to the controlled hero.</b> <br><br>  Let's start with the simplest.  In general, you, as a player, are fully responsible for your character.  This dictates the attention that the game gives the hero when he leads his camera. <br><br>  In the early 80s, scrolling was difficult, and the developer was confronted with limitations: processor speed, memory capacity, and memory segment structure.  But even with these problems, wonderful scrolling games were released that elegantly fit into these limitations.  True, the movement was often the simplest or jerky. <br><br>  And it is amazing that in 1980, the game <i>Rally-X</i> overcame these limitations and presented a real two-axis camera.  There was the simplest ‚Äútethered camera‚Äù mechanism: the car is always in the center, and the movement of the camera is completely predictable. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/af8/e5a/16e/af8e5a16ebc00d1e8350da33e3994da2.gif"><br>  Rally-X (Namco, 1980) </td><td>  <b>Attached camera</b> : the camera always looks at the hero. <br><br>  <b>Note.</b>  I invented all these terms myself, for my work and to somehow name these phenomena.  I will be flattered if someone else takes advantage of them, improves and writes me a review. </td></tr></tbody></table><br>  Another good example of an attached camera is <i>Kung-Fu Master</i> , designed by Takashi Nishiyama, a designer who also made <i>Moon Patrol</i> , and later <i>Street Fighter</i> . <br><br>  At the same time, another uncomplicated mechanism is visible, which I call ‚Äúfocusing on the edge‚Äù - when the camera rests on the edge of the screen, the character can move away from the anchor point. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/09a/581/86e/09a58186eee9a40e903459a0bb9dd024.gif"><br>  Kung-Fu Master (Irem, 1984) </td><td>  <b>Tied camera</b> <br>  <b>Emphasis on the edge</b> : set a hard edge, beyond which the camera can not go. <br>  (The camera rests on the edge in almost all games, so we won't mention this technique anymore.) </td></tr></tbody></table><br>  A tied camera is the simplest technique, but still useful.  In the sandbox with handicrafts <i>Terraria, the</i> character is very small compared to the screen and jumps low, so the tethered camera not only works, but also gives a far view in all directions. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/083/a45/140/083a45140b5df85952ad536b9c35170c.gif"><br>  Terraria (Re-Logic, 2011) </td><td>  <b>Tied camera</b> </td></tr></tbody></table><br><h3>  Limit camera movement </h3><br>  <b>Fewer unnecessary or unpredictable scrolls</b> <br><br>  How to avoid scrolling if it is undesirable?  30 years ago, scrolling had flaws: it was demanding of the processor, because a large piece of the screen was being redrawn.  And even if it was possible to adjust it, the large pixels of that time made the scrolling non-floating.  Therefore, the best approach was to scroll less.  One way is to let the character walk through a window, and scroll if it goes beyond the window. <br><br>  <i>Jump Bug is</i> considered by many to be the first platformer, although technically the player jumps constantly, you only need to control the height of the jump and the movement left-right.  In it, as in many other games of that time, the camera automatically moves up, requiring the player to jump higher and higher, bypassing obstacles. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/41f/1b9/f59/41f1b9f59f558313f4037ac7b7133e21.gif"><br>  Jump Bug (Alpha Denshi / Hoei ‚Üí Coreland, 1981) </td><td>  <b>Freewheel window</b> : move the camera as soon as the player hits the edge of the window </td></tr></tbody></table><br>  The freewheel window solved the task, which for many developers and did not stand, and set the standard, followed by thousands of platformers.  But there were also some questions: a player jumping higher and higher to the exit, too late notices the enemy approaching from above. <br><br>  In one of my favorites, <i>Rastan Saga</i> , you can move along two axes and walk in different ways.  And she is one of the first to develop the relationship between the camera and the mechanics.  Free running is the same height as a standard jump, and jumping does not cause the camera to move up - unless, of course, Rastan has not moved up before.  This eliminates the need for camera jerks. <br><br>  The big drawback in this is that the enemies appearing from above are hardly noticeable, especially if Rastan is already somewhere at the top of a free window.  And to move to the left (which happens in many castles) is generally inconvenient, too little is visible ahead. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/ff4/6af/2dc/ff46af2dc6f767a5d3b66aa9455a2f2c.gif"><br>  Rastan Saga (Taito, 1987) </td><td>  <b>Freewheel window</b> </td></tr></tbody></table><br>  The freewheel still appears in new games.  See how the horizontal window in <i>Fez is</i> preserved when you rotate the measurements.  And, in general, the axis of rotation is chosen such that the player remains in the window.  The freewheel window in <i>Fez is</i> not an ordinary choice, and this is a great solution for such a unique game, and we will show it later.  Vertically, this is the usual tied camera with linear anti-aliasing - we will explain this later. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/efe/8ea/912/efe8ea912ded06d0ec6d964b72e954a1.gif"><br>  Fez (Polytron, 2012) </td><td>  <b>Freewheel</b> (horizontal, retained when rotating measurements) <br>  <b>Tethered camera</b> (vertical) <br>  <i>Linear smoothing</i> (italicized terms are defined below) <br>  <i>Geographical perspective</i> <br>  <i>Manual control</i> (right lever) </td></tr></tbody></table><br><br><h3>  Return </h3><br>  <b>We will return the camera to the place!</b> <br><br>  We have already shown how the freewheel window reduces camera movement.  But, as we see in <i>Jump Bug</i> and <i>Rastan</i> , this also has disadvantages when the player is at the edge of the window.  Here is one way to fix this. <br><br>  <i>Shinobi</i> is probably my favorite classic game, and it has very high platform jumps.  Designers have arranged a unique camera control: vertically, since there are many platforms, there is a very wide window of free running.  And, as usual, the Ninja rested against the edge of the window - we immediately pull the camera.  A high (or wide) window has a drawback: after a small jump, the player can get stuck at the top of the window, and very little is seen from above, as in <i>Rastan Saga</i> .  And <i>Shinobi</i> slowly pulls the camera towards the player, keeping the whole thick of events in the frame and keeping the camera's sharp movements to a minimum. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/50d/cfe/c74/50dcfec749285f7903ff40b54d46a1e8.gif"><br>  Shinobi (Sega, 1987) </td><td>  <b>Return of the camera</b> (vertical): constantly reduce the "withdrawal" of the camera, pulling it to the player. <br>  <b>Freewheel window</b> (vertical) <br>  <b>Tethered camera</b> (horizontal) <br>  <i>Static lead</i> </td></tr></tbody></table><br>  One of the new features invented in <i>Super Mario World</i> is the platform return.  As with any free-run window, the camera stands still until the hero rests on the edge.  But no matter how Mario jumps, he eventually lands on the platform, and when that happens, pull the camera towards him. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/988/fa6/d81/988fa6d819a0ce8de374e9a5db6fc290.gif"><br>  Super Mario World (Nintendo, 1990) </td><td>  <i>Geographical perspective</i> <br>  <b>Platform return</b> : the camera returns to the player as soon as he lands on the platform. <br>  <b>Free running window</b> (vertical, rarely triggered) <br>  <i>Double anticipation</i> (included in the threshold) <br>  <i>Manual control</i> (horizontally, with additional buttons on the remote) </td></tr></tbody></table><br>  This is the first mention of the Miyamoto works, and certainly not the last.  He understands the game and is attentive to the smallest details - and therefore he is a good gemdizayner, and not just because he is good at inventing the mechanics of games. <br><br>  The same idea is seen in the very first <i>Rayman</i> .  The top of the screen serves as the top of the freewheel window.  Notice, the camera does not move when Rayman jumps - she gently pulls up when he lands.  This is a smart decision, because the freewheel is slightly larger than the height of the jump.  And again we have an example of how a game camera becomes an integral part of the game design. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/fde/f61/c46/fdef61c46d463514edbdb4c8dabf749a.gif"><br>  Rayman (Ubisoft, 1995) </td><td>  <b>Platform return</b> <br>  <b>Free running window</b> (vertical, rarely triggered) <br>  <i>Geographical perspective</i> <br>  <i>Double lead</i> <br>  <i>Linear smoothing</i> </td></tr></tbody></table><br>  This technique works even now, not allowing the camera to move during jumps and centering it when the jump is completed - or when you left the free-run zone.  Naturally, the platform return works when a character can get up on platforms.  And if not, as in the jetpack in <i>Awesomenauts</i> , only the vertical free run is working. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/8ab/6a2/047/8ab6a2047888278cca94a7169d8b854c.gif"><br>  Awesomenauts (Ronimo Games, 2012) </td><td>  <b>Freewheel window</b> (vertical) <br>  <b>Platform return</b> <br>  <b>Tethered camera</b> (horizontal) </td></tr></tbody></table><br><br><h3>  Smoothing </h3><br>  <b>Avoid sudden changes in camera speed and heading.</b> <br><br>  We have already talked about the role of peripheral vision and how it affects visual comfort.  Long ago, when we were small, and the pixels were large, even the simple movement of the camera looked like a jerk due to the large pixels. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/001/e73/d43/001e73d43417b91e67cc169fe5b31971.jpg" alt="image"><br>  <b>80's pixel</b> <br>  Dendy: 256 √ó 240 resolution </td><td><img src="https://habrastorage.org/getpro/habr/post_images/7e8/23f/b78/7e823fb786aa6b40488ae537a2b2ccc8.jpg" alt="image"><br>  <b>Modern indie pixel</b> <br>  Contains many physical pixels </td></tr></tbody></table><br>  How can we smooth the movement of the camera when we have a strict and coarse lattice of large pixels?  Now we can draw a beautiful pixel image, and then move it with an accuracy much higher than the resolution of the image.  And if you don‚Äôt need to be ‚Äúpixel to pixel‚Äù, many engines can work in steps even smaller than a pixel. <br><br>  <b>Smoothing (pseudo) physics</b> <br><br>  Pseudophysics can help when you need to smooth the usual attached camera (some would say that any physics in the engine is actually pseudo). <br><br>  <i>Pac-Land</i> - according to some, the first modern platformer.  There are many elements in it that helped define the genre: jump on platforms, dodge enemies and pick up bonuses.  As for smoothing, the speed there rises from 0 pixels / frame to 1, 2, 3, and so to the maximum, and then also smoothly drops to zero.  Although the camera is tied to Pakman, the result is clear and smooth.  But <i>Pac-Land</i> does not need to scroll vertically, and that is where the main difficulties are - in fast acceleration and deceleration, when you jump and fall. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/8ab/682/4f5/8ab6824f5e9a52a5ad41dd84be56854d.gif"><br>  Pac-Land (Namco, 1984) </td><td>  <b>Tied camera</b> <br>  <i>Static lead</i> </td></tr></tbody></table><br><br>  <b>Shigeru miyamoto</b> <br><br>  Here I would like to take my hat off to Sigaru Miyamoto and show some of his first works.  He made an invaluable contribution to the industry, and its influence to the smallest details of the game is difficult to exaggerate. <br><br>  In 1984, he began experimenting with scrolling, and developed two games that use it very differently.  In both, the player has very little scroll control.  They are more like a room with a moving picture on the wall. <br><table><tbody><tr><td><img src="https://habrastorage.org/files/a72/5b1/e42/a725b1e42eae4808a0f286b4fdcebfde.png"><br>  Excitebike (Nintendo, 1984) </td><td><img src="https://habrastorage.org/getpro/habr/post_images/cda/14c/2db/cda14c2dbdfbf013321bc3299429f599.png"><br>  Devil World (Nintendo, 1984) <br>  North America denied release </td></tr></tbody></table><br>  In <i>Excitebike there</i> was a modern type of scrolling, depending on the speed of the motorcycle.  Rather smooth, but not particularly affected by the game. <br><br>  And in <i>Devil World</i> everything was built on scrolling.  In this <i>Pac-Man</i> clone, you play a Christian dragon who fights the devil, and he constantly changes the direction of the scroll, pushing you closer to the edge.  This is the only game that was never released in the US due to religious images, but, compared to the quality of his other works, this is a small loss.  Although informative - and often inspiring - to see the first, less successful works of the master.  Even the best artists are experimenting, and not all experiments succeed. <br><br>  And now let's jump a year ahead.  It‚Äôs hard to exaggerate the brilliance of <i>Super Mario Bros.</i>  The game itself is a simple movement from left to right horizontally.  Moreover, it does not allow walking back beyond the edge of the screen, which is often in platformers (technically, this can be defined as a one-way freewheel). <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/fa8/4ab/6bc/fa84ab6bcf40122bf588641962e8ff0a.gif"><br>  Super Mario Bros.  (Nintendo, 1985) </td><td>  <b>Pushing acceleration zone</b> : when the character is in the zone, gradually accelerate the camera until it is equal to the speed of the character. <br>  <b>Freewheel</b> (one-way) <br>  <i>Static lead</i> </td></tr></tbody></table><br>  If Mario stepped back to accelerate, and then go out of the freewheel at full speed, the camera would accelerate from 0 to maximum in one frame, with a big change in scroll speed and inevitable discomfort.  Designers decided this by adding another point, 25% from the center, where the camera starts to accelerate to match the speed of Mario.  So when Mario has to rest on the edge, the camera is already chasing him at full speed. <br><br>  <i>Metroid</i> was an innovative game that created a new genre, combining jumping with research (in the <a href="http://posmotre.li/%25D0%259C%25D0%25B5%25D1%2582%25D1%2580%25D0%25BE%25D0%25B8%25D0%25B4%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F">brother of the genre</a> <i>Castlevania</i> , by the way, was the simplest tied camera). <br><br>  In <i>Metroid,</i> there was a biaxial movement, but only one axis at a time worked.  He introduced another method of softening the camera: a character may come out of the window, but then the camera accelerates to catch up.  How far from the line he will go - it depends on the speed with which he crossed the line.  But still, as a result, a smooth camera comes out. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/75a/362/1c8/75a3621c871df1882f62590fa9375eeb.gif"><br><img src="https://habrastorage.org/getpro/habr/post_images/bfa/f0c/695/bfaf0c6955a544eaecbc3a8073c4e86e.gif"><br>  Metroid (Nintendo, 1986) </td><td>  <b>Freewheel</b> (horizontal / vertical) <br>  <b>The pulling overclocking zone</b> : as soon as the player crosses the window border, we accelerate the camera until it is equal in speed with the character. </td></tr></tbody></table><br>  The development of technology has given more pixels and faster processors, and this has affected the gaming camera.  Now the camera could drive freely, without jitter, inherent in low resolutions - especially at low speeds, when it only moves 1 in a few frames. <br><br>  <i>Donkey Kong Country</i> came up with many innovative camera solutions.  He was one of the first to make a changing preemption (more on that later), as well as linear smoothing, which made the jumps very smooth. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/649/877/791/6498777913b1e21a7f5dc66e098303ed.gif"><br>  Donkey Kong Country (Rare / Nintendo, 1994) </td><td>  <b>Linear smoothing</b> : continuously reduce the distance between the camera and the player using the linear interpolation formula. <br>  <b>Tethered camera</b> (vertical) <br>  <i>Geographical perspective</i> <br>  <i>Double lead</i> </td></tr></tbody></table><br>  Linear interpolation is not such a great achievement.  But it was this formula that became the standard tool for reducing camera jerking at speed, especially when jumping. <br><br> <code>float lerp (float a, float b, float t) { return a + t * (b - a); }</code> <br> <br>  This is perhaps the most effective and ubiquitous smoothing technique.  It works for slow characters as well as fast characters like <i>Super Meat Boy</i> .  Only if the character is big and moves very quickly, the camera may not catch up with him, and the enemies will be hidden behind the scenes until the last second. <br><div class="spoiler">  <b class="spoiler_title">From the translator ...</b> <div class="spoiler_text">  This simple formula has a deep meaning.  This is a solution to a differential equation. <br><br>  y '(t) = ‚àík ¬∑ y (t) <br><br>  at k&gt; 0 at time points t = 0, 1, 2, 3 ... Roughly speaking, the flight speed is proportional to the distance.  I want to say "the camera is hanging on the spring," but the task with the spring implies acceleration (the second derivative). <br></div></div><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/c84/878/37e/c8487837eb1c1be845d5d955107acad4.gif"><br>  Super Meat Boy (Team Meat, 2010) </td><td>  <b>Linear smoothing</b> <br>  <b>Tied camera</b> </td></tr></tbody></table><br>  In 2014, the charming game <i>Never Alone</i> came out, and there are many different elements in it that we will explain later.  Its smoothing mechanism takes into account the speed of the camera, so that the camera slowly takes acceleration, and then ‚Äúflies‚Äù over the target point.  The result was a smooth and organic flight, although it did not respond quickly to jerky movements. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/32d/d26/22b/32dd2622bd810db29ceed647df782295.gif"><br>  Never Alone (Upper One Games, 2014) </td><td>  <b>Physical smoothing</b> : the camera - the physical body, constantly flying to the target point. <br>  <i>Position averaging</i> <br>  <i>Cinematic rails</i> <br>  <i>Geographical perspective</i> <br>  <i>Perspective on object</i> <br></td></tr></tbody></table><br>  In terms of programming, linear smoothing is EaseOut, and physical smoothing is EaseInOut.  If possible, use the SmoothDamp method [Unity engine function - Translator], or write your own version, which will take into account both the distance to the target and the speed. <br><br>  If you use pixel-to-pixel shaders, you sometimes notice that your sprites are shifted by one pixel compared to other sprites or backgrounds - due to engine division errors.  The game <i>Hyper Light Drifter</i> , executed in low-resolution pixel graphics, cleverly solved this problem.  It renders an intermediate ‚Äúcanvas‚Äù in the game pixels, and then displays it on the screen at the desired scale, shifting depending on the fractional part.  There are other interesting solutions there, we will talk about them later. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/331/e14/215/331e14215c0c5ff1e0f5dec3c68b5c4e.gif"><br>  Hyper Light Drifter (Heart Machine, not out yet) </td><td>  <b>Physical anti-aliasing</b> (resolution of the game canvas is 720 √ó 480, but scrolling goes in the physical resolution of the monitor). <br>  <i>Geographical perspective</i> <br>  <i>Management lead</i> <br>  <i>Perspective on object</i> <br>  <i>Camera gestures</i> </td></tr></tbody></table><br><br><h3>  Cropping </h3><br>  <b>We keep the most important thing in the frame</b> <br><br>  There is nothing to say about autoscrolling, because by definition it does not allow the player to move the camera.  But it gives us an interesting starting point, where ideally there should be players, if you keep a balance between the mass of threats in front and the few threats that appear behind. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/193/908/7ba/1939087ba979538b1ff06af0af6a02a0.gif"><br>  Scramble (Konami, 1981) </td><td>  <b>Autoscrolling</b> : the player does not control the scrolling in any way, but has the full right to determine where to be in the frame. </td></tr></tbody></table><br>  As we saw in <i>Pac-Land</i> , if the camera is tied to a player and moves back and forth with it, you can move the camera slightly forward.  This will leave plenty of space to look ahead, but will not forget about the space behind.  At the same time, it will indicate where to go, because we are striving towards the center. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/8ab/682/4f5/8ab6824f5e9a52a5ad41dd84be56854d.gif"><br>  Pac-Land (Namco, 1984) </td><td>  <b>Tied camera</b> <br>  <b>Static anticipation</b> : more room for visibility in the main direction </td></tr></tbody></table><br>  Move back yet.  In early 1981, there was a scrolling-letalka, ahead of its time and inspired by a new genre - <i>Defender</i> .  She provided a double lead, but almost no one noticed.  <i>Defender</i> always points the camera at an imaginary point in front of the ship, about a quarter of the screen forward.  This mechanism is great for a quick game where most enemies appear in front. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/182/6ac/3ff/1826ac3ffc49f21a27286ffab0c9e262.gif"><br>  Defenter (Williams Electronics, 1981) </td><td>  <b>Double anticipation</b> : when the player changes the direction of movement, the camera changes the angle and looks forward. </td></tr></tbody></table><br>  <i>Bonanza Bros.</i>  Is a delightful robbery game released by Sega for machine guns in the 1990s.  It has a unique mode for two (cooperative, with a split screen), where two brothers work together to perform a robbery. <br><br>  Of course, it is important for the robber to see ahead, and therefore there they made a double lead.  But in order for the camera to reach for a new target, you need to take a couple of steps: it turns out smoothly, and the review is good.  The camera moves approximately twice as fast as the player, which means: when a player is standing, the camera also stands.  Look at the Red (below). <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/26c/190/c1c/26c190c1c16e6f4102f20c48566d6584.gif"><br>  Bonanza Bros.  (Sega, 1990) </td><td>  <b>Double lead</b> (camera speed depends on speed) </td></tr></tbody></table><br>  And this is how the camera works in <i>Super Mario World</i> , my favorite part of working with a 2D camera.  Look at how closely the camera was adjusted to the gameplay. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/4ba/e0e/3c2/4bae0e3c25440d18e0059571c12ae228.gif"><br>  Super Mario World (Nintendo, 1990) </td><td>  <i>Geographical perspective</i> <br>  <b>Platform return</b> <br>  <b>Free running window</b> (vertical, rarely triggered) <br>  <b>Double anticipation</b> (included in the threshold) <br>  <i>Manual control</i> (horizontally, with additional buttons on the remote) </td></tr></tbody></table><br>  Again, there are two camera angles, depending on which way the player decides to go.  But if you suddenly need to back (the usual thing in <i>Super Mario World</i> ), the camera will not go anywhere until Mario passes a certain threshold.  And only after that the camera will hover over a new point.  It helps a lot, because turning left in SMW does not mean going backwards. <br><br>  More recently, <i>Cave Story</i> used a double lead to move the camera left and right, depending on the speed.  Almost the same as what we saw at <i>Bonanza Bros.</i>  Only the camera goes to the right place slowly, if the player is standing, and quickly - if he moves. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/867/679/3b6/8676793b6db7d547afa450f075209935.gif"><br>  Cave Story (Studio Pixel, 2004) </td><td>  <b>Tethered camera</b> (vertical) <br>  <b>Double lead</b> <br>  <b>Physical smoothing</b> <br>  <i>Manual control</i> (vertical) </td></tr></tbody></table><br>  <i>Jazz Jackrabbit 2</i> , a beautiful platformer of the first days of Epic Games, had one unusual camera element: it moved the camera further away from the player, both horizontally and vertically, depending on which buttons were pressed. <br><br>  This is a great example of what I call ‚Äúpre-emption management‚Äù: the player himself tells the camera where to move, depending on where he wants to go.  Going to the left means you need to see more on the left.  Releases the button - the camera returns to the center. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/484/667/494/484667494c5e666bdf1683c81a513f4c.gif"><br>  Jazz Jackrabbit 2 (Epic Games, 1998) </td><td>  <b>Linear smoothing</b> (vertical) <br>  <b>Control Prediction</b> : the camera picks up a lead based on the state of the control (in this case, the arrow keys) <br>  <i>[manual control]</i> (as a special case of control advance) </td></tr></tbody></table><br>  The control lead can also reflect a more obvious point of lead, we see a lot of this in mouse-controlled games.  In <i>Snapshot,</i> we solve puzzles by taking pictures of scene elements and setting them somewhere else.  The pointer expands our view in the right direction - the camera is pointed at the middle between the player and the pointer. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/27b/ac0/c37/27bac0c37c58ffdcc531527b2e32934e.gif"><br>  Snapshot (Retro Affect, 2012) </td><td>  <b>Ahead of management</b> (midway between player and pointer) <br>  <b>Linear smoothing</b> </td></tr></tbody></table><br>  <i>Swapper</i> has some interesting camera tricks that will be covered later.  As for management, the target point of the cloning device resembles the direction of sight, and it is in this direction that the advance can be made.  It works with any game where there is an independent aim weapon.  The player can even go backwards and look forward, if he wants - very versatile, but you need to somehow control the camera. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/51e/b24/eac/51eb24eac546c647580c2347e027d07e.gif"><br>  Swapper (Facepalm Games, 2013) </td><td>  <b>Management lead</b> <br>  <b>Physical smoothing</b> <br>  <i>Geographical perspective</i> <br>  <i>Perspective on object</i> <br>  <i>Cinematic rails</i> </td></tr></tbody></table><br>  In the <i>Secrets of R√¶tikon</i> there are several interesting moments with the camera.  As for the composition of the frame - there is anticipation of movement, with a simple extrapolation of the character's position based on the current speed. <br><br>  In platformers, such a technique may not work, especially vertically: jumps and landings cannot be extrapolated reliably. <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/c9d/ab0/7db/c9dab07db1aa7cea1af5c75135c80dbb.gif"><br>  Secrets of R√¶tikon (Broken Rules, 2014) </td><td>  <b>Lead by motion</b> : the camera chases the player‚Äôs future (extrapolated) position <br>  <b>Physical smoothing</b> <br>  <i>Perspective on object</i> (position and scale depends on attractors) <br>  <i>Gestures by the camera</i> (certain actions cause a response from the camera, for example, in flight the scale decreases) <br>  <i>Cinematic rails</i> </td></tr></tbody></table><br>  In <i>Luftrausers</i> , the camera is also interesting: to determine where to look, it is taken into account where the aircraft is looking (by control), where it flies (by movement) and other clues like water, ships and shells, which also attract the camera (see the next part ‚Äúangle on the object "). <br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/3eb/a91/389/3eba9138935471f944b1743638d87215.gif"><br>  Luftrausers (Vlambeer, 2014) </td><td>  <b>Anticipation of management and movement</b> <br>  <b>Physical smoothing</b> <br>  <i>Perspective on object</i> </td></tr></tbody></table><br><br>  <a href="http://habrahabr.ru/post/273397/">The second part of</a> </div><p>Source: <a href="https://habr.com/ru/post/272933/">https://habr.com/ru/post/272933/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../272917/index.html">How to make friends Linq-to-Entities and Regex</a></li>
<li><a href="../272919/index.html">EGAIS on Windows Embedded POSReady 7. Experience of installation and testing</a></li>
<li><a href="../272921/index.html">Modes and states in SCSS</a></li>
<li><a href="../272923/index.html">Sample Friday Talk</a></li>
<li><a href="../272931/index.html">Conference C ++ Russia 2016, St. Petersburg</a></li>
<li><a href="../272935/index.html">Meet: Hash steganography. Very slow but top secret</a></li>
<li><a href="../272937/index.html">Why your favorite messenger must die</a></li>
<li><a href="../272943/index.html">December 12 at 12:00 (MSK), see Community DevCamp online</a></li>
<li><a href="../272945/index.html">Little Secrets of a Large Call Center: Predictive Calling</a></li>
<li><a href="../272947/index.html">We test p2p video for overload</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>