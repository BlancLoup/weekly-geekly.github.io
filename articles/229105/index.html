<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity vs Adobe Air, or As I wrote the first mobile game</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Today I would like to talk about the first experience of writing a game for mobile devices. I am a flasher by profession, and making games, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity vs Adobe Air, or As I wrote the first mobile game</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  Today I would like to talk about the first experience of writing a game for mobile devices.  I am a flasher by profession, and making games, albeit simple ones, is not new to me.  However, mobile development is different and harbors a lot of unexplored. <br><br><h5>  Start </h5><br>  How did it all start?  That's right, like many interesting and not very stories, with the dismissal from work.  Time was freed, and to occupy oneself was simply necessary.  Since Flash has not been much in demand lately, it was decided to try Adobe Air and its cross-platform functionality. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Idea </h5><br>  Paradoxically, I'm not a big fan of playing games, with the exception of "race cars" and "something simple and funny."  Naturally, the first idea was something like an ‚Äúexciting off-road race‚Äù.  Then, inspired by such a game as <a href="https://www.youtube.com/watch%3Fv%3Do6CC5860uhk">Color Zen</a> , I wanted something ‚Äúinteresting, beautiful and soothing.‚Äù <br><br>  But, as they say, the 8-bit past took it up and it was decided to make a parody of Flappy Bird, which had just been removed and hated by many.  Not a banal parody, no, it was decided to allow users to let off steam - to create a new character that will blow everything to hell.  The name was found quickly - Rocket Toads, and the main characters were two (to make the name of the game in tune with the famous 8-bit game).  The goal of the game is to destroy as many pipes as possible, just throwing dynamite, and at the same time stay alive, dodging shrapnel and explosions. <br><a name="habracut"></a><br><h5>  Implementation </h5><br>  The characters, the background and the main elements of the game were drawn quickly, because  high levels of design was not exhibited.  As, actually, and in the game, on which the parody was made. <br><br><div class="spoiler">  <b class="spoiler_title">Icon</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/82e/6dc/0f3/82e6dc0f337d9723823909db7aedc507.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Background and Main Menu</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/101/8fb/751/1018fb7511504e3e7937f5fe1b8b5940.jpg"><br></div></div><br>  The following engines were chosen as engines: <br><br>  - <a href="http://gamua.com/starling/">Starling</a> (drawing graphics using GPU) <br>  - <a href="http://napephys.com/index.html">Nape</a> (the smartest physics engine) <br><br>  If I didn‚Äôt worry about Starling and its speed, then the speed of physics calculation caused fears - it was planned that up to 30-40 objects would be present on the scene at the same time - fragments from blown-up pipes.  I was also worried about the speed of execution of the ActionScript code, in particular, the algorithm for breaking the pipe into fragments. <br><br><h5>  First tests </h5><br>  When the main part of the game was ready, the long-awaited moment of testing on the real device came. <br>  Samsung got into the hands with a single 1000 MHz processor and the Andreno 200 graphics accelerator. In general, due to its low performance, this is what is needed for the tests. <br><br>  The game started perfectly, the hero happily flew skipping through the pipes, and the FPS kept around 60!  But I didn‚Äôt have long to rejoice, after a while I tried to use dynamite to spool, and the game began to slow down a lot, precisely at the moments of breaking pipes into fragments and with a large number of physical objects, which I was afraid of. <br><br>  The next few days to configure physical.  engine and code optimization did not lead to anything.  The profiler (Adobe Scout) explicitly stated that the speed of the execution of ActionScript code is a stumbling block. <br><br><h5>  ANE, Unity2d and Haxe </h5><br>  Mourning Adobe Air, <s>I went and buried it in my garden and</s> began to look for alternatives.  As promising options for improving performance surfaced: <br><br><ul><li>  ANE - native extensions for Adobe Air </li><li>  Haxe + Haxe version of Nape </li><li>  Unity3d with built-in Box2d as physical.  engine </li></ul><br><br>  In the first embodiment, nothing really was found, because  there was no ‚Äúgood man‚Äù who would make a full-fledged two-dimensional physics engine on ANE. <br><br>  The second and third options were good and it was decided to do physical tests to evaluate the performance. <br>  As a result, Unity won, and, if memory serves, <b>with similar FPS, the</b> results are approximately as follows: <br><br><ul><li>  Adobe Air + Nape - <b>50</b> cubes </li><li>  Haxe + Haxe Nape - <b>70-80</b> cubes </li><li>  Unity - <b>300</b> cubes </li></ul><br><br><h5>  Unity2d - rewrite the game again </h5><br>  Unity mastering was relatively easy.  Switching from ActionScript to C # turned out to be easier than it was seen at the beginning.  Unity Editor is also fun.  Among the lessons would advise: <br><br>  - <a href="http://pixelnest.io/tutorials/2d-game-unity/install-and-scene/">Creating a 2D game with Unity</a> <br>  - <a href="http://habrahabr.ru/post/211472/">Basics of creating a 2D character in Unity 3D 4.3</a> <br>  - <a href="http://unity3d.com/learn/tutorials/modules">Official video tutorials</a> <br><br>  I was also pleased with the large community of Unity developers, thanks to which almost any question that arises has a normal answer. <br><br><h5>  Testing again </h5><br>  Well, the first test results inspired - there were no strong brakes, and I began to confidently finish the game to the end.  Later, some interesting bugs were discovered that slowed down the game: <br><br>  - ‚ÄúFirst explosion‚Äù - the first execution of a script destroying a pipe was about 300 ms, subsequent calls are up to 20 times faster.  It was necessary to make the first explosion automatically outside the camera (outside the user's eyes), while the player is still clicking the menu. <br><br>  - ‚ÄúClamped‚Äù - since some parts of the blown-up pipes remain static and some turn into dynamic fragments, there are cases when dynamic fragments are squeezed between static and generate many collisions and provoke ‚Äúbrakes‚Äù.  I had to make a counter, which, with a certain amount of collisions in a static fragment, turns it into a dynamic one, and the squeezing is eliminated. <br><br><h5>  Total </h5><br><ol><li>  The game is ready and even laid out on Google Play.  The speed of work on medium and advanced devices inspires optimism. </li><li>  Gained experience with a great Unity engine. </li><li>  Unity vs Adobe Air - friendship won.  On the example of my game, of course, Unity was out of competition and for mobile-games demanding for performance, I would advise him.  However, it is not perfect either - for example, Unity WebPlayer and its periodic crashes, the failure of the mouse button in Chrome, the editor hang on closing, the impossibility of fast and high-quality publishing to Flash and some other things.  Also, judging by the rendering speed, <a href="http://blog.juiceboxmobile.com/2013/03/06/2d-gaming-mobile-performance-starling-air-vs-unity-3d/">Unity sometimes loses Adobe Air + Starling</a> . So, if you decide to write a not too demanding game and publish it for Android, IOS or Flash player, Adobe Air + Starling will be a good solution. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/229105/">https://habr.com/ru/post/229105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../229093/index.html">Voice over LTE - call without fallback with a very fast call. How we did it</a></li>
<li><a href="../229097/index.html">2GIS API 2.0</a></li>
<li><a href="../229099/index.html">CMS trap</a></li>
<li><a href="../229101/index.html">Game design - revealing a phenomenon or Who is a game design - scientific anatomy of a profession</a></li>
<li><a href="../229103/index.html">GUI Automation (Photoshop + Starling)</a></li>
<li><a href="../229107/index.html">The portal AllDataCenters.ru with the support of IBM and MERLION launches the Internet project ‚ÄúInfrastructure Matters‚Äù</a></li>
<li><a href="../229109/index.html">Headphone history</a></li>
<li><a href="../229111/index.html">Komodo Edit and Komodo IDE 8 Overview</a></li>
<li><a href="../229113/index.html">Network Storage "WD My Book Live" and its refinement</a></li>
<li><a href="../229115/index.html">How I got to google [translation]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>