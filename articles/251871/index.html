<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Where is the death of Kashcheev?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi guys, let's check your memory first. So: 
 ‚ÄúThere is an island on the sea on the ocean, on that island there is an oak tree, a chest is buried unde...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Where is the death of Kashcheev?</h1><div class="post__text post__text-html js-mediator-article">  Hi guys, let's check your memory first.  So: <br><blockquote>  <i>‚ÄúThere is an island on the sea on the ocean, on that island there is an oak tree, a chest is buried under an oak tree, a hare is in a chest, a duck is in a hare, an egg is in an egg‚Äù</i> Koschei‚Äôs death is in an egg! </blockquote><br><img src="https://habrastorage.org/files/0e1/487/b64/0e1487b6486842b0be5e63dab5f18c84.png" align="left">  And now, attention, the question is - how to formalize it? <br>  How to attach a needle to the egg and what is the temporary complexity of the detail of my death.  How to transfer a fairy tale to reality, how it looks on B-trees and why there really is no difference between 2D and 1D. <br>  <i>But it was like this: a long time ago, in a certain kingdom, in a certain state, Ivanushka the Fool at the CNC level wanted to divide <a href="http://ru.esosedi.org/RU/MOW/">Moscow</a> (/ RU / MOW /) and <a href="http://ru.esosedi.org/RU/MOS/">Oblast</a> (/ RU / MOS /) on the same service as georing.</i>  <i>In general, restore order, so that everything lay on the shelves beautifully and alphabetically.</i>  <i>But he could not count his treasures, and carefully decompose them.</i>  <i>And Vasilisa, although a fool, did not allow her to save.</i> <br>  But the solution was found. <br>  Not far above some gold chah Chahlik successfully, he also hid his death according to science. <br>  And if the task of determining the regional (more precisely polygonal) belonging of a certain needle to a certain chest is beyond the scope of this article, then nothing prevents us from diving into the depths of the hare and seeing how it works on a tabular level. <br>  <i>PS: and do not ask why the hare.</i> <br><a name="habracut"></a><br><br>  So - the original task is to determine some entries in certain headings, but let's clarify the terms of reference: <br><ul><li>  There is a " <i>sheyring with geolocation</i> " - about 3 million points </li><li>  Which somehow "lie" in 300 thousand blocks, districts and other administrative divisions, nested in each other. </li><li>  At any time you want to find all the objects included in at least the area of ‚Äã‚Äãthe city, even in the continent. </li></ul><br>  In general, the task is to process certain elements that are tied to a certain tree of hierarchies. <br><br>  Let's start with a simple one - and the implementation of headings, directories or just trees.  There are not many implementation options, more precisely, a normalized implementation option in general seems to be one: <br><pre><code class="cpp hljs">{ id: entity_id, parent: parentId }</code> </pre> <br>  There is a certain element, and it has one parent (if two are no longer trees).  This all works well as long as we do not need to perform some operations on <u>branches</u> . <br><ul><li>  1. Find all subheadings == find all areas of the city </li><li>  2. Find all the items in the subheadings == find all the objects of the city </li><li>  3. Find all your parents to the top == to understand in which country the city </li><li>  4. To count, aggregate, break or repair something. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      These problems are also relevant for rubrics on the site, and files on the disk, and generally purely theoretical sofa surveys. <br>  And there are several standard solutions to this problem: <br><img src="https://habrastorage.org/files/f07/ef6/5de/f07ef65de439423b9716a5e1a2270e4e.png" align="left"><br><ul><li>  1. <b>Adjacent Set</b> (AL) - <a href="http://en.wikipedia.org/wiki/Adjacency_list">en.wikipedia.org/wiki/Adjacency_list</a> <br>  A table of the form child, parent [, level], where <b>all</b> parents of the desired child are simply listed.  How many parents - how many and records. <br>  This is the easiest and most "normalized" option.  Absolutely convenient, but it can serve very large ‚Äúclouds‚Äù on the ‚Äúexit‚Äù and generate kilometer-long ‚Äúguts‚Äù of the tables.  Because of its large size and smearing, it works, in general, not instantly. <br></li><li>  2. <b>Materialized Path</b> (MP) <br>  This is when we take all our parents and ‚Äúmaterialize‚Äù in one line, separated by commas.  And then we can use the LIKE operator to find the right one. <br>  In principle, the normal version, beloved by students.  Especially good if you move from base 10, including the regular line, to a slightly more binary (base32,64,92 or 254). <br>  Only one minus is not technological, and the indices in an arbitrary place of the line do not work very well. <br>  PS: there are technological solutions - the so-called matrix trees, when the node ID is a matrix, and the position of the elements are the determinants of their multiplication.  Given the non-commutativity of multiplication, the key turns out to be real.  If, after reading this paragraph, you thought about Tin - so it is. </li><li>  3. <b>Nested set</b> (NS). <br>  Nested set table is such a thing that many have heard about, but few know how it works and why.  For many, NS is a plugin or library that can be used.  And to understand - broke. <br></li></ul><br>  But that‚Äôs what we‚Äôll understand, because the <i>Nested set table ( <a href="http://en.wikipedia.org/wiki/Nested_set_model">http://en.wikipedia.org/wiki/Nested_set_model</a> ) is</i> : <br><img src="https://habrastorage.org/files/46d/c52/41a/46dc5241a05b41bc8633c725991fe008.png" height="200" align="left"><br><br><ul><li>  1. One of the materializations <a href="https://ru.wikipedia.org/wiki/%25D1%25EF%25E8%25F1%25EE%25EA_%25F1_%25EF%25F0%25EE%25EF%25F3%25F1%25EA%25E0%25EC%25E8">skip-list</a> </li><li>  2. One of the materializations of <a href="https://ru.wikipedia.org/wiki/B-%25E4%25E5%25F0%25E5%25E2%25EE">B-tree</a> </li><li>  3. In direct translation, simply - nested intervals </li><li>  4. They are not scary at all. </li><li>  5. Provide linear storage. </li><li>  6. And they are exactly what we need. </li></ul><br><br>  The difference from the "normal" child-parent schemes is that a certain <u>parent</u> contains two certain "numbers" - the beginning of its interval, and the end.  And all his <u>children</u> contain "numbers" somewhere between these values.  You can visualize in different ways, in Wikipedia you can find several scary options for trees.  But if you take a regular tree, divide by levels and draw on a piece of paper - you get lists with gaps. <br><table><tbody><tr><td><img src="https://habrastorage.org/files/03d/d19/907/03dd199079a54b508ec4718e96ef4833.png" width="300"></td><td><img src="https://habrastorage.org/files/00f/b97/b3c/00fb97b3cb494ae38579bfff73a9dff0.png" width="300"></td></tr></tbody></table><br>  And with a flick of a wand, this picture turns into a B-tree.  Because there is no difference ideologically. <br>  In some way, nested-set addressing can be considered a kind of ‚Äúspace filling curve‚Äù, a kind of curve that inextricably recursively intersects all elements of a certain tree in traversal order. <br>  If the initial interval is set to 0-1, then divided at 1/2, then 1 / 4.2 / 4.3 / 4.8 / 16.50 / 128 ... then it turns out that any student who is in the first year tried to eat within the limits and converging sequence - smoked my weed.  Although in reality it is called the <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE_%25D0%25A8%25D1%2582%25D0%25B5%25D1%2580%25D0%25BD%25D0%25B0_%25E2%2580%2594_%25D0%2591%25D1%2580%25D0%25BE%25D0%25BA%25D0%25BE">Stern Tree - Brokaw</a> <br><img src="https://habrastorage.org/files/141/eb4/6c8/141eb46c8d644b97833fdeb34ae44a9f.png" height="200"><br><br>  For many, the most difficult in NS is their construction.  Many people are immediately scared by these left / right / st and other scary words and pictures used on various sites.  Including on Habr√© you can find a couple of articles about building NS in a database, including on <a href="http://habrahabr.ru/post/63416/">storages and triggers</a> .  Personally, such articles scare me. <br>  In fact, NS is just intervals, just a statement that children can be found somewhere in the corridor of values ‚Äã‚Äãof the parents.  These are not trees, they are numbers that are stored in flat database tables.  Continuous series on a numeric curve. <br><br>  As a result, building NS can be easier: <br>  Option 1: <br><blockquote>  In the database we count the number of our children (COUNT (id)), and then the amount of this number (count (count)).  Thus, the ‚Äúbubble method‚Äù full capacity rises to the top.  It remains only to find your neighbor, and somehow take the offset from him - the full capacity of his neighbors to the left. <br>  These are 4 SQL queries, some of which need to be executed a couple of times. </blockquote><br><div class="spoiler">  <b class="spoiler_title">Okay, not 4</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> <span class="hljs-string"><span class="hljs-string">`flatindex`</span></span> (<span class="hljs-string"><span class="hljs-string">`rid`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-string"><span class="hljs-string">`lvl`</span></span> tinyint(<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-string"><span class="hljs-string">`prev`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-string"><span class="hljs-string">`parent`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-string"><span class="hljs-string">`innerCnt`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-string"><span class="hljs-string">`fullCnt`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-string"><span class="hljs-string">`cumsum`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-string"><span class="hljs-string">`start`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,<span class="hljs-string"><span class="hljs-string">`right_key`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>,PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`rid`</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`parent`</span></span> (<span class="hljs-string"><span class="hljs-string">`parent`</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`start`</span></span> (<span class="hljs-string"><span class="hljs-string">`start`</span></span>)) <span class="hljs-comment"><span class="hljs-comment">--INSERT INTO flatindex (rid,lvl) SELECT id,level FROM regions -- ""  -- innerCnt -  . --  fullCnt ""     --repeat until affected_rows=0 UPDATE flatindex as fl1,(SELECT fl1.rid,sum(fl2.fullCnt)+fl1.innerCnt+1 as cnt FROM flatindex as fl1 INNER JOIN flatindex as fl2 ON fl2.parent=fl1.rid GROUP BY fl1.rid) as gr SET fl1.fullCnt=gr.cnt WHERE fl1.rid=gr.rid -- " " --  cumsum    ""    UPDATE flatindex as fl1, (SELECT SUM(fl2.fullCnt)+COUNT(*) +1 as fc,fl1.rid as rid from flatindex as fl1 LEFT JOIN flatindex as fl2 ON fl2.parent=fl1.parent WHERE fl2.rid&lt;fl1.rid GROUP BY fl1.rid)as gr SET fl1.cumsum=gr.fc WHERE gr.rid=fl1.rid -- ""  --    UPDATE flatindex SET start=cumsum+1 WHERE parent=0; -- repeat until affected_rows=0 UPDATE flatindex as fl,(SELECT start,rid FROM flatindex)as gr SET fl.start=gr.start+1 WHERE fl.prev=0 and fl.parent=gr.rid; UPDATE flatindex as fl,(SELECT start,parent FROM flatindex WHERE prev=0)as gr SET fl.start=cumsum+gr.start WHERE prev!=0 and fl.parent=gr.parent; -- "" --    UPDATE flatindex SET right_key = start+fullCnt+1;</span></span></code> </pre><br></div></div><br><br>  Option 2: <br><blockquote>  Let's transform our tree into a matpath, sort through strnatsort and hang some auto_incriment on this order.  The numeric curve is ready.  It remains only to find your neighbor (for example, on the right), and use its ‚Äúnumber‚Äù as the right border. <br></blockquote><br>  In both cases, insertion and deletion is O (n), and sometimes O (1). <br><br>  NS is just two numbers, the interval between the "buns" which is hidden all the most delicious.  In the general case, the curve does not have to consist of integers; moreover, it fits perfectly on fractions.  We take the already mentioned Stern - Brokaw and obtain the Koch curve. <br><img src="https://habrastorage.org/getpro/habr/post_images/896/b81/1e1/896b811e1565f7587b98d1a863502638.gif"><br><br>  I hope you have read to this point, understand what the nested intervals are, it remains to understand why they are so good. <br>  Imagine that you have a list of all hotels at the Hotellook (Aviasales).  Imagine that you have a binding of these hotels in the country-region-city-district.  The task is to find all hotels in Orekhovo-Borisovo South (narrow selection), all 5 star hotels in Turkey (large selection), and all hotels in a square 100 meters away from you. <br><br>  Solution 1: <br><pre> <code class="sql hljs">WHERE hotels_to_regions_ns.id between ns.left and ns.right</code> </pre> <br><br>  Solution of situation 2: <br><pre> <code class="sql hljs">WHERE hotels_to_regions_ns.id between ns.left and ns.right</code> </pre> <br>  That's the secret - <u>there</u> is <u>no difference</u> .  And in both cases it works quickly. <br><br>  Solving situation 3 implies some kind of <u>coordinate search</u> .  But in ordinary databases, this is a very complicated and expensive operation ‚Äî a double-key search, or a 2D (spatial) key is simply difficult, expensive, and many reads are generated from different places of the disk.  Well, simply because the order of data storage on disk 1D. <br>  But the solution to the situation remains almost the same: <br><pre> <code class="sql hljs">WHERE hotels_to_mortoncode.z between ns.zleft and ns.zright</code> </pre> <br>  Where we use <a href="http://en.wikipedia.org/wiki/Z-order_curve">Morton, it's Z-curve code</a> for converting 2D coordinates to 1D curve (this was <a href="http://habrahabr.ru/post/239925/">written</a> on Habr√© a couple of times), and then save it in Gray codes (two bits per division) and we can make quick samples along the pyramid ( Hello <a href="http://habrahabr.ru/company/yandex/blog/243665/">ObjectManager</a> ). <br>  For many, it is not entirely clear why the samples are fast - you should probably explain.  Morton codes, besides being ‚Äúaddressing by quadtree‚Äù, have another property - codes for objects that are close by will be near. <br><blockquote>  preserving maps of the data points </blockquote><br>  Z is not the best solution, but it is great for quick samples of groups (tiles) of objects.  Z-codes "hold" the locality of the data, including for objects of one node, the codes will be generally the same, or their variability will be clamped between the left and right values ‚Äã‚Äãof the NS element. <br>  Plus - NS, as I said before - some materialization of skip-sheets, a numerical curve or even B-trees.  Technically, there is no difference.  So, when you store data in NS, you store it in B-tree ... then ... wait ... <br><br><table><tbody><tr><td><img src="https://habrastorage.org/files/1b1/a01/bb0/1b1a01bb0ec6474d8b7a0b7b28003e99.jpg"></td><td><img src="https://habrastorage.org/files/506/b64/d4e/506b64d4e42b49ccaf762b1819a8684e.png"></td></tr></tbody></table><br><br>  In general, <a href="http://en.wikipedia.org/wiki/Z-order_curve">Z</a> , <a href="http://en.wikipedia.org/wiki/Hilbert_curve">Hilbert</a> , GeoHash (Z codes in base64) and the company are the same <s>I</s> NestedSet, view from the side. <br>  These codes are often used in various GIS systems, including Bing called their <a href="https://msdn.microsoft.com/en-us/library/bb259689.aspx">quad-code</a> and uses for addressing tiles, and all this works without problems in 3D and in 4D space. <br>  By reducing puzzles in a simple numeric curve. <br>  And in the standard NestedSet. <br><img src="https://habrastorage.org/files/a80/92d/40b/a8092d40b1544c57a30f11e8f7e7ca3f.jpg"><br>  The effect is always the same - everything <i>starts working</i> . <br><br>  Here and the fairy tale is over, and who listened - well done. <br><br>  PS: With you there were kashey and esosedi, who have been using NS and Z codes for sampling objects on the map for almost 7 years.  Among which are HotelLook hotels (which are <a href="http://special.habrahabr.ru/aviasales/">special.habrahabr.ru/aviasales</a> ). <br>  PPS: Join the Fourier series - convergence!  Equality!  Hilbert space! <br>  PPPS: And don't forget the wisdom of the ages! </div><p>Source: <a href="https://habr.com/ru/post/251871/">https://habr.com/ru/post/251871/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../251847/index.html">Yii 2.0.3</a></li>
<li><a href="../251849/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ149 (February 24 - March 1, 2015)</a></li>
<li><a href="../251863/index.html">FLProg goes online and starts a friendship with penguins</a></li>
<li><a href="../251865/index.html">DIY cookies</a></li>
<li><a href="../251869/index.html">Intel Haswell - Nutanix Planned Platform Update</a></li>
<li><a href="../251873/index.html">We stamp windows: automated deployment of Windows virtual machines to Hyper-V using Vagrant (part 2)</a></li>
<li><a href="../251875/index.html">Audit information board stations commuter trains</a></li>
<li><a href="../251877/index.html">Announcement of the second meeting of Java User Group Sevastopol</a></li>
<li><a href="../251883/index.html">From there went Animusic</a></li>
<li><a href="../251885/index.html">IBM invites to the technical workshop "z13 Technical Enablement Roadshow"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>