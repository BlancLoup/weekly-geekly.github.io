<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Count to three: two</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ternary calculations 
 So, I continue the cycle of articles on the development of the ternary calculator. The last time we met with the most basic ele...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Count to three: two</h1><div class="post__text post__text-html js-mediator-article"><h1>  Ternary calculations </h1><br>  So, I continue the cycle of articles on the development of the <b>ternary</b> calculator.  The last time we met with the most basic element: the ternary (de-) multiplexer, as well as on its base, we built a semi- and full adder.  This time we will talk about memory cells. <br><br>  In the last article I explained in detail why I need it: it will be a demonstration piece of hardware.  Do not be lazy, check out <a href="https://habrahabr.ru/post/324062/">my motivation.</a> <br><br>  So, here is a list of published articles of the cycle (will be updated): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <a href="https://habrahabr.ru/post/324062/">We count to three: time (ternary multiplexer and adders)</a> </li><li>  <b>We count to three: two (memory)</b> </li><li>  <a href="https://habrahabr.ru/post/328162/">We count to three: three (counters)</a> </li><li>  <a href="https://habrahabr.ru/post/337606/">We count to three: four (one-digit computer and a three-team command system)</a> </li></ul><br>  I remind you that the only building block of the calculator will be the ternary multiplexer.  Here is a photo of the <a href="http://nedocon.com/store/trimux/">original Trimux</a> design by <a href="http://shaos.net/">Alexander Shabarshin</a> and my performance on surface mounting.  One such board carries two ternary (de-) multiplexers: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bba/ae2/8a9/bbaae28a97ee41fbbdbad0f4480201ea.jpg"><br><a name="habracut"></a><br>  My version of the trimmix for surface mounting was conceived for a relatively easy reproduction ‚Äúon the knee‚Äù: the board, though two-sided, but contains only 12 vias.  By the way, on the forum <a href="http://www.nedopc.org/forum/viewtopic.php%3Ff%3D79%26t%3D168%26start%3D75">nedopc.org</a> ran through the option for through-wiring without a single transition hole: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f0/8df/905/6f08df905238b1e2b0a9bbf1dc224c3b.png"><br><br>  However, it still requires drilling holes for the output of the microcircuits, so my version is more economical :) <br><br><h1>  trimuxIO </h1><br>  My goal is not theorizing, but building a completely tangible piece of iron.  At the moment I got some number of multiplexers that I test on dummies.  Last time, all the entrances of the tested circuits were jumpers on dummies, and the outputs were a set of svetodids on the same dummy.  This is rather inconvenient (especially poking the entrances), so I saw from Alexander something like this design of one input-output: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/200/2ef/41f/2002ef41f7d2f4e04ed628f67bf403a6.png"><br><br>  Each input-output carries one three-position switch, which by default (middle position) is slightly pulled to 0V.  If the pin is used to indicate the output of the trims, the switch should be left in the middle position, and then the trimux will drag the weak pull-up to 0V.  The emitter follower provides a reliable indication of even the weakest signals. <br><br>  If the pin needs to be used as an input, then the switch can be connected either to + 5V or to -5V.  A 150Ohm resistor protects the circuit from short circuit. <br><br>  The I / O test board bears on itself 9 absolutely identical circuits: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8d1/219/d4f/8d1219d4f47f34b31006184a371ce6c5.png"><br><br>  The board is designed for easy reproduction at home: it is single-layer and does not contain any jumpers.  And this is how the I / O board can be connected for testing, for example, a static memory cell: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f68/f3d/f5d/f68f3df5d3ce3226a490bf539caf60e1.jpg"><br><br>  There are three inputs: C, A, B and one output Q. <br><br><h1>  Static memory cell (ternary memorized trigger by level) </h1><br>  Let's connect two multiplexers (I remind you, they fit on a single trimax shawl) as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b0/283/fc4/4b0283fc40fb08c16ef1142a29284f2c.png"><br><br>  Let's agree on terminology: clocked triggers are divided into <b>level</b> -controlled and <b>front</b> -driven.  Now we are talking about <b>level</b> control, which means that with one level of the clock signal C (-1 or 1) the trigger perceives the input signals (A or B, respectively), and with the other (0) it does not perceive and remains in the same position. <br><br>  Our scheme consists of two multiplexers, the second multiplexer is simply a transparent buffer, and the first (depending on the clock signal C) outputs the second either A or B, or the output buffer itself!  This means the following behavior: when C = -1, output Q closes to input A, when C = 1, output Q closes to input B, and when C = 0, output Q is kept constant and inputs A and B are simply ignored.  In the text it can be messy, so watch the following video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VCJHS836rlI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h1>  Dynamic memory cell: a ternary trigger with front control </h1><br>  In contrast to level control, with edge control, permission to switch a trigger is given only at the time of a clock drop.  The rest of the time, regardless of the level of the clock signal, the trigger does not perceive the input signals and remains unchanged. <br><br><h2>  Excursion to a well-studied area </h2><br>  Let's take a trip to the binary (brrr) world for a moment to make it a little clearer.  In the Russian-language literature, the word ‚Äútrigger‚Äù is applied to all such schemes (correct me, I only found the mask).  The level controlled binary trigger is called <a href="https://en.wikipedia.org/wiki/Flip-flop_(electronics)">gated D-latch</a> .  Roughly speaking, it has two inputs: D (data) and E (enable).  The only output Q is equal to D if E = 1, and retains its value if E = 0. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f19/4f3/f2a/f194f3f2a5e42832aed2ecd55cb340e1.gif"><br><br>  A flip-flop trigger (flip-flop) can be built from two ordinary latches (gated D-latch) and one inverter: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0a9/33d/8ae/0a933d8ae91280022abbafcca2ab3a1d.svg"><br><br>  This scheme is called <a href="https://en.wikipedia.org/wiki/Flip-flop_(electronics)">Master-slave edge-triggered D flip-flop.</a> <br><br><h2>  Back to the ternary world or terra (almost) incognita </h2><br>  If we want to trigger on the front of a clock signal, we, just like in the binary world, can use two ternary latches and one equivalent of a binary inverter, as in this diagram: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a65/57d/da5/a6557dda59fdbd91116ddbb38ca2ceec.png"><br><br>  Our dynamic memory cell has two inputs: C and Am;  it has one Qs output.  In the binary world, the inverter generates a second phase shifted signal that clocks the slave latch.  In our ternary scheme, the clock signal is split into two: min (C, 0) and max (C, 0), each of which clocks its own latch.  In order for the signal Am to reach the output Qs, we need two consecutive rising edges on the signal C: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fbe/c0c/04c/fbec0c04c6a0ec0685d9393a80adbb98.png"><br><br>  Please note that immediately after switching on the circuit, before signal C sweeps from minus one to one, the output signal Qs is undefined.  Initialize your variables :) <br><br>  By the way, note that both the master and the slave latches have one of the inputs not used.  This can be used to quickly initialize the memory, but more on that next time. <br><br>  Here are the relevant video work of the memory cell with dynamic control: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/WdrLUwkbtzE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h1>  Conclusion </h1><br>  We considered two options for memory cells.  The memory cell with dynamic control is the main element of the ternary counter, which we will consider next time.  Then let's talk about the ALU and the like.  Of course, getting even one kilotrit of memory in this way is a very expensive (if done on the knee) lesson, but since my piece of iron will be designed for demonstration purposes and with a much smaller amount of memory, it is not so scary. <br><br>  Enjoy! </div><p>Source: <a href="https://habr.com/ru/post/324650/">https://habr.com/ru/post/324650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324640/index.html">A revolution in javascript. Literally</a></li>
<li><a href="../324642/index.html">Error Handling in C</a></li>
<li><a href="../324644/index.html">On technical aspects of external and internal motivation</a></li>
<li><a href="../324646/index.html">Rust, Eclipse and STM32</a></li>
<li><a href="../324648/index.html">How I started programming better</a></li>
<li><a href="../324654/index.html">Infrastructure migration to the ‚Äúcloud‚Äù in steps: what difficulties arise and where</a></li>
<li><a href="../324658/index.html">Launching the project Otus.ru</a></li>
<li><a href="../324660/index.html">Manage domain permissions using PowerShell and the ADSI API</a></li>
<li><a href="../324662/index.html">How to independently serve 2500 accounting bases</a></li>
<li><a href="../324664/index.html">10 main difficulties on the way to adaptation DevOps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>