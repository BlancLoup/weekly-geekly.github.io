<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a universal Install Server for an automatic network installation of Linux and Windows based on Cobbler</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cobbler is a tool in the Linux world that can be used as an Install Server, creating many installation scripts over a network based on one or more Lin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a universal Install Server for an automatic network installation of Linux and Windows based on Cobbler</h1><div class="post__text post__text-html js-mediator-article"> Cobbler is a tool in the Linux world that can be used as an Install Server, creating many installation scripts over a network based on one or more Linux distributions.  There is also support for FreeBSD, VMware, Xen and Nexenta installations. <br><br>  I would like to use it to also flexibly and universally create my own network installation scripts from various Windows distributions (XP, 2003, 7, 2008, 2012). <br><br>  How to set up and use cobbler for installing Linux is exhaustively written on its official website - <a href="https://cobbler.github.io/">https://cobbler.github.io</a> .  I will focus here on my version of solving the problem of Windows. <br><a name="habracut"></a><br>  The main problem for creating your own network installation script was the preparation of the necessary Windows boot files for Linux.  I generate the necessary binary files when I launch the cobbler post-trigger on the <code>cobbler sync</code> command: <br><ul><li>  Some of the files are created from the standard direct replacement of one line with another directly in the binary. </li><li>  In the process of changing the bootmgr.exe file, the PE checksum of the file will change and it needs to be recalculated.  The trigger does this using python-pefile. </li><li>  hivex was used to create the BCD boot information registers. </li><li>  to work with wim <a href="http://wimlib.net/">images</a> - <a href="http://wimlib.net/">wimlib</a> </li><li>  Windows response files are generated using cobbler templates using all of its capabilities for conditional code generation depending on the Windows version, architecture (32 or 64 bits), installation profile, etc. </li><li>  Startup scripts for wim images (startnet.cmd) and a script that runs after an OS installation (post_install.cmd) is also generated from templates. </li></ul><br>  In my case, the answer files are generated mainly based on the version of Windows and quite rarely, in addition, based on the profile name.  Those.  I chose for myself the most suitable and in most cases used installation options that can be specified in the answer file for each version of Windows. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main work on setting up an installation option, installing additional software, etc.  lies on the script, which I specify as a kickstart file for the cobbler profile (win.ks) in the case of Windows installation and downloaded by the script post_install.cmd already at the time of installation.  Cobbler dynamically generates code at the moment of downloading based on the win.ks template.  And in this template, most of the code is generated based on the profile name. <br><br>  As a result, in most cases, in order to change the installation script when debugging, it is enough for me to simply edit the text file win.ks on the server and restart the installation. <br><br>  By simplifying to the logical interrelationship of the files that need to be changed for each scenario, the network installation for Xp and 2003 can be schematically depicted like this: <br> <code>pxeboot.n12 ‚Üí setupldr.exe ‚Üí winnt.sif ‚Üí post_install.cmd profile_name <br></code> <br><br>  For Windos 7 and newer: <br> <code>pxeboot.n12 ‚Üí bootmgr.exe ‚Üí BCD ‚Üí winpe.wim ‚Üí startnet.cmd ‚Üí autounattended.xml ‚Üí post_install.cmd profile_name <br></code> <br><br>  Not the shortest path from the point in the PXE menu to running the post_install.cmd script with the profile name as a parameter.  In addition, this script should also take from the cobbler server kickstart corresponding to this profile and run it. <br><br><h4>  Now, first things first </h4><br>  We believe that cobbler 2.6.9 and everything you need to work with it is already installed, configured (for example, iptables, SElinux) and does an excellent job with installing Linux. <br><br>  Install everything you need: <br><ul><li><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># dnf install python-pefile hivex ntfs-3g fuse</span></span></code> </pre> </li><li>  I collected wimlib from source </li></ul><br>  Using hivex is not directly convenient - <a href="http://www.ultimatedeployment.org/win7pxelinux1.html">here</a> (a good installation option, but I didn‚Äôt like it because it uses tftp log analysis, but I don‚Äôt need to bounce binaries) I found a ready-made script (bcdedit.pl) that makes the necessary changes in the standard BCD .  In fact, it is a replacement for the Windows utility bcdedit.  It was written in Perl, I extracted it from the archive and put it in / usr / local / bin, having previously modified: <br><pre> <code class="diff hljs"># diff -c bcdedit.pl.orig bcdedit.pl *** bcdedit.pl.orig --- bcdedit.pl <span class="hljs-comment"><span class="hljs-comment">*************** *** 232,237 **** --- 232,238 ---- &amp;AddElement($BCDFILE,$guids{bootmgr},"25000004","hex:3:1e,00,00,00,00,00,00,00"); &amp;AddElement($BCDFILE,$guids{bootmgr},"12000004","string:Windows Boot Manager"); &amp;AddElement($BCDFILE,$guids{bootmgr},"24000001",&amp;Guids2MultiSZ($newguid)); + &amp;AddElement($BCDFILE,$guids{bootmgr},"16000048","hex:3:01"); print "Creating New Object\n"; &amp;CreateGuid($BCDFILE,$newguid,"0x10200003");</span></span></code> </pre><br>  The added line is similar to the command: <br><pre> <code class="bash hljs">bcdedit -<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> {bootmgr} nointegritychecks Yes</code> </pre><br>  In the server's tftp directory, we create a folder where we will have the Windows distribution kits: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># mkdir /var/lib/tftpboot/winos</span></span></code> </pre><br>  Now there we create directories for each distribution kit and we copy its contents there. <br>  It looks like this to me: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ls -l /var/lib/tftpboot/winos dr-xr-xr-x. 6 root root 4096 Nov 29 2014 Win2012-Server_EN-x64 dr-xr-xr-x. 6 root root 4096 Jun 1 2014 Win2012-Server_RU-x64 dr-xr-xr-x. 10 root root 4096 May 6 19:41 Win2K3-Server_EN-x64 dr-xr-xr-x. 7 root root 4096 Nov 13 2013 Win2k8-Server_EN-x64 dr-xr-xr-x. 4 root root 4096 Oct 28 2013 Win7_EN-x64 dr-xr-xr-x. 5 root root 4096 Sep 25 2014 Win7_RU-x64 dr-xr-xr-x. 6 root root 4096 Jun 25 10:29 Win8_RU-x64 dr-xr-xr-x. 7 root root 4096 Dec 8 2011 WinXp_EN-i386 dr-xr-xr-x. 8 root root 4096 Jul 31 17:12 WinXp_RU-i386</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">If you plan to install such rarities as Xp or 2003</b> <div class="spoiler_text"><h4>  Preparing boot files </h4><br>  In directories with WinXp_EN-i386, WinXp_RU-i386 and Win2K3-Server_EN-x64 distributions, we execute the following commands: <br><pre> <code class="bash hljs">[root@is WinXp_EN-i386]<span class="hljs-comment"><span class="hljs-comment"># cabextract i386/startrom.n1_ [root@is WinXp_EN-i386]# mv startrom.n12 pxeboot.n12 [root@is WinXp_EN-i386]# cabextract i386/setupldr.ex_</span></span></code> </pre><br>  In the distribution directories with Xp: <br><pre> <code class="bash hljs">[root@is WinXp_EN-i386]<span class="hljs-comment"><span class="hljs-comment"># sed -i 's/ntdetect\.com/ntdetect.wxp/gi setupldr.exe</span></span></code> </pre><br>  In distribution directories since 2003: <br><pre> <code class="bash hljs">[root@is Win2K3-Server_EN-x64]<span class="hljs-comment"><span class="hljs-comment"># sed -i 's/ntdetect\.com/ntdetect.2k3/gi setupldr.exe</span></span></code> </pre><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cp /var/lib/tftpboot/winos/WinXp_EN-i386/i386/ntdetect.com /var/lib/tftpboot/winos/ntdetect.wxp # cp /var/lib/tftpboot/winos/Win2K3-Server_EN-x64/i386/ntdetect.com /var/lib/tftpboot/winos/ntdetect.wxp</span></span></code> </pre><br><h4>  RIS setup </h4><br>  We need ris-linux.  In my distribution, it is set as follows: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># dnf install ris-linux</span></span></code> </pre><br>  In order for RIS not to interfere with the installation of Win 7, you need to comment on one line in the /usr/share/ris-linux/binlsrv.py file: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd /usr/share/ris-linux # cp binlsrv.py binlsrv.py.orig # sed -i "s/p = p + chr(252) + chr(len(/#&amp;/gi" binlsrv.py</span></span></code> </pre><br><pre> <code class="diff hljs"># diff binlsrv.py.orig binlsrv.py 571c571 &lt; p = p + chr(252) + chr(len('boot\\bcd')) + 'boot\\bcd' --- &gt; #p = p + chr(252) + chr(len('boot\\bcd')) + 'boot\\bcd'</code> </pre><br>  I did not manage to find a simple way, without analyzing the tftpd logs, the ability to specify which BIS RIS is needed.  So just turned it off. <br><br>  Create a folder / var / lib / tftpboot / winos / inf and copy there all the .inf files of 32-bit network card drivers that you need and run the command: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /usr/share/ris-linux/infparser.py /var/lib/tftpboot/winos/inf</span></span></code> </pre><br>  I need RIS to simultaneously serve 32-bit Xp and 64-bit Server 2003. To do this, create another instance of the service on another port: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd /etc/sysconfig # cp ris-linuxd ris-linuxd64 # sed -i 's/\/inf/&amp;64/gi' ris-linuxd64 # sed -i 's/linuxd/&amp;64/gi' ris-linuxd64 # sed -i 's/BINLSRV_OPTS=/&amp;--port=4012/gi' ris-linuxd64</span></span></code> </pre><br><pre> <code class="diff hljs"># diff ris-linuxd ris-linuxd64 2c2 &lt; # ris-linuxd service. --- &gt; # ris-linuxd64 service. 6c6 &lt; BINLSRV_INFPATH=/var/lib/tftpboot/winos/inf --- &gt; BINLSRV_INFPATH=/var/lib/tftpboot/winos/inf64 9c9 &lt; BINLSRV_OPTS= --- &gt; BINLSRV_OPTS=--port=4012 12c12 &lt; BINLSRV_LOGFILE=/var/log/ris-linuxd.log --- &gt; BINLSRV_LOGFILE=/var/log/ris-linuxd64.log 15c15 &lt; BINLSRV_PIDFILE=/var/run/ris-linuxd.pid --- &gt; BINLSRV_PIDFILE=/var/run/ris-linuxd64.pid</code> </pre><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd /usr/sbin # ln -s ris-linuxd ris-linuxd64</span></span></code> </pre><br>  Nobody bothered to rewrite the ris-linux service under systemd, however nobody needs it anymore. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd /etc/rc.d/init.d # cp ris-linuxd ris-linuxd64 # sed -i 's/ris-linuxd/&amp;64/gi' ris-linuxd64</span></span></code> </pre><br>  Create the folder / var / lib / tftpboot / winos / inf64 and copy there all the .inf files of 64-bit network card drivers that you need and run the command: <br><pre> <code class="bash hljs">/usr/share/ris-linux/infparser.py /var/lib/tftpboot/winos/inf64</code> </pre><br>  We include and start services: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl enable ris-linuxd # systemctl start ris-linuxd # systemctl enable ris-linuxd64 # systemctl start ris-linuxd64</span></span></code> </pre><br>  Additionally, you need to change the port in the Win2K3-Server_EN-x64 bootloader to the one that we specified to 64-bit RIS. <br>  This can be done using the modldr.py utility from the ris-linux package: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /usr/share/ris-linux/modldr.py -p 4012 /var/lib/tftpboot/winos/Win2K3-Server_EN-x64/setupldr.exe</span></span></code> </pre><br>  If the work of the utility ends in an error, then in the text of the modldr.py script, replace the line: <br><pre> <code class="python hljs">ppattern = re.compile(<span class="hljs-string"><span class="hljs-string">r'\x6a\x04\x68(..)\x00\x00\xff\x35'</span></span>, re.DOTALL)</code> </pre><br>  per line: <br><pre> <code class="python hljs">ppattern = re.compile(<span class="hljs-string"><span class="hljs-string">r'\x6a\x64\x68(..)\x00\x00\xff\x35'</span></span>, re.DOTALL)</code> </pre><br></div></div><br><h4>  SAMBA preparation </h4><br><div class="spoiler">  <b class="spoiler_title">We need Samba to make two folders public.</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># vi /etc/samba/smb.conf #    [WINOS] path = /var/lib/tftpboot/winos guest ok = yes browseable = yes writeable = no public = yes blocking locks = no oplocks = no level2 oplocks = no #     [public] comment = Public Stuff path = /var/www/html/Distr public = yes writable = no printable = no guest ok = yes blocking locks = no oplocks = no level2 oplocks = no</span></span></code> </pre><br></div></div><br>  Create a user with minimal rights, which will be used during the installation.  I have: install / install <br><br><h4>  Preparing files for a network installation Win 7, 8, 2008, 2012 </h4><br>  The situation with Win 7, 8, 2008, 2012 is much worse than in Xp.  It's not so easy to dig into binaries here - then you need to recalculate the checksum in it. <br><br>  The answer file for automatic installation is also available here in a more modern form - in the xml format.  There are a lot of improvements in it, for example, you can specify how to cut disks into partitions, etc. But there is also a big spoon of tar - the name of the answer file is sewn into the start script, which actually starts the installation.  In turn, the script itself is sewn into a wim image. <br><br>  Those.  There are still more inconveniences with fixing binaries, and besides for each installation scenario based on one distribution I now have to have a separate wim image that differs from the other same image only by the name of the answer file in the start script. <br><br>  The following files should be put in the distribution directories: <br><ul><li>  pxeboot.n12 </li><li>  bootmgr.exe </li><li>  boot / BCD </li><li>  boot / boot.sdi </li><li>  boot / fonts and a set of fonts in it </li></ul><br><h4>  Creating Cobbler Templates </h4><br>  Create rules for converting file names to tftp: <br><div class="spoiler">  <b class="spoiler_title">The contents of the file /etc/tftpd.rules</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#vi /etc/tftpd.rules rg \\ / # Convert backslashes to slashes r (BOOTFONT\.BIN) /winos/\1 r (/Boot/Fonts/)(.*) /winos/Win8_RU-x64/boot/Fonts/\2 r (ntdetect\.wxp) /winos/\1 r (ntdetect\.2k3) /winos/\1 r (wine.\.sif) /WinXp_EN-i386/\1 r (xple.) /WinXp_EN-i386/\1 r (winr.\.sif) /WinXp_RU-i386/\1 r (xplr.) /WinXp_RU-i386/\1 r (wi2k.\.sif) /Win2K3-Server_EN-x64/\1 r (w2k3.) /Win2K3-Server_EN-x64/\1 r (/Win2K3-Server_EN-x64/)(.*) /winos\1\L\2 r (boot7r..exe) /winos/Win7_RU-x64/\1 r (/Boot/)(7R.) /winos/Win7_RU-x64/boot/\2 r (boot7e.\.exe) /winos/Win7_EN-x64/\1 r (/Boot/)(7E.) /winos/Win7_EN-x64/boot/\2 r (boot28.\.exe) /winos/Win2k8-Server_EN-x64/\1 r (/Boot/)(28.) /winos/Win2k8-Server_EN-x64/boot/\2 r (boot2e.\.exe) /winos/Win2012-Server_EN-x64/\1 r (/Boot/)(2e.) /winos/Win2012-Server_EN-x64/boot/\2 r (boot2r.\.exe) /winos/Win2012-Server_RU-x64/\1 r (/Boot/)(2r.) /winos/Win2012-Server_RU-x64/boot/\2 r (boot81.\.exe) /winos/Win8_RU-x64/\1 r (/Boot/)(B8.) /winos/Win8_RU-x64/boot/\2 r (/WinXp...-i386/)(.*) /winos\1\L\2</span></span></code> </pre><br></div></div><br>  Specify the conversion rules in the tftp cobbler template: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># vi /etc/cobbler/tftpd.template service tftp { disable = no socket_type = dgram protocol = udp wait = yes user = $user server = $binary server_args = -m /etc/tftpd.rules --port-range 25000:25030 -v -v -v -s $args per_source = 11 cps = 100 2 flags = IPv4 }</span></span></code> </pre><br>  We add version information in the /var/lib/cobbler/distro_signatures.json file to the windows section so that they can be used in cobbler metadata in templates. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># vi /var/lib/cobbler/distro_signatures.json "windows": { "2003": { }, "2008": { }, "2012": { }, "XP": { }, "7": { }, "8": { } },</span></span></code> </pre><br>  When setting up a Windows installation, it was possible to retain the main advantages of a Linux installation through cobbler by creating an answer file and a post-installation script from templates. <br><br>  I have the following files in my Windows templates: <br><ol><li>  post_inst_cmd.template - script template to be launched after OS installation </li><li>  win.ks - plays the role of the post section in kiskstart linux for windows </li><li>  win_sif.template - response file template </li><li>  startnet.template - start script template in wim image </li><li>  winpe7.template - wim file for Win 7 and Win 2008 Server </li><li>  winpe8.template - wim file for Win 8 and Win 2012 Server </li></ol><br><h4>  Templates post_inst_cmd.template and win.ks </h4><br>  Create a script template that runs after installing windows (no matter which version). <br>  The name of the profile (installation option) cobbler as a parameter is passed to the script upon startup. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cat /var/lib/tftpboot/winos/post_inst_cmd.template %systemdrive% CD %systemdrive%\TMP &gt;nul 2&gt;&amp;1 $SNIPPET('my/win_wait_network_online') wget.exe http://@@http_server@@/cblr/svc/op/ks/profile/%1 MOVE %1 install.cmd todos.exe install.cmd start /wait install.cmd DEL /F /Q libeay32.dll &gt;nul 2&gt;&amp;1 DEL /F /Q libiconv2.dll &gt;nul 2&gt;&amp;1 DEL /F /Q libintl3.dll &gt;nul 2&gt;&amp;1 DEL /F /Q libssl32.dll &gt;nul 2&gt;&amp;1 DEL /F /Q wget.exe &gt;nul 2&gt;&amp;1 DEL /F /Q %0 &gt;nul 2&gt;&amp;1</span></span></code> </pre><br>  <u>A few explanations of the pattern:</u> <br>  In each directory with the distribution there is a folder $ OEM $ / $ 1 / TMP which contains wget.exe, todos.exe and dll'ki necessary for them to run.  More precisely, they are in the same folder, while others just symlink to it. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ls -l '/var/lib/tftpboot/winos/Win2K3-Server_EN-x64/$OEM$/$1/TMP' -rwxr-xr-x. 1 root root 1177600 Sep 4 2008 libeay32.dll -rwxr-xr-x. 1 root root 1008128 Mar 15 2008 libiconv2.dll -rwxr-xr-x. 1 root root 103424 May 7 2005 libintl3.dll -rwxr-xr-x. 1 root root 232960 Sep 4 2008 libssl32.dll -rwxr-xr-x. 1 root root 4880 Oct 26 1999 sleep.exe -rwxr-xr-x. 1 root root 52736 Oct 27 2013 todos.exe -rwxr-xr-x. 1 root root 449024 Dec 31 2008 wget.exe # ls -l '/var/lib/tftpboot/winos/Win8_RU-x64/sources/$OEM$/$1/TMP' lrwxrwxrwx. 1 root root 45 Oct 28 2013 /var/lib/tftpboot/winos/Win8_RU-x64/sources/$OEM$/$1/TMP -&gt; ../../../../Win2K3-Server_EN-x64/$OEM$/$1/TMP # ls -l '/var/lib/tftpboot/winos/WinXp_RU-i386/$OEM$/$1/TMP' lrwxrwxrwx. 1 root root 42 May 31 2014 /var/lib/tftpboot/winos/WinXp_RU-i386/$OEM$/$1/TMP -&gt; ../../../Win2K3-Server_EN-x64/$OEM$/$1/TMP</span></span></code> </pre><br><ul><li>  When installing OS, these files are copied to C: \ TMP. </li><li>  Snipet win_wait_network_online waits until the network is ready by pinging the IP address of the server where the cobbler is installed. <br><div class="spoiler">  <b class="spoiler_title">The contents of the snippet file / var / lib / cobbler / snippets / my / win_wait_network_online</b> <div class="spoiler_text"><pre> <code class="bash hljs">:wno10 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> n=0 :wno20 ping @@http_server@@ -n 3 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> exit_code=%ERRORLEVEL% IF %exit_code% EQU 0 GOTO wno_exit <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> /an=n+1 IF %n% lss 30 goto wno20 pause goto wno10 :wno_exit</code> </pre><br>  When generating the script, the variable name @@ http_server @@ from the cobbler metadata is replaced with the real IP address of the server where the cobbler is installed. <br></div></div></li><li>  Next, wget.exe downloads the kickstart file.  Unlike the Linux kickstart, this one contains a .cmd file, but also a cobbler from the win.ks template generated on the fly by the cobbler server. </li><li>  This file is renamed, then recoded to windows text file format and launched as a normal cmd script. </li><li>  After working out the script in C: \ TMP, the files used to get it are deleted, and the script itself. </li></ul><br>  The file that we downloaded by wget and which plays the role of the post-installation part of the Linux kickstart looks like in a simplified form: <br><div class="spoiler">  <b class="spoiler_title">Contents of the /var/lib/cobbler/kickstarts/win.ks file</b> <div class="spoiler_text"><pre> <code class="dos hljs"># cat /var/lib/cobbler/kickstarts/win.ks $SNIPPET('my/win_wait_network_online') <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> n=<span class="hljs-number"><span class="hljs-number">0</span></span> :mount_y <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use y: \\@@http_server@@\Public /user:install install <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> exit_code=<span class="hljs-variable"><span class="hljs-variable">%ERRORLEVEL%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-variable"><span class="hljs-variable">%exit_code%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EQU</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GOTO</span></span> mount_z <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> /an=n+<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-variable"><span class="hljs-variable">%n%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lss</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> mount_y <span class="hljs-built_in"><span class="hljs-built_in">PAUSE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> mount_y <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> n=<span class="hljs-number"><span class="hljs-number">0</span></span> :mount_z <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use z: \\@@http_server@@\winos /user:install install <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> exit_code=<span class="hljs-variable"><span class="hljs-variable">%ERRORLEVEL%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-variable"><span class="hljs-variable">%exit_code%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EQU</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GOTO</span></span> mount_exit <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> /an=n+<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-variable"><span class="hljs-variable">%n%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lss</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> mount_z <span class="hljs-built_in"><span class="hljs-built_in">PAUSE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> mount_z :mount_exit <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\stage.dat <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> flag005 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> &gt; <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\stage.dat $SNIPPET('my/win_check_virt') #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $distro_name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ( 'WinXp_EN-i386', 'WinXp_RU-i386', 'Win2K3-Server_EN-x64' ) z:\Drivers\wsname.exe /N:$DNS /NOREBOOT #<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">REM</span></span> <span class="hljs-built_in"><span class="hljs-built_in">pause</span></span> #end <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Windows Registry Editor Version <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">00</span></span> &gt; <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\install.reg <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> [HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\RunOnce] &gt;&gt; <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\install.reg <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> "DD"="C:\\TMP\\install.<span class="hljs-built_in"><span class="hljs-built_in">cmd</span></span>" &gt;&gt; <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\install.reg $SNIPPET('my/win_install_drivers') #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $distro_name == 'Win2K3-Server_EN-x64' <span class="hljs-built_in"><span class="hljs-built_in">start</span></span> /wait z:\Win2K3-Server_EN-x64\cmpnents\r2\setup2.exe /q /a /sr <span class="hljs-built_in"><span class="hljs-built_in">start</span></span> /wait y:\Windows\Win2003\IE8-WindowsServer2003-x64-ENU.exe /passive /update-no /norestart <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%virt%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> NO REG IMPORT y:\Windows\Win2003\vm.reg #end <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> REG IMPORT <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\install.reg <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use Y: /delete <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use Z: /delete <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\sleep.exe <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> :flag005 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /f "tokens=*" <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\stage.dat) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> stage=<span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> &gt; <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\stage.dat REG IMPORT <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\install.reg <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%stage%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">neq</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> flag010 <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use Y: /delete <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use Z: /delete shutdown -r -f -t <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> :flag010 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%stage%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">gtr</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> flag020 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> &gt; <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\stage.dat $SNIPPET('my/winzip') $SNIPPET('my/winrar') $SNIPPET('my/win_install_chrome') $SNIPPET('my/win_install_ffox') $SNIPPET('my/win_install_adacr') $SNIPPET('my/win_install_jdk7-x86') $SNIPPET('my/win_install_jdk7-x86_64') $SNIPPET('my/win_install_UltraVNC') #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $distro_name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ( 'WinXp_EN-i386', 'WinXp_RU-i386', 'Win2K3-Server_EN-x64' ) $SNIPPET('my/win_install_office_2007_ru') #<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $distro_name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ( 'Win7_RU-x64', 'Win2012-Server_RU-x64', 'Win8_RU-x64' ) $SNIPPET('my/win_install_office_2010_ru') #<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> $SNIPPET('my/win_install_office_2010_en') #end <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Title</span></span> Cleaning Temp files <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> "<span class="hljs-variable"><span class="hljs-variable">%systemroot%</span></span>\*.bmp" &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> "<span class="hljs-variable"><span class="hljs-variable">%systemroot%</span></span>\Web\Wallpaper\*.jpg" &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> "<span class="hljs-variable"><span class="hljs-variable">%systemroot%</span></span>\system32\dllcache\*.scr" &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> "<span class="hljs-variable"><span class="hljs-variable">%systemroot%</span></span>\system32\*.scr" &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> "<span class="hljs-variable"><span class="hljs-variable">%AllUsersProfile%</span></span>\<span class="hljs-built_in"><span class="hljs-built_in">Start</span></span> Menu\Windows Update.lnk" &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> "<span class="hljs-variable"><span class="hljs-variable">%AllUsersProfile%</span></span>\<span class="hljs-built_in"><span class="hljs-built_in">Start</span></span> Menu\<span class="hljs-built_in"><span class="hljs-built_in">Set</span></span> Program Access and Defaults.lnk" &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> "<span class="hljs-variable"><span class="hljs-variable">%AllUsersProfile%</span></span>\<span class="hljs-built_in"><span class="hljs-built_in">Start</span></span> Menu\Windows Catalog.lnk" &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> "<span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\Microsoft Office*.txt" &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> user aspnet /delete &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">REM</span></span> <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\sleep.exe <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use Y: /delete <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use Z: /delete shutdown -r -f -t <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-built_in"><span class="hljs-built_in">RD</span></span> /S /Q <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\DRIVERS\ &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">defined</span></span> stage <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> /F /Q <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\post_install.<span class="hljs-built_in"><span class="hljs-built_in">cmd</span></span> <span class="hljs-built_in"><span class="hljs-built_in">DEL</span></span> /F /S /Q <span class="hljs-variable"><span class="hljs-variable">%systemdrive%</span></span>\TMP\*.* <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span></code> </pre><br></div></div><br>  Snippets here are used in order not to clutter up the code.  They carry out checks on the hypervisor, install the necessary drivers, depending on the distribution kit and the profile, this or that software is installed or not. <br><br><h4>  Template win_sif.template </h4><br>  This is a single template from which answer files of all windows versions are formed.  In it, as in other templates, you can use all the cobbler meta-variables. <br>  Such as $ arch, $ distro_name, $ profile_name. <br><div class="spoiler">  <b class="spoiler_title">Contents of the /var/lib/tftpboot/winos/win_sif.template file</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#if $distro_name in ( 'WinXp_EN-i386', 'WinXp_RU-i386', 'Win2K3-Server_EN-x64' ) #if $arch == 'x86_64' #set $win_arch = 'amd64' #else if $arch == 'i386' #set $win_arch = 'i386' #end if #set $OriSrc = '\\\\' + $http_server + '\\WINOS\\' + $distro_name + '\\' + $win_arch #set $DevSrc = '\\Device\\LanmanRedirector\\' + $http_server + '\\WINOS\\' + $distro_name [Data] floppyless = "1" msdosinitiated = "1" ; Needed for second stage OriSrc="$OriSrc" OriTyp="4" LocalSourceOnCD=1 DisableAdminAccountOnDomainJoin=0 AutomaticUpdates="No" Autopartition="0" UnattendedInstall="Yes" [SetupData] OsLoadOptions = "/noguiboot /fastdetect" ; Needed for first stage SetupSourceDevice = "$DevSrc" [Unattended] CrashDumpSetting=0 FactoryMode=No UnattendMode=FullUnattended UnattendSwitch="Yes" OemPreinstall="Yes" OemSkipEula="Yes" Repartition=No FileSystem=* WaitForReboot="No" NoWaitAfterTextMode=1 NoWaitAfterGUIMode=1 DriverSigningPolicy=Ignore NonDriverSigningPolicy=Ignore UpdateInstalledDrivers=Yes TargetPath=\WINDOWS OemPnPDriversPath=DRIVERS\NIC;DRIVERS\ACPI;DRIVERS\CHIPSET\5520\All;DRIVERS\CHIPSET\C200\All;DRIVERS\Storage;DRIVERS\Virt #if $os_version == '2003' [LicenseFilePrintData] AutoMode = PerSeat #end if [Display] BitsPerPel=32 XResolution=1440 YResolution=900 Vrefresh=60 [WindowsFirewall] Profiles = WindowsFirewall.TurnOffFirewall [WindowsFirewall.TurnOffFirewall] Mode = 0 [PCHealth] RA_AllowToGetHelp=0 [GuiRunOnce] "%Systemdrive%\post_install.cmd @@profile_name@@" [GuiUnattended] AdminPassword=* TimeZone=195 OEMSkipRegional=1 OemSkipWelcome=1 #if $os_version != '2003' AutoLogon = Yes AutoLogonCount=1 #end if [RemoteInstall] Repartition=Yes UseWholeDisk=Yes [Components] msmsgs=Off msnexplr=Off zonegames=Off Paint=Off #if $os_version == '2003' ; Iis_common=On ; Iis_inetmgr=On ComPlusNetwork=On ; Iis_www=On ; Iis_asp=On IEHardenAdmin=Off IEHardenUser=Off #end if [TerminalServices] AllowConnections=1 [UserData] #if $os_version == '2003' ProductKey="XXXXX-XXXXX-XXXXX-XXXXX-XXXXX" #else if $distro_name == 'WinXp_EN-i386' ProductKey="XXXXX-XXXXX-XXXXX-XXXXX-XXXXX" #else if $distro_name == 'WinXp_RU-i386' ProductKey="XXXXX-XXXXX-XXXXX-XXXXX-XXXXX" #end if ComputerName=* FullName="Admin" OrgName="Microsoft" [RegionalSettings] LanguageGroup=1,2,3,4,5 #if $distro_name == 'WinXp_RU-i386' SystemLocale=00000419 UserLocale=00000419 #else SystemLocale=00000409 UserLocale=00000409 #end if InputLocale=0409:00000409,0419:00000419 [Shell] CustomDefaultThemeFile="%WinDir%\Resources\Themes\Windows Classic.Theme" [Networking] InstallDefaultComponents="Yes"</span></span></code> </pre><br><pre> <code class="xml hljs">#else if $distro_name in ( 'Win7_RU-x64', 'Win7_EN-x64', 'Win2k8-Server_EN-x64', 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64', 'Win8_RU-x64' ) <span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">unattend</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:schemas-microsoft-com:unattend"</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name in ( 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">servicing</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">package</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"configure"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">assemblyIdentity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-ServerCore-Package"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6.3.9600.16384"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IIS-WebServerRole"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Hyper-V"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Hyper-V-Offline"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Hyper-V-Online"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Hyper-V-Management-Clients"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Hyper-V-Management-PowerShell"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"VmHostAgent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FailoverCluster-FullServer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FailoverCluster-PowerShell"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FailoverCluster-CmdInterface"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MultipathIo"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ServerManager-Core-RSAT-Role-Tools"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"RSAT-Hyper-V-Tools-Feature"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ServerManager-Core-RSAT"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ServerMediaFoundation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Remote-Desktop-Services"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IIS-WebServer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IIS-ApplicationDevelopment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IIS-CommonHttpFeatures"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IIS-HealthAndDiagnostics"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IIS-Performance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IIS-Security"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">selection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IIS-WebServerManagementTools"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">package</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">servicing</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pass</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"windowsPE"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-International-Core-WinPE"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name in ( 'Win7_RU-x64', 'Win2012-Server_RU-x64', 'Win8_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InputLocale</span></span></span><span class="hljs-tag">&gt;</span></span>0409:00000409;0419:00000419<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InputLocale</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SystemLocale</span></span></span><span class="hljs-tag">&gt;</span></span>ru-RU<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SystemLocale</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UILanguage</span></span></span><span class="hljs-tag">&gt;</span></span>ru-RU<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UILanguage</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UILanguageFallback</span></span></span><span class="hljs-tag">&gt;</span></span>ru-RU<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UILanguageFallback</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserLocale</span></span></span><span class="hljs-tag">&gt;</span></span>ru-RU<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserLocale</span></span></span><span class="hljs-tag">&gt;</span></span> #else <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InputLocale</span></span></span><span class="hljs-tag">&gt;</span></span>0409:00000409<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InputLocale</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SystemLocale</span></span></span><span class="hljs-tag">&gt;</span></span>en-US<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SystemLocale</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UILanguage</span></span></span><span class="hljs-tag">&gt;</span></span>en-US<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UILanguage</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UILanguageFallback</span></span></span><span class="hljs-tag">&gt;</span></span>en-US<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UILanguageFallback</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserLocale</span></span></span><span class="hljs-tag">&gt;</span></span>en-US<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserLocale</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-Setup"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiskConfiguration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WillShowUI</span></span></span><span class="hljs-tag">&gt;</span></span>OnError<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WillShowUI</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Disk</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CreatePartitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CreatePartition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Extend</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Extend</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Type</span></span></span><span class="hljs-tag">&gt;</span></span>Primary<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CreatePartition</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CreatePartitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiskID</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiskID</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WillWipeDisk</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WillWipeDisk</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Disk</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiskConfiguration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImageInstall</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSImage</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InstallFrom</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Credentials</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Domain</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Domain</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Credentials</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MetaData</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Key</span></span></span><span class="hljs-tag">&gt;</span></span>/IMAGE/NAME<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Key</span></span></span><span class="hljs-tag">&gt;</span></span> #if $profile_name == 'IOS' <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>Windows8_VmVare_MacOS_xCode<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name in ( 'Win7_RU-x64', 'Win7_EN-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>Windows 7 PROFESSIONAL<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name in ( 'Win2k8-Server_EN-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>Windows Server 2008 R2 SERVERENTERPRISE<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name in ( 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>Windows Server 2012 R2 SERVERDATACENTER<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name in ( 'Win8_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>Windows 8.1 Pro<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name in ( 'Win8_EN-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>Windows 8.1 Enterprise<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MetaData</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InstallFrom</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InstallTo</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiskID</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiskID</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PartitionID</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PartitionID</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InstallTo</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSImage</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImageInstall</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserData</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name in ( 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Key</span></span></span><span class="hljs-tag">&gt;</span></span>XXXXX-XXXXX-XXXXX-XXXXX-XXXXX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Key</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WillShowUI</span></span></span><span class="hljs-tag">&gt;</span></span>Never<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WillShowUI</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AcceptEula</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AcceptEula</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FullName</span></span></span><span class="hljs-tag">&gt;</span></span>User<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FullName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Organization</span></span></span><span class="hljs-tag">&gt;</span></span>My Organization<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Organization</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserData</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EnableFirewall</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EnableFirewall</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-PnpCustomizationsWinPE"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DriverPaths</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name in ( 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64', 'Win8_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:keyValue</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\CHIPSET\Win8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag">&gt;</span></span> #else <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:keyValue</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\CHIPSET\5520\Vista<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:keyValue</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\CHIPSET\C200\WIN7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:keyValue</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3"</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name in ( 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64', 'Win8_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\NIC\Win8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> #else <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\NIC<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name in ( 'Win7_RU-x64', 'Win7_EN-x64', 'Win2k8-Server_EN-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:keyValue</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\ACPI\64\WIN7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:keyValue</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\Storage\64<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:keyValue</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6"</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name in ( 'Win8_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\Virt\Win8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name in ( 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\Virt\2012<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name in ( 'Win2k8-Server_EN-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\Virt\2008<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> #else <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span>\\@@http_server@@\WINOS\Drivers\Virt\Win7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Path</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PathAndCredentials</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DriverPaths</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pass</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"offlineServicing"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-LUA-Settings"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EnableLUA</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">EnableLUA</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pass</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"specialize"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-Shell-Setup"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ComputerName</span></span></span><span class="hljs-tag">&gt;</span></span>*<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ComputerName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RegisteredOrganization</span></span></span><span class="hljs-tag">&gt;</span></span>My Organization<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RegisteredOrganization</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RegisteredOwner</span></span></span><span class="hljs-tag">&gt;</span></span>Instructor<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RegisteredOwner</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name == 'Win7_RU-x64' <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span>XXXXX-XXXXX-XXXXX-XXXXX-XXXXX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name == 'Win7_EN-x64' <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span>XXXXX-XXXXX-XXXXX-XXXXX-XXXXX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name == 'Win2k8-Server_EN-x64' <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span>XXXXX-XXXXX-XXXXX-XXXXX-XXXXX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span> #else if $distro_name in ( 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span>XXXXX-XXXXX-XXXXX-XXXXX-XXXXX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProductKey</span></span></span><span class="hljs-tag">&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-UnattendedJoin"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Identification</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">JoinWorkgroup</span></span></span><span class="hljs-tag">&gt;</span></span>WORKGROUP<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">JoinWorkgroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Identification</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-TerminalServices-LocalSessionManager"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fDenyTSConnections</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fDenyTSConnections</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Networking-MPSSVC-Svc"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FirewallGroups</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FirewallGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:keyValue</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"EnableRemoteDesktop"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Active</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Active</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Group</span></span></span><span class="hljs-tag">&gt;</span></span>Remote Desktop<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Group</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Profile</span></span></span><span class="hljs-tag">&gt;</span></span>all<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Profile</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FirewallGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FirewallGroups</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserAuthentication</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserAuthentication</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pass</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"oobeSystem"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft-Windows-Shell-Setup"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">processorArchitecture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amd64"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">publicKeyToken</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"31bf3856ad364e35"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"neutral"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionScope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nonSxS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:wcm</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/WMIConfig/2002/State"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OOBE</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProtectYourPC</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProtectYourPC</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NetworkLocation</span></span></span><span class="hljs-tag">&gt;</span></span>Work<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NetworkLocation</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OOBE</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserAccounts</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AdministratorPassword</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>XXXX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PlainText</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PlainText</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AdministratorPassword</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalAccounts</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalAccount</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Password</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>XXXXX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PlainText</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PlainText</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Password</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Name</span></span></span><span class="hljs-tag">&gt;</span></span>User<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Group</span></span></span><span class="hljs-tag">&gt;</span></span>Administrators<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Group</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalAccount</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalAccounts</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DomainAccounts</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DomainAccountList</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Domain</span></span></span><span class="hljs-tag">&gt;</span></span>WORKGOUP<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Domain</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DomainAccount</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Name</span></span></span><span class="hljs-tag">&gt;</span></span>Domain Admins<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Group</span></span></span><span class="hljs-tag">&gt;</span></span>Administrators<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Group</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DomainAccount</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DomainAccount</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Name</span></span></span><span class="hljs-tag">&gt;</span></span>User<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Group</span></span></span><span class="hljs-tag">&gt;</span></span>Administrators<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Group</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DomainAccount</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DomainAccountList</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DomainAccounts</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserAccounts</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TimeZone</span></span></span><span class="hljs-tag">&gt;</span></span>Central Asia Standard Time<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TimeZone</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RegisteredOrganization</span></span></span><span class="hljs-tag">&gt;</span></span>My Organization<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RegisteredOrganization</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RegisteredOwner</span></span></span><span class="hljs-tag">&gt;</span></span>User<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RegisteredOwner</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FirstLogonCommands</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SynchronousCommand</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequiresUserInput</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequiresUserInput</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandLine</span></span></span><span class="hljs-tag">&gt;</span></span>cmd /C wmic useraccount where "name='user'" set PasswordExpires=FALSE<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandLine</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SynchronousCommand</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SynchronousCommand</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequiresUserInput</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequiresUserInput</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandLine</span></span></span><span class="hljs-tag">&gt;</span></span>c:\post_install.cmd @@profile_name@@<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandLine</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SynchronousCommand</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FirstLogonCommands</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AutoLogon</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Password</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>XXXX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PlainText</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PlainText</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Password</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Enabled</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Enabled</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Domain</span></span></span><span class="hljs-tag">&gt;</span></span>WORKGOUP<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Domain</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Username</span></span></span><span class="hljs-tag">&gt;</span></span>User<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Username</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LogonCount</span></span></span><span class="hljs-tag">&gt;</span></span>10000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LogonCount</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AutoLogon</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span> #if $distro_name in ( 'Win7_RU-x64', 'Win7_EN-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cpi:offlineImage</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpi:source</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"catalog:d:/sources/install_windows 7 professional.clg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:cpi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:schemas-microsoft-com:cpi"</span></span></span><span class="hljs-tag"> /&gt;</span></span> #else if $distro_name in ( 'Win2k8-Server_EN-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cpi:offlineImage</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpi:source</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"catalog:d:/sources/install_windows server 2008 r2 serverenterprise.clg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:cpi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:schemas-microsoft-com:cpi"</span></span></span><span class="hljs-tag"> /&gt;</span></span> #else if $distro_name in ( 'Win2012-Server_EN-x64', 'Win2012-Server_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cpi:offlineImage</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpi:source</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wim:c:/netboot/install.wim#Windows Server 2012 R2 SERVERDATACENTER"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:cpi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:schemas-microsoft-com:cpi"</span></span></span><span class="hljs-tag"> /&gt;</span></span> #else if $distro_name in ( 'Win8_RU-x64' ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cpi:offlineImage</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpi:source</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"catalog:d:/sources/install_windows 8.1 Pro.clg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:cpi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:schemas-microsoft-com:cpi"</span></span></span><span class="hljs-tag"> /&gt;</span></span> #end if <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">unattend</span></span></span><span class="hljs-tag">&gt;</span></span> #end if</code> </pre><br></div></div><br>     ,           : <br><ul><li>  Xp, 2003 <br><pre> <code class="bash hljs">[GuiRunOnce] <span class="hljs-string"><span class="hljs-string">"%Systemdrive%\post_install.cmd @@profile_name@@"</span></span></code> </pre></li><li>  7, 8, 2008, 2012 <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SynchronousCommand</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">wcm:action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"add"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequiresUserInput</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequiresUserInput</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Order</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandLine</span></span></span><span class="hljs-tag">&gt;</span></span>c:\post_install.cmd @@profile_name@@<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CommandLine</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SynchronousCommand</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre></li></ul><br><h4>  startnet.template </h4><br>         wim . <br><ul><li>       IP  DHCP  (      cobbler  samba). </li><li>     samba. </li><li>   cobbler     ($kernel_options[¬´sif¬ª])   . </li><li>   DNS       DNS      . </li><li>      . </li></ul><br><div class="spoiler"> <b class="spoiler_title">  /var/lib/cobbler/kickstarts/startnet.template</b> <div class="spoiler_text"><pre> <code class="dos hljs">wpeinit <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> -n <span class="hljs-number"><span class="hljs-number">10</span></span> &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-built_in"><span class="hljs-built_in">md</span></span> \tmp <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> \tmp <span class="hljs-built_in"><span class="hljs-built_in">ipconfig</span></span> /all | <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> "DHCP Server" &gt; dhcp <span class="hljs-built_in"><span class="hljs-built_in">ipconfig</span></span> /all | <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> "IPv4 Address" &gt; ipaddr <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> /F "eol=- tokens=<span class="hljs-number"><span class="hljs-number">2</span></span> delims=:" <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (dhcp) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> dhcp=<span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-variable"><span class="hljs-variable">%dhcp%</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> dhcp=<span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> /F "eol=- tokens=<span class="hljs-number"><span class="hljs-number">2</span></span> delims=:(" <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (ipaddr) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> ipaddr=<span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use y: \\<span class="hljs-variable"><span class="hljs-variable">%dhcp%</span></span>\Public /user:install install <span class="hljs-built_in"><span class="hljs-built_in">net</span></span> use z: \\<span class="hljs-variable"><span class="hljs-variable">%dhcp%</span></span>\WINOS\@@distro_name@@ /user:install install <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> exit_code=<span class="hljs-variable"><span class="hljs-variable">%ERRORLEVEL%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-variable"><span class="hljs-variable">%exit_code%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EQU</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GOTO</span></span> GETNAME <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> "Can't mount network drive <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXIT</span></span> :GETNAME y:\windows\bind\nslookup.exe <span class="hljs-variable"><span class="hljs-variable">%ipaddr%</span></span> | <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> "name =" &gt; wsname <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /f "eol=- tokens=<span class="hljs-number"><span class="hljs-number">2</span></span> delims==" <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (wsname) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> &gt; ws <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /f "eol=- tokens=<span class="hljs-number"><span class="hljs-number">1</span></span> delims=." <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (ws) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> wsname=<span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-variable"><span class="hljs-variable">%wsname%</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> wsname=<span class="hljs-variable"><span class="hljs-variable">%%i</span></span> #<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> $unattended = "<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> UNATTENDED_ORIG=Z:\\sources\\" + $kernel_options["sif"] $unattended <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> UNATTENDED=X:\tmp\autounattended.xml <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> /F "tokens=<span class="hljs-number"><span class="hljs-number">1</span></span> delims=!" <span class="hljs-variable"><span class="hljs-variable">%%l</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-variable"><span class="hljs-variable">%UNATTENDED_ORIG%</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> "<span class="hljs-variable"><span class="hljs-variable">%%l</span></span>"==" &lt;ComputerName&gt;*&lt;/ComputerName&gt;" ( <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> ^&lt;ComputerName^&gt;<span class="hljs-variable"><span class="hljs-variable">%wsname%</span></span>^&lt;^/ComputerName^&gt;&gt;&gt; <span class="hljs-variable"><span class="hljs-variable">%UNATTENDED%</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-variable"><span class="hljs-variable">%%l</span></span>&gt;&gt; <span class="hljs-variable"><span class="hljs-variable">%UNATTENDED%</span></span> ) ) <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> on :INSTALL <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> n=<span class="hljs-number"><span class="hljs-number">0</span></span> z:\sources\setup.exe /unattend:<span class="hljs-variable"><span class="hljs-variable">%UNATTENDED%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> /an=n+<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> -n <span class="hljs-number"><span class="hljs-number">5</span></span> &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-variable"><span class="hljs-variable">%n%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lss</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> INSTALL :<span class="hljs-keyword"><span class="hljs-keyword">EXIT</span></span></code> </pre><br></div></div><br><h4>  winpe7.template  winpe8.template </h4><br>      Win 7  Win 8   . <br>   <code>cobbler sync</code>        . <br>    ,          startnet.template      post-sync. <br><br>    wim   Linux   <a href="http://sourceforge.net/projects/wimlib">wimlib</a> <br>       ntfs-3g,       fuse. <br>    ,   cobbler  linux  lxc   libvirt,     xml   : <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hostdev</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'capabilities'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'misc'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">char</span></span></span><span class="hljs-tag">&gt;</span></span>/dev/fuse<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">char</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hostdev</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h4>      </h4><br> <u>    cobbler:</u> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl restart cobblerd # cobbler distro add --name=WinXp_RU-i386 --kernel=/var/lib/tftpboot/winos/WinXp_RU-i386/pxeboot.n12 --initrd=/var/lib/tftpboot/winos/add_ram.dat --arch=i386 --breed=windows --os-version=XP --kopts='post_install=/var/lib/tftpboot/winos/WinXp_RU-i386/$OEM$/$1/post_install.cmd' # cobbler distro add --name=Win7_RU-x64 --kernel=/var/lib/tftpboot/winos/Win7_RU-x64/pxeboot.n12 --initrd=/var/lib/tftpboot/winos/add_ram.dat --arch=x86_64 --breed=windows --os-version=7 --kopts='post_install=/var/lib/tftpboot/winos/Win7_RU-x64/sources/$OEM$/$1/post_install.cmd' # cobbler distro add --name=Win8_RU-x64 --kernel=/var/lib/tftpboot/winos/Win8_RU-x64/pxeboot.n12 --initrd=/var/lib/tftpboot/winos/add_ram.dat --arch=x86_64 --breed=windows --os-version=8 --kopts='post_install=/var/lib/tftpboot/winos/Win8_RU-x64/sources/$OEM$/$1/post_install.cmd'  ..</span></span></code> </pre><br>  kernel  ‚Äî PXE        pxeboot.n12   <code>cobbler sync</code> . <br> /var/lib/tftpboot/winos/add_ram.dat   initrd,     ‚Äî  distro  . <br><br> <u>    cobbler:</u> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cobbler profile add --name=WinXp_RU-i386 --distro=WinXp_RU-i386 --kickstart=/var/lib/cobbler/kickstarts/win.ks --kopts='pxeboot=winr0.0,bootmgr=xplr0,sif=winr0.sif' # cobbler profile add --name=Win7_RU-x64 --distro=Win7_RU-x64 --kickstart=/var/lib/cobbler/kickstarts/win.ks --kopts='pxeboot=win7ra.0,bootmgr=boot7ra.exe,bcd=7Ra,winpe=winpe.wim,sif=autounattended.xml' # cobbler profile add --name=Win8_RU-x64 --distro=Win8_RU-x64 --kickstart=/var/lib/cobbler/kickstarts/win.ks --kopts='pxeboot=win81a.0,bootmgr=boot81a.exe,bcd=B8a,winpe=winpe.wim,sif=autounattended.xml'</span></span></code> </pre><br>           Win8_RU-x64. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cobbler profile add --name=Win8-test1 --distro=Win8_RU-x64 --kickstart=/var/lib/cobbler/kickstarts/win.ks --kopts='pxeboot=win81b.0,bootmgr=boot81b.exe,bcd=B8b,winpe=winpb.wim,sif=autounattended01.xml' # cobbler profile add --name=Win8-test2 --distro=Win8_RU-x64 --kickstart=/var/lib/cobbler/kickstarts/win.ks --kopts='pxeboot=win81c.0,bootmgr=boot81c.exe,bcd=B8c,winpe=winpc.wim,sif=autounattended02.xml'</span></span></code> </pre><br>   win.ks    : <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#if $profile_name == ' Win8-test1' &lt;code&gt; #end if #if $profile_name == ' Win8-test2' &lt;code&gt; #end if</span></span></code> </pre> <br>         ,   /etc/tftpd.rules   .       ,        <code>cobbler sync</code> . <br><br><h4>   PXE  </h4><br> Cobbler                 . <br><br> -  cobbler   pxe        http_server    <code>server.example.org</code> ,       . Windows     ,    Linux        kickstart .  : <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd /usr/lib/python2.7/site-packages/cobbler # cp templar.py templar.py.orig # sed -i 's/"server.example.org"/self.settings.server/gi' templar.py</span></span></code> </pre><br>    /etc/cobbler/pxe/pxedefault.template  <br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$pxe_menu_items</span></span></code> </pre><br>  ,     - : <br><pre> <code class="bash hljs">menu begin Linux MENU TITLE Linux label Fedora-latest-x86_64 MENU INDENT 5 MENU LABEL Fedora-latest-x86_64 kernel /images/Fedora-22-x86_64/vmlinuz append initrd=/images/Fedora-22-x86_64/initrd.img ks.device=bootif ks.sendmac lang=en text ks=http://@@http_server@@/cblr/svc/op/ks/profile/Fedora-latest-x86_64 ipappend 2 label returntomain menu label Return to ^main menu. menu <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> menu end menu begin Windows MENU TITLE Windows label Win8-test1 MENU INDENT 5 MENU LABEL Win8-test1 kernel /winos/Win8_RU-x64/win81b.0 label Win8-test2 MENU INDENT 5 MENU LABEL Win8-test2 kernel /winos/Win8_RU-x64/win81c.0 label returntomain menu label Return to ^main menu. menu <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> menu end</code> </pre><br><h4>    </h4><br>       , ,  wim         . <br><br>       cobbler  post sync: <br><div class="spoiler"> <b class="spoiler_title">  /usr/lib/python2.7/site-packages/cobbler/modules/sync_post_wingen.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> distutils.sysconfig <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> traceback <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cexceptions <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> xmlrpclib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pefile <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cobbler.module_loader <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> module_loader <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cobbler.utils <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> utils <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cobbler.config <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> config <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cobbler.templar <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> templar template_dir = <span class="hljs-string"><span class="hljs-string">"/var/lib/tftpboot/winos/"</span></span> sif_template_name = template_dir + <span class="hljs-string"><span class="hljs-string">"win_sif.template"</span></span> post_inst_cmd_template_name = template_dir + <span class="hljs-string"><span class="hljs-string">"post_inst_cmd.template"</span></span> startnet_template_name = template_dir + <span class="hljs-string"><span class="hljs-string">"startnet.template"</span></span> wim7_template_name = template_dir + <span class="hljs-string"><span class="hljs-string">"winpe7.template"</span></span> wim8_template_name = template_dir + <span class="hljs-string"><span class="hljs-string">"winpe8.template"</span></span> wimlib = <span class="hljs-string"><span class="hljs-string">"/usr/bin/wimlib-imagex"</span></span> wimlib_mount = wimlib + <span class="hljs-string"><span class="hljs-string">" mountrw"</span></span> wimlib_umount = wimlib + <span class="hljs-string"><span class="hljs-string">" unmount"</span></span> mount_point = <span class="hljs-string"><span class="hljs-string">"/mnt/wim"</span></span> bcdedit = <span class="hljs-string"><span class="hljs-string">"/usr/local/bin/bcdedit.pl"</span></span> plib = distutils.sysconfig.get_python_lib() mod_path=<span class="hljs-string"><span class="hljs-string">"%s/cobbler"</span></span> % plib sys.path.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>, mod_path) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">register</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># this pure python trigger acts as if it were a legacy shell-trigger, but is much faster. # the return of this method indicates the trigger type return "/var/lib/cobbler/triggers/sync/post/*" def run( api, args, logger ): settings = api.settings() images = api.images() distros = api.distros() profiles = api.profiles() conf = config.Config( api ) templ = templar.Templar( conf ) rc = 0 template_win = open( post_inst_cmd_template_name ) tmpl_data = template_win.read() template_win.close() for distro in distros: if distro.breed == "windows": meta = utils.blender( api, False, distro ) if distro.kernel_options.has_key( "post_install" ): data = templ.render( tmpl_data, meta, None, distro ) pi_file = open( distro.kernel_options["post_install"], "w+" ) pi_file.write( data ) pi_file.close() template_win = open( sif_template_name ) tmpl_data = template_win.read() template_win.close() template_start = open( startnet_template_name ) tmplstart_data = template_start.read() template_start.close() logger.info( "\nWindows profiles:" ) for profile in profiles: distro = profile.get_conceptual_parent() if distro.breed == "windows": logger.info( 'Profile: ' + profile.name ) meta = utils.blender( api, False, profile ) (distro_path, pxeboot_name) = os.path.split( distro.kernel ) if profile.kernel_options.has_key( "sif" ): data = templ.render( tmpl_data, meta, None, profile ) if distro.os_version in ( "7", "2008", "8", "2012" ): sif_file_name = os.path.join( distro_path, 'sources', profile.kernel_options["sif"] ) else: sif_file_name = os.path.join( distro_path, profile.kernel_options["sif"] ) sif_file = open(sif_file_name, "w+" ) sif_file.write( data ) sif_file.close() logger.info( 'Build answer file: ' + sif_file_name ) if profile.kernel_options.has_key( "pxeboot" ) and profile.kernel_options.has_key( "bootmgr" ): wk_file_name = os.path.join( distro_path, profile.kernel_options["pxeboot"] ) wl_file_name = os.path.join( distro_path, profile.kernel_options["bootmgr"] ) logger.info( "Build PXEBoot: " + wk_file_name ) if distro.os_version in ( "7", "2008", "8", "2012" ): if len(profile.kernel_options["bootmgr"]) != 11: logger.error( "The loader name should be EXACTLY 11 character" ) return 1 if profile.kernel_options.has_key( "bcd" ): if len(profile.kernel_options["bcd"]) != 3: logger.error( "The BCD name should be EXACTLY 5 character" ) return 1 tl_file_name = os.path.join( distro_path, 'bootmgr.exe' ) pat1 = re.compile( r'bootmgr\.exe', re.IGNORECASE ) pat2 = re.compile( r'(\\.Boot\\.)(B)(.)(C)(.)(D)', re.IGNORECASE ) bcd_name = 'BCD' if profile.kernel_options.has_key( "bcd" ): bcd_name = profile.kernel_options["bcd"] bcd_name = "\\g&lt;1&gt;" + bcd_name[0] + "\\g&lt;3&gt;" + bcd_name[1] + "\\g&lt;5&gt;" + bcd_name[2] data = open( tl_file_name, 'rb').read() out = pat2.sub( bcd_name, data ) else: if len(profile.kernel_options["bootmgr"]) != 5: logger.error( "The loader name should be EXACTLY 5 character" ) return 1 if len(profile.kernel_options["sif"]) != 9: logger.error( "The response should be EXACTLY 9 character" ) return 1 tl_file_name = os.path.join( distro_path, 'setupldr.exe' ) pat1 = re.compile( r'NTLDR', re.IGNORECASE ) pat2 = re.compile( r'winnt\.sif', re.IGNORECASE) data = open( tl_file_name, 'rb').read() out = pat2.sub( profile.kernel_options["sif"], data ) logger.info( 'Build Loader: ' + wl_file_name ) if out != data: open(wl_file_name, 'wb+').write(out) if distro.os_version in ( "7", "2008", "8", "2012" ): pe = pefile.PE( wl_file_name, fast_load=True ) pe.OPTIONAL_HEADER.CheckSum = pe.generate_checksum() pe.write( filename=wl_file_name ) data = open(distro.kernel, 'rb').read() out = pat1.sub( profile.kernel_options["bootmgr"], data ) if out != data: open(wk_file_name, 'wb+').write(out) if profile.kernel_options.has_key( "bcd" ): obcd_file_name = os.path.join( distro_path, 'boot', 'BCD' ) bcd_file_name = os.path.join( distro_path, 'boot', profile.kernel_options["bcd"] ) wim_file_name = 'winpe.wim' if profile.kernel_options.has_key( "winpe" ): wim_file_name = profile.kernel_options["winpe"] wim_file_name = os.path.join( '/winos', distro.name, 'boot', wim_file_name ) sdi_file_name = os.path.join( '/winos', distro.name, 'boot', 'boot.sdi' ) logger.info( 'Build BCD: ' + bcd_file_name + ' for ' + wim_file_name ) cmd = "/usr/bin/cp " + obcd_file_name + " " + bcd_file_name rc = utils.subprocess_call( logger, cmd, shell=True ) cmd = bcdedit + " " + bcd_file_name + " " + wim_file_name + " " + sdi_file_name rc = utils.subprocess_call( logger, cmd, shell=True ) ps_file_name = os.path.join( distro_path, "boot", profile.kernel_options["winpe"] ) if distro.os_version in ( "7", "2008" ): wim_pl_name = wim7_template_name elif distro.os_version in ( "8", "2012" ): wim_pl_name = wim8_template_name cmd = "/usr/bin/cp " + wim_pl_name + " " + ps_file_name rc = utils.subprocess_call( logger, cmd, shell=True ) if os.path.exists( wimlib ): cmd = wimlib_mount + " " + ps_file_name + " " + mount_point rc = utils.subprocess_call( logger, cmd, shell=True ) data = templ.render( tmplstart_data, meta, None, profile ) pi_file = open( mount_point + "/Windows/System32/startnet.cmd", "w+" ) pi_file.write( data ) pi_file.close() cmd = wimlib_umount + " " + mount_point + " --commit --rebuild" rc = utils.subprocess_get( logger, cmd, shell=True ) return 0</span></span></code> </pre><br></div></div><br>     python  Cobbler API.     pefile      bootmgr.exe, bcdedit.pl     BCD   wimlib          startnet.cmd   Windows/System32. <br><br>  : <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># mkdir /mnt/wim # systemctl restart cobblerd # cobbler sync # systemctl restart xinetd</span></span></code> </pre><br>       ,       Reset, F12 (      BIOS    ),            Linux   Windows. <br><br>            win.ks.               ,    if/else: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#if $profile_name == '&lt;profile_name1&gt;' &lt;code&gt; #elseif $profile_name == '&lt;profile_name2&gt;' &lt;code&gt; . . . #elseif $profile_name == '&lt;profile_nameN&gt;' &lt;code&gt; #end if</span></span></code> </pre><br> ,       . <br><br><h4>    </h4><br><ol><li>     Windows .   Microsoft      ,     . </li><li>    (   )  ISO  Windows . </li><li>   PXE   cobbler   Windows    . </li><li>        ,   /etc/tftpd.rules.          ,        . </li></ol></div><p>Source: <a href="https://habr.com/ru/post/263883/">https://habr.com/ru/post/263883/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263873/index.html">Five ways to optimize code for Android 5.0 Lollipop</a></li>
<li><a href="../263875/index.html">How I gathered the skeleton of the bot to order a taxi in Telegram</a></li>
<li><a href="../263877/index.html">Zip-quest about space admin Vasily Romanov</a></li>
<li><a href="../263879/index.html">HP ProLiant Gen9 Server Line</a></li>
<li><a href="../263881/index.html">github attracted $ 250M investment</a></li>
<li><a href="../263885/index.html">System Administrator Day 2015</a></li>
<li><a href="../263887/index.html">Happy System Administrator</a></li>
<li><a href="../263891/index.html">Market research, Cortana for Android, page design of your application on the App Store - and other news of the week for a mobile developer</a></li>
<li><a href="../263893/index.html">Samsung solid-state drives are justified. The problem was in the Linux kernel</a></li>
<li><a href="../263895/index.html">Proper API design: what are ‚Äúone‚Äù, ‚Äúmany‚Äù, ‚Äúzero‚Äù and ‚Äúnothing‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>