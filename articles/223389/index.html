<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúAyusha‚Äù - a controller on a 6502 processor</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Arduino, RaspberryPi, ... These words are increasingly found on the Web in the context of creating controllers for all applications, from smart home t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúAyusha‚Äù - a controller on a 6502 processor</h1><div class="post__text post__text-html js-mediator-article">  Arduino, RaspberryPi, ... These words are increasingly found on the Web in the context of creating controllers for all applications, from smart home to flashing LEDs.  Despite the technical tricky, these glands are terribly boring.  Judge for yourself: filed power, downloaded the program, ... and that's it!  And what is being done inside the silicon installed on the PCB is not known to us.  Or uninteresting? <br>  The reason for solving the problem of "uninteresting" was the love of the processor 6502, on which the first units and some other remembered "Agates" were gathered, as well as a bunch of chips lying around.  There are a lot of schemes on this processor on the Internet, but there are practically no those that could be useful in the household.  The result of the work is the Ayusha controller, which is already ready to <s>take</s> control over the world, help us in the amateur laboratory, whose circuitry we know, can be altered by our whims, and which in most cases replaces the application * duins and similar boards. <br><img src="https://habrastorage.org/getpro/habr/post_images/b4c/f55/758/b4cf55758bc90a1bf205fd07db4d0050.jpg" alt="image"><br><a name="habracut"></a><br><br>  Why 6502?  There are 580BM80, Z80 ... VM80 does not suit technically - three supply voltages, the second applicant is programmed in a foul ... 6502 is very simple in low-level programming, although it has some "unusual", such as page-addressing memory and display I / O ports on the main memory .  However, at the same clock speed, the 6502 overtakes the Z80, and the BM80 even more so has 258 registers (yes, 256 external, with simplified addressing) and many more tasty and interesting, including software that has been developed. <br>  So, what the published schemes did not suit us?  Most importantly, they all had no input / output ports through which they could sense the outside world and somehow manage it.  So we add such a chip to the circuit.  The choice is wide, but since the microprocessor kit 63 / 65 / 68 is somehow out of luck on 1/7 of the land, we stop at a 580BB55 microcircuit with three eight-bit ports to which you can connect almost any sensors or control the relay unit or other switching circuits . <br>  Further, in the amateur laboratory you need a sound and radio frequency generator.  For sound applications, we recall the three-channel timer 580VI53.  Now we can even play music or use the generated pulses to synchronize a high-frequency synthesizer. <br>  Since we still do not know when the upgrade will end or its filling with other nodes, we supplement the scheme with bus buffers.  Oh yeah, they forgot about the connection with the owner, you must somehow take commands from him and answer him that he is wrong somewhere.  To do this, we use the serial port chip, in our case, the 6850 was lying around with our hands, but 580BB51 could also be used.  The controller can be connected to any terminal (albeit with a teletype machine) via the COM port or controlled by a terminal program from any computer (Hyperterminal from the WindowsXP kit).  Through the serial port, the controller receives commands from the keyboard of the external device, throws its messages onto the external monitor, and programs for the further operation of the controller are uploaded through it.  And if you use the converter COM-&gt; Ethernet, then you can control the "Ayusha" from any part of the world.  But it is so, dreams ... <br>  Everything!  We decided on the scheme, and since we had to think and be nervous a lot, we should calm our nerves by knitting with MGTF ... <br><img src="https://habrastorage.org/getpro/habr/post_images/396/a38/392/396a38392de38df6a3666f4077a8b28f.jpg" alt="image"><br><br>  We insert the ready controller into the case.  Of course, there is room for further expansion of the apparatus. <br><img src="https://habrastorage.org/getpro/habr/post_images/cc2/182/915/cc2182915dab0f03b6bee7dd5a2225cd.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We place the main connectors and control knobs on the device's face.  We have three parallel ports, two channels from the VI53 timer, and one channel can be controlled by another, if necessary, a COM port for the terminal, a terminal power output or external devices, a hardware reset button, a power indicator, and a firmware selection switch for the ROM. <br><img src="https://habrastorage.org/getpro/habr/post_images/651/f83/426/651f834265be91e2b0aa49e72455ffca.jpg" alt="image"><br><br>  What we got on the gland?  So, the processor 6502, 1 MHz clock (it is planned to upgrade the processor 6502 with a clock frequency of up to 5 MHz - it can be more, but, unfortunately, 580BB55 will stop responding to stimuli), 47K RAM, 64K ROM, divided by 4 pages of 16K.  All this in a small package is powered by a three-amp five-volt adapter from a well-known D-firm. <br><img src="https://habrastorage.org/getpro/habr/post_images/81e/bf0/a77/81ebf0a7756b151cf17436f952e2facf.jpg" alt="image"><br><br>  Well, with iron, we decided, it remains to revive "Ayusha" with the help of embedded software.  Since the duins mentioned at the beginning of the article use the C dialect, the creator himself ordered, in honor of the fiftieth anniversary, to use the BASIC programming language.  Since there are links on the Web that allow you to create your own dialect of the language, we use them, and now Ayush communicates with us in normal Old English. <br><img src="https://habrastorage.org/getpro/habr/post_images/092/a50/b38/092a50b38c1bfe90a7f81550d795cb7e.jpg" alt="image"><br><br>  That's all for a start, now we can ‚Äúpull pins‚Äù using the POKE command, find out what happened with the help of the PEEK command, save the results of work to the ‚Äúbig brother‚Äù and assign some functions to the controller, simplifying our lives. <br>  The next step of the project will be the creation of a simple ‚Äúiron‚Äù terminal (after all, it is somehow uninteresting to work with the kid to use a powerful computer) with the ability to save and load programs on a tape / voice recorder / cell phone.  Also this terminal can be useful for us to work with other devices, programmable or communicating with users via the serial port.  But it will be another story ... <br><br>  The full description of ‚ÄúAyushi‚Äù is available on the project page, <a href="http://www.qsl.net/rw6hrm/html/6502.htm">www.qsl.net/rw6hrm/html/6502.htm</a> .  In the same place its modifications, new nodes and programs will be posted.  Sources of information are also indicated for those who like the 6502 processor, where to get the initial information from it.  And if someone decides to repeat the scheme, then please treat it as a collection of ideas, and not as a final decision. <br><br>  The second part is located <a href="http://habrahabr.ru/post/248379/">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/223389/">https://habr.com/ru/post/223389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../223377/index.html">Natural language processing in the task of monitoring campaigning</a></li>
<li><a href="../223381/index.html">Calculation of property names at runtime in the Java language</a></li>
<li><a href="../223383/index.html">How to turn Pale Moon into a convenient browser</a></li>
<li><a href="../223385/index.html">Transition from 2 links to service architecture in the SOA paradigm</a></li>
<li><a href="../223387/index.html">Game ‚ÄúLAND‚Äù for DVK-3. Windows Reincarnation</a></li>
<li><a href="../223395/index.html">LabView in robotics - creating a SCADA system to control the robot</a></li>
<li><a href="../223399/index.html">A little cycling under Linux or RSS-aggregator on the knee with your own hands</a></li>
<li><a href="../223401/index.html">The basic principles of setting up the Garbage Collection from scratch</a></li>
<li><a href="../223403/index.html">Imagine Cup 2014: the path to victory</a></li>
<li><a href="../223405/index.html">PL / SQL Web Services Solution</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>