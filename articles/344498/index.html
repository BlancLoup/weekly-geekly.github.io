<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP dependency management</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When creating a PHP application or library, you usually have three types of dependencies: 


- Hard dependencies: required to run your application / l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP dependency management</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zs/za/hq/zszahqjxj__2ftye5y8ne3o_tw8.jpeg"></div><br><p>  When creating a PHP application or library, you usually have three types of dependencies: </p><br><ul><li>  Hard dependencies: required to run your application / library. </li><li>  Optional dependencies: for example, a PHP library can provide a bridge for different frameworks. </li><li>  Development dependencies: debugging tools, test frameworks ... </li></ul><br><p>  How to manage these dependencies? </p><a name="habracut"></a><br><p>  Hard dependencies: </p><br><pre><code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"acme/foo"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0"</span></span> } }</code> </pre> <br><p>  Optional dependencies: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"suggest"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"monolog/monolog"</span></span>: <span class="hljs-string"><span class="hljs-string">"Advanced logging library"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ext-xml"</span></span>: <span class="hljs-string"><span class="hljs-string">"Required to support XML"</span></span> } }</code> </pre> <br><p>  Optional and development related dependencies: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require-dev"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"monolog/monolog"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"phpunit/phpunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0"</span></span> } }</code> </pre> <br><p>  And so on.  What can happen bad?  It's all about the limitations inherent in <code>require-dev</code> . </p><br><h2 id="problemy-i-ogranicheniya">  Problems and limitations </h2><br><h3 id="slishkom-mnogo-zavisimostey">  Too many dependencies </h3><br><p>  Dependencies with the package manager are <em>great</em> .  This is a great mechanism for code reuse and easy updates.  But you are responsible for which dependencies and how you turn on.  You enter code that may contain errors or vulnerabilities.  You start to depend on what is written by someone else and what you can not even manage.  Not to mention the fact that you risk becoming a victim of third-party problems.  <a href="https://packagist.org/">Packagist</a> and <a href="https://github.com/">GitHub</a> can greatly reduce these risks, but do not eliminate them at all.  The <a href="http://blog.npmjs.org/post/141577284765/kik-left-pad-and-npm">left-pad</a> fiasco in the JavaScript community is a good example of a situation where things can go awry, so adding packages sometimes leads to unpleasant consequences. </p><br><p>  The second disadvantage of dependencies is that they must be compatible.  This is a task for <a href="https://getcomposer.org/">Composer</a> .  But no matter how good <a href="https://getcomposer.org/">Composer is</a> , there are dependencies that cannot be used together, and the more dependencies you add, the more likely a conflict will arise. </p><br><p>  <strong>Summary</strong> </p><br><p>  Choose dependencies wisely and try to limit their number. </p><br><h3 id="zhyostkiy-konflikt">  Tough conflict </h3><br><p>  Consider an example: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require-dev"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"phpstan/phpstan"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0@dev"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"phpmetrics/phpmetrics"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.0@dev"</span></span> } }</code> </pre> <br><p>  These two packages are <a href="http://istqbexamcertification.com/what-is-static-analysis-tools-in-software-testing/">static analysis tools</a> ; they sometimes conflict when they are installed together, because they may depend on different and incompatible versions of <a href="https://github.com/nikic/PHP-Parser">PHP-Parser</a> . </p><br><p>  This is a variant of a ‚Äústupid‚Äù conflict: it arises only when you try to include a dependency that is incompatible with your application.  Packages are not required to be compatible, your application does not use them directly, and besides, they do not execute your code. </p><br><p>  Here is another example where bridges are provided to the library for working with <a href="https://symfony.com/">symfony</a> and <a href="https://laravel.com/">laravel</a> .  Perhaps to test bridges, you want to include both symfony and Laravel as dependencies: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require-dev"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"symfony/framework-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"laravel/framework"</span></span>: <span class="hljs-string"><span class="hljs-string">"~5.5.0"</span></span> # gentle reminder that Laravel # packages are not semver } }</code> </pre> <br><p>  In some cases it may work fine, but most likely it will break.  The example is somewhat farfetched, because it‚Äôs very unlikely that a user would use both packages at the same time, and it‚Äôs even less likely that you will need to provide for this scenario. </p><br><h3 id="neproveryaemye-zavisimosti">  Untested dependencies </h3><br><p>  Look at this <code>composer.json:</code> </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"symfony/yaml"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.8 || ^3.0"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"require-dev"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"symfony/yaml"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.0"</span></span> } }</code> </pre> <br><p>  Something is going on here ... It will only be possible to install the Symfony YAML component (the <code>symfony/yaml</code> ) of versions <code>[3.0.0, 4.0.0[</code> . </p><br><p>  In the application you probably will not care.  But in the library this can lead to a problem, because you <em>will never</em> be able to test your library with <code>symfony/yaml [2.8.0, 3.0.0[</code> . </p><br><p>  Whether this becomes a real problem depends largely on the specific situation.  It must be borne in mind that such a restriction may be across, and it will not be so easy to identify.  A simple example is shown, but if the requirement for <code>symfony/yaml: ^3.0</code> hide it deeper into the dependency tree, for example: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"symfony/yaml"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.8 || ^3.0"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"require-dev"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"acme/foo"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0"</span></span> # requires symfony/yaml ^<span class="hljs-number"><span class="hljs-number">3.0</span></span> } }</code> </pre> <br><p>  you won't know about it, at least for now. </p><br><h2 id="resheniya">  Solutions </h2><br><h3 id="ne-ispolzovat-pakety">  Do not use packages </h3><br><p>  <a href="https://ru.wikipedia.org/wiki/KISS_(%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF)">Kiss</a> .  Everything is normal, in fact, you do not need this package! </p><br><h3 id="phary">  PHARs </h3><br><p>  PHARs (PHP archives) - a way to pack an application into a single file.  You can read more about this in the <a href="https://secure.php.net/manual/en/intro.phar.php">official PHP documentation</a> . </p><br><p>  An example of using with <a href="http://www.phpmetrics.org/">PhpMetrics</a> , a static analysis tool: </p><br><pre> <code class="hljs pgsql">$ wget https://url/<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>/download/phpmetrics/phar-file -o phpmetrics.phar $ chmod +x phpmetrics.phar $ mv phpmetrics.phar /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/bin/phpmetrics $ phpmetrics <span class="hljs-comment"><span class="hljs-comment">--version PhpMetrics, version 1.9.0 # or if you want to keep the PHAR close and do not mind the .phar # extension: $ phpmetrics.phar --version PhpMetrics, version 1.9.0</span></span></code> </pre> <br><p>  <strong>Note:</strong> PHAR-packed code is not isolated, unlike, for example, JARs in Java. </p><br><p>  To illustrate the problem.  You have made the console application <code>myapp.phar</code> , relying on Symfony YAML 2.8.0, which executes the PHP script: </p><br><pre> <code class="hljs ruby">$ myapp.phar myscript.php</code> </pre> <br><p>  Your <code>myscript.php</code> script uses Composer to use symfony YAML 4.0.0. </p><br><p>  What can happen if PHAR loads the Symfony YAML class, for example <code>Symfony\Yaml\Yaml</code> , and then executes your script?  He also uses <code>Symfony\Yaml\Yaml</code> , but the class is already loaded!  And it is loaded from the <code>symfony/yaml 2.8.0</code> package, and not from <code>4.0.0</code> , as your script needs.  And if the APIs are different, everything breaks down completely. </p><br><p>  <strong>Summary</strong> </p><br><p>  PHARs are great for static analysis tools like <a href="https://github.com/phpstan/phpstan">PhpStan</a> or <a href="http://www.phpmetrics.org/">PhpMetrics</a> , but unreliable (at least for now) because they execute code depending on dependency collisions (for the moment!). </p><br><p>  There is something else to remember about PHARs: </p><br><ul><li>  They are harder to track because they are not natively supported in Composer.  However, there are several solutions like the Composer <code>tooly-composer-script</code> <a href="https://phar.io/">plugin</a> or <a href="https://phar.io/">PhiVe</a> , the PHAR installer. </li><li>  Version control depends a lot on the project.  Some projects use the <code>self-update</code> command a la Composer with different stability channels.  In other projects, a unique download endpoint is provided with the latest release.  In the third projects, the GitHub release function is used with the delivery of each release in the form of a PHAR, etc. </li></ul><br><h3 id="ispolzovanie-neskolkih-repozitoriev">  Using multiple repositories </h3><br><p>  One of the most popular methods.  Instead of requiring all bridge dependencies in a single <code>composer.json</code> file, we divide the package into several repositories. </p><br><p>  Take the previous library example.  <code>acme/foo</code> call it <code>acme/foo</code> , then create <code>acme/foo-bundle</code> packages for symfony and <code>acme/foo-provider</code> for Laravel. </p><br><p>  Please note, we can still put everything in one repository, and for other packages like symfony, use repositories for reading only. </p><br><p>  The main advantage of this approach is that it is relatively simple and does not require additional tools, except for the separator for repositories like <a href="https://github.com/splitsh/lite">splitsh</a> , used for Symfony, Laravel and PhpBB.  And the disadvantage is that now instead of one package you need to support several. </p><br><h3 id="nastroyka-konfiguracii">  Configuration setting </h3><br><p>  You can go the other way and choose a more advanced installation and testing script.  For our previous example, you can use the following: </p><br><pre> <code class="hljs sql"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env bash # bin/tests.sh # Test the core library vendor/bin/phpunit --exclude-group=laravel,symfony # Test the Symfony bridge composer require symfony/framework-bundle:^4.0 vendor/bin/phpunit --group=symfony composer remove symfony/framework-bundle # Test the Laravel bridge composer require laravel/framework:~5.5.0 vendor/bin/phpunit --group=symfony composer remove laravel/framework</span></span></code> </pre> <br><p>  It will work, but, in my experience, test scripts will turn out to be bloated and relatively slow, difficult to maintain and not very easy-to-understand third-party programmers. </p><br><h3 id="ispolzovanie-neskolkih-composerjson">  Using multiple composer.json </h3><br><p>  This approach is quite fresh (in PHP), mainly because there were no necessary tools before, so I will tell you a little more. </p><br><p>  The idea is simple.  Instead </p><br><pre> <code class="hljs perl">{ <span class="hljs-string"><span class="hljs-string">"autoload"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"autoload-dev"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require-dev"</span></span>: { <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpstan/phpstan"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0@dev"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpmetrics/phpmetrics"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.0@dev"</span></span> } }</code> </pre> <br><p>  we will install <code>phpstan/phpstan</code> and <code>phpmetrics/phpmetrics</code> in different <code>composer.json</code> files.  But then the first difficulty arises: where to put them?  How to create a structure? </p><br><p>  Here <code>composer-bin-plugin</code> will help.  This is a very simple plugin for Composer, allowing you to interact with <code>composer.json</code> in different folders.  Suppose there is a root file <code>composer.json</code> : </p><br><pre> <code class="hljs objectivec">{ <span class="hljs-string"><span class="hljs-string">"autoload"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"autoload-dev"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require-dev"</span></span>: { <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0"</span></span> } }</code> </pre> <br><p>  Install the plugin: </p><br><pre> <code class="hljs lua">$ composer <span class="hljs-built_in"><span class="hljs-built_in">require</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev bamarni/composer-bin-plugin</span></span></code> </pre> <br><p>  After that, if you execute composer <code>bin acme smth</code> , then the <code>composer smth</code> will be executed in the <code>vendor-bin/acme</code> .  Now install PhpStan and PhpMetrics: </p><br><pre> <code class="hljs ruby">$ composer bin phpstan <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> phpstan/<span class="hljs-symbol"><span class="hljs-symbol">phpstan:</span></span>^<span class="hljs-number"><span class="hljs-number">1.0</span></span>@dev $ composer bin phpmetrics <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> phpmetrics/<span class="hljs-symbol"><span class="hljs-symbol">phpmetrics:</span></span>^<span class="hljs-number"><span class="hljs-number">2.0</span></span>@dev</code> </pre> <br><p>  This will create a directory structure: </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">... </span></span><span class="hljs-comment"><span class="hljs-comment"># projects files/directories composer.json composer.lock vendor/ vendor-bin/ phpstan/ composer.json composer.lock vendor/ phpmetrics/ composer.json composer.lock vendor/</span></span></code> </pre> <br><p>  Here <code>vendor-bin/phpstan/composer.json</code> looks like this: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"phpstan/phpstan"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0"</span></span> } }</code> </pre> <br><p>  And <code>vendor-bin/phpmetrics/composer.json</code> looks like this: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"phpmetrics/phpmetrics"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.0"</span></span> } }</code> </pre> <br><p>  You can now use PhpStan and PhpMetrics by simply calling <code>vendor-bin/phpstan/vendor/bin/phpstan</code> and <code>vendor-bin/phpmetrics/vendor/bin/phpstan</code> . </p><br><p>  Let's go further.  Take the example of a library with bridges for different frameworks: </p><br><pre> <code class="hljs objectivec">{ <span class="hljs-string"><span class="hljs-string">"autoload"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"autoload-dev"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require-dev"</span></span>: { <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"symfony/framework-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"laravel/framework"</span></span>: <span class="hljs-string"><span class="hljs-string">"~5.5.0"</span></span> } }</code> </pre> <br><p>  Apply the same approach and get the file <code>vendor-bin/symfony/composer.json</code> for the symfony bridge: </p><br><pre> <code class="hljs objectivec">{ <span class="hljs-string"><span class="hljs-string">"autoload"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"autoload-dev"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require-dev"</span></span>: { <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"symfony/framework-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.0"</span></span> } }</code> </pre> <br><p>  And the <code>vendor-bin/laravel/composer.json</code> file for the Laravel Bridge: </p><br><pre> <code class="hljs objectivec">{ <span class="hljs-string"><span class="hljs-string">"autoload"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"autoload-dev"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require-dev"</span></span>: { <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"laravel/framework"</span></span>: <span class="hljs-string"><span class="hljs-string">"~5.5.0"</span></span> } }</code> </pre> <br><p>  Our root <code>composer.json</code> file will look like this: </p><br><pre> <code class="hljs objectivec">{ <span class="hljs-string"><span class="hljs-string">"autoload"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"autoload-dev"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require-dev"</span></span>: { <span class="hljs-string"><span class="hljs-string">"bamarni/composer-bin-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0"</span></span> <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0"</span></span> } }</code> </pre> <br><p>  To test the main library and bridges, you now need to create three different PHPUnit files, each with a corresponding startup file (for example, <code>vendor-bin/symfony/vendor/autoload.php</code> for the symfony bridge). </p><br><p>  If you try it yourself, you will notice the main drawback of the approach: configuration redundancy.  You will have to duplicate the root configuration of <code>composer.json</code> to the other two <code>vendor-bin/{symfony,laravel/composer.json</code> , configure autoload sections, because the paths to the files may change, and when you need a new dependency, you will have to register it in other files <code>composer.json</code> .  It turns out inconvenient, but the <code>composer-inheritance-plugin</code> comes to the rescue. </p><br><p>  This is a small wrapper around the <code>composer-merge-plugin</code> that allows you to merge the content <code>vendor-bin/symfony/composer.json</code> with the root <code>composer.json</code> .  Instead </p><br><pre> <code class="hljs objectivec">{ <span class="hljs-string"><span class="hljs-string">"autoload"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"autoload-dev"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require"</span></span>: {...}, <span class="hljs-string"><span class="hljs-string">"require-dev"</span></span>: { <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"symfony/framework-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.0"</span></span> } }</code> </pre> <br><p>  will turn out </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"require-dev"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"symfony/framework-bundle"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"theofidry/composer-inheritance-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0"</span></span> } }</code> </pre> <br><p>  This will include the rest of the configuration, autoload and dependencies of the root <code>composer.json</code> .  You do not need to configure anything, the <code>composer-inheritance-plugin</code> is just a thin wrapper around the <code>composer-merge-plugin</code> for pre-configuration so that you can use it with the <code>composer-bin-plugin</code> . </p><br><p>  If you want, you can examine the installed dependencies with </p><br><pre> <code class="hljs pgsql">$ composer bin symfony <span class="hljs-keyword"><span class="hljs-keyword">show</span></span></code> </pre> <br><p>  I applied this approach in different projects, for example in <code>alice</code> , for different tools like PhpStan or PHP-CS-Fixer and bridges for frameworks.  Another example is <code>alice-data-fixtures</code> , where many different ORM bridges are used for the level of data storage (Doctrine ORM, Doctrine ODM, Eloquent ORM, etc.) and framework integration. </p><br><p>  I also applied this approach in several private projects as an alternative to PHARs in applications with different tools, and it worked well. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  I'm sure someone will find some techniques strange or not recommended.  I was not going to give a rating or advise something specific, but I just wanted to describe the possible ways of managing dependencies, their advantages and disadvantages.  Choose what suits you best, based on your goals and personal preferences.  As someone said, there are no solutions, there are only compromises. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/344498/">https://habr.com/ru/post/344498/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344488/index.html">Monitoring Trassir Servers</a></li>
<li><a href="../344490/index.html">Let's drive a mammoth into a hole: how to make a presentation so that you can be heard and remembered</a></li>
<li><a href="../344492/index.html">Zabbix 3.4: Macros in time intervals</a></li>
<li><a href="../344494/index.html">Do not succumb to HYIP, or why the price of Bitcoin does not reflect its real value.</a></li>
<li><a href="../344496/index.html">New spyware StrongPity2 replaced FinFisher in a cyber espionage campaign with the possible participation of an Internet provider</a></li>
<li><a href="../344502/index.html">TypeScript basics for developing Angular applications</a></li>
<li><a href="../344504/index.html">Avito iOS Winter Edition - video, photos, slides, reviews</a></li>
<li><a href="../344506/index.html">Singleton, service locator and tests in iOS</a></li>
<li><a href="../344508/index.html">Dependency injection and unit implementation using Castle Windsor and NHibernate</a></li>
<li><a href="../344510/index.html">How does MEGA Belaya Dacha work: we open a shopping center on the other side</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>