<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Making a project on Node.js using Mongoose, Express, Cluster. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 


 Good afternoon, dear% username%! Today we will describe the creation of a framework application like MVC on Node.js using clusters , ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Making a project on Node.js using Mongoose, Express, Cluster. Part 1</h1><div class="post__text post__text-html js-mediator-article"><h1 id="vvedenie">  Introduction </h1><br><p>  Good afternoon, dear% username%!  Today we will describe the creation of a framework application like MVC on Node.js using <a href="https://nodejs.org/api/cluster.html">clusters</a> , <a href="http://expressjs.com/">Express.js</a> and <a href="http://mongoosejs.com/">mongoose</a> . </p><br><p>  The task is to raise a server that has several features. </p><br><ul><li>  Works in several asynchronous threads. </li><li>  Session information will be shared across streams. </li><li>  HTTPS support. </li><li>  Authorization </li><li>  Easy to scale. </li></ul><br><p>  The article is written by a newbie for newbies.  I would welcome any comments! </p><a name="habracut"></a><br><p>  Where to begin?  Install Node.js (which comes with npm).  Install MongoDB (+ Add to PATH). </p><br><p>  Now the creation of NPM project in order not to drag all the dependencies in our git! </p><br><pre><code class="hljs swift">$ npm <span class="hljs-keyword"><span class="hljs-keyword">init</span></span></code> </pre> <br><p>  You have to answer a few questions (you can skip everything just by pressing Enter).  Sometimes npm buggy and writing package.json does not complete. </p><br><p>  Farther!  Let's write our <code>index.js</code> </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Project/bin/index.js process.stdout.isTTY = true; //   node.js    git bash  ! //  https://github.com/nodejs/node/issues/3006 var cluster = require('cluster'); //   if(cluster.isMaster) { //   &lt;&lt;master&gt;&gt;       require('./master'); } else { //   &lt;&lt;worker&gt;&gt;      worker-a require('./worker'); }</span></span></code> </pre> <br><p>  A little about clusters. </p><br><p>  What is a cluster?  A cluster is a system of applications where there are two roles: the main role (master) and the working role (worker).  There is one master to which all requests come, and the n-th number of workers (in the <code>CPUCount</code> code). </p><br><p>  If a request comes to the server, then the master decides which worker to give this request.  When creating a working node, a process is born that runs the same code that is currently running and creates an <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D0%25B6%25D0%25BF%25D1%2580%25D0%25BE%25D1%2586%25D0%25B5%25D1%2581%25D1%2581%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25B2%25D0%25B7%25D0%25B0%25D0%25B8%25D0%25BC%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25B9%25D1%2581%25D1%2582%25D0%25B2%25D0%25B8%25D0%25B5">IPC</a> .  When a TCP / IP connection occurs, the wizard sends the <code>Socket</code> one of the workers for a specific policy (more details <a href="https://nodejs.org/api/cluster.html">here</a> ) via IPC. </p><br><p>  Let's go back to the code.  What happened to the master and worker?  Master Code: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//Project/bin/master.js var cluster = require('cluster'); //    cluster var CPUCount = require("os").cpus().length; //     //      .     8    Nodemon-     . //      CPUCount  1      .... cluster.on('disconnect', (worker, code, signal) =&gt; { //    IPC    (     ) console.log(`Worker ${worker.id} died`); //     ,     . cluster.fork(); //   }); cluster.on('online', (worker) =&gt; { //        ! console.log(`Worker ${worker.id} running`); }); //     CPUCount for(var i = 0; i &lt; CPUCount; ++i) { cluster.fork(); //  ! :) }</span></span></code> </pre> <br><p>  Pro <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow function</a> , <a href="https://nodejs.org/api/cluster.html">online</a> , <a href="https://nodejs.org/api/cluster.html">disconnect</a> , <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/template_strings">template lines</a> </p><br><p>  What's next?  Next work!  Here we will write one code.  Then I will say that we missed it and add it :) BUT before that, first download the dependencies from npm! </p><br><pre> <code class="hljs pgsql">$ npm i express apidoc bluebird body-<span class="hljs-keyword"><span class="hljs-keyword">parser</span></span> busboy <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>-mongo cookie-<span class="hljs-keyword"><span class="hljs-keyword">parser</span></span> express-<span class="hljs-keyword"><span class="hljs-keyword">session</span></span> image-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> mongoose mongoose-<span class="hljs-keyword"><span class="hljs-keyword">unique</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">validator</span></span> nodemon passport passport-<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> request request-promise <span class="hljs-comment"><span class="hljs-comment">--save</span></span></code> </pre> <br><p>  Why do we need each module? </p><br><ul><li>  <code>Express</code> - I think it is clear. </li><li>  <code>apidoc</code> - Convenient for documenting APIs (optional) </li><li>  <code>Bluebird</code> - Promises what they are :).  We need it because  in standard Promise-ah on 4.xx there was a bug because of which there was a memory-leak.  Also mpromise on which mongoose depends is no longer supported.  We have to get mongoose to use our Bluebird. </li><li>  <code>body-parser</code> - json support in queries with the body (body) </li><li>  <code>busboy</code> - Support for form-data in queries with the body. </li><li>  <code>cookie-parser</code> - A simple module for cookies (Cookies). </li><li>  <code>connect-mongo</code> - <code>connect-mongo</code> to store sessions in MongoDB </li><li>  <code>express-session</code> - For sessions. </li><li>  <code>image-type</code> - For image validation at boot. </li><li>  <code>mongoose</code> - Obviously for easy access to MongoDB </li><li>  <code>mongoose-unqiue-validator</code> - In order to indicate that the model data must be unique (eg username, email, etc) </li><li>  <code>nodemon</code> - During development, our server automatically restarts when saving a file. </li><li>  <code>passport</code> <code>passport-local</code> - Useful modules for authorization! </li><li>  <code>request</code> <code>request-promise</code> - To test our code! </li></ul><br><p>  So?  Let's write a script to launch nodemon.  Add to package.json (replace if there is such a field) </p><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"scripts"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"start"</span></span>:<span class="hljs-string"><span class="hljs-string">"nodemon bin/index.js"</span></span> }</code> </pre> <br><p>  To run, we will now use </p><br><pre> <code class="hljs pgsql">$ npm <span class="hljs-keyword"><span class="hljs-keyword">start</span></span></code> </pre> <br><p>  In the future, we will add tests, documentation. </p><br><p>  Now back to Worker.  To get started, run Express! </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  express var app = express(); //    app.get('/',(req,res,next)=&gt;{ //  handler     `/` res.send('Hello, World!'); //   ! }); //     3000      . //  Worker-        app.listen(3000,function(err){ if(err) console.error(err); //       //   ..   handler- else console.log(`Running server at port 3000!`) //         //      });</span></span></code> </pre> <br><p>  It's all?  Not.  In fact, there are a few things that we have forgotten about setting up Express.  Fix it.  Do we need files for the front part?  (Front-end).  So add their support!  Create a <code>public</code> folder whose entire contents will be available at <code>/public</code> .  We have two options.  Put NGINX and not put it.  The easiest option is not to put it.  We will use what is built into express. </p><br><p>  An alternative option is to use NGINX as a master, who will also take responsibility for static files.  Let's leave it for a while, although it will help with performance and scaling. </p><br><p>  Before <code>app.get('/')</code> .  Add the following: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//.... var path = require('path'); // app = express();    //   //    project/public      /public app.use('/public',express.static(path.join(__dirname,'../public'))); //...</span></span></code> </pre> <br><p>  It's all?  AGAIN NO!  Now to the input data.  How will we get the input? </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bodyParser = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'body-parser'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//.. /// app.use(express.static(.........)); // JSON  :) app.use(bodyParser.json({ limit:"10kb" })); //...</span></span></code> </pre> <br><p>  Now to the cookie </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// JSON  // ... //  ! app.use(require('cookie-parser')()); // ...</span></span></code> </pre> <br><p>  But that's not all!  Next we need to get the <code>Mongoose</code> to work, for we will work with the sessions!  Run the MongoDB command </p><br><pre> <code class="hljs pgsql">$ mkdir <span class="hljs-keyword"><span class="hljs-keyword">database</span></span> $ mongod <span class="hljs-comment"><span class="hljs-comment">--dbpath database --smallfiles</span></span></code> </pre> <br><p>  What is going on here?  We create the database folder where the server data will be stored.  Do not forget to add the folder to <code>.gitignore</code> .  Then we run MongoDB pointing to the <code>database</code> folder as storage.  And so that the files are small, we pass the parameter <code>--smallfiles</code> , although even in this case, MongoDB will store logs of 200MB in the <code>./database/journal</code> folder </p><br><p>  Also in the second part there will be a tutorial on how to increase the bandwidth of MongoDB, and install it as a service in <code>systemd</code> under Ubuntu. </p><br><p>  Now to the code.  In the file worker.js, at the beginning of the file immediately after the module loads, insert the following </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./dbinit'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  </span></span></code> </pre> <br><p>  Create the <code>dbinit.js</code> file in the <code>bin</code> folder.  In which we insert the following code: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  ! //  mongoose var mongoose = require('mongoose'); //    (Promise)      mongoose (mpromise) mongoose.Promise = require('bluebird'); //  Bluebird //    MongoDB //         mongoose.connect("mongodb://127.0.0.1/armleo-test",{ server:{ poolSize: 10 //      // 10     . //      ... } }); //        mongoose.connection.on('error',(err)=&gt; { console.error("Database Connection Error: " + err); //     MongoDB  :) console.error('  MongoDB !'); process.exit(2); }); //         mongoose.connection.on('connected',()=&gt; { //   console.info("Succesfully connected to MongoDB Database"); //       . });</span></span></code> </pre><br><p>  Now we will tie the session to the database.  In <code>bin/worker.js</code> add the following.  Top of loading modules: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> session = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express-session'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  var MongoStore = require('connect-mongo')(session); //    </span></span></code> </pre> <br><p>  And after parser cookies: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   //     app.use(session({ secret: ' ', //     resave: false, //      saveUninitialized: true, //    store: new MongoStore({ mongooseConnection: require('mongoose').connection }) //    }));</span></span></code> </pre> <br><p>  A few explanations about the sequence of connections.  <code>express.static('/public')</code> .  Sits right at the beginning.  Browsers send requests for files in parallel and they will send requests with empty sessions and we will create them in thousands. </p><br><p>  Cookies parser and sessions are needed at the beginning.  in the future they will use for authorization.  Then the parsers of the request body go.  NOTE: The last two can be swapped.  Authorization service.  It should go after parsers and sessions because  uses them, but before the controllers because  they use user information.  Next are the controllers, we will return to them later. </p><br><p>  Now error handler.  He must go last.  Express documentation is written like this :) </p><br><p>  In the file <code>bin/worker.js</code> add before <code>app.listen(.....);</code>  following </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   app.use(require('./errorHandler'));</span></span></code> </pre> <br><p>  Now create <code>errorHandler.js</code> file </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      4 ,      module.exports = function(err,req,res,next) { // err    Express.js       ,       ; console.error(err); //        ,      . res.status(503).send(err.stack || err.message); //    next()      . //      503   };</span></span></code> </pre> <br><p>  Practically finished work with Worker.  But we still need to customize the models and their loading. <br>  Create a <code>models</code> folder where our models will be stored.  In the future, we will have more migrations with the help of which we will migrate from one version of the database to the new one. </p><br><p>  Create files <code>index.js</code> AND <code>user.js</code> in the <code>models</code> folder.  Thus, in <code>index.js</code> we will record the loading of all models and their Export, and the <code>user.js</code> file will contain a model from Mongoose with some methods and functions attached to the model.  You can read about the models on the <a href="http://mongoosejs.com/">Mongoose</a> website or in the <a href="http://mongoosejs.com/docs/guide.html">documentation</a> . <br>  In <code>index.js</code> write: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-comment"><span class="hljs-comment">//    () //  *nix-      User:require('./User') }; //     !</span></span></code> </pre> <br><p>  And in <code>user.js</code> write: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  mongoose ..          var mongoose = require('mongoose'); //   ! var userSchema = new mongoose.Schema({ //  username:{ type:String, // : String required:[true,"usernameRequired"], //   .        usernameRequired maxlength:[32,"tooLong"], //   32   (Unicode symbol != byte) minlength:[6,"tooShort"], //   ! match:[/^[a-z0-9]+$/,"usernameIncorrect"], //   !   ! unique:true //     }, //  password:{ type:String, //  String //       maxlength:[32,"tooLong"], minlength:[8, "tooShort"], match:[/^[A-Za-z0-9]+$/,"passwordIncorrect"], required:[true,"passwordRequired"] //      }, //     ,       ! }); //    ( ) //     module.exports = mongoose.model('User',userSchema);</span></span></code> </pre><br><p>  Now we will deal with the images (Attempt to translate the <code>view</code> ) and controllers.  Create two folders: <code>controllers</code> and <code>views</code> .  Now we select the library we need for rendering (drawing, drawing, compiling, filling) images.  For me, was extremely simple <a href="https://mustache.github.io/">mustache</a> .  But in order to make it easy to change the rendering engine, I use consolidate. </p><br><pre> <code class="hljs pgsql">$ npm i consolidate mustache <span class="hljs-comment"><span class="hljs-comment">--save</span></span></code> </pre> <br><p>  Consolate requires the engines used by the project to be installed, so don‚Äôt forget after you change the engine to install it.  Now we <code>app.get('/');</code> replace the entire <code>app.get('/');</code>  on </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cons = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'consolidate'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    app.engine('html', cons.mustache); //    app.set('view engine', 'html'); //    app.set('views', __dirname + '/../views'); app.get('/',(req,res,next)=&gt;{ //  handler     `/` res.render('index',{title:"Hello, world!"}); //      index });</span></span></code> </pre> <br><p>  Now in the <code>views</code> folder we add our index.html where we write </p><br><pre> <code class="hljs dos">{{<span class="hljs-built_in"><span class="hljs-built_in">title</span></span>}}</code> </pre> <br><p>  Go to <code>127.0.0.1:3000</code> and see <code>Hello, World!</code>  .  Let's go to the controllers!  Remove the app.get lines <code>app.get(.................)</code> .  Now we have to load the controllers.  (Which are in the <code>controllers</code> folder).  Instead of our remote code insert the following. </p><br><pre> <code class="javascript hljs">app.use(<span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./../controllers'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">//  !</span></span></code> </pre> <br><p>  In the file <code>controllers/index.js</code> write </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>)(); app.use(<span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./home'</span></span>)); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = app;</code> </pre> <br><p>  And in the file <code>controllers/home.js</code> write: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>)(); app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>,(req,res,next)=&gt;{ <span class="hljs-comment"><span class="hljs-comment">//  handler     `/` res.render('index',{title:"Hello, world!"}); //      index }); module.exports = app;</span></span></code> </pre> <br><p>  At the end of the first part!  Thanks for attention.  Much remained without our attention, and it will be necessary to fix it in the second part.  There are many controversial points.  There are also many mistakes that will be fixed in the second part.  The code will be posted a bit later on github.  The essence of the project is explained in the second part. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/314394/">https://habr.com/ru/post/314394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314382/index.html">Announcement Forum Dell EMC Forum 2016</a></li>
<li><a href="../314384/index.html">The rules that help me survive in the new team and run the system. Start</a></li>
<li><a href="../314386/index.html">Java Programmer Cheat Sheets 9: Java SE - Cheat Sheet for Interviews and Repetitions</a></li>
<li><a href="../314390/index.html">IBM expands Bluemix ecosystem to give China access to blockchain and IoT</a></li>
<li><a href="../314392/index.html">Roskomnadzor: keep your ears open. How to notice the listing on time</a></li>
<li><a href="../314396/index.html">Text translation HighLoad ++ 2016. Day One</a></li>
<li><a href="../314400/index.html">VMware vSphere 6 Storage Technology. Part 1 - Old School</a></li>
<li><a href="../314402/index.html">Bushed Bricks: A simple and exciting JavaScript game.</a></li>
<li><a href="../314404/index.html">How we built our mini data center. Finance, pricing</a></li>
<li><a href="../314408/index.html">Once met JMeter and a stranger ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>