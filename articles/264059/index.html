<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We limit the load on the server. Cheap and angry</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Earlier we wrote about the delimitation of information systems in the protection of personal data. The subject of this article is to limit the load on...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We limit the load on the server. Cheap and angry</h1><div class="post__text post__text-html js-mediator-article">  Earlier we wrote <a href="http://habrahabr.ru/company/cybersafe/blog/250127/">about the delimitation of</a> information systems in the protection of personal data.  The subject of this article is to limit the load on the server with a limited budget. <br><br><img src="https://habrastorage.org/files/f10/533/5fc/f105335fc23f4090a7c2b5f9d14caf5d.jpg"><br><br><a name="habracut"></a><br><h4>  Problem statement and possible solutions </h4><br>  Imagine that we have a server (or group of servers) and several groups of clients.  Need to regulate server load. <br>  For example, we have a server (or a group of servers ‚Äî not important) 1C and two categories of users ‚Äî local and remote ‚Äî that connect to the server via RDP.  In turn, local users can be divided into at least two groups: accounting (which requires access to 1C) and all the rest.  Everyone else can either block access to the server altogether or limit the access speed.  This is the load control task. <br>  How to solve the problem?  If servers work under Linux (which is unlikely, since we initially mean 1C, but it is quite possible), then you can try to solve it with a little blood - iptables + squid.  Such a solution will be absolutely free, but requires a certain administrator qualification; otherwise, a lot of time will be spent on setting up by trial and error with an uncertain result. <br>  And what if the servers are running Windows Server?  The first thing that comes to mind is to use TMG (Threat Management Gateway).  However, there is a small problem - TMG sales were discontinued 3 years ago, and it never provided a decent replacement for Microsoft.  There are solutions, but more focused on cloud technologies, quite expensive and not very suitable for our very modest task. <br>  There are third-party solutions, for example, Sophos UTM &amp; Next-Gen Firewall.  However, the cost of such a decision will not please many companies.  And the functionality is clearly redundant to solve our problem. <br>  And there is an inexpensive and simple solution - <a href="http://cybersafesoft.com/rus/products/cybersafe-firewall/">Cybersafe Firewall</a> .  The cost of this solution will be quite acceptable, both for small and large companies, and administrators will surely like its simplicity.  Yes, against the background of Sophos UTM &amp; Next-Gen Firewall and the former TMG Cyber ‚Äã‚ÄãSaf Firewall looks like a Lada in the background of BMW.  However, not everyone has the means and the need to buy a BMW, when the tasks set may well be solved with the help of Lada. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/d7f/c94/18d/d7fc9418d7ce40aa93008abd218656f2.png"><br>  Fig.  1. Sophos UTM &amp; Next-Gen Firewall <br><br>  So that we are not accused of excessive advertising of our software, we proceed immediately to solving the problem, where you can evaluate the simplicity of the proposed solution. <br><br><h4>  Load restriction by means of CyberSafe Firewall </h4><br>  Consider how you can solve the problem of bandwidth control.  The first step is to deploy the program via ActiveDirectory to all computers on the network.  How to do this is written in the <a href="http://cybersafesoft.com/CybersafeFirewall.pdf">manual</a> .  Note that you can create a transformation file (MST file) by means of the program, without resorting to third-party software, which is very convenient. <br>  If ActiveDirectory is not used in your network, this is not a problem: to automate the installation of the program, a special deployment script is used, which can be created using the program itself. <br>  After the program is installed on all computers on the network, you need to perform the following steps: <br><ol><li>  Log into CyberSafe Firewall as administrator (Figure 2). <br><br><img src="https://habrastorage.org/files/fe2/2af/939/fe22af9396f748c69a4fda143355a72f.png"><br>  Fig.  2. Login as an administrator <br><br></li><li>  Run the menu command <b>Firewall, Administration Panel</b> .  This command will be available only if you are logged in as an administrator. </li><li>  The <b>Administration Panel</b> window will open (fig. 3). <br><br><img src="https://habrastorage.org/files/1ca/518/b2d/1ca518b2dfae4af79c161c57d8df20dc.png"><br>  Fig.  3. Administration Panel <br><br></li><li>  In the administration panel, define computer groups.  To create a new group, right-click in the administration panel window and select the <b>Create group</b> command.  After that just drag the computers into the created group. </li><li>  Place the server (or servers) in the SERVERS group (Fig. 4).  Be sure to click the <b>Apply</b> button for the changes to take effect. <br><br><img src="https://habrastorage.org/files/b70/2ba/e67/b702bae6703c42ab83fa64a6916fe3ac.png"><br>  Fig.  4. Servers added to a separate group. <br><br></li><li>  Select the group of workstations you want to limit.  Click <b>Set Rules</b> .  In fig.  5 The window for setting rules for the Lawyers group is open. <br><br><img src="https://habrastorage.org/files/2e3/534/1e2/2e35341e297840f1be0d23211508f624.png"><br>  Fig.  5. Group Rules Setup Window <br><br></li><li>  Go to the <b>Shaper Rules section</b> .  Click the <b>Add</b> button. </li><li>  In the <b>Add Shaper Rule window,</b> set the speed limit (Fig. 6). <br><img src="https://habrastorage.org/files/1f5/c26/e2e/1f5c26e2e56d49a69b447a8702de0859.png"><br>  Fig.  6. Setting the speed limit <br><br></li><li>  Go to the <b>Source</b> tab and select the <b>Nickname</b> option, and from the list that appears - the group that you want to restrict.  Honestly, she will already be chosen, since we are creating a rule for her, but it will not be superfluous to make sure that the choice is correct. <br><br><img src="https://habrastorage.org/files/005/976/da3/005976da3d034d3da7b34a3b71cb9875.png"><br>  Fig.  7. Select source group <br><br></li><li>  On the <b>Recipient</b> tab, select the <b>Alias</b> option and select the SERVERS group (Fig. 8) <br><br><img src="https://habrastorage.org/files/da8/c2e/9e2/da8c2e9e249440eaacce74a092572365.png"><br>  Fig.  8. Select the SERVERS group. <br><br></li><li>  Click <b>OK</b> , close the group rules installation window. </li><li>  Repeat steps 6-11 for all computer groups whose access to the server you want to restrict. </li><li>  Click the <b>Apply</b> button in the <b>Administration Panel</b> . </li><li>  Close the admin panel window. </li></ol><br><br>  That's all.  And you thought it would be more difficult? <br><br><h4>  findings </h4><br>  CyberSafe Firewall program is a simple and inexpensive solution for a wide variety of companies for whom the budget issue is in the first place.  In addition, the program has a <a href="http://cybersafesoft.com/rus/products/cybersafe-firewall/certificate/">certificate of the FSTEC of Russia</a> (for the third class of security), which is also important if you need to bring the information system of the enterprise in compliance with the requirements of the legislation. </div><p>Source: <a href="https://habr.com/ru/post/264059/">https://habr.com/ru/post/264059/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../264045/index.html">My system is testing and improving the quality of the GSM gateway. Part two</a></li>
<li><a href="../264047/index.html">NGFW. Part 3 - Demonstration of DDoS Protection</a></li>
<li><a href="../264049/index.html">Third extra: how we implemented mail collection using OAuth 2.0</a></li>
<li><a href="../264051/index.html">Office as Platform issue 2: Power BI - a new approach to creating business intelligence</a></li>
<li><a href="../264057/index.html">InterSystems Ensemble 2015.1 and 2015.2 release</a></li>
<li><a href="../264063/index.html">Back to the Future - Decapsulation</a></li>
<li><a href="../264067/index.html">A brief history of the evolution of proof-of-work in cryptocurrencies. Part 2</a></li>
<li><a href="../264069/index.html">Quick and dirty: excel to html</a></li>
<li><a href="../264071/index.html">Check your site for getting into the Unified Register of prohibited sites in Russia</a></li>
<li><a href="../264073/index.html">Virus protection - what does NIST tell us?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>