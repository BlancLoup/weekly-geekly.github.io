<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cross-platform evaluation of graphics capabilities in the context of UEFI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Unlike systems with x86 architecture, the use of UEFI ( Unified Extensible Firmware Interface ) on ARM platforms did not become a top in IT news. It d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cross-platform evaluation of graphics capabilities in the context of UEFI</h1><div class="post__text post__text-html js-mediator-article">  Unlike systems with x86 architecture, the use of UEFI ( <a href="http://habrahabr.ru/search/%3Fq%3D%255BUEFI%255D%26target_type%3Dposts">Unified Extensible Firmware Interface</a> ) on ARM platforms did not become a top in IT news.  It does not follow from this that the extensible interface of proprietary software is an idea only for the personal computer market.  The UEFI specification declares universal approaches for initializing any hardware and its interaction with the operating system. <br><br>  Due to the fact that the UEFI specification supports all common computer system architectures, I would like to compare their hardware performance from a ‚Äúclean slate‚Äù, i.e.  before running driver support.  It is especially interesting to look at the work of graphics on competing processor platforms.  Is it as good as the producers say? <a name="habracut"></a>  NVidia, for example, releases Tegra to work with ARM, and GeForce for personal systems. <br><br>  To answer this question, we decided to use our <a href="http://jelezo.com.ua/programmy/utilita_uefimark.html" title="UEFImark utility">UEFImark utility</a> , which measures the recording speed in video memory and displays information about the graphic capabilities of the system, <a href="http://jelezo.com.ua/programmy/uefimark_ebc_edition.html">on the EFI Byte Code rails</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As you know, the EFI Byte Code (EBC) is a fairly elegant <a href="http://habrahabr.ru/post/201954/" title="Theory and Practice EFI Byte Code">method for developing cross-platform software</a> within the UEFI specification.  His idea is obvious and not new - a program written in the command system of the nowadays registered virtual machine can be executed on any hardware platform equipped with a command interpreter program. <br><br><h4>  Work with graphics </h4><br>  For visualization of graphic information in the UEFI environment, as well as as an object for benchmarks, the <b>GOP</b> ( <i>Graphics Output Protocol</i> ) is used.  As part of this UEFI protocol, the <b>BLT</b> ( <i>Block Transfer</i> ) function is used.  This function builds on the screen of a rectangular object, receiving from the calling procedure as input parameters its coordinates, dimensions and contents. <br><br>  Unlike UEFImark x64 Edition, the UEFImark EBC Edition application does not use direct access to video memory, as in systems with architectures other than PCs, this visualization method may not be supported.  To declare this situation, a special attribute BltOnly is provided.  More precisely, it is planned to use direct access to video memory, but only when an x86-compatible platform is detected and video memory is available in the address space. <br><br><h4>  Benchmarks </h4><br>  Refer to the last line of the system information screen - GOP.BLT, FPS.  It contains two parameters: <br><br><ul><li>  The Fill parameter is the result of measuring the performance of the GOP.BLT.Fill procedure, which performs the construction of a monotone rectangle on the screen, by filling specified sections of the video memory with a given constant. </li><li>  The Copy parameter is the result of measuring the performance of the GOP.BLT.Copy procedure, which builds a rectangle on the screen, the pixel content of which is provided to this procedure in a buffer stored in RAM.  The contents of this buffer are copied to specified parts of the video memory. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/776/ef2/4ee/776ef24eecc87fa7a52851af3aef5d7e.png" alt="image"><br>  <i>The result of running the utility UEFImark, EBC Edition, on the platform of ASUS T100T, equipped with a 64-bit Intel Atom Z3740 processor, running 32-bit UEFI firmware</i> <br><br>  In these tests, the size of the rectangle is set equal to the size of the screen.  To measure time, a timer is used implemented in the framework of the CPU Architectural Protocol (CAP), the access method to which does not depend on the hardware features of the platform.  The amount of video memory used to represent the screen depends on the horizontal and vertical resolution, as well as the number of bits per pixel.  Accordingly, the greater the resolution and the number of bits per pixel, the greater the volume required to process.  Therefore, the number of frames per second or FPS (frames per second) will be different for different video modes.  When comparing the performance of two systems, they need to use the same video modes. <br><br><h4>  Frames or megabytes per second </h4><br>  Why in the benchmarks of the EBC version we switched from measuring the recording speed to video memory in megabytes per second, to measuring the integrated performance of the video subsystem in frames per second or FPS? <br><br>  Accurate bus bandwidth measurement is possible only for native code that directly writes to video memory, since between those moments of reading the initial and final states of the timer, only those operations whose execution time is to be measured must be located.  When using the GOP.BLT and UEFI API technologies, this condition is not feasible, since the called API procedure performs not only the block transfer itself, but also a number of auxiliary operations.  The main ones are the preparation of parameters for sending the block, transferring control to the subroutine, saving the parameters, restoring the parameters, returning from the subroutine, etc. Therefore, the integral parameter FPS is used for these graphical visualization methods. <br><br><h4>  Debugging Features </h4><br>  The upcoming version 0.13 supports issuing 8-bit debugging codes to an 8-bit port with the address 80h.  When debugging, the <a href="http://icbook.com.ua/hardware/_ic80v5/index.html">device is IC80v5.0</a> manufactured by IC Book Labs.  In order to ensure the operation of the program on platforms with architectures other than x86, issuing codes to port 80h is performed only if the x86 platform is successfully detected in conjunction with the firmware IA32 EFI or x64 UEFI.  In order to ensure operability in an emulated environment, the issuance of codes to port 80h is performed only if the program is running in supervisor mode, namely the current privilege level (CPL) defined by bits [1.0] of the code segment register (CS) is zero , which means the absence of an emulator or the absence of a mode for intercepting calls to I / O ports.  Practice has shown that output to port 80h can cause an abnormal termination of the emulator. <br><br><h4>  Summary </h4><br>  EBC support is implemented today in the framework of the UEFI firmware of the following four types of platforms: IA32, x64, IPF (Itanium Processor Family) and ARM, therefore, our maximum program is this: the functionality of the information utility UEFImark v0.96, implemented today exclusively for the x64 UEFI environment, provide in a single utility UEFImark EBC Edition for the four types of platforms listed above. </div><p>Source: <a href="https://habr.com/ru/post/212363/">https://habr.com/ru/post/212363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../212347/index.html">Bootstrap Modal Iframe Crutch</a></li>
<li><a href="../212349/index.html">Business Intelligence using MS SQL Server 2008 R2 in a company using 1C accounting systems</a></li>
<li><a href="../212351/index.html">Parsing protocol World Of Tanks</a></li>
<li><a href="../212357/index.html">And test, and drive!</a></li>
<li><a href="../212359/index.html">The founders of The Pirate Bay negotiated with North Korea regarding the placement of torrent tracker servers</a></li>
<li><a href="../212367/index.html">Collapsar - life hacking for Twitter users</a></li>
<li><a href="../212369/index.html">Central Bank of the Russian Federation against Bitcoin?</a></li>
<li><a href="../212371/index.html">The "non-creative" side of game localization. How do we do it</a></li>
<li><a href="../212373/index.html">Once again about how not to make prize draws</a></li>
<li><a href="../212377/index.html">Fujitsu Extended Product Support Services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>