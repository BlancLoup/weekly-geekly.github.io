<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Big street clock</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All the same not habraeffekt does not allow to forget about itself. An article on how to make large clocks that can be hung on a building. Copied to H...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Big street clock</h1><div class="post__text post__text-html js-mediator-article">  All the same not habraeffekt does not allow to forget about itself.  An article on how to make large clocks that can be hung on a building.  Copied to Habr because  the server is unable to digest so many visitors. <br><a name="habracut"></a><br><br>  Recently, a large electronic clock began to appear on many buildings.  This article will discuss how to assemble such watches on your own.  It will also indicate the places where the author stepped on the rake and where it is worth paying attention. <br><br>  First of all, it is necessary to determine the size of hours and budget.  Estimate in the draft power consumption of components, architecture.  Make a dynamic indication or control each digit individually.  What and in what quantities to use LEDs.  What material to make the case. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, the finished watch turned out like this: <br>  Dimensions: 630x235x105 <br>  Weight: 5.8 kg <br>  Power consumption: 30 W <br>  The accuracy of the course is not worse than ¬± 1 min per month. <br>  Unfortunately, the flight of the designer‚Äôs imagination limits the range of shops sold and the tools available.  The watch frame was made of an aluminum corner bought in OBI, and the sides were made of plexiglass purchased by a craftsman in the store.  The boards of the figures were made of polystyrene.  All seams for tightness smeared transparent sanitary silicone sealant. <br><br>  Why were the side walls made of plexiglass and not polystyrene?  The fact is that polystyrene, as it turned out, was not resistant to weathering, and after 2 years it would simply be hard, while plexiglas turned out to be more resistant in this respect.  Since the clock is hanging on the street, it is desirable to make them tight.  At the same time, consider the heat dissipation of the components so that they do not suffocate in the summer in the sun.  Ideally, before their final screwing up, throw a bag of silica gel inside, so that moisture does not condense from the inside in cold weather.  Use industrial components (from -50 to +60 degrees).  Coat the finished boards with a varnish of corrosion, which can easily gnaw through thin conductors.  Fix inside the components tightly, if while carrying the plugs inside will hang out then the contact will be broken at one point. <br><br>  After the frame was made, the plexiglas was cut and the whole thing was collected, the turn of numbers comes.  4 digits were made of segments, with 22 LEDs each, + 2 points with 4 LEDs, for a total of 624 LEDs.  LEDs are green with a matte body L-53SGD.  Here is the first error.  I chose the LEDs based on the viewing angle, which is maximal for the LEDs in the matte case, but at the same time their luminous flux is small.  As a result, it turned out that the indoor LEDs can be seen perfectly, but on the street only in cloudy weather.  Therefore, I strongly recommend to fork out, buy 4-5 LEDs of each brand, run them on batteries, go outside and evaluate how they will be seen, how blind they are in the sun, what is the viewing angle. <br><br>  Current through LED 20 mA on datasheet.  They are assembled in chains of 2 in series to minimize losses on current-limiting resistors (efficiency loss and unnecessary heating we need nothing). In total, it turns out that the current of the lit figure is 1.1 A. Here lies the important moment of the choice of architecture.  Can you make a power supply unit that will give 4.4 A and will calmly experience current surges of 100% of the load - do individual control of each digit.  Light output will be the maximum.  You can not (for example, there is no transformer of sufficient power on sale) - make the display dynamic.  Brightness will be lower. <br><br>  The power supply is better to do according to the classical scheme (transformer, diode bridge, smoothing capacitor) than a pulsed one - firstly the fewer the details, the higher the reliability, and secondly such a power supply unit is more unpretentious.  (The clock worked when I lowered the voltage to 110 V by the LATR. The LEDs went out, but the passage of time did not stop). <br><br>  The next stage is the development of control electronics.  The clock is assembled on an ATMEGA16 microcontroller, with an external quartz resonator connected to the TOSC pins, which allows you to count down the time.  The accuracy of the watch depends only on the accuracy of the quartz, respectively, and the watch as a result is quartz. <br><br>  The clock consists of 3 boards.  The first board contains a transformer with a power supply and a microcontroller.  The second, a voltage converter, raises 5 V to 12 V (necessary to power the MOSFET keys, because of the voltage drop on the LEDs of five volt logic levels from the MK, it is not enough to unlock the transistor. The converter with a cascade of amplifier transistors solved this problem.) keys with current-limiting resistors.  All boards are interconnected by connectors - this is incredibly convenient in the process of debugging and assembly. <br><br>  The aluminum cylinder is a 6.3V and 100,000 microfarad capacitor.  Probably the only domestic electronic part, made in the USSR.  Since the watches do not have circuits inside to save time, in the event of a power failure, this capacitor allows you to survive dips in the supply voltage for up to 4 seconds. <br><br>  A lot of nerves spoiled the bug, which took almost 3 months to catch.  A blocking capacitance of 0.1 microfarad on the power between the legs of the microcontroller was not established, which caused sooo interesting breakdowns that externally resemble electromagnetic pickups, and judging by the oscillograms, a software failure. <br>  A thermometer - DS1620 temperature sensor with i2c connection was added to the watch.  And here lies the rake number two.  The fact is that inside the watch everything is heated during operation.  The diode bridge is particularly hot, besides the clock is hanging on the pavilion, which also heats up when students walk through it.  As a result, the thermal sensor fixed in the coldest place of the clock gave an error of 5 degrees (when it was -15 outside).  Make a remote sensor. <br><br>  The clock program is quite simple - a millisecond counter for interruption.  Functions for calculating a leap year (within 2000-2100 years), automatic transition to winter / summer time, setting, set time correction constant (sec per day), set time / temperature indication time. <br><br>  If I made a second copy, I would fix it: <br>  1) I would use a dedicated real-time clock chip with my battery. <br>  2) Would use other LEDs in a transparent case <br>  3) Connector for connecting a remote temperature sensor. <br>  Very interesting idea to make time synchronization with GPS.  These watches are equipped with 3 buttons for setting.  Many companies complete their watches with a remote control to set the time. <br>  Remember that someone will repair the watch, so it‚Äôs very good idea to put a sheet in with a diagram inside. <br><br>  In total, the watch cost 5,000 rubles.  Were posted on the building of the Faculty of Forestry UGLTU.  Calmly survived January frosts of -30 degrees.  While the flight is normal.  Below are photos, look at which is much more interesting than reading the text) <br><br>  Pictures.  Not all but the main ones: <br><br><img src="http://img8.imageshack.us/img8/4852/controllere.jpg"><br><img src="http://img7.imageshack.us/img7/9725/outsidetest.jpg"><br><img src="http://img5.imageshack.us/img5/3339/57422524.jpg"><br><img src="http://img401.imageshack.us/img401/4667/assembled.jpg"><br><img src="http://img15.imageshack.us/img15/2699/bigclockdebugging.jpg"><br><img src="http://img13.imageshack.us/img13/874/bigclockdigitdrillingli.jpg"><br><img src="http://img12.imageshack.us/img12/7949/bigclockdone.jpg"><br><img src="http://img11.imageshack.us/img11/1849/bigclockinside.jpg"><br><img src="http://img83.imageshack.us/img83/4175/bigclockscheme.jpg"><br><br>  Original article here: <a href="http://licrym.org/index.php/%25D0%2591%25D0%25BE%25D0%25BB%25D1%258C%25D1%2588%25D0%25B8%25D0%25B5_%25D1%2583%25D0%25BB%25D0%25B8%25D1%2587%25D0%25BD%25D1%258B%25D0%25B5_%25D1%2587%25D0%25B0%25D1%2581%25D1%258B">licrym.org/index.php/%D0%91%D0%BE%D0%BB%D1%8C%D1%88%D0%B8%D0%B5_%D1%83 %D0%BB%D0 % B8% D1% 87% D0% BD% D1% 8B% D0% B5_% D1% 87% D0% B0% D1% 81% D1% 8B</a> <br><br>  Questions on the filling of the clock can be asked in the comments. </div><p>Source: <a href="https://habr.com/ru/post/53923/">https://habr.com/ru/post/53923/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../53917/index.html">Unambiguous turn signal</a></li>
<li><a href="../53919/index.html">Sparko 2, with relatives and friends</a></li>
<li><a href="../53920/index.html">Martin Fowler - GUI Architectures. Part 3</a></li>
<li><a href="../53921/index.html">The idea or implementation. What is more important?</a></li>
<li><a href="../53922/index.html">Creating a simple DI container using TDD</a></li>
<li><a href="../53925/index.html">Preview and Resize images in html</a></li>
<li><a href="../53926/index.html">PCSX2 0.9.6 released - PS2 emulator for PC</a></li>
<li><a href="../53927/index.html">Does it make sense to write an article about Ruby DRb / Rinda?</a></li>
<li><a href="../53928/index.html">Doshirak: Project One. What is Confiture and what is it eaten with?</a></li>
<li><a href="../53929/index.html">Programming doesn't suck! At least it should not be.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>