<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Numphp - working with numeric vector arrays and matrices</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I would like to continue the story about a wonderful library for working with numeric arrays in php numphp . Earlier, I already did a brief revi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Numphp - working with numeric vector arrays and matrices</h1><div class="post__text post__text-html js-mediator-article">  Today I would like to continue the story about a wonderful library for working with numeric arrays in php <a href="https://github.com/apollonin/numphp">numphp</a> .  Earlier, I already did a brief review on it <a href="https://habrahabr.ru/post/347470/">here</a> .  Since then, the library has acquired functionality, and, most importantly, has learned how to work with multidimensional arrays or matrices.  About them, basically, there will be a speech. <br><br>  Without unnecessary introductions immediately an example of how you can create a 3 by 4 matrix, using the capabilities of numphp. <br><br><pre><code class="php hljs">$matrix = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> np_array([[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>], [<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>]]); <span class="hljs-comment"><span class="hljs-comment">// matrix [[ 0, 1, 2, 3], [ 4, 5, 6, 7], [ 8, 9, 10, 11]]</span></span></code> </pre> <a name="habracut"></a><br>  As a result, we get the np_array object.  Moreover, each row of the matrix is ‚Äã‚Äãalso an object of this type.  This allows universal samples to be made. <br>  For example, the standard logic can be used to access the second line. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="php hljs">$row = $matrix[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//row [4, 5, 6, 7]</span></span></code> </pre><br>  But it would be uninteresting =) <br><br>  Due to the fact that any slice of the matrix is ‚Äã‚Äãnp_array, we can at one stroke know, for example, the average value for the entire third row. <br><br><pre> <code class="php hljs">$avg = $matrix[<span class="hljs-number"><span class="hljs-number">2</span></span>]-&gt;mean(); <span class="hljs-comment"><span class="hljs-comment">// avg 9.5</span></span></code> </pre><br>  Moreover, using comparison operators, one can select all matrix elements that satisfy the condition, for example, more than 5 <br><br><pre> <code class="php hljs">$result = $matrix[$matrix-&gt;gt(<span class="hljs-number"><span class="hljs-number">5</span></span>)] <span class="hljs-comment"><span class="hljs-comment">// or $result = $matrix[$matrix['&gt; 5']] // result [ 6, 7, 8, 9, 10, 11]</span></span></code> </pre><br>  And get their amount <br><br><pre> <code class="php hljs">$result = $matrix[$matrix[<span class="hljs-string"><span class="hljs-string">'&gt; 5'</span></span>]]-&gt;sum() <span class="hljs-comment"><span class="hljs-comment">// result 51</span></span></code> </pre><br>  As I mentioned above, we can use the full power of the slices implemented in numphp, applicable to matrices too.  For example, take the second and third line <br><br><pre> <code class="php hljs">$result = $matrix[<span class="hljs-string"><span class="hljs-string">'1:3'</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// result [[ 4, 5, 6, 7], [ 8, 9, 10, 11]]</span></span></code> </pre><br>  A more detailed description of the features can be found in the <a href="https://github.com/apollonin/numphp">library</a> documentation. <br><br><h4>  Mathematical operations </h4><br>  At the moment, the same operations can be applied to matrices as to vector arrays.  The operation will be applied to each element of the original matrix. <br><br><pre> <code class="php hljs">$result = $matrix-&gt;mul(<span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-comment"><span class="hljs-comment">// multiply // result [[ 0, 5, 10, 15], [20, 25, 30, 35], [40, 45, 50, 55]]</span></span></code> </pre><br>  You can also sum the matrix and vector.  In this case, the vector will be added to each row of the matrix. <br><br><pre> <code class="php hljs">$result = $matrix-&gt;add([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]); [[ <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>], [ <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>], [ <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>]]</code> </pre><br>  Or even sum up two matrices.  Here you will also see one of the ways how to generate a matrix of the desired size. <br><br><pre> <code class="php hljs">$diffMartrix = Generator::ones([<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// diffMartrix [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]] $result = $matrix-&gt;add($diffMatrix); // result [[ 1, 2, 3, 4], [ 5, 6, 7, 8], [ 9, 10, 11, 12]]</span></span></code> </pre><br>  Thus it is possible to significantly simplify and speed up the work with matrices and vectors. <br><br><h4>  Resizing </h4><br>  Each np_array object can easily change its shape.  By shape, I mean the dimension of a particular object.  For example <br><br><pre> <code class="php hljs">$list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> np_array([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>]); $list-&gt;shape <span class="hljs-comment"><span class="hljs-comment">// [10] $matrix = new np_array([[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]); $matrix-&gt;shape // [3, 4]</span></span></code> </pre><br>  Simply, we can assume that the first number means the number of rows, the second - the number of columns.  But, it is important to understand that the library allows you to work with n-dimensional arrays. <br><br>  If we want to take our matrix from the example and make it, say, an array of points on a coordinate board, we can turn it into a 6x2 matrix <br><br><pre> <code class="php hljs">$newMatrix = $matrix-&gt;reshape([<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// newMatrix [[ 0, 1], [ 2, 3], [ 4, 5], [ 6, 7], [ 8, 9], [10, 11]]</span></span></code> </pre><br>  If you want to present an n-dimensional array as 1-dimensional, you can use the flatten method <br><br><pre> <code class="php hljs">$result = $matrix-&gt;flatten(); <span class="hljs-comment"><span class="hljs-comment">// result [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]</span></span></code> </pre><br>  This approach is convenient for quickly generating some kind of test data set of the desired form. <br><br><pre> <code class="php hljs">$result = Generator::arange(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>)-&gt;reshape([<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// result [[ 1, 2, 3, 4, 5, 6, 7], [ 8, 9, 10, 11, 12, 13, 14]]</span></span></code> </pre><br>  The last thing I would like to describe here, but not the last thing the library can do is work with diagonal slices of matrices. <br><br><pre> <code class="php hljs">$matrix = Generator::arange(<span class="hljs-number"><span class="hljs-number">16</span></span>)-&gt;reshape([<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// matrix [[ 0, 1, 2, 3], [ 4, 5, 6, 7], [ 8, 9, 10, 11], [12, 13, 14, 15]] // get matrix diagonal $result = $matrix-&gt;diagonal(); //result [ 0, 5, 10, 15]</span></span></code> </pre><br>  You can generate a matrix with a given diagonal in almost the same way. <br><br><pre> <code class="php hljs">$matrix = Generator::diagonal([<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// matrix [[5, 0, 0], [0, 3, 0], [0, 0, 1]]</span></span></code> </pre><br>  In fact, the library includes many more pleasant and useful things for working with numeric arrays and matrices of any dimension.  By combining them, you can very quickly and simply do calculations based on data.  I would like to realize much more in the plans, so work on the library continues. <br><br>  Additional features and documentation can be found <a href="https://github.com/apollonin/numphp">here</a> . <br><br>  Also, if you want to contribute to the development - I will be glad to discuss any issues. </div><p>Source: <a href="https://habr.com/ru/post/347882/">https://habr.com/ru/post/347882/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347872/index.html">Pygest # 23. News, releases, articles, interesting projects and libraries from the world of Python [February 4, 2018 - February 26, 2018]</a></li>
<li><a href="../347874/index.html">Is it time for open and free processors?</a></li>
<li><a href="../347876/index.html">Changes in Big Data that are waiting for us in 2018</a></li>
<li><a href="../347878/index.html">Year for three on Habr√©. We share the experience of a corporate blog.</a></li>
<li><a href="../347880/index.html">Highly scalable storage for post-production studios and TV channels</a></li>
<li><a href="../347884/index.html">Yealink Meeting Server - a comprehensive video conferencing solution</a></li>
<li><a href="../347888/index.html">Wireshark to view real-time traffic</a></li>
<li><a href="../347894/index.html">How to hijack all traffic and all clients from Yandex with only a webmaster?</a></li>
<li><a href="../347898/index.html">How to catch a programmer on cheating and is it worth doing?</a></li>
<li><a href="../347900/index.html">All about overriding in Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>