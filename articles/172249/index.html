<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Discover Marmalade Quick, a new player in fast cross-platform development.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 Honestly, I am a little surprised why there is no mention of this in the Habr√©. Perhaps due to the fact that indie developers have nothin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Discover Marmalade Quick, a new player in fast cross-platform development.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/1a0/265/9b2/1a02659b2a132c5c10e26796a8d5f820.png"><br><br>  Good day! <br><br>  Honestly, I am a little surprised why there is no mention of this in the Habr√©.  Perhaps due to the fact that <a href="http://habrahabr.ru/company/apps4all/blog/166091/">indie developers have nothing to shine</a> ?  Perhaps the reason is the exorbitant price that Marmalade asks for its product?  Or are there so many alternatives that you can‚Äôt keep up with everything?  As if there wasn‚Äôt, today we‚Äôll talk about Marmalade Quick and try to show you that it fully justifies its name.  I had no experience in mobile development, but Quick is so simple that in a couple of hours I managed to write a full-fledged application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  Why don't you try it ... <habracut><br><br><h4>  What exactly is Marmalade Quick? </h4><br>  Marmalade Quick allows you to write applications in the Lua language, which is now quite popular among game developers.  Lua is tempting, it is very simple and powerful enough language.  The ability to connect such modules as: Cocos2D-x for 2D graphics, Box2D for physics and SQLite for local data storage, JSON for data exchange. <br><br>  At the moment, version <b>1.0</b> , but already implemented and added to the API: <br><ul><li>  Play audio and video; </li><li>  Carrying out payment transactions in Google Play, BlackBerry World, Apple App Store; </li><li>  Compass and positioning; </li><li>  Facebook authorization and status update; </li><li>  Getting general information about the device; </li><li>  Native UI components; </li><li>  Sockets; </li><li>  Physics; </li></ul><br>  The core of Marmalade Quick is <a href="https://github.com/marmalade/OpenQuick">OpenQuick</a> , open source and completely independent of Marmalade. <br>  Marmalade Quick and OpenQuick are distributed under <a href="http://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B8%25D1%2586%25D0%25B5%25D0%25BD%25D0%25B7%25D0%25B8%25D1%258F_MIT">the MIT license</a> . <br>  You can ask questions for which you give solutions quickly enough <a href="https://devnet.madewithmarmalade.com/questions/topics/quick.html">here</a> . <br>  API in English is <a href="http://quick-docs.madewithmarmalade.com/api/APIReference.html">here</a> . <br><br><h4>  Preparatory part </h4><br><ol><li>  Download and install <a href="https://www.madewithmarmalade.com/downloads">Marmalade SDK</a> 6.2 and higher (30 days trial version); </li><li>  Download <a href="http://quick-docs.madewithmarmalade.com/">Marmalade Quick</a> .  Unpack the folder with Marmalade SDK (/ quick); </li><li>  Run quickLaunchPad.exe in the folder / quick / tools; </li><li>  Import Project - import of finished projects, in particular, you can test the work of ‚ÄúHello World‚Äù from the folder / quick / data / examples; </li><li>  New Project - create a new project; </li></ol><br><h4>  We proceed to the development </h4><br>  What should we have at the end?  - Bottle!  Select the number of players, twist the bottle and who gets the neck, he performs the task. <br><br><img src="https://habrastorage.org/storage2/d59/8f8/83d/d598f883da2b731e013e70b9d8e85c7c.png"><br><br>  Having created a new project, you create a folder with the project files.  Its location can be seen in the <b>Source Location</b> , open its <b>Open Folder</b> .  A folder in which all our files are <b>/ resources</b> , and the main executable file <b>main.lua</b> , in which we will work. <br><br>  Determine the screen resolution: <br><pre><code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> dx=director.displayWidth <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> dy=director.displayHeight</code> </pre> <br>  We calculate the number by which we will scale all the elements on the screen, considering that our application is designed for a screen no more than 1280x768: <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> skalex = dx/<span class="hljs-number"><span class="hljs-number">1280</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> skaley = dy/<span class="hljs-number"><span class="hljs-number">768</span></span></code> </pre><br>  Let's create the first scene where the bottles are placed to select the number of players (from 4 to 10): <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> scene1 = director:createScene() <span class="hljs-comment"><span class="hljs-comment">--   local fon = director:createSprite( { x=0, y=0, --       source="fon.jpg", --   xScale=skalex, yScale=skaley -- ,     1280x768 } ) --     local player4 = director:createSprite( { x=dx/2-360*skalex, y=dy/2, xAnchor=0.5, yAnchor=0.5, --   ,      ; 1 -   ; 0 -    source="but/player4.png", xScale=skalex, yScale=skaley } ) local player5 = director:createSprite( { x=dx/2-240*skalex, y=dy/2, xAnchor=0.5, yAnchor=0.5, source="but/player5.png", xScale=skalex, yScale=skaley } ) local player6 = director:createSprite( { x=dx/2-120*skalex, y=dy/2, xAnchor=0.5, yAnchor=0.5, source="but/player6.png", xScale=skalex, yScale=skaley } ) local player7 = director:createSprite( { x=dx/2, y=dy/2, xAnchor=0.5, yAnchor=0.5, source="but/player7.png", xScale=skalex, yScale=skaley } ) local player8 = director:createSprite( { x=dx/2+120*skalex, y=dy/2, xAnchor=0.5, yAnchor=0.5, source="but/player8.png", xScale=skalex, yScale=skaley } ) local player9 = director:createSprite( { x=dx/2+240*skalex, y=dy/2, xAnchor=0.5, yAnchor=0.5, source="but/player9.png", xScale=skalex, yScale=skaley } ) local player10 = director:createSprite( { x=dx/2+360*skalex, y=dy/2, xAnchor=0.5, yAnchor=0.5, source="but/player10.png", xScale=skalex, yScale=skaley } )</span></span></code> </pre><br>  So, we already have something like this: <br><br><img src="https://habrastorage.org/storage2/cd7/52a/31c/cd752a31cff0053f064d6f81624f7949.png"><br><br>  Now let's create the second scene, the whole game takes place in it.  I will not show them step by step, but rather I will write detailed comments. <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> scene2 = director:createScene() <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> fon = director:createSprite( { x=<span class="hljs-number"><span class="hljs-number">0</span></span>, y=<span class="hljs-number"><span class="hljs-number">0</span></span>, source=<span class="hljs-string"><span class="hljs-string">"fon.jpg"</span></span>, xScale=skalex, yScale=skaley } ) <span class="hljs-comment"><span class="hljs-comment">--   local menu = director:createSprite( { x=dx, y=dy, xAnchor=1, yAnchor=1, source="menu.png", xScale=skalex, yScale=skaley } ) --  ""  local buty = director:createSprite( { x=dx/2, y=20, xAnchor=0.5, yAnchor=0, source="raskrutit.png", xScale=skalex, yScale=skaley } ) local neLez = nil --    local but = function() neLez = 2 tween:to(buty, { alpha=1, time=0.5, onComplete = kruti} ) --      0.5     "" (kruti). end local win_p = "WIN" -- ,     local fonz = function(event) audio:stopStream() --    r = math.random(1,42) --     1  42 s = "zadanie/"..r..".png" --   42   ,       --     local zadanie = director:createSprite( { x=dx/2, y=dy/2, --   xAnchor=0.5, yAnchor=0.5, source=s, xScale=skalex, yScale=skaley } ) --     "" local sdelano = director:createSprite( { x=dx/2, y=dy/2-180*skaley, xAnchor=0.5, yAnchor=0.5, source="sdelano.png", xScale=skalex, yScale=skaley } ) --  ,        local label = director:createLabel( { x=dx/2-90, y=dy/2+120, xAnchor=0.5, yAnchor=0.5, font="fonts/ComicSans24.fnt", --  ,   .fnt color={99, 61, 2}, --  xScale=3, yScale=3, --     3 text="Player "..win_p } ) local touchz = function(event) if event.phase == "began" then --    - began; ended -  ; moved -   ; tween:to(label, { alpha=0, time=0.5} ) --   tween:to(zadanie, { alpha=0, time=0.5} ) --   tween:to(sdelano, { alpha=0, time=0.5, onComplete = but} ) --   ""      but,      "" end end sdelano:addEventListener("touch", touchz) --   ("touch")   ""      touchz end local kruti = function(event) if event.phase == "ended" then --  if neLez == nil or neLez == 2 then local payer = math.random(1,360) -- ,    ,    1  360 win_p = math.ceil(payer/(360/players)) -- ,    ,      -- ,   local butyl = director:createSprite( { x=dx/2, y=dy/2, xAnchor=0.5, yAnchor=0.5, source=play_but, xScale=skalex, yScale=skaley } ) audio:playStreamWithLoop("mus.mp3", false) --  .mp3 ,    , false -   tween:to(buty, { alpha=0, time=0.5} ) --   "" tween:to(butyl, { rotation=payer+5400, easing=ease.expOut, easingValue=2, time=12} ) -- rotation -     ,        ,        15  (5400 ), easing=ease.expOut -    12  tween:to(butyl, { alpha=0.1, delay=14, time=1, onComplete = fonz } ) -- delay -  14 ,       0.1    fonz,        neLez = 1 end end end</span></span></code> </pre><br><br><img src="https://habrastorage.org/storage2/f9e/5a0/816/f9e5a0816fbabdc1c0df3d72a9d9b24d.png"><br><br>  Next is the actual controls for the first scene, since we only painted the bottles, and now we‚Äôll add them to pressing. <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> touch4 = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(event)</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">--    4-  players = 4 --  ,     play_but = "but/4player.png" --  ,    if event.phase == "began" then --   director:moveToScene(scene2, {transitionType="crossFade", transitionTime=0.5}) --    2 end end local touch5 = function(event) players = 5 play_but = "but/5player.png" if event.phase == "began" then director:moveToScene(scene2, {transitionType="crossFade", transitionTime=0.5}) end end local touch6 = function(event) players = 6 play_but = "but/6player.png" if event.phase == "began" then director:moveToScene(scene2, {transitionType="crossFade", transitionTime=0.5}) end end local touch7 = function(event) players = 7 play_but = "but/7player.png" if event.phase == "began" then director:moveToScene(scene2, {transitionType="crossFade", transitionTime=0.5}) end end local touch8 = function(event) players = 8 play_but = "but/8player.png" if event.phase == "began" then director:moveToScene(scene2, {transitionType="crossFade", transitionTime=0.5}) end end local touch9 = function(event) players = 9 play_but = "but/9player.png" if event.phase == "began" then director:moveToScene(scene2, {transitionType="crossFade", transitionTime=0.5}) end end local touch10 = function(event) players = 10 play_but = "but/10player.png" if event.phase == "began" then director:moveToScene(scene2, {transitionType="crossFade", transitionTime=0.5}) end end local menu_back = function(event) --      if event.phase == "began" then audio:stopStream() director:moveToScene(scene1, {transitionType="crossFade", transitionTime=0.5}) --     end end player4:addEventListener("touch", touch4) --     4 player5:addEventListener("touch", touch5) --     5 player6:addEventListener("touch", touch6) --     6 player7:addEventListener("touch", touch7) --     7 player8:addEventListener("touch", touch8) --     8 player9:addEventListener("touch", touch9) --     9 player10:addEventListener("touch", touch10) --     10 buty:addEventListener("touch", kruti) --     "" menu:addEventListener("touch", menu_back) --     "" director:moveToScene(scene1) -- ,        ,              ,   ,     .</span></span></code> </pre><br><br>  That's all.  The bottle is spinning, the music is playing ... people are performing ... <br><br>  Another thing I wanted to add was that when you run the application on the device, first a black screen for a while, to speed up its disappearance, do the following: <br><ul><li>  Create a config.lua file </li><li>  Add a line to it - config = {debug = {general = false}} </li><li>  In the app.icf file, add the line to the end - configFileName = "config.lua" </li></ul><br>  Here, now everything is exactly.  Keep, if suddenly someone needs, an <a href="">archive with files</a> and success in development! </habracut></div><p>Source: <a href="https://habr.com/ru/post/172249/">https://habr.com/ru/post/172249/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../172235/index.html">Mozilla does not plan to return to iOS</a></li>
<li><a href="../172239/index.html">PowerMock (+ Mockito): a new look at unit testing</a></li>
<li><a href="../172243/index.html">Bar of Desires by March 8 in Python and Pyramid</a></li>
<li><a href="../172245/index.html">Windows Azure Summit: how it was (+ a lot of photos)</a></li>
<li><a href="../172247/index.html">Xbox Hacking Guide: In Memory of Aaron Schwarz</a></li>
<li><a href="../172251/index.html">Synthesis of combinational devices on the example of the converter from direct code to additional</a></li>
<li><a href="../172253/index.html">New videos from Alconost</a></li>
<li><a href="../172257/index.html">Childhood Digital Photography - Kodak DC50</a></li>
<li><a href="../172259/index.html">C / C ++ plugin for IntelliJ IDEA as OpenSource</a></li>
<li><a href="../172263/index.html">Thoughts on the Facebook interface</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>