<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Computer little man</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We all know the Turing machine and the Post machine. These are abstract computing machines invented by mathematicians for the theory of algorithms. Th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Computer little man</h1><div class="post__text post__text-html js-mediator-article">  We all know the Turing machine and the Post machine.  These are abstract computing machines invented by mathematicians for the theory of algorithms.  The computer of the little man ( <a href="http://en.wikipedia.org/wiki/Little_man_computer">Little man computer</a> ) is a computer model designed to learn how a computer works and works.  This model was proposed by Professor Stewart Madnik in 1965 and has been successfully used to teach students of elementary courses in both programming and computer design. <br><img src="https://habrastorage.org/files/03f/319/559/03f319559e6e4211895118b753755cd8.png"><br><a name="habracut"></a><br>  Let's look at the computer as a small post office. <br><br>  There are two windows in the compartment for communicating with the outside world: INP comes in and out of the OUT window there are leaves with numbers. The numbers can be from 0 to 999. There are 100 mailboxes in the compartment, numbered from 0 to 99, of which the little man take leaves with three-digit numbers, and can also replace these leaves with new ones.  He also has a simple calculator (battery) that allows you to add and subtract three-digit numbers.  When processing numbers on a calculator, flags for numbers equal to 0 and greater than 0 are automatically raised. <br><br>  The computer operator writes the program on the sheets and puts them in the mailboxes, then sets the command counter (PC) to 0 and presses the "Start job" button.  Inside the post office, the little man is processing the numbers of the letters in the mailboxes.  We describe the processing cycle in steps: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Select a number from the command counter.  This number is the mailbox number. </li><li>  Remember the number from the mailbox, the number of which was obtained in step 1. </li><li>  Increase the command counter by 1. </li><li>  Parse the command (the number received in step 2). </li><li>  Fetch data from the mailbox, if required. </li><li>  Run the command itself. </li><li>  Save data to your inbox if required. </li><li>  Return to step 1 or stop if the command is 0. </li></ol><br>  Commands - three-digit decimal numbers, the number of hundreds determines the type of command, and the numbers of tens and ones - the number of the mailbox. <br><table><tbody><tr><th>  Command code </th><th>  Command type </th><th>  Actions </th></tr><tr><td>  1xx </td><td>  ADD </td><td>  Add a number from the box xx to the battery.  Raise the flag ZERO or POSITIVE NUMBER.  If the result is greater than 999, then finish the job with an error. </td></tr><tr><td>  2xx </td><td>  SUB </td><td>  Subtract the number from the box xx from the battery.  Raise the flag ZERO or POSITIVE NUMBER.  If the result is less than 0, the battery does not change and the flags go down. </td></tr><tr><td>  3xx </td><td>  Sta </td><td>  Save the contents of the battery in the box xx. </td></tr><tr><td>  5xx </td><td>  Lda </td><td>  Load the number from box xx into the battery.  Raise the flag ZERO or POSITIVE NUMBER. </td></tr><tr><td>  6xx </td><td>  Bra </td><td>  Set the command counter to xx. </td></tr><tr><td>  7xx </td><td>  BRZ </td><td>  If the flag is ZERO, then set the command counter to xx. </td></tr><tr><td>  8xx </td><td>  BRP </td><td>  If the flag is ZERO or POSITIVE NUMBER, then set the command counter to xx. </td></tr><tr><td>  901 </td><td>  INP </td><td>  Select the number from the INP window and write to the battery.  Raise the flag ZERO or POSITIVE NUMBER.  If the number does not fall in the range from 0 to 999, then finish the work with an error. </td></tr><tr><td>  902 </td><td>  Out </td><td>  Write the number of the battery on a piece of paper and put it in the OUT window. </td></tr><tr><td>  000 </td><td>  Hlt </td><td>  Finish the job. </td></tr></tbody></table><br>  So, we described a computer with von Neumann architecture with a small set of commands.  The model does not use binary coding of commands, and this simplifies the writing of programs for this computer ‚Äî the computer device can be drawn on the board, and the programs executed on a piece of paper.  I think that in the 60s of the twentieth century, many students performed the programs in this way, but now we can write an emulator of such a computer, which I did at AWK. <br><br>  Emulator source code and sample programs: <a href="https://github.com/Ono2it/lmc">GitHub</a> . <br><br>  The emulator is started with the command: <br><pre>  awk -f lmc.awk </pre><br>  Emulator Commands: <br><pre> LOAD ### [### ...] - load the program in codes
 DUMP - show memory contents 
 RUN - run the program
 ASM &lt;file name&gt; - compile the program in assembler and download
</pre><br>  Some short programs: <br><pre> LOAD 901 902 000 - copy the number from INP to OUT, stop
 LOAD 901 104 902 000 1 - add 1 to the number of INP, write to OUT, stop
 LOAD 901 902 704 600 000 - we copy numbers from INP to OUT, and stop working after printing 0
</pre><br><div class="spoiler">  <b class="spoiler_title">An example of running the program:</b> <div class="spoiler_text"><pre> LOAD 901 902 0
 DUMP
 00: 901 902 0 0 0 0 0 0 0 0
 10: 0 0 0 0 0 0 0 0 0 0
 20: 0 0 0 0 0 0 0 0 0 0
 30: 0 0 0 0 0 0 0 0 0 0
 40: 0 0 0 0 0 0 0 0 0 0
 50: 0 0 0 0 0 0 0 0 0 0
 60: 0 0 0 0 0 0 0 0 0 0
 70: 0 0 0 0 0 0 0 0 0 0
 80: 0 0 0 0 0 0 0 0 0 0
 90: 0 0 0 0 0 0 0 0 0 0
 RUN
 INP: 100
 OUT: 100
</pre><br></div></div><br>  The same length and simple format of commands allows you to quickly write an assembler for this computer.  After that, you can write long programs without manually calculating addresses. <br><div class="spoiler">  <b class="spoiler_title">Fibonacci numbers:</b> <div class="spoiler_text"><pre><code class="hljs smalltalk">awk -f lmc.awk asm fib.lma <span class="hljs-number"><span class="hljs-number">00</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">#Print</span></span> fibonacci numbers <span class="hljs-number"><span class="hljs-number">00</span></span>: <span class="hljs-type"><span class="hljs-type">LDA</span></span> <span class="hljs-type"><span class="hljs-type">ONE</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Load</span></span> init values <span class="hljs-number"><span class="hljs-number">01</span></span>: <span class="hljs-type"><span class="hljs-type">STA</span></span> <span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#First</span></span> number <span class="hljs-number"><span class="hljs-number">02</span></span>: <span class="hljs-type"><span class="hljs-type">STA</span></span> <span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Second</span></span> number <span class="hljs-number"><span class="hljs-number">03</span></span>: <span class="hljs-type"><span class="hljs-type">OUT</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Print</span></span> first <span class="hljs-number"><span class="hljs-number">04</span></span>: <span class="hljs-type"><span class="hljs-type">OUT</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Print</span></span> second <span class="hljs-number"><span class="hljs-number">05</span></span>: <span class="hljs-type"><span class="hljs-type">LOOP</span></span> <span class="hljs-type"><span class="hljs-type">LDA</span></span> <span class="hljs-type"><span class="hljs-type">MAX</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#ACC</span></span>=<span class="hljs-type"><span class="hljs-type">MAX</span></span> <span class="hljs-number"><span class="hljs-number">06</span></span>: <span class="hljs-type"><span class="hljs-type">SUB</span></span> <span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#ACC</span></span>=<span class="hljs-type"><span class="hljs-type">ACC</span></span>-<span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span>: <span class="hljs-type"><span class="hljs-type">SUB</span></span> <span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#ACC</span></span>=<span class="hljs-type"><span class="hljs-type">ACC</span></span>-<span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-number"><span class="hljs-number">08</span></span>: <span class="hljs-type"><span class="hljs-type">BRP</span></span> <span class="hljs-type"><span class="hljs-type">CONT</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#ACC</span></span> positive ? <span class="hljs-type"><span class="hljs-type">Continue</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span>: <span class="hljs-type"><span class="hljs-type">BRA</span></span> <span class="hljs-type"><span class="hljs-type">END</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Negative</span></span> : goto end of program <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-type"><span class="hljs-type">CONT</span></span> <span class="hljs-type"><span class="hljs-type">LDA</span></span> <span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#ACC</span></span>=<span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>: <span class="hljs-type"><span class="hljs-type">ADD</span></span> <span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#ACC</span></span>=<span class="hljs-type"><span class="hljs-type">ACC</span></span>+<span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>: <span class="hljs-type"><span class="hljs-type">STA</span></span> <span class="hljs-type"><span class="hljs-type">FIBN</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Store</span></span> <span class="hljs-type"><span class="hljs-type">FIBN</span></span> - next number <span class="hljs-number"><span class="hljs-number">13</span></span>: <span class="hljs-type"><span class="hljs-type">OUT</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Print</span></span> it <span class="hljs-number"><span class="hljs-number">14</span></span>: <span class="hljs-type"><span class="hljs-type">LDA</span></span> <span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#FIB1</span></span>=<span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>: <span class="hljs-type"><span class="hljs-type">STA</span></span> <span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>: <span class="hljs-type"><span class="hljs-type">LDA</span></span> <span class="hljs-type"><span class="hljs-type">FIBN</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#FIB2</span></span>=<span class="hljs-type"><span class="hljs-type">FIBN</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span>: <span class="hljs-type"><span class="hljs-type">STA</span></span> <span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span>: <span class="hljs-type"><span class="hljs-type">BRA</span></span> <span class="hljs-type"><span class="hljs-type">LOOP</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Next</span></span> <span class="hljs-type"><span class="hljs-type">LOOP</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span>: <span class="hljs-type"><span class="hljs-type">END</span></span> <span class="hljs-type"><span class="hljs-type">HLT</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span>: <span class="hljs-type"><span class="hljs-type">ONE</span></span> <span class="hljs-type"><span class="hljs-type">DAT</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Init</span></span> value <span class="hljs-number"><span class="hljs-number">21</span></span>: <span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-type"><span class="hljs-type">DAT</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#First</span></span> fib number <span class="hljs-number"><span class="hljs-number">22</span></span>: <span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-type"><span class="hljs-type">DAT</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Second</span></span> fib number <span class="hljs-number"><span class="hljs-number">23</span></span>: <span class="hljs-type"><span class="hljs-type">FIBN</span></span> <span class="hljs-type"><span class="hljs-type">DAT</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Next</span></span> fib number <span class="hljs-number"><span class="hljs-number">24</span></span>: <span class="hljs-type"><span class="hljs-type">MAX</span></span> <span class="hljs-type"><span class="hljs-type">DAT</span></span> <span class="hljs-number"><span class="hljs-number">999</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#Max</span></span> computer number <span class="hljs-type"><span class="hljs-type">Labels</span></span>: <span class="hljs-type"><span class="hljs-type">LOOP</span></span> <span class="hljs-number"><span class="hljs-number">05</span></span> <span class="hljs-type"><span class="hljs-type">MAX</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-type"><span class="hljs-type">FIBN</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-type"><span class="hljs-type">ONE</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-type"><span class="hljs-type">END</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-type"><span class="hljs-type">CONT</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-type"><span class="hljs-type">Xrefs</span></span>: <span class="hljs-type"><span class="hljs-type">LOOP</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-type"><span class="hljs-type">MAX</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-type"><span class="hljs-type">FIB1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-type"><span class="hljs-type">FIB2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-type"><span class="hljs-type">FIBN</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-type"><span class="hljs-type">ONE</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-type"><span class="hljs-type">END</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-type"><span class="hljs-type">CONT</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-type"><span class="hljs-type">LOAD</span></span> <span class="hljs-number"><span class="hljs-number">520</span></span> <span class="hljs-number"><span class="hljs-number">321</span></span> <span class="hljs-number"><span class="hljs-number">322</span></span> <span class="hljs-number"><span class="hljs-number">902</span></span> <span class="hljs-number"><span class="hljs-number">902</span></span> <span class="hljs-number"><span class="hljs-number">524</span></span> <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-number"><span class="hljs-number">222</span></span> <span class="hljs-number"><span class="hljs-number">810</span></span> <span class="hljs-number"><span class="hljs-number">619</span></span> <span class="hljs-number"><span class="hljs-number">521</span></span> <span class="hljs-number"><span class="hljs-number">122</span></span> <span class="hljs-number"><span class="hljs-number">323</span></span> <span class="hljs-number"><span class="hljs-number">902</span></span> <span class="hljs-number"><span class="hljs-number">522</span></span> <span class="hljs-number"><span class="hljs-number">321</span></span> <span class="hljs-number"><span class="hljs-number">523</span></span> <span class="hljs-number"><span class="hljs-number">322</span></span> <span class="hljs-number"><span class="hljs-number">605</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">999</span></span></code> </pre> <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/257331/">https://habr.com/ru/post/257331/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257319/index.html">Arbelos</a></li>
<li><a href="../257321/index.html">Another way to connect WS2812B to a microcontroller</a></li>
<li><a href="../257323/index.html">Asynchronous recursive iterator and fight with callback in Node.js</a></li>
<li><a href="../257325/index.html">LA Workshop and MIPSfpga Initiatives in Russia and Electronics Teaching</a></li>
<li><a href="../257327/index.html">Victory over non-obvious. Collapsing indentation</a></li>
<li><a href="../257333/index.html">Internship in Redmadrobot: hot, summer, interesting</a></li>
<li><a href="../257335/index.html">Happy birthday payler</a></li>
<li><a href="../257337/index.html">3 disasters of responsive design and how to avoid them</a></li>
<li><a href="../257339/index.html">Introduction to discrete-oriented polyhedra for collision detection</a></li>
<li><a href="../257343/index.html">Microsoft refuses to Patch Tuesday for Windows 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>