<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A stack that allowed Medium to provide readings for 2.6 millennia</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I offer the public my translation of Dan Pupius‚Äôs article about the architecture of the Medium service and the technologies used. I want to emphasize ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A stack that allowed Medium to provide readings for 2.6 millennia</h1><div class="post__text post__text-html js-mediator-article"><p>  <em>I offer the public my translation of Dan Pupius‚Äôs article about the architecture of the Medium service and the technologies used.</em>  <em>I want to emphasize that the article is a translation, therefore the pronoun ‚ÄúI‚Äù used in the text further refers to the author of the original text, and not to the translator.</em> </p><br><h1 id="fon">  Background </h1><br><p>  Medium is a network.  This is a place where they exchange stories and ideas that matter - the place where you develop, and where people spent 1.4 billion minutes - 2.6 millennia. </p><br><p>  We have over 25 million unique readers per month, and tens of thousands of posts are published every week.  But we want that on Medium the measure of success was not the number of views, but points of view.  So that the value was the quality of the idea, not the qualification of the author.  For Medium to be a place where discussions develop ideas and words are still important. </p><br><p>  I lead an engineering team.  I used to work as an engineer at Google, where I worked on Google+ and Gmail, and was also one of the co-founders of the Closure project.  In a past life, I drove on a snowboard, jumped out of an airplane and lived in the jungle. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/web/bed/86f/6f0/bed86f6f07d74666ae09b29ca7f42b02.jpeg" alt="image"></p><br><h1 id="komanda">  Team </h1><br><p>  I could not be more proud of the team than now.  This is an amazing group of talented, inquisitive, attentive people who come together to do great things. <br>  We work in multi-functional, task-oriented teams, so that when some specialize, we can turn to any component of the stack.  We believe that turning to different disciplines makes the engineer better.  <a href="https://medium.engineering/engineering-values-7143c0db0bd6">I wrote</a> about our other values <a href="https://medium.engineering/engineering-values-7143c0db0bd6">earlier</a> . </p><br><p>  Teams have a lot of freedom in how they organize their work, but as a company as a whole, we set quarterly goals and encourage an iterative approach.  We use GitHub for code review and bug tracking, as well as Google Apps for email, documents and spreadsheets.  We use Slack intensively - and its bots - and many teams use Trello. </p><br><h1 id="pervonachalnyy-stek">  Initial stack </h1><br><p>  From the very beginning, we used <a href="http://stackshare.io/amazon-ec2">EC2</a> .  The main applications were written in <a href="http://stackshare.io/nodejs">Node.js</a> , and we migrated to <a href="http://stackshare.io/amazon-dynamodb">DynamoDB</a> before the public launch. </p><br><p>  We had a node-server for image processing, which delegated the actual processing tasks to <a href="http://stackshare.io/graphicsmagick">GraphicsMagick</a> .  Another server acted as an <a href="http://stackshare.io/amazon-sqs">SQS</a> queue handler, and performed background tasks.  We used <a href="http://stackshare.io/amazon-ses">SES</a> for email, <a href="http://stackshare.io/amazon-s3">S3</a> for static resources, <a href="http://stackshare.io/amazon-cloudfront">CloudFront</a> as CDN and <a href="http://stackshare.io/nginx">nginx</a> as reverse proxy.  For monitoring, we used <a href="http://stackshare.io/datadog">DataDog</a> and <a href="http://stackshare.io/pagerduty">PagerDuty</a> for alerts. </p><br><p>  The base editor used on the site was TinyMCE.  By the time of launch, we already used <a href="http://stackshare.io/closure-compiler">Closure Compiler</a> and some of the components of the <a href="http://stackshare.io/closure-library">Closure Library</a> , but we used <a href="http://stackshare.io/handlebars">Handlebars</a> for templating. </p><br><h1 id="tekuschiy-stek">  Current stack </h1><br><p>  For such, at first glance, a simple site like Medium, it may be surprising how much complex is behind the scenes.  It's just a blog, right?  You can probably just roll something on Rails in a couple of days.  :) </p><br><p>  In any case, enough reasoning.  Let's start from the bottom. </p><br><h2 id="proizvodstvennoe-okruzhenie">  Production environment </h2><br><p>  We use <a href="http://stackshare.io/amazon-vpc">Amazon Virtual Private Cloud</a> .  For configuration management, we use Ansible, which allows us to store configurations in a version control system and easily roll out changes in a controlled manner. </p><br><p>  We adhere to a service-oriented architecture, supporting a dozen services (depending on how you count them, several of them are significantly smaller than the others).  The main question when deploying a new service is the specificity of the work it performs, what is the probability that it will be necessary to make changes in several other services, as well as the characteristics of resource consumption. </p><br><p>  Our main application is still written on <a href="http://stackshare.io/nodejs">Node</a> , which allows us to use one code both on the server and on the client, so we actively use something in the editor and in the processing of the post.  From our point of view, Node is not bad, but problems arise if we block the event loop.  To smooth out this problem, we run several instances on the same machine and distribute the "expensive" connections to different instances, isolating them in this way.  We also look at the V8 runtime to see which tasks take a lot of time;  In general, delays are associated with the recovery of objects when JSON is deserialized. </p><br><p>  We have several support services written in <a href="http://stackshare.io/go">Go</a> .  We found that Go applications are very easy to build and deploy.  We like its type safety without JVM redundancy and the need for fine-tuning, as is the case with <a href="http://stackshare.io/java">Java</a> .  Personally, I am a fan of using the command of "stubborn" languages;  this increases consistency, reduces ambiguity and definitely reduces the chance to shoot yourself in the foot. </p><br><p>  Now we are distributing static through <a href="http://stackshare.io/cloudflare">CloudFlare</a> , although we are passing 5% of traffic through <a href="http://stackshare.io/fastly">Fastly</a> and 5% through <a href="http://stackshare.io/amazon-cloudfront">CloudFront</a> to keep their caches warm in case we need to switch in an emergency.  We recently turned on CloudFlare for application traffic - primarily to protect against DDOS, but we were also pleased with the increased performance. </p><br><p>  We use <a href="http://stackshare.io/nginx">nginx</a> and <a href="http://stackshare.io/haproxy">HAProxy</a> together as reverse proxies and load balancers to cover the entire Venn diagram of our needs. </p><br><p>  We still use <a href="http://stackshare.io/datadog">DataDog</a> for monitoring and <a href="http://stackshare.io/pagerduty">PagerDuty</a> for notifications, but now we are using ELK <a href="http://stackshare.io/elasticsearch">extensively</a> ( <a href="http://stackshare.io/elasticsearch">Elasticsearch</a> , <a href="http://stackshare.io/logstash">Logstash</a> , <a href="http://stackshare.io/kibana">Kibana</a> ) to debug problems encountered in production. </p><br><h2 id="bazy-dannyh">  Database </h2><br><p>  <a href="http://stackshare.io/amazon-dynamodb">DynamoDB</a> is still our main database, but it wasn‚Äôt a peaceful swim.  One of the perennial problems that we encountered were [hot keys] ( <a href="https://medium.com/medium-eng/how-medium-detects-hotspots-in-dynamodb-using-elasticsearch-logstash-and-kibana-aaa3d6632cfd">https://medium.com/medium-eng/how-medium-detects-hotspots-in-dynamodb-using-elasticsearch-logstash-and-kibana -aaa3d6632cfd</a> ) ( <em>Note of the translator: meaning the keys for which select a large number of requests in a short period of time</em> ), during events that have become viral or when sending posts to millions of subscribers.  We have a <a href="http://stackshare.io/redis">Redis</a> cluster that we use as a cache in front of Dynamo, which solves the problem for read operations.  Optimizations to improve developer convenience often differ from those for increased stability, but we are working on it. </p><br><p>  We started using <a href="http://stackshare.io/amazon-rds-for-aurora">Amazon Aurora</a> to store new data because it allows more flexibility than Dynamo to extract and filter data. </p><br><p> To store relationships between entities that represent the Medium network, we use <a href="http://stackshare.io/neo4j">Neo4j</a> , we run one master and two replicas.  People, posts, tags, and collections are nodes in a graph.  Edges are created when creating an entity and when performing actions such as subscriptions, recommendations, or highlighting.  We go around the graph to filter and recommend posts. </p><br><h2 id="platforma-dannyh">  Data platform </h2><br><p>  From the very beginning, we were very data-hungry, invested in our data analysis infrastructure to make business and product decisions easier.  Recently, we can also use an existing data pipeline for production feedback, allowing functions such as Explore to work. </p><br><p>  We use <a href="http://stackshare.io/amazon-redshift">Amazon Redshift</a> as a data warehouse, it provides a scalable data storage and processing system, on top of which our applications are built.  We constantly import our basic data (users, posts) from Dynamo to Redshift and event logs (viewing the post, scrolling the page with the post) from S3 to Redshift. </p><br><p>  Task execution is planned by Conduit, our internal application that manages scheduling, data dependencies, and monitoring.  We use planning based on requirements (assertion-based scheduling), when tasks are started only if their dependencies are satisfied (for example, a daily task that depends on logs from all day).  This system has proven its indispensability - data generators are separated from consumers, which simplifies configuration and makes the system predictable and debugged. </p><br><p>  Although SQL queries in Redshift suit us, we need to load and unload data into and from Redshift.  For ETL, we are increasingly turning to <a href="http://stackshare.io/spark">Apache Spark</a> because of its flexibility and ability to scale to our needs.  Over time, Spark is likely to become a major component of our data pipeline. </p><br><p>  We use <a href="https://developers.google.com/protocol-buffers/">Protocol Buffers</a> for data schemas (and schema change rules) to keep all layers of a distributed system synchronized, including mobile applications, web services, and data storage.  We annotate schemas with configuration details, such as table and index names, record validation rules, such as maximum row lengths or valid ranges of numbers. </p><br><p>  People want to be in touch, so mobile and web application developers can connect to us in the same way, and Data Scientists can interpret the fields in the same way.  We help our people work with data by viewing schemas as specifications, carefully documenting messages and fields, and publishing documentation generated from <em>.proto</em> files. </p><br><h2 id="izobrazheniya">  Images </h2><br><p>  Our image processing server is written in <a href="http://stackshare.io/go">Go</a> and uses a waterfall strategy to return the processed images.  Servers use <a href="https://github.com/golang/groupcache">groupcache</a> , which provides an alternative to memcache and reduces the amount of work done twice.  The cache in memory is reserved by the persistent cache in S3;  after which the images are processed on request.  This gives our designers the freedom to change the way images are displayed and optimized for different platforms without having to run large batch tasks to generate scaled images. </p><br><p>  Although currently the image processing server is mainly used for scaling and cropping images, early versions of the site supported light filters, blurring and other effects.  Processing animated GIFs was a huge pain, but this is a topic for a separate post. </p><br><h2 id="textshots">  Textshots </h2><br><p>  The cool TextShorts feature is implemented by a small Go server, using <a href="http://stackshare.io/phantomjs">PhantomJS</a> as a renderer. </p><br><p><img src="https://habrastorage.org/web/412/459/bc9/412459bc91b64ca39e23891913e2fd6f.png" alt="Textshots"></p><br><p>  I always wanted to change the rendering engine to something like Pango, but in practice the ability to display images in HTML is much more flexible and convenient.  And the frequency with which this function is used makes it quite easy to handle the load there. </p><br><h2 id="proizvolnye-domeny">  Random domains </h2><br><p>  We allow people to set up arbitrary domains for their publications on Medium.  We wanted to be able to log in once and for all domains, as well as HTTPS for all, so making it all work was not trivial.  We have a set of HAProxy servers that manage certificates and direct traffic to the main servers.  Manual configuration is still required when setting up a domain, but we have automated most of it, due to integration with Namecheap.  Certificates and publication binding are performed by dedicated servers. </p><br><h2 id="veb-frontend">  Web frontend </h2><br><p>  In the web part, we prefer to stay close to the gland.  We have our own single page application framework (SPA), which uses <a href="https://developers.google.com/closure/library/%3Fhl%3Den">Closure</a> as its standard library.  We use Closure Templates for rendering on both the client side and the server side, and Closure Templates for code minification and module separation.  The editor is the most difficult part of our application, <a href="https://medium.com/medium-eng/why-contenteditable-is-terrible-122d8a40e480">Nick</a> has already written about it. </p><br><h2 id="ios">  iOS </h2><br><p>  Both of our applications are native, and minimally use the web view. </p><br><p>  On iOS, we use a mixture of both self-made framework and embedded components.  At the network level, we use NSURLSession to execute queries and Mantle to parse JSON and restore models.  We have a caching level built on top of NSKeyedArchiver.  We use a common mechanism for rendering list items with support for arbitrary styles, which allows us to easily create new lists with different content types.  The post is viewed using a UICollectionView with its own layout.  We use common components to render the entire post as a whole and preview the post. </p><br><p>  We collect each commit and distribute the assembly among our employees, so that we can try out the application as quickly as possible.  The frequency of application calculations in the AppStore is tied to the application verification cycle, but we try to publish applications even if the changes are minimal. </p><br><p>  For tests we use XCTest and OCMock. </p><br><h2 id="android">  Android </h2><br><p>  On Android, we use the latest SDK and auxiliary libraries.  We do not use comprehensive frameworks, preferring instead to use standard approaches to solving common problems.  We use <a href="https://github.com/google/guava">guava</a> for everything that is missing in Java.  At the same time, we prefer to use <a href="https://medium.com/medium-eng/medium-android-tools-f827bb96b8e4">third-party tools for solving narrower problems</a> .  We use our API based on protocol buffers, and then generate objects that we use in the application. </p><br><p>  We use <a href="http://mockito.org/">mockito</a> and <a href="http://robolectric.org/">robolectric</a> .  We write high-level tests in which we turn to activation and investigate what and how - we create basic versions of tests when we just add a screen or prepare for refactoring.  They evolve as we replicate bugs to protect against regression.  We write low-level tests to study specific classes as we add new features.  They allow you to judge how our classes interact. </p><br><p>  Each commit is automatically posted to the Play Store as an alpha version and distributed to our employees.  (This also applies to the application for our internal version of Medium - <a href="https://medium.com/inside/hatching-inside-medium-5ae60292d655">Hatch</a> ).  As a rule, on Fridays we transfer the alpha version to our <a href="https://medium.com/%40caramev/welcome-to-the-android-beta-4ca716ef65e4">beta testers</a> and let them play with it on the weekend, after which, on Monday, we post it for everyone.  Since the latest version of the code is always ready for release, if we find a serious bug, then we immediately publish the fix.  If we are worried about the new feature, then we give the beta testers to play with it a little longer;  if we like everything, then we release more often. </p><br><h2 id="ab-testirovanie--feature-flags">  A | B Testing &amp; Feature Flags </h2><br><p>  All our clients use feature flags issued by the server and called <a href="http://github.com/Medium/variants">variants</a> .  They are used for A | B testing and disconnection of incomplete functions. </p><br><h3 id="raznoe">  miscellanea </h3><br><p>  There is a lot more around the product that I didn‚Äôt say: <a href="http://stackshare.io/algolia">Algolia</a> , which allows you to work faster with search functions, <a href="http://stackshare.io/sendgrid">SendGrid</a> for incoming and outgoing email, <a href="http://stackshare.io/urban-airship">Urban Airship</a> for notifications, <a href="http://stackshare.io/amazon-sqs">SQS</a> for queue processing, <a href="https://github.com/armon/bloomd">Bloomd</a> for Bloom filters, <a href="https://github.com/pubsubhubbub/PubSubHubbub">PubSubHubbub</a> and <a href="https://superfeedr.com/">Superfeedr</a> for RSS and so on and so forth. </p><br><h1 id="sborka-testirovanie-i-vykladka">  Assembly, testing and layout </h1><br><p>  We use continuous integration and delivery (continuous integration and delivery), laying out as quickly as possible.  All this is controlled by <a href="http://stackshare.io/jenkins">Jenkins</a> . </p><br><p>  Historically, we used Make as a build system, but for newer projects we migrate to <a href="http://stackshare.io/pants">Pants</a> . </p><br><p>  We have both <a href="https://github.com/caolan/nodeunit">unit tests</a> and <a href="https://github.com/Medium/falkor">HTTP level function tests</a> .  All commits are tested before merge.  Together with the Box team, we worked on using <a href="https://github.com/box/ClusterRunner">Cluster Runner</a> to distribute tests and make testing faster, it also has integration with <a href="http://stackshare.io/github">GitHub</a> . </p><br><p>  We put it into the test environment as quickly as we can - at the moment every 15 minutes, the successful editors then become candidates for pushing to production.  Primary application servers are updated about five times a day, in some cases up to 10 times. </p><br><p>  We use blue / green builds.  Before laying out for production, we direct the traffic to the test instance and monitor the error rate before continuing.  Rolling back is done by DNS. </p><br><h2 id="chto-dalshe">  What's next? </h2><br><p>  A lot of everything!  There are many things that need to be done to improve the product and to make reading and writing posts better.  We are also starting to work on monetization for authors and publishers.  This is a new field for us and we enter it with an open mind.  We believe that the future requires new mechanisms for financing content, and we want to make sure that our functions stimulate quality and value. </p><br><h2 id="prisoedinyaytes-k-nam">  join us </h2><br><p>  Usually we are always interested in communicating with highly motivated engineers who have experience working on end-user applications.  We have no requirements regarding languages ‚Äã‚Äãthat you know, since we believe that good engineers can quickly understand the new discipline, but you must be <a href="https://medium.com/engineering-leadership/software-engineer-traits-fbf5dee9289c">curious, knowledgeable, decisive and empathetic</a> .  The basis can be taken iOS, Android, Node or Go. </p><br><p>  We are also preparing a <a href="https://medium.com/%40tc/analytics-engineer-cefea925aecd">Product Science</a> team, so we are looking for people with experience building data pipelines and large analytical systems. </p><br><p>  I‚Äôm also looking for engineering leaders to help develop a team.  They should be interested in the theory of management of the organization, want to work with their hands and be ready to lead subordinates. </p><br><p>  You can read more at <a href="http://medium.com/medium-eng">Medium Engineering</a> . </p><br><p>  Blog <a href="https://medium.com/%40faitlezen%3Fsource%3Dpost_page">Nathaniel Felsen</a> , <a href="https://medium.com/%40majelbstoat%3Fsource%3Dpost_page">Jamie Talbot</a> , <a href="https://medium.com/%40nicksantos%3Fsource%3Dpost_page">Nick Santos</a> , <a href="https://medium.com/%40jcrosby%3Fsource%3Dpost_page">Jon Crosby</a> , <a href="https://medium.com/%40ronpepsi%3Fsource%3Dpost_page">Rudy Winnacker</a> , <a href="https://medium.com/%40ddb%3Fsource%3Dpost_page">Dan Benson</a> , <a href="https://medium.com/%40jean%3Fsource%3Dpost_page">Jean Hsu</a> , <a href="https://medium.com/%40jeffurie%3Fsource%3Dpost_page">Jeff Lu</a> , <a href="https://medium.com/%40dmccartney%3Fsource%3Dpost_page">Daniel McCartney</a> and <a href="https://medium.com/%40kate%3Fsource%3Dpost_page">Kate Lee</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/332860/">https://habr.com/ru/post/332860/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332850/index.html">GraphQL queries. From simple to more complex</a></li>
<li><a href="../332852/index.html">The five main aspects of poor Internet security</a></li>
<li><a href="../332854/index.html">Experiment: Does Financial Inequality Occur With a Random Distribution of Money?</a></li>
<li><a href="../332856/index.html">Konstantin Budnik, EPAM: ‚ÄúApache Hadoop has moved into the commodity phase - there‚Äôs almost nothing new.‚Äù</a></li>
<li><a href="../332858/index.html">And 9 more tools for mobile application development</a></li>
<li><a href="../332862/index.html">Load testing of Web-systems. How to prepare for it</a></li>
<li><a href="../332864/index.html">‚ÄúHow it works‚Äù: Tier data center classification</a></li>
<li><a href="../332866/index.html">Linear programming in python by the scipy library</a></li>
<li><a href="../332868/index.html">ASP.NET Developer Path ‚Üí PHP</a></li>
<li><a href="../332870/index.html">Interview with a programmer from Tinkoff Bank Andrei Stepanov about the language of Python and ML</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>