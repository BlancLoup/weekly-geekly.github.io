<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using DSL in Visual Studio</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Previously, I never thought about developing tools that simplify development in Visual Studio, and often created various third-party ut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using DSL in Visual Studio</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  Previously, I never thought about developing tools that simplify development in Visual Studio, and often created various third-party utilities to help myself in development.  But, as usual, the turning point has come. <br>  One day, the challenge was to develop a platform on the basis of which it would be necessary to develop specialized solutions. <br>  I wanted to simplify the development of solutions on the platform as much as possible, while not reducing the possibility of flexible configuration. <br>  There were two main ways to solve the problem: <br><ul><li>  Develop your own decision making tools </li><li>  Create support tools built into the development environment. </li></ul><br><a name="habracut"></a><br><h5>  Own tools </h5><br>  When using this approach, it would be possible in the future to do almost without coding.  This undoubtedly simplifies and accelerates the development of the solution, and also reduces the possibility of errors (unless of course everything is done cleanly). <br>  But the main difficulty, which appears to the developer of the tools, is to provide as much as possible all the necessary features that may be required. <br>  In each solution, there are not trivial tasks that you couldn‚Äôt think about at the stage of creating tools.  Also, when creating universal tools, there is an increase in their complexity, which affects the time of creation, as well as the complexity of use. <br><br><h5>  Visual Studio Aids </h5><br>  When using tools, you automate the necessary basic code as much as possible, and allow you to expand the functionality of the system. <br>  But to use this approach, solution developers should have a higher professional level. <br><br><h5>  My choice </h5><br>  After weighing all the pros and cons that I could think of, I decided to opt for the second option.  It was a novelty for me and very fascinated. <br>  Next, I will try to describe the basics of creating tools for Visual Studio 2010 using DSL.  Perhaps this will push you to further independent study of this area. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Pre </h4><br>  Before we begin, we need to download and install the following distributions: <br><ul><li>  <a href="http://go.microsoft.com/fwlink/%3FLinkId%3D185579">Visual studio</a> </li><li>  <a href="http://go.microsoft.com/fwlink/%3FLinkId%3D185580">Visual studio sdk</a> </li><li>  <a href="http://go.microsoft.com/fwlink/%3FLinkID%3D186128">Visual Studio Visualization And Modeling SDK</a> </li></ul><br><h4>  Formulation of the problem </h4><br>  To begin with, we need to come up with an example, on the basis of which it would be possible to present both the main possibilities and show how this mechanism can be effective for solving everyday tasks. <br>  At first, this task seemed elementary, but when I was lost in thought, I realized that everything was not so simple.  After spending some time in meditation, I still came up with it. <br>  I propose to create a model to assist in developing client-server applications, at the level of creating WCF services.  Of course, we will not put a strong emphasis on the technical side of WCF, but take it as an object model. <br><br><h4>  Creating a project and debugging it </h4><br>  Having set a task for ourselves, without much thought, we will create our own project. <br>  As always, when starting work, we launch our beloved Visual Studio 2010. <br>  Go to the project creation window and select the project type <b>Domain-Specific Language Designer</b> . <br><img src="https://habrastorage.org/storage1/98f454b7/3ee1f44b/502dcb52/d9fa3de3.png"><br><br>  Then the Wizard will offer us to choose the type of module being created.  Choose MinimalLanguage.  In this type of project the minimum number of pre-created elements, which will allow us to get rid of them faster. <br><br><img src="https://habrastorage.org/storage1/94f49750/a6573bd9/69ce028d/62df5520.png"><br><br>  Next you need to set the extension for our file.  With this extension, we will add our files to projects. <br>  The last contribution is a summary of the project being created. <br>  After we click Finish, our project opens with pre-created elements, this is done in order to show us an example. <br><br><img src="https://habrastorage.org/storage1/f4fcde15/7a9a4bcc/f4223a85/e042e39a.png"><br><br>  You can immediately compile the project and try to test it. <br>  For testing and debugging projects of this type, a debugging studio is used.  If you click to run, or run with debugging, then you will have an additional studio where a test copy of your project file will be created. <br>  Try experimenting with this example. <br><br><h6>  Clean all </h6><br>  All that we have, not really useful to us, so remove everything that was added automatically. <br>  Go to DSL Explorer and remove everything from there, except for the standard types in Domain Types. <br>  The result should be the following: <br><br><img src="https://habrastorage.org/storage1/89be5167/6ed2b7b1/82da66bf/f1d0c403.png"><br><br><h6>  We describe the main Toolbox objects. </h6><br>  <b>Domain Class</b> is a data object. <br>  <b>Named Domain Class</b> - a named data object that contains the Name property.  Further, the system will interpret this property as the name of the object, and will automatically generate its unique name. <br>  <b>Geometry Shape</b> - a visual representation that is used to visualize data objects in a diagram <br>  <b>Compartment Shape</b> - also that Geometry Shape, only has a different look. <br>  <b>Embedding Relationship</b> - connects objects with a belonging affiliation <br>  <b>Reference Relationship</b> - binds objects with the type object reference <br>  <b>Inheritance</b> - parental type of connection, that is, the inheritance of one object from another <br>  <b>Connector</b> - Relationship Visualizer <br>  <b>Diagram Element Map</b> - used to connect objects and links with their visual presentation <br><br><h5>  Creating basic objects and their mappings </h5><br>  Before you start creating our direct objects, you need to create preparatory elements: <br><ul><li>  <b>Designer</b> - a designer to visualize our objects.  In the <b>DSL Explorer</b> , we will create an <b>Editor</b> object.  It is necessary to set in it anew the extension for our project (This is the <b><i>FileExtension</i></b> property), which let it be ‚Äúwcfw‚Äù. </li><li>  <b>Diagram</b> is the main visualization element that represents our objects.  Let's call it ‚ÄúWCFDiagram‚Äù. </li><li>  You need to create a root element ( <b>Domain Class</b> ) to which you will need to configure the <b>Editor</b> created earlier (This is the <b><i>Root Class</i></b> property) and <b>Diagram</b> (This is the <b><i>Class Represented</i></b> property).  Give the name to our root element ‚ÄúWCFCollection‚Äù. </li><li>  <b>Explorer Behavior</b> - something like <b>DSL Explorer</b> , which will be displayed when working with a file of our type. </li></ul><br>  This is a minimal list of what needs to be done so that our file is saved and the project can be compiled.  But before compiling it is necessary to regenerate the code according to the changes made to the file.  In order to do this, you need to click the Transform All Templates button in <b>Solution Explorer</b> . <br><br><img src="https://habrastorage.org/storage1/a1cd0629/f40041bf/cb77225d/4b491550.png"><br><br>  All code is generated by * .tt files (which describe the T4-transformation), which lie in the <b>GeneratedCode</b> folders in the <b>Dsl</b> and <b>DslPackage projects</b> .  After the new objects have been generated, you can collect our projects and even launch them.  It starts all the same debugging studio, with the same project.  The project added a file that related to the pilot project, so they can all be deleted.  Add your own file type (as well as any type), finding it by the name of WCFWizard. <br><br><h5>  Creating an object describing the "service" </h5><br>  Let's start by creating the ‚Äúservice‚Äù object.  To do this, drag the <b>Named Domain Class</b> element from the Toolbox and name it ‚ÄúWCFService‚Äù.  We automatically have an object with the property Name, which has the flag <b><i>Is Element Name</i></b> , which says that this property is the name of the object. <br>  It is time to describe the basic properties of the <b>Domain Class</b> and <b>Named Domain Class</b> objects. <br><table><tbody><tr><td>  <b>Property name</b> </td><td>  <b>Description</b> </td></tr><tr><td>  <b>Access Modifier</b> </td><td>  Level of access to the generated class. </td></tr><tr><td>  <b>Base class</b> </td><td>  Base class.  We can select another created object here, and then in the generated code the current class will be inherited from the class specified by the base class. </td></tr><tr><td>  <b>Custom attributes</b> </td><td>  This is where additional attributes are attached to the object. </td></tr><tr><td>  <b>Description</b> </td><td>  Description of the object. </td></tr><tr><td>  <b>Display name</b> </td><td>  The display name of the object that the user will see. </td></tr><tr><td>  <b>Generates double derived</b> </td><td>  If True is true, then two classes are generated (and usually one), one is abstract, with all that is needed, and the second is generating a partial class that is empty inside.  This allows you to further redefine the virtual functions that are declared in the base classes. </td></tr><tr><td>  <b>Has Custom Constructor</b> </td><td>  If it is True, then you will need to define the necessary constructors in your extension class.  This is useful when you need to perform additional actions when creating an object. </td></tr><tr><td>  <b>Inheritance modifier</b> </td><td>  Allows you to make your class abstract, or so that it can not be inherited. </td></tr><tr><td>  <b>Name</b> </td><td>  The name of the object with this name will generate a class. </td></tr><tr><td>  <b>Namespace</b> </td><td>  The namespace for your class. </td></tr></tbody></table><br>  For now, leave all fields by default.  And we will describe additional properties of the <b>Domain Property</b> element. <br><table><tbody><tr><td>  <b>Property name</b> </td><td>  <b>Description</b> </td></tr><tr><td>  <b>Getter access modifier</b> </td><td>  Permissions to read the property. </td></tr><tr><td>  <b>Setter Access Modifier</b> </td><td>  Permissions to write property. </td></tr><tr><td>  <b>Is UI Read Only</b> </td><td>  Whether to show the property as read only. </td></tr><tr><td>  <b>Is browsable</b> </td><td>  Whether to show the property to the user. </td></tr><tr><td>  <b>Default Value</b> </td><td>  Default field values. </td></tr><tr><td>  <b>Element Name Provider</b> </td><td>  The external type that will supply the values ‚Äã‚Äãfor the property.  The property must have an <b><i>Is Element Name</i></b> value equal to <b>True</b> .  Allows you to generate unique names for a specific algorithm. </td></tr><tr><td>  <b>Is Element Name</b> </td><td>  Whether a property is an object name.  If true, the initial value will be created unique. </td></tr><tr><td>  <b>Kinda</b> </td><td>  The type of field that affects its storage: <br><ul><li>  None - storage occurs in the generated code as a regular variable. </li><li>  Calculated - says that the field is calculated, and it is not stored in a variable.  We will need to override the functions that are responsible for the calculation. </li><li>  CustomStorage - custom storage.  We will need to override the functions responsible for receiving and saving data properties </li></ul><br></td></tr><tr><td>  <b>Type</b> </td><td>  Property type  The drop-down list is generated by the list of objects defined in <b>Domain Types</b> (can be found in the <b>DSL Explorer</b> ).  You can add your own objects. </td></tr></tbody></table><br>  Now we need to associate our WCFService with a WCFCollection with a parent link, which will say that WCFService belongs to WCFCollection.  For this, we extend <b>Embedding Relationship</b> from WCFCollection to WCFService.  As a result, we got something similar to the picture. <br><br><img src="https://habrastorage.org/storage1/27b3751f/0d502e78/475db73c/fa0c7747.png"><br><br>  We have created a <b>Domain Relationship</b> object with the name "WCFCollectionHasWCFService".  This object is responsible for the connection between the WCFCollection to the WCFService.  All properties of this object are similar to those of the <b>Domain Class</b> , and the additional ones will be described separately. <br><table><tbody><tr><td>  <b>Property name</b> </td><td>  <b>Description</b> </td></tr><tr><td>  <b>Allows duplicates</b> </td><td>  If you set this property to True, then you will be allowed to create additional <b>Embedding Relationships</b> on the WCFService object. </td></tr><tr><td>  <b>Base Relationship</b> </td><td>  The basic link whose properties we want to inherit. </td></tr><tr><td>  <b>Is embedding</b> </td><td>  Indicates that the link is Embedding, or not. </td></tr></tbody></table><br>  To the right of the <b>Domain Relationship is</b> ‚ÄúWCFService / 0 .. *‚Äù (has the type <b>Domain Role</b> ), where WCFService is the property name of the WCFCollection object, which contains references to the WCFService objects.  0 .. * is a connection type that says that in WCFCollection there may be a WCFService number from zero to infinity. <br><br>  To the left of <b>Domain Relationship is</b> ‚ÄúWCFCollection / 1..1‚Äù (has the type of <b>Domain Role</b> ), where WCFCollection is the name of the property of the WCFService object, which contains a reference to the WCFCollection object.  1..1 - connection type, which says that in WCFService there should be exactly one (mandatory) reference to the WCFCollection object. <br>  <b>Domain Role</b> describes the roles that exist in conjunction, as we can see from our example, each object (WCFService and WCFCollection) has its own role, which describes the behavior of communication on each side. <br><br>  We describe the main distinctive properties of the <b>Domain Role</b> object. <br><table><tbody><tr><td>  <b>Property name</b> </td><td>  <b>Description</b> </td></tr><tr><td>  <b>Collection type</b> </td><td>  Allows you to specify the type of key to receive objects.  In this case, we are not generating a list, but a collection. </td></tr><tr><td>  <b>Is Property Browsable</b> </td><td>  Specifies the visibility of the property for the user. </td></tr><tr><td>  <b>Is Property Generator</b> </td><td>  Determines whether a property is generated. </td></tr><tr><td>  <b>Property Custom Attributes</b> </td><td>  Allows attributes to be attached to a property. </td></tr><tr><td>  <b>Property Getter Access</b> </td><td>  Read access rights to the property. </td></tr><tr><td>  <b>Property Setter Access</b> </td><td>  The rights to access the property to write. </td></tr><tr><td>  <b>Multiplicity</b> </td><td>  Shows the number of objects created: <br><ul><li>  0 .. * - from zero to infinity </li><li>  1..1 - in a single copy </li><li>  0..1 - from zero to one </li><li>  1 .. * - at least from one to infinity </li></ul><br></td></tr><tr><td>  <b>Propagates Copy</b> </td><td>  The object that owns this role in the bundle will also be copied when the bundle is copied. </td></tr><tr><td>  <b>Propagates Delete</b> </td><td>  The object that owns this role in the bundle will also be deleted when the bundle is deleted. </td></tr><tr><td>  <b>Property Name</b> </td><td>  The name of the property to be generated. </td></tr><tr><td>  <b>Role player</b> </td><td>  The type of object to which the role belongs. </td></tr></tbody></table><br>  Now we will save, click the ‚ÄúTransform All Templates‚Äù button, build the solution and start.  Now we can add objects of type WCFService through WCFWizard Explorer in WCFCollection and give them names. <br><br><h5>  Creating a mapping on a chart </h5><br>  In order for our objects to start appearing in the diagram, we need to create a visual representation for them.  For these purposes, use <b>Toolbox</b> elements: <b>Geometry Shape</b> , <b>Compartment Shape</b> , <b>Connector</b> .  The first two render objects of type <b>Domain Class</b> , and the last is used for <b>Domain Relationship</b> . <br>  Add a <b>Compartment Shape</b> element and give it the name WCFServiceShape.  This element has a number of properties responsible for its visual presentation, but it is also possible to produce a more flexible visual representation through the extension of the generated class. <br>  To associate objects with their representation, you need to use the <b>Diagram Element Map</b> element and stretch the connection between WCFService and WCFServiceShape. <br><br><img src="https://habrastorage.org/storage1/c33f08d9/e3263810/c505d905/fe025b37.png"><br><br>  Let's see what we can add to our <b>Compartment Shape</b> : <br><ul><li>  Compartment - displays a collection of properties. </li><li>  Domain Property is a property that will appear in Properties. </li><li>  Expand Collapse Decorator is an element that allows you to collapse and expand internal content. </li><li>  Icon Decorator - image display. </li><li>  Text Decorator - text output. </li></ul><br>  Add a Text Decorator and give it the name NameDecorator.  Now you need to associate it with a specific property in WCFService; for this, use the <b>DSL Details</b> window.  When selecting our <b>Diagram Element Map</b> , information about the bundle will appear.  Go to the Decorator Maps tab and activate our NameDecorator.  The <b><i>Path to display property</i></b> element can be left empty, since we will use the property directly WCFService, but with this element you can set the path to the associated object and then display its property.  In the <b><i>Display property</i></b> element choose our name. <br><br><img src="https://habrastorage.org/storage1/c2666def/00509a54/c081c4a0/bfb0f6b4.png"><br><br>  Now our WCFService has learned to display itself in the diagram. <br><br><h5>  Putting an object on the Toolbox </h5><br>  You can add objects through WCFWizard Explorer, but it does not look very nice.  Let's try to add the ability to create an object through the <b>Toolbox</b> . <br>  Let's go to <b>DSL Explorer</b> and in the <b>Editor</b> create a new Toolbox Tab, which we will give the name WCFWizard Elements.  We created a group of elements for the <b>Toolbox</b> , in which we can create elements of two types: the <b>Connection Tool</b> (for connections) and the <b>Element Tool</b> (for objects). <br>  Create an element of the <b>Element Tool</b> type, and give it the name WCFServiceTool, and take the icon from those that already exist in the resources.  The most important thing is to set the <b><i>Class</i></b> property, which characterizes the object that should be created when dragging.  Choose WCFService. <br>  Now, on our <b>Toolbox</b> , the first object appeared that can be easily dragged onto the diagram. <br><br><h5>  Creating an object describing the "function" </h5><br>  We perform similar actions, as was done above for WCFService, only with the name WCFFunction.  And we associate WCFFunction with WCFService (using <b>Embedding Relationship</b> ), and not with WCFCollection.  And we get something next. <br><br><img src="https://habrastorage.org/storage1/ed708e15/7ca3e3d7/a780afce/5727d934.png"><br><br>  Now we can add functions to the service, but the diagram does not display them.  Add a mapping to the bundle. <br>  Drag the object of the <b>Connector</b> type (you can customize its external display in the properties) and associate it with the WCFServiceHasWCFFunction object using the <b>Diagram Element Map</b> . <br>  Add an object that will describe the type of the object to set the parameters of the function and the return type. <br>  Add a <b>Domain Class</b> object with the name WCFType, and create two text properties in it: Namespace and Type, to set the namespace of the type and the type itself.  Set the <b><i>Inheritance Modifier</i></b> property to the abstract state. <br>  We also add a <b>Domain Class</b> object with the names WCFParamType (representing the function parameter set), which will be inherited from WCFType (setting the <b><i>Base Class</i></b> parameter to WCFType). <br>  For WCFParamType, we will add another Name property to identify the name of the parameter in the function and associate it with the WCFService as shown in the figure. <br><br><img src="https://habrastorage.org/storage1/c5fd966c/f8f66c9b/0171dd9c/b54a0170.png"><br><br>  Now in the WCFFunctionShape object we add a Compartment (let's call it Params).  Let's go to the DSL Details panel with a dedicated link between WCFFunction and WCFFunctionShape.  Select the Compartment Maps tab and customize as shown. <br><br><img src="https://habrastorage.org/storage1/64e76f9b/7c29dea7/58e48544/725cafa3.png"><br><br>  In the Displayed elements collection path field specify the path to the collection of elements that we go to display (using bundles), and then we specify the name of the property to be displayed. <br>  Now we have enough information to start generating simple code. <br>  This article does not include code generation, but I will say that you can go in different ways, I used two: <br><ul><li>  Generate with T4. </li><li>  Generate directly from code, when saved. </li></ul><br><h4>  Build and Deploy a Package </h4><br>  It is time to clarify the issue of installing our extension in <b>Visual Studio</b> .  When building the project <b>DSLPackage</b> , we have a file with the extension <b>vsix</b> , which is the installation package. <br>  To deploy our project, just run the <b>vsix</b> file and follow the steps of the installer. <br>  As a result, our extension will appear in Visual Studio and can be viewed in the <b>Extension Manager</b> (located in the <b>Tools</b> menu).  Here you can also delete it. <br><br><img src="https://habrastorage.org/storage1/30da112f/824733b8/226f921e/16396da0.png"><br><br><h4>  Conclusion </h4><br>  I managed to illuminate only the smallest part of this tool, but I hope that this will encourage someone to do an independent in-depth study. <br>  If this topic is of interest to people, then I have plans to highlight such issues as: <br><ul><li>  Using menu items. </li><li>  Validation of data. </li><li>  Code generation </li></ul></div><p>Source: <a href="https://habr.com/ru/post/134039/">https://habr.com/ru/post/134039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134033/index.html">Semantic Version Control 1.0.0-rc.1</a></li>
<li><a href="../134034/index.html">‚ÄúFeel‚Äù the difference or virtual textures that you can touch!</a></li>
<li><a href="../134035/index.html">Verilog. RAM wrappers and why it is needed</a></li>
<li><a href="../134036/index.html">Where in the MVC desktop application do you place the auto-update code?</a></li>
<li><a href="../134037/index.html">Writing GOST crypto-provider</a></li>
<li><a href="../134040/index.html">RedHat CEO: do not get caught in the "cloud" Vendor Lock-in</a></li>
<li><a href="../134041/index.html">Cliffhangers in everyday programming</a></li>
<li><a href="../134043/index.html">Demonstration of setting TrustAccess</a></li>
<li><a href="../134045/index.html">How to find a line in CEE dump in which the program crashes on the mainframe</a></li>
<li><a href="../134046/index.html">Enot Tablet Video Reviews</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>