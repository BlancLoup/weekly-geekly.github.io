<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>eBay API: First Steps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As you know, starting to learn something is the hardest, the eBay API, even though its normal documentation is no exception. I myself only recently be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>eBay API: First Steps</h1><div class="post__text post__text-html js-mediator-article">  As you know, starting to learn something is the hardest, the eBay API, even though its normal documentation is no exception.  I myself only recently began to study it, and I had to crawl tightly around the dock and third-party resources before the necessary picture began to form in my head. <br>  This post is intended for those who need to quickly start working with the eBay API and for myself, so that in the future nothing is forgotten. <br><br><a name="habracut"></a><br><h4>  Quick start guide </h4><br>  In principle, eBay has a so-called ‚Äú <a href="http://developer.ebay.com/quickstartguide/">Quick Start Guide</a> ‚Äù, so let's go through it first: <br>  1. <a href="https://developer.ebay.com/join/default.aspx">Registration of a</a> new developer - all requests to the API are accompanied by the transfer of some unique parameters of the developer.  How to get them read in the second paragraph; <br><br>  2. After successful registration and authorization on developer.ebay.com, you can proceed to generating the ‚ÄúApplication Keys‚Äù, which you will need to fulfill requests to the API.  To do this, go to the " <a href="https://developer.ebay.com/DevZone/account/default.aspx">My Account</a> " section and in the "Application Keys" block, generate 2 sets of keys: <br>  2.1 Sandbox Keys - keys for requests to the test API; <br>  2.2 Production Keys - keys for requests to the working API. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      3. In this paragraph, a link is given to " <a href="http://developer.ebay.com/quickstartguide/sample/js/default.aspx">Sample Application</a> ", with which you can test requests to one of the types of APIs (yes, as it turned out there are a lot of them :)) called "Finding API" (I will write more about the main types of API below).  On the page of this ‚ÄúSample Application‚Äù there are 3 blocks: <br>  3.1 Sample Application Source Code - contains HTML / JS code, at the very bottom of which JS lib is connected, the URL of which is the ‚ÄúFinding API‚Äù URL with the necessary parameters already filled in; <br>  3.2 Parsed Sample Result - contains the result of the query in the form of an HTML page; <br>  3.3 Call Response - contains the result of the query in the form of XML. <br><br>  4. Links to sections of developers grouped by programming languages. <br><br><h4>  API for working with products </h4><br>  1. <a href="http://developer.ebay.com/products/finding/default.aspx">Finding API</a> - designed to get a list of eBay products.  This API provides the ability to search products by the following criteria: <br>  1.1 findItemsByCategory - search for products by category; <br>  1.2 findItemsByKeywords - search for products by keywords; <br>  1.3 findItemsAdvanced - allows you to create a mixed search by category and keyword; <br>  1.4 findItemsByProduct - search for products by product IDs.  Products can be for example: phones, video games, books, etc. <br><br>  2. <a href="http://developer.ebay.com/products/shopping/">Shopping API</a> - mainly intended to obtain detailed information about the product.  To obtain any information about a product, you need to know its ID, which can be obtained from the list of found products in response to a request to the Finding API.  This API allows you to perform the following queries: <br>  2.1 GetSingleItem - returns all public information about a single product by its ID; <br>  2.2 GetItemStatus - returns information about the current rates of goods, at the same time you can request information about 10 products; <br>  2.3 GetShippingCosts - allows you to calculate the cost of delivery of goods to the buyer.  For the calculation, you need to transfer the product ID, the country code to which the delivery will be made, the buyer's zip code and the number of units of goods that will be / were purchased.  Before executing this request, you first need to make sure that the goods bear the delivery price; <br>  2.4 GetMultipleItems is the same as GetSingleItem but you can request information about several products at once (maximum 20 products). <br><br><h4>  Finding API </h4><br><br>  Consider working with this api based on the simplest example.  I chose for myself the format of communication with api via XML, I send requests to api using the POST method.  But first, here‚Äôs a list of required parameters: <br><br>  1. X-EBAY-SOA-OPERATION-NAME - the value of this parameter should be the name of the action you are going to perform.  For example: findItemsByKeywords, findItemsByCategory; <br><br>  2. X-EBAY-SOA-SECURITY-APPNAME - in this parameter you need to substitute your AppID, which can be found / generated in the section " <a href="https://developer.ebay.com/DevZone/account/default.aspx">My Account</a> ". <br><br>  Both of these parameters, when using the POST method, must be sent in the request header.  You can read more about the general parameters for the Finding API on the <a href="http://developer.ebay.com/DevZone/finding/Concepts/MakingACall.html">Making an API Call</a> page. <br><br>  Now let's look at an example of product search using the ‚ÄúfindItemsByKeywords‚Äù action. <br><br> <code>// Get entity of http client <br> $httpClient = new Http_Client('http://svcs.sandbox.ebay.com/services/search/FindingService/' . FINDING_API_VERSION); <br> <br> // Prepare headers <br> $httpClient-&gt;setHeaders( <br> array( <br> 'X-EBAY-SOA-OPERATION-NAME: findItemsByKeywords', <br> 'X-EBAY-SOA-SECURITY-APPNAME: ' . APP_ID <br> ) <br> ); <br> <br> // Prepare body <br> $httpClient-&gt;setBody( <br> '&lt;?xml version="1.0" encoding="utf-8"?&gt; <br> &lt;findItemsByKeywordsRequest xmlns="http://www.ebay.com/marketplace/search/v1/services"&gt; <br> &lt;keywords&gt;' . htmlspecialchars($keywords) . '&lt;/keywords&gt; <br> &lt;paginationInput&gt; <br> &lt;entriesPerPage&gt;10&lt;/entriesPerPage&gt; <br> &lt;/paginationInput&gt; <br> &lt;/findItemsByKeywordsRequest&gt;' <br> ); <br> <br> // Send request <br> $result = $httpClient-&gt;send(); <br></code> <br><br>  Where: <br>  1. Http_Client - my small class for sending requests to api using cURL.  It is in the code archive; <br><br>  2. The request URL will look completely like this: <a href="http://svcs.sandbox.ebay.com/services/search/FindingService/v1">svcs.sandbox.ebay.com/services/search/FindingService/v1</a> , but since it is written in the dock that ‚Äúv1‚Äù (api version) can change, I rendered it to a constant; <br><br>  3. The setHeaders () method sets the request headers.  The constant APP_ID stores my AppID; <br><br>  4. The setBody () method sets the request body.  As it is not difficult to guess in the keywords tag, we pass on keywords.  The entriesPerPage parameter tells api that we need to return 10 products (for more details about the findItemsByKeywords action parameters, see <a href="http://developer.ebay.com/DevZone/finding/CallRef/findItemsByKeywords.html">here</a> ); <br><br>  5. Well, the send () method sends a request to api and returns its response, which in the form of XML will be placed in the $ result variable. <br><br><h4>  Shopping API </h4><br><br>  I will supplement my small application with the ability to view extended product information using requests to the GetSingleItem Shopping API action.  First I will list the necessary parameters: <br><br>  1. X-EBAY-API-CALL-NAME - the parameter sets the name of the action within the Shopping API.  For example: GetSingleItem, GetItemStatus; <br><br>  2. X-EBAY-API-APP-ID - the parameter passes your AppID; <br><br>  3. X-EBAY-API-REQUEST-ENCODING - request format to api.  For the POST method, you need to specify "XML"; <br><br>  4. X-EBAY-API-VERSION - the version of api that your application supports.  For tests, I indicated 699. <br><br>  All parameters, when using the POST method, must be passed in the request header.  You can read more about the general parameters for the Shopping API on the <a href="http://developer.ebay.com/DevZone/shopping/docs/Concepts/ShoppingAPI_FormatOverview.html">Making an API Call</a> page. <br><br>  Here is my small code that requests detailed information on the product: <br><br> <code>// Get entity of http client <br> $httpClient = new Http_Client('http://open.api.sandbox.ebay.com/shopping'); <br> <br> // Prepare headers <br> $httpClient-&gt;setHeaders( <br> array( <br> 'X-EBAY-API-CALL-NAME: GetSingleItem', <br> 'X-EBAY-API-APP-ID: ' . APP_ID, <br> 'X-EBAY-API-REQUEST-ENCODING: ' . SHOPPING_API_DATA_FORMAT, <br> 'X-EBAY-API-VERSION: ' . SHOPPING_API_VERSION <br> ) <br> ); <br> <br> // Prepare body <br> $httpClient-&gt;setBody( <br> '&lt;?xml version="1.0" encoding="utf-8"?&gt; <br> &lt;GetSingleItemRequest xmlns="urn:ebay:apis:eBLBaseComponents"&gt; <br> &lt;ItemID&gt;' . $id . '&lt;/ItemID&gt; <br> &lt;IncludeSelector&gt;TextDescription&lt;/IncludeSelector&gt; <br> &lt;/GetSingleItemRequest&gt;' <br> ); <br> <br> // Send request <br> $result = $httpClient-&gt;send(); <br></code> <br><br>  Here, as in the previous example, I set the URL, for the Shopping API test area it will be ‚Äú <a href="http://open.api.sandbox.ebay.com/shopping">open.api.sandbox.ebay.com/shopping</a> ‚Äù.  Then I form an array of headers and the body of the request.  In the request body, I indicated the product identifier in the ItemID tag (by the way, I do not advise to convert it to int type, since the size of the product ID on eBay has long passed for its size) and I requested TextDescription as additional data (a text description of the product, more about all the parameters of the GetSingleItem action can be read <a href="http://developer.ebay.com/DevZone/shopping/docs/CallRef/GetSingleItem.html">here</a> ). <br><br><h4>  Total </h4><br><br>  I hope that this post will allow someone to reduce the time to become familiar with the eBay API. <br><br>  <a href="http://www.uafile.com/file/18463/test-ebay-api-app-zip.html">Archive of my test application</a> <br>  <a href="https://ebay.custhelp.com/cgi-bin/ebay.cfg/php/enduser/std_adp.php%3F%26p_cluster%3D0000%7C104%26p_faqid%3D429%26p_created%3D1141863317%26p_topview%3D1">A page with a list of URLs for all APIs.</a> </div><p>Source: <a href="https://habr.com/ru/post/112770/">https://habr.com/ru/post/112770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112763/index.html">Google Image Search started indexing SVG files</a></li>
<li><a href="../112766/index.html">Engineering works</a></li>
<li><a href="../112767/index.html">Al Jazeera releases videos and photos of protests in Egypt under Creative Commons licenses</a></li>
<li><a href="../112768/index.html">Google will hold on Wednesday Android-event</a></li>
<li><a href="../112769/index.html">Bad logos</a></li>
<li><a href="../112772/index.html">Marking viewed series on MyShows.ru</a></li>
<li><a href="../112774/index.html">How many open source projects have you participated in (written code)?</a></li>
<li><a href="../112775/index.html">The HTC Desire can report about itself as Macintosh ‚Äî and it reports ...</a></li>
<li><a href="../112776/index.html">jPlayer - plugin for playing audio and video</a></li>
<li><a href="../112778/index.html">How to turn off the Internet in Egypt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>