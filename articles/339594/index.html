<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Expansion of analytical capabilities of the linear programming method with Python tools</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 On linear programming with Python tools, I in the article [1] considered the solution of the optimization problem with the function of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Expansion of analytical capabilities of the linear programming method with Python tools</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  On linear programming with Python tools, I in the article [1] considered the solution of the optimization problem with the function of an alternative to the main goal.  As was shown in the article, the reception with the introduction of new functions of the goal when considering a single general optimization problem significantly expands the analytical capabilities of the method.  Therefore, it is logical to choose and consider an example in which when solving a general optimization problem one can formulate several alternative goal functions. <br><br><h3>  Formulation of the problem </h3><br>  Using the example of the optimal diet problem, consider the formation of various alternative goal functions with the necessary initial conditions.  In addition, to develop a simple and uniform interface for solving such problems with the output of results that are understandable to the end user. <br><br><h3>  Formation of the objective function and initial conditions to minimize the cost of the diet </h3><br>  To maintain normal life, a person needs to consume at least 118 g of proteins, 56 g of fat, 500 g of carbohydrates and 28 g of mineral salts per day.  These nutrients are contained in different quantities and different foods. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The table shows the amount of nutrients in various products in g / kg and the <b>conditional price of</b> these products for 1 kg.  It is necessary to make a daily ration containing the minimum daily rate of nutrients <b>at their minimum cost</b> . <br><br><img src="https://habrastorage.org/webt/59/d9/e1/59d9e1fb8761c883565763.jpeg"><br><a name="habracut"></a><br>  Denoting by: X1 is the amount of meat;  X2 is the number of fish;  X3 is the amount of milk;  X4 is the amount of oil;  X5 is the amount of cheese;  X6 is the amount of cereals;  X7 - the number of potatoes consumed by man per day.  We can make an equation for the total cost of F nutrition per day: <br><br>  F = 333 * X1 + 308 * X2 + 52 * X3 + 400 * X4 + 450 * X5 + 56 * X6 + 25 * X7 <br><br>  <i>We need to find a minimum of F.</i> <i><br><br></i>  <i>The total amount of proteins in the human diet should not be less than 118 g. Hence:</i> <br><br>  180 * X1 + 190 * X2 + 30 * X3 + 10 * X4 + 260 * X5 + 130 * X6 + 21 * X7‚â•118 <br><br>  <i>We make the same inequalities for fats, carbohydrates and salts.</i>  <i>We have:</i> <br><br>  20 * X1 + 3 * X2 + 40 * X3 + 865 * X4 + 310 * X5 + 30 * X6 + 2 * X7‚â•56 <br>  50 * X3 + 6 * X4 + 20 * X5 + 650 * X6 + 200 * X7‚â•500 <br>  9 * X1 + 10 * X2 + 7 * X3 + 12 * X4 + 60 * X5 + 20 * X6 + 10 * X7‚â•28 <br><br><h4>  Solve the problem </h4><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cvxopt.modeling <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> variable, op <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() x = variable(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>) z=(<span class="hljs-number"><span class="hljs-number">333</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">308</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">52</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">400</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">450</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">56</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">20</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) mass1 =(- (<span class="hljs-number"><span class="hljs-number">180</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">190</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">30</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">10</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">260</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">130</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">21</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-118</span></span>) mass2 =(- (<span class="hljs-number"><span class="hljs-number">20</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">3</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">40</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">865</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">310</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">30</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">2</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-56</span></span>) mass3 =(- (<span class="hljs-number"><span class="hljs-number">50</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">6</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">20</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">650</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">200</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-500</span></span>) mass4 =(- (<span class="hljs-number"><span class="hljs-number">9</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">10</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">7</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">12</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">60</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">20</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">10</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-28</span></span>) x_non_negative = (x &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) problem =op(z,[mass1,mass2,mass3,mass4 ,x_non_negative]) problem.solve(solver=<span class="hljs-string"><span class="hljs-string">'glpk'</span></span>) problem.status print(<span class="hljs-string"><span class="hljs-string">":"</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- ,  -'</span></span>,round(x.value[<span class="hljs-number"><span class="hljs-number">0</span></span>]*<span class="hljs-number"><span class="hljs-number">333</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'.'</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">1</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- ,  -'</span></span>,round(x.value[<span class="hljs-number"><span class="hljs-number">1</span></span>]*<span class="hljs-number"><span class="hljs-number">308</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'.'</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">2</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- ,  -'</span></span>,round(x.value[<span class="hljs-number"><span class="hljs-number">2</span></span>]*<span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'.'</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">3</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- ,  -'</span></span>,round(x.value[<span class="hljs-number"><span class="hljs-number">3</span></span>]*<span class="hljs-number"><span class="hljs-number">400</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'.'</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">4</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- ,  -'</span></span>,round(x.value[<span class="hljs-number"><span class="hljs-number">4</span></span>]*<span class="hljs-number"><span class="hljs-number">450</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'.'</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">5</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- ,  -'</span></span>,round(x.value[<span class="hljs-number"><span class="hljs-number">5</span></span>]*<span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'.'</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">6</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- ,  -'</span></span>,round(x.value[<span class="hljs-number"><span class="hljs-number">6</span></span>]*<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'.'</span></span>) print(round(problem.objective.value()[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">"-      "</span></span>) stop = time.time() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">" :"</span></span>,round(stop-start,<span class="hljs-number"><span class="hljs-number">3</span></span>))</code> </pre> <br>  It should be noted some features of writing a program using the <b>cvxopt</b> module <b>.</b>  <b>Modeling:</b> all variables are saved in lists, and list indices do not start from <b>1</b> , but from <b>0</b> ;  in conditions that are written as non-strict inequalities, the <b>upper limit</b> must <b>be set</b> , therefore, to go from the lower limit, both parts of the inequalities are multiplied by <b>-1</b> . <br><br>  <b>Result:</b> <br><br>  0.0-gram meat, costs - 0.0 rub. <br>  0.0-gram of fish, costs - 0.0 rub. <br>  0.0-milliliters of milk, costs - 0.0 rub. <br>  38.0 - grams of oil, costs - 15.2 rubles. <br>  -0.0 - gram cheese, costs - -0.0 rub. <br>  679.3 - gram of cereals, costs - 38.0 rubles. <br>  1395.9 - a gram of potatoes, costs - 34.9 rubles. <br>  81.1 - the cost of one person per day <br>  Time: 0.09 <br><br><h3>  Formation of the objective function and initial conditions to minimize the calorie diet </h3><br>  For definiteness, let us suppose that we consider bread, meat, cheese, bananas, cucumbers, tomatoes, and grapes as the initial products ‚Äî seven products in total.  As nutrients - proteins, fat, carbohydrates. <br><br>  The caloric value of one weight unit of each product is as follows: c1 = 2060, c2 = 2430, c3 = 3600, c4 = 890, c5 = 140, c6 = 230, c7 = 650. <br><br>  The nutrient content in food is placed in the following table. <br><br><img src="https://habrastorage.org/webt/59/d9/e4/59d9e4afd6310236421748.jpeg"><br><br>  The minimum daily human need for nutrients is as follows: b1 = 100 in proteins, b2 = 70 in fats, b3 = 400 in carbohydrates. <br><br>  Without reducing the generality of the problem to be solved, we can assume that the caloric content of food is measured in kilocalories / kg, the daily need for nutrients is in grams, and the nutrient content in foods is in grams / kg.  Under these conditions, it becomes possible to perform additional verification of the formed conditions of the problem based on consideration of the physical dimension of the objective function and constraints. <br><br>  Denoting by: x1 ‚Äìthe amount of bread;  x2 is the amount of meat;  x3 is the amount of cheese;  x4 is the number of bananas;  x5 is the number of cucumbers;  x6 is the number of tomatoes;  x7 is the amount of grapes consumed by man per day in kilograms. <br><br>  <i>We can make the equation of the total caloric intake F nutrition per day:</i> <br><br>  F = 2060 * x1 + 2430 * x2 + 3600 * x3 + 890 * x4 + 140 * x5 + 230 * x6 + 650 * x7 <br><br>  <i>We need to find a minimum of F.</i> <i><br><br></i>  <i>The total amount of proteins in the human diet should not be less than 100 g. Hence:</i> <br><br>  61 * x1 + 220 * x2 + 230 * x3 + 15 * x4 + 8 * x5 + 11 * x6 + 6 * x7 ‚â•100 <br><br>  <i>We make the same inequalities for fats and carbohydrates.</i>  <i>We have:</i> <br><br>  12 * x1 + 172 * x2 + 290 * x3 + 1 * x4 + 1 * x5 + 2 * x6 + 2 * x7 ‚â•70 <br>  420 * x1 + 0 * x2 + 0 * x3 + 212 * x4 + 26 * x5 + 38 * x6 + 155 * x7 ‚â•400 <br><br><h4>  Solve the problem </h4><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cvxopt.modeling <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> variable, op <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() x = variable(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>) z=(<span class="hljs-number"><span class="hljs-number">333</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">308</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">52</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">400</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">450</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">56</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">20</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) mass1 =(- (<span class="hljs-number"><span class="hljs-number">180</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">190</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">30</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">10</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">260</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">130</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">21</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-118</span></span>) mass2 =(- (<span class="hljs-number"><span class="hljs-number">20</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">3</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">40</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">865</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">310</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">30</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">2</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-56</span></span>) mass3 =(- (<span class="hljs-number"><span class="hljs-number">50</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">6</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">20</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">650</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">200</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-500</span></span>) mass4 =(- (<span class="hljs-number"><span class="hljs-number">9</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">10</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">7</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">12</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">60</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">20</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">10</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-28</span></span>) x_non_negative = (x &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) problem =op(z,[mass1,mass2,mass3,mass4 ,x_non_negative]) problem.solve(solver=<span class="hljs-string"><span class="hljs-string">'glpk'</span></span>) problem.status print(<span class="hljs-string"><span class="hljs-string">":"</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">1</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">2</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">3</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">4</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">5</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">6</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(problem.objective.value()[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">"-     "</span></span>) stop = time.time() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">" :"</span></span>,round(stop-start,<span class="hljs-number"><span class="hljs-number">3</span></span>))</code> </pre> <br>  <b>Result:</b> <br><br>  0.0 grams of bread <br>  211.5 - grams of meat <br>  109.4 grams of cheese <br>  1886.8 - a gram of bananas <br>  0.0 gram of cucumber <br>  0.0-gram tomatoes <br>  0.0 gram of grapes <br>  2587.1 -kilokaloriya-calorie diet of one person per day <br>  Time: 0.06 <br><br><h3>  Formation of the objective function and initial conditions for minimizing the caloric content of the diet when recruiting products according to user preferences </h3><br>  We make a conditional set of products, for example only.  We take the initial conditions for the caloric content of products from the solution of the previous problem. <br><br><h4>  The solution of the problem </h4><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cvxopt.modeling <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> variable, op <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time start = time.time() x = variable(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>) z=( x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) mass1 =(- (<span class="hljs-number"><span class="hljs-number">61</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">220</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">230</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">15</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">8</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">11</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">6</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-100</span></span>) mass2 =(- (<span class="hljs-number"><span class="hljs-number">12</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] +<span class="hljs-number"><span class="hljs-number">172</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">290</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">1</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">1</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">2</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">2</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-70</span></span>) mass3 =(- (<span class="hljs-number"><span class="hljs-number">420</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] +<span class="hljs-number"><span class="hljs-number">0</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">0</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">212</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">26</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">38</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">155</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-400</span></span>) mass4 =(-( <span class="hljs-number"><span class="hljs-number">2060</span></span>*x[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-number"><span class="hljs-number">2430</span></span>*x[<span class="hljs-number"><span class="hljs-number">1</span></span>] +<span class="hljs-number"><span class="hljs-number">3600</span></span>* x[<span class="hljs-number"><span class="hljs-number">2</span></span>] +<span class="hljs-number"><span class="hljs-number">890</span></span>*x[<span class="hljs-number"><span class="hljs-number">3</span></span>] +<span class="hljs-number"><span class="hljs-number">140</span></span>*x[<span class="hljs-number"><span class="hljs-number">4</span></span>] +<span class="hljs-number"><span class="hljs-number">230</span></span>* x[<span class="hljs-number"><span class="hljs-number">5</span></span>]+<span class="hljs-number"><span class="hljs-number">650</span></span>*x[<span class="hljs-number"><span class="hljs-number">6</span></span>]) &lt;= <span class="hljs-number"><span class="hljs-number">-3000</span></span>) x_non_negative = (x &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) problem =op(z,[mass1,mass2,mass3, mass4,x_non_negative]) problem.solve(solver=<span class="hljs-string"><span class="hljs-string">'glpk'</span></span>) problem.status print(<span class="hljs-string"><span class="hljs-string">":"</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">1</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">2</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">3</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">4</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">5</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(<span class="hljs-number"><span class="hljs-number">1000</span></span>*x.value[<span class="hljs-number"><span class="hljs-number">6</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">'- '</span></span>) print(round(problem.objective.value()[<span class="hljs-number"><span class="hljs-number">0</span></span>],<span class="hljs-number"><span class="hljs-number">1</span></span>),<span class="hljs-string"><span class="hljs-string">"--    \n     "</span></span>) stop = time.time() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">" :"</span></span>,round(stop-start,<span class="hljs-number"><span class="hljs-number">3</span></span>))</code> </pre> <br>  <b>Result:</b> <br><br>  952.4 - grams of bread <br>  0.0-gram meat <br>  288.4 grams of cheese <br>  0.0 grams of bananas <br>  0.0 gram of cucumber <br>  0.0-gram tomatoes <br>  0.0 gram of grapes <br>  1.2-kilogram-the total mass of products from <br>  one person‚Äôs diet per day <br>  Time: 0.051 <br><br>  I don‚Äôt comment on the results of problem solving due to obviousness.  In addition, the initial data are conditional, and in the latter problem are individual. <br><br><h3>  Practical conclusions or why all this is necessary </h3><br>  The program interface is so simple and intuitive that it does not require any additional skills.  It is enough to download and install the latest version of Python, for example, from the site [2], and the <b>cvxopt</b> library from the site [3].  Then create a file with the extension <b>py</b> and place in it any of the programs listed in the article, after modifying it for your task with the new goal function and restrictions. <br><br><h3>  Links </h3><br><ol><li>  <a href="https://habrahabr.ru/users/scorobey/posts/">Solving the direct and dual problems of linear programming with Python tools.</a> </li><li>  <a href="https://www.python.org/">Python.</a> </li><li>  <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">Unofficial Windows Binaries for Python Extension Packages.</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/339594/">https://habr.com/ru/post/339594/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339582/index.html">About design patterns for working with RDBMS</a></li>
<li><a href="../339584/index.html">We make life easier with the conclusion of SLA</a></li>
<li><a href="../339586/index.html">Red arrows of extra reality</a></li>
<li><a href="../339590/index.html">Webpack and addictions</a></li>
<li><a href="../339592/index.html">Functional F #, which slowly appears in C #</a></li>
<li><a href="../339596/index.html">The history of hacking all the games in Telegram</a></li>
<li><a href="../339602/index.html">Service control panel. Part 1: Introduction</a></li>
<li><a href="../339606/index.html">Railway-oriented programming. Functional style error handling</a></li>
<li><a href="../339608/index.html">The digest of interesting materials for the mobile developer # 224 (October 2 - October 8)</a></li>
<li><a href="../339610/index.html">Translation of two articles: ‚ÄúHow to commit changes to a Docker image‚Äù and ‚ÄúGuide for Moving Docker Containers‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>