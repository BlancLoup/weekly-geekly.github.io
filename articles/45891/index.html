<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of MQ (Messages queue) for use in projects on PHP. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue to explore the topic of this class of software as message queues in relation to PHP web systems. In the last article, we looked at some so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of MQ (Messages queue) for use in projects on PHP. Part 2</h1><div class="post__text post__text-html js-mediator-article">  We continue to explore the topic of this class of software as message queues in relation to PHP web systems.  <a href="http://habrahabr.ru/blogs/hi/44907/">In the last article,</a> we looked at some software, in particular, representatives of both the topmost area ( <a href="http://activemq.apache.org/">Apache Active MQ</a> , whose capabilities are already at the level of corporate software), and fairly simple options, for example, <a href="http://www.foo.be/mqs/">MQS</a> .  But some rather interesting projects remained to be considered, so our research continues. <br><a name="habracut"></a><br>  <a href="http://github.com/starling/starling/tree/master">Starling Message Queue</a> - a fairly simple system developed by Blaine Cook from Twiitter on Ruby, supports work on the Memcache protocol, which means it allows any system that understands this protocol to connect and work. <br><br>  And the last project that I would like to consider came to us from the field of desktop applications.  <a href="http://www.freedesktop.org/wiki/Software/dbus">D-Bus</a> is a system of interprocess and inter-program interactions, which is used in the GNOME windowing environment ( <a href="http://ru.wikipedia.org/wiki/D-Bus">more details in Wikipedia</a> ).  This, however, is not an absolutely pure MQ system, D-Bus implements the concept of signals / slots (the <a href="http://ezcomponents.org/docs/tutorials/SignalSlot">PHP implementation of</a> which I consider to be just excellent in ezComponents and which I will write later separately).  However, looking through the mailing lists of this project (and it is part of <a title="Freedesktop.org" href="http://ru.wikipedia.org/wiki/Freedesktop.org">freedesktop.org</a> ) I came across messages that there is a implementation on PHP - <a href="http://code.google.com/p/php-dbus/">D-BUS PHP Binding</a> (this is just a connector to the existing system).  But there are ports to other languages ‚Äã‚Äãand platforms - on <a href="http://sourceforge.net/projects/windbus">win32 systems</a> , on the <a href="http://www.ndesk.org/DBusSharp">.NET platform</a> , as well as for Java, Python and other languages, including, of course, Perl.  The PHP version is called <a href="http://labs.gree.jp/Top/OpenSource/DBus/Document-en.html">PHP DBus</a> and is developed by Japanese developers, the current implementation is version 0.1 (as an extension module to PHP).  By the way, based on this library, developers have made an <a href="http://labs.gree.jp/Top/OpenSource/Skype-en.html">interlayer over the Skype API</a> and can interact with the installed Skype directly from the PHP application. <br><br>  Since traditionally already, message systems are the most developed in the Java world, PHP projects began with what was created as a wrapper over existing Java systems, ensuring their use in PHP applications.  In particular, this is a bundle of two projects - <a href="http://sourceforge.net/projects/mantaray/">Mantaray</a> (in Java, a distributed P2P system for exchanging messages in a distributed network over HTTP / HTTPS protocols, although not updated since 2006) and <a href="http://sourceforge.net/projects/phpmq/">PHPMQ</a> , which is a wrapper for the JMS protocol and uses <a href="http://php.net/manual/en/ref.java.php">PHP / Java Integration extension</a> , another interesting project for organizing the collaboration of two environments.  Unfortunately, it is not worthwhile to consider both systems for serious work, but as research systems, completely. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img title="dropr" src="http://abrdev.com/wp-content/uploads/2008/12/dropr.png" width="161" height="90" align="left">  <a href="https://www.dropr.org/">Dropr</a> is perhaps the first and only serious project entirely in PHP that implements message queues and is used in real projects.  Dropr is positioned as a distributed framework for queuing messages.  The system is resistant to network or hardware failures ‚Äî each node has its own independent message storage, in the local file system or database.  Dropr has a distributed architecture without a single point of failure, and each node can be both a server and a client.  The server itself is designed as a separate daemon, with which the client script and PHP Dropr library interact.  The daemon stores messages locally or sends them over the network to another node using multi-threaded loading using a cURL module.  By the way, as far as I figured out, the daemon is executed in the same way in the form of a PHP script that runs separately and constantly hangs in the server‚Äôs memory. <br><br>  This system was created and is used in a large project, <a href="http://www.jimdo.com/">Jimdo</a> (in fact, a service for simple creation and hosting of free pages), in which it provides a three-node geographically distributed cluster.  To the credit of Dropr, there are some service tools in it, such as viewing the queue status and managing it, however, as the creators note, there is no documentation other than the commented code and installation and usage manuals. <br><br>  Unfortunately, these are probably all the projects that I could find and see.  As you can see, most of them are written in Java, and if you want to somehow use this functionality in PHP applications, you need either a wrapper library and interaction with daemons on the network or sockets, or use PHP / Java integration tools, however, it is quite nontrivial (although there are already at least three such options, and I will write a separate article about them soon).  If this does not apply to you, consider working with pure PHP Dropr solutions, but accept the fact that you will only be provided with basic functionality.  Depending on the needs and usage scenarios, you can consider a dedicated server, for example, based on <a href="http://abrdev.com/%3Fp%3D471">memcacheQ</a> , which will provide fast work, reliability and a unified interface, or you can still look again towards more serious and complex solutions based on Java, Erlang, C / C ++ or Ruby, which may be preferable if you have a web project on RoR. <br><br><img align="left" title="bdb" src="http://abrdev.com/wp-content/uploads/2008/12/bdb.gif" width="314" height="106">  And on the next, one of the original projects.  <a href="http://sandbox.movial.com/wiki/index.php/Browser_DBus_Bridge">Browser DBus Bridge</a> is a connector to the D-Bus bus from JavaScript code that works in Gecko / WebKit browsers on systems that support D-Bus interaction.  The meaning of the project is probably to expand the interaction of web applications with external software, for example, automatically launching the same Skype or other software installed in the system.  However, here we are faced with security issues, so the full potential will be revealed only in your own developments, when you create a client for your application based on the Gecko engine and compile with it all the necessary libraries (after all, in a regular browser on this engine, even running on platform with D-Bus, no support for working with it). <br><br>  <strong>PS</strong> I will answer the question asked me in the <a href="http://abrdev.com/%3Fp%3D503">previous article</a> - which system I chose.  So far, no, I consider and think about architecture in general.  There are two options - launching all PHP applications on the Java platform and working directly with some Java project, but with something easier than Apache Active MQ, or using a different, but close, architecture based on signals and slots ( similarly to D-Bus), for it all the more there is an excellent implementation in <strong>ezComponents</strong> .  Although this, of course, is not quite MQ, but will cover most of the requirements.  Exactly for networking with other nodes, here we are already considering using either <strong>memcacheQ</strong> , or ezComponents extension for interacting with Dropr, or using a dedicated <strong>Spread-</strong> based server, especially since it has a module for PHP, and the project itself is serious and functional. </div><p>Source: <a href="https://habr.com/ru/post/45891/">https://habr.com/ru/post/45891/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45877/index.html">Opera_Cache: update of the plug-in for viewing the Opera cache</a></li>
<li><a href="../45880/index.html">Problem solved. But is the code good?</a></li>
<li><a href="../45882/index.html">Grand Theft Auto IV PC Edition</a></li>
<li><a href="../45884/index.html">Symfony 1.2</a></li>
<li><a href="../45885/index.html">when will they collide?</a></li>
<li><a href="../45892/index.html">Stages of development of a promotional site. Request</a></li>
<li><a href="../45895/index.html">Collective posts</a></li>
<li><a href="../45896/index.html">Do not allocate Bold</a></li>
<li><a href="../45898/index.html">Netbooks are no longer cheap?</a></li>
<li><a href="../45899/index.html">Who performs system testing in your team?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>