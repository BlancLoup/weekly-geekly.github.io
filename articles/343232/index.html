<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Eh, I do not like to write boilerplate, because there is IntelliJ IDEA and Apache Velocity</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, Habr! 

 This article will discuss how to partially reduce the amount of code that you often have to type manually or copy-paste somew...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Eh, I do not like to write boilerplate, because there is IntelliJ IDEA and Apache Velocity</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, Habr! <br><br>  This article will discuss how to partially reduce the amount of code that you often have to type manually or copy-paste somewhere (God forbid) using <b>IntelliJ IDEA</b> , and more specifically with file and code templates.  If you are not familiar enough with the advanced use of the capabilities of this IDE, then welcome under cat. <br><br><a name="habracut"></a>  It's no secret that you often have to write boilerplates - from simply creating the program's entry point to annoying brackets in JSON.  The community of programmers is constantly optimizing this process - frameworks, microlibs, template engines are released ... The IDE features in which you work are also greatly facilitated - for example, auto-substitution or the aforementioned file and code templates. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  IntelliJ IDEA file and code templates </h2><br>  Suppose we want to create a file in the project.  To do this, we open the project through our favorite IDE, press the hot-key Alt + 1, after which the panel with the project tree appears.  Next, click PKM on the directory in which you want to create a new file.  This context menu opens: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36c/099/0f5/36c0990f5c226dc735bddd49e59e0867.png" alt="image"></div><br>  Here we are, of course, interested in the item "New". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/46d/0c6/d76/46d0c6d7670dfca9179b472032051845.png" alt="image"></div><br>  As you can see, there are various options - a file with a .java extension (Java Class), a file with a .kt extension (Kotlin File / Class), a package, and so on.  There is also a section with more specific names - HTML File, JavaFXApplication, Singleton.  If you click on any of this, then create a file that contains several lines of code specific to a particular technology or pattern.  This is all File and Code Templates, that is, file and code templates.  And under all the templates there is a button ‚ÄúEdit File Templates ...‚Äù She is interested in us.  Click it and see this window: <br><a name="window"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e1/266/156/1e1266156d52250352cb3edd6a964ee6.png" alt="image"></div><br>  For the average Java programmer, the set of templates available in IDEA is rather poor.  But he was given a rich opportunity to edit them using a template engine called Apache Velocity.  About him there are several articles on Habr√©, for additional reading, I will leave the links at the bottom of the article. <br><br>  What can he do?  Consider the picture above.  On the left there is a list of available templates (it is impressive, but this is a fiction, it is rather poor in utility), on top there are tabs with template categories, the center is occupied by a text field in which HTML code is written, and below is a large amount of text marked Description.  Suppose that I am not a web developer and I don‚Äôt understand HTML, so we‚Äôll choose another template - for example, Class. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/703/1ab/3e0/7031ab3e0b9ee79530b4358b974c051c.png" alt="image"></div><br>  Immediately notice the code is not similar to Java, interspersed with Java code.  These are the Apache Velocity constructs. <br><br><h2>  Apache Velocity: how to do </h2><br>  We will not dive into the depths of the API and documentation, but let's look at the main points that will help us write our templates. <br><br>  Typically, template constructs interfere with plain text, so the process is somewhat specific. <br><br>  Main: <br><br>  <code>$variable_name</code> - access to a variable.  The name must begin with a Latin letter and contain only Latin letters, numbers, as well as the symbols "-" and "_". <br><br>  <code>#set($variable_name = "value")</code> - assignment of a variable value for further use in the text. <br><br>  <code>#if(condition) stub #else stub #end</code> is a conditional statement.  Instead of stubs, you can substitute what should appear in the text if the condition is satisfied (or not). <br><br>  <code>#include("another_template.txt")</code> - substitutes the contents of the specified file.  Files available for use should be listed on the Includes tab. <br><br>  <code>#parse("another_template.txt")</code> - does the same thing as <code>#includes</code> , but if the file contains a VTL (Velocity Template Language is the same as Apache Velocity), then it will also be executed. <br><br>  <code>#evaluate(string)</code> - substitutes the parameter and executes the VTL contained in it. <br><br>  Now about data types.  VTL variables can be of the following types: <br><br><ul><li>  Line </li><li>  Number </li><li>  Array </li><li>  Map </li></ul><br>  It is also worth noting that the string here corresponds to the String in Java, so it can call the methods <code>contains()</code> , <code>matches()</code> and so on. <br><br>  Also for writing templates in Java there are several predefined variables.  The most important is <code>${NAME}</code> , which contains the file name;  <code>${PACKAGE_NAME}</code> containing the package name;  There are variables for time, for example, <code>${DAY}</code> , containing today;  It is possible to declare your variables, the value of which you will be asked to specify when you will create a file using the written template.  Like this: <code>${VARIABLE_NAME}</code> .  A complete list of all predefined variables is in the Description textbox. <br><br><h2>  Examples? </h2><br>  To clarify the above, we will write a few of our own templates.  Click on the green plus sign in our <a href="https://habr.com/ru/post/343232/">window</a> above the list of templates. <br><br><h3>  Application Entry Point </h3><br>  Once I discovered that Idea does not have class templates containing <code>public static void main()</code> .  Quite (well, or I did not find them).  My acquaintance with IntelliJ IDEA templates and VTL began with this - I decided to write my own template, with comments and vararg-s. <br><br>  It turned out like this: <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> $</span></span>{NAME} { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre><br>  Everything is simple here.  From VTL-specific toys, only <code>${NAME}</code> , a predefined variable.  But I can, for example, insert a comment containing today and the name of the author. <br><br><pre> <code class="hljs vbscript">/** * Today <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> ${<span class="hljs-built_in"><span class="hljs-built_in">DATE</span></span>} * ${USER} <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(${<span class="hljs-built_in"><span class="hljs-built_in">MINUTE</span></span>}%<span class="hljs-number"><span class="hljs-number">1</span></span>==<span class="hljs-number"><span class="hljs-number">0</span></span>) the best #<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> the best #<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> */ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ${NAME} { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static void main(<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>... args) { } }</code> </pre><br>  Enter the name of the template and save it.  After that, click PCM somewhere in your project (I advise you to create a test project, but you can play on production) -&gt; New -&gt; Your template.  Enter the file name and see: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/786/b48/1c8/786b481c8619bfb112707f623907c0db.png" alt="image"></div><br>  Sumptuously! <br><br><h3>  Template for JUnit4 tests </h3><br>  A more practical and beautiful example.  By convention on the design of the code, test classes should have the word Test in the title.  Take care of your memory and write this pattern: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> junit.framework.TestCase; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ${<span class="hljs-type"><span class="hljs-type">NAME</span></span>}#<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!$<span class="hljs-type"><span class="hljs-type">NAME</span></span>.contains("Test"))Test #<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> extends TestCase { @Override <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> setUp() { } }</code> </pre><br>  Now, if we forget to add the word ‚ÄúTest‚Äù in the title when creating the test case, the template will do it for us! <br><br>  <b>Note</b> : here we called the <code>contains</code> method on the string.  To call string methods, you need to refer to a variable, omitting braces.  The same applies to accessing the fields of arrays and map - no braces! <br><br>  Now save the template and try to create a test for yourself.  Again, click the RMB on any directory -&gt; New -&gt; Your test pattern.  Enter a name (without the word ‚ÄúTest‚Äù), this file is created here: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08f/604/335/08f604335ced34e1140cd7d93d4e2ba5.png" alt="image"></div><br>  But that is not all.  Let's remove it and recreate it with the same name, but this time we add the word ‚ÄúTest‚Äù at the end of the name.  What do we get?  Absolutely, no two consecutive "Test" s. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08f/604/335/08f604335ced34e1140cd7d93d4e2ba5.png" alt="image"></div><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  In fact, I just inserted two identical pictures, but it does not matter.  It is working! <br></div></div><br><h2>  A little about the scheme </h2><br>  At the very top of the ‚ÄúFile And Code Templates‚Äù window there is a drop-down list, in which there are two items - ‚ÄúDefault‚Äù and ‚ÄúProject‚Äù.  What does it mean? <br><br>  This means that you can create templates for all projects (‚ÄúDefault‚Äù), or only for the current one (‚ÄúProject‚Äù).  This is called Schemes, and specifically there are only two of them available in File and Code Templates, although in general settings there are more of them and you can create your own.  Nevermind. <br><br><h2>  What to read </h2><br>  <a href="https://habrahabr.ru/post/47564/">The Habra articles mentioned by me devoted to VTL</a> <br><br>  Yes, it is only one, because in the process of writing the second one was lost somewhere. <br><br>  <a href="http://www.jetbrains.com/help/idea/file-and-code-templates.html">There is also an English guide from IntelliJ</a> <br><br>  But it does not reveal all the possibilities of template code standardization, although it gives a more complete characterization of template usability. <br><br>  <a href="http://velocity.apache.org/engine/devel/user-guide.html">And Getting Started off.</a>  <a href="http://velocity.apache.org/engine/devel/user-guide.html">Apache Velocity website</a> <br><br><h2>  Conclusion </h2><br>  File and Code Templates is a very powerful tool IntelliJ IDEA, which for some reason is not well lit.  There are things that you immediately come across, starting to study the subject area, but the patterns are clearly not relevant here - and in vain.  Urgently share this information with your friends and colleagues and have them write templates on VTL!  Persuade your boss or the owner of your favorite open-source to plant a person to make out the contribution guides, inserting templates into them.  It's comfortable! </div><p>Source: <a href="https://habr.com/ru/post/343232/">https://habr.com/ru/post/343232/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343220/index.html">How we prepared Crystal for production</a></li>
<li><a href="../343222/index.html">Text captchas are easily recognized by deep learning neural networks.</a></li>
<li><a href="../343224/index.html">The digest of interesting materials for the mobile developer # 231 (November 20 - November 26)</a></li>
<li><a href="../343226/index.html">Cloud technology and my future</a></li>
<li><a href="../343228/index.html">White function or quadratic cosine "comes"</a></li>
<li><a href="../343234/index.html">Biomes painter: fill the world with content</a></li>
<li><a href="../343236/index.html">Digital events in Moscow from November 27 to December 3</a></li>
<li><a href="../343238/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ290 (November 19 - 26, 2017)</a></li>
<li><a href="../343240/index.html">Fall Creators Update: Important for Programmer</a></li>
<li><a href="../343244/index.html">Refactor with Roslyn</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>