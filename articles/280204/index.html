<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A bit of Storage Class Memory</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For all the time the existence of the theory of computers and systems, only one statement remained true: processors are much more productive and expen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A bit of Storage Class Memory</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/1cloud/blog/280204/"><img src="https://habrastorage.org/files/a8e/3ed/8ff/a8e3ed8ffa6842e8bdd44f527efc1863.jpg" width="700"></a> <br><br>  For all the time the existence of the theory of computers and systems, only one statement remained true: processors are much more productive and expensive than data storage devices.  The fact that the CPU is capable of serving many storage devices at once has had a significant impact on the development of hardware and software for systems of various sizes. <br><br>  Indeed, in books such as Computer Systems: A Programmer's View (Computer Systems: A Programmer's Perspective) by Randal Bryant and David O'Hallaron, the emphasis is on the hierarchy of memory and its effect on developed programs. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      However, data centers and software developers need to prepare for future changes.  The emergence of high-speed non-volatile storage devices, commonly called the abbreviation SCM (Storage Class Memories), will shake the usual foundations.  SCMs are gradually gaining popularity, but working with them requires allocating one or several multi-core processors to cope with their performance (hundreds of thousands of IOPS). <a name="habracut"></a><br><br>  The speed of long-term storage has always been much lower than the speed of the CPU, and this difference only increased from the beginning of the 90s to the beginning of the 00s.  Processors steadily improved and improved, and the performance of mechanical disks remained unchanged - development was hindered by physics.  For decades, in order to reduce this gap and avoid processor downtime, various schemes and techniques have been invented. <br><br>  One way is caching.  In modern systems, caching is performed at all system levels: the processor caches RAM, operating systems caches entire disk sectors, and so on. <br><br>  Other methods literally allow processor time to be spent on performance.  For example, compression and deduplication reduce the size of the processed data, and it turns out that the ‚Äúfast‚Äù memory increases in size, but you have to pay for it with computational resources. <br><br>  Compression remains the primary technique used in enterprise-level storage systems, as well as large data environments.  Tools like Apache Parquet reorganize and compress data on disks to reduce read time. <br><br>  From all these shortcomings freed flash storage.  This technology is not new, and SAS and SATA SSD can be purchased for ten years as.  However, SCM takes flash devices to a new level: flash memory is connected to the PCIe bus, instead of the slow SAS and SATA buses, which increases the speed of data exchange. <br><br>  Moreover, such SCMs are emerging, such as NVDIMM.  NVDIMM is produced in the form of DIMM-modules and, in fact, is a hybrid memory, combining RAM DRAM and NAND flash memory. <br><br>  Under normal conditions, NVDIMMs perform the function of a conventional DRAM memory, but in the event of a system crash or shutdown, the data from the DRAM is transferred to non-volatile flash memory, where it can be stored indefinitely.  When the computer resumes, the data is copied back.  This approach allows you to speed up the process of starting the machine and reduce the likelihood of loss of important data. <br><br><img src="https://habrastorage.org/files/300/5e5/2e2/3005e52e29d44bcf8751d3cf47f6cbea.png" width="700"><br><br>  Today, SCM with a PCIe interface can achieve a performance increase of 1000 times (100k IOPS vs. 100 IOPS).  Unfortunately, this leads to a significant increase in cost: SCMs are 25 times more expensive than conventional HDDs ($ 1.50 / GB versus $ 0.06 / GB).  Enterprise-class devices cost from $ 3000 to $ 5000 each. <br><br>  To maximize the efficiency of using expensive SCMs, storage systems must constantly provide them with work, that is, keep them occupied.  It turns out that we cannot simply replace the magnetic disks - we will have to recycle the hardware systems and software. <br><br>  This issue should be approached cautiously, since too many flash devices will lead to significant costs of money, and too few of them will lead to difficulties in accessing them.  Finding the right balance is not easy. <br><br>  Also worth remembering is the time division of resources.  Over the years, interrupts have been used to communicate between the hard disk and the processor.  For a core operating at frequencies measured by gigahertz, it is not difficult to serve an interrupt every few seconds.  One core can manage dozens or hundreds of disks without risking to ‚Äúchoke‚Äù.  However, with the advent of low-latency storage devices, this approach is no longer applicable. <br><br>  This model should be seriously changed.  Not only storage devices received a serious increase in performance - the acceleration of network devices also took place: first up to 10G, then up to 40G, then up to 100G.  Maybe it will be possible to "peep" the solution in this area? <br><br><img src="https://habrastorage.org/files/b13/429/756/b134297561e34b308a8330fb997c5e6c.png" width="500"><br><br>  There is no definite answer, because the difference in acceleration is too great: the networks are a thousand times faster, and the storage devices are a million.  Moreover, when working with memory, it is often necessary to support complex functions of compression, encoding, and deduplication, because optimization techniques used to work with packages are most likely not suitable. <br><br>  In networks, to reduce latency, a method is applied when all packets are managed by an application bypassing the kernel.  However, there is a difference between networks and storage devices: network flows are independent and can be processed in parallel on several cores, in the case of memory all requests will have to be coordinated. <br><br>  Obviously, this is impractical.  One controller is unable to control access to a huge number of SCM devices at the same time.  The hardware will be used in half the power, so a different approach is needed. <br><br>  The load requirements for capacity and performance do not coincide with the hardware capabilities, which leads to restrictions in the use of high-speed disks.  For example, data with a capacity of 10 TB with an expected load of 500k IOPS only takes up half the capacity of the disks if they are stored on SCM devices with a capacity of 1TB capable of processing up to 100k IOPS each. <br><br>  However, it must be remembered that most of the data is not ‚Äúhot‚Äù, so it‚Äôs inefficient to store them all on high-speed flash devices.  In many cases, the load is consistent with the Pareto distribution: 80% of all hits are addressed to 20% of the data. <br><br>  A hybrid system with different levels of storage (with different performance characteristics) is a good solution for mixing ‚Äúcold‚Äù and ‚Äúhot‚Äù data, when SCM devices act as a cache for slow disks.  But you need to remember that access patterns change over time - you need to react to it in a timely manner and move data. <br><br>  In well-constructed systems, this method allows you to effectively use the hardware without sacrificing performance.  However, systems must have flexible policies that would prohibit active, but low-priority tasks from interfering with business-critical applications.  Competent implementation and debugging of these mechanisms is not at all a trivial task. <br><br><h4>  So what awaits us in the future? </h4><br>  As mentioned above, there are already developed SCM devices.  PCIe SSD is the most well-known type of SCM and has already had a significant impact on the infrastructure of data centers.  The second example is NVDIMM, which has performance characteristics comparable to DRAM.  Such devices are already available today and continue to evolve. <br><br>  SCM technology deals with HP.  Their project called The Machine is nothing more than an attempt to develop a new computer architecture on memristors.  The existence of a memristor - the fourth basic component of electrical circuits was predicted in 1971 by Leon Chua (Leon O. Chua), but a laboratory sample of the storage element was created only in 2008 by a team of scientists led by Stanley Williams in the Hewlett- research laboratory Packard <br><br>  This passive element is able to memorize its own state.  It can be said that this is a resistor whose resistance varies depending on the charge flowing through it.  When the element is de-energized, the changed resistance is retained. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/rvA5r4LtVnc%3Ffeature%3Doembed&amp;xid=17259,15700002,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgFBELzbm24QAw5CAJ_xTqIdy4eiA" frameborder="0" allowfullscreen=""></iframe><br><br>  Currently, the commercial implementation of the memristor is under development.  As soon as this happens, it will be possible to create new types of memory that, in addition to storing data, can also process them. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/jcmsby8jDKE%3Ffeature%3Doembed&amp;xid=17259,15700002,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhg1OhKzDyIuBV--kNA9mhHgtyE9wA" frameborder="0" allowfullscreen=""></iframe><br><br>  As for The Machine, there is no border between the main memory and the permanent data storage.  All memory is operational.  This eliminates the problems associated with the transfer of information between devices operating at different speeds. <br><br>  It seems that SCM-technologies are designed to overcome the inefficiency that occurs when "communicating" slow and fast memory.  The more interesting to watch what is happening: how new development will affect all levels of the infrastructure stack.  Everything is just beginning. <br><br>  <i>The head of the development department of the <a href="https://1cloud.ru/">1cloud.ru</a> project Sergey Belkin <a href="https://1cloud.ru/">comments</a> :</i> <br><br><blockquote>  ‚ÄúDifferent types of discs may be required to solve various problems.  The use of disks of various types can be justified when creating multi-level storage systems - data that is often used by applications can be placed on faster disks. <br><br>  For example, if there is a service that is actively working with the database, then it makes sense to transfer it to a separate SSD disk - this will help optimize the speed of its operation.  In this case, the operating system itself is logical to leave on slower disks.  The simultaneous use of different types of disks allows you to make the overall infrastructure solution more flexible, efficient and cost-optimized. <br><br>  With regard to new developments in the field of solid-state drives, last year Intel and Micron announced 3D XPoint (pronounced ‚Äúcrosspoint‚Äù) - a three-dimensional transistor-free architecture and stated that the lifespan and speed of such storage devices would exceed the capabilities of NAND memory 1000 times.  If this solution becomes commercial, then I think it will most likely be used in data centers for storing frequently requested hot data. </blockquote><br>  <i>Opinion of George Crump ( <a href="http://www.storage-switzerland.com/Articles/Entries/2011/12/13_What_Is_Storage_Class_Memory.html">George Crump</a> ) from Storage Switzerland:</i> <br><br><blockquote>  ‚ÄúSCM is a new type of storage that can become an intermediate link between high-performance DRAM and cheap HDDs.  SCM memory is capable of providing a read speed close to the DRAM read speed, and a write speed that is many times faster than hard drives. <br><br>  This was made possible thanks to the PCIe interface, through which flash storage is connected directly to the processor.  However, not any PCI SSD is a SCM device. <br><br>  Some suppliers, in pursuit of performance, install several controllers on their cards, each of which is responsible for its own flash memory area.  At first glance, this seems like a sensible idea, however, in this case, the controller does not have the ability to write or read blocks that are outside its competence. <br><br>  If the unit is large - this, on the contrary, may adversely affect the speed of work.  This and other performance problems arising from the inefficiency of existing interfaces hamper the process of technology adaptation. ‚Äù </blockquote><br>  <i>Opinion of Scott Davis ( <a href="http://www.networkworld.com/article/3026720/storage/the-next-generation-of-storage-disruption-storage-class-memory.html">Scott Davis</a> ), Technical Director of Infinio:</i> <br><br><blockquote>  ‚ÄúSCM technologies will not be available for commercial use until the end of 2016. <br><br>  Most likely, it will be an early implementation of 3D XPoint technology from Intel.  HP and SanDisk also announced that they are working on a joint project, but their product is likely to enter the market not earlier than the beginning of 2017. <br><br>  It should be borne in mind that, as is the case with many new technologies, SCM devices will at first have a limited area of ‚Äã‚Äãapplicability.  An obstacle to entering the wider market will be the cost of devices. ‚Äù </blockquote></div><p>Source: <a href="https://habr.com/ru/post/280204/">https://habr.com/ru/post/280204/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280190/index.html">Android Cuvettes, Part 2: SDK and Libraries</a></li>
<li><a href="../280192/index.html">Problem about pair numbers</a></li>
<li><a href="../280196/index.html">Pros and cons: When it is worth and not worth using MongoDB</a></li>
<li><a href="../280198/index.html">How to clean up the mailbox using a neural network. Part 1</a></li>
<li><a href="../280200/index.html">Directed Phishing - a Modern Security Threat</a></li>
<li><a href="../280206/index.html">How ESLint reacts to the situation with the removal of packages from NPM</a></li>
<li><a href="../280208/index.html">Distributed nature of Tox Messenger</a></li>
<li><a href="../280210/index.html">About Go functionality</a></li>
<li><a href="../280212/index.html">Do not miss js-error</a></li>
<li><a href="../280214/index.html">Silicon Framework - WebAPI on C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>