<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Trust mathematicians but verify</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am sometimes puzzled, considering the mistakes in the next software project. Many of these errors live in projects for years. You look at a hundred ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Trust mathematicians but verify</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/572/76a/8bc/57276a8bc032676a65a7e748ebd7b53c.png" alt="PVS-Studio.  You shall not pass!" align="left"><br>  I am sometimes puzzled, considering the mistakes in the next software project.  Many of these errors live in projects for years.  You look at a hundred bloopers in the code and wonder how the program works at all.  And it somehow works.  She even enjoyed.  Moreover, I'm not talking about the code that draws a pokemon in the game.  And, for example, about math libraries.  Yes, you guessed it.  This article is about checking the code of the Scilab math library. <br><a name="habracut"></a><br><h2>  Scilab </h2><br>  Today, we will look at suspicious code fragments in the Scilab math package.  The analysis was performed using the <a href="http://www.viva64.com/ru/pvs-studio/">PVS-Studio</a> tool. <br><br>  Scilab is a package of applied mathematical programs that provides a powerful open environment for engineering (technical) and scientific calculations [ <a href="http://www.viva64.com/go.php%3Furl%3D1367">Wikipedia</a> ]. <br><br>  Official website: <a href="http://www.scilab.org/">http://www.scilab.org/</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Many tools are available in the system: <ul><li>  2D and 3D graphics, animation; </li><li>  linear algebra, sparse matrices (sparse matrices); </li><li>  polynomial and rational functions; </li><li>  interpolation, approximation; </li><li>  simulation: solution of ODE and remote control; </li><li>  Scicos: a hybrid system for modeling dynamic systems and simulation; </li><li>  differential and non-differential optimizations; </li><li>  signal processing; </li><li>  parallel work; </li><li>  statistics; </li><li>  work with computer algebra; </li><li>  interface to Fortran, Tcl / Tk, C, C ++, Java, LabVIEW. </li></ul>  Get ready.  The article will be long.  It's not my fault that there are so many different dirty tricks.  And I want to show different classes of errors. <br><br>  Of course, the deficiencies found are not related to mathematics.  Perhaps all the algorithms in the library are correct and efficient.  However, since C ++ language was chosen for writing, we must not forget that in addition to errors in the algorithms, there are also typos, dereferencing null pointers and other errors.  Actually, it does not matter to the user whether he will encounter a logical error in the numerical algorithm or he will become a victim of an uninitialized variable. <br><br>  Yes, static analysis finds only some kinds of errors.  But since they are easy to detect, why deny yourself such a pleasure.  It is better to correct another 10% of errors than not to fix anything at all. <br><br>  So, let's see what the PVS-Studio analyzer told me about the Scilab project. <br><br><h2>  Buffer that does not exist </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/434/968/bcd/434968bcd5f4a657e5d498e0b433589c.png" alt="Buffer that does not exist"><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sci_champ_G</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> * strf = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> ; .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( isDefStrf( strf ) ) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> strfl[<span class="hljs-number"><span class="hljs-number">4</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">strcpy</span></span>(strfl,DEFSTRFN); strf = strfl; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !isDefRect( rect ) ) { strf[<span class="hljs-number"><span class="hljs-number">1</span></span>]=<span class="hljs-string"><span class="hljs-string">'5'</span></span>; } } (*func)(stk(l1), stk(l2), stk(l3), stk(l4), &amp;m3, &amp;n3, strf, rect, arfact, <span class="hljs-number"><span class="hljs-number">4L</span></span>); .... }</code> </pre> <br>  PVS-Studio message: V507 Pointer to local array 'strfl' is stored outside the scope of this array.  Such a pointer will become invalid.  sci_champ.c 103 <br><br>  The reference to the temporary array 'strfl' is stored in the variable 'strf'.  When exiting the ‚Äúif () {...}‚Äù block, this array ceases to exist.  However, the program works with the 'strf' pointer. <br><br>  The behavior of such a program is unpredictable.  You cannot work with an array that is no longer there.  Of course, the program can work quite correctly.  However, this is luck.  The memory where the array was located may at any time be occupied by storing other arrays or variables. <br><br>  Similar problems: <ul><li>  Array 'strfl'.  sci_fec.c 111 </li><li>  Array 'strfl'.  sci_grayplot.c 94 </li><li>  Array 'strfl'.  sci_matplot.c 84 </li></ul><br><h2>  Something is not considered </h2><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">C2F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pmatj)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *fname, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *lw, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *j, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">unsigned</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fname_len)</span></span></span><span class="hljs-function"> </span></span>{ .... ix1 = il2 + <span class="hljs-number"><span class="hljs-number">4</span></span>; m2 = Max(m, <span class="hljs-number"><span class="hljs-number">1</span></span>); ix1 = il + <span class="hljs-number"><span class="hljs-number">9</span></span> + m * n; .... }</code> </pre> <br>  PVS-Studio warning: V519 The 'ix1' variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 2387, 2389. stack1.c 2389 <br><br>  There is something wrong with the variable 'ix1'.  I think there is some typo here. <br><br><h2>  At the beginning of the test, then initialization </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/1c3/013/004/1c3013004eff5227575295aaad553e38.png" alt="At the beginning of the test, then initialization"><br><br>  An interesting piece of code.  You need to get some values ‚Äã‚Äãand then check them.  But it turned out the opposite. <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sci_Playsound</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *fname,</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">unsigned</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fname_len)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> m1 = <span class="hljs-number"><span class="hljs-number">0</span></span>, n1 = <span class="hljs-number"><span class="hljs-number">0</span></span>; .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (m1 != n1) &amp;&amp; (n1 != <span class="hljs-number"><span class="hljs-number">1</span></span>) ) { Scierror(<span class="hljs-number"><span class="hljs-number">999</span></span>,_(<span class="hljs-string"><span class="hljs-string">"%s: Wrong size for input argument #%d: "</span></span>) _(<span class="hljs-string"><span class="hljs-string">"A string expected.\n"</span></span>),fname,<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } sciErr = getMatrixOfWideString(pvApiCtx, piAddressVarOne, &amp;m1,&amp;n1,&amp;lenStVarOne, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); .... }</code> </pre> <br>  PVS-Studio warnings: V560 A part of the conditional expression is always false: (m1! = N1).  sci_playsound.c 66;  V560 A part of the conditional expression is always true: (n1! = 1).  sci_playsound.c 66 <br><br>  The variables m1 and n1 should get the values ‚Äã‚Äãwhen calling the getMatrixOfWideString () function.  Then these variables should be checked.  It just turned out that the check is carried out before the getMatrixOfWideString () function call. <br><br>  At the time of testing, the variables m1 and n1 are equal to 0. The condition ‚Äúif ((m1! = N1) &amp;&amp; (n1! = 1))‚Äù is not met.  As a result, verification does not affect the operation of the program. <br><br>  Total  The variables m1 and n1 are not checked. <br><br><h2>  Magic numbers </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/894/3ef/92f/8943ef92fac47c7580eab972d17b2998.png" alt="Imaginary friend"><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreCommon</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(f,var)</span></span></span><span class="hljs-function"> FILE *f</span></span>; VARPTR var; { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">strncmp</span></span>(var-&gt;fexternal, <span class="hljs-string"><span class="hljs-string">"cintf"</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)==<span class="hljs-number"><span class="hljs-number">0</span></span> ) .... }</code> </pre> <br>  PVS-Studio warning: V666 Consider the third argument of the function 'strncmp'.  This is not the case.  crerhs.c 119 <br><br>  The magic number 4 is used. And this number is incorrect.  The string "cintf" has five characters, not four.  Do not use such magic numbers. <br><br>  I would make a special macro to calculate the length of string literals and use it like this: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">strncmp</span></span>(var-&gt;fexternal, <span class="hljs-string"><span class="hljs-string">"cintf"</span></span>, litlen(<span class="hljs-string"><span class="hljs-string">"cintf"</span></span>))==<span class="hljs-number"><span class="hljs-number">0</span></span> )</code> </pre> <br>  How to make a macro 'litlen', we will not discuss.  There are lots of ways for every taste.  The main thing is to get rid of the number. <br><br>  Other wrong row sizes: <ul><li>  crerhs.c 121 </li><li>  crerhs.c 123 </li><li>  crerhs.c 125 </li><li>  crerhs.c 127 </li></ul><br><h2>  1, 2, 3, 4, 4, 6 </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/ba5/884/109/ba5884109e2aa4f939f95d87d91a9a95.png" alt="Array, hole."><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">C2F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(run)</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> *Lpt = C2F(iop).lpt - <span class="hljs-number"><span class="hljs-number">1</span></span>; .... Lpt[<span class="hljs-number"><span class="hljs-number">1</span></span>] = Lin[<span class="hljs-number"><span class="hljs-number">1</span></span> + k]; Lpt[<span class="hljs-number"><span class="hljs-number">2</span></span>] = Lin[<span class="hljs-number"><span class="hljs-number">2</span></span> + k]; Lpt[<span class="hljs-number"><span class="hljs-number">3</span></span>] = Lin[<span class="hljs-number"><span class="hljs-number">3</span></span> + k]; Lpt[<span class="hljs-number"><span class="hljs-number">4</span></span>] = Lin[<span class="hljs-number"><span class="hljs-number">4</span></span> + k]; Lct[<span class="hljs-number"><span class="hljs-number">4</span></span>] = Lin[<span class="hljs-number"><span class="hljs-number">6</span></span> + k ]; Lpt[<span class="hljs-number"><span class="hljs-number">6</span></span>] = k; .... }</code> </pre> <br>  PVS-Studio warning: V525 The code containing the collection of similar blocks.  Check items '1', '2', '3', '4', '4' in lines 1005, 1006, 1007, 1008, 1009. run.c 1005 <br><br>  A typo in the sequence of numbers.  As a result, one element of the array will remain uninitialized.  You can get a lot of interesting mathematical results. <br><br><h2>  Code evolution </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/3d1/907/13c/3d190713c4eb2fc16699ed510b81b0fc.png" alt="Evolution"><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write_xml_states</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> nvar, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * xmlfile, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **ids, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *x)</span></span></span><span class="hljs-function"> </span></span>{ .... FILE *fd = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; .... wcfopen(fd, (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>*)xmlfile, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fd &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { sciprint(_(<span class="hljs-string"><span class="hljs-string">"Error: cannot write to '%s' \n"</span></span>), xmlfile); .... }</code> </pre> <br>  PVS-Studio warning: V503 This is a nonsensical comparison: pointer &lt;0. scicos.c 5826 <br><br>  I'm pretty sure that once in this code, the <a href="http://www.viva64.com/go.php%3Furl%3D1368">open</a> function was used to open a file.  Then, the code was rewritten and began to use the function on <a href="http://www.viva64.com/go.php%3Furl%3D1369">_wfopen</a> .  Her call is hidden in the 'wcfopen' macro. <br><br>  But check that the file was successfully opened, forgot to correct.  The open () function returns -1 in case of an error.  Checking that the pointer is less than zero has no practical meaning. <br><br>  Another place where history is traced. <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">taucs_ccs_genmmd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(taucs_ccs_matrix* m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">** perm, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">** invperm)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n, maxint, delta, nofsub; .... maxint = <span class="hljs-number"><span class="hljs-number">32000</span></span>; assert(<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) == <span class="hljs-number"><span class="hljs-number">4</span></span>); maxint = <span class="hljs-number"><span class="hljs-number">2147483647</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* 2**31-1, for 32-bit only! */</span></span> .... }</code> </pre> <br>  PVS-Studio warning: V519 The 'maxint' variable is assigned values ‚Äã‚Äãtwice successively.  Perhaps this is a mistake.  Check lines: 154, 157. taucs_scilab.c 157 <br><br>  There is no error, but the code is funny. <br><br>  It is seen that a long time ago, it was written "maxint = 32000;".  Then below appeared: <br><pre> <code class="cpp hljs">assert(<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) == <span class="hljs-number"><span class="hljs-number">4</span></span>); maxint = <span class="hljs-number"><span class="hljs-number">2147483647</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* 2**31-1, for 32-bit only! */</span></span></code> </pre> <br><h2>  Sort one item </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/f3f/dd2/24f/f3fdd224fb6c6e580bff07f81ad6c971.png" alt="Sort one item"><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCommonPart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **dictionary, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sizeDictionary)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *currentstr = dictionary[<span class="hljs-number"><span class="hljs-number">0</span></span>]; qsort(dictionary, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span> dictionary / <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span> dictionary[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span> dictionary[<span class="hljs-number"><span class="hljs-number">0</span></span>], cmp); .... }</code> </pre> <br>  PVS-Studio warning: V514 Dividing sizeof a pointer 'sizeof dictionary' by another value.  There is a possibility of logical error presence.  getcommonpart.c 76 <br><br>  The second argument to the qsort () function is the number of elements in the array.  Due to an error, the number of elements is always one. <br><br>  Consider the expression "sizeof dictionary / sizeof dictionary [0]".  Here the size of the pointer is divided by the size of the pointer.  The result is one. <br><br>  Probably the correct code should have been: <br><pre> <code class="cpp hljs">qsort(dictionary, sizeDictionary, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span> dictionary[<span class="hljs-number"><span class="hljs-number">0</span></span>], cmp);</code> </pre> <br>  Similar error here: getfilesdictionary.c 105 <br><br><h2>  Stubborn strings </h2><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetenvB</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *name, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *env, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> len)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ierr = <span class="hljs-number"><span class="hljs-number">0</span></span>, one = <span class="hljs-number"><span class="hljs-number">1</span></span>; C2F(getenvc)(&amp;ierr,name,env,&amp;len,&amp;one); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ierr == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *last = &amp;env[len<span class="hljs-number"><span class="hljs-number">-1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( *last == <span class="hljs-string"><span class="hljs-string">' '</span></span> ) { last = <span class="hljs-string"><span class="hljs-string">'\0'</span></span> ; } last--; } .... }</code> </pre> <br>  V527 It is odd that the '\ 0' value is assigned to the 'char' type pointer.  Probably meant: * last = '\ 0'.  getenvb.c 24 <br><br>  This line is terrible.  Or beautiful, if we are talking about interesting mistakes. <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( *last == <span class="hljs-string"><span class="hljs-string">' '</span></span> ) { last = <span class="hljs-string"><span class="hljs-string">'\0'</span></span> ; }</code> </pre> <br>  If the first character in the string is blank, then the pointer will become zero.  Then there will be a call on the null pointer. <br><br>  It seems to me that this code should have replaced all spaces with a '\ 0'.  Then the code should be like this: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( *last == <span class="hljs-string"><span class="hljs-string">' '</span></span> ) { *last++ = <span class="hljs-string"><span class="hljs-string">'\0'</span></span> ; }</code> </pre> <br>  It's funny that there is another place in the code where people also want to change spaces to zeros.  And it also failed to write correctly. <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">msg_101</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *n, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *ierr)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)<span class="hljs-built_in"><span class="hljs-built_in">strlen</span></span>(line);i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (line[i]==<span class="hljs-string"><span class="hljs-string">' '</span></span>) line[i]=<span class="hljs-string"><span class="hljs-string">'\0'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } .... }</code> </pre> <br>  PVS-Studio warning: V612 An unconditional 'break' within a loop.  msgs.c 1293 <br><br>  Everything would be fine if it were not for the 'break' operator.  Only one space will be replaced.  However, if you remove the 'break' it does not help.  The strlen () function will return zero, and the loop will still stop. <br><br>  Similar "one-time" cycles: <ul><li>  V612 An unconditional 'break' within a loop.  msgs.c 1313 </li><li>  V612 An unconditional 'break' within a loop.  api_common.cpp 1407 </li></ul><br><h2>  Null pointer dereferencing </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/79d/923/47b/79d92347b4e52ba36b59109c175a0c85.png" alt="Null pointer dereferencing"><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function"> **</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">splitLineCSV</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (retstr[curr_str] == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { *toks = <span class="hljs-number"><span class="hljs-number">0</span></span>; FREE(substitutedstring); substitutedstring = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; freeArrayOfString(retstr, <span class="hljs-built_in"><span class="hljs-built_in">strlen</span></span>(substitutedstring)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; } .... }</code> </pre> <br>  PVS-Studio warning: V575 The null pointer is passed into the 'strlen' function.  Inspect the first argument.  splitline.c 107 <br><br>  Strange code.  At the beginning, the pointer was explicitly zeroed.  Then, gave it to the mercy of the function strlen (). <br><br>  Most likely, the call to the freeArrayOfString () function should be located higher than the FREE () call. <br><br>  It was a warm-up.  Now consider the more difficult case. <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * pvApiCtx, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rows, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cols, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * ptr)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> * dataPtr = <span class="hljs-number"><span class="hljs-number">0</span></span>; alloc(pvApiCtx, position, rows, cols, dataPtr); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; rows * cols; i++) { dataPtr[i] = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(ptr[i]); } }</code> </pre> <br>  V522 Dereferencing of the null pointer 'dataPtr' might take place.  scilababstractmemoryallocator.hxx 222 <br><br>  In this function, they want to allocate memory using the alloc () function.  It may seem that the function returns a value by reference.  The final argument is the 'dataPtr' pointer.  It seems that the pointer to the allocated memory buffer will be written to it. <br><br>  But it is not.  The pointer will remain zero.  Let's see how the alloc () function is declared: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">alloc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * pvApiCtx, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rows, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cols, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * ptr)</span></span></span></span></code> </pre> <br>  See, the last argument is not a link.  By the way, it's not at all clear why he is needed.  Let's look inside the alloc () function: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">alloc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * pvApiCtx, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rows, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cols, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * ptr)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> * _ptr = <span class="hljs-number"><span class="hljs-number">0</span></span>; SciErr err = allocMatrixOfInteger32( pvApiCtx, position, rows, cols, &amp;_ptr); checkError(err); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _ptr; }</code> </pre> <br>  The last argument 'ptr' is not used at all. <br><br>  In any case, the allocation code is incorrect.  The code should be: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * pvApiCtx, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rows, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cols, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * ptr)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> *dataPtr = alloc(pvApiCtx, position, rows, cols, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; rows * cols; i++) { dataPtr[i] = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(ptr[i]); } }</code> </pre> <br>  Similar situations: <ul><li>  scilababstractmemoryallocator.hxx 237 </li><li>  scilababstractmemoryallocator.hxx 401 </li></ul><br><h2>  Invalid error messages </h2><br>  The PVS-Studio analyzer often finds typos in error handlers.  This code is rarely executed, and errors for a long time go unnoticed.  I think because of such errors we often cannot understand what is wrong with the program.  The diagnostic message issued by the program does not correspond to reality. <br><br>  Example of incorrect error message generation: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> SciErr </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fillCommonSparseMatrixInList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... addErrorMessage(&amp;sciErr, API_ERROR_FILL_SPARSE_IN_LIST, _(<span class="hljs-string"><span class="hljs-string">"%s: Unable to create list item #%d in Scilab memory"</span></span>), _iComplex ? <span class="hljs-string"><span class="hljs-string">"createComplexSparseMatrixInList"</span></span> : <span class="hljs-string"><span class="hljs-string">"createComplexSparseMatrixInList"</span></span>, _iItemPos + <span class="hljs-number"><span class="hljs-number">1</span></span>); .... }</code> </pre> <br>  PVS-Studio message: V583 The '?:' Operator, regardless of its conditional expression, always returns one and the same value: "createComplexSparseMatrixInList".  api_list.cpp 2398 <br><br>  Regardless of the value of the '_iComplex' variable, ‚ÄúcreateComplexSparseMatrixInList‚Äù will always be printed. <br><br>  Similarly: <ul><li>  api_list.cpp 2411 </li><li>  api_list.cpp 2418 </li><li>  api_list.cpp 2464 </li><li>  api_list.cpp 2471 </li></ul>  Now consider an error handler that never gets control: <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> __GO_FIGURE__ 9 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> __GO_UIMENU__ 21 int sci_uimenu(char *fname, unsigned long fname_len) { .... </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (iParentType == __GO_FIGURE__ &amp;&amp; iParentType == __GO_UIMENU__) { Scierror(999, _(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"%s: Wrong type for input argument #%d: "</span></span></span><span class="hljs-meta">) _(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"A '%s' or '%s' handle expected.\n"</span></span></span><span class="hljs-meta">), fname, 1, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Figure"</span></span></span><span class="hljs-meta">, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Uimenu"</span></span></span><span class="hljs-meta">); return FALSE; } .... }</span></span></code> </pre> <br>  PVS-Studio warning: V547 Expression 'iParentType == 9 &amp;&amp; iParentType == 21' is always false.  Probably the '||'  operator should be used here.  sci_uimenu.c 99 <br><br>  The condition (iParentType == __GO_FIGURE__ &amp;&amp; iParentType == __GO_UIMENU__) is never satisfied.  The variable cannot be at the same time the number 9 and the number 21. I think they wanted to write here: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (iParentType != __GO_FIGURE__ &amp;&amp; iParentType != __GO_UIMENU__)</code> </pre> <br>  Another, especially sweet example. <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_view_property</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ BOOL status = FALSE; .... status = setGraphicObjectProperty( pobjUID, __GO_VIEW__, &amp;viewType, jni_int, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (status = TRUE) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SET_PROPERTY_SUCCEED; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Scierror(<span class="hljs-number"><span class="hljs-number">999</span></span>, _(<span class="hljs-string"><span class="hljs-string">"'%s' property does not exist "</span></span>) _(<span class="hljs-string"><span class="hljs-string">"for this handle.\n"</span></span>), <span class="hljs-string"><span class="hljs-string">"view"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SET_PROPERTY_ERROR ; } .... }</code> </pre> <br>  PVS-Studio warning: V559 Suspicious assignment of the operator: status: 1. set_view_property.c 61 <br><br>  Error here: "if (status = TRUE)".  Instead of comparing, assignment occurs. <br><br><h2>  Lack of choice </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/cf4/4ee/64b/cf44ee64b241230b263aa8d31097a84d.png" alt="Lack of choice"><br><br>  A function that can be clearly reduced.  Apparently, it was written using Copy-Paste, and they forgot to correct something in the copied code. <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uf_union</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">* uf, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> s, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> t)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (uf_find(uf,s) &lt; uf_find(uf,t)) { uf[uf_find(uf,s)] = uf_find(uf,t); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (uf_find(uf,t)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { uf[uf_find(uf,s)] = uf_find(uf,t); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (uf_find(uf,t)); } }</code> </pre> <br>  PVS-Studio warning: V523 The 'then' statement is equivalent to the 'else' statement.  taucs_scilab.c 700 <br><br>  Regardless of the condition, identical actions are performed. <br><br>  Now the situation is different.  Here are the conditions: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sci_xset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *fname, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">unsigned</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fname_len )</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">strcmp</span></span>(cstk(l1), <span class="hljs-string"><span class="hljs-string">"mark size"</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) .... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">strcmp</span></span>(cstk(l1), <span class="hljs-string"><span class="hljs-string">"mark"</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) .... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">strcmp</span></span>(cstk(l1), <span class="hljs-string"><span class="hljs-string">"mark"</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) .... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">strcmp</span></span>(cstk(l1), <span class="hljs-string"><span class="hljs-string">"colormap"</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) .... }</code> </pre> <br>  PVS-Studio warning: V517 The use of if (A) {...} else if (A) {...} 'pattern was detected.  There is a possibility of logical error presence.  Check lines: 175, 398. sci_xset.c 175 <br><br>  There are some more incorrect conditions: <ul><li>  sci_xset.c 159 </li><li>  h5_readdatafromfile_v1.c 1148 </li><li>  h5_readdatafromfile.c 1010 </li></ul><br><h2>  Classic </h2><br>  Perhaps, I singled out the most frequent bloop in C / C ++ programs.  At the beginning, the pointer is dereferenced, and only then it is checked for equality to zero.  This does not always lead to an error.  But ugliness, it is ugliness. <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">appendData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... sco_data *sco = (sco_data *) * (block-&gt;work); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxNumberOfPoints = sco-&gt;internal.maxNumberOfPoints; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numberOfPoints = sco-&gt;internal.numberOfPoints; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sco != <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> &amp;&amp; numberOfPoints &gt;= maxNumberOfPoints) .... }</code> </pre> <br>  PVS-Studio warning: V595 The 'sco' pointer was used before it was verified against nullptr.  Check lines: 305, 311. canimxy3d.c 305 <br><br>  At the beginning, accessed members using the 'sco' pointer: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxNumberOfPoints = sco-&gt;internal.maxNumberOfPoints; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numberOfPoints = sco-&gt;internal.numberOfPoints;</code> </pre> <br>  And then suddenly they remembered that this pointer should be checked: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sco != <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> .....</code> </pre> <br>  The analyzer issued 61 more V595 warnings.  I see no point in listing them in the article.  I <a href="http://www.viva64.com/external-pictures/txt/scilab-v595.txt">give</a> them a separate list: <a href="http://www.viva64.com/external-pictures/txt/scilab-v595.txt">scilab-v595.txt</a> . <br><br>  Another common situation is the use of incorrect format specifiers when working with the sprintf () function and similar ones.  Almost everything that was found is not interesting.  We print unsigned values ‚Äã‚Äãas signed.  Therefore, I cite all these warnings as a list: <a href="http://www.viva64.com/external-pictures/txt/scilab-v576.txt">scilab-v576.txt</a> . <br><br>  Of the interesting things, only this can be noted: <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> FORMAT_SESSION </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"%s%s%s"</span></span></span><span class="hljs-meta"> char *getCommentDateSession(BOOL longFormat) { .... sprintf(</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">line</span></span></span><span class="hljs-meta">, FORMAT_SESSION, SESSION_PRAGMA_BEGIN, STRING_BEGIN_SESSION, time_str, SESSION_PRAGMA_END); .... }</span></span></code> </pre> <br>  PVS-Studio warning: V576 Incorrect format.  A different number of actual arguments is expected while calling the 'sprintf' function.  Expected: 5. Present: 6. getcommentdatesession.c 68 <br><br>  The string SESSION_PRAGMA_END will not be printed. <br><br><h2>  Caution undefined behavior </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/7cf/c8a/512/7cfc8a5124c8ca08f23823920370878c.png" alt="Caution, indefinite behavior.  This is C ++!"><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">short</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ezxml_internal_dtd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">ezxml_root_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> root, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *s, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">size_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> len)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (*(n = ++s + <span class="hljs-built_in"><span class="hljs-built_in">strspn</span></span>(s, EZXML_WS)) &amp;&amp; *n != <span class="hljs-string"><span class="hljs-string">'&gt;'</span></span>) { .... }</code> </pre> <br>  PVS-Studio warning: V567 Undefined behavior.  The variable is modified while it is being used.  ezxml.c 385 <br><br>  It is not known whether the expression ‚Äú++ s' or the expression‚Äú strspn (s, EZXML_WS) ‚Äùwill be evaluated at the beginning. Accordingly, the result may differ on different compilers, platforms, and so on. <br><br>  Another more interesting case.  Here, undefined behavior arises from a typo. <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function"> **</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">replaceStrings</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; nr; i = i++) .... }</code> </pre> <br>  V567 Undefined behavior.  I'm variable is variable  csvread.c 620 <br><br>  The trouble here is: i = i ++. <br><br>  Apparently, I wanted to write this: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; nr; i++)</code> </pre> <br><h2>  More about strings </h2><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PLD_strtok</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((st-&gt;start)&amp;&amp;(st-&gt;start != <span class="hljs-string"><span class="hljs-string">'\0'</span></span>)) .... }</code> </pre> <br>  PVS-Studio warning: V528 It is odd that the pointer to the 'char' type is compared with the '\ 0' value.  Probably meant: * st-&gt; start! = '\ 0'.  pldstr.c 303 <br><br>  We wanted to check that the string is not empty.  But in fact, the pointer is compared twice with NULL.  The correct code is: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((st-&gt;start)&amp;&amp;(st-&gt;start[<span class="hljs-number"><span class="hljs-number">0</span></span>] != <span class="hljs-string"><span class="hljs-string">'\0'</span></span>))</code> </pre> <br>  Similar blooper: <br><br>  V528 It is odd that the pointer to the 'char' type is compared with the '\ 0' value.  Probably meant: ** category == '\ 0'.  sci_xcospalload.cpp 57 <br><br>  The following code does not appear to be complete: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sci_displaytree</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *fname, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">unsigned</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fname_len)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> szCurLevel = <span class="hljs-string"><span class="hljs-string">""</span></span>; .... <span class="hljs-comment"><span class="hljs-comment">//Add node level if (szCurLevel != "") { szCurLevel + "."; } .... }</span></span></code> </pre> <br>  PVS-Studio warning: V655 The strings was concatenated but are not used.  Consider inspecting the 'szCurLevel + "."' Expression.  sci_displaytree.cpp 80 <br><br><h2>  Code that works because of luck </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/9b6/63d/cf7/9b663dcf7b139d37c9e275698cab195d.png" alt="Luck"><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sci_toprint_two_rhs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">* _pvCtx, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *fname)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-built_in"><span class="hljs-built_in">sprintf</span></span>(lines, <span class="hljs-string"><span class="hljs-string">"%s%s\n"</span></span>, lines, pStVarOne[i]); .... }</code> </pre> <br>  PVS-Studio Warning: V541 It is dangerous to print the string 'lines' into itself.  sci_toprint.cpp 314 <br><br>  The sprintf () function saves the result of its work to the 'lines' buffer.  In this case, the same buffer is one of the input lines.  So doing is not good.  The code may well work.  But it is dangerous.  When changing the compiler, you can get an unexpected and unpleasant result. <br><br>  Similar situation: sci_coserror.c 94 <br><br>  Sample code that works, although not true: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JavaVMOption</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *optionString; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> *extraInfo; } JavaVMOption; JavaVMOption *options; <span class="hljs-function"><span class="hljs-function">BOOL </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startJVM</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *SCI_PATH)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-built_in"><span class="hljs-built_in">fprintf</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"%d: %s\n"</span></span>, j, vm_args.options[j]); .... }</code> </pre> <br>  PVS-Studio warning: V510 The 'fprintf' function is not expected.  jvm.c 247 <br><br>  Here they wanted to print the string referenced by the 'optionString' pointer.  The correct code should have been: <br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">fprintf</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"%d: %s\n"</span></span>, j, vm_args.options[j].optionString);</code> </pre> <br>  But in fact, the fprintf () function will take an object of type JavaVMOption as an argument.  The code works thanks to a wonderful coincidence of circumstances. <br><br>  First, the 'optionString' member is located at the beginning of the structure.  Therefore, it is this function that fprintf () will take and process it as a pointer to a string. <br><br>  Secondly, after this function does not print anything.  Therefore, garbage will not be printed (the contents of the 'extraInfo' variable, which will also go on the stack). <br><br>  Hallelujah! <br><br><h2>  Idle cycle </h2><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reinitdoit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *told)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> keve = <span class="hljs-number"><span class="hljs-number">0</span></span>, kiwa = <span class="hljs-number"><span class="hljs-number">0</span></span>; .... kiwa = <span class="hljs-number"><span class="hljs-number">0</span></span>; .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; kiwa; i++) .... }</code> </pre> <br>  V621 Consider inspecting the 'for' operator.  It is possible that you will not be executed at all.  scicos.c 4432 <br><br>  There is something wrong here.  The variable 'kiwa' is always zero.  The cycle is not executed.  Perhaps the code is unfinished. <br><br><h2>  What is not included in the article </h2><br>  To be honest, I'm already tired of looking through the report and writing this article.  So I decided to stop.  Perhaps, it was possible to mention about a couple of suspicious places.  But I considered them irrelevant, and laziness triumphed.  Plus, I probably missed something, because I am not familiar with the project.  Therefore, I recommend the authors to independently verify the project using the <a href="http://www.viva64.com/ru/pvs-studio/">PVS-Studio</a> analyzer. <br><br>  <b>Note.</b>  To those who decided to check the project once and not buy an analyzer, I want to remind you that this is a completely meaningless action.  The whole essence of static analysis in regular checks, and not in one-time runs.  You make a typo and the analyzer immediately detects it.  The time for testing, debugging and working with errors appearing in the bug tracker is reduced.  See also the article: " <a href="http://www.viva64.com/ru/b/0105/">Leo Tolstoy and Static Code Analysis</a> ". <br><br><h2>  Note </h2><br>  Be sure someone asks which version of Scilab was checked.  Unfortunately, not the freshest.  About a month and a half, I checked this project, wrote out suspicious code fragments.  And ... And I forgot about this file.  There was a lot of work involved in <a href="http://www.viva64.com/ru/b/0241/">comparing analyzers</a> .  Now I came across this file, and for a long time I remembered what it was.  I check so many projects that everything in my head is already messed up, and I don‚Äôt even remember whether I was watching a project or not. <br><br>  However, nothing terrible.  Now I will write this article.  Scilab authors will see it and check the project themselves.  The purpose of my articles is to show the possibilities of the static analysis methodology, and not to find errors in the most recent version of the project. <br><br><h2>  Conclusion </h2><br>  Use static analysis on a regular basis.  You will reduce the time to eliminate stupid mistakes and be able to spend more time on something useful. <br><br>  For medium and large projects where night checks are required, analyzer refinement, integration with MSBuild, support of Visual Studio 2005/2008, and so on, we offer the PVS-Studio tool. <br><br><h2>  Additional links </h2><br><ol><li>  Terminology.  <a href="http://www.viva64.com/ru/t/0046/">Static code analysis</a> . </li><li>  Andrey Karpov.  <a href="http://www.viva64.com/ru/b/0228/">Alternative to PVS-Studio for $ 250</a> . </li><li>  Andrey Karpov, Evgeny Ryzhkov, Pavel Eremeev, Svyatoslav Razmyslov.  <a href="http://www.viva64.com/ru/b/0241/">Comparison of code analyzers: CppCat, Cppcheck, PVS-Studio, Visual Studio</a> .  ( <a href="http://www.viva64.com/ru/a/0086/">comparison methodology</a> ). </li></ol><br><br><h2>  This article is in English. </h2><br>  If you want to share this article with an English-speaking audience, then please use the link to the translation: Andrey Karpov.  <a href="http://www.viva64.com/en/b/0244/">Mathematicians: Trust, but Verify</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Read the article and have a question?</b> <div class="spoiler_text">  Often our articles are asked the same questions.  We collected the answers to them here: <a href="http://www.viva64.com/ru/a/0085/">Answers to questions from readers of articles about PVS-Studio and CppCat, version 2014</a> .  Please review the list. <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/217557/">https://habr.com/ru/post/217557/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../217543/index.html">Artem Gavrichenkov, Qrator - DDoS-attacks [Video lecture]</a></li>
<li><a href="../217545/index.html">How to lie with the help of statistics</a></li>
<li><a href="../217547/index.html">4 ways to free download daily and step by step information from US stock exchanges</a></li>
<li><a href="../217551/index.html">Flying camera walks</a></li>
<li><a href="../217553/index.html">5 reasons why OS Android Wear will become the leader</a></li>
<li><a href="../217559/index.html">Useful materials for mobile developer # 46 (March 24-30)</a></li>
<li><a href="../217561/index.html">How to easily convert a web page to PDF?</a></li>
<li><a href="../217563/index.html">Renewable sources are not enough. Clean coal is the energy source of the near future.</a></li>
<li><a href="../217565/index.html">Neurointegrum Media Fiction</a></li>
<li><a href="../217567/index.html">Installing InterSystems Cach√© and GlobalsDB on Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>