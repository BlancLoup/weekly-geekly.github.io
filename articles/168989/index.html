<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Review of Mark Siman's book "Dependency Injection in .NET"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When opening a book on ‚Äúnew-fangled engineering design‚Äù, such as dependency inversion, you expect to see a description of another silver bullet. Say, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Review of Mark Siman's book "Dependency Injection in .NET"</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/09b/4c4/be3/09b4c4be318083617c2b3af172e4d121.jpg"><br><br>  When opening a book on ‚Äúnew-fangled engineering design‚Äù, such as dependency inversion, you expect to see a description of another silver bullet.  Say, here, before that, we all lived wrong, and now, armed with a <s>crowbar</s> container and some mother, we can write new applications in 10 minutes. <br>  Since I myself treat such modern tools with some caution, I was pleasantly surprised that Mark focuses on conventional design practices, the role of standard design patterns, and in general, considers the principles of dependency management in isolation from specific tools. <br><a name="habracut"></a><br><br>  <strong>QUOTE</strong> <br>  <i>If you think that</i> <i>DI</i> <b><i>requires the</i></b> <i>use of a</i> <i>DI</i> <i>container, then this is another point that needs to be retrained.</i>  <i>DI</i> <i>is a set of principles and patterns, and a</i> <i>DI</i> <i>container is a useful but <b>optional</b> tool.</i> <br>  Looking at the typical use of dependency inversion in many projects, one gets the impression that DI contradicts the basic design principles that <a href="http://sergeyteplyakov.blogspot.com/2012/03/blog-post_19.html">Meyer</a> and Butch write about so much. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For the sake of supposedly ‚Äúloosely coupled design‚Äù, dozens of unnecessary interfaces are allocated, containers themselves are used to the right and left as Service Locators, classes with a dozen constructor parameters are created, the required class dependencies are passed through properties, etc.  Looking at all this, it seems that DI containers contradict such things as class invariants and a <a href="http://sergeyteplyakov.blogspot.com/search/label/Design%2520by%2520Contract">clear contract</a> between the class and its customers. <br><br>  <strong>QUOTE</strong> <strong><br></strong>  <i>DI</i> <i>is not an end in itself.</i>  <i>Dependency management leads to</i> <i>loose</i> <i>coupling</i> <i>(</i> <i>loose</i> <i>coupling</i> <i>), which leads to more followed code.</i> <br>  Mark begins by trying to dispel the main myths about DI, and only then begins to describe the main concepts.  So, the author from the first pages says that the Service Locator is an anti-pattern and the container should be used only in one place, in the ‚Äúapplication root‚Äù (in the so-called <a href="http://sergeyteplyakov.blogspot.com/2013/01/blog-post.html">Composition Root</a> ), says that IOC! = DI, writes problems with using configuration files to manage container content and more. <br><br>  <strong>QUOTE</strong> <br>  <i>Do not expect that using</i> <i>DI</i> <i>containers will magically make your code loosely coupled.</i>  <i>A DI</i> <i>container can make dependency management more efficient, but your application should primarily be designed with the</i> <i>DI</i> <i>technician and principles</i> <i>in mind</i> <i>.</i> <br><br>  I was very pleased that the main goal of the book was not to consider specific libraries, but focused on general principles of dependency management and showed the connection of these principles with standard design patterns and OO principles (because most classical design patterns use dependency management in one form or another. : so, the decorator uses <a href="http://sergeyteplyakov.blogspot.com/2012/12/di-constructor-injection.html">Constructor Injection</a> , and the strategy - Method Injection or Constructor Injection, etc.). <br><br>  During the first three parts, no containers are used at all, and all examples use ‚Äúself-made‚Äù dependency management (the so-called Poor Man's DI). <br><br>  <strong>QUOTE</strong> <br>  <i>A DI</i> <i>container is only a tool, and like any tool, it can be used correctly, and you can use it incorrectly.</i> <br><br>  I was very pleased that in addition to the principles and patterns themselves, the author also describes when they are applicable and when not.  Any pattern has its own scope, one of them is suitable in one case and not in the other.  And some patterns in general seem very attractive, but in fact it turns out that their use can lead to serious problems.  It is for this reason that the whole part of the book is devoted to basic DI-patterns and anti-patterns;  and although this does not guarantee their correct use in our projects, it provides enough food for thought, and makes the chances of using this tool in the right way as large as possible. <br><br>  <strong>QUOTE</strong> <br>  <i>An excessive number of constructor parameters (</i> <i>Constructor</i> <i>Over</i> <i>-</i> <i>injection</i> <i>) is not a problem of managing dependencies in general, and passing dependencies through a constructor (</i> <i>Constructor</i> <i>Injection</i> <i>), in particular.</i>  <i>Rather, it is an indicator that the class in question has too many responsibilities.</i>  <i>This</i> <i>code</i> <i>smell</i> <i>comes from the class, not from passing dependencies through the constructor;</i>  <i>and we, as usual, should use it as an incentive to improve our code.</i> <br><br>  If you look at different DI containers, you can notice that the same concepts are called differently in many places.  Any container supports a certain set of life-time dependency management strategies, and although many of them are very similar, they are often called differently. <br><br>  In this regard, the book solves two additional tasks.  First, the author introduces consistent terminology (Auto Wiring, Composition Root, Bastard Injection etc), and second, it gives knowledge of basic principles that can be used with or without any container.  This knowledge can be safely <a href="http://sergeyteplyakov.blogspot.com/2012/02/blog-post.html">reused</a> , which will save time on learning new libraries, and also allow you to see the whole picture of dependency management. <br><br>  <strong>QUOTE</strong> <br>  <i>Adding stitches to an application requires extra effort, so adding them is only necessary.</i> <br>  (Mark on the allocation of interfaces and the creation of additional <i>seams of the</i> application) <br><br>  This book has one drawback - this is the last fourth part, devoted to the description of six DI-containers.  I got the impression that the author thought that a book of 350 pages does not look solid, or else the main KPI for him was exactly the number of pages. <br><br>  In any case, the efficiency of the last 200 pages is extremely small.  The first problem is that each container is a serious enough monster, and it can not be described on 50 pages.  Secondly, the author made a reasonable attempt to unify the description of each container, which led to a large number of ‚Äúcopy-paste‚Äù (up to the same paragraphs), and the absence of a description of the unique capabilities of the containers. <br>  As a result, 200 pages are almost wasted, since the current description is only enough to compare the most key points, but not enough even to select the container for your project, not to mention their full use. <br><br>  <b>Summing up</b> , I want to say that <a href="http://www.amazon.com/Dependency-Injection-NET-Mark-Seemann/dp/1935182501">‚ÄúDependency Injection in .NET‚Äù</a> is the most complete and consistent source of information on dependency management.  <b>I would recommend the first 3 parts of this book for mandatory reading to all teams that use</b> <b>DI</b> <b>containers in their projects.</b> <br><br>  <b>Rating</b> : 5+ (for parts 1-3) and 2 (for part 4). </div><p>Source: <a href="https://habr.com/ru/post/168989/">https://habr.com/ru/post/168989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../168979/index.html">Results of a uniform rating of web studios 2013</a></li>
<li><a href="../168981/index.html">Monitor the health of HP Proliant servers at nagios / icinga. Plugins check_hpasm and check_ilo2_health.pl</a></li>
<li><a href="../168983/index.html">The buzz around Nokia‚Äôs early collapse is unjustified, or what are analysts keeping back?</a></li>
<li><a href="../168985/index.html">About long life and imminent death of magnetic stripe cards</a></li>
<li><a href="../168987/index.html">SMS payments: how it works</a></li>
<li><a href="../168991/index.html">VDI & APP-V 5.0 & RDS Windows Server 2012 from ex-architect Microsoft</a></li>
<li><a href="../168993/index.html">Small talk about dough-driven baking</a></li>
<li><a href="../168997/index.html">We move information about users in Active Directory and Sharepoint using PowerShell</a></li>
<li><a href="../168999/index.html">Motion system do-it-yourself for $ 13</a></li>
<li><a href="../169001/index.html">Formula white mane horses: perlin noise in pictures</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>