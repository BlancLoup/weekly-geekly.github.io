<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Secure SOCKS5 proxy for Telegram for 1 Euro and 10 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not all proxies are equally useful. In the wake of news about the blocking of the Telegram messenger, it became important to raise its SOCKS5 proxy, s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Secure SOCKS5 proxy for Telegram for 1 Euro and 10 minutes</h1><div class="post__text post__text-html js-mediator-article">  Not all proxies are equally useful.  In the wake of news about the blocking of the Telegram messenger, it became important to raise its SOCKS5 proxy, since it is not safe to use someone else's - it is not known who owns the servers, what software is used on them, and what vulnerabilities are in it.  In addition, public proxies are often very slow, since a large number of clients simultaneously ‚Äútry‚Äù to use it, overloading server resources.  Under the cut instructions on how to quickly set up a private SOCKS5 proxy with authentication for 1 euro and 10 minutes of time and the ability to further expand server protection with enhanced authentication. <a name="habracut"></a><br><br>  I decided to check the offer of the Italian hosting provider <a href="http://aruba.it/">Aruba</a> , which offers VPS for 1 euro per month with a white IP included in this price.  For 1 euro I got a combat server with 1 core.  1 GB of memory, 20 GB of storage, 2 TB of traffic per month.  As the operating system, I chose my favorite Ubuntu server 16.04.  As a proxy server - Dante. <br><br>  OS installation is performed when configuring the server from a template.  After 2-3 minutes after creation, the machine will be ready for SSH using the set password or a loaded SSH key (in the same web admin area). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I‚Äôll just say that the proxy authentication by the system user does not work in the package provided in the distribution, and we don‚Äôt need an open proxy.  We will use the source distribution and build Dante ourselves, since the build process on our OS goes without a single error.  So let's get started: <br><br>  We register on arubacloud, we start a server for 1 euro, we create a Ubuntu Server 16 OS using a template. <br><br>  We go via SSH to our server, download and collect Dante. <br><br><pre><code class="bash hljs">wget https://www.inet.no/dante/files/dante-1.4.1.tar.gz tar -xvf dante-1.4.1.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> dante-1.4.1 apt-get install gcc make mkdir /home/dante ./configure --prefix=/home/dante make make install</code> </pre> <br>  The correctness of the installation can be checked by entering <br><br><pre> <code class="bash hljs">/home/dante/sbin/sockd -v</code> </pre> <br>  Download the settings file <br><br><pre> <code class="bash hljs">wget -O /home/dante/danted.conf https://demo.a-rd.ru/danted.conf</code> </pre> <br>  The configuration, if used on the platform described, is no different, i.e. by default it is.  Everything you need is already there. <br><br><pre> <code class="bash hljs">logoutput: /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/socks.log internal: eth0 port = 1080 <span class="hljs-comment"><span class="hljs-comment">#           1080 external: eth0 #     method: username user.privileged: root #        user.notprivileged: nobody client pass { from: 0.0.0.0/0 to: 0.0.0.0/0 #   ,      log: error connect disconnect } client block { from: 0.0.0.0/0 to: 0.0.0.0/0 log: connect error } pass { from: 0.0.0.0/0 to: 0.0.0.0/0 log: error connect disconnect } block { from: 0.0.0.0/0 to: 0.0.0.0/0 log: connect error }</span></span></code> </pre> <br>  To run, run <br><br><pre> <code class="bash hljs">/home/dante/sbin/sockd -f /home/dante/danted.conf -D</code> </pre> <br>  The binary is in <br><br><pre> <code class="bash hljs">home/dante/sbin/</code> </pre> <br>  To stop <br><br><pre> <code class="bash hljs">pkill sockd</code> </pre> <br>  Let's create a system user, which we will use for our proxy (without the ability to log in via SSH). <br><br><pre> <code class="bash hljs">useradd --shell /usr/sbin/nologin username</code> </pre> <br>  Set him a password <br><br><pre> <code class="bash hljs">passwd username</code> </pre> <br>  Restart Dante with our config <br><br><pre> <code class="bash hljs">pkill sockd /home/dante/sbin/sockd -f /home/dante/danted.conf -D</code> </pre><br>  If you restart the server, Dante will need to be started manually. <br><br>  Now you need to connect the proxy in the settings of the Messenger: Settings&gt; Data and Disk -&gt; Use Proxy -&gt; SOCKS5.  We enter our IP, 1080 port, login and password for the created user.  The setting is available for all Telegram desktop applications in the Advanced Settings -&gt; Connection Type -&gt; TCP with Proxy section. <br><br>  As it should be in the world of information security, immediately after setting up, you need to spend some more time protecting your server, namely access to the console via SSH.  To do this, I recommend replacing the traditional approach to protecting access with the traditional ‚Äúlogin-password‚Äù pair with specialized devices to provide secure access based on asymmetric cryptography, in our example, these are JaCarta PKI USB tokens.  In this scenario, you will log in to the server using a certificate, the private key of which is located in the JaCarta PKI device itself and cannot be retrieved.  How to do this is described in this <a href="https://habrahabr.ru/company/aladdinrd/blog/327868/">article</a> . <br><br>  If you do not want to use devices for strong authentication based on asymmetric cryptography, you can configure one-time password (OTP) logins with the JaCarta Authentication Server service.  An article about this can be found <a href="https://habrahabr.ru/company/aladdinrd/blog/331908/">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/353738/">https://habr.com/ru/post/353738/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353728/index.html">How to increase the number of friends in the company</a></li>
<li><a href="../353730/index.html">Mikrotik RoS, useful things</a></li>
<li><a href="../353732/index.html">Crypto Trading Automation with Django and Celery</a></li>
<li><a href="../353734/index.html">Concepts of distributed architecture, which I met when building a large payment system</a></li>
<li><a href="../353736/index.html">Digest news from the world of PostgreSQL. Issue number 5</a></li>
<li><a href="../353740/index.html">Global lighting using voxel cone tracing</a></li>
<li><a href="../353744/index.html">Red Hat is heading for a hybrid cloud with Enterprise Linux 7.5: what does it mean</a></li>
<li><a href="../353746/index.html">How Sberbank Online applications work: Workflow API and frameworks</a></li>
<li><a href="../353748/index.html">It is not Android. Features of the development under Wear OS</a></li>
<li><a href="../353750/index.html">How fraudsters trick cryptocurrency users, and how to protect digital assets: 3 practical tips</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>