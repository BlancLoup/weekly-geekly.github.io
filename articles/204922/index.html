<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sudoku Development for Windows 8.1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have long wanted to develop an application for Windows 8. However, I began to embody the dream as soon as Windows 8.1 was released. I looked at the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sudoku Development for Windows 8.1</h1><div class="post__text post__text-html js-mediator-article">  I have long wanted to develop an application for Windows 8. However, I began to embody the dream as soon as Windows 8.1 was released.  I looked at the application store, but it is empty, especially in Russian there is almost nothing, and what is - with the translation via google translate. <br>  In this article I will try to note the most interesting moments connected with the development of an application for win 8.1. <br>  Question: where to start development?  I want something simple and useful for myself.  So: Sudoku. <br><a name="habracut"></a><br><br><h3>  Sudoku windows 8.1 </h3><br><br><img src="https://habrastorage.org/getpro/habr/post_images/346/c2b/131/346c2b131bde03b5ff21399ec32a7c1e.jpg" alt="Sudoku windows 8.1 development">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  Sudoku is a 9x9 square that is divided into smaller 3x3 squares. <br>  The goal of the game is to fill the free cells with numbers from 1 to 9 so that in each column, row and in the small square each number meets only once. <br></blockquote><br><br><h3>  Training </h3><br>  To develop a mobile application on Windows 8.1 you will need: <br><ul><li>  Microsoft Visual Studio 2013 </li><li>  Blend 2013 </li><li>  The idea of ‚Äã‚Äãthe application </li><li>  Design or layout of the application </li></ul><br>  I divided the solution into 2 projects: Core and a project for Windows 8.1.  Core made all the main modules that can be used on other platforms.  This is an implementation of the algorithm, enumeration and data model). <br>  Core is created as a <strong>Portable</strong> <strong>Class</strong> <strong>Library</strong> .  What a surprise when I didn‚Äôt find in it support for async / await and some other classes from the standard .NET set.  This is solved by connecting nuget packages: <strong>Microsoft.Bcl</strong> , <strong>Microsoft.Bcl.Async</strong> , <strong>Microsoft.Bcl.Build,</strong> and additionally connecting <strong>Newtonsoft.Json</strong> for data serialization. <br><br><h3>  Application life cycle </h3><br>  All applications for the Windows app store follow this life cycle (see picture).  When the application starts, it gets the status of Running.  Then, when the user shuts down or collapses the application, or in other cases, the program will receive a notification about Suspending.  If the operating system decides to close the application from Suspended mode, there will be no additional notifications.  If the application is restored from this mode, there will be a corresponding notification. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/07a/598/114/07a598114ae651b8b88ed2f58928cce3.png" alt="windows 8.1 lifecycle"><br><br>  The application does not receive a closing notification.  The only way to save important user data is to handle the <code>OnSuspending</code> event in <code>App.xaml.cs</code>  In order to test switching between modes, you need to enable an additional <strong>ToolBar (DebugLocation)</strong> , an application control panel will appear. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b86/414/1f2/b864141f22e0edf05c45ab47a4748afd.jpg" alt="suspend toolbar"><br><br>  When creating a project, VS creates additional classes.  One of them is <code>SuspensionManager</code> , which creates wrappers for asynchronous saving and restoring data.  It is important to do this asynchronously, so that, firstly, the user does not wait for the application to load / unload, secondly, because the application is given a certain final time to save its state. <br><br><h3>  Graphics </h3><br>  There were a lot of surprises with graphics.  A huge plus OS, that it is supported on many devices.  But for this you need to do everything right. <br>  As for the images: you need to upload them in several scales.  The file is loaded by the usual name, and physically in the project there are, for example, the following files: <strong>en-us \ logo.scale-100.png, en-us \ logo.scale-140.png</strong> .  Something similar is with iOS development, where images are saved in 2 sizes (retina and not retina) and are named <strong>image@2x.png</strong> and <strong>image.png,</strong> respectively. <br>  In Windows 8.1 (and 8 too) you need to prepare 4 image sizes for scales: 80, 100, 140, 180. You can read more about this <a href="http://oxozle.com/2013/11/05/ikonki-i-grafika-dlya-windows-8-i-windows-phone-8">in Russian</a> and <a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh965324.aspx">here (msdn)</a> . <br>  In my project, I chose a background of the maximum size and did not create additional images, but set <strong>Stretch = UniformToFill.</strong> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a6f/7a2/1f2/a6f7a21f2f6105f0821da7a23b8bcaa2.jpg" alt="Uniform C # image"><br><br>  Special attention is given to the creation of a logo.  Here I had to tinker and create it in all recommended sizes, so there were a lot of files: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/113/736/2e0/1137362e0d3116461da3749bd5562157.png" alt="logo windows 8.1 apps"><br><br><h3>  Application structure </h3><br>  It was decided to make the application on the same page (and more is not needed).  I wanted a simple application, without annoying forms, WITHOUT ADVERTISEMENT.  A simple application for the game.  I found that it is possible to launch Desktop applications with an application attached from Snapped from a store, which turned out to be very convenient on widescreen monitors.  So in the list of women, this mode was added to the portrait and Filled.  Total 4 options for the structure of the application. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ec/e51/970/6ece5197020abad8ae1c08ccc697d837.jpg" alt="snapped view"><br><br><h3>  Blend </h3><br>  The Blend tool itself is convenient for creating the design of the application (if you do not pay attention to its frequent errors).  On the game page I placed all the controls in advance, and in the dynamics when changing the size or mode I will switch them. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d4/369/06e/9d436906e020d44f41b7edb85bfe2398.png" alt="blend C #"><br><br>  Further, depending on the position of the screen, I change the size.  IMPORTANT to change font size too.  Since  15 pt on a 2500px monitor will be less than noticeable. <br>  I do something like this: <br><div class="spoiler">  <b class="spoiler_title">Resize Code</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">double</span></span> scaleFactor = stackControlsWidth / StyleHelper.StackControlsBaseWidth; <span class="hljs-comment"><span class="hljs-comment">//   ,      . private void GamePage_OnSizeChanged(object sender, SizeChangedEventArgs e) { #region    ApplicationViewState state = ApplicationViewState.FullScreenLandscape; ApplicationViewOrientation orientation = ApplicationView.GetForCurrentView().Orientation; double pageWidth = this.ActualWidth; bool isSnapped = pageWidth &lt; StyleHelper.SnappedMinWidth; if (orientation == ApplicationViewOrientation.Portrait &amp;&amp; !isSnapped) { state = ApplicationViewState.FullScreenPortrait; } else { if (isSnapped) { state = ApplicationViewState.Snapped; } else if (StyleHelper.IsFilledMinWidthByScreenSize(pageWidth)) { state = ApplicationViewState.Filled; } else { state = ApplicationViewState.FullScreenLandscape; } } #endregion //      }</span></span></code> </pre><br></div></div><br><br><h3>  Panes </h3><br>  As an element from the new management system for the Panes application settings, it was decided to add at least 1 Pane (About the application). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b2b/556/43f/b2b55643f076973791affa8691da3bec.png" alt="windows 8.1 panes"><br><br><div class="spoiler">  <b class="spoiler_title">Connect it as follows</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnWindowCreated</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">WindowCreatedEventArgs args</span></span></span><span class="hljs-function">)</span></span> { SettingsPane.GetForCurrentView().CommandsRequested += OnCommandsRequested; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnCommandsRequested</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SettingsPane sender, SettingsPaneCommandsRequestedEventArgs args</span></span></span><span class="hljs-function">)</span></span> { args.Request.ApplicationCommands.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SettingsCommand( <span class="hljs-string"><span class="hljs-string">"About"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, (handler) =&gt; ShowCustomSettingFlyout())); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShowCustomSettingFlyout</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { AboutFlyout CustomSettingFlyout = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AboutFlyout(); CustomSettingFlyout.Show(); }</code> </pre><br><br></div></div><br><br><h3>  Themes </h3><br>  2 additional View created to select a new game and congratulations on the successful passage of the current <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d2f/19c/a87/d2f19ca8775833e1ef44fba8579dcbaa.png" alt="xaml C # windows 8.1"><br><br>  These views also need to be made scalable. <br><br><h3>  Publication </h3><br>  The publishing process turned out to be very interesting.  Surprisingly, the application was published in the store total account for 8 hours, taking into account one failure. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/34d/516/0bb/34d5160bbf40512345768fbc4f9208e5.png" alt="windows 8.1 cert"><br><br>  Refused due to the lack of a certificate of age for the game.  It turns out that in Russia a certificate of age is required for games. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fcf/c64/8b5/fcfc648b5d29487cc03e48e12f61b46b.png" alt="windows 8.1 cert 2"><br><br>  According to the documentation created a certificate and sent for moderation again.  The second time the application passed all the checks in 2 hours and turned out to be available in the store.  It is worth noting that the application is very simple.  Does not contain network connectivity or other features.  Also, there is no need to talk about any content that can be checked, it simply does not exist. <br><br><h3>  Results </h3><br>  Developed an application for <strong>40</strong> hours.  Truth made him 1 month.  The application turned out easy, fast and, in my opinion, convenient to use.  The first version did not get the initial ideas, such as: cancellation of the move, hints, table of results (from the server).  I think I will do it in updates if there are people willing and playing. <br><br>  Support for all screen resolutions and 4 application modes (Full, Filled, Snapped, Portrait). <br><br>  Published application without ads and SMS, now I am doing the WinPhone version.  If you want to help, I‚Äôm ready to open the source code and publish it in co-authorship (Win 8.1 has done so). <br><br> <a href="http://apps.microsoft.com/windows/ru-ru/app/hd/7d09713a-1407-424f-b41b-8b6e270ac475"><img src="https://habrastorage.org/getpro/habr/post_images/2e8/7b0/cf4/2e87b0cf43c189e8b16a3df9ebeda209.jpg" alt="Sudoku hd"></a> </div><p>Source: <a href="https://habr.com/ru/post/204922/">https://habr.com/ru/post/204922/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204912/index.html">Board games: what is played in IT offices this year</a></li>
<li><a href="../204914/index.html">Serious design of a serious store. Part 1. We investigate and think over the functionality.</a></li>
<li><a href="../204916/index.html">Statement by the Central Bank of China brought down the course of Bitcoin</a></li>
<li><a href="../204918/index.html">The study of charity in RuNet: the most popular way to transfer money - SMS</a></li>
<li><a href="../204920/index.html">The building was turned into a working "Rubik's Cube" with the help of Arduino</a></li>
<li><a href="../204924/index.html">NASA plans to send live plants to the moon in 2015 as part of Google‚Äôs Lunar X Prize program</a></li>
<li><a href="../204926/index.html">Design Camp - software update and mini contest for Habr</a></li>
<li><a href="../204930/index.html">Do you scrape your own music?</a></li>
<li><a href="../204932/index.html">Manage DB Changes with Embarcadero DB Change Manager</a></li>
<li><a href="../204936/index.html">10 deadly sins when using pop-ups on the site</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>