<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating an enterprise - the solution of tomorrow</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are grateful for the preparation of the article Pavel Kovtun - CEO of Mycroft Assistant. Pavel more than 12 years 
 specializes in business automat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating an enterprise - the solution of tomorrow</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  <em>We are grateful for the preparation of the article Pavel Kovtun - CEO of Mycroft Assistant.</em>  <em>Pavel more than 12 years</em> <em><br></em>  <em>specializes in business automation and supply chain management. He is the author of unique analysis and decision-making techniques at SCM, the creator of the first innovative expert-level inventory management system.</em> <em><br></em> </blockquote><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ed/e60/d51/6ede60d51872ca23443db549f4080990.png"></div><br><a name="habracut"></a><br>  The task of any business is the effective use of available resources.  For a business working with goods, one of the main problems is the effective investment of money in a negotiable product - there must always be as many stocks as necessary.  If it is more than needed ( <b>overstock</b> ), then the money is invested inefficiently, if it is less ( <b>out-of-stock</b> ) - that is, the probability of missed sales, poor quality of service and lost customers.  The result - the wrong solution leads to lost money. <br><br>  The management of the supply chain, <b>Supply Chain Management</b> , is responsible for solving this problem.  The mechanisms used to solve problems are associated with processing large data arrays, mathematical modeling, using statistical methods, solving optimization problems and machine learning. <br><br>  Most companies solve supply problems simply by using Excel calculations, manually collecting data, trivial formulas and a pledged error, which is insignificant at low company speeds.  And up to a certain size and turnover of the company, this option is suitable - it is possible to scale the calculations, hiring new managers.  But with the growth of the company, the accumulated error and the increasing amount of data do not allow all calculations to be made ‚Äúin manual mode‚Äù - the work efficiency drops so much that as a result of the constant mass of wrong decisions, the inefficiency of using working capital can reach 30%. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  <font color="#0078AB">What to do business</font> </h1><br>  To solve these problems, there is a special class of systems called <b>Expert Supply Chain Management (expert-SCM)</b> .  Such solutions independently monitor data on current sales and the available balances of each of the goods in all outlets (warehouses).  And they do it not only for you, but also for other participants of the supply chain.  Having these data, taking into account the individual characteristics of sales of goods, online processing of the entire gigantic data array, making decisions about which product you need to invest money and at which outlet it should be delivered now, so that there are no problems in the future. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/59d/f88/c87/59df88c87139574f3753b6a6f61ee3ef.png"></div><br><br>  Our solution - Mycroft Assistant ( <a href="http://mycroftbs.ru/"><u></u></a><u><a href="http://mycroftbs.ru/">mycroftbs.ru</a></u> ) is one of the leading cloud representatives of Expert-SCM solutions for <b>SMB</b> .  We have been involved in SCM solutions for more than 5 years, and our customers confirm the cost-effectiveness of using our solutions in business. <br><br>  Two years ago we decided to collect our achievements and accumulated experience in this area, creating a product that solves the problems of our clients in the most optimal way.  At the same time, we set two tasks for SCM Mycroft Assistant: <br><br><ol><li>  give <b>maximum business efficiency</b> (usability, speed of integration and deployment, work result, the ability to unite all participants in the supply chain), <br></li><li>  have an optimal <b>modern technical implementation</b> (architecture, speed of calculations, used methods and approaches). <br></li></ol><br>  The important point was to enable the wide use of our solution to a large number of clients and the possibility of their interaction with each other within a single supply chain.  The result was a solution that was <b>affordable</b> and accessible to most SMB customers, so it was necessary to take into account the high load on the system.  As a result, we got the enterprise application of tomorrow. <br><br><h1>  <font color="#0078AB">How did we design MycroftAssistant?</font> </h1><br>  We initially decided that this would be a cloud solution implemented on the Microsoft technologies stack (Azure, ASP.NET, MS SQL) that proved to be familiar to clients and would be able to work as flexibly as possible: <br><br><ul><li>  <b>Onpremise</b> - in an individual cloud for those who want to manage their data on their own <br></li><li>  <b>Multi-Tenant</b> is a cloud-based <b>SaaS solution</b> for most clients on a shared cloud, <br></li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/607/63d/35060763df2b00467eec211a641608f3.jpg"></div><br>  Although we started developing on our server in collocation in the data center, it was originally planned for production to use the Azure cloud for both business reasons and technical reasons: <br><br><ol><li>  <b>Architecture Azure</b> offers a ready-made pool of solutions and modules, in the logic of which our architecture is implemented.  So we did not have to create a complex of replicated VMs.  At the same time, we obtained optimal <b>reliability</b> and <b>scalability</b> , which will allow us to easily scale the business, without worrying about technical problems and not inventing ‚Äúcrutches‚Äù to solve those problems that have already been solved with Azure capabilities <br></li><li>  Despite the reduced performance relative to its collocation server, the economic effect of a high level of fault tolerance covers these ‚Äúestimated‚Äù costs.  So we do not worry about the stability of our own servers, and give a high level of customer service. <br></li><li>  Azure allows you to place access points to the server closer to the clients.  For us, this is relevant, since our clients are located in Russia, America and Europe.  The ability to reduce latency access to the server, moving it closer to the client is a great advantage that is not a shame to mention for the client. <br></li><li>  The cost of using and maintaining Azure is quite low, and the ability to easily scale resources according to actual need helps predict costs per customer. <br></li><li>  The implementation allows you to combine customer objects within a single database.  Conveniently, when there is a bundle on the principle of the Supplier - the Buyer. <br></li></ol><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b39/6ad/a00/b396ada0036848a7e4474ee9fad900b0.png"></div><br><br>  The implementation of cloud architecture was laid out when designing <b>Mycroft Assistant</b> as a <b>SaaS web-based</b> solution. <br><br><h1>  <font color="#0078AB">What stack was used to implement?</font> </h1><br>  From the server side we use the following technologies: <br><ul><li>  EntityFramework 6, <br></li><li>  SQL Server <br></li><li>  ASP.NET MVC 5, <br></li><li>  ASP.NET Web API 2, <br></li><li>  ASP.NET Identity, <br></li><li>  Owin <br></li><li>  SignalR, <br></li><li>  Hangfire <br></li></ul><br>  From the client side are used: <br><blockquote>  <em>jQuery, jQuery UI, knockoutjs, flot, Globalize, DataTables, Bootstrap, fancytree</em> <em><br></em> </blockquote><br>  We chose our architecture for a long time and painfully at the start of implementation, but in the end we came to the most optimal, which can be represented in the form of the following scheme: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e8/858/2eb/8e88582eb601e523f7b443d07e811511.png"></div><br><br>  SCM Mycroft Assistant consists of three parts: <b>Core,</b> <b>WebAccess</b> <b>, Workers.</b> <br><br>  <b>Core</b> - a set of core libraries for the overall functioning of the system: common classes, basic interfaces, kernel components, etc. <br><br>  <b>WebAccess</b> - ASP.NET MVC based web access.  View and manage data, configure, administer.  It consists of several subsystems, while it is possible to install any other subsystem without rebuilding the WebAccess module.  Registration of subsystems occurs automatically when the application starts. <br><br>  <b>Workers</b> - Azure Worker Role, within which all calculations are performed. <br><br>  The system has a plugin mechanism.  For example, a plugin can be written to load data into the system, which can retrieve data from an external system via an API, which is then converted into internal business logic objects and stored in the database.  Via plug-ins can also be extended: notifications, reports, data calculation modules. <br><br>  After several iterations and refinement of the architecture, we built the following order of interaction between the parts of the system, and their features: <br><ul><li>  The user through the website ( <b>Web Role</b> ) looks at the data from his database ( <b>SQL Azure</b> , which is located in the <b>Elastic Database Pool</b> ). <br></li><li>  Each client has its own database.  The load is not constant, which is why Elastic Pool, <b>Autoscale</b> for Web Role and <b>Worker Role are used</b> .  This allows you to scale <b>performance in</b> proportion to the number of clients. <br></li><li>  Through the website, the user initiates the loading of data from external systems, uploads files, sends a task to recalculate recommendations, planning, etc. <br></li><li>  For storage of files <b>Azure Storage Blob</b> s is used.  When loading a file, Web Role saves it, and Worker Role should get this file and load data from it into the client database. <br></li><li>  The website sends a message with job parameters to the <b>Storage Queue</b> .  Worker Role takes the task, runs Task on his execution. <br></li><li>  The progress of the task is sent to the user‚Äôs page via SignalR. <br></li><li>  Worker Role is configured for auto scaling, which allows you to quickly launch new instances if necessary. <br></li><li>  Each of Worker Role works in the same way, there is no primary-secondary separation - thus, the <b>Multi-Tenancy</b> approach is implemented. <br></li></ul><br><h1>  <font color="#0078AB">Not bad, but what about the load?</font> </h1><br>  After deployment to Azure, we were able to conduct comprehensive load testing using <a href="https://www.visualstudio.com/en-us/products/what-is-visual-studio-online-vs.aspx">Visual Studio Online.</a> It revealed a bottle-neck that did not manifest itself when working with current customers. It looked like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e25/217/33a/e2521733a95d5e19778846b017f288dc.png"><br><br>  For example, if a client operates 50,000 different goods on 60 outlets, for a total of only 1 day, if you count all movements between different points, the volume of operated records is <i>50,000 * 60 * 60 = 180,000,000</i> , and for calculating the history for year (as it should be in operation), the number of records is more than <i>6.5 * 10 ^ 10</i> .  The <b>cache</b> does not cope with such volume of <b>Big Data</b> . <br><br>  The problem was in the data caching architecture - the entire cache was <b>in-memory</b> .  This made it possible to greatly reduce the expectations of responses on the client side, but, at the same time, increased the cost of RAM.  If you only cache information that is most frequently accessed, this is not as problematic as caching all raw data. <br><br><h1>  <font color="#0078AB">Solving the problems identified</font> </h1><br>  Fortunately, we initially planned to move to a distributed cache, but for this we needed to translate the filtering and aggregation of data from <b>LINQ to SQL</b> . <br><br>  Not even in LINQ to SQL, but in the manual construction of queries, since we use a versatile cut according to various data (goods, warehouses, managers, etc., and even by year, month, and the most ‚Äúinteresting‚Äù is by week) , and the <b>Entity Framework</b> does not know how to call functions from C # code, unfortunately (Expression did not suit us). <br><br>  The aggregated data, firstly, takes up less space in the memory, and secondly, we generally abandoned caching, shifting the load on the database.  At the cost of an insignificant reduction in the speed of loading information, we defeated memory leaks. <br><br><h1>  <font color="#0078AB">What was the result?</font> </h1><br>  Based on the result of the deployment of the solution in Azure and the possibility of using all the modern "buns" that this platform provides, we came to the conclusion that our reliance on obtaining technical benefits from using the Microsoft technological stack and cloud technologies Azure fully justified itself. <br><br>  We also see that customers using cloud technologies, such as our SCM Mycroft Assistant solution, get better services today than using solutions built on on-premise technology.  Such as: <br><ol><li>  Solution deployment speed.  The client can start work in just 1 day.  No dependence on the accounting system used. <br>  Availability of solutions from various places and devices.  No need for long-term client installation or IT staff involvement in the integration of the solution <br></li><li>  High speed: both from the client and from the server.  A very large amount of data can be recalculated in a matter of minutes.  There is no need to spend on an expensive server.  There is also no dependence on the speed of client machines. <br></li><li>  No problem with scalability and reliability of the solution.  When a company grows, it may not think about the need to increase the maintenance costs of an increasing amount of data.  The company can also be confident in the high level of availability of the solution, since it is located on Microsoft's proven facilities, the technical capabilities of which are more than those of any private company. <br></li><li>  The cost of using and maintaining a turnkey solution is much less.  In this case, the costs are transferred from <b>CAPEX</b> to <b>OPEX</b> , which pleases the finance department. <br></li><li>  It is possible to integrate all participants in the supply chain into a single chain with automatic data exchange in the cloud, which does not provide any other solution. <br></li></ol><br>  You can be convinced of all this, having familiarized with our <a href="http://i.mycroftbs.com/Account/SignIn%3Fext%3Dsite%26username%3Ddemo%26password%3Ddemo2014%26culture%3Dru-RU">DEMOVERSHY</a> which is available to all interested persons.  And if you are interested in SCM Mycroft Assistant as a client, you can easily connect to the solution, and, having received a free trial period, independently verify its effectiveness. <br><br><hr><br><img src="https://habrastorage.org/files/3a5/cb3/b8d/3a5cb3b8dc1b44b690e5cdaf1b3f2208.jpg" align="left"><br><h3>  about the author </h3><br>  <em><b>Pavel Kovtun - CEO Mycroft Assistant</b></em> <em><br><br></em>  <em>More than 12 years in the field of business automation, more than 8 years of entrepreneurial experience.</em>  <em>In the field of supply chain management - 5 years.</em> <em><br><br></em>  <em>Author of several unique methods of analysis and decision making in SCM, with publications in electronic and print media.</em> <em><br><br></em>  <em>The creator of the first innovative management system of reserves of expert level, designed for PMS.</em> </div><p>Source: <a href="https://habr.com/ru/post/270757/">https://habr.com/ru/post/270757/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270743/index.html">Static analysis of printf-like functions in C using libclang</a></li>
<li><a href="../270745/index.html">Cloud for development companies: how Robots Can Dream made a project for the FINA World Cup 2015</a></li>
<li><a href="../270747/index.html">7 key benefits of Dell technical support</a></li>
<li><a href="../270753/index.html">I2P: Signature and EdDSA Signature Verification</a></li>
<li><a href="../270755/index.html">New version of HP Vertica Excavator (7.2)</a></li>
<li><a href="../270759/index.html">Russian AI Cup 2015: race for survival for programmers</a></li>
<li><a href="../270763/index.html">Office Add-Ins for Excel - new features for VBA and VSTO developers</a></li>
<li><a href="../270765/index.html">Sound theory. What you need to know about the sound to work with it. Experience Yandex. Music</a></li>
<li><a href="../270775/index.html">How to use the Internet and modern technology people with visual impairment. Yandex research</a></li>
<li><a href="../270777/index.html">Windows Service Auto Update for Poor AWS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>