<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HighLoad Cup # 2. Championship for backend-developers back in the ranks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Are you ready for new loads? We invite all amateurs and professionals to the championship on design and administration of high-loaded services HighLoa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HighLoad Cup # 2. Championship for backend-developers back in the ranks</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/650/3aa/774/6503aa7745a664afd7ebe0462bf723ad.png"><br><br>  Are you ready for new loads?  We invite all amateurs and professionals to the championship on design and administration of high-loaded services <a href="https://highloadcup.ru/ru/main/">HighLoad Cup # 2</a> ! <br><br>  The beginning of the competition was laid last year.  Then we knew that the HighLoad Cup is exactly the championship that was missing in a number of Mail.Ru Group projects.  The first pilot competition was attended by 449 people.  There was a lot of code and a lot of sweat from both the organizers and the participants (8789 different solutions).  There were nuances in the technical implementation, but the main thing that everyone liked!  The organizers spent many nights in the data center, a few weekends - in the office.  Ready for this again!  At the end of the article you will find useful materials from us and from the participants who will help you understand the mechanics and find some best practice solutions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This time they tried to prepare a little bit more difficult for you.  In addition, we have expanded the audience, now English-speaking users can take part in the competition.  Join the Russian-speaking community in <a href="https://t.me/highloadcup">Telegram</a> .  There you will get a lot of insights on the competition :) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5d0/672/dd0/5d0672dd02ae3fe696de8768da8c012b.png"><br><br>  So welcome aboard! <br><a name="habracut"></a><br><h3>  Mechanics </h3><br>  Compared to last year, nothing conceptually changed in the competition. <br><br>  Participants are given the task of creating a small web-service that works with data of a certain structure and implements the API to this data.  The container (Docker) with the implemented service is uploaded to us on the servers, there we launch it and begin to fire HTTP requests. <br><br>  Solutions are sent to us using a locally installed Docker client in a special repository (each has its own).  Then the service sent to us is automatically checked by the CodeHub-CodeRunner system developed by the Mail.Ru Group Technopark Laboratory employees. <br><br>  Then we begin to thresh the container on a test machine with an Intel Core i7 processor.  The solution will be allocated 4 cores of 2.4 GHz, 2 GB of RAM and 10 GB of hard disk space.  In short, the ‚Äútank‚Äù is launched with the phantom engine, which conducts shelling in several streams with a linearly growing load profile.  Before the shelling begins, the user solution has a few minutes (the exact amount depends on the task) to process data from the resulting JSON file.  Correct work with this data is a necessary condition for victory.  Shelling only two, short and long. <br><br>  According to the results of such attacks, we calculate the number of correct and incorrect answers, RPS and response speed, and form a rating table for a certain metric.  The author of the fastest and fail-safe service will be the winner. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a2/938/fa7/1a2938fa75efd080941444dd42932624.jpg"><br><br>  Use any web technologies that you can find or come up with.  Choose your own programming language and framework.  It can be C ++, Java + Tomcat, Python + Django, Ruby + RoR, GoLang, JavaScript + NodeJs, Haskell, even Assembler or something else, at your discretion.  For data storage: MySQL, PostgreSQL, Redis, MongoDB, caches.  Absolute freedom! <br><br>  As a result of the shelling, logs and metrics are obtained, which will then be shown to participants in the form of graphs on the solution page.  Tracked separately: <br><br><ul><li>  basic metrics; </li><li>  correct answer; </li><li>  speed of response to the request; </li><li>  the number of responses per second. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/3c5/ada/4bc/3c5ada4bc0ce99503e4d5060bafa2daa.png"><br><br>  The rating of the solution is calculated as follows: we take the time of all correct answers that the API managed to give during the shelling, we add the penalty time for each wrong answer or request, the answer to which we could not get (the penalty time is always equal to the total request timeout).  The participant, the total time of which will be less than the others, is higher in the leaderboard and has a chance to become the winner of the championship. <br><br><h3>  Task </h3><br>  Our team thought for a long time what task to give this year.  They wanted something that would equalize the chances of the majority (so that only self-written bicycles in C / C ++ won). <br><br>  The wording is as follows: <br><br><blockquote>  In an alternate reality, humanity decided to create and launch a global search system for the ‚Äúsecond half‚Äù.  It is designed to reduce the number of single people in the world and help build strong families. </blockquote><br>  Both in test and in ‚Äúcombat‚Äù data for different attacks there are records about one entity: Account.  It describes all known information about the user - his name, contacts, interests, revealed sympathy for other users.  Guaranteed correctness of the data provided in accordance with the following types and restrictions.  All data was generated and invented by us according to certain laws. <br><br>  The following personal data is contained in one Account (Profile): <br><br><ul><li>  <b>id</b> is a unique external user id.  It is installed by the testing system and then used to check the server responses.  Type is a 32-bit integer. </li><li>  <b>email</b> - user email address.  Type - unicode string up to 100 characters.  Uniqueness guaranteed. </li><li>  <b>fname</b> and <b>sname</b> are the first and last names, respectively.  Type - unicode strings up to 50 characters.  Fields are optional and may not exist in a particular entry. </li><li>  <b>phone</b> - mobile phone number.  Type - unicode string up to 16 characters.  The field is optional, but uniqueness is guaranteed for the specified values.  Filled quite rarely. </li><li>  <b>sex</b> is a unicode string, ‚Äúm‚Äù means male, and ‚Äúf‚Äù is female. </li><li>  <b>birth</b> is the <b>birth</b> date recorded as the number of seconds from the beginning of the UNIX epoch UTC (in other words, this is the timestamp).  Limited to the bottom 01/01/1950, from the top 01/01/2005. </li><li>  <b>country</b> - country of residence.  Type - unicode string up to 50 characters.  Field optional. </li><li>  <b>city</b> - city of residence.  Type - unicode string up to 50 characters.  The field is optional and rarely indicated.  Each city is located in a particular country. </li></ul><br>  Also in one Account there are fields specific to the search system of the ‚Äúsecond half‚Äù: <br><br><ul><li>  <b>joined</b> - date of registration in the system.  Type - timestamp with restrictions: below 01/01/2011, above 01/01/2018. </li><li>  <b>status</b> - current status of the user in the system.  Type - one line of the following options: "free", "busy", "everything is difficult."  Do not pay attention to the strange endings :) </li><li>  <b>interests</b> - the interests of the user in everyday life.  The type is an array of unicode strings, possibly empty.  Lines do not exceed 100 characters in length. </li><li>  <b>premium</b> - the beginning and end of the bonus period in the system (when users really wanted to find a ‚Äúsoul mate‚Äù and they paid for the service).  In JSON, this field is represented by an embedded object with the fields start and finish, where timestamps are written with a lower bound 01/01/2018. </li><li>  <b>likes</b> - an array of known user <b>likes</b> , possibly empty.  All sympathies are at odds with each one and is an object of the following fields: <br><ul><li>  <b>id</b> - identifier of another account to which the user has sympathy.  Account can always be found in the source data on id.  Please note that there may be several likes with the same id in the data. </li><li>  <b>ts</b> is the time, that is, the timestamp when sympathy was recorded in the system. </li></ul></li></ul><br>  Need to implement an API. <br><br><ol><li>  Getting a list of users: <b>/ accounts / filter /</b> <br><br>  This API method is planned to be used to search users by predefined or desired fields.  For example, someone wanted to see all people of a certain age and gender living in a particular city. </li><li>  User grouping: <b>/ accounts / group /</b> <br><br>  This API method is planned to be used to create reports on the operation of the system.  The fields by which the grouping is performed are transferred in the GET parameter of the keys, separated by commas.  They are not as numerous as in the user filtering request.  There are only five fields for grouping - sex, status, interests, country, city. </li><li>  Compatibility recommendations: <b>/ accessories / id / recommend /</b> <br><br>  This query is used to search for the "second half" of the specified user data.  The request passes the user id for which those who are best suited by status, age and interests are searched.  The decision should check compatibility only with the opposite sex (we are not against sexual minorities and condemn discrimination, it just happened :)).  If a country or city with the keys country and city, respectively, is transmitted in a GET request, then you need to search only among those living in the specified location. </li><li>  Selection by like sympathy: / <b>accessories / id / suggest /</b> <br><br>  This type of query is similar to the previous one in that it is also about searching for the ‚Äúsecond half‚Äù.  The user id for which we are looking for the second half is also sent, the GET parameter limit is used.  The differences in implementation: we are looking for people who like the same sex with similar "likes" and offer those whom they recently liked themselves.  If a country or city GET parameter is passed in the request, then you need to look for ‚Äúsimilar sympathies‚Äù only in a specific location. </li></ol><br>  <b>To tell everything in one article is not possible.</b>  Detailed rules will be published on the day of launch (today) on the Championship website and in the <a href="https://github.com/MailRuChamps/hlcupdocs">GitHub</a> repository, but you already know what awaits you. <br><br><h3>  schedule </h3><br>  Yes, we know that the holidays (coming), so the championship will be very long :) <br><br><ol><li>  Beta testing (results are not considered): start on December 13 at 19:00, end on December 21 at 19:00. </li><li>  Qualifying round: from December 21, 19:00 to January 31, 19:00. </li><li>  Final round: until February 5th. </li></ol><br>  During beta testing, the terms and conditions of the problem may change (if there are bugs and for other reasons). <br><br>  Qualifying round - the rules do not change. <br><br>  The final round is fully automatic, but before it the finalists (N users who have passed the qualifying round and no less than 50 people) choose a solution that will be shot at several waves.  The result is formed by the best result for all the waves. <br><br><h3>  Gifts </h3><br>  First place - a brand new MacBook Air. <br>  Second and third place - Apple iPad. <br>  Fourth, fifth and sixth places - Samsung Gear S3. <br><br>  The participant has the right to ask for another gift of equivalent value.  All participants who qualify for the final will receive brand T-shirts from our championship. <br><br><h3>  Community </h3><br>  If you go to our <a href="https://t.me/highloadcup">Telegram</a> chat room, you are unlikely to leave.  We are waiting for you and good luck! <br><br><h3>  Thanks </h3><br>  This article does not address the issues of updating the system.  We have done a lot of work on eliminating infrastructure bugs, reviewed all the <a href="https://github.com/MailRuChamps/hlcupdocs/issues">issues</a> from the participants in GitHub, have already implemented something and put it on the TODO list for the next year.  I want to express my <a href="https://habrahabr.ru/users/xammi-1/">deep</a> appreciation to Maxim <a href="https://habrahabr.ru/users/xammi-1/">@ xammi-</a> Kislenko, Ilya <a href="https://habrahabr.ru/users/liofz/">@liofz</a> Lebedev, Yevgeny <a href="https://habr.com/users/gunicorn/">@gunicorn</a> Ivanov, Irina <a href="https://habr.com/users/aithelle/">@aithelle</a> Lukyanova, Vasily <a href="https://habr.com/users/vasidmi/">@vasidmi</a> Dmitriev and the whole team that participated in the realization of the competition, including the entire championship community.  Thank! <br><br><div class="spoiler">  <b class="spoiler_title">Useful literature on the results of HighLoad Cup 2017</b> <div class="spoiler_text"> Articles <br>  <a href="https://habr.com/company/mailru/blog/335384/">New championship for backend-developers: HighLoad Cup</a> <br>  <a href="https://habr.com/company/mailru/blog/343032/">First HighLoad Cup: how we survived</a> <br>  <a href="https://habr.com/post/337854/">HLC 2017: 9th place history</a> <br>  <a href="https://habr.com/post/337710/">HLC 2017: the history of the 13th place</a> <br>  <a href="https://habr.com/post/337298/">In the wake of HighLoad Cup: php vs node.js vs go, swoole vs workerman, splfixedarray vs array, and more</a> <br><br>  Video <br>  <a href="https://www.youtube.com/watch%3Fv%3DPazVZRRf0qw">Perl Highload Cup</a> </div></div></div><p>Source: <a href="https://habr.com/ru/post/433066/">https://habr.com/ru/post/433066/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433056/index.html">Ministry of Communications will tighten the rules for software with elements of foreign origin</a></li>
<li><a href="../433058/index.html">Quintet as a basic entity for describing the subject area</a></li>
<li><a href="../433060/index.html">Why I do not believe microbench marks</a></li>
<li><a href="../433062/index.html">AXIS P1367 vs IDIS DC-B3303X: Compare CCTV Cameras</a></li>
<li><a href="../433064/index.html">Incident management: ‚Äúgive away cannot be left‚Äù or the art of placing commas</a></li>
<li><a href="../433070/index.html">How to distinguish shampoo from champignons, and skewers from champagne ... Elasticsearch - search for goods in store databases</a></li>
<li><a href="../433072/index.html">How to hacked the copy protection console Sega Dreamcast</a></li>
<li><a href="../433074/index.html">Switching to Kotlin in the Android project: Tips and Tricks</a></li>
<li><a href="../433076/index.html">How we made our Android Gallery library to view media content</a></li>
<li><a href="../433078/index.html">We write trading robots using the StockSharp graphic framework. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>