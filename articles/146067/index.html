<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pygame player</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello world ,% Username%. I noticed that the last time on Habr√© a lot of posts about python. Yes, the language is gaining popularity. Hurray comrades!...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pygame player</h1><div class="post__text post__text-html js-mediator-article"> Hello <s>world</s> ,% Username%.  I noticed that the last time on Habr√© a lot of posts about python.  Yes, the language is gaining popularity.  Hurray comrades!  So I decided to join this language.  Soon I got tired of the hello world and wanted to write something necessary. either didn‚Äôt look nice or were too heavy.  A little too lazy, I got down to business. <a name="habracut"></a><br><br>  Already at the very beginning of writing the script, I had a choice.  Use pyqt and a library to work with sound, or use pygame.  I chose the second, I was very sorry about that.  The process has begun.  I will not post the full code here, it is waiting for you on the <a href="http://codepaste.ru/10946/">link</a> <br>  However, due to the terrible habit of not commenting on the code, I will highlight here the main points of working with pygame. <br><br>  The concept is that there is a main loop in the program, in which information is processed and it is conditionally changed. Pictures on the screen. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      while running: <br>  ... <br><br> <code>pygame.display.init() <br> pygame.font.init() <br> pygame.mixer.init(frequency=44100, size=-16, channels=2, buffer=4096)</code> <br> <br>  Initialization of used modules. <br>  In general, in theory, it was possible to replace all this with pygame.init (), but it looks more solid, and the internal paranoiac will be a little less worried about speed.  It is also necessary to clarify the last line. <br>  frequency = 44100 - Audio sample rate, default 22050 (Sound awful) <br>  size = -16 - Terrible magic voodoo, I will be grateful if someone explains why this parameter is needed. <br>  Channels = 2 - Specify the number of channels to play. <br>  buffer = 4096 - Buffer size <br><br>  pygame.mixer.music.set_volume (self.logic.volume) <br>  Specify the playback volume.  It is important to remember that this method indicates the volume of the entire program, and not the individual files. <br><br> <code>self.screen = pygame.display.set_mode((600,230))</code> <br> <br>  This method creates the main window and the main Surface.  As you may have guessed, it takes as an argument the resolution of the future window. <br><br> <code>pygame.display.set_caption(u"Ktulhu fhtang")</code> <br> <br>  Specifying the title of the main window. <br><br> <code>self.ui = pygame.font.Font("Arial.ttf",32)</code> <br> <br>  Download new font from file.  It is not necessary to download from the file, but it seems to me a bit simpler than parsing with sysFont. <br>  As arguments takes the file name and font size. <br><br> <code>self.ui.render(u"Play",True,(0,0,0))</code> <br> <br>  This method draws the text received by the first argument.  The second argument is text smoothing.  The third argument is the color value in the format (r, g, b).  Immediately it should be noted that pygame can render unicode, if you put the magic letter u "" <br><br> <code>self.screen.fill((255,255,255))</code> <br> <br>  Fills the screen with the specified color, in general, not only the screen, but any Surface, primitives including. <br><br> <code>self.screen.blit(self.play,(0,0))</code> <br> <br>  An extremely important blit method, it takes 2 arguments.  1 - Any Surface object, 2 - Coordinates in which you need to draw a layer.  What does this method do?  It Attaches the received surface to the surface to which it is applied.  In this case, self.play joins the main surface. <br><br> <code>event = pygame.event.poll()</code> <br> <br>  We save in a variable all events collected for one run of the cycle. <br><br> <code>pygame.display.flip()</code> <br> <br>  The method of updating the image on the screen.  Without it, you will not see anything except a black screen. <br><br> <code>pygame.time.wait(25)</code> <br> <br>  Due to the fact that python is not too fast a language, a high number of fps loads even powerful computers, so I run every cycle to wait 25 milliseconds.  FPS did not measure, but the processor is not loaded, and there is enough rendering speed. <br><br>  Why did I regret choosing pygame?  The problem is that when you try to play mp3 files with tags version 3 (and there are already a lot of them), pygame hangs and it is extremely unpleasant.  The only solution is to change the library, I do not know when this bug will be fixed. <br><br>  <a href="http://rghost.ru/38700690">rghost.ru/38700690</a> - That Frankinstein described in the article above. <br><br>  I know the code does not claim to be the most logical and well-designed, but still please do not kick </div><p>Source: <a href="https://habr.com/ru/post/146067/">https://habr.com/ru/post/146067/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146062/index.html">Russian translation of the presentation of Apple iOS 6 and MacBook Pro</a></li>
<li><a href="../146063/index.html">Presents Microsoft Surface tablets with touch cap</a></li>
<li><a href="../146064/index.html">QA Specialist ISTQB Certification. Basic Level (CTFL)</a></li>
<li><a href="../146065/index.html">Some thoughts on Metro in the desktop</a></li>
<li><a href="../146066/index.html">Simple architecture of strong artificial intelligence</a></li>
<li><a href="../146068/index.html">Password Generator / Validator for LinkedIn Hacking</a></li>
<li><a href="../146070/index.html">Are you annoyed by the permanent ‚ÄúAccess to publication closed‚Äù?</a></li>
<li><a href="../146071/index.html">The simplest WDM driver</a></li>
<li><a href="../146074/index.html">Basic principles of working with the Catalyst MVC Framework</a></li>
<li><a href="../146076/index.html">Inferno Part 0: namespaces</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>