<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Inheritance, composition, aggregation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It often happens that having decided to deal with some new topic, concept, programming tool, I read one article after another on various websites on t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Inheritance, composition, aggregation</h1><div class="post__text post__text-html js-mediator-article">  It often happens that having decided to deal with some new topic, concept, programming tool, I read one article after another on various websites on the Internet.  And, if the topic is complex, then these articles may not bring me a step closer to understand.  And suddenly there is an article that instantly gives insight and all the puzzles are put together.  It is difficult to determine what distinguishes such an article from others.  Correctly chosen words, optimal presentation logic, or just a more relevant example.  I do not pretend that my article will be a new word in C # or the best learning article.  But perhaps for someone it will be the one that will allow to sort out, remember and begin to correctly apply those concepts that will be discussed. <br><a name="habracut"></a><br>  In object-oriented programming languages, there are three ways to organize interaction between classes.  Inheritance is when the heir class has all the fields and methods of the parent class, and, as a rule, adds some new functionality or / and fields.  Inheritance is described by the word "is".  The car is a car.  It is only natural if he will be his heir. <br><br><pre><code class="hljs cs">```<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Vehicle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> hasWheels; } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Car</span></span> : <span class="hljs-title"><span class="hljs-title">Vehicle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> model = <span class="hljs-string"><span class="hljs-string">"Porshe"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numberOfWheels = <span class="hljs-number"><span class="hljs-number">4</span></span> }```</code> </pre> <br>  An association is when one class includes another class as one of the fields.  The association is described by the word "has."  The car has an engine.  It is quite natural that he will not be the heir to the engine (although such an architecture is also possible in some situations). <br><br>  There are two special cases of association: composition and aggregation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Composition is when the engine does not exist separately from the car.  It is created when you create a car and is completely driven by a car.  In a typical example, an engine instance will be created in the car's designer. <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Engine</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> power; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Engine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> p</span></span></span><span class="hljs-function">)</span></span> { power = p; } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Car</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> model = <span class="hljs-string"><span class="hljs-string">"Porshe"</span></span>; Engine engine; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Car</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.engine = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Engine(<span class="hljs-number"><span class="hljs-number">360</span></span>); } } ```</code> </pre> <br>  Aggregation is when an engine instance is created somewhere else in the code, and is passed to the car designer as a parameter. <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Engine</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> power; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Engine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> p</span></span></span><span class="hljs-function">)</span></span> { power = p; } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Car</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> model = <span class="hljs-string"><span class="hljs-string">"Porshe"</span></span>; Engine engine; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Car</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Engine someEngine</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.engine = someEngine; } } Engine goodEngine = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Engine(<span class="hljs-number"><span class="hljs-number">360</span></span>); Car porshe = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Car(goodEngine); ```</code> </pre> <br>  Although there are discussions about the advantages of one or another way of organizing interaction between classes, there is no abstract rule.  The developer chooses one or another path based on elementary logic (‚Äúis‚Äù or ‚Äúhas‚Äù), but also takes into account the possibilities and limitations that these methods give and impose.  In order to see these features and limitations, I tried to write an example.  Simple enough for the code to remain compact, but also sufficiently developed to allow all three methods to be applied in one program.  And, most importantly, I tried to make this example as less abstract as possible - all objects and instances are understandable and tangible. <br><br>  Let's write a simple game - tank battle.  They play two tanks.  They alternately shoot and lose the one whose health fell to zero.  The game will have different types of shells and armor.  In order to inflict damage, you must firstly hit the enemy‚Äôs tank, and secondly, penetrate its armor.  If the armor is not broken, the damage is not applied.  The logic of the game is based on the principle of ‚Äúrock-paper-scissors‚Äù: that is, one type of armor well opposes certain types of shells, but does not hold other shells badly.  In addition, shells that pierce armor well cause little ‚Äúarmor‚Äù damage, and, on the contrary, the most ‚Äúlethal‚Äù shells are less likely to penetrate armor. <br><br>  Create a simple class for the gun.  It will have two private fields: caliber and barrel length.  The damage and, in part, the ability to break through armor depends on the caliber.  From the length of the barrel - shooting accuracy. <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Gun</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> caliber; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> barrelLength; } ```</code> </pre> <br>  Let's make also the designer for a gun: <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Gun</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cal, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> length</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.caliber = cal; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.barrelLength = length; } ```</code> </pre> <br>  Let's make a method for getting caliber from other classes: <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetCaliber</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.caliber; } ```</code> </pre> <br>  Remember that to hit a target two things must happen: hitting the target and breaking through the armor?  So, the gun will be responsible for the first of them: hit.  Therefore, we make the boolean method IsOnTarget, which takes a random variable (dice) and returns the result: whether or not it fell: <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsOnTarget</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dice</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (barrelLength + dice) &gt; <span class="hljs-number"><span class="hljs-number">100</span></span>; } ```</code> </pre> <br>  The entire gun class is as follows: <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Gun</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> caliber; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> barrelLength; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Gun</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cal, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> length</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.caliber = cal; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.barrelLength = length; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetCaliber</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.caliber; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsOnTarget</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dice</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (barrelLength + dice) &gt; <span class="hljs-number"><span class="hljs-number">100</span></span>; } } ```</code> </pre> <br>  Now we make the shells - this is the most obvious case for applying inheritance, but the aggregation in it is also applicable.  Any projectile has its own characteristics.  Just some hypothetical shells does not happen.  Therefore, we make the class abstract.  We make it a string type field. <br><br>  Shells make for guns.  For certain guns.  A projectile of one caliber will not fire a gun of another caliber.  Therefore, we add to the projectile field-link to the instance of the gun  We do the designer. <br><br><pre> <code class="hljs scala">``` public <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Ammo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-type"><span class="hljs-type">Gun</span></span> gun; public string <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>; public <span class="hljs-type"><span class="hljs-type">Ammo</span></span>(<span class="hljs-type"><span class="hljs-type">Gun</span></span> someGun, string <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class">) </span></span>{ gun = someGun; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>; } } ```</code> </pre> <br>  Here we have applied aggregation.  A gun will be created somewhere.  Then shells that have a pointer to the cannon will be created for this gun. <br><br>  Specific types of shells will be the heirs of an abstract shell.  Heirs can simply inherit the methods of the parent, but they can also be redefined, that is, work differently than the parent method.  But we know for sure that any projectile must have a number of methods.  Any projectile must do damage.  The GetDamage method simply returns a caliber multiplied by three.  In general, the damage of the projectile depends on the caliber.  But this method will be redefined in child classes (remember that projectiles that penetrate armor well, as a rule, inflict less ‚Äúzaronevaya‚Äù damage. To be able to override the method in the child class, we use the word virtual. <br><br><pre> <code class="hljs pgsql">``` <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> virtual <span class="hljs-type"><span class="hljs-type">int</span></span> GetDamage() { //<span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> OVERRIDE: <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> logic <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> variable damage depending <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> Ammo <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gun.GetCaliber()*<span class="hljs-number"><span class="hljs-number">3</span></span>; } ```</code> </pre> <br>  Any projectile must pierce (or at least try to pierce) armor.  In the general case, the ability to pierce armor also depends on the caliber (well, and also on a lot - the initial speed, for example, but we will not complicate it).  Therefore, the method returns a caliber.  That is, roughly speaking, a projectile can pierce armor, equal in thickness to its caliber.  This method will not be overridden in child classes. <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetPenetration</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gun.GetCaliber(); } ```</code> </pre> <br>  In addition, for convenient debugging and organization of console output, it makes sense to add the ToString method, which simply allows us to see what kind of projectile and what caliber: <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">$" "</span></span> + type + <span class="hljs-string"><span class="hljs-string">"    "</span></span> + gun.GetCaliber(); } ```</code> </pre> <br>  Now we will make different types of shells that will inherit an abstract shell: high-explosive, cumulative, sub-caliber.  High-explosive causes the greatest damage, cumulative - less, sub-caliber - even less.  Child classes have no fields and call the designer of the basic projectile, passing it a gun, and a string type.  In the child class, the GetDamage () method is overridden ‚Äî coefficients are inserted that will increase or decrease the damage compared to the default one. <br><br>  HE (default damage): <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HECartridge</span></span> : <span class="hljs-title"><span class="hljs-title">Ammo</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HECartridge</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Gun someGun</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">someGun, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDamage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(<span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.GetDamage()); } } ```</code> </pre> <br>  Cumulative (default damage x 0.6): <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HEATCartridge</span></span> : <span class="hljs-title"><span class="hljs-title">Ammo</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HEATCartridge</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Gun someGun</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">someGun, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDamage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(<span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.GetDamage() * <span class="hljs-number"><span class="hljs-number">0.6</span></span>); } } ```</code> </pre> <br>  Subcaliber (default damage x 0.3): <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">APCartridge</span></span> : <span class="hljs-title"><span class="hljs-title">Ammo</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">APCartridge</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Gun someGun</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">someGun, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDamage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(<span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.GetDamage() * <span class="hljs-number"><span class="hljs-number">0.3</span></span>); } } ```</code> </pre> <br>  Notice that in the overridden method, GetDamage also calls the base class method.  That is, by redefining the method, we also retain the ability to access the default method using the keyword base). <br><br>  So, for the projectiles, we applied both aggregation (cannon in the base class) and inheritance. <br>  Create armor for the tank now.  Only inheritance is applicable here.  Any armor is thick.  Therefore, the abstract armor class will have a field thickness, and a string field type that will be defined when creating child classes. <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Armour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> thickness; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> type; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Armour</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thickness, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> type</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.thickness = thickness; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.type = type; } } ```</code> </pre> <br>  Armor will be defined in our game if they are punched or not.  Therefore, it will have only one method, which will be redefined in the child ones, depending on the type of armor. <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsPenetrated</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Ammo projectile</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> projectile.GetDamage() &gt; thickness; } ```</code> </pre> <br>  And whether they are broken or not depends on what kind of projectile has arrived: in the default case, what caliber.  Therefore, the method takes a copy of the projectile and returns a boolean result: broken or not.  Create several types of armor - the heirs of abstract armor.  I will give the code of only one type - the logic is about the same as in the projectiles.  Homogeneous armor holds a high-explosive projectile well, but poorly - subcaliber.  Therefore, if a sub-caliber projectile, which has high armor penetration, has arrived, then in calculations our armor is getting thinner.  And so on: each type of armor has its own set of coefficients of resistance to a particular projectile. <br><br><pre> <code class="hljs pgsql">``` <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> HArmour : Armour { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> HArmour(<span class="hljs-type"><span class="hljs-type">int</span></span> thickness) : base(thickness, "") { } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> override <span class="hljs-type"><span class="hljs-type">bool</span></span> IsPenetrated(Ammo projectile) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (projectile <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> HECartridge) { // ,      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> projectile.GetPenetration() &gt; this.thickness * <span class="hljs-number"><span class="hljs-number">1.2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (projectile <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> HEATCartridge) { // ,     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> projectile.GetPenetration() &gt; this.thickness * <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { // ,     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> projectile.GetPenetration() &gt; this.thickness * <span class="hljs-number"><span class="hljs-number">0.7</span></span>; } } } ```</code> </pre> <br>  Here we use one of the wonders of polymorphism.  The method takes any projectile.  The signature specifies the base class, not the children.  But inside the method, we can see what kind of projectile came - what type.  And depending on this, we implement one or another logic.  If we did not use inheritance for the shells, but simply made three unique classes of types of shells, then the armor penetration check would have to be organized differently.  We would have to write as many overloaded methods as there are types of projectiles in our game, and call one of them depending on which projectile arrived.  This would also be quite elegant, but not relevant to the topic of this article. <br><br>  Now we are ready to create a tank.  There will be no inheritance in the tank, but there will be composition and aggregation.  Of course, the tank will have a name.  The tank will have a gun (aggregation).  For our game, we make the assumption that a tank can ‚Äúchange clothes‚Äù for armor before each turn - choose one or another type of armor.  For this, the tank will have a list of armor types.  The tank will have an ammunition - a list of shells that will be filled with shells created in the tank constructor (composition!).  The tank will have health (decreases when it hits it), and, the tank will have the current selected armor and the current selected projectile. <br><br><pre> <code class="hljs cs">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Panzer</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> model; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Gun gun; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Armour&gt; armours; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Ammo&gt; ammos; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> health; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Ammo LoadedAmmo { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Armour SelectedArmour { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } ```</code> </pre> <br>  In order for the tank designer to remain more or less compact, we will make two auxiliary private methods that add three types of armor of the appropriate thickness, and fill the ammo pack with 10 shells of each of the three types: <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddArmours</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> armourWidth</span></span></span><span class="hljs-function">)</span></span> { armours.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SArmour(armourWidth)); armours.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HArmour(armourWidth)); armours.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CArmour(armourWidth)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadAmmos</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; i++) { ammos.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> APCartridge(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gun)); ammos.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HEATCartridge(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gun)); ammos.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HECartridge(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gun)); } } ```</code> </pre> <br>  Now the tank designer looks like this: <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Panzer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name, Gun someGun, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> armourWidth, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h</span></span></span><span class="hljs-function">)</span></span> { model = name; gun = someGun; health = h; armours = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Armour&gt;(); ammos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Ammo&gt;(); AddArmours(armourWidth); LoadAmmos(); LoadedAmmo = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; SelectedArmour = armours[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//  -   }```</span></span></code> </pre> <br>  Please note that here we again use the possibilities of polymorphism.  Our ammunition contains shells of any type, as the list has the data type Ammo - the parent shell.  If we were not inherited, but created unique types of shells, we would have to make a separate list for each type of projectile. <br><br>  The user interface of the tank consists of three methods: select armor, load a gun, shoot. <br><br>  Select armor: <br><br><pre> <code class="hljs matlab">``` public void SelectArmour(string <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt; armours.Count; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (armours[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>].<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> == <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>) { SelectedArmour = armours[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } ```</code> </pre> <br>  Charge the gun: <br><br><pre> <code class="hljs matlab">``` public void LoadGun(string <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt; ammos.Count; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ammos[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>].<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> == <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>) { LoadedAmmo = ammos[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>]; Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"!"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } } Console.WriteLine($<span class="hljs-string"><span class="hljs-string">", , "</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> + <span class="hljs-string"><span class="hljs-string">" !"</span></span>); } ```</code> </pre> <br>  As I mentioned at the beginning, in this example I tried to get away from the abstract concepts that need to be kept in my head as much as possible.  Therefore, each copy of the projectile we have is equal to the physical projectile, which was put into combat before the battle.  Consequently, the shells can end at the most inopportune moment! <br><br>  Fire: <br><br><pre> <code class="hljs kotlin">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Ammo Shoot() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (LoadedAmmo != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { Ammo firedAmmo = (Ammo)LoadedAmmo.Clone(); ammos.Remove(LoadedAmmo); LoadedAmmo = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; Random rnd = new Random(); int dice = rnd.Next(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>); bool hit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gun.IsOnTarget(dice); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gun.IsOnTarget(dice)) { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"!"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> firedAmmo; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"!"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Console.WriteLine(<span class="hljs-string"><span class="hljs-string">" "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } ```</code> </pre> <br>  Here - in more detail.  First, there is a check whether the gun is charged.  Secondly, the projectile that flew out of the barrel no longer exists for this tank, it is no longer in the cannon or in the combat pack.  But physically, he still exists - flies towards the goal.  And if it falls, it will participate in the calculation of the penetration of armor and damage to the target.  Therefore, we save this projectile in a new variable: Ammo firedAmmo.  Since on the very next line this projectile will cease to exist for this tank, you will have to use the IClonable interface for the projectile base class: <br><br><pre> <code class="hljs kotlin">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Ammo</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ICloneable ```</span></span></span></span></code> </pre> <br>  This interface requires the implementation of the Clone () method.  Here she is: <br><br><pre> <code class="hljs kotlin">``` <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> Clone() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MemberwiseClone(); } ```</code> </pre> <br>  Now everything is super realistic: when a shot is fired, a dice is generated, the gun counts the hit with its IsOnTarget method, and if there is a hit, the Shoot method will return a copy of the projectile, and if it misses, it will return null. <br><br>  The last method of the tank is its behavior when it hits an enemy projectile: <br><br><pre> <code class="hljs cs">``` <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleHit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Ammo projectile</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (SelectedArmour.IsPenetrated(projectile)) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.health -= projectile.GetDamage(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"  ."</span></span>); } ```</code> </pre> <br>  Again polymorphism in all its glory.  A projectile flies to us.  Any.  Based on the selected armor and the type of projectile, is calculated broken armor or not.  If it is pierced, the method of a specific projectile type GetDamage () is called. <br><br>  All is ready.  It remains only to write a console (or non-console) output, in which the user interface will be provided and alternate moves of players are implemented in the cycle. <br><br>  Let's sum up.  We wrote a program in which we used inheritance, composition, and aggregation, I hope, we understood and remembered the differences.  Actively involved the possibilities of polymorphism, first, when any instances of the child classes can be added to a list that has the data type of the parent, and second, creating methods that take the parent instance as a parameter, but within which the child methods are called.  In the course of the text, I mentioned possible alternative implementations - the replacement of inheritance with aggregation, and there is no universal recipe.  In our implementation, inheritance gave us the ease of adding new details to the game.  For example, to add a new type of projectile we only need: <br><br><ul><li>  in fact, copy one of the existing types, replacing the name and the string field passed to the constructor; </li><li>  add another if to the child armor classes; </li><li>  add an additional item in the projectile selection menu in the user interface. </li></ul><br>  Similarly, to add another type of reservation, you only need to describe this type and add an item to the user interface.  Modifying other classes or methods is not required. <br><br>  Below is a diagram of our classes. <br><br><img src="https://habrastorage.org/webt/mm/5i/kg/mm5ikg-khoumejaorqae2rlxlia.png"><br><br>  In the final code of the game, all the "magic numbers" that were used in the text are rendered into a separate static class Config.  We can access the public fields of a static class from any fragment of our code and it is not necessary (and impossible) to create an instance of it.  This is how it looks like: <br><br><pre> <code class="hljs pgsql">``` <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Config { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static List&lt;string&gt; ammoTypes = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> List&lt;string&gt; { "", "", "" }; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static List&lt;string&gt; armourTypes = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> List&lt;string&gt; { "", "", "" }; //   - ,    ,      <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">int</span></span> _gunTrashold = <span class="hljs-number"><span class="hljs-number">100</span></span>; //       <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">int</span></span> _defaultDamage = <span class="hljs-number"><span class="hljs-number">3</span></span>; //      <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _HEDamage = <span class="hljs-number"><span class="hljs-number">1.0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _HEATDamage = <span class="hljs-number"><span class="hljs-number">0.6</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _APDamage = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; //   // : //     ,      -  <span class="hljs-number"><span class="hljs-number">1.2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _HArmour_VS_HE = <span class="hljs-number"><span class="hljs-number">1.2</span></span>; //     ,      -  <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _HArmour_VS_HEAT = <span class="hljs-number"><span class="hljs-number">1.0</span></span>; //     ,      -  <span class="hljs-number"><span class="hljs-number">0.7</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _HArmour_VS_AP = <span class="hljs-number"><span class="hljs-number">0.7</span></span>; //   //     ,      -  <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _Armour_VS_HE = <span class="hljs-number"><span class="hljs-number">1.0</span></span>; //     ,      -  <span class="hljs-number"><span class="hljs-number">0.8</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _Armour_VS_HEAT = <span class="hljs-number"><span class="hljs-number">0.8</span></span>; //     ,      -  <span class="hljs-number"><span class="hljs-number">1.2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _Armour_VS_AP = <span class="hljs-number"><span class="hljs-number">1.2</span></span>; //   //     ,      -  <span class="hljs-number"><span class="hljs-number">0.8</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _SArmour_VS_HE = <span class="hljs-number"><span class="hljs-number">0.8</span></span>; //     ,      -  <span class="hljs-number"><span class="hljs-number">1.2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _SArmour_VS_HEAT = <span class="hljs-number"><span class="hljs-number">1.2</span></span>; //     ,      -  <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">double</span></span> _SArmour_VS_AP = <span class="hljs-number"><span class="hljs-number">1.0</span></span>; } ```</code> </pre> <br>  And thanks to this class, we can make further customization, changing the parameters only here, without further deepening into classes and methods.  If, for example, we came to the conclusion that the piercing projectile turned out too strong, then we change one dial in Config. <br>  All the code of the game can be seen <a href="https://github.com/FSuhov/BattleTanks">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/354046/">https://habr.com/ru/post/354046/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354034/index.html">Reindexer site search is easy. Or how to make an "instant search" throughout the Habrahabr</a></li>
<li><a href="../354036/index.html">20 Eloquent ORM tricks</a></li>
<li><a href="../354038/index.html">Top VSCode Extensions That Speed ‚Äã‚ÄãUp Your JavaScript Development</a></li>
<li><a href="../354040/index.html">We apply the Deep Watershed Transform in the Kaggle Data Science Bowl 2018 competition.</a></li>
<li><a href="../354044/index.html">Next generation video: introducing AV1</a></li>
<li><a href="../354048/index.html">Atlassian Jira Software functionality in Jira plugin</a></li>
<li><a href="../354050/index.html">Designing a Schemaless Uber Engineering data warehouse using MySQL</a></li>
<li><a href="../354052/index.html">Configuring Let's Encrypt wildcard certificates on CentOS 7 with validation via CloudFlare API</a></li>
<li><a href="../354054/index.html">You should not conduct interviews because ... [spoiler - you yourself do not go to interviews]</a></li>
<li><a href="../354056/index.html">React cheatsheet or a couple of life hacks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>