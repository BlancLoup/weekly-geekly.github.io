<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>You broke my javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A long time ago 
 Previously, everyone wrote a lot of disgusting JS right on the pages, without thinking it over, and it was very bad. I suspect it is...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>You broke my javascript</h1><div class="post__text post__text-html js-mediator-article"><h5>  A long time ago </h5><br>  Previously, everyone wrote a lot of disgusting JS right on the pages, without thinking it over, and it was very bad.  I suspect it is still being written this way, but it is done by the same people who don‚Äôt read blogs or habr, so let's not think about them (then, of course, we‚Äôll have to be with them in the same project and - <i>God, no, please, just not this</i> ) <br><br>  The coolest, cool and magical thing that happened in JS is that no one in large organizations wanted to deal with him, staying in his calm world of perfectly organized layers of abstractions from factories and magical XML injection frameworks. <br><br>  And it was great for those who, like me, wanted to receive a salary of large organizations, without getting into the layers of disgusting "best practices" and performance problems arising from an uncontrollable fear of giving access to the database at least to anyone other than DBA . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Moreover, when all these performance problems arose, we could save everyone by writing a frontend to JS, which pretended that no problems existed and it all worked perfectly, despite the melancholy quality of the backend. <br><br><h5>  We reached js heyday </h5><br>  With the advent of jQuery, our life has become even better, and the world around has begun to gather from small reusable jQuery plugins.  Finally, we reached our prime when NPM arrived, and we began to use a more or less efficient system of modules for working with autonomous widgets. <br><br>  I imagined a future where I could work with great teams on great code from small modules and autonomous functions and widgets.  I even thought that we would be able to win control of the code from corporate maniacs with their libraries, ORMs, patterns and practices, and the factories factories based on them. <br><br>  We followed the sanity process and did excellent things from a great code, freeing ourselves from the shackles of nasty corporate frameworks. <br><a name="habracut"></a><br><h5>  You broke everything </h5><br>  Now, I still sometimes write on JS, but more often I work with Erlang, creating services for streaming / transcoding video and all that (that's why I rarely write to the blog), but in general, my backend is very cool, and my frontend is also quite currently cool (i use React from facebook and npm for everything else).  But then I stumbled upon an entry on Stack Overflow, which reminded me of the times of corporate development, and to my horror I discovered that this venereal disease, spread by Java, is already appearing on the face of my Internet. <br><br><h5>  Angular.js: service or provider or factory? </h5><br>  Well, this question in itself is not terrible yet, let's look at the <a href="http://stackoverflow.com/questions/15666048/angular-js-service-vs-provider-vs-factory/20613879%3Fstw%3D2">most popular answer</a> (not the most popular one anymore - it was mislead after this post) and we will absorb all of its wisdom, which, judging by the reviews, undoubtedly is there: <br><br><blockquote>  Wow!  Thanks for the detailed explanation.  Now everything is clear and easy.  Very cool!! </blockquote><br>  If I were a kind person, I would say that this comment is an irony and a very good example of the law of Po, but, having read everything, I feel that the matter, alas, is not that, and there is nothing to rejoice here. <br><br>  So, the first thing we see is a quote directly from Angular's fucking documentation, which looks something like this: <br><br><blockquote>  In Angular, ‚Äúservice‚Äù is a singleton created by a ‚Äúfactory of objects‚Äù.  These object factories are functions that, in turn, are created by the ‚Äúservice provider‚Äù.  Service providers are "constructor functions."  When creation occurs, they must have the $ get property, in which the object factory function will be located. </blockquote><br>  And what the hell is this crap?  For me, it sounds like "in order to write Hello world, you first need to create the Hello world service, which will create the Hello world factory to create the Hello world service to write Hello world on the screen." <br><br><blockquote>  Whatooooa  What am I, someone's dissertation opened?  This is completely incomprehensible. </blockquote><br>  No, you are not reading someone else's dissertation, you are really reading the angular documentation. <br><br>  If this were a dissertation, she would probably try to describe a solution to a problem, instead of describing a re-elaborated solution to a fictional problem (this is not really 100% true, scientists also live in their own world, but almost true) <br><br><blockquote>  Below is a real example made up for this question. </blockquote><br>  I suspect that most of the scenarios for which Angular was invented are invented, because only this can explain the appearance of all these factories, proxies and services on the frond.  The code and explanations that I will show you now are written by non-conscious lunatics, and it's hard to believe that this is all serious. <br><br><blockquote>  Service, Factory and Provider may be the same. </blockquote><br>  What?  No, of course, they can, they are just functions that return value, but okay, let's climb deeper into this rabbit hole and see where it takes us. <br><br>  We are given an example of "instantiating a machine", starting with the fact that <br><br><blockquote>  With the help of the service (singleton), you can not do it, because the service can not be instantiated. </blockquote><br>  So they explain to us why we need providers, because <br><br><blockquote>  To instantiate, you will need a Factory or Provider. </blockquote><br>  Not.  Lord  WHAT.  WHAT THE HELL. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> car = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Car({ <span class="hljs-attr"><span class="hljs-attr">cylinders</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span> })</code> </pre> <br><br>  Damn new.  We argued about it in the world of corporate backends so many times, and again seeing this bullshit in JS is just physically painful.  All the same crap in a language that recently was my salvation from this disgusting shit. <br><br><blockquote>  The provider can be configured for your application. </blockquote><br>  Well, of course, we can configure providers if we need to configure our applications.  How else to configure our applications and to achieve their configurability for our corporate configurable applications? <br><br>  The code that is given later, I just adore.  He is practically already a parody of himself, I don‚Äôt even need to comment on anything, it's just a grimace. <br><br><pre> <code class="javascript hljs">app.service(<span class="hljs-string"><span class="hljs-string">'CarService'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dealer = <span class="hljs-string"><span class="hljs-string">"Bad"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.numCylinder = <span class="hljs-number"><span class="hljs-number">4</span></span>; }); app.factory(<span class="hljs-string"><span class="hljs-string">'CarFactory'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">numCylinder</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dealer = <span class="hljs-string"><span class="hljs-string">"Bad"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.numCylinder = numCylinder }; }); app.provider(<span class="hljs-string"><span class="hljs-string">'CarProvider'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dealerName = <span class="hljs-string"><span class="hljs-string">'Bad'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$get = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">numCylinder</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.numCylinder = numCylinder; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dealer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dealerName; } }; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setDealerName = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dealerName = str; } });</code> </pre><br><br>  To configure the dealer, you just need to <br><br><pre> <code class="javascript hljs">app.config(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">CarProviderProvider</span></span></span><span class="hljs-function">) </span></span>{ CarProviderProvider.setDealerName(<span class="hljs-string"><span class="hljs-string">'Good'</span></span>); });</code> </pre><br><br>  Hey, this is just a configuration, do not do anything with this code !!! <br><br>  I thought of writing the equivalent in simple JS, but then I began to understand abstractions, and I no longer want to program, but I want to get under the table and beat my head on the floor until the brains begin to flow.  Anything else, if only he did not have to deal with this madness anymore. <br><br><blockquote>  But why CarProviderProvider, and not CarProvider? </blockquote><br>  This is my advice.  If you ask such a question.  If you ask a question that needs such an answer, to which this question fits, YOU EVERYTHING DID IT WRONG. <br><br>  There is nothing shameful about the fact that you did everything wrong, this is normal - we all make mistakes, but judging by the development of events, no one understands what is actually happening.  And soon we will hire Angular Consultants and send our students to expensive Angular Training Courts for many, many years.  Congratulations - got caught. <br><br><h5>  People, what's wrong with you? </h5><br>  We had a cool thing, and you broke it.  We had where to run from the disgusting corporate mutual support, but instead of learning how to program a pancake, you simply moved your providers of factories to a place where you could do something relatively quickly quite recently. <br><br><h5>  Go to hell, I'm leaving </h5><br>  Okay, everything is OK, I no longer do corporate software.  I showed this question with the answer to my colleagues, we all laughed at you perfectly, because such a level of stupidity is indescribably hilarious.  But you know what?  When you finish digging this hole for yourself, and understand what a bottomless hole it is, I will stand above you and laugh, because ultimately you are to blame for everything. <br><br>  Begin to think for yourself, throw this crap before it's too late and learn how to write at least some normal code.  All that you need is already described, you will succeed.  And if you need to be held by the hand with all these factories and providers and service provider factories, then understand right away that the world does not need your shit code.  Go and find a job that you really succeed in.  Stop breaking our javascript. </div><p>Source: <a href="https://habr.com/ru/post/220631/">https://habr.com/ru/post/220631/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../220607/index.html">Opera Max, Opera Coast for iPhone and more</a></li>
<li><a href="../220613/index.html">SAS networks and DAS solutions: from theory to practice</a></li>
<li><a href="../220625/index.html">Google Code-In 2013</a></li>
<li><a href="../220627/index.html">Vest KOR-FX will give new sensations from the games</a></li>
<li><a href="../220629/index.html">Verifying an open WinSCP project being developed in Embarcadero C ++ Builder</a></li>
<li><a href="../220635/index.html">Red Orchestra 2 Free Copy: Heroes of Stalingrad</a></li>
<li><a href="../220637/index.html">Three startups who work in coworking and change industry</a></li>
<li><a href="../220639/index.html">MIPS 2014: Spent</a></li>
<li><a href="../220647/index.html">FreeMyApps business model: how to make money on user interest in free applications</a></li>
<li><a href="../220649/index.html">Curiosity is half way to its goal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>