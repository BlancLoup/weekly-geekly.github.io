<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>O-notation in software design</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Understanding SOLID, I often came across the fact that not following these principles can lead to problems. Problems are known, but poorly formalized....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>O-notation in software design</h1><div class="post__text post__text-html js-mediator-article">  Understanding SOLID, I often came across the fact that not following these principles can lead to problems.  Problems are known, but poorly formalized.  This article is written with the aim of formalizing typical situations that arise in the process of writing code, possible solutions and the consequences that follow.  We will talk about how bad code threatens us and how problems grow with the growth of the program. <a name="habracut"></a>  Unfortunately, in most cases the assessment comes down to the options ‚Äúmany‚Äù and ‚Äúone‚Äù, which hints at the failure of the O-notation, but even such an analysis will allow us to better understand which code is really dangerous for the further development of the system, and which code is tolerable. <br><br><h2>  Definition </h2><br>  We will say that a change in a program requires ‚ÄúO‚Äù from f (n) actions, if the programmer needs to make no more than f (n) logically separate changes in the program to implement the change up to a constant factor, where n is the size of the program. <br><br><h2>  Metrics </h2><br>  Consider some design properties according to Robert Martin and evaluate them in terms of O-notation. <br><blockquote>  A design is hard if a single change causes a whole cascade of other changes in dependent modules.  The more modules you have to change, the harder the design. </blockquote>  The difference between the O (1) and O (n) changes is significant.  Those.  our design allows a constant number of changes, or as the program grows, the number of changes will grow.  Further, the changes themselves should be considered - they can also be tough with some asymptotics.  Thus, stiffness can be complex down to O (nm).  The parameter m will be called the depth of rigidity.  Even an approximate estimate of the depth of rigidity in a design that at least allows rigidity O (n) is a matter that is too complicated for a person, since each of the changes must be checked for even deeper changes. <br><blockquote>  Fragility is a property of a program to be damaged in many places when a single change is made.  Often new problems arise in parts that have no conceptual connection with the one that has been changed. </blockquote>  We will not consider the question of the logical connection of modules in which changes occur.  Therefore, from the point of view of the Notation of the Difference between Fragility and Rigidity, there is no reason and the reasoning for rigidity applies to fragility. <br><blockquote>  A design is stagnant if it contains parts that might be useful in other systems, but the efforts and risks involved in trying to separate these parts from the original system are too great. </blockquote>  Risks and efforts in this definition can be interpreted as non-constant as the module grows in the number of changes that occur in the module when trying to abstract it from the original system.  However, as practice shows, abstraction is still worth it, since it brings order to the module itself and allows it to be transferred to other projects.  Very often, after the first need to transfer the module to another project, other similar ones appear. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Viscosity. <blockquote>  Faced with the need to make a change, the developer usually finds several ways to do this.  Some retain the design, others do not (that is, they are essentially a hack).  If design-preserving approaches turn out to be more difficult to implement than a hack, then the design viscosity is high.  Solving a problem is wrong easy, and right - it is difficult.  We want to design our programs so that it is easy to make changes that preserve the design. </blockquote>  Following viscosity can be called short-sighted in terms of O notation.  Yes, at first the developer really has the opportunity to make a change in O (1) instead of O (n) (due to rigidity or fragility), but often such changes lead to even greater rigidity and fragility, i.e.  increase the depth of rigidity.  If you ignore such a "bell", then the subsequent changes may no longer be solved by a "hack" and will have to make changes in the conditions of severity (perhaps more than before the "bell") or bring the system to good condition.  That is, when viscosity is detected, it is better to immediately rewrite the system properly. <br><blockquote>  It happens like this: Ivan needs to write a certain code, which kurdyachit bokrenka.  Climbing on different parts of the program, where, as he suspects, has been kurdyachili more than once, he finds a suitable fragment.  It copies it, inserts it into its module and makes the necessary changes. <br><br>  But Ivan does not know that the code that he extracted with the mouse was put there by Peter, who took it from the module written by Sveta.  Sveta first had a kurdachit bokrenka, but she knew that this process is very similar to kurd√§chenie barmaglotov.  She somewhere found the code that pulls the barmaglot, copied it into its module and modified it.  When the same code in slightly different forms appears again and again, developers lose the idea of ‚Äã‚Äãabstraction. </blockquote>  In this situation, it becomes obvious that when it becomes necessary to change the basis of the excavated action, this change should be made in n places.  Given the possibility of unique modifications in each copy-paste, this may also result in logically unrelated changes.  In this case, it is likely to just forget about the change elsewhere, since there is no protection at the compilation stage.  This means that it may turn into O (n) test iterations. <br><br><h2>  Application About Notation to SOLID </h2><br>  SRP (Single Responsibility Principle).  A software entity should have only one reason for change (responsibility).  In other words, for example, a class should not follow the business logic and mapping, since  when changing one responsibility, we must make sure that the other liability is not damaged.  That is, the inconsistency with the SRP principle translates into rigidity and fragility.  Just following this principle helps to get rid of stagnation and transfer modules from one program to another with potentially fewer dependencies. <br><br>  The asymptotics of changes remains in general the same as without following the principle, but the constant factor decreases significantly.  In both cases, we should forward the entire contents of the class and, in the case of changes to the interface of the entity, the place where they interact with this entity.  Only following the SRP helps to reduce the interface and the likelihood of its change, as well as the amount of internal implementation, which after the change may be faulty.  Similarly, the reasoning, trimmed before the argument about interfaces, is valid for the ISP (Interface Segregation Principle). <br><br>  OCP (Open Close Principle).  Software entities (classes, modules, functions, etc.) must be open for expansion and closed for modification.  This should be understood in such a way that we should be able to modify the behavior of a module without affecting its source code.  Typically, this is achieved through inheritance and polymorphism.  Since the violation of the principle of LSP is a violation of OCP, and while DIP is a means to maintain OCP, the following can be applied to both the LSP and DIP.  Inconsistency with the principle of openness-closeness forces to make changes in all entities unclosed relative to this change. <br><br>  A rather trivial situation is, for example, the presence of a chain of Iffs that determine the type of variable among the list of child classes.  Such structures may appear in the program more than once.  And with every addition of a new child class, appropriate changes should be made in each such chain.  Such situations can appear not only with child classes, but also with any consideration of not all possible particular cases [This refers to cases not at the time of writing, but in general.  Cases may appear later]. <br><br>  Now consider the situation when we make m changes of the same type, which, because of inconsistency with the principle of openness-closeness, require n operations from us.  Then, if we leave everything as it is, supporting the architecture of the consideration of special cases, and we do not generalize, then we obtain the total complexity for all changes O (mn).  If we close all m places with respect to this change, then subsequent changes will occupy O (1) instead of O (m).  Thus, the overall complexity is reduced to O (m + n).  This means that it is never too late to start following OCP. <br><br>  Martin doesn‚Äôt have to guess about this situation (if you don‚Äôt know exactly, of course) how to close from the first change, but after the first change you should close, because the first change was a marker that the system would not necessarily remain in its current state.  This is logical, since we are doing O (1 * n) actions because of the non-closing, and then O (m) actions, to close on subsequent changes.  Total we get the total complexity of O (n + m), but at the same time we do all the actions exactly when they become necessary and do not do anything in advance, not knowing if it will be needed. <br><br><h2>  Patterns and O-Notation </h2><br>  You can draw another analogy between O-notation in the theory of computation and O-notation in design.  It lies in the fact that we reduce the number of calculations using algorithms and data structures, such as search trees and heaps, which solve typical tasks faster than ‚Äúhead-on solutions‚Äù, and the number of programmer‚Äôs operations is well-designed, which can use similarly good typical solutions. which are called design patterns.  You can evaluate the effect of patterns in the context of the SOLID principles and, as a result, in the context of O-notation. <br><br>  For example, the Mediator pattern excludes the possibility of breaking something in the program when the logic of interaction between two objects changes, since it completely encapsulates it and guarantees the constant complexity of such a change. <br><br>  The Adapter pattern allows us to use (read add) entities with different interfaces that we will use for a common purpose.  Using this template, you can embed a new object with an incompatible interface into the system for a number of operations, independent of the size of the system. <br><br>  As data structures can support some operations with good asymptotics, and some with poor, and patterns manifest themselves flexibly with respect to some changes and rigidly with respect to others. <br><br><h2>  Reasonable Limits </h2><br>  When dealing with O-notation, working on an optimization problem, we must remember that it is not always the algorithm with the best asymptotics that is best suited for solving the problem.  It should be understood that the sorting of the bubble for an array of 3 elements will work faster than the pyramidal, despite the fact that the pyramidal sorting has the best asymptotics.  For small values ‚Äã‚Äãof n, the constant factor plays an important role, which O-notation hides.  O-notation in design works the same way.  For small projects it makes no sense to fence a lot of templates, since the costs of their implementation exceed the number of changes that should be made from the ‚Äúpoor design‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/428928/">https://habr.com/ru/post/428928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428918/index.html">Intel Xeon, E-class</a></li>
<li><a href="../428920/index.html">Tencent in China will impose age limits on games for those who are under 12: no more than an hour per day</a></li>
<li><a href="../428922/index.html">‚ÄúAutonomous applications will disappear in a few years‚Äù: where does the development of mobile ecosystems lead</a></li>
<li><a href="../428924/index.html">The course "Introduction to Perl" from Mail.Ru Group</a></li>
<li><a href="../428926/index.html">Interview with a developer from Facebook</a></li>
<li><a href="../428930/index.html">F # spoiled me or why I don‚Äôt want to write in C # anymore</a></li>
<li><a href="../428932/index.html">How I tried to learn English and what came of it</a></li>
<li><a href="../428934/index.html">Proof of availability of places where symmetries cannot exist</a></li>
<li><a href="../428936/index.html">Scientists allowed robots to evolve, and got something weird</a></li>
<li><a href="../428938/index.html">From Victory to PornHub: how companies use dark patterns</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>