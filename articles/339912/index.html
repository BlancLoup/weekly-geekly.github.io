<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Zoia.js: another web framework on Node</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, dear habrazhiteli. 

 Many of you have dealt with Node.js in one way or another. Probably, it makes no sense to talk about the advanta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Zoia.js: another web framework on Node</h1><div class="post__text post__text-html js-mediator-article">  Hello everyone, dear habrazhiteli. <br><br>  Many of you have dealt with Node.js in one way or another.  Probably, it makes no sense to talk about the advantages that JavaScript has and its server implementation in particular.  At the moment I am doing a lot of things on JS, from simple console scripts to API, services and sites.  The modern standard EcmaScript has brought significant changes to the language: it not only fixed some of the ancient ‚Äújambs‚Äù of JS, but also added new features, allowing, in particular, to get rid of the <a href="http://callbackhell.com/">Callback Hell</a> beautifully. <br><br>  When I once again faced the task of deploying a simple website consisting of several dozen pages, I wanted to do this with the help of some lightweight but modern CMS based on Node.  Having assessed the <a href="https://www.slant.co/topics/1847/~node-js-based-cms">situation</a> , I realized that there is nothing suitable so far.  My old and kind <a href="https://taracot.org/">Taracot</a> turned out to be too heavy for this task, besides, it does not work with modern versions of Node and is overloaded with functionality. <br><a name="habracut"></a><br>  <b>What did I want to get in the end?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  The system of registration, authorization, management of users and groups, so that it is not necessary to think about it every time </li><li>  Convenient template engine with the ability to use asynchronous functions </li><li>  Module for quick e-mail sending to users </li><li>  Captcha, preferably without third-party libraries </li><li>  Validation of forms and fields </li><li>  Fast and convenient AJAX-driven table for displaying data </li><li>  Code using ES6 features </li><li>  Multilingual out of the box </li><li>  Modular structure with the ability to quickly and comfortably write a new module </li></ul><br>  Automatic update system <br>  A simple module for creating and editing content with easy uploading images to the server <br><br>  <b>Zoia.js</b> <br><br>  I worked in my spare time and solely for the sake of pleasure, so the project dragged on a bit, but from the first commit in late May to mid-October 2017, we managed to do a lot on the above points: <br><br><ul><li>  <a href="https://zoiajs.org/">Offsite</a> (not finished it yet) </li><li>  <a href="https://github.com/xtremespb/zoia">Github page</a> </li><li>  <a href="https://github.com/xtremespb/zoia/wiki">Documentation wiki</a> </li><li>  <a href="https://demo.zoiajs.org/">Demo installation</a> (reloads every hour) </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/1b2/fce/924/1b2fce92489c14bcce04dfa5bdef685d.png" alt="image"><br><br>  License - <a href="https://github.com/xtremespb/zoia/blob/master/LICENSE">MIT</a> . <br><br>  <a href="http://expressjs.com/ru/">Express.js is</a> used as the base framework, <a href="https://www.mongodb.com/">MongoDB</a> is used as the base framework, Mozilla's <a href="https://mozilla.github.io/nunjucks/">Nunjucks</a> is the template engine, and <a href="https://getuikit.com/">UIkit is</a> used for the UI. <br><br>  Why the Web Framework, and not just a CMS?  First of all, because it is possible to make an API based on the system, using, for example, only the possibilities related to authorization.  That is, from Zoia, you can safely "throw out" modules associated with the display of content for the user, and return only JSON / XML. <br><br>  <b>Dynamic tables and forms</b> <br><br>  For the dynamic display of data in tabular form, I wrote a jQuery plugin <a href="https://github.com/xtremespb/zoiaTable">zoiaTable</a> .  It allows you to turn any HTML table into a ‚Äúdynamic‚Äù one, with the ability to filter data, paginate and sort.  How it looks ‚Äúlive‚Äù can be found <a href="https://xtremespb.github.io/zoiaTable/">here</a> . <br><br>  Convenient form building is another task for which I wrote another plugin: <a href="https://github.com/xtremespb/zoiaFormBuilder">zoiaFormBuilder</a> .  It has two main tasks: dynamic construction of forms with the possibility of data serialization / deserialization and data validation according to specified rules. <br><br>  Both plugins are licensed under the MIT license and can be used separately from Zoia, although at the moment I only need them there.  The display is not tied to a specific framework (you can set the desired HTML and styles in the call parameters), the default is UIkit. <br><br>  <b>What else is implemented at the moment?</b> <br><br>  First of all, an accessible user and group management system.  In the long term, this will make it possible to make a distinction of rights for modules and their individual components (for example, a certain group can edit pages only in a specific folder).  At the moment there is one system group - admin, which allows users to log in to the backend. <br><br>  The user registration system is made fairly standard - with validation by e-mail.  It is possible to recover a forgotten password (also via e-mail).  In the future, it will be necessary to tighten the authorization through various social services (by Oauth), two-factor authorization (for example, via Google Authenticator or SMS), and also to make a simple personal account.  What of this is necessary in a system that positions itself as ‚Äúlightweight‚Äù is a separate question. <br><br>  Captcha samopisnaya does not use third-party libraries like GraphicMagick, instead <a href="https://github.com/oliver-moran/jimp">JIMP</a> is used - a library that does not use external dependencies. <br><br>  The Content Editor uses CKEditor as the WISIWYG editor.  It is possible to insert bread crumbs (breadcrumbs) into the pages.  Also a simple browser was written with the ability to upload files and automatically create thumbnails: <br><br><img src="https://habrastorage.org/webt/59/df/23/59df23d04b4b4983158432.png"><br><br>  He can create folders, copy-move files, in general, he has all the basic functionality available. <br><br>  The navigation module (Navigation) allows you to create multi-level navigation menus for the site.  Work with navigation is carried out in the form of a tree in which you can create, edit and drag elements. <br><br>  The system of automatic updates allows you to download a new version of the system and watch the list of changes. <br><br>  <b>How to install Zoia on your server?</b> <br><br>  You will need the installed Node 7+ and MongoDB.  I am developing under Windows, so it works there too, but in production, of course, it‚Äôs better to use a Linux-based system.  To install Zoia, you need to install nginx and mongo packages in the system, then execute the following commands: <br><br> <code>mkdir /var/www/zoia &amp;&amp; chdir /var/www/zoia <br> wget -q -O - https://xtremespb.github.io/zoia/zoia_download | bash <br> npm run config &amp;&amp; npm run install &amp;&amp; npm run webserver</code> <br> <br>  You can also install everything through Docker: <br><br> <code>docker pull mongo:latest <br> docker pull xtremespb/zoia:latest <br> docker run -d --name mongo mongo <br> docker run -p 3000:3000 -d --name zoia --link=mongo:mongo xtremespb/zoia <br> docker exec -it zoia node /usr/local/zoia/bin/install.js</code> <br> <br>  More information about the installation can be read in the <a href="https://github.com/xtremespb/zoia/wiki/Installation">documentation</a> . <br><br>  <b>What will be implemented</b> <br><br>  At the moment, the framework is in the beta state (I think it will be in such a state for quite a long time).  As I wrote above, I want to modify the authorization module (Auth) to a certain stage in order to make two-factor authentication and Oauth - but this is not yet accurate. <br><br>  Also, apart from the basic system, I want to make a module for blogging (personal or collective), as well as a simple module of an online store. <br><br>  <a href="https://github.com/xtremespb/zoia/wiki">Documentation</a> - I'm still working on it.  In general, I work on everything, including architecture, design, development and testing, and there is very little time.  That is why there is no translation into Russian (and other languages) yet, but I will be glad if someone can help me with this.  Also I will be glad to all developers who want to work together on a project - the code is <a href="https://github.com/xtremespb/zoia">open</a> . <br><br>  <i>For a long time did not publish anything on Habr√©.</i> <i><br></i>  <i>If you did something wrong, please write in a personal.</i> <br><br>  <b>UPD:</b> Thank you all for the comments!  Since the publication of the article, I received a large number of individual comments, and over the past weekend I implemented the following changes: 1) the system configuration files are now in JSON format and excluded from the versioning system;  2) the system version is stored directly in package.json;  3) the updated Docker image is based on node: slim and uses only one RUN command;  4) the updated installer does not require root and does not install system packages for the user. </div><p>Source: <a href="https://habr.com/ru/post/339912/">https://habr.com/ru/post/339912/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339902/index.html">Maven, where are my artifacts? Another article about dependency management</a></li>
<li><a href="../339904/index.html">Overview of the Luigi Framework for building sequences of tasks</a></li>
<li><a href="../339906/index.html">Home Minecraft server in Azure part 2 - Azure Automation</a></li>
<li><a href="../339908/index.html">Killer feature Vim</a></li>
<li><a href="../339910/index.html">We break the modified AES-256</a></li>
<li><a href="../339914/index.html">Jupyter Widgets for implementing the Turing UI machine</a></li>
<li><a href="../339916/index.html">SLA philosophy: what is escalation and why is it needed?</a></li>
<li><a href="../339918/index.html">How to gather a chat chat bot from scrap materials in a day and a half</a></li>
<li><a href="../339920/index.html">Zabbix conference 2017: how was the second day</a></li>
<li><a href="../339924/index.html">Check Point R80.10 API. Management through CLI, scripts and not only</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>