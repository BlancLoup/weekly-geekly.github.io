<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Platypus and Packages. Create and install programs on macOS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is often necessary to build code written in Python into an application for Windows, Linux or OS X. Yes, there are indeed many packages for this, su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Platypus and Packages. Create and install programs on macOS</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/59d/0f0/0ef/59d0f00effb24327aa2d27a4bd8547ed.png"><br><br>  It is often necessary to build code written in Python into an application for Windows, Linux or OS X. Yes, there are indeed many packages for this, such as cross-platform <a href="http://cx-freeze.sourceforge.net/">cx_Freeze</a> and <a href="http://www.pyinstaller.org/">PyInstaller</a> , as well as separate <a href="http://www.py2exe.org/">py2exe</a> and <a href="https://pythonhosted.org/py2app/install.html">py2app</a> .  But for macOS it is possible to avoid messing around with creating an installation file. <a name="habracut"></a><br><cut><br>  I must say that unlike Windows, a program on MacOS is just a folder with the <b>.app</b> extension <b>,</b> but the installer has the extension <b>.pkg</b> . <br><br><h5>  Create a program </h5><br>  To create a program from a script, use the program <b><a href="http://sveinbjorn.org/platypus">Platypus</a></b> .  This is a free, open-source program, distributed under the BSD license.  Here is the <s>only</s> main window of this program: <br><img src="https://habrastorage.org/files/447/5ec/baa/4475ecbaac264512a6dfd0e7fec000fa.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  In the <b>App Name</b> field, specify the name of the application, this is how the program will be displayed in the list of programs and Launchpad. </li><li>  In the <b>Script Type</b> drop-down list the language of the script is indicated, in our case it is Python, you can specify the path to the compiler, if, for example, there are several of them on the computer. </li><li>  In the <b>Script Path</b> field, you can create your own new script (‚Äú+ New‚Äù button), or you can select a ready-made script (‚ÄúSelect Script‚Äù button). </li><li>  In the <b>Interface</b> drop-down list, you can select the type of application, in case you have a console application that does not require user input, I recommend selecting Text Window. </li><li>  To the left of the above fields, there is a field for selecting an application icon, the program includes several standard icons, but you can choose your own. </li><li>  The next block of fields is responsible for information about the program, which is provided in the standard About menu.  This is a unique identifier, the author of the program and its version.  In addition, you can specify properties to run, for example, run as an administrator or work in the background. </li><li>  And the second most important block, these are additional files.  As in MacOS, an application is not only an executable file, but also all the files and folders necessary for the application to work.  By pressing the "+" button, you can select both individual files and entire folders. </li><li>  After filling in all the fields, the <b>‚ÄúCreate App‚Äù</b> button becomes active, press it and get a nice file with the extension .app. </li></ul><br>  We have compiled an application that will run on any computer running macOS, but this is not enough for easy distribution and installation by the end user.  Therefore, we will create an installation package for our application. <br><br><h5>  Create an installer </h5><br>  To create installation packages there are several programs, we will use <a href="http://s.sudre.free.fr/Software/Packages/about.html"><b>Packages</b></a> . <br><br><img src="https://habrastorage.org/files/4f1/0c1/45b/4f10c145b0424c94aad2a595f5a3da8a.png"><br><br>  When you open the Packages program, we are asked to choose the type of installation package, choose Distibution, since the Raw Package is necessary when you need to install the files in a non-standard location. <br><br><img src="https://habrastorage.org/files/706/784/4b9/7067844b9f104d9ea5216ee6e72e04c9.png"><br><br>  In the next window, select the name and location of the project.  It makes sense to specify the project working folder as the location.  After creating the project, the following window opens, with a large number of tabs. <br><br><img src="https://habrastorage.org/files/647/12e/d9b/64712ed9be9949dfaaed867689689c48.png"><br><br>  Let's run through them: <br><br><ul><li>  <i>Settings</i> is the first tab, here you can set the name of the application, the working directory, as well as the necessary conditions for installation. </li><li>  <i>Presentations</i> - on this tab you can see the appearance of the installation package itself, add translations to various languages, the installation path and other nuances. </li><li>  <i>Requirements &amp; Resources</i> - the necessary conditions for installation and dependencies.  For example, if the program requires <b>Xcode Command Line Tools</b> , then you can specify this here, and if the check fails, the installation will be canceled. </li><li>  <i>Comments</i> - tab exclusively for developer notes, is a huge field for entering text. </li></ul><br><br>  If in the side menu we select the package we need (in the picture it is <b>My</b> ), then we will see the following picture: <br><br><img src="https://habrastorage.org/files/f6b/459/550/f6b459550bd845c48fb090a9c29b40c6.png"><br><br>  In the <b>Settings</b> tab, you select an identifier, version, and you can specify what to ask the user to do after installation (turn off the computer, reboot, and end the user session).  In addition, you can select Location and additional options, such as entering the admin password, changing permissions for a folder, and so on. <br><br>  In the <b>Payload</b> tab, the main process takes place, adding the application file to the project.  You need to select the desired folder to install the application, for example, <b>Applications</b> , click on the "+" button and select a ready-made file with the extension <b>.app</b> . <br><br><img src="https://habrastorage.org/files/93b/c8a/b28/93bc8ab2877b4c8fb873572c9c43c7c1.png"><br><br>  In the <b>Scripts</b> tab, you can select scripts that will run before or after installation. <br><br>  After all the items are completed, you need to build a project.  This can be done either from the menu <b>Build -&gt; Build</b> or with the help of a special short command <b>B.</b> <br><br>  After this, you will receive an installation file that you can share with your friends and partners. <br><br><h5>  Links to necessary files and training video </h5><br>  <a href="http://sveinbjorn.org/platypus">Platypus</a> - program to build .app; <br><br>  <a href="http://s.sudre.free.fr/Software/Packages/about.html">Packages</a> - software for assembling pkg; <br><br>  <a href="https://www.youtube.com/watch%3Fv%3DnzkHgFrf1jU">This</a> is a great video tutorial for working with the Packages program. <br><br><h5>  Small addition </h5><br>  By default, Platypus just runs the script, but almost always we need to run the program on a computer where python is not installed.  For such a case there is a special life hack: <br><br>  In Platypus, select the <b>shell script</b> as the script type, click on + and write the following code: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh /Applications/MyApp.app/Contents/Resources/compiler/bin/python /Applications/MyApp.app/Contents/Resources/main.py</span></span></code> </pre> <br><br>  Where <ul><li>  MyApp.app is the name of your application. </li><li>  / compiler / bin / python - path to the compiler </li><li>  main.py - required script </li></ul><br><br>  Now, if you build the program and move it to the <b>Applications</b> folder, it will start with your compiler. </cut></div><p>Source: <a href="https://habr.com/ru/post/304778/">https://habr.com/ru/post/304778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304766/index.html">Projecting Google Material Design onto the desktop system ... (part two)</a></li>
<li><a href="../304768/index.html">Direct producer support: the road to hell</a></li>
<li><a href="../304770/index.html">Python3 serials extension support</a></li>
<li><a href="../304772/index.html">If you work with government organizations</a></li>
<li><a href="../304776/index.html">The relevance of the PaaS model for electronic document management systems</a></li>
<li><a href="../304780/index.html">Repost-modern: a selection of materials on how to generate high-quality content</a></li>
<li><a href="../304782/index.html">Work with Bluetooth LE from Java applications</a></li>
<li><a href="../304784/index.html">Typing the names of organizations</a></li>
<li><a href="../304786/index.html">Malicious software is used for cyber espionage over users in Central and Eastern Europe.</a></li>
<li><a href="../304788/index.html">A call from the browser: a tool for business?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>