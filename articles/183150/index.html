<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Functors, applicative functors and monads in pictures</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Here is some simple meaning: 


 And we know how to apply the function to it: 


 Elementary. So now let's complicate the task - let our meaning have ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Functors, applicative functors and monads in pictures</h1><div class="post__text post__text-html js-mediator-article"> Here is some simple meaning: <br><img src="https://habrastorage.org/storage2/455/886/8ce/4558868cef65f4b28e06fb33e8dea6e1.png"><br><br>  And we know how to apply the function to it: <br><img src="https://habrastorage.org/storage2/56c/b1d/fcf/56cb1dfcfe93c695abe91f967efa46b4.png"><br><br>  Elementary.  So now let's complicate the task - let our meaning have a context.  For now, you can think of context simply as a box where you can put a value: <br><img src="https://habrastorage.org/storage2/3c0/4cc/19b/3c04cc19b198537e5334459b79d915c1.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now, when you apply a function to this value, you will get different results - <b>depending on the context</b> .  This is the basic idea on which functors, applicative functors, monads, arrows, etc. are based.  The <code>Maybe</code> data type defines two related contexts: <br><img src="https://habrastorage.org/storage2/be0/182/2de/be01822de6f660845c952b2b4fa7edb6.png"><br><br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class"> a = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Nothing</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Just</span></span></span><span class="hljs-class"> a</span></span></code> </pre><br>  Later we will see the difference in the behavior of the function for <code>Just a</code> versus <code>Nothing</code> .  But first, let's talk about functors! <br><a name="habracut"></a><br><h4>  Functors </h4><br>  When you have a value wrapped in a context, you cannot simply take and apply the usual function to it: <br><img src="https://habrastorage.org/storage2/495/97b/9b9/49597b9b94e87887cd2f1bd79c0eddaf.png"><br><br>  And here <code>fmap</code> to the rescue.  <code>fmap</code> is a guy from the street, <code>fmap</code> knows a lot about contexts.  He knows how to apply a function to a value wrapped in a context.  Let's say that you want to apply <code>(+3)</code> to <code>Just 2</code> .  Use <code>fmap</code> : <br><pre> <code class="haskell hljs">&gt; fmap (+<span class="hljs-number"><span class="hljs-number">3</span></span>) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre><br><br><img src="https://habrastorage.org/storage2/745/6ee/882/7456ee882cd44a105dd9c943e8605f97.png"><br><br>  <b>Bam!</b>  <code>fmap</code> showed us how to do it!  But how does he know how to properly apply a function? <br><br><h4>  So what is a functor really? </h4><br>  A functor is a <a href="http://learnyouahaskell.com/types-and-typeclasses">class of types</a> .  Here is its definition: <br><img src="https://habrastorage.org/storage2/6f3/b55/4f6/6f3b554f6ecdfddef9e1f4346f9b30d0.png"><br><br>  A functor is any data type for which it is defined how <code>fmap</code> is applied to it.  This is how <code>fmap</code> works: <br><img src="https://habrastorage.org/storage2/2db/49f/7fe/2db49f7fef6ef78e27bf4f6b96866a17.png"><br><br>  So we can do this: <br><pre> <code class="haskell hljs">&gt; fmap (+<span class="hljs-number"><span class="hljs-number">3</span></span>) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre><br><br>  And <code>fmap</code> magically apply this function, because <code>Maybe</code> is a functor.  It defines how to apply functions to <code>Just</code> 's and <code>Nothing</code> 's: <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap func (<span class="hljs-type"><span class="hljs-type">Just</span></span> val) = <span class="hljs-type"><span class="hljs-type">Just</span></span> (func val) fmap func <span class="hljs-type"><span class="hljs-type">Nothing</span></span> = <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre><br><br>  This is what happens behind the scenes when we write <code>fmap (+3) (Just 2)</code> : <br><img src="https://habrastorage.org/storage2/983/73b/546/98373b54695813ce070a7fc782ca8a35.png"><br><br>  And then you say: "Ok, <code>fmap</code> , and apply, please, <code>(+3)</code> to <code>Nothing</code> ." <br><img src="https://habrastorage.org/storage2/788/3ad/937/7883ad93713ea4406c129d54f83659d8.png"><br><br><pre> <code class="haskell hljs">&gt; fmap (+<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-type"><span class="hljs-type">Nothing</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre><br><br><img src="https://habrastorage.org/storage2/238/88c/8ed/23888c8ed4ae153e5c4d62321fec63c1.png"><br>  <i>Bill O'Reilly does not understand anything in the Maybe functor.</i> <br><br>  Like Morpheus in The Matrix, <code>fmap</code> knows what to do;  you started with <code>Nothing</code> and finish with <code>Nothing</code> too!  This is <code>fmap</code> zen.  And now it is clear why the data type <code>Maybe</code> exists.  For example, how would you work with a record in a database in a language without <code>Maybe</code> : <br><pre> <code class="ruby hljs">post = Post.find_by_id(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> post <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> post.title <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><br>  On Haskell: <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">fmap</span></span> (getPostTitle) (findPost <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre><br><br>  If <code>findPost</code> returns a message, then we display its header using <code>getPostTitle</code> .  If it returns <code>Nothing</code> , then we return <code>Nothing</code> !  Damn graceful, huh? <br>  <code>&lt;$&gt;</code> Is the infix version of <code>fmap</code> , so instead of the code above you can often find: <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">getPostTitle</span></span> &lt;$&gt; (findPost <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre><br><br>  Here is another example: what happens when you apply a function to a list? <br><img src="https://habrastorage.org/storage2/5ba/e29/3d1/5bae293d123881aa5920d3e7e9e1d039.png"><br><br>  Lists are functors too!  Here is the definition: <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> [] </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap = map</code> </pre><br><br>  Okay, okay, another (last) example: what happens when you apply a function to another function? <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">fmap</span></span> (+<span class="hljs-number"><span class="hljs-number">3</span></span>) (+<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre><br><br>  Here is the function: <br><img src="https://habrastorage.org/storage2/201/3f4/3c6/2013f43c6f7083d7acec85ce3af127e5.png"><br><br>  But the function applied to another function: <br><img src="https://habrastorage.org/storage2/963/2a1/176/9632a117608770a1282fe34ee569c7cd.png"><br><br>  The result is just another function! <br><pre> <code class="haskell hljs">&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Control.Applicative &gt; let foo = fmap (+3) (+2) &gt; foo 10 15</code> </pre><br><br>  So functions are functors too! <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> ((-&gt;) r) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap fg = f . g</code> </pre><br><br>  And when you apply <code>fmap</code> to a function, you simply make a composition of functions! <br><br><h4>  Applicative Functors </h4><br>  The next level is applicative functors.  With them, our value is still packed in context (as well as with functors): <br><img src="https://habrastorage.org/storage2/3c0/4cc/19b/3c04cc19b198537e5334459b79d915c1.png"><br><br>  But now our function is packed in context! <br><img src="https://habrastorage.org/storage2/a30/d05/78b/a30d0578bd8153b5d70d19561132da28.png"><br><br>  Aha  Let's get into this.  Applicative functors are not engaged in cheating.  <code>Control.Applicative</code> defines a <code>&lt;*&gt;</code> that knows how to apply a function <i>wrapped in a context</i> to a value <i>wrapped in a context</i> : <br><img src="https://habrastorage.org/storage2/513/590/2f0/5135902f0402a8cdce151394f1e5a27f.png"><br><br>  Those. <br><pre> <code class="haskell hljs"><span class="hljs-type"><span class="hljs-type">Just</span></span> (+<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre><br><br>  Using <code>&lt;*&gt;</code> can lead to interesting situations.  For example: <br><pre> <code class="haskell hljs">&gt; [(*<span class="hljs-number"><span class="hljs-number">2</span></span>), (+<span class="hljs-number"><span class="hljs-number">3</span></span>)] &lt;*&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]</code> </pre><br><br><img src="https://habrastorage.org/storage2/bc8/171/e3d/bc8171e3d0850ac81f6eca96502f15f6.png"><br><br>  And here is something that you can do with applicative functors, but you cannot do it with ordinary ones.  How do you apply a function that takes two arguments to two packed values? <br><pre> <code class="haskell hljs">&gt; (+) &lt;$&gt; (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> (+<span class="hljs-number"><span class="hljs-number">5</span></span>) &gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> (+<span class="hljs-number"><span class="hljs-number">5</span></span>) &lt;$&gt; (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>) ???         <span class="hljs-type"><span class="hljs-type">JUST</span></span></code> </pre><br><br>  Applicative functors: <br><pre> <code class="haskell hljs">&gt; (+) &lt;$&gt; (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> (+<span class="hljs-number"><span class="hljs-number">5</span></span>) &gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> (+<span class="hljs-number"><span class="hljs-number">5</span></span>) &lt;*&gt; (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre><br><br>  <code>Applicative</code> technically pushes <code>Functor</code> aside.  ‚ÄúThe big guys can use functions with any number of arguments,‚Äù he says.  ‚ÄúArmed with <code>&lt;$&gt;</code> and <code>&lt;*&gt;</code> , I can take any function that expects any number of unpacked arguments.  Then I will give her all the packed values ‚Äã‚Äãand get the same packed result!  BVAHAHAHAHAHAHA! " <br><pre> <code class="haskell hljs">&gt; (*) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span></code> </pre><br><br><img src="https://habrastorage.org/storage2/21d/00a/044/21d00a0447e98cd11f0f3f0f3eb1dff1.gif"><br>  <i>The applicative functor observes how the ordinary uses the function.</i> <br><br>  And yes!  There is a <code>liftA2</code> function that does the same thing: <br><pre> <code class="haskell hljs">&gt; liftA2 (*) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span></code> </pre><br><br><h4>  Monads </h4><br>  How to learn monads: <br><ol><li>  Get PhD Crusts in Computer Science </li><li>  Throw them nafig, because when reading this section you will not need them! </li></ol><br>  Monads add a new twist to our story. <br>  Functors apply a regular function to a packed value: <br><img src="https://habrastorage.org/storage2/4ad/340/ac3/4ad340ac37572e625b8b78bdfc7229b6.png"><br><br>  Applicative functors apply a packed function to the same packed value: <br><img src="https://habrastorage.org/storage2/e14/0a9/34a/e140a934a1e7eb6d5936fa73007eb3b6.png"><br><br>  Monads apply a function <b>that returns a packed value</b> to a packed value.  Monads have a function <code>&gt;&gt;=</code> (pronounced ‚Äúbinding‚Äù ( <i>bind</i> )), which allows to do this. <br>  Consider this example: our good old <code>Maybe</code> - this is a monad: <br><img src="https://habrastorage.org/storage2/be0/182/2de/be01822de6f660845c952b2b4fa7edb6.png"><br>  <i>Just a loose monad</i> <br><br>  Let <code>half</code> be a function that works only with even numbers: <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">half</span></span> x = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> even x <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> (x `div` <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre><br><br><img src="https://habrastorage.org/storage2/390/43d/bf8/39043dbf84680405fa43322159287fb3.png"><br><br>  And what if we feed her the packed value? <br><img src="https://habrastorage.org/storage2/360/8a6/45e/3608a645e7f5af4ecdbf22b0313d450f.png"><br><br>  We need to use <code>&gt;&gt;=</code> to push the packed value through the function.  Here's a photo <code>&gt;&gt;=</code> : <br><img src="https://habrastorage.org/storage2/e05/3d7/ed3/e053d7ed34654fa46ccfeaee5ef68194.jpg"><br><br>  And here is how it works: <br><pre> <code class="haskell hljs">&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &gt;&gt;= half <span class="hljs-type"><span class="hljs-type">Nothing</span></span> &gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> &gt;&gt;= half <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> &gt; <span class="hljs-type"><span class="hljs-type">Nothing</span></span> &gt;&gt;= half <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre><br><br>  What happens inside?  <code>Monad</code> is another type class.  Here is its partial definition: <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Monad</span></span></span><span class="hljs-class"> m </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> (&gt;&gt;=) :: ma -&gt; (a -&gt; mb) -&gt; mb</code> </pre><br><br>  Where <code>&gt;&gt;=</code> : <br><img src="https://habrastorage.org/storage2/071/04f/43f/07104f43fa43b49db82e7c59c48cbcf3.png"><br><br>  So <code>Maybe</code> is a monad: <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Monad</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span> &gt;&gt;= func = <span class="hljs-type"><span class="hljs-type">Nothing</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> val &gt;&gt;= func = func val</code> </pre><br><br>  But what actions are done over the poor <code>Just 3</code> ! <br><img src="https://habrastorage.org/storage2/1c2/2f3/a83/1c22f3a8336dad867b52eaef21e98e04.png"><br><br>  If you give <code>Nothing</code> to the input, it is still easier: <br><img src="https://habrastorage.org/storage2/584/90e/07e/58490e07ec45b3dfff7d08e21fefafab.png"><br><br>  You can also link a chain of calls: <br><pre> <code class="haskell hljs">&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> &gt;&gt;= half &gt;&gt;= half &gt;&gt;= half <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre><br><br><img src="https://habrastorage.org/storage2/2dc/bcd/64a/2dcbcd64a4d6b362425a08bbae2efc98.png"><br><img src="https://habrastorage.org/storage2/232/4c6/639/2324c6639d2035cc71101880c2de5ed6.png"><br><br>  Cool stuff!  And now we know that <code>Maybe</code> is <code>Functor</code> , <code>Applicative</code> and <code>Monad</code> in one person. <br>  And now let's switch to another example: <code>IO</code> monad: <br><img src="https://habrastorage.org/storage2/1ba/e13/8f3/1bae138f3fae81b2215ea828949e7a57.png"><br><br>  In particular, on its three functions.  <code>getLine</code> takes no arguments and gets user data from login: <br><img src="https://habrastorage.org/storage2/0d4/10f/515/0d410f515a206108eea1eb7ff661a647.png"><br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">getLine</span></span> :: <span class="hljs-type"><span class="hljs-type">IO</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span></code> </pre><br><br>  <code>readFile</code> takes a string (file name) and returns its contents: <br><img src="https://habrastorage.org/storage2/263/39f/b92/26339fb92465bc86988a2270a2e0e05d.png"><br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">readFile</span></span> :: <span class="hljs-type"><span class="hljs-type">FilePath</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">IO</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span></code> </pre><br><br>  <code>putStrLn</code> takes a string and prints it: <br><img src="https://habrastorage.org/storage2/fb1/4a7/eb5/fb14a7eb57319bc17c7c13c24e532310.png"><br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">putStrLn</span></span> :: <span class="hljs-type"><span class="hljs-type">String</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">IO</span></span> ()</code> </pre><br><br>  All three functions take regular values ‚Äã‚Äã(or no values ‚Äã‚Äãat all) and return packed values.  So we can chain them with <code>&gt;&gt;=</code> ! <br><img src="https://habrastorage.org/storage2/fe1/00a/6ac/fe100a6ac7d36f6c7de657088bbc8e97.png"><br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">getLine</span></span> &gt;&gt;= readFile &gt;&gt;= putStrLn</code> </pre><br><br>  Oh yes, we have tickets in the first row for the "Monad-show"! <br>  Haskell also provides us with some syntactic sugar for monads, called <code>do</code> notation: <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">foo</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> filename &lt;- getLine contents &lt;- readFile filename putStrLn contents</code> </pre><br><br><h4>  Conclusion </h4><br><ol><li>  A functor is a data type that is implemented using the <code>Functor</code> type class. </li><li>  An applicative functor is a data type that is implemented using the <code>Applicative</code> type class. </li><li>  A monad is a data type that is implemented using the <code>Monad</code> type class. </li><li>  Maybe is implemented using all three types of types, so it is a functor, an applicative functor, and a monad at the same time. </li></ol><br>  What is the difference between these three? <br><img src="http://habrastorage.org/storage2/175/629/0fe/1756290fe42096710c2d3761c763351e.png"><br><br><ul><li>  <b>functor</b> : you apply a function to a packed value using <code>fmap</code> or <code>&lt;$&gt;</code> </li><li>  <b>applicative functor</b> : you apply a packed function to a packed value using <code>&lt;*&gt;</code> or <code>liftA</code> </li><li>  <b>monad</b> : you apply a function that returns a packed value to a packed value using <code>&gt;&gt;=</code> or <code>liftM</code> </li></ul><br><br>  So, dear friends (and I hope that by this time we have become friends), I think we all agree that monads are simple and a CLEAR IDEA (tm).  And now, after we wet our throats with this manual, then why not call Mel Gibson and not finish the bottle to the bottom?  Check out the monad <a href="http://learnyouahaskell.com/a-fistful-of-monads">section</a> at LYAH.  There are a lot of things that I didn‚Äôt say, because Miran did a great job of digging into this material. <br>  More monads and pictures can be found in <a href="http://adit.io/posts/2013-06-10-three-useful-monads.html">three useful monads</a> ( <a href="http://habrahabr.ru/post/184722/">translation</a> ). <br><br>  <i>From the translator:</i> <i><br></i>  <i>Link to the original: <a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html">http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html</a> I write it this way because Habr swears on url with commas.</i> <i><br></i>  <i>And, of course, I would be very grateful for the comments in PM regarding the translation.</i> </div><p>Source: <a href="https://habr.com/ru/post/183150/">https://habr.com/ru/post/183150/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../183120/index.html">What are you, MacBook Air 13.3 ‚Ä≥ 2013 release?</a></li>
<li><a href="../183122/index.html">Lens for iPhone 4 / 4S, 3 in one</a></li>
<li><a href="../183130/index.html">What I learned in 8 months at Microsoft</a></li>
<li><a href="../183144/index.html">Demonstration of WebRTC, WebGL and Go from Google</a></li>
<li><a href="../183146/index.html">Minnowboard - Intel Atom mini-computer</a></li>
<li><a href="../183152/index.html">Basics of IP telephony, basic principles, terms and protocols</a></li>
<li><a href="../183154/index.html">Infrastructure of fail-safe data center class TIER-III</a></li>
<li><a href="../183158/index.html">IBM promotes Linux in the corporate segment</a></li>
<li><a href="../183164/index.html">My job is to wait for IT disasters</a></li>
<li><a href="../183166/index.html">Acoustic Surveillance Systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>