<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Webmaster‚Äôs blocking of a banned site without settings and client-side software</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I saw somehow IPv6 Teredo of peers in ¬µTorrent under Windows, which shook the pieces at a fairly decent speed, and then it dawned on me ... 

 What is...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Webmaster‚Äôs blocking of a banned site without settings and client-side software</h1><div class="post__text post__text-html js-mediator-article">  I saw somehow IPv6 Teredo of peers in ¬µTorrent under Windows, which shook the pieces at a fairly decent speed, and then it dawned on me ... <br><br><h3>  What is Teredo? </h3>  Teredo is an IPv6 tunneling technology over IPv4 UDP packets.  She conceived of as a transitional technology that works for NAT, and, in general, more or less fulfills the duties assigned to it.  Teredo allows you to access IPv6 Internet through public Teredo servers.  Interestingly, in Windows 7, 8 and 8.1, Teredo is configured and enabled by default, right out of the box, and uses Microsoft's Teredo server (teredo.ipv6.microsoft.com). <br><br><h3>  Why do we need it? </h3>  Websites that have certain links for one reason or another are in the registry of banned sites can organize access using Teredo, which will allow about 80-85% of users to return access to the site to users of modern versions of Windows without additional settings and software!  Access through Teredo allows you to bypass all the tested DPI-solutions used by providers.  Roskomnadzor not only cannot add such pages to the registry, but also cannot access them (probably Teredo does not work for them): <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  Hello <br>  Thank you for your active citizenship, but we inform you that your application was rejected for the following possible reasons: <br>  - at the time of the examination by experts, the address specified in your appeal was http: // [2001: 0: 9d38: 6ab8: 30c4: d940: 9469: f43e] / was not available; <br>  - the address specified in your appeal http: // [2001: 0: 9d38: 6ab8: 30c4: d940: 9469: f43e] / is entered incorrectly, or is being redirected to another address; <br>  - the address specified in your appeal http: // [2001: 0: 9d38: 6ab8: 30c4: d940: 9469: f43e] / requires mandatory registration / authorization. <br>  Respectfully, <br>  FEDERAL SERVICE FOR SUPERVISION IN THE SPHERE OF COMMUNICATION, INFORMATION TECHNOLOGIES AND MASS COMMUNICATION. </div></div>  In addition, Roskomnadzor does not have the authority to block pages that redirect to other pages, and the <a href="http://navalny.us/">"Actual Bulk"</a> button confirms this. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Features of Microsoft's Teredo Server </h3>  To access the ‚Äúnormal‚Äù IPv6, Teredo uses Relay servers that have full IPv6 access and work as proxy servers.  In turn, Microsoft's Teredo relay servers do not allow access to ‚Äúregular‚Äù IPv6 or other Teredo servers, allowing only the connectivity of Teredo clients configured on the Microsoft server and forming such a large closed network of Windows computers. <a name="habracut"></a><br><br><h3>  Features of the implementation of DNS in Windows </h3>  If Windows has only a Teredo IPv6 address, the DNS resolver will not even try to get AAAA records from domains.  Thus, just going to the site by a domain name, even if it has only an AAAA record and no A record, will not work.  This can be disabled by a special parameter in the registry, but it is not interesting, because  requires action on the client side. <br><br><h3>  What to do? </h3>  The output is simple and not very elegant - use a domain with access over IPv4, which will make an HTTP redirect to Teredo's IPv6 address.  You can do either the usual redirection code 307 or 301, or through javascript, first checking the availability of Teredo addresses or combining with other solutions to bypass the block. <br><br><h3>  How to setup? </h3>  To host a website in Teredo for Linux, you need to use the miredo Teredo client, and be sure to configure it to use win8.ipv6.microsoft.com.  Also, so that your Teredo address changes as rarely as possible, I recommend setting a static outgoing port in the miredo configuration file ( <b>/etc/miredo/miredo.conf</b> or <b>/etc/miredo.conf</b> , depending on the distribution), i.e.  set the <b>BindPort</b> parameter. <br>  Make sure your web server is listening to IPv6 addresses.  For nginx, this is the <b>listen</b> parameter. <br>  My config looks like this: <div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre><code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> 5yo.panty.shot.valdikss.org.ru; <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">307</span></span> http://[2001:0:9d38:90d7:899:d93f:9469:f43e]/; } } <span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> [<span class="hljs-number"><span class="hljs-number">2001</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>:9d38:90d7:<span class="hljs-number"><span class="hljs-number">899</span></span>:d93f:<span class="hljs-number"><span class="hljs-number">9469</span></span>:f43e]:<span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> [<span class="hljs-number"><span class="hljs-number">2001</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>:9d38:90d7:<span class="hljs-number"><span class="hljs-number">899</span></span>:d93f:<span class="hljs-number"><span class="hljs-number">9469</span></span>:f43e]; <span class="hljs-attribute"><span class="hljs-attribute">root</span></span> /usr/share/nginx/html/pantyshot/; <span class="hljs-attribute"><span class="hljs-attribute">index</span></span> index.html index.htm; <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">try_files</span></span> <span class="hljs-variable"><span class="hljs-variable">$uri</span></span> <span class="hljs-variable"><span class="hljs-variable">$uri</span></span>/ =<span class="hljs-number"><span class="hljs-number">404</span></span>; } }</code> </pre> </div></div><br>  I made a test page where you can listen to the wonderful Panty Shot track from Mindless Self Indulgence.  I think it can be considered illegal, given the bunch of canceled concerts of soulless bands. <br>  <a href="http://5yo.panty.shot.valdikss.org.ru/">5yo.panty.shot.valdikss.org.ru</a> <br>  The page should open only if you are using Windows 7, 8 or 8.1 and do not have other IPv6 connections (native, 6to4, 6in4). <br><br><h3>  Conclusion </h3>  In my opinion, this technology will significantly affect the availability of blocked sites. <br><br>  <b>UPD</b> : Microsoft disconnected the Teredo servers, which were used for Windows Vista and 7. Now Teredo, by default, only works on Windows 8, 8.1 and Windows 10. </div><p>Source: <a href="https://habr.com/ru/post/252611/">https://habr.com/ru/post/252611/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252597/index.html">Review of the most interesting materials on data analysis and machine learning ‚Ññ38 (March 2 - 8, 2015)</a></li>
<li><a href="../252601/index.html">Features of working with files in applications on different mobile platforms</a></li>
<li><a href="../252603/index.html">Yandex - we will think for you</a></li>
<li><a href="../252605/index.html">Install and configure 3CX Webmeeting Server</a></li>
<li><a href="../252607/index.html">Sendmail stub for php and php</a></li>
<li><a href="../252613/index.html">Apple released iOS 8.2</a></li>
<li><a href="../252621/index.html">Instantiate not instantiated</a></li>
<li><a href="../252629/index.html">Comparing libraries for asynchronous requests</a></li>
<li><a href="../252637/index.html">Animations against lags, or the best battle that was not</a></li>
<li><a href="../252639/index.html">130 thousand surveillance cameras - how to make them work?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>