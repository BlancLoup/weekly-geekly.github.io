<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Failure implementation in MS SQL Server 2017 Standard</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 Quite often, you can meet the problem of ensuring the resiliency of MS SQL Server DBMS. It becomes even more interesting when there is no E...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Failure implementation in MS SQL Server 2017 Standard</h1><div class="post__text post__text-html js-mediator-article"><h3>  Foreword </h3><br>  Quite often, you can meet the problem of ensuring the resiliency of MS SQL Server DBMS.  It becomes even more interesting when there is no Enterprise license, but only Standard. <br><br>  Immediately, we note that the Express license will not be considered, and there are significant limitations on this instance.  Yes, some of them can be circumvented.  For example, the maximum database size of 10 GB is easily solved by decomposing a large database into smaller ones (for example, creating a new database for some reason, and combining the samples from the same tables of different databases in the main database).  But fault tolerance in Express will be achieved either by the system administrator, or by using the actually developed (or third-party) software. <br><br>  In this article, we will briefly review all existing standard fault tolerance technologies for MS SQL Server 2017 and will consider an example of how to implement the failure of the most appropriate unified one in the Standard license. <br><a name="habracut"></a><br><h3>  Short review </h3><br><ol><li>  <b>AlwaysOn:</b> load distribution among all participants; all participants should be as similar as possible to each other. <br>  In synchronous mode, the maximum reliability of data transmission is ensured, however, the speed of work will be equal to the speed of the slowest participant.  In asynchronous mode, maximum speed is ensured, however, data mismatch between the participants may occur, which leads to more complex support and the likelihood of losing the latest changes in case of a major participant failure. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The speed of switching in synchronous mode is almost instantaneous and does not require intervention by the system administrator and DBA, in asynchronous mode it depends on the current state of the duplicate database, but usually it takes up to 5 minutes on average (you can also automate switching by one DBA without involving the system administrator). <br><br>  Recognized by Microsoft as the recommended technology for the database.  Available with Enterprise license from 2012 version and above.  Available with restrictions with the Standard license (for details, see <a href="https://blogs.technet.microsoft.com/msftpietervanhove/2017/03/14/top-5-questions-about-basic-availability-groups/">Top 5 Questions about Basic Availability Groups</a> ). <br></li><li>  <b>Clustering:</b> despite the simplicity of configuration, this solution is unreliable in view of the bottleneck in the form of a single data warehouse for all.  In case of failure of the data warehouse, recovery will take a rather long period of time ‚Äî more than 1 hour. <br>  Available with Standard license prior to 2008 version and above. <br></li><li>  <b>Replication:</b> any replication implies the creation of system triggers on each member table, and the replication of snapshots will be quite hard for the main database.  Therefore, the replication of snapshots can be done only during the minimum hours of database load (for example, at night), which is unacceptable, because a hot reserve is required.  Merge replication is difficult to maintain for some systems (for example, CRM, NAV), it is also not suitable for 1C due to frequent changes in database structures. <br><br>  Transactional replication is possible, but with an Enterprise license. <br>  Available with Standard license (merge and database snapshots) and Enterprise (transactions) up to 2008 version and higher. <br></li><li>  <b>Mirroring:</b> possible in any mode, however, as with AlwaysOn, synchronous mode provides maximum reliability and fast switching, and asynchronous mode gives maximum speed from the main database, but data mismatch between all participants is possible, and switching will not be instantaneous.  Here, switching at the database level provides the witness server automatically (for example, with a CPU load of more than 50% on the main server) or by means of DBA.  Connection to another server is provided by the system administrator.  The backup database for any type of mirroring is in the permanent recovery mode, as a result of which it is impossible to access it. <br>  DB recovery mode is full. <br><br>  Recognized by Microsoft as obsolete technology for the database. <br>  Available with Standard (in synchronous mode) and Enterprise (in asynchronous mode) up to 2008 version and higher. <br></li><li>  <b>Delivery of transaction logs:</b> there are 2 modes ‚Äî permanent recovery on a backup server or recovery with a delay. <br><br>  The first mode switches the backup database (as in mirroring) to the permanent recovery mode and cannot be accessed. <br><br>  The second mode transfers the backup database to the recovery mode periodically at the moment of updates rolling (between the update rolls, the backup database is available, but this is possible provided that the MS SQL Server instances are the same version). <br><br>  The principle of operation is simple: <br><br><ol><li>  Periodically, a backup copy of the database transaction log at the source is made to the public folder of both the source and the backup whine (the path and schedule are configured, by default, every 15 minutes). </li><li>  The backup skully periodically copies the resulting backup of the database transaction log to a local accessible folder (the path and schedule are configured, by default, every 15 minutes). </li><li>  The backup script restores the transaction log from the copied backup of the transaction log (a schedule is configured, by default - every 15 minutes). </li></ol><br>  Switching can be automated at the DB level by DBA forces, and at the level of connections to the server at the level of the system administrator. <br><br>  It is also worth noting that this method always works in asynchronous mode.  You can configure multiple backup databases. <br><br>  Database Recovery Mode - full or incomplete logging <br>  Available with Standard license prior to 2008 version and above. <br></li></ol><br><h3>  Conclusion </h3><br>  From the above options, the delivery of transaction logs in the Standard license is more suitable, and it is convenient to use it for a smooth transition from one server to another (for example, when updating the environment).  Also, the delivery of transaction logs is sufficiently simple to maintain and easy to operate, and it also always works in asynchronous mode, which is not so much (as a synchronous mirroring mode) loads the database.  In any case, mirroring is acceptable if it is possible to configure your own automatic switching, otherwise false switching may occur (for example, when the CPU of the main server is loaded by more than 50%). <br><br>  For Enterprise - the technology AlwaysOn is definitely offered. <br><br><h3>  Configure failover on the delivery of transaction logs </h3><br>  Details on setting up the delivery of transaction logs are described <a href="https://docs.microsoft.com/ru-ru/sql/database-engine/log-shipping/configure-log-shipping-sql-server">here</a> .  This process can also be automated by writing your own utility for repeated reuse, as well as for returning to the main server after it has been repaired in the event of a failover. <br><br>  Let us now analyze one of the possible options for failover during the delivery of transaction logs at the DBMS level. <br><br>  It is important to note that this method is suitable only for the server, which is a backup for only one instance of MS SQL Server, that is, for several there is a problem in determining which tasks to perform and which not. <br><br>  We first describe the sequence of actions: <br><br><ol><li>  Perform all tasks of copying the latest files from the source (with a well-thought-out architecture, the path must be accessible even if the main server falls) </li><li>  Shut down all tasks for copying files from source </li><li>  Perform all tasks to restore the database on the latest files from the source </li><li>  Disable all tasks to restore the database on the latest files from the source </li><li>  Make the database restored and the main log shipping, but without the recipient </li><li>  Create full backups for the database </li><li>  Create jobs to back up database transaction logs </li></ol><br>  Below is an example implementation of the above described sequence in the form of a stored procedure. <br><br>  It is worth noting that it is important to set up a login (preferably a domain), under which the created tasks will be run to create backup copies of transaction logs. <br><br><div class="spoiler">  <b class="spoiler_title">Transaction Log Failover Implementation Example</b> <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCEDURE</span></span> [srv].[RunLogShippingFailover] @isfailover <span class="hljs-built_in"><span class="hljs-built_in">bit</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span>, @login <span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>)=N<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-comment"><span class="hljs-comment">-- ( ),              @backup_directory nvarchar(255)=N''--          MS SQL Server (, 'D:\Shared') AS /*            @isfailover=1    @isfailover=0   -           ,                 . ,              */ BEGIN --     ,           if(@isfailover=1) begin select [job_id] into #jobs from [msdb].[dbo].[sysjobs] where [name] like 'LSCopy%'; declare @job_id uniqueidentifier; while(exists(select top(1) 1 from #jobs)) begin select top(1) @job_id=[job_id] from #jobs; begin try EXEC [msdb].dbo.sp_start_job @job_id=@job_id; end try begin catch end catch delete from #jobs where [job_id]=@job_id; end drop table #jobs; end --             --             update [msdb].[dbo].[sysjobs] set [enabled]=case when (@isfailover=1) then 0 else 1 end where [name] like 'LSCopy%'; --     ,             if(@isfailover=1) begin select [job_id] into #jobs2 from [msdb].[dbo].[sysjobs] where [name] like 'LSRestore%'; while(exists(select top(1) 1 from #jobs2)) begin select top(1) @job_id=[job_id] from #jobs2; begin try EXEC [msdb].dbo.sp_start_job @job_id=@job_id; EXEC [msdb].dbo.sp_start_job @job_id=@job_id; end try begin catch end catch delete from #jobs2 where [job_id]=@job_id; end drop table #jobs2; end --                --                update [msdb].[dbo].[sysjobs] set [enabled]=case when (@isfailover=1) then 0 else 1 end where [name] like 'LSRestore%'; --    ,        ,    if(@isfailover=1) begin select [secondary_database] as [name] into #dbs from msdb.dbo.log_shipping_monitor_secondary where [secondary_server]=@@SERVERNAME; declare @db nvarchar(255); while(exists(select top(1) 1 from #dbs)) begin select top(1) @db=[name] from #dbs; begin try RESTORE DATABASE @db WITH RECOVERY; end try begin catch end catch delete from #dbs where [name]=@db; end drop table #dbs; select [secondary_database] as [name] into #dbs2 from msdb.dbo.log_shipping_monitor_secondary where [secondary_server]=@@SERVERNAME; declare @jobId BINARY(16); declare @command nvarchar(max); declare @dt nvarchar(255)=cast(YEAR(GetDate()) as nvarchar(255)) +'_'+cast(MONTH(GetDate()) as nvarchar(255)) +'_'+cast(DAY(GetDate()) as nvarchar(255)) +'_'+cast(DatePart(hour,GetDate()) as nvarchar(255)) +'_'+cast(DatePart(minute,GetDate()) as nvarchar(255)) +'.trn'; declare @backup_job_name nvarchar(255); declare @schedule_name nvarchar(255); declare @disk nvarchar(255); declare @uid uniqueidentifier; while(exists(select top(1) 1 from #dbs2)) begin select top(1) @db=[name] from #dbs2; set @disk=@backup_directory+N'\'+@db+N'.bak'; set @backup_job_name=N'LSBackup_'+@db; set @schedule_name=N'LSBackupSchedule_'+@@SERVERNAME+N'_'+@db; set @command=N'declare @disk nvarchar(max)='+N''''+@backup_directory+N'\'+@db+'_'+@dt+N'''' +N'BACKUP LOG ['+@db+'] TO DISK = @disk WITH NOFORMAT, NOINIT, NAME = '+N''''+@db+N''''+N', SKIP, NOREWIND, NOUNLOAD, STATS = 10;'; set @uid=newid(); begin try BACKUP DATABASE @db TO DISK = @disk WITH NOFORMAT, NOINIT, NAME = @db, SKIP, NOREWIND, NOUNLOAD, STATS = 10; EXEC msdb.dbo.sp_add_job @job_name=@backup_job_name, @enabled=1, @notify_level_eventlog=0, @notify_level_email=0, @notify_level_netsend=0, @notify_level_page=0, @delete_level=0, @description=N'No description available.', @category_name=N'[Uncategorized (Local)]', @owner_login_name=@login, @job_id = @jobId OUTPUT; EXEC msdb.dbo.sp_add_jobstep @job_id=@jobId, @step_name=@backup_job_name, @step_id=1, @cmdexec_success_code=0, @on_success_action=1, @on_success_step_id=0, @on_fail_action=2, @on_fail_step_id=0, @retry_attempts=0, @retry_interval=0, @os_run_priority=0, @subsystem=N'TSQL', @command=@command, @database_name=N'master', @flags=0; EXEC msdb.dbo.sp_update_job @job_id = @jobId, @start_step_id = 1; EXEC msdb.dbo.sp_add_jobschedule @job_id=@jobId, @name=@backup_job_name, @enabled=1, @freq_type=4, @freq_interval=1, @freq_subday_type=4, @freq_subday_interval=5, @freq_relative_interval=0, @freq_recurrence_factor=0, @active_start_date=20171009, @active_end_date=99991231, @active_start_time=0, @active_end_time=235959, @schedule_uid=@uid; EXEC msdb.dbo.sp_add_jobserver @job_id = @jobId, @server_name = N'(local)'; end try begin catch end catch delete from #dbs2 where [name]=@db; end drop table #dbs2; end END</span></span></code> </pre> </div></div><br>  To return to the primary server, you need to reconfigure the delivery of transaction logs from the backup server to the primary server, and then do a failover (after that, the primary server will again become operational).  After that, configure the delivery of transaction logs from the battle server to the backup server. <br><br><h3>  Configure autocorrection to monitor the delivery of transaction logs </h3><br>  To monitor the delivery of transaction logs, the monitor server uses the LSAlert_ &lt;NAME_SCEMPLARE&gt; task and report (Right-click on the monitor server instance, hereafter Reports \ Standard Report \ Transaction Log Delivery Status). <br><br>  Quite often, over time, the server monitor (in case it is not combat) incorrectly takes the last time to create a backup copy of the database transaction log for the combat server.  As a result, false warnings occur. <br><br>  You can solve the problem with the following simple script: <br><br><div class="spoiler">  <b class="spoiler_title">An example of the implementation of the correction monitor the delivery of transaction logs</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCEDURE</span></span> [srv].[AutoCorrectMonitorLogShipping] <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> NOCOUNT <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> t2 <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> t2.[last_backup_date]=t1.[BackupFinishDate] ,t2.[last_backup_date_utc]=<span class="hljs-keyword"><span class="hljs-keyword">DateAdd</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">hour</span></span>,-<span class="hljs-keyword"><span class="hljs-keyword">DateDiff</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">hour</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">GetUTCDate</span></span>(),<span class="hljs-keyword"><span class="hljs-keyword">GetDate</span></span>()),t1.[BackupFinishDate]) ,t2.[last_backup_file]= <span class="hljs-keyword"><span class="hljs-keyword">RIGHT</span></span>(t1.[PhysicalDeviceName], <span class="hljs-keyword"><span class="hljs-keyword">CHARINDEX</span></span>(<span class="hljs-string"><span class="hljs-string">'\',REVERSE(t1.[PhysicalDeviceName]),1)-1) from [__].[SRV].[inf].[vServerLastBackupDB] as t1 inner join [msdb].[dbo].[log_shipping_monitor_primary] as t2 on t1.[DBName] collate SQL_Latin1_General_CP1_CI_AS=t2.[primary_database] collate SQL_Latin1_General_CP1_CI_AS where t1.[BackupType]=N'</span></span><span class="hljs-keyword"><span class="hljs-keyword">log</span></span><span class="hljs-string"><span class="hljs-string">'; END</span></span></code> </pre></div></div><br>  Calling a stored procedure can be automated in time.  For example, every 5 minutes, creating the corresponding task in the Agent.  Naturally, the combat server must be connected on the backup (Server Objects \ Linked Servers). <br><br>  This uses the [inf]. [VServerLastBackupDB] view in the SRV database, which defines the latest database backup copies: <br><br><div class="spoiler">  <b class="spoiler_title">An example implementation of the vServerLastBackupDB view</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VIEW</span></span> [inf].[vServerLastBackupDB] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> backup_cte <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> bs.[database_name], backup_type = <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> bs.[<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">'D'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'database'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">'L'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'log'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">'I'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'differential'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">'other'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, bs.[first_lsn], bs.[last_lsn], bs.[backup_start_date], bs.[backup_finish_date], <span class="hljs-keyword"><span class="hljs-keyword">cast</span></span>(bs.[backup_size] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-built_in"><span class="hljs-built_in">decimal</span></span>(<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>))/<span class="hljs-number"><span class="hljs-number">1024</span></span>/<span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> BackupSizeMb, <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> = row_number() <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> bs.[database_name], <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> bs.[backup_finish_date] <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> ), LogicalDeviceName = bmf.[logical_device_name], PhysicalDeviceName = bmf.[physical_device_name], bs.[server_name], bs.[user_name] <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> msdb.dbo.backupset bs <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> msdb.dbo.backupmediafamily bmf <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [bs].[media_set_id] = [bmf].[media_set_id] ) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> [server_name] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> [ServerName], [database_name] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> [DBName], [user_name] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> [USerName], [backup_type] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> [BackupType], [backup_start_date] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> [BackupStartDate], [backup_finish_date] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> [BackupFinishDate], [BackupSizeMb], <span class="hljs-comment"><span class="hljs-comment">--   [LogicalDeviceName], [PhysicalDeviceName], [first_lsn] as [FirstLSN], [last_lsn] as [LastLSN] from backup_cte where rownum = 1;</span></span></code> </pre></div></div><br><br><h3>  Result </h3><br>  This article reviewed a brief overview of all possible options for fault tolerance and fast availability in MS SQL Server 2017, as well as analyzed examples of the implementation of failover and autocorrection of monitoring the delivery of transaction logs. <br><br><h3>  Thanks </h3><br>  Thanks <a href="https://habrahabr.ru/users/NoOne/">NoOne</a> for constructive comments about AlwaysOn. <br><br><h3>  Sources: </h3><br>  " <a href="https://docs.microsoft.com/ru-ru/sql/relational-databases/databases/msdb-database">Msdb</a> <br>  ¬ª <a href="https://www.microsoft.com/ru-ru/sql-server/sql-server-2017-editions">Comparison of editions of SQL Server 2017</a> <br>  ¬ª <a href="https://docs.microsoft.com/ru-ru/sql/database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server">AlwaysOn</a> <br>  ¬ª <a href="https://docs.microsoft.com/ru-ru/sql/sql-server/failover-clusters/install/sql-server-failover-cluster-installation">Clustering</a> <br>  ¬ª <a href="https://docs.microsoft.com/ru-ru/sql/relational-databases/replication/sql-server-replication">Replication</a> <br>  ¬ª <a href="https://docs.microsoft.com/ru-ru/sql/database-engine/database-mirroring/database-mirroring-sql-server">Mirroring</a> <br>  ¬ª <a href="https://docs.microsoft.com/ru-ru/sql/database-engine/log-shipping/about-log-shipping-sql-server">Transaction log shipping</a> <br>  ¬ª <a href="https://docs.microsoft.com/ru-ru/sql/database-engine/log-shipping/configure-log-shipping-sql-server">Customize log shipping</a> <br>  <a href="https://www.mssqltips.com/sqlservertip/1724/when-was-the-last-time-your-sql-server-database-was-restored/">SQL Server database was restored</a> <br>  ¬ª <a href="https://blogs.technet.microsoft.com/msftpietervanhove/2017/03/14/top-5-questions-about-basic-availability-groups/">Top 5 Questions about Basic Availability Groups</a> </div><p>Source: <a href="https://habr.com/ru/post/342248/">https://habr.com/ru/post/342248/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342236/index.html">Origin of accounting objects</a></li>
<li><a href="../342238/index.html">Russia ranked first at the World Robot Olympiad</a></li>
<li><a href="../342240/index.html">Welcome to iOS-meetup SuperJob</a></li>
<li><a href="../342242/index.html">How to move to work in the United States: a selection of useful materials</a></li>
<li><a href="../342244/index.html">Code review humanly (part 2)</a></li>
<li><a href="../342250/index.html">Configure two-factor authentication in VMware Horizon View 7 using OTP and JAS server</a></li>
<li><a href="../342254/index.html">Using R for "industrial" development</a></li>
<li><a href="../342256/index.html">Mini benchmark home relay computers</a></li>
<li><a href="../342258/index.html">Rating of IT employers in St. Petersburg and Moscow: the results of a survey of developers</a></li>
<li><a href="../342260/index.html">5 success factors for effective implementation of account verification services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>