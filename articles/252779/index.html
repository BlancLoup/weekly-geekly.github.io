<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>e-Ticket misunderstanding</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 More and more passengers use electronic tickets - this is a fact. And many of them consist in various bonus programs and try to accumulate mi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>e-Ticket misunderstanding</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br>  More and more passengers use electronic tickets - this is a fact.  And many of them consist in various bonus programs and try to accumulate miles both on the ground and in the air.  It's cool.  To increase the number of these miles, they even issue specialized bank cards, by paying with which you increase this balance.  An interesting feature was found on the website of one carrier.  Let's take a look! <br><a name="habracut"></a><br>  <i>Prehistory</i> <br>  I bought tickets through the online service several times.  Nothing unusual at this time, except that I was distracted several times.  I entered my real data, clicked "Continue" and it turned out that I was mistaken in one letter in the last name (the key was stuck). <br><img src="https://habrastorage.org/files/bac/5ec/92d/bac5ec92dd444749b215eaefcaf96cd5.jpg" alt="image"><br><img src="https://habrastorage.org/files/7c9/505/fc6/7c9505fc60ad499790849cd56f6ac5b2.jpg" alt="image"><br>  At the same time very interesting facts came to light.  I formulated the same mistake with data invented from my head. <br>  <i>Check</i> <br>  So, we are practically on the road to success and have filled in all the necessary data fields: <br><img src="https://habrastorage.org/files/888/e2a/5ee/888e2a5eebb048fa94c140448731d772.jpg" alt="image"><br>  All data was entered randomly, except for my real bonus card number, which I used when this error first appeared. <br>  As you can see, no validation by card number and full name is performed, the page informs us that everything is ‚Äúok‚Äù. <br>  This means that such a bonus card number <b>does</b> exist, and this is true. <br>  We press further ... and the error, actually the same, which I received when I made a mistake with my last name: <br><img src="https://habrastorage.org/files/66a/1f8/2ee/66a1f82ee76c468cb9e54b955a29358b.jpg" alt="image"><br>  <u>Unauthorized use of the card</u> , oh how.  Well, everything is correct, a fictional comrade cannot have a card with a number that is attached to me (as an individual), as well as myself with the wrong last name.  For the sake of fairness, it‚Äôs worth noting such a banner on the page: ‚Äú <b>Attention! If you specify a universal card or a‚Äú RZD-Bonus ‚Äùcard, make sure that the last name, first name and patronymic are the same as when registering the card. then it is mandatory to fill in on this page.</b> "The warning is excellent, but apparently no one is immune from random errors.  Why not use additional verification mechanisms? <br>  But let's review the whole text of the error: <br><pre><code class="html hljs xml">Passenger{id='0', lastName='', firstName='', middleName='', tariffType=, dateOfBirth=Wed Feb 07 00:00:00 MSK 1996, documentType=DocType{id=1, code='', name=' }, documentNumber='1222567890', citizenship=Country{expressCode=**, isoAlpha3='RUS', isForcedRegistrationAllowed=true, localizedNames='{en={name=Russian Federation}, ru={name=}}'}, gender=Male, universalCardNumber='null', loyaltyCardNumber='*********************', birthplace='', insuranceCompany='null', babyPassenger='null'}, order=OrderBean{id=, saleOrderId=null, departureStationId=2000003, arrivalStationId=2024000, srcStation=' ', dstStation='', distance=null, departureTrain=Train{typeId='2', expressCategoryId='1', date=12.03.2015 20:08:00.000, trainDepartureDate=null, comments=null, isOnboardRegistrationAvailable=false, brand=null, departureStationShortName=' ', arrivalStationShortName=''}, arrivalTrain=Train{typeId='null', expressCategoryId='null', date=09.03.2015, trainDepartureDate=null, comments=null, isOnboardRegistrationAvailable=false, brand=null, departureStationShortName='null', arrivalStationShortName='null'}, carrierId=1, carriage=ru.tehnosk.chameleon.layer.express.bean.response.buyTicket.Carriage{number='03', owner={type='', railway=null}, addSigns='1', serviceClass=1, isOnboardRegistrationAvailable=false, tripClass=null} SUPER:AbstractCarriage{type=, number='03', carCarrierGroup=CarCarrierGroup{id='1' name='', isFoodChoiceAvailable=true, foodChoiceStopHours=48}, carCarrier=Carrier{name=' ', id=200, isForcedRegistrationAllowed=true, carCarrierGroup=CarCarrierGroup{id='1' name='', isFoodChoiceAvailable=true, foodChoiceStopHours=48}, isNotForSale=false, locale2fieldName2value={ru={name= }, en={name= }}}, serviceClass='1', addSigns='1', foodAvailabilityFlag=true}, tariff=ru.tehnosk.chameleon.layer.express.bean.response.buyTicket.Tariff{type='null'} {cost='7304.0'}, totalCostInEuro=null, totalCostInPoints=null, totalInsuranceCost=0, tickets=[TicketBean{id=128532684, orderId=119344058, ordinal=1, number='71751387597061', reservationNumber=null, passCount=1, seats='010', seatsType='', tariffType=, tariffInfo='null', tariffB=3636.6, tariffP=3667.4, tariffBP=7304.0, tariffInsurance=0.0, tariffService=0.0, tariffNDS=1114.17, price=7304.0, priceInEuro=null, priceInPoints=null, priceInPointsMoney=null, status=, code2D='null', registrationChangeDate=null, containsDet5=false, refundTariff=null, refundDate=null, refundInfo='null', refundKrs=null, trainmasterLogin='null',</code> </pre> <br>  <i>LoyaltyCardNumber = '**********************'</i> is my card number.  The rest is official and geographical information with identifiers.  Anything higher corresponds to the information entered.  But as always there are pitfalls ... <br>  This piece is of particular interest: <br>  * / <br><blockquote>  passengers = [en.tehnosk.chameleon.layer.express.bean.PassengerBean { <b>id = **********, index = null, middleName = '************* ICH ', firstName =' ********* N ', lastName =' **** E ****** ', tariffType = null, dateOfBirth = **. **. 19 **</b> 00 : 00: 00.000, documentType = DocType {id = 1, code = 'Mon', name = 'RF Passport}, documentNumber =' 1222567890 ', citizenship = Country {expressCode = 20, isoAlpha3 =' RUS ', isForcedRegistrationAllowed = true, localizedNames = '{ru = {name = Russia}, en = {name = Russian Federation}}'}, gender = Male, cardNumber = 'null', loyaltyCardNumber = 'null', isFullComp = false, insurance = null}], foodChoice = {}}] </blockquote>  * / <br>  Here I found my legitimate name and date of birth ... Well at least the passport data left invented.  By the way, here the bonus card parameter is: <i>loyaltyCardNumber = 'null'</i> .  It turns out quite sad story, well, if you have a key stick, and if not? <br>  Error text further: <br><pre> <code class="html hljs xml">refundedTicketFromReissuedOrder=null, expiredDate=null, orderNumber='', dbRecordCreateDate=null, createDate=09.03.2015 , status=null, statusChangeDate=null, payGateData=ru.tehnosk.chameleon.layer.express.bean.response.buyTicket.PayGateData{payGateOrderId='null', payGateSessionId='null'}, ticketQuantity=1, passengerQuantity=null, seatQuantity=1, paymentForm='null', agentId='1', subagentId='null', seatNumbers='010', timeInfo=' .;     ; ', attrs='null', terminalNumber='', issueRailway='null', issueCc='null', compCc='null', posNumber='null', login='null', isInternational=false, isCisInternational=false, e3gwNegativeResult=null, directionType=Forward, isRegistrationAvailable=true, isInactive=false, isTeema=false, isAutorackAvailable=false, hasAutorackOrder=false, isDeferredPayment=false, deferredPaymentDeadline=null, isEntireCompartment=false, availableFoodTypes=[], refundedTicketId=null, relatedOrderId=null, ferry=false, busFlag=false, autoRequest=null}</code> </pre><br>  I hope they will fix this functionality as soon as possible, because  message to the Railways was sent. <br>  PS And here is the prompt response: <br><img src="https://habrastorage.org/files/d8d/1ad/d09/d8d1add0908d4d00958bd6df5c1e6adb.jpg" alt="image"><br>  The answer, of course, is entertaining.  I agree that the bonus card is individual, but this does not correlate with the fact that the system of buying tickets (the relationship between the data in the bonus program and the data entered in the form) is incorrect.  I want to note that I entered my bonus card number exclusively.  Maybe my card is unique? <br>  Pps <br>  Another week passed, another request was written, because  The situation has not changed.  Another response from Russian Railways: <br><img src="https://habrastorage.org/files/615/fcc/723/615fcc723ce64132808d864fa6addc6a.jpg" alt="image"><br>  It turns out that no one is responsible for anything, you buy on the site of the Russian Railways, and the bonus program is generally the third ... <br>  You can certainly calm down and not use electronic services, because: <br><img src="https://habrastorage.org/files/777/8f7/a86/7778f7a86fc740c2886e12054d0ffb54.jpg" alt="image">  and <img src="https://habrastorage.org/files/f80/5d4/9cf/f805d49cfe474e4ea7b7f451709ff36a.jpg" alt="image"><br>  Honestly, I don‚Äôt have much to download the policy and study it after reading 2 lines about the general availability of PD. <br>  So all organizations can do?  A little <a href="http://www.securitylab.ru/blog/personal/itsec/40214.php">thought for thought</a> . <br>  I hope the information will be useful. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/252779/">https://habr.com/ru/post/252779/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252763/index.html">Virtual Link Trunking (VLT) Technology for Dell Network Factories</a></li>
<li><a href="../252767/index.html">We program in a cloud: the review popular IDE</a></li>
<li><a href="../252769/index.html">Align the modal window in the center</a></li>
<li><a href="../252771/index.html">Perspective matrices in graphic API or the devil hides in details</a></li>
<li><a href="../252773/index.html">Material Design: to the moon and back</a></li>
<li><a href="../252783/index.html">Rewrite Require.js using Promise. Part 1</a></li>
<li><a href="../252785/index.html">IBM Containers now in Bluemix: we put everything on the shelves</a></li>
<li><a href="../252787/index.html">Increase page conversion in the App Store and Google Play with A / B tests</a></li>
<li><a href="../252789/index.html">Applications in the electronic document management system. Part 1: Key Principles, Components, and Features</a></li>
<li><a href="../252791/index.html">About educational robotics and circles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>