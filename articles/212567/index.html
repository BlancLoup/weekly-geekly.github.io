<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>BFT - Stream Testing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, Hobrechiteli! 

 In my heading IT (Interesting Testing) I will try to tell you about various interesting approaches to testing and use...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>BFT - Stream Testing</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, Hobrechiteli! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/073/d33/7a4/073d337a4d2ebf3eb79e0ca5f4dec88a.jpg" alt="image" align="right">  In my heading IT (Interesting Testing) I will try to tell you about various interesting approaches to testing and useful tools that make the process of finding errors fascinating. <br>  Today I will tell you about: <ul><li>  BFT - Business Flow Testing, what is it? </li><li>  I will show you how to use it with simple examples. </li><li>  What are the advantages of this approach? </li><li>  Where it can be applied </li><li>  And what will happen next </li></ul><br><h4>  Stream Testing (BFT - BusinessFlowTesting) </h4>  BFT is an approach to testing, where you look at a product not from the point of view of specific cases, but from the point of view of the behavior of the system at each of its points. <br><a name="habracut"></a>  The approach is a combination of concepts such as Data Driven Testing and Behaviour Driven Testing, applied to business models that are well described by data movement graphs. <br>  You do not test individual test cases, but test the performance of the system, test cases are obtained by themselves <img src="https://habrastorage.org/getpro/habr/post_images/8bd/42c/9d3/8bd42c9d39f77647d84b504a2c1e71f9.png" width="15" height="15" alt="smile"><br>  Figuratively speaking, you have: <ul><li>  A set of diverse input business data </li><li>  The system is broken down into important for testing the state of business entities that need to be checked. </li><li>  State transition rules </li></ul><br>  You have no test cases.  Test cases are generated based on the input data themselves. <br>  No more arguing about how to name test cases correctly.  The name of the test case is the set of inputs that define it and the path they follow.  The name turns out long, but completely describing this test.  And besides, you do not spend a second on it - it is created by itself. <br><br><h4>  BFT Framework </h4>  How does the BFT framework work and how to make it yourself?  Consider a simple example. <br>  Suppose your application is a store selling goods.  The main Acceptance tests will be tests on how the user purchases this product and what may happen next. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Business entities: <ul><li>  User (name, payment type (bank card, cash, electronic money, etc.), discount card, purchase history, promotional code, etc.) </li><li>  Commodity (name, number, initial price, final price, quantity, shares in which it participates, etc.) </li><li>  Purchase-Basket (List of goods, basket price, final purchase price, purchase status) </li></ul><br>  Order states: <ul><li>  Created </li><li>  Approved (Registered) </li><li>  Paid </li><li>  Delivered </li><li>  Delivered (Delivered) </li><li>  Delivering Rejected </li><li>  In the Archive (In Archive) </li></ul><br>  Product transfer graph <br><br><img src="https://habrastorage.org/getpro/habr/post_images/357/b13/f9c/357b13f9cb4f4ee0fb50a78bb46752be.png" alt="image"><br><br>  You have a chart that is most likely provided by the business.  If not, then you can make it yourself, which will bring a lot of benefit in itself. <br>  To test this Chart, the tester describes each state. <br>  To describe the state you need to specify: <ul><li>  Checks.  What to check in this state </li><li>  Transitions.  Where and how to go from this state </li></ul>  PS Both Checks and Transitions are a function of Context, i.e.  dataset and path traveled (optional) <br><br>  Each test is a linear path in this graph, which is characterized by input data. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d31/d5e/d8d/d31d5ed8d4df57699831a691b2a93a38.png" alt="image"><br><br>  Input data can be of several types: <ul><li>  Business data (user, product, basket, etc.) <ul><li>  Affect state checks </li><li>  May affect the path in the graph (for example, the Registered User skips the identification and moves immediately to Paid) </li></ul></li><li>  Control data (for example, to make a return after payment or return an order from the archive) </li></ul><br><h4>  Writing tests </h4><h5>  Basic simple test </h5>  We have a business model graph.  For this graph, we create a test code that describes, already in a programming language, what needs to be checked in each state and where to go next. <br>  Bottom line: we have a test graph described (the graph does not have to be fully described at first, for example, only the positive scenario is described at first, all other states and transitions can be added as needed). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c32/f28/40d/c32f2840d4fb706a7d3dd1558d155f6e.png" alt="image"><br><br>  The first test is usually the main positive test that passes from the beginning of the business flow to the end without errors. <br>  We form the input data for a positive test. <br><br>  The test itself will look something like this: <blockquote><code>var SimpleScenario = BusinessGraph.GetScenario(CorrectSimpleData, DefaultControllData);BFTFramework.Run(SimpleScenario, CorrectSimpleData);</code> </blockquote>  BusinessGraph on input data CorrectSimpleData will build a linear script path (by default DefaultControllData) in the output graph we get SimpleScenario. <br>  BFTFramework will execute this script with CorrectSimpleData input data. <br><br><h4>  The rest of the tests </h4>  Now, if we want to check a lot of different positive data, then we simply transfer other sets of CorrectOtherData. <br><br>  If we need to add, let's say, negative tests (for example, the return of the purchase): <ul><li>  We add a new Rejected Delivering Status in the BusinessGraph (checks that need to be made when switching to this state, and possible paths from it, if needed) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/40f/151/c94/40f151c9495e641d34fcb7a7f28938c8.png" alt="image"><br><br></li><li>  Add transition paths to this new state from other states (in our case, this is Delivering arrow -&gt; Rejected Delivering) </li><li>  We pass to our test a set of incorrect data. DeliveringRejectedData </li></ul>  And so on, gradually increasing our graph with new paths, and tests with new data sets. <br>  If you decide to make a new check at any step, you do not need to think in which tests it occurs.  You simply add it to the appropriate State, and all the tests that pass through it will be corrected. <br>  A new state has emerged, through which our product must pass, simply add it to the graph, and all the tests that affect it will be redirected along a new path. <br>  You edit the test code locally, only where it is needed. <br><br><h4>  Total: </h4><ul><li>  We get the separation of the test code into: data, ‚Äúapplication test interface‚Äù (state of the graph and Checks) and data movement paths (arcs of the Transistions graph) </li><li>  New tests do not need to write every time from scratch.  We add only what is really new, reusing as much as possible what has already been written and avoiding code duplication. </li><li>  Since all of our tests move along the graph, we can use metrics to cover the functionality of the tests.  For example, ‚Äúeach path is passed at least once,‚Äù or ‚Äúeach state is visited at least once,‚Äù or more complex ‚Äî like visiting cycles in a column at least twice, and so on. </li><li>  We receive additional complete system documentation at the level of specific important checks. <br>  Often, even if at the beginning of the project there is a business graph, with the addition of new UserStory, it loses its relevance.  Tests are always relevant.  In addition, the business description does not include an understanding of what is specifically important in these states, or this information is scattered across different UserStory.  Looking at the BFT graph, you can always say what is checked at this step, where you can go from it and in what way </li><li>  Testing with the help of BFT can be combined with any other tests that are not very easy to fit into the scheme or heavily clutter up.  Think what and what you use </li><li>  With the correct writing of the BFT Framework at any given time in the test, you can find out the entire scenario (States and transitions) and at what step you are now.  This script can be easily logged in case of an error or transferred to the developer when he asks you, ‚Äúwhat does this SimpleTest do at all?‚Äù </li><li>  Since you know the entire script, you can log the transition to each new state automatically, at no additional cost to the tester (and usually in such cases, logging is simply ignored due to lack of time) </li><li>  When moving in a graph, we use a test context that contains all the information about the test: <ul><li>  All input </li><li>  Current script </li><li>  Current step </li><li>  Additional variables that we saved during the test </li></ul></li><li>  We can easily output all this data to the log if the test fails or transfer it to the developer without running the test in a new debug. </li></ul><br><h4>  Application area </h4>  Before you use something, think about whether this tool is right for you. <br>  This approach is applicable to projects where you can easily identify business entities and the states in which they live. <br>  It can be: <ul><li>  All kinds of shops.  Selling real goods, content, services, etc. </li><li>  Delivery service </li><li>  Banking projects, payments, transfers and other projects with transactions </li><li>  Interface Testing (UI).  You can represent the User as a Business entity, the page as a state, and user actions in the form of state transitions. </li></ul>  In one of the departments of i-Free, we successfully applied this approach, I hope that it will also help you to make beautiful, easily supported, logged and visual tests. <br>  What's next? <br><br>  In the following articles: <ul><li>  I'll tell you about the generation of input data sets, the construction of intersections and exceptions to create only important tests </li><li>  I will tell you more about metrics and how to build a testing process with BFT </li><li>  I will dwell in detail, with examples of "pseudo-code", on the description of states, checks and transitions </li><li>  I will talk about the pitfalls and problems that may arise when you first met with the BFT </li><li>  I will try to highlight the questions that I hope will arise in the comments <img src="https://habrastorage.org/getpro/habr/post_images/8bd/42c/9d3/8bd42c9d39f77647d84b504a2c1e71f9.png" width="15" height="15" alt="smile"></li></ul></div><p>Source: <a href="https://habr.com/ru/post/212567/">https://habr.com/ru/post/212567/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../212543/index.html">The Day We Fight Back</a></li>
<li><a href="../212545/index.html">Model the world for the search engine. Lecture in Yandex</a></li>
<li><a href="../212557/index.html">Hackathons February 15-16: in Moscow and online!</a></li>
<li><a href="../212559/index.html">Internal (ISA) UPS Athen IPS for an old computer</a></li>
<li><a href="../212563/index.html">WIFIBIRD: Mikrotik Certified Router</a></li>
<li><a href="../212569/index.html">Need a Scrum book?</a></li>
<li><a href="../212571/index.html">Four ways to cut pictures in OS X</a></li>
<li><a href="../212573/index.html">Win32 / Corkow banking trojan attacks Russian users</a></li>
<li><a href="../212575/index.html">DevCon 2014: the most resort conference</a></li>
<li><a href="../212579/index.html">Geeksphone Revolution - the top phone on the Firefox OS phone. Coming soon!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>