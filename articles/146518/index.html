<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Windows 8. Contract "search" in detail</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Search inside applications is one of the new, most important and interesting features of Windows 8. Search provides the ability to search not only fil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Windows 8. Contract "search" in detail</h1><div class="post__text post__text-html js-mediator-article">  Search inside applications is one of the new, most important and interesting features of Windows 8. Search provides the ability to search not only files and documents on the device, but also allows you to search inside installed applications. <br><br>  This article covers: <br>  1. Search Metro Search Integration app <br>  2. Contextual hints (suggestions). <br>  3. Processing the request as data is entered. <br>  4. Careless use of a search contract (common integration errors). <br><a name="habracut"></a><br>  <strong>1. Search Metro Search Integration app</strong> <br><br>  By default, applications do not support contract searching.  This article will look at how you can add a search within the application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The easiest way to add support for a search contract is to use a template in the studio: <br><br><img src="http://akhmed.ru/blogimages/contractsearch/searchItem.png"><br><br>  VS2012 has a built-in SearchContract template that adds the corresponding entry to the manifest (if this has not been done), adds an entry to app.xaml.cs (redefining the OnSearchActivated method if this has not already been done), and adds a page that accepts the search query with minimal processing logic . <br><br>  We will not consider in detail the use of this template and will look at adding support for a search contract step by step: <br><br>  First of all, in the application manifest (Package.appxmanifest file), we need to indicate that our application supports the search contract.  To do this, open this manifest in the studio, in the ‚Äúdeclarations‚Äù tab add a search contract. <br><img src="http://akhmed.ru/blogimages/contractsearch/marketsearchManifest.PNG"><br><br>  Further, in the application class ‚Äúapp.xaml.cs‚Äù we can override the algorithm for activating the application through a search contract and specify the logic we need.  For simplicity, we‚Äôll make sure that we always open a separate page (SearchPage.xaml) when activated by a search contract. <br><br><pre><code class="hljs pgsql">protected override <span class="hljs-type"><span class="hljs-type">void</span></span> OnSearchActivated(SearchActivatedEventArgs args) { var frame = <span class="hljs-keyword"><span class="hljs-keyword">Window</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Content <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Frame; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(frame==<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { frame=<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Frame(); <span class="hljs-keyword"><span class="hljs-keyword">Window</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Content = frame; } frame.Navigate(typeof(SearchPage), args.QueryText); <span class="hljs-keyword"><span class="hljs-keyword">Window</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Activate(); }</code> </pre> <br><br>  In this method, we redirect the user to the SearchPage page where the search query is specified as a parameter. <br><br>  It should be borne in mind that if the application has not been launched, the application is launched via the OnSearchActivated method.  Because of this, the current frame may not be created yet.  A check for null is performed to initialize the frame when the application is first run. <br><br>  On the SearchPage page, we can now display the search results by retrieving the search query from the passed parameter: <br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnNavigatedTo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">NavigationEventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> query = (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>)e.Parameter; SearchByQuery(query); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchByQuery</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> queryText</span></span></span><span class="hljs-function">)</span></span> { pageTitle.Text = <span class="hljs-string"><span class="hljs-string">"Search result for \""</span></span> + queryText + <span class="hljs-string"><span class="hljs-string">"\":"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    }</span></span></code> </pre><br><br>  <strong>2. Contextual hints (suggestions).</strong> <br><br>  The search contract API allows us to add contextual clues when typing a search phrase. <br>  Context-sensitive application hints can only work when the user selects (activates) an application for searching. <br><img src="http://akhmed.ru/blogimages/contractsearch/SimpleSuggestions.png"><br><br>  <em>2. 1. Text Tips</em> <br><br>  Adding support is quite simple; in the page constructor we can subscribe to the context-prompt query event. <br><br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchPage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>        {            <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.InitializeComponent();            SearchPane.GetForCurrentView().SuggestionsRequested += SearchPage_SuggestionsRequested;        }</code> </pre><br><br>  Further, in the SearchPage_SuggestionsRequested method, we can add the necessary contextual hints: <br><br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchPage_SuggestionsRequested</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SearchPane sender, SearchPaneSuggestionsRequestedEventArgs args</span></span></span><span class="hljs-function">)</span></span>        {            <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> products=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span>[] { <span class="hljs-string"><span class="hljs-string">"apple"</span></span>, <span class="hljs-string"><span class="hljs-string">"cheese"</span></span>, <span class="hljs-string"><span class="hljs-string">"bread"</span></span>, <span class="hljs-string"><span class="hljs-string">"onion"</span></span>, <span class="hljs-string"><span class="hljs-string">"orange"</span></span>, <span class="hljs-string"><span class="hljs-string">"potato"</span></span>}            args.Request.SearchSuggestionCollection.AppendQuerySuggestions(products);        }</code> </pre><br><br>  Now, if we in the constructor subscribe to the event select query: <br><br>  SearchPane.GetForCurrentView (). QueryChanged + = SearchPage_QueryChanged; <br><br>  We will be able to handle the user's choice from the prompts. <br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchPage_QueryChanged</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SearchPane sender, SearchPaneQueryChangedEventArgs args</span></span></span><span class="hljs-function">)</span></span>        {            SearchByQuery(args.QueryText);        }</code> </pre> <br><br>  <em>2.2.</em>  <em>Complicated tips</em> <br><br>  The SearchContract API allows us to implement more complex types of contextual cues: <br><img src="http://akhmed.ru/blogimages/contractsearch/PictureSuggestions.png"><br><br><br><br>  Suppose we have a certain layer of logic (LogicLayer) that returns us a product with fields: <br><pre> <code class="hljs cs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Product</span></span>    {        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Image { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Description { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }    }</code> </pre><br><br>  Now in the SearchPage_SuggestionsRequested method, we need to use the args.Request.SearchSuggestionCollection.AppendResultSuggestion method to add more complex prompts. <br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchPage_SuggestionsRequested</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SearchPane sender, SearchPaneSuggestionsRequestedEventArgs args</span></span></span><span class="hljs-function">)</span></span>        {            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> product <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> LogicLayer.SearchProduct(args.QueryText))            {                <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> image = RandomAccessStreamReference.CreateFromUri(newUri(product.Image));                args.Request.SearchSuggestionCollection.AppendResultSuggestion(product.Name, product.Description, product.Id, image, String.Empty);            }        }</code> </pre><br><br>  Here we pass the product Id as tags.  When the user selects complex prompts, the QueryChanged event does not fire.  To handle complex prompts there is a special <br>  ResultSuggestionChosen event. <br><br>  We can add to the constructor handling this event. <br><br>  SearchPane.GetForCurrentView (). ResultSuggestionChosen + = SearchPage_ResultSuggestionChosen; <br><br>  Now we can get a link to the product ID and process it: <br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchPage_ResultSuggestionChosen</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SearchPane sender, SearchPaneResultSuggestionChosenEventArgs args</span></span></span><span class="hljs-function">)</span></span>        {            <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> id = args.Tag;            SearchById(query);        }</code> </pre><br>  <em>2.3.</em>  <em>Contextual prompts on all pages.</em> <br><br>  In small applications, it is likely that it will be easier to make contextual hints not for each page separately, but for one hint for the entire application. <br><br>  We can subscribe to search events in the application instance.  In this case, since the application can be activated several times, we must be sure that we subscribe only once. <br><br>  Add the SubscribeToSearchEvents method in App.xaml.cs <br><br><pre> <code class="hljs cs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSubscribed; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SubscribeToSearchEvents</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isSubscribed) { isSubscribed = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; SearchPane.GetForCurrentView().SuggestionsRequested += SearchPage_SuggestionsRequested; SearchPane.GetForCurrentView().ResultSuggestionChosen += SearchPage_ResultSuggestionChosen; SearchPane.GetForCurrentView().QueryChanged += SearchPage_QueryChanged; } }</code> </pre><br><br><br>  Now it is enough to call it in the OnLaunched and OnSearchActivated methods. <br><br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnLaunched</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">LaunchActivatedEventArgs args</span></span></span><span class="hljs-function">)</span></span> { SubscribeToSearchEvents(); ... }</code> </pre> <br><br><br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnSearchActivated</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SearchActivatedEventArgs args</span></span></span><span class="hljs-function">)</span></span> { SubscribeToSearchEvents(); }</code> </pre> <br><br><br>  <strong>3. Processing the request as data is entered.</strong> <br><br>  If we need to implement even more sophisticated hint scripts, or if we can quickly process the query and immediately show the result of the search query before the completion of the input, we can subscribe to search query change events (QueryChanged). <br><br>  To do this, we can add the following method to the constructor: <br><br>  SearchPane.GetForCurrentView (). QueryChanged + = SearchPage_QueryChanged; <br><br>  Similar to other events, we can process a search query: <br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SearchPage_QueryChanged</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SearchPane sender, SearchPaneQueryChangedEventArgs args</span></span></span><span class="hljs-function">)</span></span> { SearchByQuery(args.QueryText); }</code> </pre> <br><br><br>  <strong>4. Fix typical search integration errors:</strong> <br><br>  The recommendations described here relate to the version of Windows 8 RP and will certainly be corrected in the release.  However, there are now several ‚Äúsymptoms‚Äù inherent in almost all applications (including built-in system applications, such as People). <br><br>  <em>4.1.</em>  <em>Loss of opportunity to get to the main page.</em> <br><br>  <em>If the application has not been launched before, the first time you start the application on the search contract, the search page opens.</em>  <em>Now if the user goes to the main menu and starts the application again, he will see the search page again and he will not have the opportunity to go to the main menu, since the ‚Äúback‚Äù button appears on the search page only if the application was launched before the search.</em>  <em>The only way to get to the main page is only to close the application and restart.</em> <br><br>  To fix this problem is quite simple.  In the method of activating the application by searching (OnSearchActivated) during frame initialization, we will also add an extra transition to the main page. <br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnSearchActivated</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SearchActivatedEventArgs args</span></span></span><span class="hljs-function">)</span></span>        {            <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> frame = Window.Current.Content <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Frame;            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(frame==<span class="hljs-literal"><span class="hljs-literal">null</span></span>)            {                frame=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Frame();                Window.Current.Content = frame;</code> </pre> <br><pre> <code class="hljs pgsql"> //                  frame.Navigate(typeof(MainPage));            }                       frame.Navigate(typeof(SearchPage), args.QueryText);            <span class="hljs-keyword"><span class="hljs-keyword">Window</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Current</span></span>.Activate();        }</code> </pre> <br>  <em>4.2.</em>  <em>Numerous instances of the search page</em> <br><br>  <em>If you enter several search phrases in a row, each time another instance of the page is created, and an attempt to get to the main page using the ‚Äúback‚Äù button causes us to get to the previous search page.</em>  <em>Perhaps this is not a bug but a feature, in which case it is necessary to take into account that the search event is triggered in each created instance and processing requests from multiple instances can lead to serious performance problems.</em> <br>  Personally, my opinion is a bug, because quite often I was annoyed by the need to press the ‚Äúback‚Äù button several times to return to the main page. <br><br>  One solution is quite simple.  When activating a search application, check whether the current page is a search page and go back in this case: <br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnSearchActivated</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SearchActivatedEventArgs args</span></span></span><span class="hljs-function">)</span></span>        {           RemoveSearchPage();            <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> frame = Window.Current.Content <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Frame;            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(frame==<span class="hljs-literal"><span class="hljs-literal">null</span></span>)            {                frame=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Frame();                Window.Current.Content = frame;                frame.Navigate(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(MainPage));            }                        frame.Navigate(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(SearchPage), args.QueryText);            Window.Current.Activate();        }</code> </pre> <br><br>  Accordingly, the implementation of the RemoveSearchPage method: <br><pre> <code class="hljs cs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RemoveSearchPage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> frame = Window.Current.Content <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Frame; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (frame== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> page=frame.Content <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Page; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (page == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (page.GetType()==<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(SearchPage)) { frame.GoBack(); } }</code> </pre> <br><br>  <a href="">Source Code (288,51 kb)</a> <br><br>  PS Thanks to habraiser <a href="http://habrahabr.ru/users/stasus/">Stas Pavlov</a> for valuable comments during the preparation of the article. </div><p>Source: <a href="https://habr.com/ru/post/146518/">https://habr.com/ru/post/146518/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146511/index.html">Google TV will be sold not only in the US</a></li>
<li><a href="../146512/index.html">Microsoft buys Yammer for $ 1.2 billion</a></li>
<li><a href="../146513/index.html">Americans have created a sensitive "skin" for the robot</a></li>
<li><a href="../146516/index.html">Facebook generated email addresses to all users</a></li>
<li><a href="../146517/index.html">Beeline turned on traffic filtering</a></li>
<li><a href="../146520/index.html">Architecture plus1.wapstart.ru</a></li>
<li><a href="../146521/index.html">How to reanimate your PHP project using symfony2 components</a></li>
<li><a href="../146522/index.html">Google's advertising budget exceeded $ 2 billion</a></li>
<li><a href="../146523/index.html">High-resolution Bing cards will show Europe and the United States by the end of the year.</a></li>
<li><a href="../146524/index.html">TechRadar leaked user personal data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>