<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Python. Non-obvious behavior of some constructions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Examples of such constructions are considered + some obvious, but no less dangerous constructions that should be avoided in the code. The article is d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Python. Non-obvious behavior of some constructions</h1><div class="post__text post__text-html js-mediator-article">  Examples of such constructions are considered + some obvious, but no less dangerous constructions that should be avoided in the code.  The article is designed for python programmers with experience 0 - 1.5 years.  Experienced developers can criticize or add with their own examples. <br><a name="habracut"></a><br>  1. Lambda. <br>  The pw variable in lambda is a reference to a variable, not to a value.  By the time the function is called, the pw variable is 5 <br><table><tbody><tr><td>  Problem code <br><pre><code class="python hljs">to_pow = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pw <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(<span class="hljs-number"><span class="hljs-number">5</span></span>): to_pow[pw] = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x ** pw <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> to_pow[<span class="hljs-number"><span class="hljs-number">2</span></span>](<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 10000 ???</span></span></code> </pre> <br></td><td>  Solution: Pass all variables explicitly in lambda <br><pre> <code class="python hljs">to_pow = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pw <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(<span class="hljs-number"><span class="hljs-number">5</span></span>): to_pow[pw] = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x, pw=pw: x ** pw <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> to_pow[<span class="hljs-number"><span class="hljs-number">2</span></span>](<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 100</span></span></code> </pre><br></td></tr></tbody></table><br><br>  2. An excellent order of searching for attributes with rhomboidal inheritance in the classes of the classical and the new style <br><table><tbody><tr><td><img src="https://habrastorage.org/storage3/f9d/013/f58/f9d013f58b3861880ecf5c58f43cd766.jpg"><br></td><td><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'a'</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(A)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(A)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'c'</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entity</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(B, C)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> Entity().field() <span class="hljs-comment"><span class="hljs-comment"># a !!!</span></span></code> </pre><br></td><td><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'a'</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(A)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(A, object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># New style class def field(self): return 'c' class Entity(B, C): pass print Entity().field() # c !!!</span></span></code> </pre><br></td></tr></tbody></table><br><br>  3. Editable objects as default values <br><table><tbody><tr><td>  Magic: <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(val=[])</span></span></span><span class="hljs-function">:</span></span> val.append(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> get_data() <span class="hljs-comment"><span class="hljs-comment"># [1] print get_data() # [1, 1] ??? print get_data() # [1, 1, 1] ???</span></span></code> </pre><br></td><td>  Decision: <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(val=None)</span></span></span><span class="hljs-function">:</span></span> val = val <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> [] val.append(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> get_data() <span class="hljs-comment"><span class="hljs-comment"># [1] print get_data() # [1]</span></span></code> </pre><br></td></tr></tbody></table><br>  val = val or [] looks shorter and quite acceptable, but if 0, the empty string, False, etc. are not passed at the input to the function.  Then you need to do the verification is None, as described in the google-styleguide.googlecode.com/svn/trunk/pyguide.html?showone=Default_Argument_Values#Default_Argument_Values ‚Äã‚Äãgogle-style 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      (Who has not read this document - I advise you to look in.) <br><br>  4. Default values ‚Äã‚Äãare initialized once. <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_random_id</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rand_id=random.randint</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">100</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rand_id <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> get_random_id() <span class="hljs-comment"><span class="hljs-comment"># 53 print get_random_id() # 53 ??? print get_random_id() # 53 ???</span></span></code> </pre><br><br>  5. Not taken into account the hierarchy of exceptions.  If you do not keep in mind such lists <a href="http://docs.python.org/2/library/exceptions.html">docs.python.org/2/library/exceptions.html#exception-hierarchy</a> + exception lists of built-in modules + the exception hierarchy of your application, and do not use PyLint.  Then you can write the following: <br><br>  KeyError will never work <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: d = {} d[<span class="hljs-string"><span class="hljs-string">'xxx'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> LookupError: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> KeyError: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'2'</span></span></code> </pre><br><br>  6. Interpreter caching of short strings and numbers <br><br><pre> <code class="python hljs">str1 = <span class="hljs-string"><span class="hljs-string">'x'</span></span> * <span class="hljs-number"><span class="hljs-number">100</span></span> str2 = <span class="hljs-string"><span class="hljs-string">'x'</span></span> * <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> str1 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> str2 <span class="hljs-comment"><span class="hljs-comment"># False str1 = 'x' * 10 str2 = 'x' * 10 print str1 is str2 # True ???</span></span></code> </pre><br><br>  7. Implicit concatenation. <br>  The missing comma does not generate exceptions, but results in the merging of adjacent strings.  Such a situation can occur when, after the last element in the tuple, an optional comma is not put, and then the lines in the tuple are regrouped, sorted <br><pre> <code class="python hljs">tpl = ( <span class="hljs-string"><span class="hljs-string">'1_3_dfsf_sdfsf'</span></span>, <span class="hljs-string"><span class="hljs-string">'3_11_sdfd_jfg'</span></span>, <span class="hljs-string"><span class="hljs-string">'7_17_1dsd12asf sa321fs afsfffsdfs'</span></span> <span class="hljs-string"><span class="hljs-string">'11_19_dfgdfg211123sdg sdgsdgf dsfg'</span></span>, <span class="hljs-string"><span class="hljs-string">'13_7_dsfgs dgfdsgdg'</span></span>, <span class="hljs-string"><span class="hljs-string">'24_12_dasdsfgs dgfdsgdg'</span></span>, )</code> </pre><br><br>  8. The nature of the Boolean type. <br>  True and False are the real 1 and 0, for which they invented a special name for the greater expressiveness of the language. <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> + <span class="hljs-number"><span class="hljs-number">10</span></span> / <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> * <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> e <span class="hljs-comment"><span class="hljs-comment"># integer division or modulo by zero</span></span></code> </pre><br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>type(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>).__mro__ (&lt;type <span class="hljs-string"><span class="hljs-string">'bool'</span></span>&gt;, &lt;type <span class="hljs-string"><span class="hljs-string">'int'</span></span>&gt;, &lt;type <span class="hljs-string"><span class="hljs-string">'object'</span></span>&gt;)</code> </pre><br><br>  <a href="http://docs.python.org/release/2.3.5/whatsnew/section-bool.html">docs.python.org/release/2.3.5/whatsnew/section-bool.html</a> <br><blockquote>  Python's Booleans were added with the goal of making code clearer. </blockquote><br><blockquote>  To sum up the numbers 1 and 0, the sum of the str () and the repr () return the strings 'True' and 'False' instead of 1 'and' 0 '. </blockquote><br><br>  eight*.  Outdated design.  It is dangerous that the loss of a slash, or the transfer of only the first part of the expression does not lead to obvious errors.  As a solution, use parentheses. <br><pre> <code class="python hljs">x = <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span> \ + <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre><br>  ps: point number 8 * due to the fact that initially the article was mistakenly present two 7th points.  So as not to knock down the numbering (since it already has links in comments) had to introduce such a designation. <br><br>  9. Comparison operators and, or, unlike, for example, PHP do not return True or False, but return one of the comparison elements; in this example, the first positive element will be assigned to current_lang <br><pre> <code class="python hljs">current_lang = from_GET <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> from_Session <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> from_DB <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> DEFAULT_LANG</code> </pre><br><br>  Such an expression as an alternative to the ternary operator will also work, but you should pay attention that if the first element of the list is '', 0, False, None, then the last element in the comparison will be returned, but the first element of the list will not be returned. <br><pre> <code class="python hljs"> a = [<span class="hljs-string"><span class="hljs-string">'one'</span></span>, <span class="hljs-string"><span class="hljs-string">'two'</span></span>, <span class="hljs-string"><span class="hljs-string">'three'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-comment"><span class="hljs-comment"># one</span></span></code> </pre><br><br>  10. To catch all exceptions and not to process them in any way.  In this example, nothing unusual happens, but this design is fraught with danger and is very popular among beginners.  You don‚Äôt need to write this way, even if you are 100% sure that the exception can not be processed in any way, as it does not guarantee that another developer will not add a line to the try-except block, an exception from which I would like to fix.  Solution: write to the log, specify the type of exceptions that are intercepted, frame only the minimum necessary piece of code in try-except. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-comment"><span class="hljs-comment">#  ,     except Exception: pass</span></span></code> </pre><br><br>  11. Override objects from built-in.  In this case, the objects list, id, type are redefined.  Using the classic id, type in the function and the class list in the module in the usual way will not work.  As a solution, install PyLint in your IDE and see what it says. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">list</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id=DEFAULT_ID, type=TYPES.ANY_TYPE)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" W0622 Redefining built-in "id" [pylint] """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Item.objects.filter(id=id, item_type=type)</code> </pre><br><br>  If you can‚Äôt rewrite the code, you‚Äôll need to access the built-in functions like this: <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">list</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id=None)</span></span></span><span class="hljs-function">:</span></span> print(__builtins__.id(list))</code> </pre><br><br>  12. Working code, without surprises ... for you ... But another developer using mod2.py would be very surprised to notice that one of the attributes of the module suddenly changed.  As a solution, try to avoid such actions, or at least introduce a function in mod2.py to override an attribute.  Then studying mod2.py it will be possible even to understand that one of the attributes of the module can change. <br><br><pre> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment"># mod1.py import mod2 mod2.any_attr = '123'</span></span></code> </pre><br><br>  UPD: Useful link on <a href="https://habrahabr.ru/users/lega/" class="user_link">lega</a> : <a href="http://stackoverflow.com/questions/101268/hidden-features-of-python">Hidden features of Python</a> <br><br>  PS: Criticism, comments, additions are welcome. </div><p>Source: <a href="https://habr.com/ru/post/192098/">https://habr.com/ru/post/192098/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../192082/index.html">9 most important facts about mobile advertising</a></li>
<li><a href="../192084/index.html">Convenient file synchronization</a></li>
<li><a href="../192090/index.html">Core Data for iOS. Chapter number 2. Practical part</a></li>
<li><a href="../192092/index.html">AndEngine GLES2 - Live Wallpaper</a></li>
<li><a href="../192094/index.html">Google has substantiated its plan for the planetary Internet Loon in terms of the distribution of balloons in the stratosphere</a></li>
<li><a href="../192100/index.html">Developer iOS Notes: Sharing Experience, Part 2</a></li>
<li><a href="../192102/index.html">Sudoku generation algorithm</a></li>
<li><a href="../192106/index.html">Overview of network storage Fantec CL-35B2 RAID</a></li>
<li><a href="../192108/index.html">Unit testing is not enough. Need static typing!</a></li>
<li><a href="../192112/index.html">Google store</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>