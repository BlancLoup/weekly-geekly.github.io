<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to quickly assess what is in the infrastructure and how is it used (for how much)?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Any migration must begin with an assessment of what needs to be migrated. How to do it - opinions differ. Someone does this in Excel, someone draws di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to quickly assess what is in the infrastructure and how is it used (for how much)?</h1><div class="post__text post__text-html js-mediator-article">  Any migration must begin with an assessment of what needs to be migrated.  How to do it - opinions differ.  Someone does this in Excel, someone draws diagrams, and some use utilities.  One such tool, the <a href="http://go.microsoft.com/fwlink/%3FLinkId%3D313396">Microsoft Assessment and Planning Toolkit,</a> is of course not a silver bullet that will solve everything for you, but the inventory process will be much easier.  Just run it in AD or give it a list of IP addresses <b>(yes, and not only for</b> <b>Windows</b> <b>)</b> - and it will collect not only data about the resources of a virtual or physical machine, but also analyze the workload during a certain time, so that you can see that a large server, bought for big money, is actually loaded by 25%.  An Excel report will be generated based on the results, which can be shown as an argument.  Useful, given the periodic EOS.  :) <br>  Under the cut, we inventory the test virtual infrastructure.  All posts from the Hybrid Story series are tagged with the <a href="http://habrahabr.ru/search/%3Fq%3D%5Bhybridstory%5D%26amp%3Btarget_type%3Dposts">corresponding hybrid story tag</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee1/962/ee5/ee1962ee5ee5a160143bf32e83773d09.png"><br><br><a name="habracut"></a><br>  Immediately I would like to point to <a href="http://technet.microsoft.com/en-us/solutionaccelerators/dd537566.aspx">the MAPT website</a> , on which there is a large number of examples and documentation, including a test database, collected from some kind of infrastructure and on which research can be conducted.  <a href="http://go.microsoft.com/fwlink/%3FLinkId%3D196042">MAPT Training Kit</a> will also help in quick learning on the basis of scenarios (inside the archive - a test database). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, the <a href="http://go.microsoft.com/fwlink/%3FLinkId%3D313396">Microsoft Assessment and Planning Toolkit (MAP)</a> is an agentless utility.  That is, it only needs one computer, on which the utility itself will be running, it is not necessary to install anything on the computers that will be polled.  This is convenient, especially if you need to inventory a hybrid infrastructure with Windows, Linux of different versions.  MAPT can be used to estimate migration to the cloud or a hybrid, and (for which the utility itself was intended) to optimize workloads.  Imagine that you bought a large, powerful server for a lot of money, because for some specific reason it was decided that only such a resource would be suitable for running SQL Server (or, more often, with a ‚Äúreserve‚Äù reason).  To understand that it is underutilized is difficult by hand, and who will be doing this?  MAPT will collect usage data and allow conclusions to be drawn - for example, that several other virtual machines will fit on this server, and the servers that used to have this software can be disposed of or used for other needs. <br><br>  As for migration to the cloud, MAPT will generate a migration report - that server N needs to be migrated to a virtual machine of this or that size in <a href="http://azure.com/">Microsoft Azure</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82b/b82/0fc/82bb820fc7f053224efed0e9b7ec5f8a.png"><br><br>  In general, this free utility is an excellent tool for answering the question ‚Äúwhat is happening in the infrastructure‚Äù. <br><br>  <b>Inventory infrastructure</b> <br><br>  In order to come to the result, you need to perform four steps: <br>  Install utility <br>  Collect data from work machines <br>  Collect performance data <br>  Collect data on their use <br>  Generate report <br><br>  First, install the utility.  The installation process is extremely simple, there are exactly no modes and settings.  Download the utility <a href="">from here</a> .  Install.  In the process, you may need to communicate with UAC or other security settings (if you put the utility on the server version). <br><br>  Run the utility.  To work, you need a SQL database, so in the dialog that opens, you need to specify a connection string or create a new one. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5b6/325/e5b/5b6325e5ba03838aa7ac2459d971836d.png"><br><br>  Of course, for testing purposes it is convenient to create just a new base, but if serious use is planned, then it will not be so convenient to overtake this file between different infrastructures.  You can select an existing database, which can be downloaded from the link on the site. <br><br>  The MAPT interface is easy to learn, but for more efficient and quick use you need to know where to click in what sequence. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b15/533/56c/b1553356c9129916d164cf7ca69b2ad3.png"><br><br>  Take inventory by clicking on Perform an inventory.  Inventory scenarios are very rich - note that the utility can, when installed on a Windows computer, collect data from Linux / UNIX, VMWare and Oracle.  Choose Windows computers, Linux / UNIX, SQL Server and Windows Azure Platform Migration. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/108/84c/a8d/10884ca8d5be212070780966b579f898.png"><br><br>  Next you need to choose a detection method.  MAPT can be launched to poll the Computers unit in Active Directory, scan the IP range, take the settings from SCCM, or import the file.  Choose AD DS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e1e/be0/369/e1ebe036957a830845cdc45d19d9ee3b.png"><br><br>  Now you need to set up access credentials, and run a scan.  It will take some time, after which the MAPT interface will be greatly enriched with details. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a0/1cd/e0e/7a01cde0eacafa4c51c8678df59b0b9b.png"><br><br>  The next step is to collect performance and usage statistics.  I have already done it, so the screenshot above already has this data.  To start collecting, go to Cloud and click Collect performance data. <br>  In the window that opens, you must configure the statistics collection period. <br><img src="https://habrastorage.org/getpro/habr/post_images/3c8/84c/1be/3c884c1be588e527e4d8c193a41bf7c0.png"><br><br>  Statistics should be collected for at least 30 minutes, otherwise it will not be too representative.  At the end of the collection, the corresponding data will appear in the interface.  Actually, the data collection is complete, and with them you can do everything that is proposed MAPT. <br><br>  <b>Desktop</b> <b>tab</b> <b>- evaluation of software migration to client devices</b> <br><br>  For example, to assess which computers can be transferred to Windows 8 or Office 2010. This can be seen on the Desktop tab. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/150/5a4/572/1505a4572be2e516400ca6abbda5d279.png"><br><br>  Right there (as in other windows and ratings) you can click Generate Windows 8.1 Readiness Report and get a detailed report in Excel, which has everything from data about the video adapter and IP addresses to the list of components (for example, Acer DVD-RW) and the number of computers with these components. <br><br>  On one of the tabs will be recommendations on what needs to be done with computers that cannot be updated yet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/085/2bf/cc2/0852bfcc299df920f9cdd53fe89f7dc9.png"><br><br>  Right there, on the Desktop tab, there are estimates of the possibility of migration with similar functionality for Windows 7, Office, and recommendations with reports in case you need to migrate older versions of IE to the latest. <br><br>  Thus, this tab is a storehouse of useful information that can be used in the process of migration of everything related to client versions. <br><br>  <b>Server</b> <b>tab</b> <b>- assessment of migration of server versions and roles</b> <br><br>  This tab is all about server versions + web applications.  If everything is clear with the assessment of migration to the latest versions of Windows Server (except for nuances, for example, data collection about roles, everything is the same as with client ones), then Web Application Discovery is often perhaps even more interesting. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c86/9e0/84a/c869e084a0c0a8e9352448b2f770e171.png"><br><br>  Web Application Discovery is a way to collect data about web applications running in your infrastructure. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fb4/b6b/9b7/fb4b6b9b77fe093a12971004362394c8.png"><br><br>  By collecting this data, you can generate a report in which there will be all that can help in making decisions. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e4/d3b/15f/4e4d3b15fe70de40d37ffce1ea426a16.png"><br><br><br><br>  <b>Cloud</b> <b>tab</b> <br><br>  Let's go back a little up the interface, on the tab Cloud.  Now they talk a lot about IaaS, that is, infrastructure as a service, hybrid solutions - part of the infrastructure is being taken somewhere, part of it remains with you - and completely cloud projects.  The Cloud tab partially helps to solve one of the very painful and time-consuming and demanding tasks ‚Äî assessing migration and choosing what to use in, for example, the cloud. <br><br>  If we go to <a href="http://azure.com/">the Microsoft Azure cloud platform site</a> , in the calculator section, we see a large number of different options.  What to do with them, how to estimate, what size of a virtual machine should be taken so that it is optimal (and the cloud gives the very advantage of payment upon use)?  There is, for example, a local server with such-and-such software, is it used this way, is it suitable for migration to the cloud and will it not be more expensive than locally hosting? <br>  MAPT, after inventorying and collecting usage statistics, provides a report in which everything is written, even to which Microsoft Azure virtual machine you need to choose for which server.  This is done by MAPT, based on the resources of the local server, from its usage data as well as the software that is installed on it.  If it is installed software that is not supported in Microsoft Azure - this will be discussed.  If you see that the same server will cost more to place in the cloud - it will be clear that you can look for other ways to use the cloud.  In an Excel report, there will be much more useful data - the amount of traffic consumed, the use of CPU, and much more. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e81/fe6/ee2/e81fe6ee20b888a1dfb9643d06961d92.png"><br><br><br>  <b>Summary</b> <br><br>  Microsoft Assessment and Planning Toolkit is an excellent tool in its simplicity and power that can significantly speed up the migration process to a hybrid solution by automating the processes of inventory, statistics collection, report generation and recommendations.  This is especially true for migration to the cloud - often there is a situation when the server is underused, but it is unclear how many resources and how often this happens, and MAPT is able to help here by collecting telemetry in a certain time.  And immediately make a recommendation that you need to use from Microsoft Azure. <br><br>  <b>Links</b> <br><br>  <a href="http://www.microsoft.com/VSA">Microsoft Virtualization Solution Accelerators</a> <br>  <a href="http://www.microsoft.com/deployment">Microsoft Deployment</a> <br>  <a href="http://www.microsoft.com/IPD">Infrastructure Planning and Design</a> <br>  <a href="http://www.microsoft.com/map">Microsoft Assessment and Planning on TechNet</a> <br><ul><li>  <a href="http://aka.ms/habrazuretalks">Registration</a> in the BizSpark program </li><li>  <a href="http://l.techdays.ru/go/azuretrial">Try Azure</a> for free for 30 days! <br><ul><li>  <a href="http://www.azurehub.ru/">Microsoft Azure Development Center (azurehub.ru)</a> - scripts, tutorials, examples, design recommendations </li><li>  <a href="http://www.twitter.com/windowsazure_ru">Twitter.com/windowsazure_ru</a> - the latest Microsoft Azure news </li><li>  <a href="http://www.facebook.com/groups/azurerus/">Microsoft Azure Community on Facebook</a> - experts, questions </li></ul><br></li><li>  <a href="http://l.techdays.ru/go/mva">Explore</a> Microsoft Virtual Academy <a href="http://l.techdays.ru/go/mva">courses</a> on cloud and other technologies <br><ul><li>  <b><a href="http://www.microsoftvirtualacademy.com/training-courses/business-and-cloud-best-practices-solutions-rus">Business and the cloud: best practices solutions</a></b> </li><li>  <a href="http://www.microsoftvirtualacademy.com/training-courses/windows-8-1-update-for-enterprise-jump-start-rus">Windows 8.1 Update for large organizations.</a>  <a href="http://www.microsoftvirtualacademy.com/training-courses/windows-8-1-update-for-enterprise-jump-start-rus">Beginning of work</a> </li><li>  <a href="http://www.microsoftvirtualacademy.com/training-courses/the-microsoft-hybrid-cloud-best-practices-guidance-rus">Microsoft Hybrid Cloud: Typical Solutions Guide</a> </li><li>  <a href="http://www.microsoftvirtualacademy.com/training-courses/windows-8-1-user-readiness-toolkit_rus">Toolkit for preparing users for Windows 8.1</a> </li><li>  <a href="http://www.microsoftvirtualacademy.com/training-courses/introduction-to-the-graphics-library-win2d-rus">Introduction to the Win2D Graphic Library</a> </li></ul><br></li><li> <a href="http://l.techdays.ru/go/getvs">Download</a> free or trial Visual Studio </li><li>  <a href="http://l.techdays.ru/go/winstart">Become a</a> universal Windows application <a href="http://l.techdays.ru/go/winstart">developer</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/248463/">https://habr.com/ru/post/248463/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248451/index.html">(Belarus) Foundation for data center: Juniper MetaFabric architecture</a></li>
<li><a href="../248453/index.html">Automated testing of services using the MQ protocol using JMeter</a></li>
<li><a href="../248455/index.html">CrystaX NDK 10.1 release</a></li>
<li><a href="../248457/index.html">Introduction to the development of web-applications on PSGI / Plack. Part 4. Asynchrony</a></li>
<li><a href="../248459/index.html">Remove images from cartridges for Dendy / Famicom / NES</a></li>
<li><a href="../248465/index.html">How we were friends Neo4j and Meteor</a></li>
<li><a href="../248467/index.html">Opened vacancies in the laboratory of software engineering</a></li>
<li><a href="../248469/index.html">(Kiev) From January 27 to January 30 the course ‚ÄúENA 15.3: Switch Operation, Configuration & Management‚Äù will take place</a></li>
<li><a href="../248475/index.html">C raffle for the C ++ Russia conference ticket from JetBrains</a></li>
<li><a href="../248477/index.html">Video reports from GDG DevFest Voronezh 2014</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>