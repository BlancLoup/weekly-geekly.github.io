<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing complex interfaces with Backbone.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Backbone.js is the framework for creating RIA JavaScript applications, its author is Jeremy Ashkenas, the creator of CoffeeScript, Backbone is part of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing complex interfaces with Backbone.js</h1><div class="post__text post__text-html js-mediator-article"><img src="http://documentcloud.github.com/backbone/docs/images/backbone.png" alt="image"><br><br>  Backbone.js is the framework for creating RIA JavaScript applications, its author is Jeremy Ashkenas, the creator of CoffeeScript, Backbone is part of the Document Cloud company she also owns Underscrore.js.  Backbone is a very lightweight library that helps you create interfaces.  It can work with any libraries you are used to. <br><blockquote>  Backbone is a set of classes, less than 4Kb in size, that form the structure of your code and help you create high-quality MVC web applications. </blockquote>  Backbone forms the structure of heavy JavaScript applications, adding models with key-value storage and similar events, collections with rich API, views (orig. Views) with declarative event handling and combines all of this into one application that supports the RESTful JSON interface. <br><br>  Backbone cannot work without <a href="http://documentcloud.github.com/underscore/">Underscore.js</a> .  To support REST API and work with DOM elements in <a href="http://documentcloud.github.com/backbone/">Backbone.View it is</a> strongly recommended to connect <a href="https://github.com/douglascrockford/JSON-js">json2.js</a> and jQuery-like library: <a href="http://jquery.com/">jQuery</a> or <a href="http://zeptojs.com/">Zepto</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The article will examine the structure of Backbone.js, will create a simple Todo application in stages. <br><a name="habracut"></a><br>  These are the levers Backbone gives us. <br><br><h4>  Key type and value events </h4><br>  When the model content changes, all objects that have been subscribed to the model changes receive notifications and may take further action.  For example, views (original views) listen to changes in the model and update their state instead of the model changing the state of the species.  The <a href="http://en.wikipedia.org/wiki/Loose_coupling">loose coupling</a> pattern is applied. <br><br><h4>  Rich API of enumerated functions </h4><br>  Backbone comes with a set of very useful functions for processing your data.  Unlike other languages, in JavaScript the arrays are ‚Äúunfinished‚Äù, which causes a lot of trouble if you work with a large amount of data. <br><br><h4>  Views with declarative event handling </h4><br>  Those days when you wrote spaghetti-like code come to an end.  You can programmatically determine which callback is associated with which object. <br><br><h4>  RESTful JSON interface </h4><br>  If you need to communicate with the server, you have to execute an AJAX request in the "view" code and get what you need.  This is partially simplified using various xhr adapters, WebSockets and localStorage, but you can make it easier.  This entity should be divided into several smaller ones; Backbone will help us with this: <br><blockquote>  Backbone gives us the opportunity to separate the data from the presentation.  A model that works with data and synchronizes with the server, then when the view listens to changes in the model and changes its state (renders the data in HTML) </blockquote>  Immediately list the answers to questions that may arise now: <br><br><h5>  Does it replace jQuery? </h5><br>  Not.  They are very different in their goals.  Backbone works with high-level abstractions, while jQuery or similar libraries work with the DOM, normalizes events, and so on. <br><br>  They have different applications, if you know one library, this does not mean that you need to know another.  But as a JavaScript developer, you need to know how to work with both effectively. <br><br><h5>  Why should I use it? </h5><br>  Because most often the interface code is a dirty set of nested callbacks, DOM manipulations, HTML templates or functions that generate HTML for data presentation.  Backbone offers a great tool for managing this chaos. <br><br><h5>  Where should I use it? </h5><br>  Backbone is ideal for creating heavy interfaces and data-driven applications.  For example, the interface GMail, new Twitter or other related applications.  Backbone makes creating complex applications easier. <br><br>  With it, you can create simple JavaScript pages that are rich in JavaScript, but for the most part, Backbone is designed to create web applications. <br><br><h5>  Does it look like Cappuccino or Sproutcore? </h5><br>  Yes and no.  Yes, because, as in the above frameworks, the main goal is to create complex interfaces for web applications.  They differ in that Backbone is very light, no one of the aforementioned libraries can match it. <br><blockquote>  Backbone is extremely light, less than 4kb. </blockquote>  <i>In fact, about 4kb is not true: Backbone 4kb + Underscore.js 3kb + jQuery 31kb = 38kb</i> <br><br>  Cappuccino forces you to write code in Objective-J, while Sproutcore views must be declared in JavaScript code.  But I can‚Äôt call any of these approaches a valid one, but with Backbone you write plain JavaScript and use plain HTML and CSS, you practically don‚Äôt need to change anything. <br><br><h5>  Can I use other libraries with Backbone? </h5><br>  Of course.  Not only DOM calls, AJAX wrappers, but also templates and script loaders.  Backbone has a very, very loosely coupled - this means that you can use almost all of your tools in combination with Backbone. <br><br><h4>  Backbone structure </h4><br>  Initially, Backbone consisted only of models, types and collections - controllers were not included.  Over time, controllers have been added.  Now Backbone consists of 4 main classes: <br><ul><li>  Model (Model) </li><li>  Collection (Collection) </li><li>  View </li><li>  Controller (Controller) </li></ul>  Let's briefly go over the main classes, then on the basis of this knowledge we will create a simple application. <br><br><h5>  Model </h5><br>  Models are called different things in different MVC frameworks.  In Backbone, a model is a separate entity, the closest analogue is an entry in the database.  But there are no hard and fast rules.  From the framework site: <br><blockquote>  Models are the heart of all JavaScript applications that contain interactive data as well as most of the logic that surrounds them: transformations, validation, computed properties, and access rights. </blockquote>  A model is a way to read and write properties or attributes in a data set.  Here is an example of a model: <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Game = Backbone.Model.extend({});</code> </pre> <br>  Let's complicate things a bit: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Game = Backbone.Model.extend({ <span class="hljs-attr"><span class="hljs-attr">initialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ alert(<span class="hljs-string"><span class="hljs-string">"Oh hey! "</span></span>); }, <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Default title'</span></span>, <span class="hljs-attr"><span class="hljs-attr">releaseDate</span></span>: <span class="hljs-number"><span class="hljs-number">2011</span></span>, } });</code> </pre><br>  The initialize method will be executed when an object is created.  In this method, I do not do anything useful.  I also define several variables by default, in case some data is not transferred. <br><br>  Let's see how to read and write attributes.  But first, create an object: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    var portal = new Game({ name: "Portal 2", releaseDate: 2011}); //     releaseDate var release = portal.get('releaseDate'); // 2011 //    portal.set({ name: "Portal 2 by Valve"});</span></span></code> </pre><br>  You cannot work with attributes directly (object.attribute) you must call a method to change or retrieve data (I think the situation will change with the advent of Proxy). <br>  Now all data is in the application memory.  Let's save them to the server: <br><pre> <code class="javascript hljs">portal.save();</code> </pre><br>  Did you expect something more?  AJAX?  One line we send a request to the server.  Remember that the request type changes: if you create a new object, a POST request will be sent, otherwise there will be a PUT. <br>  I briefly touched the model.  Backbone gives much more opportunities for working with models.  Details can be found in the documentation. <br><br><h5>  Collections </h5><br>  Collections in Backbone is just a collection of models.  By analogy with the collection database, these are the results of database queries containing strings (Models). <br>  Create a collection of games: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GamesCollection = Backbone.Collection.extend({ <span class="hljs-attr"><span class="hljs-attr">model</span></span> : Game });</code> </pre><br>  The first thing to notice is that we determine which models the collection consists of.  We have created a collection of games consisting of models of the game. <br><br>  Now you can work with data.  For example, let's expand the collection by adding a method that defines old games. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GamesCollection = Backbone.Collection.extend({ <span class="hljs-attr"><span class="hljs-attr">model</span></span> : Game, <span class="hljs-attr"><span class="hljs-attr">old</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.filter(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">game</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> game.get(<span class="hljs-string"><span class="hljs-string">'releaseDate'</span></span>) &lt; <span class="hljs-number"><span class="hljs-number">2009</span></span>; }); } });</code> </pre><br>  Simple, isn't it?  We simply check the games that were created before 2009 and return them.  You can also manage the collection directly: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> games = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GamesCollection games.get(<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><br>  The example above creates a new collection and gets a model with ID 0. You can find an element in a certain position through a link to the object's position: <code>games.at(0);</code> <br><br>  And finally, you can dynamically replenish your collection like this: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GamesCollection = Backbone.Collection.extend({ <span class="hljs-attr"><span class="hljs-attr">model</span></span> : Game, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/games'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> games = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GamesCollection games.fetch();</code> </pre><br><br>  We notify Backbone with the help of which url to manage the data.  Next, we simply create a new object and call the <code>fetch</code> method, which leads to an asynchronous request for data from the server and fills the collection. <br><br>  Now you know the basics of the Backbone collections.  As I noted above, there are still tons of useful things that Backbone can do, for example, all Underscore library methods.  Read the documentation before starting the experiments. <br><br><h5>  View </h5><br>  At first glance, the species may seem confusing.  Unlike pure MVC, views in Backbone have some controller functions. <br><br>  The duties of the species include: <br><ul><li>  Listening to DOM events, models and collections. </li><li>  Representation of the application state (view rendering). </li></ul>  Let's create a simple view: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GameView = Backbone.View.extend({ <span class="hljs-attr"><span class="hljs-attr">tagName</span></span>: <span class="hljs-string"><span class="hljs-string">"div"</span></span>, <span class="hljs-attr"><span class="hljs-attr">className</span></span>: <span class="hljs-string"><span class="hljs-string">"game"</span></span>, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    } });</span></span></code> </pre><br>  It's pretty simple.  I simply specify which HTML element should be used for the wrapper view (tagName and className). <br><br>  The following code renders the view: <br><pre> <code class="javascript hljs"> render : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.innerHTML = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.model.get(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   jQuery: $(this.el).html(this.model.get('name')); }</span></span></code> </pre><br>  el refers to the DOM element that represents this view.  We just put the name of the game in the HTML element.  Obviously, using jQuery is a bit easier. <br><br>  In more complex markup, using HTML code inside JavaScript is tedious and pointless.  In these cases it is worth applying templates. <br><br>  Backbone has its own template engine (part of Underscore.JS) but you are free to use any kind of template. <br><br>  Finally, let's see how species listen to events.  First DOM events. <br><pre> <code class="javascript hljs">events: { <span class="hljs-string"><span class="hljs-string">'click .name'</span></span>: <span class="hljs-string"><span class="hljs-string">'handleClick'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">handleClick</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ alert(<span class="hljs-string"><span class="hljs-string">'In the name of science... you monster'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Other actions as necessary }</span></span></code> </pre><br>  Of course, not as familiar as jQuery, but also simple.  We define which events we listen through the Events object.  As can be seen from the code above, the first part refers to the event, and the following defines the function that is associated with the event. <br><br>  Now let's associate our view with the model: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> GameView = Backbone.View.extend({ <span class="hljs-attr"><span class="hljs-attr">initialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">args</span></span></span><span class="hljs-function">) </span></span>{ _.bindAll(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">'changeName'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.model.bind(<span class="hljs-string"><span class="hljs-string">'change:name'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.changeName); } });</code> </pre><br>  The first thing to note is how we place our binding code in the initialize function.  I believe that initialize is the best place to bind events. <br><br>  <code>bindAll</code> is an Underscore method that binds this context to a function.  This is especially useful in events. <br><br>  Now, as soon as the model name is changed, the changeName function is <code>changeName</code> .  You can use other prefixes instead of <code>change:</code> to poll the state of the model. <br><br><h5>  Controller </h5><br>  Controllers allow you to create an application that stores its status in the url hash (hashbangs). <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Hashbangs = Backbone.Controller.extend({ <span class="hljs-attr"><span class="hljs-attr">routes</span></span>: { <span class="hljs-string"><span class="hljs-string">"!/"</span></span>: <span class="hljs-string"><span class="hljs-string">"root"</span></span>, <span class="hljs-string"><span class="hljs-string">"!/games"</span></span>: <span class="hljs-string"><span class="hljs-string">"games"</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">root</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      }, games: function() { //      } });</span></span></code> </pre><br>  This is very similar to routes in traditional server MVC frameworks.  For example <code>!/games</code> will be associated with the function while the URL in the browser will be <code>domain/#!/games</code> . <br><br>  Using <a href="http://habrahabr.ru/blogs/webdev/113842/">hashbangs</a> , you can create web applications that remember their state and <a href="http://code.google.com/intl/ru-RU/web/ajaxcrawling/docs/getting-started.html">can be indexed by Google</a> . <br><br>  If you fear that it will break the Back button, then Backbone can take care of that. <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   var ApplicationController = new Controller; Backbone.history.start();</span></span></code> </pre><br>  Backbone monitors the <code>#hash</code> change and alerts controllers. <br><br>  Now you know the basics of Backbone, try to create a test application. <br><br><h4>  Example: Todo List </h4><br>  This application was created by <a href="http://jgn.me/">J√©r√¥me Gravel-Niquet</a> .  It uses a simple <a href="http://documentcloud.github.com/backbone/docs/backbone-localstorage.html">localStorage adapter</a> to save your data in the browser (I don‚Äôt stop at the adapter, look at its code - everything is extremely simple).  See what happens at the end to better understand the code: <a href="http://documentcloud.github.com/backbone/examples/todos/index.html">Todo List</a> <br><br><h5>  Model Tudu </h5><br>  Our base model describes an element of the list list, which has the attributes <code>content</code> , <code>order</code> and <code>done</code> . <br><pre> <code class="javascript hljs"> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.Todo = Backbone.Model.extend({ <span class="hljs-comment"><span class="hljs-comment">//     ,    //    ,       default EMPTY: "empty todo...", //     `content`,    initialize: function() { if (!this.get("content")) { this.set({"content": this.EMPTY}); } }, //   `done` toggle: function() { this.save({done: !this.get("done")}); }, //   localStorage    clear: function() { this.destroy(); this.view.remove(); } });</span></span></code> </pre><br><br><h5>  Tudu collection </h5><br>  Tudu collection is stored in localStorage <br><pre> <code class="javascript hljs"> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.TodoList = Backbone.Collection.extend({ <span class="hljs-comment"><span class="hljs-comment">//       Todo model: Todo, //      "todos"  localStorage localStorage: new Store("todos"), //     ,   done: function() { return this.filter(function(todo){ return todo.get('done'); }); }, //     ,    remaining: function() { return this.without.apply(this, this.done()); }, //     ,          . //      GUID   .      . nextOrder: function() { if (!this.length) return 1; return this.last().get('order') + 1; }, //        comparator: function(todo) { return todo.get('order'); } }); //     window.Todos = new TodoList;</span></span></code> </pre><br><br><h5>  View - Tudu Element </h5><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">// DOM    window.TodoView = Backbone.View.extend({ //    tagName: "li", //   //      template: _.template($('#item-template').html()), //  DOM,     events: { "click .check" : "toggleDone", "dblclick div.todo-content" : "edit", "click span.todo-destroy" : "clear", "keypress .todo-input" : "updateOnEnter" }, // TodoView      . //     ---,     //    . initialize: function() { _.bindAll(this, 'render', 'close'); this.model.bind('change', this.render); this.model.view = this; }, //   render: function() { $(this.el).html(this.template(this.model.toJSON())); this.setContent(); return this; }, //   XSS   `jQuery.text`     setContent: function() { var content = this.model.get('content'); this.$('.todo-content').text(content); this.input = this.$('.todo-input'); this.input.bind('blur', this.close); this.input.val(content); }, //   "done"   toggleDone: function() { this.model.toggle(); }, //      edit: function() { $(this.el).addClass("editing"); this.input.focus(); }, //   ,   close: function() { this.model.save({content: this.input.val()}); $(this.el).removeClass("editing"); }, //   `enter`,    updateOnEnter: function(e) { if (e.keyCode == 13) this.close(); }, //  DOM  remove: function() { $(this.el).remove(); }, //     clear: function() { this.model.clear(); } });</span></span></code> </pre><br><br><h5>  View - Application </h5><br>  This is the basic view of our application. <br><pre> <code class="javascript hljs"> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.AppView = Backbone.View.extend({ <span class="hljs-comment"><span class="hljs-comment">//  ,        HTML  el: $("#todoapp"), //    //      statsTemplate: _.template($('#stats-template').html()), //       ,   events: { "keypress #new-todo": "createOnEnter", "keyup #new-todo": "showTooltip", "click .todo-clear a": "clearCompleted" }, //        : //  , , .     ,   //   localStorage initialize: function() { _.bindAll(this, 'addOne', 'addAll', 'render'); this.input = this.$("#new-todo"); Todos.bind('add', this.addOne); Todos.bind('refresh', this.addAll); Todos.bind('all', this.render); Todos.fetch(); }, //   -  .   . render: function() { var done = Todos.done().length; this.$('#todo-stats').html(this.statsTemplate({ total: Todos.length, done: Todos.done().length, remaining: Todos.remaining().length })); }, //   .      `&lt;ul&gt;` addOne: function(todo) { var view = new TodoView({model: todo}); this.$("#todo-list").append(view.render().el); }, //    addAll: function() { Todos.each(this.addOne); }, //      newAttributes: function() { return { content: this.input.val(), order: Todos.nextOrder(), done: false }; }, //   return      -   . //            createOnEnter: function(e) { if (e.keyCode != 13) return; Todos.create(this.newAttributes()); this.input.val(''); }, //    ,   . clearCompleted: function() { _.each(Todos.done(), function(todo){ todo.clear(); }); return false; }, //      . showTooltip: function(e) { var tooltip = this.$(".ui-tooltip-top"); var val = this.input.val(); tooltip.fadeOut(); if (this.tooltipTimeout) clearTimeout(this.tooltipTimeout); if (val == '' || val == this.input.attr('placeholder')) return; var show = function(){ tooltip.show().fadeIn(); }; this.tooltipTimeout = _.delay(show, 1000); } }); //  -    window.App = new AppView;</span></span></code> </pre><br>  The original with annotations can be found <a href="http://documentcloud.github.com/backbone/docs/todos.html">here.</a> <br><br><h5>  HTML templates and CSS </h5><br><pre> <code class="html hljs xml"> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"todoapp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"title"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Todos<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"create-todo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"new-todo"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"What needs to be done?"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ui-tooltip-top"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none;"</span></span></span><span class="hljs-tag">&gt;</span></span>Press Enter to save this task<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"todos"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"todo-list"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"todo-stats"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/template"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item-template"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> &lt;div </span><span class="hljs-class"><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span></span><span class="javascript">=</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"todo &lt;%= done ? 'done' : '' %&gt;"</span></span></span><span class="javascript">&gt; </span><span class="xml"><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"display"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml"> </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"check"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> &lt;%= </span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">done</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> ? '</span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">checked</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"checked"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">' </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> '' %&gt;</span></span></span></span><span class="javascript"><span class="xml"> /&gt; </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"todo-content"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml"> </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"todo-destroy"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml"> </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml"> </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"edit"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml"> </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"todo-input"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-string">""</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span></span><span class="javascript"><span class="xml"> </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml"> </span></span><span class="hljs-tag"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="javascript"><span class="xml"> </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/template"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stats-template"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">%</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">total</span></span></span></span><span class="xml"><span class="hljs-tag">) { %&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"todo-count"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"number"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">remaining</span></span></span></span><span class="xml"><span class="hljs-tag"> %&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"word"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">remaining</span></span></span></span><span class="xml"><span class="hljs-tag"> == </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1</span></span></span></span><span class="xml"><span class="hljs-tag"> ? '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">item</span></span></span></span><span class="xml"><span class="hljs-tag">' </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">items</span></span></span></span><span class="xml"><span class="hljs-tag">' %&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> left. </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">%</span></span></span></span><span class="xml"><span class="hljs-tag"> } %&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">%</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">done</span></span></span></span><span class="xml"><span class="hljs-tag">) { %&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"todo-clear"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Clear </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"number-done"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">done</span></span></span></span><span class="xml"><span class="hljs-tag"> %&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> completed </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"word-done"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">done</span></span></span></span><span class="xml"><span class="hljs-tag"> == </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1</span></span></span></span><span class="xml"><span class="hljs-tag"> ? '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">item</span></span></span></span><span class="xml"><span class="hljs-tag">' </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">items</span></span></span></span><span class="xml"><span class="hljs-tag">' %&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">%</span></span></span></span><span class="xml"><span class="hljs-tag"> } %&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  CSS is not attached, <a href="">it is very long</a> and completely off topic. <br><br>  Everything, our test application is ready, the result can be found <a href="http://documentcloud.github.com/backbone/examples/todos/index.html">here</a> . <br><br><h4>  What is useful you can learn from Backbone </h4><br>  Here are a few lessons you can learn from the Backbone application architecture: <br><ul><li>  We really need MVC for the interface.  Traditional methods create code that is very much tied to itself, it is dirty and difficult to maintain. </li><li>  Storing data and status in the DOM is a bad idea.  This is especially acute if you are creating an application that needs the various parts of the application to be updated using the same data. </li><li>  Thick models and thin controllers are good.  The development process is greatly simplified when business logic is driven by models. </li><li>  Templates are very important.  By adding HTML inside your javascript you get bad karma. </li></ul>  Suffice it to say that Backbone is changing the way that interfaces are created, at least for me.  If you have questions - ask. <br><br><h4>  Sources that have been used in writing </h4><br>  <a href="http://thinkvitamin.com/code/create-javascript-apps-with-backbone-js/">Create JavaScript Apps with Backbone.js</a> (Jim Hoskins) <br>  <a href="http://net.tutsplus.com/tutorials/javascript-ajax/getting-started-with-backbone-js/">Getting Started with Backbone.js</a> (Siddharth) <br>  <a href="http://documentcloud.github.com/backbone/docs/backbone-localstorage.html">Backbone-locaLstorage adapter</a> <br>  <a href="http://documentcloud.github.com/backbone/examples/todos/index.html">Todos Example</a> (J√©r√¥me Gravel Niquet) <br>  <a href="http://documentcloud.github.com/backbone/docs/todos.html">Source Todos.js</a> with annotations <br><br><h4>  What else to read </h4><br>  <a href="http://documentcloud.github.com/backbone/">Backbone</a> GitHub Documentation <br>  <a href="http://documentcloud.github.com/underscore/">Underscore</a> Documentation on GitHub <br>  <a href="http://dailyjs.com/2011/04/04/node-tutorial-19/">Node Tutorial Part 19: Backbone.js</a> (Alex Young) <br>  <a href="http://habrahabr.ru/blogs/javascript/115822/">Creating a large Javascript application</a> (original Addy Osmani, translated by <a href="https://habrahabr.ru/users/trurl123/" class="user_link">trurl123</a> ) </div><p>Source: <a href="https://habr.com/ru/post/118782/">https://habr.com/ru/post/118782/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118775/index.html">The future of three-dimensional interfaces. Navigation</a></li>
<li><a href="../118777/index.html">The insides of the new iMac</a></li>
<li><a href="../118778/index.html">Using Google Analytics in email newsletters</a></li>
<li><a href="../118780/index.html">Hypothetical development courses. For everyone, for everything and everything</a></li>
<li><a href="../118781/index.html">Press releases distribution: sharing experience on the example of Wordrive and prMac</a></li>
<li><a href="../118783/index.html">Morphia - easy annotations ORM for MongoDB</a></li>
<li><a href="../118784/index.html">kedDroid - S03E01. Video review software for Android</a></li>
<li><a href="../118786/index.html">Online Trading: Value vs. Price</a></li>
<li><a href="../118788/index.html">LastPass may have been hacked</a></li>
<li><a href="../118790/index.html">Satellites-microchips (‚Äústar dust‚Äù) will go into orbit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>